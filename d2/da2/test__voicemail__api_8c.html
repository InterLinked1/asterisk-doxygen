<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: test_voicemail_api.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_59425e443f801f1f2fd8bbe4959a3ccf.html">tests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">test_voicemail_api.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Skeleton Test.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/ddc/test_8h_source.html">asterisk/test.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/df2/paths_8h_source.html">asterisk/paths.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d1c/format__cache_8h_source.html">asterisk/format_cache.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test_voicemail_api.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/df4/test__voicemail__api_8c__incl.png" border="0" usemap="#test__voicemail__api_8c" alt=""/></div>
<map name="test__voicemail__api_8c" id="test__voicemail__api_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="221,229,305,256"/>
<area shape="rect" id="node18" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="2426,229,2540,256"/>
<area shape="rect" id="node29" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="2686,80,2822,107"/>
<area shape="rect" id="node30" href="../../d2/ddc/test_8h.html" title="Test Framework API. " alt="" coords="1765,155,1878,181"/>
<area shape="rect" id="node32" href="../../dd/df2/paths_8h.html" title="Asterisk file paths, configured in asterisk.conf. " alt="" coords="2401,80,2525,107"/>
<area shape="rect" id="node33" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1060,80,1199,107"/>
<area shape="rect" id="node48" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="2550,80,2662,107"/>
<area shape="rect" id="node50" href="../../db/d1c/format__cache_8h.html" title="Media Format Cache API. " alt="" coords="2846,80,3022,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="590,677,744,704"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="497,453,634,480"/>
<area shape="rect" id="node16" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="326,304,461,331"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="594,752,740,779"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="524,603,666,629"/>
<area shape="rect" id="node19" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="2128,304,2267,331"/>
<area shape="rect" id="node20" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1202,603,1265,629"/>
<area shape="rect" id="node21" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1177,528,1290,555"/>
<area shape="rect" id="node22" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1901,603,2028,629"/>
<area shape="rect" id="node23" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="2291,304,2438,331"/>
<area shape="rect" id="node24" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1896,304,2054,331"/>
<area shape="rect" id="node25" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1742,304,1872,331"/>
<area shape="rect" id="node26" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="2360,379,2539,405"/>
<area shape="rect" id="node27" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="648,379,782,405"/>
<area shape="rect" id="node28" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1150,453,1301,480"/>
<area shape="rect" id="node31" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="1691,229,1792,256"/>
<area shape="rect" id="node34" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1954,155,2098,181"/>
<area shape="rect" id="node35" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="1342,155,1501,181"/>
<area shape="rect" id="node36" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1525,155,1689,181"/>
<area shape="rect" id="node37" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1281,229,1408,256"/>
<area shape="rect" id="node38" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="858,379,1004,405"/>
<area shape="rect" id="node39" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="2122,155,2249,181"/>
<area shape="rect" id="node40" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="275,155,382,181"/>
<area shape="rect" id="node41" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1029,379,1180,405"/>
<area shape="rect" id="node42" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="546,155,708,181"/>
<area shape="rect" id="node43" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="30,155,200,181"/>
<area shape="rect" id="node44" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="406,155,522,181"/>
<area shape="rect" id="node45" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1110,155,1267,181"/>
<area shape="rect" id="node46" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="2476,155,2602,181"/>
<area shape="rect" id="node47" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="732,155,882,181"/>
<area shape="rect" id="node49" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="2626,155,2732,181"/>
</map>
</div>
</div>
<p><a href="../../d2/da2/test__voicemail__api_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a11b584a84403848521141ab5001c90d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a11b584a84403848521141ab5001c90d8">TOTAL_SNAPSHOTS</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a11b584a84403848521141ab5001c90d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd0596b9188edb54606f3ea4e746df21"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#acd0596b9188edb54606f3ea4e746df21">VM_API_FORWARD_MESSAGE</a>(from_mailbox,  from_context,  from_folder,  to_mailbox,  to_context,  to_folder,  number_of_messages,  message_numbers_in,  delete_old)</td></tr>
<tr class="separator:acd0596b9188edb54606f3ea4e746df21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6163857fd220a98d3f15b0a0ad647837"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(from_mailbox,  from_context,  from_folder,  to_mailbox,  to_context,  to_folder,  number_of_messages,  message_numbers_in,  delete_old)</td></tr>
<tr class="separator:a6163857fd220a98d3f15b0a0ad647837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a6c0c2ca0dc986c249053ee0ba9a92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(expected,  actual)</td></tr>
<tr class="separator:a03a6c0c2ca0dc986c249053ee0ba9a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e528f34c2621a9148b0e93060a79b5a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a8e528f34c2621a9148b0e93060a79b5a">VM_API_MOVE_MESSAGE</a>(<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>,  <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>,  number_of_messages,  source,  message_numbers_in,  dest)</td></tr>
<tr class="separator:a8e528f34c2621a9148b0e93060a79b5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a236e0127ece04dc55211be84423f2214"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>,  <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>,  number_of_messages,  source,  message_numbers_in,  dest)</td></tr>
<tr class="separator:a236e0127ece04dc55211be84423f2214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac12df89d63515372591d7bdba8d63b92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ac12df89d63515372591d7bdba8d63b92">VM_API_PLAYBACK_MESSAGE</a>(<a class="el" href="../../d4/d84/structchannel.html">channel</a>,  <a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>,  <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>,  folder,  <a class="el" href="../../d8/d9e/structmessage.html">message</a>,  callback_fn)</td></tr>
<tr class="separator:ac12df89d63515372591d7bdba8d63b92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9805c3050425a179ec1818e8214159da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a9805c3050425a179ec1818e8214159da">VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL</a>(<a class="el" href="../../d4/d84/structchannel.html">channel</a>,  <a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>,  <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>,  folder,  <a class="el" href="../../d8/d9e/structmessage.html">message</a>,  callback_fn)</td></tr>
<tr class="separator:a9805c3050425a179ec1818e8214159da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee402a6e63379fd0660e5fc939a876f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#aee402a6e63379fd0660e5fc939a876f3">VM_API_REMOVE_MESSAGE</a>(<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>,  <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>,  number_of_messages,  folder,  message_numbers_in)</td></tr>
<tr class="separator:aee402a6e63379fd0660e5fc939a876f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ff984ee56c5c4a2bbff790837437c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#aa0ff984ee56c5c4a2bbff790837437c2">VM_API_REMOVE_MESSAGE_OFF_NOMINAL</a>(<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>,  <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>,  number_of_messages,  folder,  message_numbers_in)</td></tr>
<tr class="separator:aa0ff984ee56c5c4a2bbff790837437c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a533e3d268a92b09989c84e49efcd9c04"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>,  <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>,  folder,  <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#a787f82faccb7c1f40a2539a14855601b">desc</a>,  sort,  old_and_inbox)</td></tr>
<tr class="separator:a533e3d268a92b09989c84e49efcd9c04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03f048c68c3643a60a46397bcc3801db"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(expected,  actual,  expected_folder,  expected_index)</td></tr>
<tr class="separator:a03f048c68c3643a60a46397bcc3801db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2f767217c1bec1cafd2905c2a40e35a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ae2f767217c1bec1cafd2905c2a40e35a">VM_API_SNAPSHOT_OFF_NOMINAL_TEST</a>(<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>,  <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>,  folder,  <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#a787f82faccb7c1f40a2539a14855601b">desc</a>,  sort,  old_and_inbox)</td></tr>
<tr class="separator:ae2f767217c1bec1cafd2905c2a40e35a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190548e8cea4c07b6b9aca5c6ecd5718"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a190548e8cea4c07b6b9aca5c6ecd5718">VM_API_SNAPSHOT_TEST_CLEANUP</a></td></tr>
<tr class="separator:a190548e8cea4c07b6b9aca5c6ecd5718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00dec81683a63a225c3b8f5443826b34"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a00dec81683a63a225c3b8f5443826b34">VM_API_STRING_FIELD_VERIFY</a>(expected,  actual)</td></tr>
<tr class="separator:a00dec81683a63a225c3b8f5443826b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ebd2431269e35f70c8b7ba2accf92f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>&#160;&#160;&#160;<a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a42bcded5d05a803b703f5fe7b1fd2571">test_vm_api_test_teardown</a>()</td></tr>
<tr class="separator:a69ebd2431269e35f70c8b7ba2accf92f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae174923d9d4c55393d5ba4ab9620e4a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a></td></tr>
<tr class="separator:ae174923d9d4c55393d5ba4ab9620e4a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158fef5d62bdc9b70bcf52e13c6a76c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a158fef5d62bdc9b70bcf52e13c6a76c1">VOICEMAIL_DIR_MODE</a>&#160;&#160;&#160;0777</td></tr>
<tr class="separator:a158fef5d62bdc9b70bcf52e13c6a76c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a947388a2ca648ab06fc5c510524d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ad7a947388a2ca648ab06fc5c510524d4">VOICEMAIL_FILE_MODE</a>&#160;&#160;&#160;0666</td></tr>
<tr class="separator:ad7a947388a2ca648ab06fc5c510524d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4f0a14f86be7f6266512709f295d8df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ad4f0a14f86be7f6266512709f295d8df">AST_TEST_DEFINE</a> (voicemail_api_nominal_snapshot)</td></tr>
<tr class="separator:ad4f0a14f86be7f6266512709f295d8df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6e4c6d1a0fc316ad43c21c4f96a4f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a1f6e4c6d1a0fc316ad43c21c4f96a4f4">AST_TEST_DEFINE</a> (voicemail_api_off_nominal_snapshot)</td></tr>
<tr class="separator:a1f6e4c6d1a0fc316ad43c21c4f96a4f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb6d074a9708945da8dd960e2da6ba79"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#aeb6d074a9708945da8dd960e2da6ba79">AST_TEST_DEFINE</a> (voicemail_api_nominal_move)</td></tr>
<tr class="separator:aeb6d074a9708945da8dd960e2da6ba79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9477e7022daf120e31b8900dd5ab5aaf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a9477e7022daf120e31b8900dd5ab5aaf">AST_TEST_DEFINE</a> (voicemail_api_off_nominal_move)</td></tr>
<tr class="separator:a9477e7022daf120e31b8900dd5ab5aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc7f26fe6fc728904f4a4775838c017"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a4cc7f26fe6fc728904f4a4775838c017">AST_TEST_DEFINE</a> (voicemail_api_nominal_remove)</td></tr>
<tr class="separator:a4cc7f26fe6fc728904f4a4775838c017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1625b91d7351a85b0847358c376af4b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a1625b91d7351a85b0847358c376af4b8">AST_TEST_DEFINE</a> (voicemail_api_off_nominal_remove)</td></tr>
<tr class="separator:a1625b91d7351a85b0847358c376af4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2857754f9bd081666046c3c68aec314"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#aa2857754f9bd081666046c3c68aec314">AST_TEST_DEFINE</a> (voicemail_api_nominal_forward)</td></tr>
<tr class="separator:aa2857754f9bd081666046c3c68aec314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28fcd7cf2264806ed6e2126db5a3084c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a28fcd7cf2264806ed6e2126db5a3084c">AST_TEST_DEFINE</a> (voicemail_api_off_nominal_forward)</td></tr>
<tr class="separator:a28fcd7cf2264806ed6e2126db5a3084c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8fa92e6eb385c734ca9cf770cb2ba0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a9c8fa92e6eb385c734ca9cf770cb2ba0">AST_TEST_DEFINE</a> (voicemail_api_nominal_msg_playback)</td></tr>
<tr class="separator:a9c8fa92e6eb385c734ca9cf770cb2ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a2b8a299a1f85888dc4508f51b891f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a61a2b8a299a1f85888dc4508f51b891f">AST_TEST_DEFINE</a> (voicemail_api_off_nominal_msg_playback)</td></tr>
<tr class="separator:a61a2b8a299a1f85888dc4508f51b891f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e9bac974030766dece0a34ece084ca"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ad7e9bac974030766dece0a34ece084ca">get_folder_by_name</a> (const char *folder)</td></tr>
<tr class="separator:ad7e9bac974030766dece0a34ece084ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa626a3189c67d5927499237e0c08dabc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#aa626a3189c67d5927499237e0c08dabc">message_playback_callback_fn</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *file, int duration)</td></tr>
<tr class="separator:aa626a3189c67d5927499237e0c08dabc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1939b1fd32ba45edae34361a83261ae"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ae1939b1fd32ba45edae34361a83261ae">test_vm_api_create_mock_channel</a> (void)</td></tr>
<tr class="separator:ae1939b1fd32ba45edae34361a83261ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f01fcf321fec94bab7859f812d799b7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a5f01fcf321fec94bab7859f812d799b7">test_vm_api_create_mock_snapshot</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, const char *callerid)</td></tr>
<tr class="separator:a5f01fcf321fec94bab7859f812d799b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad56c808922a9bdd3ccb7362cff780ee0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ad56c808922a9bdd3ccb7362cff780ee0">test_vm_api_create_voicemail_files</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, struct <a class="el" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *snapshot)</td></tr>
<tr class="separator:ad56c808922a9bdd3ccb7362cff780ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb019fa08cece5186be64aec665d4f5a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#aeb019fa08cece5186be64aec665d4f5a">test_vm_api_create_voicemail_folder</a> (const char *folder_path)</td></tr>
<tr class="separator:aeb019fa08cece5186be64aec665d4f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f10a334a6bc66283db3a59270f33cf5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a1f10a334a6bc66283db3a59270f33cf5">test_vm_api_destroy_mailbox_voicemails</a> (const char *<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, struct <a class="el" href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a> *mailbox_snapshot)</td></tr>
<tr class="separator:a1f10a334a6bc66283db3a59270f33cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48bc05e0c43cb005580c158957f40448"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a> (struct <a class="el" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *snapshot)</td></tr>
<tr class="separator:a48bc05e0c43cb005580c158957f40448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a007b93673ee69eb35ce5eaac46e976e3"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a007b93673ee69eb35ce5eaac46e976e3">test_vm_api_mock_channel_read</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a007b93673ee69eb35ce5eaac46e976e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e37838db4f9d44e8aa368480f0d2733"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a1e37838db4f9d44e8aa368480f0d2733">test_vm_api_mock_channel_write</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame)</td></tr>
<tr class="separator:a1e37838db4f9d44e8aa368480f0d2733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ebecaf4f415ba5824d09824452d876b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a6ebecaf4f415ba5824d09824452d876b">test_vm_api_remove_all_messages</a> (void)</td></tr>
<tr class="separator:a6ebecaf4f415ba5824d09824452d876b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa022941600c33c8da8ac0685fb584c38"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#aa022941600c33c8da8ac0685fb584c38">test_vm_api_remove_voicemail</a> (struct <a class="el" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *snapshot)</td></tr>
<tr class="separator:aa022941600c33c8da8ac0685fb584c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a211f96b043f8412b8255edd921831ab1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a211f96b043f8412b8255edd921831ab1">test_vm_api_test_setup</a> (void)</td></tr>
<tr class="separator:a211f96b043f8412b8255edd921831ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42bcded5d05a803b703f5fe7b1fd2571"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a42bcded5d05a803b703f5fe7b1fd2571">test_vm_api_test_teardown</a> (void)</td></tr>
<tr class="separator:a42bcded5d05a803b703f5fe7b1fd2571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed8664c0674d2f111ae0b3028725781d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#aed8664c0674d2f111ae0b3028725781d">test_vm_api_update_test_snapshots</a> (struct <a class="el" href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a> *mailbox_snapshot)</td></tr>
<tr class="separator:aed8664c0674d2f111ae0b3028725781d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Core Voicemail API Tests&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .load_pri = <a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9ba902d68207f238e90dd03a54b5183"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ac9ba902d68207f238e90dd03a54b5183">global_entered_playback_callback</a> = 0</td></tr>
<tr class="separator:ac9ba902d68207f238e90dd03a54b5183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed86dceeb81c5f7d7d9ed8435651d0b1"><td class="memItemLeft" align="right" valign="top">static const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#aed86dceeb81c5f7d7d9ed8435651d0b1">mailbox_folders</a> []</td></tr>
<tr class="separator:aed86dceeb81c5f7d7d9ed8435651d0b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8316faec3a8eea202184777948b50bb"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d4/d85/structast__channel__tech.html">ast_channel_tech</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#ab8316faec3a8eea202184777948b50bb">mock_channel_tech</a></td></tr>
<tr class="separator:ab8316faec3a8eea202184777948b50bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45221ff4e9858d612eaa6a26b4f360c8"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a> [<a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a11b584a84403848521141ab5001c90d8">TOTAL_SNAPSHOTS</a>]</td></tr>
<tr class="separator:a45221ff4e9858d612eaa6a26b4f360c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Skeleton Test. </p>
<dl class="section author"><dt>Author</dt><dd><pre class="fragment">Matt Jordan &lt;mjordan@digium.com&gt; </pre></dd></dl>
<p>Tests for the publicly exposed Voicemail API </p>

<p class="definition">Definition in file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a11b584a84403848521141ab5001c90d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11b584a84403848521141ab5001c90d8">&#9670;&nbsp;</a></span>TOTAL_SNAPSHOTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOTAL_SNAPSHOTS&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00066">66</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00626">test_vm_api_test_setup()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00716">test_vm_api_test_teardown()</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00740">test_vm_api_update_test_snapshots()</a>.</p>

</div>
</div>
<a id="acd0596b9188edb54606f3ea4e746df21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd0596b9188edb54606f3ea4e746df21">&#9670;&nbsp;</a></span>VM_API_FORWARD_MESSAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_FORWARD_MESSAGE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">from_mailbox, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">from_context, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">from_folder, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">to_mailbox, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">to_context, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">to_folder, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">number_of_messages, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">message_numbers_in, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">delete_old&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00263">263</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01220">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a6163857fd220a98d3f15b0a0ad647837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6163857fd220a98d3f15b0a0ad647837">&#9670;&nbsp;</a></span>VM_API_FORWARD_MESSAGE_OFF_NOMINAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_FORWARD_MESSAGE_OFF_NOMINAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">from_mailbox, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">from_context, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">from_folder, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">to_mailbox, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">to_context, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">to_folder, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">number_of_messages, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">message_numbers_in, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">delete_old&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00276">276</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01328">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a03a6c0c2ca0dc986c249053ee0ba9a92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03a6c0c2ca0dc986c249053ee0ba9a92">&#9670;&nbsp;</a></span>VM_API_INT_VERIFY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_INT_VERIFY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">actual&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00129">129</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00840">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a8e528f34c2621a9148b0e93060a79b5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e528f34c2621a9148b0e93060a79b5a">&#9670;&nbsp;</a></span>VM_API_MOVE_MESSAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_MOVE_MESSAGE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">number_of_messages, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">source, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">message_numbers_in, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dest&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00211">211</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00966">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a236e0127ece04dc55211be84423f2214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a236e0127ece04dc55211be84423f2214">&#9670;&nbsp;</a></span>VM_API_MOVE_MESSAGE_OFF_NOMINAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_MOVE_MESSAGE_OFF_NOMINAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">number_of_messages, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">source, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">message_numbers_in, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dest&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00223">223</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01037">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="ac12df89d63515372591d7bdba8d63b92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac12df89d63515372591d7bdba8d63b92">&#9670;&nbsp;</a></span>VM_API_PLAYBACK_MESSAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_PLAYBACK_MESSAGE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d4/d84/structchannel.html">channel</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">folder, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d8/d9e/structmessage.html">message</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">callback_fn&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00292">292</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01413">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a9805c3050425a179ec1818e8214159da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9805c3050425a179ec1818e8214159da">&#9670;&nbsp;</a></span>VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d4/d84/structchannel.html">channel</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">folder, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d8/d9e/structmessage.html">message</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">callback_fn&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00307">307</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01472">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="aee402a6e63379fd0660e5fc939a876f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee402a6e63379fd0660e5fc939a876f3">&#9670;&nbsp;</a></span>VM_API_REMOVE_MESSAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_REMOVE_MESSAGE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">number_of_messages, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">folder, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">message_numbers_in&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00235">235</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01113">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="aa0ff984ee56c5c4a2bbff790837437c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0ff984ee56c5c4a2bbff790837437c2">&#9670;&nbsp;</a></span>VM_API_REMOVE_MESSAGE_OFF_NOMINAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_REMOVE_MESSAGE_OFF_NOMINAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">number_of_messages, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">folder, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">message_numbers_in&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00251">251</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01155">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a533e3d268a92b09989c84e49efcd9c04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a533e3d268a92b09989c84e49efcd9c04">&#9670;&nbsp;</a></span>VM_API_SNAPSHOT_CREATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_SNAPSHOT_CREATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">folder, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#a787f82faccb7c1f40a2539a14855601b">desc</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sort, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">old_and_inbox&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00183">183</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00840">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a03f048c68c3643a60a46397bcc3801db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03f048c68c3643a60a46397bcc3801db">&#9670;&nbsp;</a></span>VM_API_SNAPSHOT_MSG_VERIFY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_SNAPSHOT_MSG_VERIFY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">actual, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected_folder, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected_index&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00143">143</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00840">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="ae2f767217c1bec1cafd2905c2a40e35a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2f767217c1bec1cafd2905c2a40e35a">&#9670;&nbsp;</a></span>VM_API_SNAPSHOT_OFF_NOMINAL_TEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_SNAPSHOT_OFF_NOMINAL_TEST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">folder, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#a787f82faccb7c1f40a2539a14855601b">desc</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sort, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">old_and_inbox&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00198">198</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00924">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a190548e8cea4c07b6b9aca5c6ecd5718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a190548e8cea4c07b6b9aca5c6ecd5718">&#9670;&nbsp;</a></span>VM_API_SNAPSHOT_TEST_CLEANUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_SNAPSHOT_TEST_CLEANUP</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">if</span> (test_mbox_snapshot) { \</div><div class="line">         test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot); \</div><div class="line">      } \</div><div class="line">      VM_API_TEST_CLEANUP; \</div><div class="ttc" id="include_2asterisk_2app_8h_html_a632bfa316101ce8087f60f59ff909294"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a></div><div class="ttdeci">struct ast_vm_mailbox_snapshot * ast_vm_mailbox_snapshot_destroy(struct ast_vm_mailbox_snapshot *mailbox_snapshot)</div><div class="ttdoc">destroy a snapshot </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00748">main/app.c:748</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00103">103</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

</div>
</div>
<a id="a00dec81683a63a225c3b8f5443826b34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00dec81683a63a225c3b8f5443826b34">&#9670;&nbsp;</a></span>VM_API_STRING_FIELD_VERIFY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_STRING_FIELD_VERIFY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">actual&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00116">116</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00966">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a69ebd2431269e35f70c8b7ba2accf92f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69ebd2431269e35f70c8b7ba2accf92f">&#9670;&nbsp;</a></span>VM_API_TEST_CLEANUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_TEST_CLEANUP&#160;&#160;&#160;<a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a42bcded5d05a803b703f5fe7b1fd2571">test_vm_api_test_teardown</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">95</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00840">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="ae174923d9d4c55393d5ba4ab9620e4a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae174923d9d4c55393d5ba4ab9620e4a2">&#9670;&nbsp;</a></span>VM_API_TEST_SETUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VM_API_TEST_SETUP</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">73</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00840">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a158fef5d62bdc9b70bcf52e13c6a76c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a158fef5d62bdc9b70bcf52e13c6a76c1">&#9670;&nbsp;</a></span>VOICEMAIL_DIR_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOICEMAIL_DIR_MODE&#160;&#160;&#160;0777</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00052">52</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00419">test_vm_api_create_voicemail_folder()</a>.</p>

</div>
</div>
<a id="ad7a947388a2ca648ab06fc5c510524d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a947388a2ca648ab06fc5c510524d4">&#9670;&nbsp;</a></span>VOICEMAIL_FILE_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOICEMAIL_FILE_MODE&#160;&#160;&#160;0666</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00060">60</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00445">test_vm_api_create_voicemail_files()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01579">1579</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01579">1579</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01579">1579</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

</div>
</div>
<a id="ad4f0a14f86be7f6266512709f295d8df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4f0a14f86be7f6266512709f295d8df">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[1/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">voicemail_api_nominal_snapshot&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00840">840</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00748">ast_vm_mailbox_snapshot_destroy()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00296">AST_VM_SNAPSHOT_SORT_BY_ID</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00297">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00318">ast_vm_mailbox_snapshot::total_msg_num</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00129">VM_API_INT_VERIFY</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00183">VM_API_SNAPSHOT_CREATE</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00143">VM_API_SNAPSHOT_MSG_VERIFY</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">VM_API_TEST_CLEANUP</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">VM_API_TEST_SETUP</a>.</p>
<div class="fragment"><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;{</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a> *test_mbox_snapshot = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;nominal_snapshot&quot;</span>;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/voicemail_api/&quot;</span>;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Nominal mailbox snapshot tests&quot;</span>;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;         <span class="stringliteral">&quot;Test retrieving mailbox snapshots&quot;</span>;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   }</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test retrieving message 1 from INBOX of test_vm_1234\n&quot;</span>);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(1, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1], test_mbox_snapshot, <span class="stringliteral">&quot;INBOX&quot;</span>, 0);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test retrieving message 0 from Old of test_vm_1234\n&quot;</span>);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;Old&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(1, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0], test_mbox_snapshot, <span class="stringliteral">&quot;Old&quot;</span>, 0);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test retrieving message 0, 1 from Old and INBOX of test_vm_1234 ordered by time\n&quot;</span>);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 1);</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(2, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0], test_mbox_snapshot, <span class="stringliteral">&quot;INBOX&quot;</span>, 0);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1], test_mbox_snapshot, <span class="stringliteral">&quot;INBOX&quot;</span>, 1);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test retrieving message 1, 0 from Old and INBOX of test_vm_1234 ordered by time desc\n&quot;</span>);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 1);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(2, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1], test_mbox_snapshot, <span class="stringliteral">&quot;INBOX&quot;</span>, 0);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0], test_mbox_snapshot, <span class="stringliteral">&quot;INBOX&quot;</span>, 1);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test retrieving message 0, 1 from Old and INBOX of test_vm_1234 ordered by id\n&quot;</span>);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491a564e6105590992ed518ac4dccbdc483b">AST_VM_SNAPSHOT_SORT_BY_ID</a>, 1);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(2, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1], test_mbox_snapshot, <span class="stringliteral">&quot;INBOX&quot;</span>, 0);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0], test_mbox_snapshot, <span class="stringliteral">&quot;INBOX&quot;</span>, 1);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test retrieving message 1, 0 from Old and INBOX of test_vm_1234 ordered by id desc\n&quot;</span>);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491a564e6105590992ed518ac4dccbdc483b">AST_VM_SNAPSHOT_SORT_BY_ID</a>, 1);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(2, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0], test_mbox_snapshot, <span class="stringliteral">&quot;INBOX&quot;</span>, 0);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1], test_mbox_snapshot, <span class="stringliteral">&quot;INBOX&quot;</span>, 1);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test retrieving message 0, 1 from all folders of test_vm_1234 ordered by id\n&quot;</span>);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491a564e6105590992ed518ac4dccbdc483b">AST_VM_SNAPSHOT_SORT_BY_ID</a>, 0);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(2, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0], test_mbox_snapshot, <span class="stringliteral">&quot;Old&quot;</span>, 0);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1], test_mbox_snapshot, <span class="stringliteral">&quot;INBOX&quot;</span>, 0);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test retrieving message 0, 1 from all folders of test_vm_1234 ordered by time\n&quot;</span>);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(2, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0], test_mbox_snapshot, <span class="stringliteral">&quot;Old&quot;</span>, 0);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1], test_mbox_snapshot, <span class="stringliteral">&quot;INBOX&quot;</span>, 0);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test retrieving message 0, 1 from all folders of test_vm_1234, default context ordered by time\n&quot;</span>);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(2, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0], test_mbox_snapshot, <span class="stringliteral">&quot;Old&quot;</span>, 0);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1], test_mbox_snapshot, <span class="stringliteral">&quot;INBOX&quot;</span>, 0);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;}</div><div class="ttc" id="test__voicemail__api_8c_html_a69ebd2431269e35f70c8b7ba2accf92f"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a></div><div class="ttdeci">#define VM_API_TEST_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">test_voicemail_api.c:95</a></div></div>
<div class="ttc" id="structast__vm__mailbox__snapshot_html_adf7744e2e72a9785679d9d326009e952"><div class="ttname"><a href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">ast_vm_mailbox_snapshot::total_msg_num</a></div><div class="ttdeci">int total_msg_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00318">include/asterisk/app.h:318</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00297">include/asterisk/app.h:297</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a03a6c0c2ca0dc986c249053ee0ba9a92"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a></div><div class="ttdeci">#define VM_API_INT_VERIFY(expected, actual)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00129">test_voicemail_api.c:129</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae174923d9d4c55393d5ba4ab9620e4a2"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a></div><div class="ttdeci">#define VM_API_TEST_SETUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">test_voicemail_api.c:73</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a632bfa316101ce8087f60f59ff909294"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a></div><div class="ttdeci">struct ast_vm_mailbox_snapshot * ast_vm_mailbox_snapshot_destroy(struct ast_vm_mailbox_snapshot *mailbox_snapshot)</div><div class="ttdoc">destroy a snapshot </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00748">main/app.c:748</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a03f048c68c3643a60a46397bcc3801db"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a03f048c68c3643a60a46397bcc3801db">VM_API_SNAPSHOT_MSG_VERIFY</a></div><div class="ttdeci">#define VM_API_SNAPSHOT_MSG_VERIFY(expected, actual, expected_folder, expected_index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00143">test_voicemail_api.c:143</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a45221ff4e9858d612eaa6a26b4f360c8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_snapshots[TOTAL_SNAPSHOTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">test_voicemail_api.c:341</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a533e3d268a92b09989c84e49efcd9c04"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a></div><div class="ttdeci">#define VM_API_SNAPSHOT_CREATE(mailbox, context, folder, desc, sort, old_and_inbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00183">test_voicemail_api.c:183</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="structast__vm__mailbox__snapshot_html"><div class="ttname"><a href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00317">include/asterisk/app.h:317</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a67fca777538364c249bf1b66b2a22491a564e6105590992ed518ac4dccbdc483b"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491a564e6105590992ed518ac4dccbdc483b">AST_VM_SNAPSHOT_SORT_BY_ID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00296">include/asterisk/app.h:296</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f6e4c6d1a0fc316ad43c21c4f96a4f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f6e4c6d1a0fc316ad43c21c4f96a4f4">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[2/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">voicemail_api_off_nominal_snapshot&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00924">924</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00297">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00198">VM_API_SNAPSHOT_OFF_NOMINAL_TEST</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">VM_API_TEST_CLEANUP</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">VM_API_TEST_SETUP</a>.</p>
<div class="fragment"><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;{</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a> *test_mbox_snapshot = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;off_nominal_snapshot&quot;</span>;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/voicemail_api/&quot;</span>;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Off nominal mailbox snapshot tests&quot;</span>;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;         <span class="stringliteral">&quot;Test off nominal requests for mailbox snapshots.  This includes&quot;</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;         <span class="stringliteral">&quot; testing the following:\n&quot;</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;         <span class="stringliteral">&quot; * Access to non-exisstent mailbox\n&quot;</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;         <span class="stringliteral">&quot; * Access to NULL mailbox\n&quot;</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;         <span class="stringliteral">&quot; * Access to non-existent context\n&quot;</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;         <span class="stringliteral">&quot; * Access to non-existent folder\n&quot;</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;         <span class="stringliteral">&quot; * Access to NULL folder\n&quot;</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;         <span class="stringliteral">&quot; * Invalid sort identifier&quot;</span>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;   }</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a>;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test access to non-existent mailbox test_vm_api_3456\n&quot;</span>);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae2f767217c1bec1cafd2905c2a40e35a">VM_API_SNAPSHOT_OFF_NOMINAL_TEST</a>(<span class="stringliteral">&quot;test_vm_api_3456&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test access to null mailbox\n&quot;</span>);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae2f767217c1bec1cafd2905c2a40e35a">VM_API_SNAPSHOT_OFF_NOMINAL_TEST</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test access non-existent context test_vm_api_defunct\n&quot;</span>);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae2f767217c1bec1cafd2905c2a40e35a">VM_API_SNAPSHOT_OFF_NOMINAL_TEST</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;test_vm_api_defunct&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test non-existent folder test_vm_api_platypus\n&quot;</span>);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae2f767217c1bec1cafd2905c2a40e35a">VM_API_SNAPSHOT_OFF_NOMINAL_TEST</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;test_vm_api_platypus&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;}</div><div class="ttc" id="test__voicemail__api_8c_html_a69ebd2431269e35f70c8b7ba2accf92f"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a></div><div class="ttdeci">#define VM_API_TEST_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">test_voicemail_api.c:95</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae2f767217c1bec1cafd2905c2a40e35a"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae2f767217c1bec1cafd2905c2a40e35a">VM_API_SNAPSHOT_OFF_NOMINAL_TEST</a></div><div class="ttdeci">#define VM_API_SNAPSHOT_OFF_NOMINAL_TEST(mailbox, context, folder, desc, sort, old_and_inbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00198">test_voicemail_api.c:198</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00297">include/asterisk/app.h:297</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae174923d9d4c55393d5ba4ab9620e4a2"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a></div><div class="ttdeci">#define VM_API_TEST_SETUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">test_voicemail_api.c:73</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="structast__vm__mailbox__snapshot_html"><div class="ttname"><a href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00317">include/asterisk/app.h:317</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb6d074a9708945da8dd960e2da6ba79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb6d074a9708945da8dd960e2da6ba79">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[3/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">voicemail_api_nominal_move&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00966">966</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00748">ast_vm_mailbox_snapshot_destroy()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00297">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::msg_id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00740">test_vm_api_update_test_snapshots()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00129">VM_API_INT_VERIFY</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00211">VM_API_MOVE_MESSAGE</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00183">VM_API_SNAPSHOT_CREATE</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00116">VM_API_STRING_FIELD_VERIFY</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">VM_API_TEST_CLEANUP</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">VM_API_TEST_SETUP</a>.</p>
<div class="fragment"><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;{</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a> *test_mbox_snapshot = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *inbox_msg_id;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *old_msg_id;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *multi_msg_ids[2];</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;nominal_move&quot;</span>;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/voicemail_api/&quot;</span>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Nominal move voicemail tests&quot;</span>;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;         <span class="stringliteral">&quot;Test nominal requests to move a voicemail to a different&quot;</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;         <span class="stringliteral">&quot; folder.  This includes moving messages given a context,&quot;</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;         <span class="stringliteral">&quot; given a NULL context, and moving multiple messages&quot;</span>;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;   }</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a>;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;   old_msg_id = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   inbox_msg_id = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;   multi_msg_ids[0] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[2]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   multi_msg_ids[1] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[3]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move of test_vm_api_1234 message from INBOX to Family\n&quot;</span>);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a8e528f34c2621a9148b0e93060a79b5a">VM_API_MOVE_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move of test_vm_api_1234 message from Old to Family\n&quot;</span>);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a8e528f34c2621a9148b0e93060a79b5a">VM_API_MOVE_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <span class="stringliteral">&quot;Old&quot;</span>, &amp;old_msg_id, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;   <span class="comment">/* Take a snapshot and update the test snapshots for verification */</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;Family&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aed8664c0674d2f111ae0b3028725781d">test_vm_api_update_test_snapshots</a>(test_mbox_snapshot);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a00dec81683a63a225c3b8f5443826b34">VM_API_STRING_FIELD_VERIFY</a>(<span class="stringliteral">&quot;Family&quot;</span>, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0]-&gt;folder_name);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a00dec81683a63a225c3b8f5443826b34">VM_API_STRING_FIELD_VERIFY</a>(<span class="stringliteral">&quot;Family&quot;</span>, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1]-&gt;folder_name);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(0, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1]-&gt;msg_number);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(1, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0]-&gt;msg_number);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;   <span class="comment">/* Move both of the 2345 messages to Family */</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move of test_vm_api_2345 messages from Inbox to Family\n&quot;</span>);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a8e528f34c2621a9148b0e93060a79b5a">VM_API_MOVE_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 2, <span class="stringliteral">&quot;INBOX&quot;</span>, multi_msg_ids, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;   <span class="comment">/* Take a snapshot and update the test snapshots for verification */</span></div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;Family&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aed8664c0674d2f111ae0b3028725781d">test_vm_api_update_test_snapshots</a>(test_mbox_snapshot);</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a00dec81683a63a225c3b8f5443826b34">VM_API_STRING_FIELD_VERIFY</a>(<span class="stringliteral">&quot;Family&quot;</span>, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[2]-&gt;folder_name);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a00dec81683a63a225c3b8f5443826b34">VM_API_STRING_FIELD_VERIFY</a>(<span class="stringliteral">&quot;Family&quot;</span>, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[3]-&gt;folder_name);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move of test_vm_api_2345 message from Family to INBOX\n&quot;</span>);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a8e528f34c2621a9148b0e93060a79b5a">VM_API_MOVE_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 2, <span class="stringliteral">&quot;Family&quot;</span>, multi_msg_ids, <span class="stringliteral">&quot;INBOX&quot;</span>);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aed8664c0674d2f111ae0b3028725781d">test_vm_api_update_test_snapshots</a>(test_mbox_snapshot);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a00dec81683a63a225c3b8f5443826b34">VM_API_STRING_FIELD_VERIFY</a>(<span class="stringliteral">&quot;INBOX&quot;</span>, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[2]-&gt;folder_name);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a00dec81683a63a225c3b8f5443826b34">VM_API_STRING_FIELD_VERIFY</a>(<span class="stringliteral">&quot;INBOX&quot;</span>, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[3]-&gt;folder_name);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;}</div><div class="ttc" id="structast__vm__msg__snapshot_html_a59681ca5a1bf8b688099b82cd29d2e81"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">ast_vm_msg_snapshot::msg_id</a></div><div class="ttdeci">const ast_string_field msg_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a69ebd2431269e35f70c8b7ba2accf92f"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a></div><div class="ttdeci">#define VM_API_TEST_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">test_voicemail_api.c:95</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00297">include/asterisk/app.h:297</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a03a6c0c2ca0dc986c249053ee0ba9a92"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a></div><div class="ttdeci">#define VM_API_INT_VERIFY(expected, actual)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00129">test_voicemail_api.c:129</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae174923d9d4c55393d5ba4ab9620e4a2"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a></div><div class="ttdeci">#define VM_API_TEST_SETUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">test_voicemail_api.c:73</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a8e528f34c2621a9148b0e93060a79b5a"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a8e528f34c2621a9148b0e93060a79b5a">VM_API_MOVE_MESSAGE</a></div><div class="ttdeci">#define VM_API_MOVE_MESSAGE(mailbox, context, number_of_messages, source, message_numbers_in, dest)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00211">test_voicemail_api.c:211</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a632bfa316101ce8087f60f59ff909294"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a></div><div class="ttdeci">struct ast_vm_mailbox_snapshot * ast_vm_mailbox_snapshot_destroy(struct ast_vm_mailbox_snapshot *mailbox_snapshot)</div><div class="ttdoc">destroy a snapshot </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00748">main/app.c:748</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a45221ff4e9858d612eaa6a26b4f360c8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_snapshots[TOTAL_SNAPSHOTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">test_voicemail_api.c:341</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a00dec81683a63a225c3b8f5443826b34"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a00dec81683a63a225c3b8f5443826b34">VM_API_STRING_FIELD_VERIFY</a></div><div class="ttdeci">#define VM_API_STRING_FIELD_VERIFY(expected, actual)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00116">test_voicemail_api.c:116</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a533e3d268a92b09989c84e49efcd9c04"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a></div><div class="ttdeci">#define VM_API_SNAPSHOT_CREATE(mailbox, context, folder, desc, sort, old_and_inbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00183">test_voicemail_api.c:183</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_aed8664c0674d2f111ae0b3028725781d"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#aed8664c0674d2f111ae0b3028725781d">test_vm_api_update_test_snapshots</a></div><div class="ttdeci">static void test_vm_api_update_test_snapshots(struct ast_vm_mailbox_snapshot *mailbox_snapshot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00740">test_voicemail_api.c:740</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="structast__vm__mailbox__snapshot_html"><div class="ttname"><a href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00317">include/asterisk/app.h:317</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9477e7022daf120e31b8900dd5ab5aaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9477e7022daf120e31b8900dd5ab5aaf">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[4/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">voicemail_api_off_nominal_move&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01037">1037</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::msg_id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00223">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">VM_API_TEST_CLEANUP</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">VM_API_TEST_SETUP</a>.</p>
<div class="fragment"><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;{</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *inbox_msg_id;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *multi_msg_ids[4];</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;off_nominal_move&quot;</span>;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/voicemail_api/&quot;</span>;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Off nominal mailbox message move tests&quot;</span>;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;         <span class="stringliteral">&quot;Test nominal requests to move a voicemail to a different&quot;</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;         <span class="stringliteral">&quot; folder.  This includes testing the following:\n&quot;</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;         <span class="stringliteral">&quot; * Moving to a non-existent mailbox\n&quot;</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;         <span class="stringliteral">&quot; * Moving to a NULL mailbox\n&quot;</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;         <span class="stringliteral">&quot; * Moving to a non-existent context\n&quot;</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;         <span class="stringliteral">&quot; * Moving to/from non-existent folder\n&quot;</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;         <span class="stringliteral">&quot; * Moving to/from NULL folder\n&quot;</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;         <span class="stringliteral">&quot; * Invalid message identifier(s)&quot;</span>;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;   }</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a>;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;   inbox_msg_id = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;   multi_msg_ids[0] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;   multi_msg_ids[1] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;   multi_msg_ids[2] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[2]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   multi_msg_ids[3] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[3]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move attempt for invalid mailbox test_vm_3456\n&quot;</span>);</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_3456&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move attempt for invalid context test_vm_api_defunct\n&quot;</span>);</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;test_vm_api_defunct&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move attempt to invalid folder\n&quot;</span>);</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id, <span class="stringliteral">&quot;SPAMALOT&quot;</span>);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move attempt from invalid folder\n&quot;</span>);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;MEATINACAN&quot;</span>, &amp;inbox_msg_id, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move attempt to NULL folder\n&quot;</span>);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move attempt from NULL folder\n&quot;</span>);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;inbox_msg_id, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move attempt with non-existent message number\n&quot;</span>);</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;   inbox_msg_id = <span class="stringliteral">&quot;6&quot;</span>;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move attempt with invalid message number\n&quot;</span>);</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;   inbox_msg_id = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move attempt with 0 number of messages\n&quot;</span>);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;   inbox_msg_id = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 0, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move attempt with invalid number of messages\n&quot;</span>);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, -30, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test move attempt with non-existent multiple messages, where some messages exist\n&quot;</span>);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 4, <span class="stringliteral">&quot;INBOX&quot;</span>, multi_msg_ids, <span class="stringliteral">&quot;Family&quot;</span>);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;}</div><div class="ttc" id="structast__vm__msg__snapshot_html_a59681ca5a1bf8b688099b82cd29d2e81"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">ast_vm_msg_snapshot::msg_id</a></div><div class="ttdeci">const ast_string_field msg_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a69ebd2431269e35f70c8b7ba2accf92f"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a></div><div class="ttdeci">#define VM_API_TEST_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">test_voicemail_api.c:95</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae174923d9d4c55393d5ba4ab9620e4a2"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a></div><div class="ttdeci">#define VM_API_TEST_SETUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">test_voicemail_api.c:73</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a45221ff4e9858d612eaa6a26b4f360c8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_snapshots[TOTAL_SNAPSHOTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">test_voicemail_api.c:341</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a236e0127ece04dc55211be84423f2214"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a236e0127ece04dc55211be84423f2214">VM_API_MOVE_MESSAGE_OFF_NOMINAL</a></div><div class="ttdeci">#define VM_API_MOVE_MESSAGE_OFF_NOMINAL(mailbox, context, number_of_messages, source, message_numbers_in, dest)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00223">test_voicemail_api.c:223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4cc7f26fe6fc728904f4a4775838c017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cc7f26fe6fc728904f4a4775838c017">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[5/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">voicemail_api_nominal_remove&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01113">1113</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::msg_id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00235">VM_API_REMOVE_MESSAGE</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">VM_API_TEST_CLEANUP</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">VM_API_TEST_SETUP</a>.</p>
<div class="fragment"><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;{</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a> *test_mbox_snapshot = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *inbox_msg_id;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *old_msg_id;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *multi_msg_ids[2];</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;nominal_remove&quot;</span>;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/voicemail_api/&quot;</span>;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Nominal mailbox remove message tests&quot;</span>;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;         <span class="stringliteral">&quot;Tests removing messages from voicemail folders.  Includes&quot;</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;         <span class="stringliteral">&quot; both removing messages one at a time, and in a set&quot;</span>;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;   }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;   old_msg_id = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;   inbox_msg_id = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;   multi_msg_ids[0] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[2]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;   multi_msg_ids[1] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[3]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test removing a single message from INBOX\n&quot;</span>);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aee402a6e63379fd0660e5fc939a876f3">VM_API_REMOVE_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test removing a single message from Old\n&quot;</span>);</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aee402a6e63379fd0660e5fc939a876f3">VM_API_REMOVE_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;Old&quot;</span>, &amp;old_msg_id);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test removing multiple messages from INBOX\n&quot;</span>);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aee402a6e63379fd0660e5fc939a876f3">VM_API_REMOVE_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 2, <span class="stringliteral">&quot;INBOX&quot;</span>, multi_msg_ids);</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;}</div><div class="ttc" id="structast__vm__msg__snapshot_html_a59681ca5a1bf8b688099b82cd29d2e81"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">ast_vm_msg_snapshot::msg_id</a></div><div class="ttdeci">const ast_string_field msg_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a69ebd2431269e35f70c8b7ba2accf92f"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a></div><div class="ttdeci">#define VM_API_TEST_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">test_voicemail_api.c:95</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae174923d9d4c55393d5ba4ab9620e4a2"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a></div><div class="ttdeci">#define VM_API_TEST_SETUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">test_voicemail_api.c:73</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_aee402a6e63379fd0660e5fc939a876f3"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#aee402a6e63379fd0660e5fc939a876f3">VM_API_REMOVE_MESSAGE</a></div><div class="ttdeci">#define VM_API_REMOVE_MESSAGE(mailbox, context, number_of_messages, folder, message_numbers_in)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00235">test_voicemail_api.c:235</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a45221ff4e9858d612eaa6a26b4f360c8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_snapshots[TOTAL_SNAPSHOTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">test_voicemail_api.c:341</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="structast__vm__mailbox__snapshot_html"><div class="ttname"><a href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00317">include/asterisk/app.h:317</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1625b91d7351a85b0847358c376af4b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1625b91d7351a85b0847358c376af4b8">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[6/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">voicemail_api_off_nominal_remove&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01155">1155</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::msg_id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00251">VM_API_REMOVE_MESSAGE_OFF_NOMINAL</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">VM_API_TEST_CLEANUP</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">VM_API_TEST_SETUP</a>.</p>
<div class="fragment"><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;{</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *inbox_msg_id;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *multi_msg_ids[2];</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *empty_msg_ids[] = { };</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;off_nominal_remove&quot;</span>;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/voicemail_api/&quot;</span>;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Off nominal mailbox message removal tests&quot;</span>;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;         <span class="stringliteral">&quot;Test off nominal requests for removing messages from &quot;</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;         <span class="stringliteral">&quot;a mailbox.  This includes:\n&quot;</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;         <span class="stringliteral">&quot; * Removing messages with an invalid mailbox\n&quot;</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;         <span class="stringliteral">&quot; * Removing messages from a NULL mailbox\n&quot;</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;         <span class="stringliteral">&quot; * Removing messages from an invalid context\n&quot;</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;         <span class="stringliteral">&quot; * Removing messages from an invalid folder\n&quot;</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;         <span class="stringliteral">&quot; * Removing messages from a NULL folder\n&quot;</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;         <span class="stringliteral">&quot; * Removing messages with bad identifiers&quot;</span>;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;   }</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a>;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;   inbox_msg_id = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;   multi_msg_ids[0] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[2]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;   multi_msg_ids[1] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[3]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test removing a single message with an invalid mailbox\n&quot;</span>);</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa0ff984ee56c5c4a2bbff790837437c2">VM_API_REMOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_3456&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id);</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test removing a single message with a NULL mailbox\n&quot;</span>);</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa0ff984ee56c5c4a2bbff790837437c2">VM_API_REMOVE_MESSAGE_OFF_NOMINAL</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test removing a single message with an invalid context\n&quot;</span>);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa0ff984ee56c5c4a2bbff790837437c2">VM_API_REMOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;defunct&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test removing a single message with an invalid folder\n&quot;</span>);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa0ff984ee56c5c4a2bbff790837437c2">VM_API_REMOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;SPAMINACAN&quot;</span>, &amp;inbox_msg_id);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test removing a single message with a NULL folder\n&quot;</span>);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa0ff984ee56c5c4a2bbff790837437c2">VM_API_REMOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;inbox_msg_id);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test removing a single message with an invalid message number\n&quot;</span>);</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;   inbox_msg_id = <span class="stringliteral">&quot;POOPOO&quot;</span>;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa0ff984ee56c5c4a2bbff790837437c2">VM_API_REMOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 1, <span class="stringliteral">&quot;INBOX&quot;</span>, &amp;inbox_msg_id);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test removing multiple messages with a single invalid message number\n&quot;</span>);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;   multi_msg_ids[1] = <span class="stringliteral">&quot;POOPOO&quot;</span>;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa0ff984ee56c5c4a2bbff790837437c2">VM_API_REMOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 2, <span class="stringliteral">&quot;INBOX&quot;</span>, multi_msg_ids);</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test removing no messages with no message numbers\n&quot;</span>);</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa0ff984ee56c5c4a2bbff790837437c2">VM_API_REMOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 0, <span class="stringliteral">&quot;INBOX&quot;</span>, empty_msg_ids);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test removing multiple messages with an invalid size specifier\n&quot;</span>);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa0ff984ee56c5c4a2bbff790837437c2">VM_API_REMOVE_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, -30, <span class="stringliteral">&quot;INBOX&quot;</span>, multi_msg_ids);</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;}</div><div class="ttc" id="test__voicemail__api_8c_html_aa0ff984ee56c5c4a2bbff790837437c2"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#aa0ff984ee56c5c4a2bbff790837437c2">VM_API_REMOVE_MESSAGE_OFF_NOMINAL</a></div><div class="ttdeci">#define VM_API_REMOVE_MESSAGE_OFF_NOMINAL(mailbox, context, number_of_messages, folder, message_numbers_in)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00251">test_voicemail_api.c:251</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a59681ca5a1bf8b688099b82cd29d2e81"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">ast_vm_msg_snapshot::msg_id</a></div><div class="ttdeci">const ast_string_field msg_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a69ebd2431269e35f70c8b7ba2accf92f"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a></div><div class="ttdeci">#define VM_API_TEST_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">test_voicemail_api.c:95</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae174923d9d4c55393d5ba4ab9620e4a2"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a></div><div class="ttdeci">#define VM_API_TEST_SETUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">test_voicemail_api.c:73</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a45221ff4e9858d612eaa6a26b4f360c8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_snapshots[TOTAL_SNAPSHOTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">test_voicemail_api.c:341</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa2857754f9bd081666046c3c68aec314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2857754f9bd081666046c3c68aec314">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[7/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">voicemail_api_nominal_forward&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01220">1220</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00748">ast_vm_mailbox_snapshot_destroy()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00297">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::msg_id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00318">ast_vm_mailbox_snapshot::total_msg_num</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00263">VM_API_FORWARD_MESSAGE</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00129">VM_API_INT_VERIFY</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00183">VM_API_SNAPSHOT_CREATE</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">VM_API_TEST_CLEANUP</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">VM_API_TEST_SETUP</a>.</p>
<div class="fragment"><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;{</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a> *test_mbox_snapshot = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *inbox_msg_id;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *multi_msg_ids[2];</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;nominal_forward&quot;</span>;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/voicemail_api/&quot;</span>;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Nominal message forward tests&quot;</span>;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;         <span class="stringliteral">&quot;Tests the nominal cases of forwarding messages&quot;</span></div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;         <span class="stringliteral">&quot; between mailboxes&quot;</span>;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   }</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;   inbox_msg_id = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;   multi_msg_ids[0] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[2]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   multi_msg_ids[1] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[3]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding message 0 from test_vm_api_1234 INBOX to test_vm_api_2345 INBOX\n&quot;</span>);</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#acd0596b9188edb54606f3ea4e746df21">VM_API_FORWARD_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;   <span class="comment">/* Make sure we didn&#39;t delete the message */</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(1, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;   <span class="comment">/* We should now have a total of 3 messages in test_vm_api_2345 INBOX */</span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(3, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding message 0 from test_vm_api_1234 INBOX with default context to test_vm_api_2345 INBOX\n&quot;</span>);</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#acd0596b9188edb54606f3ea4e746df21">VM_API_FORWARD_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;   <span class="comment">/* Make sure we didn&#39;t delete the message */</span></div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(1, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;   <span class="comment">/* We should now have a total of 4 messages in test_vm_api_2345 INBOX */</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(4, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding message 0 from test_vm_api_1234 INBOX to test_vm_api_2345 INBOX with default context\n&quot;</span>);</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#acd0596b9188edb54606f3ea4e746df21">VM_API_FORWARD_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;   <span class="comment">/* Make sure we didn&#39;t delete the message */</span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(1, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;   <span class="comment">/* We should now have a total of 5 messages in test_vm_api_2345 INBOX */</span></div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(5, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding message 0 from test_vm_api_1234 INBOX to test_vm_api_2345 INBOX, deleting original\n&quot;</span>);</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#acd0596b9188edb54606f3ea4e746df21">VM_API_FORWARD_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 1);</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;   <span class="comment">/* Make sure we deleted the message */</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(0, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;   <span class="comment">/* We should now have a total of 6 messages in test_vm_api_2345 INBOX */</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(6, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding 2 messages from test_vm_api_2345 INBOX to test_vm_api_1234 INBOX&quot;</span>);</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#acd0596b9188edb54606f3ea4e746df21">VM_API_FORWARD_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 2, multi_msg_ids, 0);</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   <span class="comment">/* Make sure we didn&#39;t delete the messages */</span></div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(6, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;   <span class="comment">/* We should now have a total of 2 messages in test_vm_api_1234 INBOX */</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(2, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding 2 messages from test_vm_api_2345 INBOX to test_vm_api_1234 Family, deleting original\n&quot;</span>);</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#acd0596b9188edb54606f3ea4e746df21">VM_API_FORWARD_MESSAGE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;Family&quot;</span>, 2, multi_msg_ids, 1);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;   <span class="comment">/* Make sure we deleted the messages */</span></div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(4, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;   <span class="comment">/* We should now have a total of 2 messages in test_vm_api_1234 Family */</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;Family&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(2, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;}</div><div class="ttc" id="structast__vm__msg__snapshot_html_a59681ca5a1bf8b688099b82cd29d2e81"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">ast_vm_msg_snapshot::msg_id</a></div><div class="ttdeci">const ast_string_field msg_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a69ebd2431269e35f70c8b7ba2accf92f"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a></div><div class="ttdeci">#define VM_API_TEST_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">test_voicemail_api.c:95</a></div></div>
<div class="ttc" id="structast__vm__mailbox__snapshot_html_adf7744e2e72a9785679d9d326009e952"><div class="ttname"><a href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">ast_vm_mailbox_snapshot::total_msg_num</a></div><div class="ttdeci">int total_msg_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00318">include/asterisk/app.h:318</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00297">include/asterisk/app.h:297</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a03a6c0c2ca0dc986c249053ee0ba9a92"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a></div><div class="ttdeci">#define VM_API_INT_VERIFY(expected, actual)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00129">test_voicemail_api.c:129</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_acd0596b9188edb54606f3ea4e746df21"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#acd0596b9188edb54606f3ea4e746df21">VM_API_FORWARD_MESSAGE</a></div><div class="ttdeci">#define VM_API_FORWARD_MESSAGE(from_mailbox, from_context, from_folder, to_mailbox, to_context, to_folder, number_of_messages, message_numbers_in, delete_old)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00263">test_voicemail_api.c:263</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae174923d9d4c55393d5ba4ab9620e4a2"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a></div><div class="ttdeci">#define VM_API_TEST_SETUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">test_voicemail_api.c:73</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a632bfa316101ce8087f60f59ff909294"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a></div><div class="ttdeci">struct ast_vm_mailbox_snapshot * ast_vm_mailbox_snapshot_destroy(struct ast_vm_mailbox_snapshot *mailbox_snapshot)</div><div class="ttdoc">destroy a snapshot </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00748">main/app.c:748</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a45221ff4e9858d612eaa6a26b4f360c8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_snapshots[TOTAL_SNAPSHOTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">test_voicemail_api.c:341</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a533e3d268a92b09989c84e49efcd9c04"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a></div><div class="ttdeci">#define VM_API_SNAPSHOT_CREATE(mailbox, context, folder, desc, sort, old_and_inbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00183">test_voicemail_api.c:183</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="structast__vm__mailbox__snapshot_html"><div class="ttname"><a href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00317">include/asterisk/app.h:317</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a28fcd7cf2264806ed6e2126db5a3084c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28fcd7cf2264806ed6e2126db5a3084c">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[8/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">voicemail_api_off_nominal_forward&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01328">1328</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::msg_id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00276">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">VM_API_TEST_CLEANUP</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">VM_API_TEST_SETUP</a>.</p>
<div class="fragment"><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;{</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *inbox_msg_id;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *multi_msg_ids[4];</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *empty_msg_ids[] = { };</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;off_nominal_forward&quot;</span>;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/voicemail_api/&quot;</span>;</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Off nominal message forwarding tests&quot;</span>;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;         <span class="stringliteral">&quot;Test off nominal forwarding of messages.  This includes:\n&quot;</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;         <span class="stringliteral">&quot; * Invalid/NULL from mailbox\n&quot;</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;         <span class="stringliteral">&quot; * Invalid from context\n&quot;</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;         <span class="stringliteral">&quot; * Invalid/NULL from folder\n&quot;</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;         <span class="stringliteral">&quot; * Invalid/NULL to mailbox\n&quot;</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;         <span class="stringliteral">&quot; * Invalid to context\n&quot;</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;         <span class="stringliteral">&quot; * Invalid/NULL to folder\n&quot;</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;         <span class="stringliteral">&quot; * Invalid message numbers\n&quot;</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;         <span class="stringliteral">&quot; * Invalid number of messages&quot;</span>;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;   }</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a>;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;   inbox_msg_id = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;   multi_msg_ids[0] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;   multi_msg_ids[1] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;   multi_msg_ids[2] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[2]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;   multi_msg_ids[3] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[3]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding from an invalid mailbox\n&quot;</span>);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_3456&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding from a NULL mailbox\n&quot;</span>);</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding from an invalid context\n&quot;</span>);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;defunct&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding from an invalid folder\n&quot;</span>);</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;POTTEDMEAT&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding from a NULL folder\n&quot;</span>);</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding to an invalid mailbox\n&quot;</span>);</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_3456&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding to a NULL mailbox\n&quot;</span>);</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding to an invalid context\n&quot;</span>);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;defunct&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding to an invalid folder\n&quot;</span>);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;POTTEDMEAT&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding to a NULL folder\n&quot;</span>);</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding when no messages are select\n&quot;</span>);</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 0, empty_msg_ids, 0);</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding a message that doesn&#39;t exist\n&quot;</span>);</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;   inbox_msg_id = <span class="stringliteral">&quot;POOPOO&quot;</span>;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 1, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding multiple messages, where some messages don&#39;t exist\n&quot;</span>);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, 4, multi_msg_ids, 0);</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Test forwarding a message with an invalid size specifier\n&quot;</span>);</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, -30, &amp;inbox_msg_id, 0);</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;}</div><div class="ttc" id="structast__vm__msg__snapshot_html_a59681ca5a1bf8b688099b82cd29d2e81"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">ast_vm_msg_snapshot::msg_id</a></div><div class="ttdeci">const ast_string_field msg_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a69ebd2431269e35f70c8b7ba2accf92f"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a></div><div class="ttdeci">#define VM_API_TEST_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">test_voicemail_api.c:95</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a6163857fd220a98d3f15b0a0ad647837"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a6163857fd220a98d3f15b0a0ad647837">VM_API_FORWARD_MESSAGE_OFF_NOMINAL</a></div><div class="ttdeci">#define VM_API_FORWARD_MESSAGE_OFF_NOMINAL(from_mailbox, from_context, from_folder, to_mailbox, to_context, to_folder, number_of_messages, message_numbers_in, delete_old)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00276">test_voicemail_api.c:276</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae174923d9d4c55393d5ba4ab9620e4a2"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a></div><div class="ttdeci">#define VM_API_TEST_SETUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">test_voicemail_api.c:73</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a45221ff4e9858d612eaa6a26b4f360c8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_snapshots[TOTAL_SNAPSHOTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">test_voicemail_api.c:341</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c8fa92e6eb385c734ca9cf770cb2ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c8fa92e6eb385c734ca9cf770cb2ba0">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[9/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">voicemail_api_nominal_msg_playback&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01413">1413</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00290">AST_LOG_ERROR</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00748">ast_vm_mailbox_snapshot_destroy()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00297">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00347">global_entered_playback_callback</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00775">message_playback_callback_fn()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::msg_id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00818">test_vm_api_create_mock_channel()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00318">ast_vm_mailbox_snapshot::total_msg_num</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00129">VM_API_INT_VERIFY</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00292">VM_API_PLAYBACK_MESSAGE</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00183">VM_API_SNAPSHOT_CREATE</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">VM_API_TEST_CLEANUP</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">VM_API_TEST_SETUP</a>.</p>
<div class="fragment"><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;{</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a> *test_mbox_snapshot = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *test_channel;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *message_id_1234;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *message_id_2345[2];</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;nominal_msg_playback&quot;</span>;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/voicemail_api/&quot;</span>;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Nominal message playback&quot;</span>;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;         <span class="stringliteral">&quot;Tests playing back a message on a provided&quot;</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;         <span class="stringliteral">&quot; channel or callback function&quot;</span>;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;   }</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a>;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;   message_id_1234 = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;   message_id_2345[0] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[2]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;   message_id_2345[1] = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[3]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;   <span class="keywordflow">if</span> (!(test_channel = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae1939b1fd32ba45edae34361a83261ae">test_vm_api_create_mock_channel</a>())) {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to create mock channel for testing\n&quot;</span>);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;   }</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Playing back message from test_vm_api_1234 to mock channel\n&quot;</span>);</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ac12df89d63515372591d7bdba8d63b92">VM_API_PLAYBACK_MESSAGE</a>(test_channel, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, message_id_1234, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Playing back message from test_vm_api_2345 to callback function\n&quot;</span>);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ac12df89d63515372591d7bdba8d63b92">VM_API_PLAYBACK_MESSAGE</a>(test_channel, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, message_id_2345[0], &amp;<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa626a3189c67d5927499237e0c08dabc">message_playback_callback_fn</a>);</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(1, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ac9ba902d68207f238e90dd03a54b5183">global_entered_playback_callback</a>);</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ac9ba902d68207f238e90dd03a54b5183">global_entered_playback_callback</a> = 0;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Playing back message from test_vm_api_2345 to callback function with default context\n&quot;</span>);</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ac12df89d63515372591d7bdba8d63b92">VM_API_PLAYBACK_MESSAGE</a>(test_channel, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;INBOX&quot;</span>, message_id_2345[1], &amp;<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa626a3189c67d5927499237e0c08dabc">message_playback_callback_fn</a>);</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(1, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ac9ba902d68207f238e90dd03a54b5183">global_entered_playback_callback</a>);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ac9ba902d68207f238e90dd03a54b5183">global_entered_playback_callback</a> = 0;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;Old&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(2, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;Old&quot;</span>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a>, 0);</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a>(2, test_mbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">total_msg_num</a>);</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;   test_mbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(test_mbox_snapshot);</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(test_channel);</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;}</div><div class="ttc" id="structast__vm__msg__snapshot_html_a59681ca5a1bf8b688099b82cd29d2e81"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">ast_vm_msg_snapshot::msg_id</a></div><div class="ttdeci">const ast_string_field msg_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a69ebd2431269e35f70c8b7ba2accf92f"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a></div><div class="ttdeci">#define VM_API_TEST_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">test_voicemail_api.c:95</a></div></div>
<div class="ttc" id="structast__vm__mailbox__snapshot_html_adf7744e2e72a9785679d9d326009e952"><div class="ttname"><a href="../../d3/dbc/structast__vm__mailbox__snapshot.html#adf7744e2e72a9785679d9d326009e952">ast_vm_mailbox_snapshot::total_msg_num</a></div><div class="ttdeci">int total_msg_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00318">include/asterisk/app.h:318</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491ad95c70e1f5ce29d7ff275fea928b76ee">AST_VM_SNAPSHOT_SORT_BY_TIME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00297">include/asterisk/app.h:297</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ac12df89d63515372591d7bdba8d63b92"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ac12df89d63515372591d7bdba8d63b92">VM_API_PLAYBACK_MESSAGE</a></div><div class="ttdeci">#define VM_API_PLAYBACK_MESSAGE(channel, mailbox, context, folder, message, callback_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00292">test_voicemail_api.c:292</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae1939b1fd32ba45edae34361a83261ae"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae1939b1fd32ba45edae34361a83261ae">test_vm_api_create_mock_channel</a></div><div class="ttdeci">static struct ast_channel * test_vm_api_create_mock_channel(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00818">test_voicemail_api.c:818</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a03a6c0c2ca0dc986c249053ee0ba9a92"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a03a6c0c2ca0dc986c249053ee0ba9a92">VM_API_INT_VERIFY</a></div><div class="ttdeci">#define VM_API_INT_VERIFY(expected, actual)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00129">test_voicemail_api.c:129</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_a2fdd5bff193a29ec6c7278da2851ea56"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a></div><div class="ttdeci">#define AST_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00290">logger.h:290</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae174923d9d4c55393d5ba4ab9620e4a2"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a></div><div class="ttdeci">#define VM_API_TEST_SETUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">test_voicemail_api.c:73</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_aa626a3189c67d5927499237e0c08dabc"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#aa626a3189c67d5927499237e0c08dabc">message_playback_callback_fn</a></div><div class="ttdeci">static void message_playback_callback_fn(struct ast_channel *chan, const char *file, int duration)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00775">test_voicemail_api.c:775</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a632bfa316101ce8087f60f59ff909294"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a></div><div class="ttdeci">struct ast_vm_mailbox_snapshot * ast_vm_mailbox_snapshot_destroy(struct ast_vm_mailbox_snapshot *mailbox_snapshot)</div><div class="ttdoc">destroy a snapshot </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00748">main/app.c:748</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ac9ba902d68207f238e90dd03a54b5183"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ac9ba902d68207f238e90dd03a54b5183">global_entered_playback_callback</a></div><div class="ttdeci">static int global_entered_playback_callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00347">test_voicemail_api.c:347</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a45221ff4e9858d612eaa6a26b4f360c8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_snapshots[TOTAL_SNAPSHOTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">test_voicemail_api.c:341</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a533e3d268a92b09989c84e49efcd9c04"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a533e3d268a92b09989c84e49efcd9c04">VM_API_SNAPSHOT_CREATE</a></div><div class="ttdeci">#define VM_API_SNAPSHOT_CREATE(mailbox, context, folder, desc, sort, old_and_inbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00183">test_voicemail_api.c:183</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="channel_8h_html_a29557c4823f5e9c02519a01daf6a289c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a></div><div class="ttdeci">void ast_hangup(struct ast_channel *chan)</div><div class="ttdoc">Hang up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02548">channel.c:2548</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="structast__vm__mailbox__snapshot_html"><div class="ttname"><a href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00317">include/asterisk/app.h:317</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a61a2b8a299a1f85888dc4508f51b891f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a2b8a299a1f85888dc4508f51b891f">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[10/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">voicemail_api_off_nominal_msg_playback&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01472">1472</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00290">AST_LOG_ERROR</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::msg_id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00818">test_vm_api_create_mock_channel()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00307">VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">VM_API_TEST_CLEANUP</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">VM_API_TEST_SETUP</a>.</p>
<div class="fragment"><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;{</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *test_channel;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *msg_id;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *invalid_msg_id = <span class="stringliteral">&quot;POOPOO&quot;</span>;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;off_nominal_msg_playback&quot;</span>;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/voicemail_api/&quot;</span>;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Off nominal message playback&quot;</span>;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;         <span class="stringliteral">&quot;Tests off nominal conditions in playing back a &quot;</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;         <span class="stringliteral">&quot;message.  This includes:\n&quot;</span></div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;         <span class="stringliteral">&quot; * Invalid/NULL mailbox\n&quot;</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;         <span class="stringliteral">&quot; * Invalid context\n&quot;</span></div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;         <span class="stringliteral">&quot; * Invalid/NULL folder\n&quot;</span></div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;         <span class="stringliteral">&quot; * Invalid message identifiers&quot;</span>;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;   }</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a>;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;   msg_id = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;   <span class="keywordflow">if</span> (!(test_channel = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ae1939b1fd32ba45edae34361a83261ae">test_vm_api_create_mock_channel</a>())) {</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to create mock channel for testing\n&quot;</span>);</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;   }</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Playing back message from invalid mailbox\n&quot;</span>);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a9805c3050425a179ec1818e8214159da">VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL</a>(test_channel, <span class="stringliteral">&quot;test_vm_api_3456&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, msg_id, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Playing back message from NULL mailbox\n&quot;</span>);</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a9805c3050425a179ec1818e8214159da">VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL</a>(test_channel, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, msg_id, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Playing back message from invalid context\n&quot;</span>);</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a9805c3050425a179ec1818e8214159da">VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL</a>(test_channel, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;defunct&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, msg_id, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Playing back message from invalid folder\n&quot;</span>);</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a9805c3050425a179ec1818e8214159da">VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL</a>(test_channel, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;BACON&quot;</span>, msg_id, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Playing back message from NULL folder\n&quot;</span>);</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a9805c3050425a179ec1818e8214159da">VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL</a>(test_channel, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>,  <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, msg_id, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Playing back message with invalid message specifier\n&quot;</span>);</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a9805c3050425a179ec1818e8214159da">VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL</a>(test_channel, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, invalid_msg_id, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Playing back message with NULL message specifier\n&quot;</span>);</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a9805c3050425a179ec1818e8214159da">VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL</a>(test_channel, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;INBOX&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(test_channel);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a>;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;}</div><div class="ttc" id="structast__vm__msg__snapshot_html_a59681ca5a1bf8b688099b82cd29d2e81"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">ast_vm_msg_snapshot::msg_id</a></div><div class="ttdeci">const ast_string_field msg_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a69ebd2431269e35f70c8b7ba2accf92f"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a69ebd2431269e35f70c8b7ba2accf92f">VM_API_TEST_CLEANUP</a></div><div class="ttdeci">#define VM_API_TEST_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00095">test_voicemail_api.c:95</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae1939b1fd32ba45edae34361a83261ae"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae1939b1fd32ba45edae34361a83261ae">test_vm_api_create_mock_channel</a></div><div class="ttdeci">static struct ast_channel * test_vm_api_create_mock_channel(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00818">test_voicemail_api.c:818</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_a2fdd5bff193a29ec6c7278da2851ea56"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a></div><div class="ttdeci">#define AST_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00290">logger.h:290</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ae174923d9d4c55393d5ba4ab9620e4a2"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ae174923d9d4c55393d5ba4ab9620e4a2">VM_API_TEST_SETUP</a></div><div class="ttdeci">#define VM_API_TEST_SETUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00073">test_voicemail_api.c:73</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a45221ff4e9858d612eaa6a26b4f360c8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_snapshots[TOTAL_SNAPSHOTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">test_voicemail_api.c:341</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="channel_8h_html_a29557c4823f5e9c02519a01daf6a289c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a></div><div class="ttdeci">void ast_hangup(struct ast_channel *chan)</div><div class="ttdoc">Hang up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02548">channel.c:2548</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a9805c3050425a179ec1818e8214159da"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a9805c3050425a179ec1818e8214159da">VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL</a></div><div class="ttdeci">#define VM_API_PLAYBACK_MESSAGE_OFF_NOMINAL(channel, mailbox, context, folder, message, callback_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00307">test_voicemail_api.c:307</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7e9bac974030766dece0a34ece084ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7e9bac974030766dece0a34ece084ca">&#9670;&nbsp;</a></span>get_folder_by_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_folder_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>folder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00353">353</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00322">mailbox_folders</a>.</p>
<div class="fragment"><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;{</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <span class="keywordtype">size_t</span> i;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aed86dceeb81c5f7d7d9ed8435651d0b1">mailbox_folders</a>); i++) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keywordflow">if</span> (strcasecmp(folder, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aed86dceeb81c5f7d7d9ed8435651d0b1">mailbox_folders</a>[i]) == 0) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;         <span class="keywordflow">return</span> i;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_aed86dceeb81c5f7d7d9ed8435651d0b1"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#aed86dceeb81c5f7d7d9ed8435651d0b1">mailbox_folders</a></div><div class="ttdeci">static const char *const mailbox_folders[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00322">test_voicemail_api.c:322</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01554">1554</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, and <a class="el" href="../../d2/ddc/test_8h_source.html#l00127">AST_TEST_REGISTER</a>.</p>
<div class="fragment"><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;{</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;   <span class="comment">/* Snapshot tests */</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(voicemail_api_nominal_snapshot);</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(voicemail_api_off_nominal_snapshot);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;   <span class="comment">/* Move Tests */</span></div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(voicemail_api_nominal_move);</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(voicemail_api_off_nominal_move);</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;   <span class="comment">/* Remove Tests */</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(voicemail_api_nominal_remove);</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(voicemail_api_off_nominal_remove);</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;   <span class="comment">/* Forward Tests */</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(voicemail_api_nominal_forward);</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(voicemail_api_off_nominal_forward);</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;   <span class="comment">/* Message Playback Tests */</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(voicemail_api_nominal_msg_playback);</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(voicemail_api_off_nominal_msg_playback);</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="test_8h_html_a34f64a69c09d98ceb693b077efd7ef97"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a></div><div class="ttdeci">#define AST_TEST_REGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00127">test.h:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa626a3189c67d5927499237e0c08dabc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa626a3189c67d5927499237e0c08dabc">&#9670;&nbsp;</a></span>message_playback_callback_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void message_playback_callback_fn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00775">775</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00279">AST_LOG_WARNING</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00347">global_entered_playback_callback</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01413">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;{</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   <span class="keywordflow">if</span> ((chan) &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>) &amp;&amp; duration &gt; 0) {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ac9ba902d68207f238e90dd03a54b5183">global_entered_playback_callback</a> = 1;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2878d83e36d91850732bad997524e45e">AST_LOG_WARNING</a>, <span class="stringliteral">&quot;Entered into message playback callback function with invalid parameters\n&quot;</span>);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="logger_8h_html_a2878d83e36d91850732bad997524e45e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a2878d83e36d91850732bad997524e45e">AST_LOG_WARNING</a></div><div class="ttdeci">#define AST_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00279">logger.h:279</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ac9ba902d68207f238e90dd03a54b5183"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ac9ba902d68207f238e90dd03a54b5183">global_entered_playback_callback</a></div><div class="ttdeci">static int global_entered_playback_callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00347">test_voicemail_api.c:347</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1939b1fd32ba45edae34361a83261ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1939b1fd32ba45edae34361a83261ae">&#9670;&nbsp;</a></span>test_vm_api_create_mock_channel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a>* test_vm_api_create_mock_channel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00818">818</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00637">ast_channel_nativeformats()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00828">ast_channel_set_rawreadformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00832">ast_channel_set_rawwriteformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00836">ast_channel_set_readformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00840">ast_channel_set_writeformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00773">ast_channel_tech_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00860">ast_channel_writeformat()</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00103">ast_format_cap_append</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00101">ast_format_gsm</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01413">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;{</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *mock_channel;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *native_formats;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="keywordflow">if</span> (!(mock_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <span class="stringliteral">&quot;TestChannel&quot;</span>))) {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;   }</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#afac6d7d115c1edfe3ad8a8c7fa5d59d1">ast_channel_set_writeformat</a>(mock_channel, <a class="code" href="../../db/d1c/format__cache_8h.html#a3c4c5f669f55befda69aa08699545ec7">ast_format_gsm</a>);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#aa2df58e77751b741b6891afe210b5b8c">ast_channel_set_rawwriteformat</a>(mock_channel, <a class="code" href="../../db/d1c/format__cache_8h.html#a3c4c5f669f55befda69aa08699545ec7">ast_format_gsm</a>);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ab3786cbbff7a03241fc75dafa0c8a1c1">ast_channel_set_readformat</a>(mock_channel, <a class="code" href="../../db/d1c/format__cache_8h.html#a3c4c5f669f55befda69aa08699545ec7">ast_format_gsm</a>);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a921a2d48faa9ed99a59d33e7aefa7888">ast_channel_set_rawreadformat</a>(mock_channel, <a class="code" href="../../db/d1c/format__cache_8h.html#a3c4c5f669f55befda69aa08699545ec7">ast_format_gsm</a>);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af0566a4937a5bb1323825e4ef89c0e5a">ast_channel_tech_set</a>(mock_channel, &amp;<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ab8316faec3a8eea202184777948b50bb">mock_channel_tech</a>);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   native_formats = <a class="code" href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a>(mock_channel);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(native_formats, <a class="code" href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a>(mock_channel), 0);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(mock_channel);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   <span class="keywordflow">return</span> mock_channel;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div><div class="ttc" id="test__voicemail__api_8c_html_ab8316faec3a8eea202184777948b50bb"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ab8316faec3a8eea202184777948b50bb">mock_channel_tech</a></div><div class="ttdeci">static const struct ast_channel_tech mock_channel_tech</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00806">test_voicemail_api.c:806</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="channel_8h_html_afac6d7d115c1edfe3ad8a8c7fa5d59d1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afac6d7d115c1edfe3ad8a8c7fa5d59d1">ast_channel_set_writeformat</a></div><div class="ttdeci">void ast_channel_set_writeformat(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00840">channel_internal_api.c:840</a></div></div>
<div class="ttc" id="channel_8h_html_aa2df58e77751b741b6891afe210b5b8c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa2df58e77751b741b6891afe210b5b8c">ast_channel_set_rawwriteformat</a></div><div class="ttdeci">void ast_channel_set_rawwriteformat(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00832">channel_internal_api.c:832</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_af0566a4937a5bb1323825e4ef89c0e5a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af0566a4937a5bb1323825e4ef89c0e5a">ast_channel_tech_set</a></div><div class="ttdeci">void ast_channel_tech_set(struct ast_channel *chan, const struct ast_channel_tech *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00773">channel_internal_api.c:773</a></div></div>
<div class="ttc" id="channel_8h_html_a921a2d48faa9ed99a59d33e7aefa7888"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a921a2d48faa9ed99a59d33e7aefa7888">ast_channel_set_rawreadformat</a></div><div class="ttdeci">void ast_channel_set_rawreadformat(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00828">channel_internal_api.c:828</a></div></div>
<div class="ttc" id="format__cache_8h_html_a3c4c5f669f55befda69aa08699545ec7"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a3c4c5f669f55befda69aa08699545ec7">ast_format_gsm</a></div><div class="ttdeci">struct ast_format * ast_format_gsm</div><div class="ttdoc">Built-in cached gsm format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00101">format_cache.c:101</a></div></div>
<div class="ttc" id="channel_8h_html_ab3786cbbff7a03241fc75dafa0c8a1c1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab3786cbbff7a03241fc75dafa0c8a1c1">ast_channel_set_readformat</a></div><div class="ttdeci">void ast_channel_set_readformat(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00836">channel_internal_api.c:836</a></div></div>
<div class="ttc" id="format__cap_8h_html_ab4d69f2179ed5ca138c9b3d85334217f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a></div><div class="ttdeci">#define ast_format_cap_append(cap, format, framing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00103">format_cap.h:103</a></div></div>
<div class="ttc" id="structast__format__cap_html"><div class="ttname"><a href="../../d8/d69/structast__format__cap.html">ast_format_cap</a></div><div class="ttdoc">Format capabilities structure, holds formats + preference order + etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00054">format_cap.c:54</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a4a5bc2ea394aace55ea3809e53365ea9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a></div><div class="ttdeci">struct ast_format_cap * ast_channel_nativeformats(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00637">channel_internal_api.c:637</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="channel_8h_html_a1dc625bd14a7875b04bfe0c388858929"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a></div><div class="ttdeci">struct ast_format * ast_channel_writeformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00860">channel_internal_api.c:860</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f01fcf321fec94bab7859f812d799b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f01fcf321fec94bab7859f812d799b7">&#9670;&nbsp;</a></span>test_vm_api_create_mock_snapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a>* test_vm_api_create_mock_snapshot </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00377">377</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00136">AST_MAX_CONTEXT</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00135">AST_MAX_EXTENSION</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01206">ast_str_hash()</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::callerid</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::msg_id</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00626">test_vm_api_test_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;{</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   <span class="keywordtype">char</span> msg_id_hash[<a class="code" href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a> + <a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a> + <span class="keyword">sizeof</span>(callerid) + 1];</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="keywordtype">char</span> msg_id_buf[256];</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *snapshot;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   snprintf(msg_id_hash, <span class="keyword">sizeof</span>(msg_id_hash), <span class="stringliteral">&quot;%s%s%s&quot;</span>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a18f046757da4c88a677d1be4816123f7">callerid</a>);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   snprintf(msg_id_buf, <span class="keyword">sizeof</span>(msg_id_buf), <span class="stringliteral">&quot;%ld-%d&quot;</span>, (<span class="keywordtype">long</span>)time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), <a class="code" href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a>(msg_id_hash));</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="keywordflow">if</span> ((snapshot = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*snapshot)))) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(snapshot, 128)) {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(snapshot);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(snapshot, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>, msg_id_buf);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(snapshot, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(snapshot, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a18f046757da4c88a677d1be4816123f7">callerid</a>, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a18f046757da4c88a677d1be4816123f7">callerid</a>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <span class="keywordflow">return</span> snapshot;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a59681ca5a1bf8b688099b82cd29d2e81"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">ast_vm_msg_snapshot::msg_id</a></div><div class="ttdeci">const ast_string_field msg_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00300">include/asterisk/app.h:300</a></div></div>
<div class="ttc" id="channel_8h_html_af4e59494f74ad9e0c50170d9e276ad31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a></div><div class="ttdeci">#define AST_MAX_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00135">channel.h:135</a></div></div>
<div class="ttc" id="channel_8h_html_abcf1aea85b924e9cd605040b86241e2a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a></div><div class="ttdeci">#define AST_MAX_CONTEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00136">channel.h:136</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a18f046757da4c88a677d1be4816123f7"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a18f046757da4c88a677d1be4816123f7">ast_vm_msg_snapshot::callerid</a></div><div class="ttdeci">const ast_string_field callerid</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="strings_8h_html_a33ab7fa091d5513d8507d3bd33ef5b55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a></div><div class="ttdeci">static force_inline int attribute_pure ast_str_hash(const char *str)</div><div class="ttdoc">Compute a hash value on a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01206">strings.h:1206</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad56c808922a9bdd3ccb7362cff780ee0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad56c808922a9bdd3ccb7362cff780ee0">&#9670;&nbsp;</a></span>test_vm_api_create_voicemail_files()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_vm_api_create_voicemail_files </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mailbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00445">445</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00158">ast_config_AST_DATA_DIR</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00154">ast_config_AST_SPOOL_DIR</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01168">AST_LOCK_FAILURE</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02457">ast_lock_path()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00290">AST_LOG_ERROR</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02473">ast_unlock_path()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::callerchan</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::callerid</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::duration</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::exten</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::flag</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::folder_name</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::msg_id</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00312">ast_vm_msg_snapshot::msg_number</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::origdate</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::origtime</a>, <a class="el" href="../../db/db2/asterisk_8h_source.html#l00040">PATH_MAX</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00419">test_vm_api_create_voicemail_folder()</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00060">VOICEMAIL_FILE_MODE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00626">test_vm_api_test_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;{</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   FILE *msg_file;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   <span class="keywordtype">char</span> folder_path[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <span class="keywordtype">char</span> msg_path[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   <span class="keywordtype">char</span> snd_path[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   <span class="keywordtype">char</span> beep_path[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   <span class="comment">/* Note that we create both the text and a dummy sound file here.  Without</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">    * the sound file, a number of the voicemail operations &#39;silently&#39; fail, as it</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">    * does not believe that an actual voicemail exists</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   snprintf(folder_path, <span class="keyword">sizeof</span>(folder_path), <span class="stringliteral">&quot;%s/voicemail/%s/%s/%s&quot;</span>,</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <a class="code" href="../../dd/df2/paths_8h.html#a95c5b4ffe620dc96d1ea9311b35c4d4f">ast_config_AST_SPOOL_DIR</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a02dd8d10362bd0a7035d9f2bf74375b7">folder_name</a>);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   snprintf(msg_path, <span class="keyword">sizeof</span>(msg_path), <span class="stringliteral">&quot;%s/msg%04u.txt&quot;</span>,</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      folder_path, snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">msg_number</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   snprintf(snd_path, <span class="keyword">sizeof</span>(snd_path), <span class="stringliteral">&quot;%s/msg%04u.gsm&quot;</span>,</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      folder_path, snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">msg_number</a>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   snprintf(beep_path, <span class="keyword">sizeof</span>(beep_path), <span class="stringliteral">&quot;%s/sounds/en/beep.gsm&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a63af4213b5b83f717398d8d62008a50d">ast_config_AST_DATA_DIR</a>);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aeb019fa08cece5186be64aec665d4f5a">test_vm_api_create_voicemail_folder</a>(folder_path)) {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a74c57b5a842dcbc15cc991a31f679a13">ast_lock_path</a>(folder_path) == <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8cac59129c6f641d69ad14017c1ba1f2635">AST_LOCK_FAILURE</a>) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to lock directory %s\n&quot;</span>, folder_path);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   <span class="keywordflow">if</span> (symlink(beep_path, snd_path)) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af6428878db94a4adf8136850e6a654f5">ast_unlock_path</a>(folder_path);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to create a symbolic link from %s to %s: %s\n&quot;</span>,</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;         beep_path, snd_path, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   <span class="keywordflow">if</span> (!(msg_file = fopen(msg_path, <span class="stringliteral">&quot;w&quot;</span>))) {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="comment">/* Attempt to remove the sound file */</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      unlink(snd_path);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af6428878db94a4adf8136850e6a654f5">ast_unlock_path</a>(folder_path);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to open %s for writing\n&quot;</span>, msg_path);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   fprintf(msg_file, <span class="stringliteral">&quot;;\n; Message Information file\n;\n&quot;</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="stringliteral">&quot;[message]\n&quot;</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="stringliteral">&quot;origmailbox=%s\n&quot;</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="stringliteral">&quot;context=%s\n&quot;</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="stringliteral">&quot;macrocontext=%s\n&quot;</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="stringliteral">&quot;exten=%s\n&quot;</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="stringliteral">&quot;rdnis=%s\n&quot;</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <span class="stringliteral">&quot;priority=%d\n&quot;</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="stringliteral">&quot;callerchan=%s\n&quot;</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="stringliteral">&quot;callerid=%s\n&quot;</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <span class="stringliteral">&quot;origdate=%s\n&quot;</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="stringliteral">&quot;origtime=%s\n&quot;</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="stringliteral">&quot;category=%s\n&quot;</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="stringliteral">&quot;msg_id=%s\n&quot;</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="stringliteral">&quot;flag=%s\n&quot;</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="stringliteral">&quot;duration=%s\n&quot;</span>,</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>,</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>,</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#aaee31f4cc48985167efcd38ab252dac8">exten</a>,</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="stringliteral">&quot;unknown&quot;</span>,</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      1,</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab2e83e968e67ad5c51b9b6e3fad4ff49">callerchan</a>,</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a18f046757da4c88a677d1be4816123f7">callerid</a>,</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#add25276444d52717c78abe78dc880143">origdate</a>,</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a1eb8e3f5b54979ef94248fa4f7bd3104">origtime</a>,</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>,</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#adf0385e3ab3a3222a8f6fe9bc4464e9f">flag</a>,</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab6bab83d3dd8336becf8974ef458c2ea">duration</a>);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   fclose(msg_file);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   <span class="keywordflow">if</span> (chmod(msg_path, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ad7a947388a2ca648ab06fc5c510524d4">VOICEMAIL_FILE_MODE</a>) &lt; 0) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af6428878db94a4adf8136850e6a654f5">ast_unlock_path</a>(folder_path);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a>, <span class="stringliteral">&quot;Couldn&#39;t set permissions on voicemail text file %s: %s&quot;</span>, msg_path, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af6428878db94a4adf8136850e6a654f5">ast_unlock_path</a>(folder_path);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div><div class="ttc" id="structast__vm__msg__snapshot_html_a59681ca5a1bf8b688099b82cd29d2e81"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">ast_vm_msg_snapshot::msg_id</a></div><div class="ttdeci">const ast_string_field msg_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_add25276444d52717c78abe78dc880143"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#add25276444d52717c78abe78dc880143">ast_vm_msg_snapshot::origdate</a></div><div class="ttdeci">const ast_string_field origdate</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_ab6bab83d3dd8336becf8974ef458c2ea"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#ab6bab83d3dd8336becf8974ef458c2ea">ast_vm_msg_snapshot::duration</a></div><div class="ttdeci">const ast_string_field duration</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a02dd8d10362bd0a7035d9f2bf74375b7"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a02dd8d10362bd0a7035d9f2bf74375b7">ast_vm_msg_snapshot::folder_name</a></div><div class="ttdeci">const ast_string_field folder_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a73d00a61bed6e8a91ac3befb90e2d28a"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">ast_vm_msg_snapshot::msg_number</a></div><div class="ttdeci">unsigned int msg_number</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00312">include/asterisk/app.h:312</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_ab2e83e968e67ad5c51b9b6e3fad4ff49"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#ab2e83e968e67ad5c51b9b6e3fad4ff49">ast_vm_msg_snapshot::callerchan</a></div><div class="ttdeci">const ast_string_field callerchan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_af6428878db94a4adf8136850e6a654f5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#af6428878db94a4adf8136850e6a654f5">ast_unlock_path</a></div><div class="ttdeci">int ast_unlock_path(const char *path)</div><div class="ttdoc">Unlock a path. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l02473">main/app.c:2473</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a74c57b5a842dcbc15cc991a31f679a13"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a74c57b5a842dcbc15cc991a31f679a13">ast_lock_path</a></div><div class="ttdeci">enum AST_LOCK_RESULT ast_lock_path(const char *path)</div><div class="ttdoc">Lock a filesystem path. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l02457">main/app.c:2457</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a6b49cafa2a3d359a2e865992f551874a"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a></div><div class="ttdeci">static char mailbox[AST_MAX_MAILBOX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00204">chan_mgcp.c:204</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_aaee31f4cc48985167efcd38ab252dac8"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#aaee31f4cc48985167efcd38ab252dac8">ast_vm_msg_snapshot::exten</a></div><div class="ttdeci">const ast_string_field exten</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="logger_8h_html_a2fdd5bff193a29ec6c7278da2851ea56"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a></div><div class="ttdeci">#define AST_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00290">logger.h:290</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a1eb8e3f5b54979ef94248fa4f7bd3104"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a1eb8e3f5b54979ef94248fa4f7bd3104">ast_vm_msg_snapshot::origtime</a></div><div class="ttdeci">const ast_string_field origtime</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_aeb019fa08cece5186be64aec665d4f5a"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#aeb019fa08cece5186be64aec665d4f5a">test_vm_api_create_voicemail_folder</a></div><div class="ttdeci">static int test_vm_api_create_voicemail_folder(const char *folder_path)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00419">test_voicemail_api.c:419</a></div></div>
<div class="ttc" id="paths_8h_html_a63af4213b5b83f717398d8d62008a50d"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a63af4213b5b83f717398d8d62008a50d">ast_config_AST_DATA_DIR</a></div><div class="ttdeci">const char * ast_config_AST_DATA_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00158">options.c:158</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="paths_8h_html_a95c5b4ffe620dc96d1ea9311b35c4d4f"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a95c5b4ffe620dc96d1ea9311b35c4d4f">ast_config_AST_SPOOL_DIR</a></div><div class="ttdeci">const char * ast_config_AST_SPOOL_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00154">options.c:154</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_adf0385e3ab3a3222a8f6fe9bc4464e9f"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#adf0385e3ab3a3222a8f6fe9bc4464e9f">ast_vm_msg_snapshot::flag</a></div><div class="ttdeci">const ast_string_field flag</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a382bf96f47f0b7fa86ae5ed0644b3f8cac59129c6f641d69ad14017c1ba1f2635"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8cac59129c6f641d69ad14017c1ba1f2635">AST_LOCK_FAILURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01168">include/asterisk/app.h:1168</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ad7a947388a2ca648ab06fc5c510524d4"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ad7a947388a2ca648ab06fc5c510524d4">VOICEMAIL_FILE_MODE</a></div><div class="ttdeci">#define VOICEMAIL_FILE_MODE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00060">test_voicemail_api.c:60</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a18f046757da4c88a677d1be4816123f7"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a18f046757da4c88a677d1be4816123f7">ast_vm_msg_snapshot::callerid</a></div><div class="ttdeci">const ast_string_field callerid</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb019fa08cece5186be64aec665d4f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb019fa08cece5186be64aec665d4f5a">&#9670;&nbsp;</a></span>test_vm_api_create_voicemail_folder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_vm_api_create_voicemail_folder </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>folder_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00419">419</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00290">AST_LOG_ERROR</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02231">ast_mkdir()</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00052">VOICEMAIL_DIR_MODE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00445">test_vm_api_create_voicemail_files()</a>.</p>
<div class="fragment"><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;{</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   mode_t mode = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a158fef5d62bdc9b70bcf52e13c6a76c1">VOICEMAIL_DIR_MODE</a>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a>(folder_path, mode))) {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a>, <span class="stringliteral">&quot;ast_mkdir &#39;%s&#39; failed: %s\n&quot;</span>, folder_path, strerror(res));</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div><div class="ttc" id="test__voicemail__api_8c_html_a158fef5d62bdc9b70bcf52e13c6a76c1"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a158fef5d62bdc9b70bcf52e13c6a76c1">VOICEMAIL_DIR_MODE</a></div><div class="ttdeci">#define VOICEMAIL_DIR_MODE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00052">test_voicemail_api.c:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_a2fdd5bff193a29ec6c7278da2851ea56"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a></div><div class="ttdeci">#define AST_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00290">logger.h:290</a></div></div>
<div class="ttc" id="utils_8h_html_a7c38859ed90e96df2b0a0fdf843769d0"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a></div><div class="ttdeci">int ast_mkdir(const char *path, int mode)</div><div class="ttdoc">Recursively create directory path. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02231">main/utils.c:2231</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f10a334a6bc66283db3a59270f33cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f10a334a6bc66283db3a59270f33cf5">&#9670;&nbsp;</a></span>test_vm_api_destroy_mailbox_voicemails()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_vm_api_destroy_mailbox_voicemails </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mailbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a> *&#160;</td>
          <td class="paramname"><em>mailbox_snapshot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00572">572</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00118">exten</a>, <a class="el" href="../../dc/d95/structast__vm__msg__snapshot.html#aa50b8de55252d0a60d72fabbdd8b0314">ast_vm_msg_snapshot::msg</a>, <a class="el" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#a1a119a01eb13505ebe560442a8e9cda8">ast_vm_mailbox_snapshot::snapshots</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00537">test_vm_api_remove_voicemail()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00589">test_vm_api_remove_all_messages()</a>.</p>
<div class="fragment"><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;{</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#aa50b8de55252d0a60d72fabbdd8b0314">msg</a>;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; 12; ++i) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;mailbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#a1a119a01eb13505ebe560442a8e9cda8">snapshots</a>[i], msg, msg) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;         <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa022941600c33c8da8ac0685fb584c38">test_vm_api_remove_voicemail</a>(msg);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_aa50b8de55252d0a60d72fabbdd8b0314"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#aa50b8de55252d0a60d72fabbdd8b0314">ast_vm_msg_snapshot::msg</a></div><div class="ttdeci">struct ast_vm_msg_snapshot::@222 msg</div></div>
<div class="ttc" id="chan__mgcp_8c_html_a6b49cafa2a3d359a2e865992f551874a"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a></div><div class="ttdeci">static char mailbox[AST_MAX_MAILBOX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00204">chan_mgcp.c:204</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00300">include/asterisk/app.h:300</a></div></div>
<div class="ttc" id="structast__vm__mailbox__snapshot_html_a1a119a01eb13505ebe560442a8e9cda8"><div class="ttname"><a href="../../d3/dbc/structast__vm__mailbox__snapshot.html#a1a119a01eb13505ebe560442a8e9cda8">ast_vm_mailbox_snapshot::snapshots</a></div><div class="ttdeci">struct ast_vm_mailbox_snapshot::@223 * snapshots</div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_aa022941600c33c8da8ac0685fb584c38"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#aa022941600c33c8da8ac0685fb584c38">test_vm_api_remove_voicemail</a></div><div class="ttdeci">static void test_vm_api_remove_voicemail(struct ast_vm_msg_snapshot *snapshot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00537">test_voicemail_api.c:537</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a48bc05e0c43cb005580c158957f40448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48bc05e0c43cb005580c158957f40448">&#9670;&nbsp;</a></span>test_vm_api_destroy_mock_snapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_vm_api_destroy_mock_snapshot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00402">402</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, and <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00626">test_vm_api_test_setup()</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00716">test_vm_api_test_teardown()</a>.</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="keywordflow">if</span> (snapshot) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(snapshot);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(snapshot);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div><div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a007b93673ee69eb35ce5eaac46e976e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a007b93673ee69eb35ce5eaac46e976e3">&#9670;&nbsp;</a></span>test_vm_api_mock_channel_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a>* test_vm_api_mock_channel_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00797">797</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d55/main_2frame_8c_source.html#l00079">ast_null_frame</a>.</p>
<div class="fragment"><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;{</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   <span class="keywordflow">return</span> &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div><div class="ttc" id="include_2asterisk_2frame_8h_html_af203379aca2fd704fe8d86a9445596b6"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a></div><div class="ttdeci">struct ast_frame ast_null_frame</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d55/main_2frame_8c_source.html#l00079">main/frame.c:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e37838db4f9d44e8aa368480f0d2733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e37838db4f9d44e8aa368480f0d2733">&#9670;&nbsp;</a></span>test_vm_api_mock_channel_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_vm_api_mock_channel_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00788">788</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;{</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a6ebecaf4f415ba5824d09824452d876b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ebecaf4f415ba5824d09824452d876b">&#9670;&nbsp;</a></span>test_vm_api_remove_all_messages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_vm_api_remove_all_messages </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00589">589</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00279">AST_LOG_WARNING</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00734">ast_vm_mailbox_snapshot_create()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00748">ast_vm_mailbox_snapshot_destroy()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00296">AST_VM_SNAPSHOT_SORT_BY_ID</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00572">test_vm_api_destroy_mailbox_voicemails()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00626">test_vm_api_test_setup()</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00716">test_vm_api_test_teardown()</a>.</p>
<div class="fragment"><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;{</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a> *mailbox_snapshot;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;   <span class="comment">/* Take a snapshot of each mailbox and remove the contents.  Note that we need to use</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">    * snapshots of the mailboxes in addition to our tracked test snapshots, as there&#39;s a good chance</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment">    * we&#39;ve created copies of the snapshots */</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <span class="keywordflow">if</span> ((mailbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ae5d77d1c2cf9d8e187cb6559021f87c5">ast_vm_mailbox_snapshot_create</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491a564e6105590992ed518ac4dccbdc483b">AST_VM_SNAPSHOT_SORT_BY_ID</a>, 0))) {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a1f10a334a6bc66283db3a59270f33cf5">test_vm_api_destroy_mailbox_voicemails</a>(<span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, mailbox_snapshot);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      mailbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(mailbox_snapshot);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2878d83e36d91850732bad997524e45e">AST_LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to create mailbox snapshot - could not remove test messages for test_vm_api_1234\n&quot;</span>);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <span class="keywordflow">if</span> ((mailbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ae5d77d1c2cf9d8e187cb6559021f87c5">ast_vm_mailbox_snapshot_create</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491a564e6105590992ed518ac4dccbdc483b">AST_VM_SNAPSHOT_SORT_BY_ID</a>, 0))) {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a1f10a334a6bc66283db3a59270f33cf5">test_vm_api_destroy_mailbox_voicemails</a>(<span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, mailbox_snapshot);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      mailbox_snapshot = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a>(mailbox_snapshot);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2878d83e36d91850732bad997524e45e">AST_LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to create mailbox snapshot - could not remove test messages for test_vm_api_2345\n&quot;</span>);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div><div class="ttc" id="test__voicemail__api_8c_html_a1f10a334a6bc66283db3a59270f33cf5"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a1f10a334a6bc66283db3a59270f33cf5">test_vm_api_destroy_mailbox_voicemails</a></div><div class="ttdeci">static void test_vm_api_destroy_mailbox_voicemails(const char *mailbox, struct ast_vm_mailbox_snapshot *mailbox_snapshot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00572">test_voicemail_api.c:572</a></div></div>
<div class="ttc" id="logger_8h_html_a2878d83e36d91850732bad997524e45e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a2878d83e36d91850732bad997524e45e">AST_LOG_WARNING</a></div><div class="ttdeci">#define AST_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00279">logger.h:279</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a632bfa316101ce8087f60f59ff909294"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a632bfa316101ce8087f60f59ff909294">ast_vm_mailbox_snapshot_destroy</a></div><div class="ttdeci">struct ast_vm_mailbox_snapshot * ast_vm_mailbox_snapshot_destroy(struct ast_vm_mailbox_snapshot *mailbox_snapshot)</div><div class="ttdoc">destroy a snapshot </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00748">main/app.c:748</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ae5d77d1c2cf9d8e187cb6559021f87c5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ae5d77d1c2cf9d8e187cb6559021f87c5">ast_vm_mailbox_snapshot_create</a></div><div class="ttdeci">struct ast_vm_mailbox_snapshot * ast_vm_mailbox_snapshot_create(const char *mailbox, const char *context, const char *folder, int descending, enum ast_vm_snapshot_sort_val sort_val, int combine_INBOX_and_OLD)</div><div class="ttdoc">Create a snapshot of a mailbox which contains information about every msg. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00734">main/app.c:734</a></div></div>
<div class="ttc" id="structast__vm__mailbox__snapshot_html"><div class="ttname"><a href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00317">include/asterisk/app.h:317</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a67fca777538364c249bf1b66b2a22491a564e6105590992ed518ac4dccbdc483b"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a67fca777538364c249bf1b66b2a22491a564e6105590992ed518ac4dccbdc483b">AST_VM_SNAPSHOT_SORT_BY_ID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00296">include/asterisk/app.h:296</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa022941600c33c8da8ac0685fb584c38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa022941600c33c8da8ac0685fb584c38">&#9670;&nbsp;</a></span>test_vm_api_remove_voicemail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_vm_api_remove_voicemail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00537">537</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00154">ast_config_AST_SPOOL_DIR</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::exten</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::folder_name</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00312">ast_vm_msg_snapshot::msg_number</a>, and <a class="el" href="../../db/db2/asterisk_8h_source.html#l00040">PATH_MAX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00572">test_vm_api_destroy_mailbox_voicemails()</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00716">test_vm_api_test_teardown()</a>.</p>
<div class="fragment"><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <span class="keywordtype">char</span> msg_path[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <span class="keywordtype">char</span> snd_path[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <span class="keywordtype">char</span> folder_path[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;   <span class="keywordflow">if</span> (!snapshot) {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   }</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   snprintf(folder_path, <span class="keyword">sizeof</span>(folder_path), <span class="stringliteral">&quot;%s/voicemail/%s/%s/%s&quot;</span>,</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <a class="code" href="../../dd/df2/paths_8h.html#a95c5b4ffe620dc96d1ea9311b35c4d4f">ast_config_AST_SPOOL_DIR</a>, <span class="stringliteral">&quot;default&quot;</span>, snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#aaee31f4cc48985167efcd38ab252dac8">exten</a>, snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a02dd8d10362bd0a7035d9f2bf74375b7">folder_name</a>);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   snprintf(msg_path, <span class="keyword">sizeof</span>(msg_path), <span class="stringliteral">&quot;%s/msg%04u.txt&quot;</span>,</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;         folder_path, snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">msg_number</a>);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   snprintf(snd_path, <span class="keyword">sizeof</span>(snd_path), <span class="stringliteral">&quot;%s/msg%04u.gsm&quot;</span>,</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;         folder_path, snapshot-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">msg_number</a>);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;   unlink(msg_path);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   unlink(snd_path);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div><div class="ttc" id="structast__vm__msg__snapshot_html_a02dd8d10362bd0a7035d9f2bf74375b7"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a02dd8d10362bd0a7035d9f2bf74375b7">ast_vm_msg_snapshot::folder_name</a></div><div class="ttdeci">const ast_string_field folder_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a73d00a61bed6e8a91ac3befb90e2d28a"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">ast_vm_msg_snapshot::msg_number</a></div><div class="ttdeci">unsigned int msg_number</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00312">include/asterisk/app.h:312</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_aaee31f4cc48985167efcd38ab252dac8"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#aaee31f4cc48985167efcd38ab252dac8">ast_vm_msg_snapshot::exten</a></div><div class="ttdeci">const ast_string_field exten</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="paths_8h_html_a95c5b4ffe620dc96d1ea9311b35c4d4f"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a95c5b4ffe620dc96d1ea9311b35c4d4f">ast_config_AST_SPOOL_DIR</a></div><div class="ttdeci">const char * ast_config_AST_SPOOL_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00154">options.c:154</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a211f96b043f8412b8255edd921831ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a211f96b043f8412b8255edd921831ab1">&#9670;&nbsp;</a></span>test_vm_api_test_setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_vm_api_test_setup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00626">626</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00290">AST_LOG_ERROR</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00813">ast_vm_test_create_user()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::callerchan</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::duration</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00118">exten</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::folder_name</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00312">ast_vm_msg_snapshot::msg_number</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::origdate</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::origtime</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00377">test_vm_api_create_mock_snapshot()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00445">test_vm_api_create_voicemail_files()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00402">test_vm_api_destroy_mock_snapshot()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00589">test_vm_api_remove_all_messages()</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00066">TOTAL_SNAPSHOTS</a>.</p>
<div class="fragment"><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;{</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   <span class="keywordtype">int</span> i, res = 0;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *msg_one = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *msg_two = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *msg_three = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *msg_four = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   <span class="comment">/* Make the four sample voicemails */</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   <span class="keywordflow">if</span> (   !((msg_one = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a5f01fcf321fec94bab7859f812d799b7">test_vm_api_create_mock_snapshot</a>(<span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;\&quot;Phil\&quot; &lt;2000&gt;&quot;</span>)))</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      || !((msg_two = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a5f01fcf321fec94bab7859f812d799b7">test_vm_api_create_mock_snapshot</a>(<span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>, <span class="stringliteral">&quot;\&quot;Noel\&quot; &lt;8000&gt;&quot;</span>)))</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      || !((msg_three = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a5f01fcf321fec94bab7859f812d799b7">test_vm_api_create_mock_snapshot</a>(<span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;\&quot;Phil\&quot; &lt;2000&gt;&quot;</span>)))</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      || !((msg_four = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a5f01fcf321fec94bab7859f812d799b7">test_vm_api_create_mock_snapshot</a>(<span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>, <span class="stringliteral">&quot;\&quot;Bill\&quot; &lt;3000&gt;&quot;</span>)))) {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to create mock snapshots for test\n&quot;</span>);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a>(msg_one);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a>(msg_two);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a>(msg_three);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a>(msg_four);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;   <span class="comment">/* Create the voicemail users */</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#addab2e19809d9d8d6dcde9548982b4bd">ast_vm_test_create_user</a>(<span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>)</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      || <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#addab2e19809d9d8d6dcde9548982b4bd">ast_vm_test_create_user</a>(<span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>)) {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to create test voicemail users\n&quot;</span>);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a>(msg_one);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a>(msg_two);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a>(msg_three);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a>(msg_four);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="comment">/* Note that the cleanup macro will ensure that any test user that</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">       * was successfully created is removed</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <span class="comment">/* Now that the users exist from the perspective of the voicemail</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">    * application, attempt to remove any existing voicemails</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6ebecaf4f415ba5824d09824452d876b">test_vm_api_remove_all_messages</a>();</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   <span class="comment">/* Set the basic properties on each */</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_one, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab2e83e968e67ad5c51b9b6e3fad4ff49">callerchan</a>, <span class="stringliteral">&quot;SIP/2000-00000000&quot;</span>);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_one, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#add25276444d52717c78abe78dc880143">origdate</a>, <span class="stringliteral">&quot;Mon Mar 19 04:14:21 PM UTC 2012&quot;</span>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_one, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a1eb8e3f5b54979ef94248fa4f7bd3104">origtime</a>, <span class="stringliteral">&quot;1332173661&quot;</span>);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_one, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab6bab83d3dd8336becf8974ef458c2ea">duration</a>, <span class="stringliteral">&quot;8&quot;</span>);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_one, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a02dd8d10362bd0a7035d9f2bf74375b7">folder_name</a>, <span class="stringliteral">&quot;Old&quot;</span>);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   msg_one-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">msg_number</a> = 0;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[0] = msg_one;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_two, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab2e83e968e67ad5c51b9b6e3fad4ff49">callerchan</a>, <span class="stringliteral">&quot;SIP/8000-00000001&quot;</span>);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_two, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#add25276444d52717c78abe78dc880143">origdate</a>, <span class="stringliteral">&quot;Mon Mar 19 06:16:13 PM UTC 2012&quot;</span>);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_two, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a1eb8e3f5b54979ef94248fa4f7bd3104">origtime</a>, <span class="stringliteral">&quot;1332180973&quot;</span>);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_two, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab6bab83d3dd8336becf8974ef458c2ea">duration</a>, <span class="stringliteral">&quot;24&quot;</span>);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_two, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a02dd8d10362bd0a7035d9f2bf74375b7">folder_name</a>, <span class="stringliteral">&quot;INBOX&quot;</span>);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   msg_two-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">msg_number</a> = 0;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[1] = msg_two;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_three, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab2e83e968e67ad5c51b9b6e3fad4ff49">callerchan</a>, <span class="stringliteral">&quot;IAX/2000-000000a3&quot;</span>);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_three, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#add25276444d52717c78abe78dc880143">origdate</a>, <span class="stringliteral">&quot;Thu Mar 22 23:13:03 PM UTC 2012&quot;</span>);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_three, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a1eb8e3f5b54979ef94248fa4f7bd3104">origtime</a>, <span class="stringliteral">&quot;1332181251&quot;</span>);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_three, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab6bab83d3dd8336becf8974ef458c2ea">duration</a>, <span class="stringliteral">&quot;25&quot;</span>);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_three, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a02dd8d10362bd0a7035d9f2bf74375b7">folder_name</a>, <span class="stringliteral">&quot;INBOX&quot;</span>);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   msg_three-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">msg_number</a> = 0;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[2] = msg_three;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_four, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab2e83e968e67ad5c51b9b6e3fad4ff49">callerchan</a>, <span class="stringliteral">&quot;DAHDI/3000-00000010&quot;</span>);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_four, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#add25276444d52717c78abe78dc880143">origdate</a>, <span class="stringliteral">&quot;Fri Mar 23 03:01:03 AM UTC 2012&quot;</span>);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_four, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a1eb8e3f5b54979ef94248fa4f7bd3104">origtime</a>, <span class="stringliteral">&quot;1332181362&quot;</span>);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_four, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab6bab83d3dd8336becf8974ef458c2ea">duration</a>, <span class="stringliteral">&quot;13&quot;</span>);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(msg_four, <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a02dd8d10362bd0a7035d9f2bf74375b7">folder_name</a>, <span class="stringliteral">&quot;INBOX&quot;</span>);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   msg_three-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">msg_number</a> = 1;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[3] = msg_four;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   <span class="comment">/* Store the messages */</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a11b584a84403848521141ab5001c90d8">TOTAL_SNAPSHOTS</a>; ++i) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#ad56c808922a9bdd3ccb7362cff780ee0">test_vm_api_create_voicemail_files</a>(<span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i]-&gt;<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i])) {</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;         <span class="comment">/* On a failure, the test_vm_api_test_teardown method will remove and</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">          * unlink any created files. Since we failed to create the file, clean</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">          * up the object here instead */</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to store voicemail %s/%s\n&quot;</span>,</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i]-&gt;<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;         <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i]);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;         <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i] = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;         res = 1;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_add25276444d52717c78abe78dc880143"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#add25276444d52717c78abe78dc880143">ast_vm_msg_snapshot::origdate</a></div><div class="ttdeci">const ast_string_field origdate</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_ab6bab83d3dd8336becf8974ef458c2ea"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#ab6bab83d3dd8336becf8974ef458c2ea">ast_vm_msg_snapshot::duration</a></div><div class="ttdeci">const ast_string_field duration</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a02dd8d10362bd0a7035d9f2bf74375b7"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a02dd8d10362bd0a7035d9f2bf74375b7">ast_vm_msg_snapshot::folder_name</a></div><div class="ttdeci">const ast_string_field folder_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a73d00a61bed6e8a91ac3befb90e2d28a"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">ast_vm_msg_snapshot::msg_number</a></div><div class="ttdeci">unsigned int msg_number</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00312">include/asterisk/app.h:312</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a6ebecaf4f415ba5824d09824452d876b"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a6ebecaf4f415ba5824d09824452d876b">test_vm_api_remove_all_messages</a></div><div class="ttdeci">static void test_vm_api_remove_all_messages(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00589">test_voicemail_api.c:589</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_ab2e83e968e67ad5c51b9b6e3fad4ff49"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#ab2e83e968e67ad5c51b9b6e3fad4ff49">ast_vm_msg_snapshot::callerchan</a></div><div class="ttdeci">const ast_string_field callerchan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a48bc05e0c43cb005580c158957f40448"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a></div><div class="ttdeci">static void test_vm_api_destroy_mock_snapshot(struct ast_vm_msg_snapshot *snapshot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00402">test_voicemail_api.c:402</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_ad56c808922a9bdd3ccb7362cff780ee0"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#ad56c808922a9bdd3ccb7362cff780ee0">test_vm_api_create_voicemail_files</a></div><div class="ttdeci">static int test_vm_api_create_voicemail_files(const char *context, const char *mailbox, struct ast_vm_msg_snapshot *snapshot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00445">test_voicemail_api.c:445</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_a2fdd5bff193a29ec6c7278da2851ea56"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a></div><div class="ttdeci">#define AST_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00290">logger.h:290</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00300">include/asterisk/app.h:300</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a1eb8e3f5b54979ef94248fa4f7bd3104"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a1eb8e3f5b54979ef94248fa4f7bd3104">ast_vm_msg_snapshot::origtime</a></div><div class="ttdeci">const ast_string_field origtime</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a45221ff4e9858d612eaa6a26b4f360c8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_snapshots[TOTAL_SNAPSHOTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">test_voicemail_api.c:341</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a5f01fcf321fec94bab7859f812d799b7"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a5f01fcf321fec94bab7859f812d799b7">test_vm_api_create_mock_snapshot</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_vm_api_create_mock_snapshot(const char *context, const char *exten, const char *callerid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00377">test_voicemail_api.c:377</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_addab2e19809d9d8d6dcde9548982b4bd"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#addab2e19809d9d8d6dcde9548982b4bd">ast_vm_test_create_user</a></div><div class="ttdeci">int ast_vm_test_create_user(const char *context, const char *mailbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00813">main/app.c:813</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a11b584a84403848521141ab5001c90d8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a11b584a84403848521141ab5001c90d8">TOTAL_SNAPSHOTS</a></div><div class="ttdeci">#define TOTAL_SNAPSHOTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00066">test_voicemail_api.c:66</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42bcded5d05a803b703f5fe7b1fd2571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42bcded5d05a803b703f5fe7b1fd2571">&#9670;&nbsp;</a></span>test_vm_api_test_teardown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_vm_api_test_teardown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00716">716</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00821">ast_vm_test_destroy_user()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00402">test_vm_api_destroy_mock_snapshot()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00589">test_vm_api_remove_all_messages()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00537">test_vm_api_remove_voicemail()</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00066">TOTAL_SNAPSHOTS</a>.</p>
<div class="fragment"><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   <span class="comment">/* Remove our test message snapshots */</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a11b584a84403848521141ab5001c90d8">TOTAL_SNAPSHOTS</a>; ++i) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#aa022941600c33c8da8ac0685fb584c38">test_vm_api_remove_voicemail</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i]);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i]);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i] = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   }</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a6ebecaf4f415ba5824d09824452d876b">test_vm_api_remove_all_messages</a>();</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   <span class="comment">/* Remove the test users */</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a93e94d3cc629fd826c72c14f59367e1e">ast_vm_test_destroy_user</a>(<span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;test_vm_api_1234&quot;</span>);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a93e94d3cc629fd826c72c14f59367e1e">ast_vm_test_destroy_user</a>(<span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;test_vm_api_2345&quot;</span>);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;}</div><div class="ttc" id="test__voicemail__api_8c_html_a6ebecaf4f415ba5824d09824452d876b"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a6ebecaf4f415ba5824d09824452d876b">test_vm_api_remove_all_messages</a></div><div class="ttdeci">static void test_vm_api_remove_all_messages(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00589">test_voicemail_api.c:589</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a93e94d3cc629fd826c72c14f59367e1e"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a93e94d3cc629fd826c72c14f59367e1e">ast_vm_test_destroy_user</a></div><div class="ttdeci">int ast_vm_test_destroy_user(const char *context, const char *mailbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00821">main/app.c:821</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a48bc05e0c43cb005580c158957f40448"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a48bc05e0c43cb005580c158957f40448">test_vm_api_destroy_mock_snapshot</a></div><div class="ttdeci">static void test_vm_api_destroy_mock_snapshot(struct ast_vm_msg_snapshot *snapshot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00402">test_voicemail_api.c:402</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a45221ff4e9858d612eaa6a26b4f360c8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_snapshots[TOTAL_SNAPSHOTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">test_voicemail_api.c:341</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a11b584a84403848521141ab5001c90d8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a11b584a84403848521141ab5001c90d8">TOTAL_SNAPSHOTS</a></div><div class="ttdeci">#define TOTAL_SNAPSHOTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00066">test_voicemail_api.c:66</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_aa022941600c33c8da8ac0685fb584c38"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#aa022941600c33c8da8ac0685fb584c38">test_vm_api_remove_voicemail</a></div><div class="ttdeci">static void test_vm_api_remove_voicemail(struct ast_vm_msg_snapshot *snapshot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00537">test_voicemail_api.c:537</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aed8664c0674d2f111ae0b3028725781d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed8664c0674d2f111ae0b3028725781d">&#9670;&nbsp;</a></span>test_vm_api_update_test_snapshots()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_vm_api_update_test_snapshots </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dbc/structast__vm__mailbox__snapshot.html">ast_vm_mailbox_snapshot</a> *&#160;</td>
          <td class="paramname"><em>mailbox_snapshot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00740">740</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::callerchan</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::callerid</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::duration</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00118">exten</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::exten</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::flag</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::folder_name</a>, <a class="el" href="../../dc/d95/structast__vm__msg__snapshot.html#aa50b8de55252d0a60d72fabbdd8b0314">ast_vm_msg_snapshot::msg</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::msg_id</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00312">ast_vm_msg_snapshot::msg_number</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::origdate</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">ast_vm_msg_snapshot::origtime</a>, <a class="el" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#a1a119a01eb13505ebe560442a8e9cda8">ast_vm_mailbox_snapshot::snapshots</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00066">TOTAL_SNAPSHOTS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00966">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;{</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   <span class="keywordtype">int</span> i, j;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a> *<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#aa50b8de55252d0a60d72fabbdd8b0314">msg</a>;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a11b584a84403848521141ab5001c90d8">TOTAL_SNAPSHOTS</a>; ++i) {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <span class="keywordflow">for</span> (j = 0; j &lt; 12; ++j) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;mailbox_snapshot-&gt;<a class="code" href="../../d3/dbc/structast__vm__mailbox__snapshot.html#a1a119a01eb13505ebe560442a8e9cda8">snapshots</a>[j], msg, msg) {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="keywordflow">if</span> (!strcmp(msg-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>, <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">msg_id</a>)) {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;               <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i], <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a18f046757da4c88a677d1be4816123f7">callerid</a>, msg-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a18f046757da4c88a677d1be4816123f7">callerid</a>);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;               <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i], <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab2e83e968e67ad5c51b9b6e3fad4ff49">callerchan</a>, msg-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab2e83e968e67ad5c51b9b6e3fad4ff49">callerchan</a>);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;               <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i], <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, msg-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#aaee31f4cc48985167efcd38ab252dac8">exten</a>);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;               <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i], <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#add25276444d52717c78abe78dc880143">origdate</a>, msg-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#add25276444d52717c78abe78dc880143">origdate</a>);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;               <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i], <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a1eb8e3f5b54979ef94248fa4f7bd3104">origtime</a>, msg-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a1eb8e3f5b54979ef94248fa4f7bd3104">origtime</a>);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;               <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i], <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab6bab83d3dd8336becf8974ef458c2ea">duration</a>, msg-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#ab6bab83d3dd8336becf8974ef458c2ea">duration</a>);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;               <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i], <a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a02dd8d10362bd0a7035d9f2bf74375b7">folder_name</a>, msg-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a02dd8d10362bd0a7035d9f2bf74375b7">folder_name</a>);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;               <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i], <a class="code" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>, msg-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#adf0385e3ab3a3222a8f6fe9bc4464e9f">flag</a>);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;               <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a>[i]-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">msg_number</a> = msg-&gt;<a class="code" href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">msg_number</a>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;         }</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;   }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a59681ca5a1bf8b688099b82cd29d2e81"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a59681ca5a1bf8b688099b82cd29d2e81">ast_vm_msg_snapshot::msg_id</a></div><div class="ttdeci">const ast_string_field msg_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_aa50b8de55252d0a60d72fabbdd8b0314"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#aa50b8de55252d0a60d72fabbdd8b0314">ast_vm_msg_snapshot::msg</a></div><div class="ttdeci">struct ast_vm_msg_snapshot::@222 msg</div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_add25276444d52717c78abe78dc880143"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#add25276444d52717c78abe78dc880143">ast_vm_msg_snapshot::origdate</a></div><div class="ttdeci">const ast_string_field origdate</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_ab6bab83d3dd8336becf8974ef458c2ea"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#ab6bab83d3dd8336becf8974ef458c2ea">ast_vm_msg_snapshot::duration</a></div><div class="ttdeci">const ast_string_field duration</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a02dd8d10362bd0a7035d9f2bf74375b7"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a02dd8d10362bd0a7035d9f2bf74375b7">ast_vm_msg_snapshot::folder_name</a></div><div class="ttdeci">const ast_string_field folder_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a73d00a61bed6e8a91ac3befb90e2d28a"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a73d00a61bed6e8a91ac3befb90e2d28a">ast_vm_msg_snapshot::msg_number</a></div><div class="ttdeci">unsigned int msg_number</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00312">include/asterisk/app.h:312</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_ab2e83e968e67ad5c51b9b6e3fad4ff49"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#ab2e83e968e67ad5c51b9b6e3fad4ff49">ast_vm_msg_snapshot::callerchan</a></div><div class="ttdeci">const ast_string_field callerchan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_aaee31f4cc48985167efcd38ab252dac8"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#aaee31f4cc48985167efcd38ab252dac8">ast_vm_msg_snapshot::exten</a></div><div class="ttdeci">const ast_string_field exten</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00300">include/asterisk/app.h:300</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a1eb8e3f5b54979ef94248fa4f7bd3104"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a1eb8e3f5b54979ef94248fa4f7bd3104">ast_vm_msg_snapshot::origtime</a></div><div class="ttdeci">const ast_string_field origtime</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a45221ff4e9858d612eaa6a26b4f360c8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a45221ff4e9858d612eaa6a26b4f360c8">test_snapshots</a></div><div class="ttdeci">static struct ast_vm_msg_snapshot * test_snapshots[TOTAL_SNAPSHOTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">test_voicemail_api.c:341</a></div></div>
<div class="ttc" id="structast__vm__mailbox__snapshot_html_a1a119a01eb13505ebe560442a8e9cda8"><div class="ttname"><a href="../../d3/dbc/structast__vm__mailbox__snapshot.html#a1a119a01eb13505ebe560442a8e9cda8">ast_vm_mailbox_snapshot::snapshots</a></div><div class="ttdeci">struct ast_vm_mailbox_snapshot::@223 * snapshots</div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="f2c_8h_html_abf5d144da384425ae6cb542ce6eec8d3"><div class="ttname"><a href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a></div><div class="ttdeci">long int flag</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc2/f2c_8h_source.html#l00083">f2c.h:83</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_adf0385e3ab3a3222a8f6fe9bc4464e9f"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#adf0385e3ab3a3222a8f6fe9bc4464e9f">ast_vm_msg_snapshot::flag</a></div><div class="ttdeci">const ast_string_field flag</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="structast__vm__msg__snapshot_html_a18f046757da4c88a677d1be4816123f7"><div class="ttname"><a href="../../dc/d95/structast__vm__msg__snapshot.html#a18f046757da4c88a677d1be4816123f7">ast_vm_msg_snapshot::callerid</a></div><div class="ttdeci">const ast_string_field callerid</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00311">include/asterisk/app.h:311</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a11b584a84403848521141ab5001c90d8"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a11b584a84403848521141ab5001c90d8">TOTAL_SNAPSHOTS</a></div><div class="ttdeci">#define TOTAL_SNAPSHOTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00066">test_voicemail_api.c:66</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01530">1530</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00128">AST_TEST_UNREGISTER</a>.</p>
<div class="fragment"><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;{</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;   <span class="comment">/* Snapshot tests */</span></div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(voicemail_api_nominal_snapshot);</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(voicemail_api_off_nominal_snapshot);</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;   <span class="comment">/* Move Tests */</span></div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(voicemail_api_nominal_move);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(voicemail_api_off_nominal_move);</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;   <span class="comment">/* Remove Tests */</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(voicemail_api_nominal_remove);</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(voicemail_api_off_nominal_remove);</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;   <span class="comment">/* Forward Tests */</span></div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(voicemail_api_nominal_forward);</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(voicemail_api_off_nominal_forward);</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;   <span class="comment">/* Message Playback Tests */</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(voicemail_api_nominal_msg_playback);</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(voicemail_api_off_nominal_msg_playback);</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;}</div><div class="ttc" id="test_8h_html_a79bc64a935b14b1b181156e5ada58ead"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a></div><div class="ttdeci">#define AST_TEST_UNREGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00128">test.h:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Core Voicemail API Tests&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .load_pri = <a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01579">1579</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01579">1579</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

</div>
</div>
<a id="ac9ba902d68207f238e90dd03a54b5183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9ba902d68207f238e90dd03a54b5183">&#9670;&nbsp;</a></span>global_entered_playback_callback</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int global_entered_playback_callback = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00347">347</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l01413">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00775">message_playback_callback_fn()</a>.</p>

</div>
</div>
<a id="aed86dceeb81c5f7d7d9ed8435651d0b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed86dceeb81c5f7d7d9ed8435651d0b1">&#9670;&nbsp;</a></span>mailbox_folders</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* const mailbox_folders[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00322">322</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00353">get_folder_by_name()</a>.</p>

</div>
</div>
<a id="ab8316faec3a8eea202184777948b50bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8316faec3a8eea202184777948b50bb">&#9670;&nbsp;</a></span>mock_channel_tech</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d4/d85/structast__channel__tech.html">ast_channel_tech</a> mock_channel_tech</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">      .write = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a1e37838db4f9d44e8aa368480f0d2733">test_vm_api_mock_channel_write</a>,</div><div class="line">      .read = <a class="code" href="../../d2/da2/test__voicemail__api_8c.html#a007b93673ee69eb35ce5eaac46e976e3">test_vm_api_mock_channel_read</a>,</div><div class="line">}</div><div class="ttc" id="test__voicemail__api_8c_html_a1e37838db4f9d44e8aa368480f0d2733"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a1e37838db4f9d44e8aa368480f0d2733">test_vm_api_mock_channel_write</a></div><div class="ttdeci">static int test_vm_api_mock_channel_write(struct ast_channel *chan, struct ast_frame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00788">test_voicemail_api.c:788</a></div></div>
<div class="ttc" id="test__voicemail__api_8c_html_a007b93673ee69eb35ce5eaac46e976e3"><div class="ttname"><a href="../../d2/da2/test__voicemail__api_8c.html#a007b93673ee69eb35ce5eaac46e976e3">test_vm_api_mock_channel_read</a></div><div class="ttdeci">static struct ast_frame * test_vm_api_mock_channel_read(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/test__voicemail__api_8c_source.html#l00797">test_voicemail_api.c:797</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00806">806</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

</div>
</div>
<a id="a45221ff4e9858d612eaa6a26b4f360c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45221ff4e9858d612eaa6a26b4f360c8">&#9670;&nbsp;</a></span>test_snapshots</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d95/structast__vm__msg__snapshot.html">ast_vm_msg_snapshot</a>* test_snapshots[<a class="el" href="../../d2/da2/test__voicemail__api_8c.html#a11b584a84403848521141ab5001c90d8">TOTAL_SNAPSHOTS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00341">341</a> of file <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html">test_voicemail_api.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:47:00 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
