<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: datastore.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">datastore.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Asterisk datastore objects.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../df/d90/linkedlists_8h_source.html">asterisk/linkedlists.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for datastore.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d74/datastore_8h__incl.png" border="0" usemap="#datastore_8h" alt=""/></div>
<map name="datastore_8h" id="datastore_8h">
<area shape="rect" id="node2" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="345,80,496,107"/>
<area shape="rect" id="node3" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="364,155,477,181"/>
<area shape="rect" id="node5" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="113,229,176,256"/>
<area shape="rect" id="node6" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="106,304,253,331"/>
<area shape="rect" id="node9" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="488,229,639,256"/>
<area shape="rect" id="node10" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="663,229,789,256"/>
<area shape="rect" id="node11" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="813,229,956,256"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d53/datastore_8h__dep__incl.png" border="0" usemap="#datastore_8hdep" alt=""/></div>
<map name="datastore_8hdep" id="datastore_8hdep">
<area shape="rect" id="node2" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="2393,87,2477,114"/>
<area shape="rect" id="node30" href="../../d9/d95/func__srv_8c.html" title="SRV Functions. " alt="" coords="5,244,91,271"/>
<area shape="rect" id="node31" href="../../de/d71/features__config_8c.html" title="features_config.c" alt="" coords="115,244,245,271"/>
<area shape="rect" id="node32" href="../../d0/d6d/message_8c.html" title="Out&#45;of&#45;call text message support. " alt="" coords="4161,244,4253,271"/>
<area shape="rect" id="node33" href="../../d1/db7/parking__bridge__features_8c.html" title="Parking Bridge DTMF and Interval features. " alt="" coords="3949,244,4136,271"/>
<area shape="rect" id="node34" href="../../d4/d92/res__pjsip__session_8c.html" title="res_pjsip_session.c" alt="" coords="2907,244,3051,271"/>
<area shape="rect" id="node46" href="../../dd/d13/bridge__roles_8c.html" title="Channel Bridging Roles API. " alt="" coords="4291,169,4402,196"/>
<area shape="rect" id="node47" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="3837,169,3928,196"/>
<area shape="rect" id="node48" href="../../d8/dca/res__pjsip__pubsub_8c.html" title="res_pjsip_pubsub.c" alt="" coords="4329,244,4471,271"/>
<area shape="rect" id="node49" href="../../d7/d7a/datastore_8c.html" title="Asterisk datastore objects. " alt="" coords="4579,87,4674,114"/>
<area shape="rect" id="node50" href="../../df/d3a/res__pjsip__outbound__publish_8c.html" title="res_pjsip_outbound\l_publish.c" alt="" coords="4699,80,4845,121"/>
<area shape="rect" id="node3" href="../../d0/db6/app__mysql_8c.html" title="MYSQL dialplan application. " alt="" coords="2195,244,2298,271"/>
<area shape="rect" id="node4" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="4163,169,4216,196"/>
<area shape="rect" id="node5" href="../../d0/d29/cdr__mysql_8c.html" title="MySQL CDR backend. " alt="" coords="4597,244,4696,271"/>
<area shape="rect" id="node6" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="2289,169,2346,196"/>
<area shape="rect" id="node7" href="../../d3/d51/chan__mobile_8c.html" title="Bluetooth Mobile Device channel driver. " alt="" coords="3075,244,3189,271"/>
<area shape="rect" id="node8" href="../../d3/d45/chan__ooh323_8h.html" title="chan_ooh323.h" alt="" coords="3403,244,3523,271"/>
<area shape="rect" id="node9" href="../../db/d62/app__adsiprog_8c.html" title="Program Asterisk ADSI Scripts into phone. " alt="" coords="2322,244,2441,271"/>
<area shape="rect" id="node10" href="../../de/d11/app__agent__pool_8c.html" title="Call center agent pool. " alt="" coords="1675,244,1810,271"/>
<area shape="rect" id="node11" href="../../dc/d5c/app__alarmreceiver_8c.html" title="Central Station Alarm receiver for Ademco Contact ID. " alt="" coords="2465,244,2615,271"/>
<area shape="rect" id="node12" href="../../d2/d48/app__amd_8c.html" title="Answering machine detection. " alt="" coords="2640,244,2733,271"/>
<area shape="rect" id="node13" href="../../d0/df4/app__attended__transfer_8c.html" title="Attended transfer by caller channel. " alt="" coords="269,244,448,271"/>
<area shape="rect" id="node14" href="../../d6/d0f/app__authenticate_8c.html" title="Execute arbitrary authenticate commands. " alt="" coords="473,244,618,271"/>
<area shape="rect" id="node15" href="../../d7/d7c/app__blind__transfer_8c.html" title="Blind transfer by caller channel. " alt="" coords="642,244,793,271"/>
<area shape="rect" id="node16" href="../../dc/d22/app__bridgewait_8c.html" title="Application to place the channel into a holding Bridge. " alt="" coords="1834,244,1963,271"/>
<area shape="rect" id="node17" href="../../d2/d43/app__chanisavail_8c.html" title="Check if Channel is Available. " alt="" coords="817,244,951,271"/>
<area shape="rect" id="node18" href="../../d7/d1b/app__channelredirect_8c.html" title="ChannelRedirect application. " alt="" coords="976,244,1139,271"/>
<area shape="rect" id="node19" href="../../dc/d04/app__chanspy_8c.html" title="ChanSpy: Listen in on any channel. " alt="" coords="3597,244,3712,271"/>
<area shape="rect" id="node20" href="../../d0/dcf/app__confbridge_8c.html" title="Conference Bridge application. " alt="" coords="3684,393,3815,420"/>
<area shape="rect" id="node21" href="../../dc/d4e/stasis__bridges_8h.html" title="stasis_bridges.h" alt="" coords="2757,244,2883,271"/>
<area shape="rect" id="node22" href="../../d4/de3/confbridge_8h.html" title="confbridge.h" alt="" coords="4393,319,4495,345"/>
<area shape="rect" id="node23" href="../../d3/d3a/app__dahdiras_8c.html" title="Execute an ISDN RAS. " alt="" coords="1163,244,1282,271"/>
<area shape="rect" id="node24" href="../../dc/dc4/app__db_8c.html" title="Database access functions. " alt="" coords="1305,244,1385,271"/>
<area shape="rect" id="node25" href="../../d9/d12/app__dial_8c.html" title="dial() &amp; retrydial() &#45; Trivial application to dial a channel and send an URL on answer ..." alt="" coords="3838,244,3925,271"/>
<area shape="rect" id="node26" href="../../d9/db1/app__directed__pickup_8c.html" title="Directed Call Pickup Support. " alt="" coords="3214,244,3378,271"/>
<area shape="rect" id="node27" href="../../d4/d7e/app__disa_8c.html" title="DISA – Direct Inward System Access Application. " alt="" coords="1409,244,1500,271"/>
<area shape="rect" id="node28" href="../../dc/dc1/app__dtmfstore_8c.html" title="Technology independent asynchronous DTMF collection. " alt="" coords="1525,244,1651,271"/>
<area shape="rect" id="node29" href="../../d2/ddd/app__dumpchan_8c.html" title="Application to dump channel variables. " alt="" coords="2039,244,2171,271"/>
<area shape="rect" id="node35" href="../../d5/da1/udptl_8h.html" title="UDPTL support for T.38. " alt="" coords="3265,169,3332,196"/>
<area shape="rect" id="node36" href="../../d9/d4a/stasis__channels_8h.html" title="stasis_channels.h" alt="" coords="3363,169,3498,196"/>
<area shape="rect" id="node37" href="../../dd/d18/res__config__mysql_8c.html" title="MySQL CDR backend. " alt="" coords="945,169,1087,196"/>
<area shape="rect" id="node38" href="../../dc/d7a/bridge__features_8h.html" title="Channel Bridging API. " alt="" coords="3953,169,4087,196"/>
<area shape="rect" id="node39" href="../../d9/daa/app__audiosocket_8c.html" title="AudioSocket application – transmit and receive audio through a TCP socket. " alt="" coords="1163,169,1304,196"/>
<area shape="rect" id="node40" href="../../d8/d6e/app__bridgeaddchan_8c.html" title="Application to place the channel into an existing Bridge. " alt="" coords="1329,169,1487,196"/>
<area shape="rect" id="node41" href="../../db/dce/say_8h.html" title="Say numbers and dates (maybe words one day too) " alt="" coords="3625,169,3679,196"/>
<area shape="rect" id="node42" href="../../d1/da0/app__cdr_8c.html" title="Applications connected with CDR engine. " alt="" coords="1563,169,1645,196"/>
<area shape="rect" id="node43" href="../../d6/df5/app__celgenuserevent_8c.html" title="Generate User&#45;Defined CEL event. " alt="" coords="1669,169,1840,196"/>
<area shape="rect" id="node44" href="../../d6/db3/aoc_8h.html" title="Generic Advice of Charge encode and decode routines. " alt="" coords="3755,169,3813,196"/>
<area shape="rect" id="node45" href="../../d4/de3/app__echo_8c.html" title="Echo application – play back what you hear to evaluate latency. " alt="" coords="1915,169,2010,196"/>
</map>
</div>
</div>
<p><a href="../../d9/db6/datastore_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for a data store object.  <a href="../../d4/d5d/structast__datastore.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for a data store type.  <a href="../../d9/dfb/structast__datastore__info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a666afb07fd77d50782cc10f83e029159"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(info,  uid)&#160;&#160;&#160;<a class="el" href="../../d7/d7a/datastore_8c.html#ae9fdf4f4d237a3c0d3df70e582415ca8">__ast_datastore_alloc</a>(info, uid, AST_MODULE_SELF, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td></tr>
<tr class="separator:a666afb07fd77d50782cc10f83e029159"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae9fdf4f4d237a3c0d3df70e582415ca8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db6/datastore_8h.html#ae9fdf4f4d237a3c0d3df70e582415ca8">__ast_datastore_alloc</a> (const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> *info, const char *uid, struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, const char *file, int line, const char *function)</td></tr>
<tr class="memdesc:ae9fdf4f4d237a3c0d3df70e582415ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a data store object.  <a href="#ae9fdf4f4d237a3c0d3df70e582415ca8">More...</a><br /></td></tr>
<tr class="separator:ae9fdf4f4d237a3c0d3df70e582415ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee27286888b30c6448a9bce928040a14"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a> (struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore)</td></tr>
<tr class="memdesc:aee27286888b30c6448a9bce928040a14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a data store object.  <a href="#aee27286888b30c6448a9bce928040a14">More...</a><br /></td></tr>
<tr class="separator:aee27286888b30c6448a9bce928040a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267b2996c54061f82ff1c5be72bbc731"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db6/datastore_8h.html#a267b2996c54061f82ff1c5be72bbc731">ast_datastores_add</a> (struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *datastores, struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore)</td></tr>
<tr class="memdesc:a267b2996c54061f82ff1c5be72bbc731"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a data store to a container.  <a href="#a267b2996c54061f82ff1c5be72bbc731">More...</a><br /></td></tr>
<tr class="separator:a267b2996c54061f82ff1c5be72bbc731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0c7f9c8f98470441ff8e9b3e8f34cc"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db6/datastore_8h.html#afa0c7f9c8f98470441ff8e9b3e8f34cc">ast_datastores_alloc</a> (void)</td></tr>
<tr class="memdesc:afa0c7f9c8f98470441ff8e9b3e8f34cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a specialized data stores container.  <a href="#afa0c7f9c8f98470441ff8e9b3e8f34cc">More...</a><br /></td></tr>
<tr class="separator:afa0c7f9c8f98470441ff8e9b3e8f34cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b31a9e32e3dad540c98ed2ee36e828"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db6/datastore_8h.html#a65b31a9e32e3dad540c98ed2ee36e828">ast_datastores_alloc_datastore</a> (const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> *info, const char *uid)</td></tr>
<tr class="memdesc:a65b31a9e32e3dad540c98ed2ee36e828"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a datastore for use with the datastores container.  <a href="#a65b31a9e32e3dad540c98ed2ee36e828">More...</a><br /></td></tr>
<tr class="separator:a65b31a9e32e3dad540c98ed2ee36e828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e5e18520733ba3dc58c1e218ab5541b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db6/datastore_8h.html#a3e5e18520733ba3dc58c1e218ab5541b">ast_datastores_find</a> (struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *datastores, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a3e5e18520733ba3dc58c1e218ab5541b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a data store in a container.  <a href="#a3e5e18520733ba3dc58c1e218ab5541b">More...</a><br /></td></tr>
<tr class="separator:a3e5e18520733ba3dc58c1e218ab5541b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126dac1c8ced6e9cf905430e88f35396"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db6/datastore_8h.html#a126dac1c8ced6e9cf905430e88f35396">ast_datastores_remove</a> (struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *datastores, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a126dac1c8ced6e9cf905430e88f35396"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a data store from a container.  <a href="#a126dac1c8ced6e9cf905430e88f35396">More...</a><br /></td></tr>
<tr class="separator:a126dac1c8ced6e9cf905430e88f35396"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Asterisk datastore objects. </p>

<p class="definition">Definition in file <a class="el" href="../../d9/db6/datastore_8h_source.html">datastore.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a666afb07fd77d50782cc10f83e029159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a666afb07fd77d50782cc10f83e029159">&#9670;&nbsp;</a></span>ast_datastore_alloc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_datastore_alloc</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">info, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">uid&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d7a/datastore_8c.html#ae9fdf4f4d237a3c0d3df70e582415ca8">__ast_datastore_alloc</a>(info, uid, AST_MODULE_SELF, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">89</a> of file <a class="el" href="../../d9/db6/datastore_8h_source.html">datastore.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00571">__after_bridge_set_goto()</a>, <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../d2/d3c/func__curl_8c_source.html#l00335">acf_curlopt_write()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10006">acf_iaxvar_write()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00725">acf_odbc_read()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00291">add_features_datastore()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01217">add_masquerade_store()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l01613">add_to_agi()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00192">after_bridge_cb_setup()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05151">apply_plc()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l00660">ast_cel_fabricate_channel_from_event()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10652">ast_channel_cc_params_init()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02373">ast_channel_datastore_inherit()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10978">ast_channel_suppress()</a>, <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00302">ast_do_pickup()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05829">ast_iax2_new()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01257">ast_jb_create_framehook()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03405">ast_setup_cc_recall_datastore()</a>, <a class="el" href="../../d9/d2d/res__stir__shaken_8c_source.html#l00277">ast_stir_shaken_add_verification()</a>, <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l01305">audiohook_volume_get()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08411">authenticate_reply()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01593">bridge_channel_impart_add()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00224">bridge_features_ds_set_full()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01213">calendar_query_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">cc_interfaces_datastore_init()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l11115">channel_feature_hooks_set_full()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00123">command_prestart_queue_command()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00715">create_msg_q_chan()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00174">create_parked_subscription_full()</a>, <a class="el" href="../../da/d92/res__odbc__transaction_8c_source.html#l00133">create_transaction()</a>, <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00399">detect_write()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01977">dial_masquerade_datastore_add()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00741">do_notify()</a>, <a class="el" href="../../dc/dc1/app__dtmfstore_8c_source.html#l00188">dtmfstore_exec()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l04215">dundi_query_read()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00875">enable_jack_hook()</a>, <a class="el" href="../../d9/d5e/func__enum_8c_source.html#l00252">enum_query_read()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l00764">find_or_create_details()</a>, <a class="el" href="../../d4/d8b/func__frame__drop_8c_source.html#l00203">frame_drop_helper()</a>, <a class="el" href="../../d1/d20/func__frame__trace_8c_source.html#l00149">frame_trace_helper()</a>, <a class="el" href="../../d9/d3d/func__channel_8c_source.html#l00470">func_channel_write_real()</a>, <a class="el" href="../../dc/d40/conf__config__parser_8c_source.html#l01115">func_confbridge_helper()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01073">get_feature_ds()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00186">get_lock()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00890">get_replace_channel_store()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00516">gosub_exec()</a>, <a class="el" href="../../de/d4f/res__remb__modifier_8c_source.html#l00155">handle_remb_set()</a>, <a class="el" href="../../dc/dcf/func__periodic__hook_8c_source.html#l00294">init_hook()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01273">lua_get_state()</a>, <a class="el" href="../../d7/ddd/max__forwards_8c_source.html#l00069">max_forwards_datastore_alloc()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00979">msg_datastore_find_or_create()</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00561">MYSQL_exec()</a>, <a class="el" href="../../d3/d24/func__pitchshift_8c_source.html#l00192">pitchshift_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02806">raise_exception()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l11538">reload()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01732">save_dialstring()</a>, <a class="el" href="../../d2/d94/func__scramble_8c_source.html#l00160">scramble_write()</a>, <a class="el" href="../../dd/d7d/func__holdintercept_8c_source.html#l00144">set_hold_intercept()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02273">set_internal_datastore()</a>, <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00260">set_talk_detect()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01603">set_timeout()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02112">setup_async_playback_datastore()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00117">setup_bridge_roles_datastore()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00868">setup_mixmonitor_ds()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00363">setup_park_common_datastore()</a>, <a class="el" href="../../d1/d3f/func__global_8c_source.html#l00209">shared_write()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l01202">smdi_msg_retrieve_read()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10083">socket_process_helper()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00543">speech_create()</a>, <a class="el" href="../../da/d22/func__speex_8c_source.html#l00196">speex_write()</a>, <a class="el" href="../../d9/d95/func__srv_8c_source.html#l00093">srv_datastore_setup()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01287">stasis_app_channel_set_stasis_end_published()</a>, <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00609">t38_attach_framehook()</a>, and <a class="el" href="../../db/d57/func__volume_8c_source.html#l00150">volume_write()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae9fdf4f4d237a3c0d3df70e582415ca8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9fdf4f4d237a3c0d3df70e582415ca8">&#9670;&nbsp;</a></span>__ast_datastore_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a>* __ast_datastore_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a data store object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>information describing the data store object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uid</td><td>unique identifer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mod</td><td>The module to hold until this datastore is freed. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">file,line,function</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section version"><dt>Version</dt><dd>1.6.1 moved here and renamed from ast_channel_datastore_alloc </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00039">39</a> of file <a class="el" href="../../d7/d7a/datastore_8c_source.html">datastore.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/db0/astmm_8c_source.html#l01635">__ast_calloc()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00443">ast_module_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00071">ast_datastore::info</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00072">ast_datastore::mod</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d9/db6/datastore_8h_source.html#l00069">ast_datastore::uid</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   <span class="comment">/* Make sure we at least have type so we can identify this */</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;   <span class="keywordflow">if</span> (!info) {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;   }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;   datastore = <a class="code" href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a>(1, <span class="keyword">sizeof</span>(*datastore), <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, <span class="keyword">function</span>);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   <span class="keywordflow">if</span> (!datastore) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">info</a> = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a782aff512368932b8d71b3633f88cb04">mod</a> = <a class="code" href="../../d4/d5d/structast__datastore.html#a782aff512368932b8d71b3633f88cb04">mod</a>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a>) &amp;&amp; !(datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a>))) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(datastore);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      datastore = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a>(mod);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <span class="keywordflow">return</span> datastore;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div><div class="ttc" id="astmm_8h_html_aacec2637e88f8663d609047874c6661b"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a></div><div class="ttdeci">void * __ast_calloc(size_t nmemb, size_t size, const char *file, int lineno, const char *func) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01635">astmm.c:1635</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__datastore_html_a2daadcdbac635c83b7bfc6375b4c9be4"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">ast_datastore::uid</a></div><div class="ttdeci">const char * uid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00069">datastore.h:69</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__datastore_html_a782aff512368932b8d71b3633f88cb04"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a782aff512368932b8d71b3633f88cb04">ast_datastore::mod</a></div><div class="ttdeci">struct ast_module * mod</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00072">datastore.h:72</a></div></div>
<div class="ttc" id="structast__datastore_html_a03ea21247b5d39b165343431b44131f1"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">ast_datastore::info</a></div><div class="ttdeci">const struct ast_datastore_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00071">datastore.h:71</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="module_8h_html_a8dea6491bedba471fc44574d76438577"><div class="ttname"><a href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a></div><div class="ttdeci">#define ast_module_ref(mod)</div><div class="ttdoc">Hold a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00443">module.h:443</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aee27286888b30c6448a9bce928040a14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee27286888b30c6448a9bce928040a14">&#9670;&nbsp;</a></span>ast_datastore_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_datastore_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *&#160;</td>
          <td class="paramname"><em>datastore</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a data store object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">datastore</td><td>datastore to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="section version"><dt>Version</dt><dd>1.6.1 moved here and renamed from ast_channel_datastore_free </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">68</a> of file <a class="el" href="../../d7/d7a/datastore_8c_source.html">datastore.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d7a/datastore_8c.html#abe0a0978bd56fe426b84b170373c9d2b">AO2_STRING_FIELD_CMP_FN()</a>, <a class="el" href="../../d7/d7a/datastore_8c.html#a4a3d368cc7a4bc042882eb2170c71d1f">AO2_STRING_FIELD_HASH_FN()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00469">ast_module_unref</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00034">ast_datastore_info::destroy</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00071">ast_datastore::info</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00072">ast_datastore::mod</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d9/db6/datastore_8h_source.html#l00069">ast_datastore::uid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00571">__after_bridge_set_goto()</a>, <a class="el" href="../../d2/d3c/func__curl_8c_source.html#l00335">acf_curlopt_write()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01127">acf_fetch()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10006">acf_iaxvar_write()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00725">acf_odbc_read()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00291">add_features_datastore()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l01613">add_to_agi()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05098">adjust_frame_for_plc()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00192">after_bridge_cb_setup()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05151">apply_plc()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00396">ast_bridge_discard_after_goto()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00447">ast_bridge_setup_after_goto()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l00660">ast_cel_fabricate_channel_from_event()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02192">ast_channel_destructor()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l11040">ast_channel_unsuppress()</a>, <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00302">ast_do_pickup()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02338">ast_dummy_channel_destructor()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05829">ast_iax2_new()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01257">ast_jb_create_framehook()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03405">ast_setup_cc_recall_datastore()</a>, <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l01305">audiohook_volume_get()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08411">authenticate_reply()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01593">bridge_channel_impart_add()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00224">bridge_features_ds_set_full()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01215">bridge_timeout()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">cc_interfaces_datastore_init()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00774">chan_cleanup()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l11115">channel_feature_hooks_set_full()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00174">create_parked_subscription_full()</a>, <a class="el" href="../../da/d92/res__odbc__transaction_8c_source.html#l00133">create_transaction()</a>, <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00399">detect_write()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01977">dial_masquerade_datastore_add()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01823">dial_masquerade_fixup()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00942">disable_jack_hook()</a>, <a class="el" href="../../dc/dc1/app__dtmfstore_8c_source.html#l00188">dtmfstore_exec()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00875">enable_jack_hook()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01173">exec_odbcfinish()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l00636">fixup_callback()</a>, <a class="el" href="../../d4/d8b/func__frame__drop_8c_source.html#l00203">frame_drop_helper()</a>, <a class="el" href="../../d1/d20/func__frame__trace_8c_source.html#l00149">frame_trace_helper()</a>, <a class="el" href="../../dc/d40/conf__config__parser_8c_source.html#l01115">func_confbridge_helper()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00186">get_lock()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00516">gosub_exec()</a>, <a class="el" href="../../dc/dcf/func__periodic__hook_8c_source.html#l00294">init_hook()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01273">lua_get_state()</a>, <a class="el" href="../../d7/ddd/max__forwards_8c_source.html#l00069">max_forwards_datastore_alloc()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00915">mixmonitor_ds_remove_and_free()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00979">msg_datastore_find_or_create()</a>, <a class="el" href="../../d3/d24/func__pitchshift_8c_source.html#l00192">pitchshift_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02806">raise_exception()</a>, <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00270">remove_detect()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l02081">remove_dial_masquerade()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l02100">remove_dial_masquerade_caller()</a>, <a class="el" href="../../dc/dc1/app__dtmfstore_8c_source.html#l00100">remove_dtmf_store()</a>, <a class="el" href="../../dd/d7d/func__holdintercept_8c_source.html#l00077">remove_hold_intercept()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01236">remove_masquerade_store()</a>, <a class="el" href="../../d2/d94/func__scramble_8c_source.html#l00131">remove_scrambler()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01310">remove_stasis_end_published()</a>, <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00229">remove_talk_detect()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01732">save_dialstring()</a>, <a class="el" href="../../d2/d94/func__scramble_8c_source.html#l00160">scramble_write()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02198">session_destructor()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l02002">set_dial_masquerade()</a>, <a class="el" href="../../dd/d7d/func__holdintercept_8c_source.html#l00144">set_hold_intercept()</a>, <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00260">set_talk_detect()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02112">setup_async_playback_datastore()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00117">setup_bridge_roles_datastore()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00363">setup_park_common_datastore()</a>, <a class="el" href="../../d1/d3f/func__global_8c_source.html#l00209">shared_write()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10083">socket_process_helper()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00311">speech_datastore_destroy()</a>, <a class="el" href="../../da/d22/func__speex_8c_source.html#l00196">speex_write()</a>, <a class="el" href="../../d9/d95/func__srv_8c_source.html#l00128">srv_query_read()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01257">stop_mixmonitor_full()</a>, <a class="el" href="../../db/d57/func__volume_8c_source.html#l00150">volume_write()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00350">wipe_park_common_datastore()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00091">wipe_subscription_datastore()</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;   <span class="comment">/* Using the destroy function (if present) destroy the data */</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   <span class="keywordflow">if</span> (datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">info</a>-&gt;<a class="code" href="../../d9/dfb/structast__datastore__info.html#afdad821535486a599c1df88ef7be69bb">destroy</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">info</a>-&gt;<a class="code" href="../../d9/dfb/structast__datastore__info.html#afdad821535486a599c1df88ef7be69bb">destroy</a>(datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <span class="comment">/* Free allocated UID memory */</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   <span class="keywordflow">if</span> (datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">void</span> *) datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>(datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a782aff512368932b8d71b3633f88cb04">mod</a>);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   <span class="comment">/* Finally free memory used by ourselves */</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(datastore);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__datastore_html_a2daadcdbac635c83b7bfc6375b4c9be4"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">ast_datastore::uid</a></div><div class="ttdeci">const char * uid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00069">datastore.h:69</a></div></div>
<div class="ttc" id="module_8h_html_a15896c26e51e8162df5eb9a0124c841f"><div class="ttname"><a href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a></div><div class="ttdeci">#define ast_module_unref(mod)</div><div class="ttdoc">Release a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00469">module.h:469</a></div></div>
<div class="ttc" id="structast__datastore_html_a782aff512368932b8d71b3633f88cb04"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a782aff512368932b8d71b3633f88cb04">ast_datastore::mod</a></div><div class="ttdeci">struct ast_module * mod</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00072">datastore.h:72</a></div></div>
<div class="ttc" id="structast__datastore_html_a03ea21247b5d39b165343431b44131f1"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">ast_datastore::info</a></div><div class="ttdeci">const struct ast_datastore_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00071">datastore.h:71</a></div></div>
<div class="ttc" id="structast__datastore__info_html_afdad821535486a599c1df88ef7be69bb"><div class="ttname"><a href="../../d9/dfb/structast__datastore__info.html#afdad821535486a599c1df88ef7be69bb">ast_datastore_info::destroy</a></div><div class="ttdeci">void(* destroy)(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00034">datastore.h:34</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a267b2996c54061f82ff1c5be72bbc731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267b2996c54061f82ff1c5be72bbc731">&#9670;&nbsp;</a></span>ast_datastores_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_datastores_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>datastores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *&#160;</td>
          <td class="paramname"><em>datastore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a data store to a container. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">datastores</td><td>container to store datastore in </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">datastore</td><td>datastore to add</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>14.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00101">101</a> of file <a class="el" href="../../d7/d7a/datastore_8c_source.html">datastore.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00071">ast_datastore::info</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d9/db6/datastore_8h_source.html#l00069">ast_datastore::uid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02649">ast_sip_publication_add_datastore()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02629">ast_sip_subscription_add_datastore()</a>, and <a class="el" href="../../d9/d81/res__pjsip__dialog__info__body__generator_8c_source.html#l00093">dialog_info_generate_body_content()</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(datastore != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">info</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a>));</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(datastores, datastore)) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div><div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__datastore_html_a2daadcdbac635c83b7bfc6375b4c9be4"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">ast_datastore::uid</a></div><div class="ttdeci">const char * uid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00069">datastore.h:69</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__datastore_html_a03ea21247b5d39b165343431b44131f1"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">ast_datastore::info</a></div><div class="ttdeci">const struct ast_datastore_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00071">datastore.h:71</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afa0c7f9c8f98470441ff8e9b3e8f34cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa0c7f9c8f98470441ff8e9b3e8f34cc">&#9670;&nbsp;</a></span>ast_datastores_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_datastores_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a specialized data stores container. </p>
<dl class="section return"><dt>Returns</dt><dd>a container for storing data stores</dd></dl>
<dl class="section since"><dt>Since</dt><dd>14.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00095">95</a> of file <a class="el" href="../../d7/d7a/datastore_8c_source.html">datastore.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00037">DATASTORE_BUCKETS</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01233">allocate_subscription()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00837">publisher_start()</a>, and <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03145">sip_create_publication()</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <a class="code" href="../../d7/d7a/datastore_8c.html#a39fcd37b99a8eafd0aa1c961d8736f88">DATASTORE_BUCKETS</a>, ast_datastore_hash_fn, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ast_datastore_cmp_fn);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="datastore_8c_html_a39fcd37b99a8eafd0aa1c961d8736f88"><div class="ttname"><a href="../../d7/d7a/datastore_8c.html#a39fcd37b99a8eafd0aa1c961d8736f88">DATASTORE_BUCKETS</a></div><div class="ttdeci">#define DATASTORE_BUCKETS</div><div class="ttdoc">Number of buckets for datastore container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00037">datastore.c:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a65b31a9e32e3dad540c98ed2ee36e828"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b31a9e32e3dad540c98ed2ee36e828">&#9670;&nbsp;</a></span>ast_datastores_alloc_datastore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a>* ast_datastores_alloc_datastore </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a datastore for use with the datastores container. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>information about the datastore </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uid</td><td>unique identifier for the datastore</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>14.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00138">138</a> of file <a class="el" href="../../d7/d7a/datastore_8c_source.html">datastore.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../df/da9/uuid_8c_source.html#l00143">ast_uuid_generate_str()</a>, <a class="el" href="../../dd/d1d/uuid_8h_source.html#l00027">AST_UUID_STR_LEN</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00124">datastore_destroy()</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00071">ast_datastore::info</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d9/db6/datastore_8h_source.html#l00069">ast_datastore::uid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02624">ast_sip_subscription_alloc_datastore()</a>, and <a class="el" href="../../d9/d81/res__pjsip__dialog__info__body__generator_8c_source.html#l00093">dialog_info_generate_body_content()</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <span class="keywordtype">char</span> uuid_buf[<a class="code" href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a>];</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *uid_ptr = <a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   <span class="keywordflow">if</span> (!info) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   datastore = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*datastore), <a class="code" href="../../d7/d7a/datastore_8c.html#a513c4f6617834c31a8b76f5fc38f2c66">datastore_destroy</a>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <span class="keywordflow">if</span> (!datastore) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">info</a> = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a>)) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="comment">/* They didn&#39;t provide an ID so we&#39;ll provide one ourself */</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      uid_ptr = <a class="code" href="../../dd/d1d/uuid_8h.html#abe6d0b550cd9a54964e7891960d1e5bc">ast_uuid_generate_str</a>(uuid_buf, <span class="keyword">sizeof</span>(uuid_buf));</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(uid_ptr);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <span class="keywordflow">if</span> (!datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a>) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(datastore, -1);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <span class="keywordflow">return</span> datastore;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div><div class="ttc" id="uuid_8h_html_a127408e53d34dca0c589a099fabf1e13"><div class="ttname"><a href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a></div><div class="ttdeci">#define AST_UUID_STR_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d1d/uuid_8h_source.html#l00027">uuid.h:27</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__datastore_html_a2daadcdbac635c83b7bfc6375b4c9be4"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">ast_datastore::uid</a></div><div class="ttdeci">const char * uid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00069">datastore.h:69</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__datastore_html_a03ea21247b5d39b165343431b44131f1"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">ast_datastore::info</a></div><div class="ttdeci">const struct ast_datastore_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00071">datastore.h:71</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="uuid_8h_html_abe6d0b550cd9a54964e7891960d1e5bc"><div class="ttname"><a href="../../dd/d1d/uuid_8h.html#abe6d0b550cd9a54964e7891960d1e5bc">ast_uuid_generate_str</a></div><div class="ttdeci">char * ast_uuid_generate_str(char *buf, size_t size)</div><div class="ttdoc">Generate a UUID string. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/da9/uuid_8c_source.html#l00143">uuid.c:143</a></div></div>
<div class="ttc" id="datastore_8c_html_a513c4f6617834c31a8b76f5fc38f2c66"><div class="ttname"><a href="../../d7/d7a/datastore_8c.html#a513c4f6617834c31a8b76f5fc38f2c66">datastore_destroy</a></div><div class="ttdeci">static void datastore_destroy(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00124">datastore.c:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e5e18520733ba3dc58c1e218ab5541b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e5e18520733ba3dc58c1e218ab5541b">&#9670;&nbsp;</a></span>ast_datastores_find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a>* ast_datastores_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>datastores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a data store in a container. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">datastores</td><td>container to find datastore in </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>name of the data store to find</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>14.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00119">119</a> of file <a class="el" href="../../d7/d7a/datastore_8c_source.html">datastore.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02654">ast_sip_publication_get_datastore()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02634">ast_sip_subscription_get_datastore()</a>, and <a class="el" href="../../d9/d81/res__pjsip__dialog__info__body__generator_8c_source.html#l00093">dialog_info_generate_body_content()</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(datastores, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a126dac1c8ced6e9cf905430e88f35396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a126dac1c8ced6e9cf905430e88f35396">&#9670;&nbsp;</a></span>ast_datastores_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_datastores_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>datastores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a data store from a container. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">datastores</td><td>container to remove datastore from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>name of the data store to remove</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>14.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00114">114</a> of file <a class="el" href="../../d7/d7a/datastore_8c_source.html">datastore.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02659">ast_sip_publication_remove_datastore()</a>, and <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02639">ast_sip_subscription_remove_datastore()</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(datastores, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:45:45 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
