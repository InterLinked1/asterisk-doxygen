<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_pjsip_config_wizard.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">res_pjsip_config_wizard.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>PJSIP Configuration Wizard.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;regex.h&gt;</code><br />
<code>#include &lt;pjsip.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da5/astobj2_8h_source.html">asterisk/astobj2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">asterisk/res_pjsip.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d25/sorcery_8h_source.html">asterisk/sorcery.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d68/vector_8h_source.html">asterisk/vector.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_pjsip_config_wizard.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/daa/res__pjsip__config__wizard_8c__incl.png" border="0" usemap="#res__pjsip__config__wizard_8c" alt=""/></div>
<map name="res__pjsip__config__wizard_8c" id="res__pjsip__config__wizard_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="249,80,333,107"/>
<area shape="rect" id="node16" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1790,304,1925,331"/>
<area shape="rect" id="node20" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="3235,155,3336,181"/>
<area shape="rect" id="node24" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="1233,453,1359,480"/>
<area shape="rect" id="node25" href="../../d8/d8c/res__pjsip_8h.html" title="asterisk/res_pjsip.h" alt="" coords="1401,80,1545,107"/>
<area shape="rect" id="node34" href="../../d8/d25/sorcery_8h.html" title="Sorcery Data Access Layer API. " alt="" coords="496,155,629,181"/>
<area shape="rect" id="node44" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="3207,80,3343,107"/>
<area shape="rect" id="node45" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="2573,80,2683,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="5,155,160,181"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="1715,379,1853,405"/>
<area shape="rect" id="node13" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="185,155,319,181"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="9,229,156,256"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1669,603,1811,629"/>
<area shape="rect" id="node17" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="2007,528,2121,555"/>
<area shape="rect" id="node18" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1991,603,2137,629"/>
<area shape="rect" id="node19" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="2283,379,2434,405"/>
<area shape="rect" id="node21" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="2664,229,2795,256"/>
<area shape="rect" id="node22" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="2627,304,2741,331"/>
<area shape="rect" id="node23" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2101,379,2259,405"/>
<area shape="rect" id="node30" href="../../db/df1/netsock2_8h.html" title="Network socket handling. " alt="" coords="1233,229,1380,256"/>
<area shape="rect" id="node31" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="2008,229,2147,256"/>
<area shape="rect" id="node33" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1615,304,1766,331"/>
<area shape="rect" id="node37" href="../../db/dc4/dnsmgr_8h.html" title="Background DNS update manager. " alt="" coords="1235,155,1371,181"/>
<area shape="rect" id="node38" href="../../d5/da1/udptl_8h.html" title="UDPTL support for T.38. " alt="" coords="1576,155,1696,181"/>
<area shape="rect" id="node40" href="../../d5/dde/rtp__engine_8h.html" title="Pluggable RTP Architecture. " alt="" coords="1395,155,1551,181"/>
<area shape="rect" id="node41" href="../../d9/d4a/stasis__channels_8h.html" title="asterisk/stasis_channels.h" alt="" coords="1907,155,2096,181"/>
<area shape="rect" id="node42" href="../../d7/d44/stasis__endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1681,229,1876,256"/>
<area shape="rect" id="node43" href="../../d8/d95/stream_8h.html" title="Media Stream API. " alt="" coords="1138,379,1273,405"/>
<area shape="rect" id="node32" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="2405,304,2552,331"/>
<area shape="rect" id="node35" href="../../db/dfe/config__options_8h.html" title="Configuration option&#45;handling. " alt="" coords="635,229,815,256"/>
<area shape="rect" id="node36" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="496,229,611,256"/>
<area shape="rect" id="node39" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="1530,229,1657,256"/>
<area shape="rect" id="node46" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="2819,229,2981,256"/>
<area shape="rect" id="node47" href="../../d6/dd7/presencestate_8h.html" title="Presence state management. " alt="" coords="2825,155,3005,181"/>
<area shape="rect" id="node48" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="2458,379,2598,405"/>
<area shape="rect" id="node49" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="2614,155,2749,181"/>
<area shape="rect" id="node50" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="3029,155,3160,181"/>
</map>
</div>
</div>
<p><a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps track of the sorcery wizard and last config for each object type.  <a href="../../df/d84/structobject__type__wizard.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a13a04bccfe6a7467919fefd9d55ceb6f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a>&#160;&#160;&#160;&quot;res_pjsip_config_wizard&quot;</td></tr>
<tr class="separator:a13a04bccfe6a7467919fefd9d55ceb6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6967fa30f840373627632d68203ec9c6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6967fa30f840373627632d68203ec9c6">MAX_ID_SUFFIX</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:a6967fa30f840373627632d68203ec9c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the maximum number of characters that can be added to a wizard id.  <a href="#a6967fa30f840373627632d68203ec9c6">More...</a><br /></td></tr>
<tr class="separator:a6967fa30f840373627632d68203ec9c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1af29f22911398fdb361401c2a80ba29"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a1af29f22911398fdb361401c2a80ba29">NOT_EQUALS</a>(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>,  <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)&#160;&#160;&#160;(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> != <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td></tr>
<tr class="separator:a1af29f22911398fdb361401c2a80ba29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c087857bdc8e254a3ffc1e8b8b83703"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a3c087857bdc8e254a3ffc1e8b8b83703">OTW_DELETE_CB</a>(otw)</td></tr>
<tr class="separator:a3c087857bdc8e254a3ffc1e8b8b83703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d4f61d87c35c543247879b3173bc8f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(existing,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,  <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a7d4f61d87c35c543247879b3173bc8f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a variable to the end of an existing list. On failure, cause the calling function to return -1.  <a href="#a7d4f61d87c35c543247879b3173bc8f8">More...</a><br /></td></tr>
<tr class="separator:a7d4f61d87c35c543247879b3173bc8f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40464edb0dc0f47257541cdc4970f160"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a40464edb0dc0f47257541cdc4970f160">add_extension</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *application)</td></tr>
<tr class="separator:a40464edb0dc0f47257541cdc4970f160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5698b588289d5a258e4d38a810cd2c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e5698b588289d5a258e4d38a810cd2c">add_hints</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, const char *application, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="separator:a2e5698b588289d5a258e4d38a810cd2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48de66d278847b536c2b24e0da6b5476"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a48de66d278847b536c2b24e0da6b5476">AST_VECTOR</a> (string_vector, char *)</td></tr>
<tr class="memdesc:a48de66d278847b536c2b24e0da6b5476"><td class="mdescLeft">&#160;</td><td class="mdescRight">A generic char * vector definition.  <a href="#a48de66d278847b536c2b24e0da6b5476">More...</a><br /></td></tr>
<tr class="separator:a48de66d278847b536c2b24e0da6b5476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e04a85a99125deae0c99bd39e3d65bb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7e04a85a99125deae0c99bd39e3d65bb">AST_VECTOR_RW</a> (object_type_wizards, struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *)</td></tr>
<tr class="separator:a7e04a85a99125deae0c99bd39e3d65bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a434778463cfbf6ef82c68fb4fc935c4a"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *vars)</td></tr>
<tr class="memdesc:a434778463cfbf6ef82c68fb4fc935c4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a sorcery object and applies a variable list.  <a href="#a434778463cfbf6ef82c68fb4fc935c4a">More...</a><br /></td></tr>
<tr class="separator:a434778463cfbf6ef82c68fb4fc935c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36f8e69048035ab89265e018255e326d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a36f8e69048035ab89265e018255e326d">delete_existing_cb</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:a36f8e69048035ab89265e018255e326d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abccd745eb19c8645117e4d7fa3d0ebbd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#abccd745eb19c8645117e4d7fa3d0ebbd">delete_extens</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>)</td></tr>
<tr class="separator:abccd745eb19c8645117e4d7fa3d0ebbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d6b66056a79df3468fdcfc27ec62fd4"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a5d6b66056a79df3468fdcfc27ec62fd4">find_wizard</a> (const char *object_type)</td></tr>
<tr class="memdesc:a5d6b66056a79df3468fdcfc27ec62fd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the otw for the object type.  <a href="#a5d6b66056a79df3468fdcfc27ec62fd4">More...</a><br /></td></tr>
<tr class="separator:a5d6b66056a79df3468fdcfc27ec62fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49237b9f670e08cc80ad372b307c82e7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a> (struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *vars, char *<a class="el" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>)</td></tr>
<tr class="memdesc:a49237b9f670e08cc80ad372b307c82e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">We need to strip off the prefix from the name of each variable so they're suitable for objectset_apply. I.E. will transform outbound_auth/username to username.  <a href="#a49237b9f670e08cc80ad372b307c82e7">More...</a><br /></td></tr>
<tr class="separator:a49237b9f670e08cc80ad372b307c82e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08df2061bfd64f4aa9a78d42fe8ea081"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a08df2061bfd64f4aa9a78d42fe8ea081">handle_aor</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw, struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *wiz, struct string_vector *remote_hosts_vector)</td></tr>
<tr class="separator:a08df2061bfd64f4aa9a78d42fe8ea081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f00e7cd8dbd3da1696ebc795f27cc95"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a5f00e7cd8dbd3da1696ebc795f27cc95">handle_auth</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw, struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *wiz, char *<a class="el" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>)</td></tr>
<tr class="separator:a5f00e7cd8dbd3da1696ebc795f27cc95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1d50298fbbf9e3b1e6450fbb88c1bde"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#ae1d50298fbbf9e3b1e6450fbb88c1bde">handle_auths</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw, struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *wiz)</td></tr>
<tr class="separator:ae1d50298fbbf9e3b1e6450fbb88c1bde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6162732251e808a81f5ff7fb6a76dfc1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6162732251e808a81f5ff7fb6a76dfc1">handle_endpoint</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw, struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *wiz)</td></tr>
<tr class="separator:a6162732251e808a81f5ff7fb6a76dfc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a657571d27a06cef0c1212309af142"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a72a657571d27a06cef0c1212309af142">handle_export_primitives</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a72a657571d27a06cef0c1212309af142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac98db00d3890fdf4984ea31832a48070"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#ac98db00d3890fdf4984ea31832a48070">handle_identify</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw, struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *wiz, struct string_vector *remote_hosts_vector)</td></tr>
<tr class="separator:ac98db00d3890fdf4984ea31832a48070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af71da4ed158fa1ed4bdde5955954e118"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#af71da4ed158fa1ed4bdde5955954e118">handle_phoneprov</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw, struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *wiz)</td></tr>
<tr class="separator:af71da4ed158fa1ed4bdde5955954e118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f219fbdbebfbf937898d9f401a6a00b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6f219fbdbebfbf937898d9f401a6a00b">handle_registrations</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw, struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *wiz, struct string_vector *remote_hosts_vector)</td></tr>
<tr class="separator:a6f219fbdbebfbf937898d9f401a6a00b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c50b6437bd9095dba83c80223c1ddd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a60c50b6437bd9095dba83c80223c1ddd">instance_created_observer</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>)</td></tr>
<tr class="memdesc:a60c50b6437bd9095dba83c80223c1ddd"><td class="mdescLeft">&#160;</td><td class="mdescRight">When the res_pjsip instance is created, add an observer to it and initialize the wizard vector. Also, bump the module's ref count so it can't be unloaded before the sorcery instance is destroyed.  <a href="#a60c50b6437bd9095dba83c80223c1ddd">More...</a><br /></td></tr>
<tr class="separator:a60c50b6437bd9095dba83c80223c1ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029e63d588603c08760a945ab41aa374"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a029e63d588603c08760a945ab41aa374">instance_destroying_observer</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>)</td></tr>
<tr class="memdesc:a029e63d588603c08760a945ab41aa374"><td class="mdescLeft">&#160;</td><td class="mdescRight">When the res_pjsip instance is destroyed, remove the observer and unref the module. This should then allow this module to unload cleanly.  <a href="#a029e63d588603c08760a945ab41aa374">More...</a><br /></td></tr>
<tr class="separator:a029e63d588603c08760a945ab41aa374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a726dc8928dc5d58877de3b555f7a5410"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a726dc8928dc5d58877de3b555f7a5410">is_one_of</a> (const char *needle, const char *haystack[])</td></tr>
<tr class="separator:a726dc8928dc5d58877de3b555f7a5410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e7cc6c69188a0ae7134ef662f6235a5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a> (struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *vars, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a2e7cc6c69188a0ae7134ef662f6235a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the last variable in a list and tests it.  <a href="#a2e7cc6c69188a0ae7134ef662f6235a5">More...</a><br /></td></tr>
<tr class="separator:a2e7cc6c69188a0ae7134ef662f6235a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a677862e7eb57aed1c9942506d89c17ee"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a677862e7eb57aed1c9942506d89c17ee">object_type_loaded_observer</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *object_type, int reloaded)</td></tr>
<tr class="memdesc:a677862e7eb57aed1c9942506d89c17ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after an object type is loaded/reloaded.  <a href="#a677862e7eb57aed1c9942506d89c17ee">More...</a><br /></td></tr>
<tr class="separator:a677862e7eb57aed1c9942506d89c17ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77beec4a2a781815fe08e56231ede2a3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a77beec4a2a781815fe08e56231ede2a3">object_type_registered_observer</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *object_type)</td></tr>
<tr class="memdesc:a77beec4a2a781815fe08e56231ede2a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">When each object type is registered, map a memory wizard to it.  <a href="#a77beec4a2a781815fe08e56231ede2a3">More...</a><br /></td></tr>
<tr class="separator:a77beec4a2a781815fe08e56231ede2a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53ee0c8b67cab71f2871ca89f530e6a4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a53ee0c8b67cab71f2871ca89f530e6a4">variable_list_append</a> (struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> **existing, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a53ee0c8b67cab71f2871ca89f530e6a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a variable to the end of an existing list.  <a href="#a53ee0c8b67cab71f2871ca89f530e6a4">More...</a><br /></td></tr>
<tr class="separator:a53ee0c8b67cab71f2871ca89f530e6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada8581ab057cdfb7e096f507b8f26b0c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#ada8581ab057cdfb7e096f507b8f26b0c">wizard_apply_handler</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw, struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *wiz)</td></tr>
<tr class="separator:ada8581ab057cdfb7e096f507b8f26b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8306e171fc346727053b4dc00df99d8b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a8306e171fc346727053b4dc00df99d8b">wizard_mapped_observer</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *object_type, struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> *wizard, const char *wizard_args, void *wizard_data)</td></tr>
<tr class="memdesc:a8306e171fc346727053b4dc00df99d8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">When each wizard is mapped, save it off to the vector.  <a href="#a8306e171fc346727053b4dc00df99d8b">More...</a><br /></td></tr>
<tr class="separator:a8306e171fc346727053b4dc00df99d8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;PJSIP Config Wizard&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .load_pri = AST_MODPRI_REALTIME_DRIVER, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd407e69ada9349d2b5d0b76de8d5ab"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a8fd407e69ada9349d2b5d0b76de8d5ab">config_wizard_cli</a> []</td></tr>
<tr class="separator:a8fd407e69ada9349d2b5d0b76de8d5ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e6850817985b22686a0df1373472c65"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d3/d3b/structast__sorcery__global__observer.html">ast_sorcery_global_observer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a5e6850817985b22686a0df1373472c65">global_observer</a></td></tr>
<tr class="separator:a5e6850817985b22686a0df1373472c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7862536ed74b8f0033c38bce52baa86"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dc/d45/structast__sorcery__instance__observer.html">ast_sorcery_instance_observer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#aa7862536ed74b8f0033c38bce52baa86">observer</a></td></tr>
<tr class="separator:aa7862536ed74b8f0033c38bce52baa86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>PJSIP Configuration Wizard. </p>
<dl class="section author"><dt>Author</dt><dd>George Joseph <a href="#" onclick="location.href='mai'+'lto:'+'geo'+'rg'+'e.j'+'os'+'eph'+'@f'+'air'+'vi'+'ew5'+'.c'+'om'; return false;">georg<span style="display: none;">.nosp@m.</span>e.jo<span style="display: none;">.nosp@m.</span>seph@<span style="display: none;">.nosp@m.</span>fair<span style="display: none;">.nosp@m.</span>view5<span style="display: none;">.nosp@m.</span>.com</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a13a04bccfe6a7467919fefd9d55ceb6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13a04bccfe6a7467919fefd9d55ceb6f">&#9670;&nbsp;</a></span>BASE_REGISTRAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BASE_REGISTRAR&#160;&#160;&#160;&quot;res_pjsip_config_wizard&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00278">278</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00422">add_extension()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00484">add_hints()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00407">delete_extens()</a>.</p>

</div>
</div>
<a id="a6967fa30f840373627632d68203ec9c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6967fa30f840373627632d68203ec9c6">&#9670;&nbsp;</a></span>MAX_ID_SUFFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ID_SUFFIX&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the maximum number of characters that can be added to a wizard id. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00276">276</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00533">handle_auth()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00661">handle_endpoint()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00731">handle_identify()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00795">handle_phoneprov()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00854">handle_registrations()</a>.</p>

</div>
</div>
<a id="a1af29f22911398fdb361401c2a80ba29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1af29f22911398fdb361401c2a80ba29">&#9670;&nbsp;</a></span>NOT_EQUALS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NOT_EQUALS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> != <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01336">unload_module()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>.</p>

</div>
</div>
<a id="a3c087857bdc8e254a3ffc1e8b8b83703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c087857bdc8e254a3ffc1e8b8b83703">&#9670;&nbsp;</a></span>OTW_DELETE_CB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTW_DELETE_CB</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">otw</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({ \</div><div class="line">   ast_config_destroy(otw-&gt;last_config); \</div><div class="line">   ast_free(otw); \</div><div class="line">})</div></div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01336">unload_module()</a>.</p>

</div>
</div>
<a id="a7d4f61d87c35c543247879b3173bc8f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d4f61d87c35c543247879b3173bc8f8">&#9670;&nbsp;</a></span>variable_list_append_return</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define variable_list_append_return</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">existing, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Appends a variable to the end of an existing list. On failure, cause the calling function to return -1. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">375</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00603">handle_aor()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00533">handle_auth()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00661">handle_endpoint()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00731">handle_identify()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00795">handle_phoneprov()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00854">handle_registrations()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01351">1351</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01351">1351</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

</div>
</div>
<a id="a40464edb0dc0f47257541cdc4970f160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40464edb0dc0f47257541cdc4970f160">&#9670;&nbsp;</a></span>add_extension()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_extension </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>application</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00422">422</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07308">ast_add_extension2_nolock()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04982">ast_context_remove_extension2()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00421">ast_get_context_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08596">ast_get_extension_app()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08601">ast_get_extension_app_data()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00278">BASE_REGISTRAR</a>, <a class="el" href="../../dc/dcf/func__periodic__hook_8c_source.html#l00092">context_name</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00248">ast_exten::data</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00218">E_MATCH</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/d7e/ael__lex_8c_source.html#l00973">paren</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00152">pbx_find_extension()</a>, and <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00238">pbx_find_info::stacklen</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00484">add_hints()</a>.</p>
<div class="fragment"><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;{</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d81/structpbx__find__info.html">pbx_find_info</a> find_info = { .<a class="code" href="../../db/d81/structpbx__find__info.html#a31dd453024f17e9e35717368cf8c87fb">stacklen</a> = 0 }; <span class="comment">/* the rest is reset in pbx_find_extension */</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *existing_exten;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d7/d00/structast__exten.html#ac5c5967f62e5c3601479be651a8ed76c">data</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <span class="keywordtype">void</span> *free_ptr = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d2/d7e/ael__lex_8c.html#a0dec70156318396f15cc8305df9918ab">paren</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dc/dcf/func__periodic__hook_8c.html#ab32539883094fa1c8103ce4b6ec197c2">context_name</a>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <span class="keywordflow">if</span> (!context || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>) || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(application)) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <span class="comment">/* The incoming application has to be split into the app name and the</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">    * arguments (data).  The app name can be any storage type as add_extension</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">    * copies it into its own buffer.  Data however, needs to be dynamically</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">    * allocated and a free function provided.</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   paren = strchr(application, <span class="charliteral">&#39;(&#39;</span>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   <span class="keywordflow">if</span> (!paren) {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      app = (<span class="keywordtype">char</span> *)application;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      app = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(application);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      app[paren - application] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      data = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(paren + 1);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <span class="keywordflow">if</span> (!data) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      data[strlen(data) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      free_ptr = <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(app) || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data)) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(data);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   <span class="comment">/* Don&#39;t disturb existing, exact-match, entries. */</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   context_name = <a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(context);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   <span class="keywordflow">if</span> ((existing_exten = <a class="code" href="../../db/de0/pbx_8h.html#ae12539be833fc552d4556c886605f17f">pbx_find_extension</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;find_info, context_name, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>,</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a>))) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *existing_app = <a class="code" href="../../db/de0/pbx_8h.html#a6594bb017b4d4fe1bc42370cc32ec974">ast_get_extension_app</a>(existing_exten);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *existing_data = <a class="code" href="../../db/de0/pbx_8h.html#ac0a6c0c39796f36864868365d8989f02">ast_get_extension_app_data</a>(existing_exten);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="keywordflow">if</span> (!strcmp(existing_app, app)</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;         &amp;&amp; !strcmp(existing_data ? existing_data : <span class="stringliteral">&quot;&quot;</span>, data ? data : <span class="stringliteral">&quot;&quot;</span>)) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(data);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a25dad382feec89a9bbc6c5284bb30e25">ast_context_remove_extension2</a>(context, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a>, 1);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#ade1b9a3e676992cb13790cb068234f44">ast_add_extension2_nolock</a>(context, 0, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;         app, data, free_ptr, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00218">extconf.h:218</a></div></div>
<div class="ttc" id="structast__exten_html"><div class="ttname"><a href="../../d7/d00/structast__exten.html">ast_exten</a></div><div class="ttdoc">ast_exten: An extension The dialplan is saved as a linked list with each context having it&amp;#39;s own link...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00237">pbx.c:237</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a3d015c3048804b0c2a37413a14f11e"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a></div><div class="ttdeci">const char * ast_get_context_name(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00421">ael_main.c:421</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a13a04bccfe6a7467919fefd9d55ceb6f"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a></div><div class="ttdeci">#define BASE_REGISTRAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00278">res_pjsip_config_wizard.c:278</a></div></div>
<div class="ttc" id="pbx_8h_html_a6594bb017b4d4fe1bc42370cc32ec974"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6594bb017b4d4fe1bc42370cc32ec974">ast_get_extension_app</a></div><div class="ttdeci">const char * ast_get_extension_app(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08596">pbx.c:8596</a></div></div>
<div class="ttc" id="pbx_8h_html_ac0a6c0c39796f36864868365d8989f02"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ac0a6c0c39796f36864868365d8989f02">ast_get_extension_app_data</a></div><div class="ttdeci">void * ast_get_extension_app_data(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08601">pbx.c:8601</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="func__periodic__hook_8c_html_ab32539883094fa1c8103ce4b6ec197c2"><div class="ttname"><a href="../../dc/dcf/func__periodic__hook_8c.html#ab32539883094fa1c8103ce4b6ec197c2">context_name</a></div><div class="ttdeci">static const char context_name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcf/func__periodic__hook_8c_source.html#l00092">func_periodic_hook.c:92</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structpbx__find__info_html"><div class="ttname"><a href="../../db/d81/structpbx__find__info.html">pbx_find_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00230">extconf.h:230</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structpbx__find__info_html_a31dd453024f17e9e35717368cf8c87fb"><div class="ttname"><a href="../../db/d81/structpbx__find__info.html#a31dd453024f17e9e35717368cf8c87fb">pbx_find_info::stacklen</a></div><div class="ttdeci">int stacklen</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00238">extconf.h:238</a></div></div>
<div class="ttc" id="pbx_8h_html_a25dad382feec89a9bbc6c5284bb30e25"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a25dad382feec89a9bbc6c5284bb30e25">ast_context_remove_extension2</a></div><div class="ttdeci">int ast_context_remove_extension2(struct ast_context *con, const char *extension, int priority, const char *registrar, int already_locked)</div><div class="ttdoc">This functionc locks given context, search for the right extension and fires out all peer in this ext...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04982">pbx.c:4982</a></div></div>
<div class="ttc" id="structast__exten_html_ac5c5967f62e5c3601479be651a8ed76c"><div class="ttname"><a href="../../d7/d00/structast__exten.html#ac5c5967f62e5c3601479be651a8ed76c">ast_exten::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00248">pbx.c:248</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="ael__lex_8c_html_a0dec70156318396f15cc8305df9918ab"><div class="ttname"><a href="../../d2/d7e/ael__lex_8c.html#a0dec70156318396f15cc8305df9918ab">paren</a></div><div class="ttdeci">#define paren</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7e/ael__lex_8c_source.html#l00973">ael_lex.c:973</a></div></div>
<div class="ttc" id="pbx_8h_html_ae12539be833fc552d4556c886605f17f"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae12539be833fc552d4556c886605f17f">pbx_find_extension</a></div><div class="ttdeci">struct ast_exten * pbx_find_extension(struct ast_channel *chan, struct ast_context *bypass, struct pbx_find_info *q, const char *context, const char *exten, int priority, const char *label, const char *callerid, enum ext_match_t action)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00152">ael_main.c:152</a></div></div>
<div class="ttc" id="pbx_8h_html_ade1b9a3e676992cb13790cb068234f44"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ade1b9a3e676992cb13790cb068234f44">ast_add_extension2_nolock</a></div><div class="ttdeci">int ast_add_extension2_nolock(struct ast_context *con, int replace, const char *extension, int priority, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *registrar, const char *registrar_file, int registrar_line)</div><div class="ttdoc">Same as ast_add_extension2, but assumes you have already locked context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07308">pbx.c:7308</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e5698b588289d5a258e4d38a810cd2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5698b588289d5a258e4d38a810cd2c">&#9670;&nbsp;</a></span>add_hints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_hints </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>application</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00484">484</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00422">add_extension()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00290">ast_alloca</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04982">ast_context_remove_extension2()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08520">ast_wrlock_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08502">ast_wrlock_contexts()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00278">BASE_REGISTRAR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/de0/pbx_8h_source.html#l00054">PRIORITY_HINT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00661">handle_endpoint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;{</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *hint_context;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   <span class="keywordtype">char</span> *hint_device;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   hint_device = <a class="code" href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a>(strlen(<span class="stringliteral">&quot;PJSIP/&quot;</span>) + strlen(<span class="keywordtype">id</span>) + 1);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   sprintf(hint_device, <span class="stringliteral">&quot;PJSIP/%s&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <span class="comment">/* We need the contexts list locked to safely be able to both read and lock the specific context within */</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a>()) {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to lock the contexts list.\n&quot;</span>);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   <span class="keywordflow">if</span> (!(hint_context = <a class="code" href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a>))) {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to find or create hint context &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>()) {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <span class="comment">/* Transfer the all-contexts lock to the specific context */</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a>(hint_context)) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;failed to obtain write lock on context\n&quot;</span>);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a40464edb0dc0f47257541cdc4970f160">add_extension</a>(hint_context, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a>, hint_device)) {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to add hint &#39;%s@%s&#39; to the PBX.\n&quot;</span>,</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;              <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(application)) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a40464edb0dc0f47257541cdc4970f160">add_extension</a>(hint_context, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, 1, application)) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to add hint &#39;%s@%s&#39; to the PBX.\n&quot;</span>,</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                 <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a25dad382feec89a9bbc6c5284bb30e25">ast_context_remove_extension2</a>(hint_context, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, 1, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a>, 1);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(hint_context);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a805796e4728845bff70c4caf5b224308"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a></div><div class="ttdeci">int ast_unlock_context(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08530">pbx.c:8530</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a13a04bccfe6a7467919fefd9d55ceb6f"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a></div><div class="ttdeci">#define BASE_REGISTRAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00278">res_pjsip_config_wizard.c:278</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="pbx_8h_html_a18c87dac5f7f4368c11b67d8026adc22"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a></div><div class="ttdeci">int ast_wrlock_contexts(void)</div><div class="ttdoc">Write locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08502">pbx.c:8502</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="pbx_8h_html_ad2e753a683024fad0b34ece3b1aef83a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a></div><div class="ttdeci">#define PRIORITY_HINT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00054">pbx.h:54</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a40464edb0dc0f47257541cdc4970f160"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a40464edb0dc0f47257541cdc4970f160">add_extension</a></div><div class="ttdeci">static int add_extension(struct ast_context *context, const char *exten, int priority, const char *application)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00422">res_pjsip_config_wizard.c:422</a></div></div>
<div class="ttc" id="astmm_8h_html_a249282ecc7ba5a1a49fa75e9a33d1717"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a></div><div class="ttdeci">#define ast_alloca(size)</div><div class="ttdoc">call __builtin_alloca to ensure we get gcc builtin semantics </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00290">astmm.h:290</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="pbx_8h_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx_8h_html_a2c961dcbdcade8fac28960ed67c89bd2"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a></div><div class="ttdeci">int ast_wrlock_context(struct ast_context *con)</div><div class="ttdoc">Write locks a given context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08520">pbx.c:8520</a></div></div>
<div class="ttc" id="pbx_8h_html_a25dad382feec89a9bbc6c5284bb30e25"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a25dad382feec89a9bbc6c5284bb30e25">ast_context_remove_extension2</a></div><div class="ttdeci">int ast_context_remove_extension2(struct ast_context *con, const char *extension, int priority, const char *registrar, int already_locked)</div><div class="ttdoc">This functionc locks given context, search for the right extension and fires out all peer in this ext...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04982">pbx.c:4982</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a07400b41b3302edf8aef9f53644698"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a></div><div class="ttdeci">struct ast_context * ast_context_find_or_create(struct ast_context **extcontexts, struct ast_hashtab *exttable, const char *name, const char *registrar)</div><div class="ttdoc">Register a new context or find an existing one. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06198">pbx.c:6198</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01351">1351</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

</div>
</div>
<a id="a48de66d278847b536c2b24e0da6b5476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48de66d278847b536c2b24e0da6b5476">&#9670;&nbsp;</a></span>AST_VECTOR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_VECTOR </td>
          <td>(</td>
          <td class="paramtype">string_vector&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A generic char * vector definition. </p>

</div>
</div>
<a id="a7e04a85a99125deae0c99bd39e3d65bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e04a85a99125deae0c99bd39e3d65bb">&#9670;&nbsp;</a></span>AST_VECTOR_RW()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static AST_VECTOR_RW </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>object_type_wizards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00291">291</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                            { \</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   ast_config_destroy(otw-&gt;last_config); \</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   ast_free(otw); \</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;})</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">char</span> *object_types[] = {<span class="stringliteral">&quot;phoneprov&quot;</span>, <span class="stringliteral">&quot;registration&quot;</span>, <span class="stringliteral">&quot;identify&quot;</span>, <span class="stringliteral">&quot;endpoint&quot;</span>, <span class="stringliteral">&quot;aor&quot;</span>, <span class="stringliteral">&quot;auth&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>};</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a434778463cfbf6ef82c68fb4fc935c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a434778463cfbf6ef82c68fb4fc935c4a">&#9670;&nbsp;</a></span>create_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* create_object </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>vars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a sorcery object and applies a variable list. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">333</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01744">ast_sorcery_alloc()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01632">ast_sorcery_objectset_apply()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00603">handle_aor()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00533">handle_auth()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00661">handle_endpoint()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00731">handle_identify()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00795">handle_phoneprov()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00854">handle_registrations()</a>.</p>
<div class="fragment"><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;{</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a> *obj = <a class="code" href="../../d8/d25/sorcery_8h.html#acb6c97c18566cf94a7ac95a43dd9a816">ast_sorcery_alloc</a>(sorcery, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to allocate an object of type &#39;%s&#39; with id &#39;%s&#39;.\n&quot;</span>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d25/sorcery_8h.html#abd515bbf4fb5e92afaad574936082871">ast_sorcery_objectset_apply</a>(sorcery, obj, vars)) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to apply object type &#39;%s&#39; with id &#39;%s&#39;.  Check preceeding errors.\n&quot;</span>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <span class="keywordflow">return</span> obj;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="sorcery_8h_html_abd515bbf4fb5e92afaad574936082871"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#abd515bbf4fb5e92afaad574936082871">ast_sorcery_objectset_apply</a></div><div class="ttdeci">int ast_sorcery_objectset_apply(const struct ast_sorcery *sorcery, void *object, struct ast_variable *objectset)</div><div class="ttdoc">Apply an object set (KVP list) to an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01632">sorcery.c:1632</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__sorcery__object_html"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a></div><div class="ttdoc">Structure for internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00127">sorcery.c:127</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="sorcery_8h_html_acb6c97c18566cf94a7ac95a43dd9a816"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#acb6c97c18566cf94a7ac95a43dd9a816">ast_sorcery_alloc</a></div><div class="ttdeci">void * ast_sorcery_alloc(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Allocate an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01744">sorcery.c:1744</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a36f8e69048035ab89265e018255e326d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36f8e69048035ab89265e018255e326d">&#9670;&nbsp;</a></span>delete_existing_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int delete_existing_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00837">837</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02330">ast_sorcery_object_get_extended()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00116">context</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00319">ast_sorcery_wizard::delete</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00407">delete_extens()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00118">exten</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00289">object_type_wizard::object_type</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00285">object_type_wizard::sorcery</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">object_type_wizard::wizard</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">object_type_wizard::wizard_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00854">handle_registrations()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01063">object_type_loaded_observer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;{</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw = arg;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;   <span class="keywordflow">if</span> (!strcmp(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>, <span class="stringliteral">&quot;endpoint&quot;</span>)) {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a> = <a class="code" href="../../d8/d25/sorcery_8h.html#ae70a3da16c7f573f76426568cb156aa2">ast_sorcery_object_get_extended</a>(obj, <span class="stringliteral">&quot;hint_context&quot;</span>);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a> = <a class="code" href="../../d8/d25/sorcery_8h.html#ae70a3da16c7f573f76426568cb156aa2">ast_sorcery_object_get_extended</a>(obj, <span class="stringliteral">&quot;hint_exten&quot;</span>);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(context) &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(exten)) {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;         <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#abccd745eb19c8645117e4d7fa3d0ebbd">delete_extens</a>(context, exten);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   }</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#abc139706e978f8648f1a32f141370d2d">delete</a>(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_abccd745eb19c8645117e4d7fa3d0ebbd"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#abccd745eb19c8645117e4d7fa3d0ebbd">delete_extens</a></div><div class="ttdeci">static int delete_extens(const char *context, const char *exten)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00407">res_pjsip_config_wizard.c:407</a></div></div>
<div class="ttc" id="structobject__type__wizard_html"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a></div><div class="ttdoc">Keeps track of the sorcery wizard and last config for each object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00284">res_pjsip_config_wizard.c:284</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_abc139706e978f8648f1a32f141370d2d"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#abc139706e978f8648f1a32f141370d2d">ast_sorcery_wizard::delete</a></div><div class="ttdeci">int(* delete)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for deleting an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00319">sorcery.h:319</a></div></div>
<div class="ttc" id="sorcery_8h_html_ae70a3da16c7f573f76426568cb156aa2"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ae70a3da16c7f573f76426568cb156aa2">ast_sorcery_object_get_extended</a></div><div class="ttdeci">const char * ast_sorcery_object_get_extended(const void *object, const char *name)</div><div class="ttdoc">Get an extended field value from a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02330">sorcery.c:2330</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_add172c48d79f11f30a2a5d16b1aa1e75"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">object_type_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_wizard * wizard</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">res_pjsip_config_wizard.c:286</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">object_type_wizard::sorcery</a></div><div class="ttdeci">struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00285">res_pjsip_config_wizard.c:285</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_a9db3ba32f72ce3b60319336488789904"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type_wizard::object_type</a></div><div class="ttdeci">char object_type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00289">res_pjsip_config_wizard.c:289</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_af7766396a87543cfa36fbff53d7f5efe"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">object_type_wizard::wizard_data</a></div><div class="ttdeci">void * wizard_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">res_pjsip_config_wizard.c:287</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abccd745eb19c8645117e4d7fa3d0ebbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abccd745eb19c8645117e4d7fa3d0ebbd">&#9670;&nbsp;</a></span>delete_extens()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int delete_extens </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00407">407</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l04952">ast_context_remove_extension()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00278">BASE_REGISTRAR</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00218">E_MATCH</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00152">pbx_find_extension()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00054">PRIORITY_HINT</a>, and <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00238">pbx_find_info::stacklen</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00837">delete_existing_cb()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00661">handle_endpoint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;{</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d81/structpbx__find__info.html">pbx_find_info</a> find_info = { .<a class="code" href="../../db/d81/structpbx__find__info.html#a31dd453024f17e9e35717368cf8c87fb">stacklen</a> = 0 }; <span class="comment">/* the rest is reset in pbx_find_extension */</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#ae12539be833fc552d4556c886605f17f">pbx_find_extension</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;find_info, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a>)) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a721c6ba091102f155a586e09b2a526bf">ast_context_remove_extension</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a>, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#ae12539be833fc552d4556c886605f17f">pbx_find_extension</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;find_info, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a>)) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a721c6ba091102f155a586e09b2a526bf">ast_context_remove_extension</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, 1, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a>);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00218">extconf.h:218</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a13a04bccfe6a7467919fefd9d55ceb6f"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a></div><div class="ttdeci">#define BASE_REGISTRAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00278">res_pjsip_config_wizard.c:278</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx_8h_html_a721c6ba091102f155a586e09b2a526bf"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a721c6ba091102f155a586e09b2a526bf">ast_context_remove_extension</a></div><div class="ttdeci">int ast_context_remove_extension(const char *context, const char *extension, int priority, const char *registrar)</div><div class="ttdoc">Simply remove extension from context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04952">pbx.c:4952</a></div></div>
<div class="ttc" id="structpbx__find__info_html"><div class="ttname"><a href="../../db/d81/structpbx__find__info.html">pbx_find_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00230">extconf.h:230</a></div></div>
<div class="ttc" id="pbx_8h_html_ad2e753a683024fad0b34ece3b1aef83a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a></div><div class="ttdeci">#define PRIORITY_HINT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00054">pbx.h:54</a></div></div>
<div class="ttc" id="structpbx__find__info_html_a31dd453024f17e9e35717368cf8c87fb"><div class="ttname"><a href="../../db/d81/structpbx__find__info.html#a31dd453024f17e9e35717368cf8c87fb">pbx_find_info::stacklen</a></div><div class="ttdeci">int stacklen</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00238">extconf.h:238</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx_8h_html_ae12539be833fc552d4556c886605f17f"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae12539be833fc552d4556c886605f17f">pbx_find_extension</a></div><div class="ttdeci">struct ast_exten * pbx_find_extension(struct ast_channel *chan, struct ast_context *bypass, struct pbx_find_info *q, const char *context, const char *exten, int priority, const char *label, const char *callerid, enum ext_match_t action)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00152">ael_main.c:152</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d6b66056a79df3468fdcfc27ec62fd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d6b66056a79df3468fdcfc27ec62fd4">&#9670;&nbsp;</a></span>find_wizard()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a>* find_wizard </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>object_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds the otw for the object type. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00315">315</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00880">AST_VECTOR_RW_RDLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00289">object_type_wizard::object_type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01063">object_type_loaded_observer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a>(&amp;object_type_wizards);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <span class="keywordflow">for</span>(idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type_wizards); idx++) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type_wizards, idx);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">if</span> (!strcmp(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>, <a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>)) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type_wizards);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;         <span class="keywordflow">return</span> otw;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type_wizards);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div><div class="ttc" id="structobject__type__wizard_html"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a></div><div class="ttdoc">Keeps track of the sorcery wizard and last config for each object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00284">res_pjsip_config_wizard.c:284</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="vector_8h_html_ad414eae87431bad2a7fc4dffa9d06350"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_RDLOCK(vec)</div><div class="ttdoc">Obtain read lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00880">vector.h:880</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_a9db3ba32f72ce3b60319336488789904"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type_wizard::object_type</a></div><div class="ttdeci">char object_type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00289">res_pjsip_config_wizard.c:289</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a49237b9f670e08cc80ad372b307c82e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49237b9f670e08cc80ad372b307c82e7">&#9670;&nbsp;</a></span>get_object_variables()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a>* get_object_variables </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We need to strip off the prefix from the name of each variable so they're suitable for objectset_apply. I.E. will transform outbound_auth/username to username. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">388</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00094">ast_begins_with()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00359">variable_list_append()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00603">handle_aor()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00533">handle_auth()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00661">handle_endpoint()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00731">handle_identify()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00795">handle_phoneprov()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00854">handle_registrations()</a>.</p>
<div class="fragment"><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *return_vars = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v = vars;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <span class="keywordtype">int</span> plen = strlen(<a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   <span class="keywordflow">for</span>(; v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>) &amp;&amp; strlen(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) &gt; plen) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a53ee0c8b67cab71f2871ca89f530e6a4">variable_list_append</a>(&amp;return_vars, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> + plen, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>)) {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(return_vars);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;         }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;   }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <span class="keywordflow">return</span> return_vars;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="strings_8h_html_ac51fa66c90ce950b248c9ff3e8c4e453"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a></div><div class="ttdeci">static int force_inline attribute_pure ast_begins_with(const char *str, const char *prefix)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00094">strings.h:94</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a53ee0c8b67cab71f2871ca89f530e6a4"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a53ee0c8b67cab71f2871ca89f530e6a4">variable_list_append</a></div><div class="ttdeci">static int variable_list_append(struct ast_variable **existing, const char *name, const char *value)</div><div class="ttdoc">Appends a variable to the end of an existing list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00359">res_pjsip_config_wizard.c:359</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08df2061bfd64f4aa9a78d42fe8ea081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08df2061bfd64f4aa9a78d42fe8ea081">&#9670;&nbsp;</a></span>handle_aor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int handle_aor </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *&#160;</td>
          <td class="paramname"><em>otw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *&#160;</td>
          <td class="paramname"><em>wiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct string_vector *&#160;</td>
          <td class="paramname"><em>remote_hosts_vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00603">603</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01157">ast_category_first()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01028">ast_category_get_name()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00621">ast_str_substitute_variables_varshead()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00040">ast_var_assign</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00097">ast_var_list_create()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00109">ast_var_list_destroy()</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00051">AST_VAR_LIST_INSERT_TAIL()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00842">ast_variable_find_last_in_list()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00293">ast_sorcery_wizard::create</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">create_object()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">get_object_variables()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00316">ast_sorcery_wizard::update</a>, <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00359">variable_list_append()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">variable_list_append_return</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">object_type_wizard::wizard</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">object_type_wizard::wizard_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;{</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *wizvars = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a>(wiz);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a> *obj = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a>(wiz);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *contact_pattern;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *outbound_proxy = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;outbound_proxy&quot;</span>);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <span class="keywordtype">int</span> host_count = <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(remote_hosts_vector);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, vars, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a>(wizvars, <span class="stringliteral">&quot;aor/&quot;</span>), <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a53ee0c8b67cab71f2871ca89f530e6a4">variable_list_append</a>(&amp;vars, <span class="stringliteral">&quot;@pjsip_wizard&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(outbound_proxy)) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;outbound_proxy&quot;</span>, outbound_proxy);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;   }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   <span class="comment">/* If the user explicitly specified an aor/contact, don&#39;t use remote hosts. */</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(vars, <span class="stringliteral">&quot;contact&quot;</span>)) {</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="keywordflow">if</span> (!(contact_pattern = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;contact_pattern&quot;</span>))) {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;         contact_pattern = <span class="stringliteral">&quot;sip:${REMOTE_HOST}&quot;</span>;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      }</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="keywordflow">if</span> (host_count &gt; 0 &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(contact_pattern)) {</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;         <span class="keywordtype">int</span> host_counter;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;         <span class="comment">/* ast_str_substitute_variables operate on a varshead list so we have</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">          * to create one to hold the REPORT_HOST substitution, do the substitution,</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">          * then append the result to the ast_variable list.</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;         <span class="keywordflow">for</span> (host_counter = 0; host_counter &lt; host_count; host_counter++) {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *, new_str, <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(64), <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/de6/structvarshead.html">varshead</a> *, subst_vars, <a class="code" href="../../d9/de7/chanvars_8h.html#a1df6978d9c527d25a2f5d195a50d1b36">ast_var_list_create</a>(), <a class="code" href="../../d9/de7/chanvars_8h.html#a0b8e11b286f89075c1b2615211125c2b">ast_var_list_destroy</a>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a> = <a class="code" href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a>(<span class="stringliteral">&quot;REMOTE_HOST&quot;</span>,</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;               <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(remote_hosts_vector, host_counter));</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <a class="code" href="../../d9/de7/chanvars_8h.html#a392443df4fe40d95be2280e6c1b0fc6d">AST_VAR_LIST_INSERT_TAIL</a>(subst_vars, var);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#a80b0feaeb3c78569effccc3ea47b3d68">ast_str_substitute_variables_varshead</a>(&amp;new_str, 0, subst_vars,</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;               contact_pattern);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;contact&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(new_str));</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;         }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   }</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   obj = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a>(sorcery, <span class="keywordtype">id</span>, <span class="stringliteral">&quot;aor&quot;</span>, vars);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   }</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   <span class="keywordflow">if</span> (otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ae631fb0a2d39a4a94b0f5466e972a5c2">update</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj)) {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ab9224c5e4ff65f2dda73847ab815219f">create</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;   }</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div><div class="ttc" id="structast__sorcery__wizard_html_ae631fb0a2d39a4a94b0f5466e972a5c2"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ae631fb0a2d39a4a94b0f5466e972a5c2">ast_sorcery_wizard::update</a></div><div class="ttdeci">int(* update)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for updating an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00316">sorcery.h:316</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a7d4f61d87c35c543247879b3173bc8f8"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a></div><div class="ttdeci">#define variable_list_append_return(existing, name, value)</div><div class="ttdoc">Appends a variable to the end of an existing list. On failure, cause the calling function to return -...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">res_pjsip_config_wizard.c:375</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a434778463cfbf6ef82c68fb4fc935c4a"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a></div><div class="ttdeci">static void * create_object(const struct ast_sorcery *sorcery, const char *id, const char *type, struct ast_variable *vars)</div><div class="ttdoc">Creates a sorcery object and applies a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">res_pjsip_config_wizard.c:333</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_ab9224c5e4ff65f2dda73847ab815219f"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ab9224c5e4ff65f2dda73847ab815219f">ast_sorcery_wizard::create</a></div><div class="ttdeci">int(* create)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for creating an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00293">sorcery.h:293</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a622dceb7df1ca72bcbb625e3341e23b5"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a></div><div class="ttdeci">const char * ast_variable_find_last_in_list(const struct ast_variable *list, const char *variable)</div><div class="ttdoc">Gets the value of the LAST occurrence of a variable from a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00842">main/config.c:842</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a39040e0fe9c0bac870c10ad32afbfb17"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a></div><div class="ttdeci">struct ast_variable * ast_category_first(struct ast_category *cat)</div><div class="ttdoc">given a pointer to a category, return the root variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01157">main/config.c:1157</a></div></div>
<div class="ttc" id="structast__sorcery__object_html"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a></div><div class="ttdoc">Structure for internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00127">sorcery.c:127</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="pbx_8h_html_a80b0feaeb3c78569effccc3ea47b3d68"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a80b0feaeb3c78569effccc3ea47b3d68">ast_str_substitute_variables_varshead</a></div><div class="ttdeci">void ast_str_substitute_variables_varshead(struct ast_str **buf, ssize_t maxlen, struct varshead *headp, const char *templ)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00621">pbx_variables.c:621</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="structvarshead_html"><div class="ttname"><a href="../../dd/de6/structvarshead.html">varshead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a49237b9f670e08cc80ad372b307c82e7"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a></div><div class="ttdeci">static struct ast_variable * get_object_variables(struct ast_variable *vars, char *prefix)</div><div class="ttdoc">We need to strip off the prefix from the name of each variable so they&amp;#39;re suitable for objectset_appl...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">res_pjsip_config_wizard.c:388</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="chanvars_8h_html_a78deeb18e93b145e9895346cef766577"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a></div><div class="ttdeci">#define ast_var_assign(name, value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00040">chanvars.h:40</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_add172c48d79f11f30a2a5d16b1aa1e75"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">object_type_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_wizard * wizard</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">res_pjsip_config_wizard.c:286</a></div></div>
<div class="ttc" id="chanvars_8h_html_a1df6978d9c527d25a2f5d195a50d1b36"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a1df6978d9c527d25a2f5d195a50d1b36">ast_var_list_create</a></div><div class="ttdeci">struct varshead * ast_var_list_create(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00097">chanvars.c:97</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a53ee0c8b67cab71f2871ca89f530e6a4"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a53ee0c8b67cab71f2871ca89f530e6a4">variable_list_append</a></div><div class="ttdeci">static int variable_list_append(struct ast_variable **existing, const char *name, const char *value)</div><div class="ttdoc">Appends a variable to the end of an existing list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00359">res_pjsip_config_wizard.c:359</a></div></div>
<div class="ttc" id="chanvars_8h_html_a0b8e11b286f89075c1b2615211125c2b"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a0b8e11b286f89075c1b2615211125c2b">ast_var_list_destroy</a></div><div class="ttdeci">void ast_var_list_destroy(struct varshead *head)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00109">chanvars.c:109</a></div></div>
<div class="ttc" id="chanvars_8h_html_a392443df4fe40d95be2280e6c1b0fc6d"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a392443df4fe40d95be2280e6c1b0fc6d">AST_VAR_LIST_INSERT_TAIL</a></div><div class="ttdeci">static void AST_VAR_LIST_INSERT_TAIL(struct varshead *head, struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00051">chanvars.h:51</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_af7766396a87543cfa36fbff53d7f5efe"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">object_type_wizard::wizard_data</a></div><div class="ttdeci">void * wizard_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">res_pjsip_config_wizard.c:287</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1ac00507f4e5ae91c46f613e5cadae04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a></div><div class="ttdeci">const char * ast_category_get_name(const struct ast_category *category)</div><div class="ttdoc">Return the name of the category. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01028">main/config.c:1028</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f00e7cd8dbd3da1696ebc795f27cc95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f00e7cd8dbd3da1696ebc795f27cc95">&#9670;&nbsp;</a></span>handle_auth()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int handle_auth </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *&#160;</td>
          <td class="paramname"><em>otw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *&#160;</td>
          <td class="paramname"><em>wiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00533">533</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01157">ast_category_first()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01028">ast_category_get_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00842">ast_variable_find_last_in_list()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00293">ast_sorcery_wizard::create</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">create_object()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00319">ast_sorcery_wizard::delete</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">get_object_variables()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00353">is_variable_true()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00276">MAX_ID_SUFFIX</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l00141">prefix</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00296">ast_sorcery_wizard::retrieve_id</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00316">ast_sorcery_wizard::update</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">variable_list_append_return</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">object_type_wizard::wizard</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">object_type_wizard::wizard_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00591">handle_auths()</a>.</p>
<div class="fragment"><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;{</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *wizvars = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a>(wiz);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a> *obj = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a>(wiz);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <span class="keywordtype">char</span> new_id[strlen(<span class="keywordtype">id</span>) + <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6967fa30f840373627632d68203ec9c6">MAX_ID_SUFFIX</a>];</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>[strlen(<a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>) + strlen(<span class="stringliteral">&quot;_auth/&quot;</span>) + 1];</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <span class="keywordtype">char</span> *test_variable = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, vars, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   snprintf(prefix, <span class="keyword">sizeof</span>(prefix), <span class="stringliteral">&quot;%s_auth/&quot;</span>, <a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   vars = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a>(wizvars, prefix);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>, <span class="stringliteral">&quot;outbound&quot;</span>)) {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      snprintf(new_id, <span class="keyword">sizeof</span>(new_id), <span class="stringliteral">&quot;%s-oauth&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      test_variable = <span class="stringliteral">&quot;sends_auth&quot;</span>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      snprintf(new_id, <span class="keyword">sizeof</span>(new_id), <span class="stringliteral">&quot;%s-iauth&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      test_variable = <span class="stringliteral">&quot;accepts_auth&quot;</span>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;   }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a>(wizvars, test_variable)) {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(vars, <span class="stringliteral">&quot;username&quot;</span>)) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="stringliteral">&quot;Wizard &#39;%s&#39; must have &#39;%s_auth/username&#39; if it %s.\n&quot;</span>, <span class="keywordtype">id</span>, <a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>, test_variable);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="comment">/* Delete auth if sends or accepts is now false. */</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      obj = otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a952f0fcef7c2ab963fb99f99293750af">retrieve_id</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, <span class="stringliteral">&quot;auth&quot;</span>, new_id);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="keywordflow">if</span> (obj) {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;         otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#abc139706e978f8648f1a32f141370d2d">delete</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;@pjsip_wizard&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;   <span class="comment">/* If the user set auth_type, don&#39;t override it. */</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(vars, <span class="stringliteral">&quot;auth_type&quot;</span>)) {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;auth_type&quot;</span>, <span class="stringliteral">&quot;userpass&quot;</span>);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   obj = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a>(sorcery, new_id, <span class="stringliteral">&quot;auth&quot;</span>, vars);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;   }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;   <span class="keywordflow">if</span> (otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ae631fb0a2d39a4a94b0f5466e972a5c2">update</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj)) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ab9224c5e4ff65f2dda73847ab815219f">create</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;   }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;}</div><div class="ttc" id="structast__sorcery__wizard_html_ae631fb0a2d39a4a94b0f5466e972a5c2"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ae631fb0a2d39a4a94b0f5466e972a5c2">ast_sorcery_wizard::update</a></div><div class="ttdeci">int(* update)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for updating an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00316">sorcery.h:316</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a6967fa30f840373627632d68203ec9c6"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6967fa30f840373627632d68203ec9c6">MAX_ID_SUFFIX</a></div><div class="ttdeci">#define MAX_ID_SUFFIX</div><div class="ttdoc">Defines the maximum number of characters that can be added to a wizard id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00276">res_pjsip_config_wizard.c:276</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a7d4f61d87c35c543247879b3173bc8f8"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a></div><div class="ttdeci">#define variable_list_append_return(existing, name, value)</div><div class="ttdoc">Appends a variable to the end of an existing list. On failure, cause the calling function to return -...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">res_pjsip_config_wizard.c:375</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a434778463cfbf6ef82c68fb4fc935c4a"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a></div><div class="ttdeci">static void * create_object(const struct ast_sorcery *sorcery, const char *id, const char *type, struct ast_variable *vars)</div><div class="ttdoc">Creates a sorcery object and applies a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">res_pjsip_config_wizard.c:333</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_ab9224c5e4ff65f2dda73847ab815219f"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ab9224c5e4ff65f2dda73847ab815219f">ast_sorcery_wizard::create</a></div><div class="ttdeci">int(* create)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for creating an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00293">sorcery.h:293</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a622dceb7df1ca72bcbb625e3341e23b5"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a></div><div class="ttdeci">const char * ast_variable_find_last_in_list(const struct ast_variable *list, const char *variable)</div><div class="ttdoc">Gets the value of the LAST occurrence of a variable from a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00842">main/config.c:842</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_abc139706e978f8648f1a32f141370d2d"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#abc139706e978f8648f1a32f141370d2d">ast_sorcery_wizard::delete</a></div><div class="ttdeci">int(* delete)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for deleting an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00319">sorcery.h:319</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a39040e0fe9c0bac870c10ad32afbfb17"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a></div><div class="ttdeci">struct ast_variable * ast_category_first(struct ast_category *cat)</div><div class="ttdoc">given a pointer to a category, return the root variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01157">main/config.c:1157</a></div></div>
<div class="ttc" id="structast__sorcery__object_html"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a></div><div class="ttdoc">Structure for internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00127">sorcery.c:127</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a49237b9f670e08cc80ad372b307c82e7"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a></div><div class="ttdeci">static struct ast_variable * get_object_variables(struct ast_variable *vars, char *prefix)</div><div class="ttdoc">We need to strip off the prefix from the name of each variable so they&amp;#39;re suitable for objectset_appl...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">res_pjsip_config_wizard.c:388</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_add172c48d79f11f30a2a5d16b1aa1e75"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">object_type_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_wizard * wizard</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">res_pjsip_config_wizard.c:286</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a952f0fcef7c2ab963fb99f99293750af"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a952f0fcef7c2ab963fb99f99293750af">ast_sorcery_wizard::retrieve_id</a></div><div class="ttdeci">void *(* retrieve_id)(const struct ast_sorcery *sorcery, void *data, const char *type, const char *id)</div><div class="ttdoc">Callback for retrieving an object using an id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00296">sorcery.h:296</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a2e7cc6c69188a0ae7134ef662f6235a5"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a></div><div class="ttdeci">static int is_variable_true(struct ast_variable *vars, const char *name)</div><div class="ttdoc">Finds the last variable in a list and tests it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00353">res_pjsip_config_wizard.c:353</a></div></div>
<div class="ttc" id="func__frame__drop_8c_html_a99f26e6ee9fcd62f75203b5402df8098"><div class="ttname"><a href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8b/func__frame__drop_8c_source.html#l00137">func_frame_drop.c:137</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_af7766396a87543cfa36fbff53d7f5efe"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">object_type_wizard::wizard_data</a></div><div class="ttdeci">void * wizard_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">res_pjsip_config_wizard.c:287</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1ac00507f4e5ae91c46f613e5cadae04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a></div><div class="ttdeci">const char * ast_category_get_name(const struct ast_category *category)</div><div class="ttdoc">Return the name of the category. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01028">main/config.c:1028</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1d50298fbbf9e3b1e6450fbb88c1bde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1d50298fbbf9e3b1e6450fbb88c1bde">&#9670;&nbsp;</a></span>handle_auths()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int handle_auths </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *&#160;</td>
          <td class="paramname"><em>otw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *&#160;</td>
          <td class="paramname"><em>wiz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00591">591</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00533">handle_auth()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;{</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   <span class="keywordtype">int</span> rc;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <span class="keywordflow">if</span> ((rc = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a5f00e7cd8dbd3da1696ebc795f27cc95">handle_auth</a>(sorcery, otw, wiz, <span class="stringliteral">&quot;outbound&quot;</span>))) {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a5f00e7cd8dbd3da1696ebc795f27cc95">handle_auth</a>(sorcery, otw, wiz, <span class="stringliteral">&quot;inbound&quot;</span>);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="ttc" id="res__pjsip__config__wizard_8c_html_a5f00e7cd8dbd3da1696ebc795f27cc95"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a5f00e7cd8dbd3da1696ebc795f27cc95">handle_auth</a></div><div class="ttdeci">static int handle_auth(const struct ast_sorcery *sorcery, struct object_type_wizard *otw, struct ast_category *wiz, char *direction)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00533">res_pjsip_config_wizard.c:533</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6162732251e808a81f5ff7fb6a76dfc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6162732251e808a81f5ff7fb6a76dfc1">&#9670;&nbsp;</a></span>handle_endpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int handle_endpoint </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *&#160;</td>
          <td class="paramname"><em>otw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *&#160;</td>
          <td class="paramname"><em>wiz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00661">661</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00484">add_hints()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01157">ast_category_first()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01028">ast_category_get_name()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00842">ast_variable_find_last_in_list()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00293">ast_sorcery_wizard::create</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">create_object()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00407">delete_extens()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">get_object_variables()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00353">is_variable_true()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00276">MAX_ID_SUFFIX</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00316">ast_sorcery_wizard::update</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">variable_list_append_return</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">object_type_wizard::wizard</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">object_type_wizard::wizard_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;{</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *wizvars = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a>(wiz);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a> *obj = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a>(wiz);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *outbound_proxy = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;outbound_proxy&quot;</span>);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *transport = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;transport&quot;</span>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *hint_context = hint_context = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;hint_context&quot;</span>);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *hint_exten = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;hint_exten&quot;</span>);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *hint_application= <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;hint_application&quot;</span>);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="keywordtype">char</span> new_id[strlen(<span class="keywordtype">id</span>) + <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6967fa30f840373627632d68203ec9c6">MAX_ID_SUFFIX</a>];</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, vars, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a>(wizvars, <span class="stringliteral">&quot;endpoint/&quot;</span>), <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;   <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;@pjsip_wizard&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;aors&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(outbound_proxy)) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;outbound_proxy&quot;</span>, outbound_proxy);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   }</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(hint_context)) {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      hint_context = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(vars, <span class="stringliteral">&quot;context&quot;</span>);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;   }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(hint_context)) {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      hint_context = <span class="stringliteral">&quot;default&quot;</span>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(hint_exten)) {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="comment">/* These are added so we can find and delete the hints when the endpoint gets deleted */</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;@hint_context&quot;</span>, hint_context);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;@hint_exten&quot;</span>, hint_exten);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;   }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(transport)) {</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;transport&quot;</span>, transport);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a>(wizvars, <span class="stringliteral">&quot;sends_auth&quot;</span>)) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      snprintf(new_id, <span class="keyword">sizeof</span>(new_id), <span class="stringliteral">&quot;%s-oauth&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;outbound_auth&quot;</span>, new_id);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a>(wizvars, <span class="stringliteral">&quot;accepts_auth&quot;</span>)) {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      snprintf(new_id, <span class="keyword">sizeof</span>(new_id), <span class="stringliteral">&quot;%s-iauth&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;auth&quot;</span>, new_id);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   }</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;   obj = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a>(sorcery, <span class="keywordtype">id</span>, <span class="stringliteral">&quot;endpoint&quot;</span>, vars);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   }</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   <span class="keywordflow">if</span> (otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ae631fb0a2d39a4a94b0f5466e972a5c2">update</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj)) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ab9224c5e4ff65f2dda73847ab815219f">create</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;   }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(hint_exten)) {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a>(wizvars, <span class="stringliteral">&quot;has_hint&quot;</span>)) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;         <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e5698b588289d5a258e4d38a810cd2c">add_hints</a>(hint_context, hint_exten, hint_application, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;         <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#abccd745eb19c8645117e4d7fa3d0ebbd">delete_extens</a>(hint_context, hint_exten);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      }</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;}</div><div class="ttc" id="structast__sorcery__wizard_html_ae631fb0a2d39a4a94b0f5466e972a5c2"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ae631fb0a2d39a4a94b0f5466e972a5c2">ast_sorcery_wizard::update</a></div><div class="ttdeci">int(* update)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for updating an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00316">sorcery.h:316</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_abccd745eb19c8645117e4d7fa3d0ebbd"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#abccd745eb19c8645117e4d7fa3d0ebbd">delete_extens</a></div><div class="ttdeci">static int delete_extens(const char *context, const char *exten)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00407">res_pjsip_config_wizard.c:407</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a6967fa30f840373627632d68203ec9c6"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6967fa30f840373627632d68203ec9c6">MAX_ID_SUFFIX</a></div><div class="ttdeci">#define MAX_ID_SUFFIX</div><div class="ttdoc">Defines the maximum number of characters that can be added to a wizard id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00276">res_pjsip_config_wizard.c:276</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a7d4f61d87c35c543247879b3173bc8f8"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a></div><div class="ttdeci">#define variable_list_append_return(existing, name, value)</div><div class="ttdoc">Appends a variable to the end of an existing list. On failure, cause the calling function to return -...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">res_pjsip_config_wizard.c:375</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a434778463cfbf6ef82c68fb4fc935c4a"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a></div><div class="ttdeci">static void * create_object(const struct ast_sorcery *sorcery, const char *id, const char *type, struct ast_variable *vars)</div><div class="ttdoc">Creates a sorcery object and applies a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">res_pjsip_config_wizard.c:333</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a2e5698b588289d5a258e4d38a810cd2c"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e5698b588289d5a258e4d38a810cd2c">add_hints</a></div><div class="ttdeci">static int add_hints(const char *context, const char *exten, const char *application, const char *id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00484">res_pjsip_config_wizard.c:484</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_ab9224c5e4ff65f2dda73847ab815219f"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ab9224c5e4ff65f2dda73847ab815219f">ast_sorcery_wizard::create</a></div><div class="ttdeci">int(* create)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for creating an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00293">sorcery.h:293</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a622dceb7df1ca72bcbb625e3341e23b5"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a></div><div class="ttdeci">const char * ast_variable_find_last_in_list(const struct ast_variable *list, const char *variable)</div><div class="ttdoc">Gets the value of the LAST occurrence of a variable from a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00842">main/config.c:842</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a39040e0fe9c0bac870c10ad32afbfb17"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a></div><div class="ttdeci">struct ast_variable * ast_category_first(struct ast_category *cat)</div><div class="ttdoc">given a pointer to a category, return the root variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01157">main/config.c:1157</a></div></div>
<div class="ttc" id="structast__sorcery__object_html"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a></div><div class="ttdoc">Structure for internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00127">sorcery.c:127</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a49237b9f670e08cc80ad372b307c82e7"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a></div><div class="ttdeci">static struct ast_variable * get_object_variables(struct ast_variable *vars, char *prefix)</div><div class="ttdoc">We need to strip off the prefix from the name of each variable so they&amp;#39;re suitable for objectset_appl...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">res_pjsip_config_wizard.c:388</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_add172c48d79f11f30a2a5d16b1aa1e75"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">object_type_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_wizard * wizard</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">res_pjsip_config_wizard.c:286</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a2e7cc6c69188a0ae7134ef662f6235a5"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a></div><div class="ttdeci">static int is_variable_true(struct ast_variable *vars, const char *name)</div><div class="ttdoc">Finds the last variable in a list and tests it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00353">res_pjsip_config_wizard.c:353</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_af7766396a87543cfa36fbff53d7f5efe"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">object_type_wizard::wizard_data</a></div><div class="ttdeci">void * wizard_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">res_pjsip_config_wizard.c:287</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1ac00507f4e5ae91c46f613e5cadae04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a></div><div class="ttdeci">const char * ast_category_get_name(const struct ast_category *category)</div><div class="ttdoc">Return the name of the category. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01028">main/config.c:1028</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a72a657571d27a06cef0c1212309af142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a657571d27a06cef0c1212309af142">&#9670;&nbsp;</a></span>handle_export_primitives()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_export_primitives </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01230">1230</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00120">AST_RETRIEVE_FLAG_MULTIPLE</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l01136">ast_sorcery_objectset_create</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01897">ast_sorcery_retrieve_by_fields()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00830">ast_variable_find_in_list()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00880">AST_VECTOR_RW_RDLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l00502">container</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00289">object_type_wizard::object_type</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00285">object_type_wizard::sorcery</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>
<div class="fragment"><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;{</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;   FILE *f = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *fn = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;pjsip export config_wizard primitives [to]&quot;</span>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;         <span class="stringliteral">&quot;Usage: pjsip export config_wizard primitives [ to &lt;filename ]\n&quot;</span></div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;         <span class="stringliteral">&quot;       Export the config_wizard objects as pjsip primitives to\n&quot;</span></div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;         <span class="stringliteral">&quot;       the console or to &lt;filename&gt;\n&quot;</span>;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   }</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &gt; 5) {</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <span class="keywordtype">char</span> date[256]=<span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      time_t t;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      fn = a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5];</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      time(&amp;t);</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(date, ctime(&amp;t), <span class="keyword">sizeof</span>(date));</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      f = fopen(fn, <span class="stringliteral">&quot;w&quot;</span>);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      <span class="keywordflow">if</span> (!f) {</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to write %s (%s)\n&quot;</span>, fn, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      }</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      fprintf(f, <span class="stringliteral">&quot;;!\n&quot;</span>);</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      fprintf(f, <span class="stringliteral">&quot;;! Automatically generated configuration file\n&quot;</span>);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      fprintf(f, <span class="stringliteral">&quot;;! Filename: %s\n&quot;</span>, fn);</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      fprintf(f, <span class="stringliteral">&quot;;! Generator: %s\n&quot;</span>, <span class="stringliteral">&quot;&#39;pjsip export config_wizard primitives&#39;&quot;</span>);</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      fprintf(f, <span class="stringliteral">&quot;;! Creation Date: %s&quot;</span>, date);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      fprintf(f, <span class="stringliteral">&quot;;!\n&quot;</span>);</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;   }</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   sorcery = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>();</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a>(&amp;object_type_wizards);</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;   <span class="keywordflow">for</span>(idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type_wizards); idx++) {</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type_wizards, idx);</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <span class="keywordtype">void</span> *o;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      container = <a class="code" href="../../d8/d25/sorcery_8h.html#aaa9cd237841a70862001f580b23212c9">ast_sorcery_retrieve_by_fields</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>, <a class="code" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <span class="keywordflow">if</span> (!container) {</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      }</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(container, 0);</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <span class="keywordflow">while</span> ((o = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *vars;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;         vars = <a class="code" href="../../d8/d25/sorcery_8h.html#a197b6724158db0da59852d25d36fa5f1">ast_sorcery_objectset_create</a>(sorcery, o);</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;         <span class="keywordflow">if</span> (vars &amp;&amp; <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a14c53d3f215d0ad79fe7079d06b10536">ast_variable_find_in_list</a>(vars, <span class="stringliteral">&quot;@pjsip_wizard&quot;</span>)) {</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            <span class="keywordflow">if</span> (f) {</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;               fprintf(f, <span class="stringliteral">&quot;\n[%s]\ntype = %s\n&quot;</span>, <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(o), otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>);</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;               <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;\n[%s]\ntype = %s\n&quot;</span>, <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(o), otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>);</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            }</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <span class="keywordflow">for</span> (v = vars; v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;               <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>)) {</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                  <span class="keywordflow">if</span> (f) {</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                     fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                     <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                  }</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;               }</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            }</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;         }</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;         <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(vars);</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(o, -1);</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      }</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(container);</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;   }</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type_wizards);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;   <span class="keywordflow">if</span> (f) {</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      fclose(f);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Wrote configuration to %s\n&quot;</span>, fn);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;   }</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="structobject__type__wizard_html"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a></div><div class="ttdoc">Keeps track of the sorcery wizard and last config for each object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00284">res_pjsip_config_wizard.c:284</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="structast__sorcery_html"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html">ast_sorcery</a></div><div class="ttdoc">Full structure for sorcery. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00230">sorcery.c:230</a></div></div>
<div class="ttc" id="vector_8h_html_ad414eae87431bad2a7fc4dffa9d06350"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_RDLOCK(vec)</div><div class="ttdoc">Obtain read lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00880">vector.h:880</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="sorcery_8h_html_a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a></div><div class="ttdoc">Return all matching objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00120">sorcery.h:120</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="sorcery_8h_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a14c53d3f215d0ad79fe7079d06b10536"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a14c53d3f215d0ad79fe7079d06b10536">ast_variable_find_in_list</a></div><div class="ttdeci">const char * ast_variable_find_in_list(const struct ast_variable *list, const char *variable)</div><div class="ttdoc">Gets the value of a variable from a variable list by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00830">main/config.c:830</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="res__fax_8c_html_a7ea220e4d14b05876af4430e9832ce47"><div class="ttname"><a href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a></div><div class="ttdeci">struct ao2_container * container</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d60/res__fax_8c_source.html#l00502">res_fax.c:502</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="sorcery_8h_html_a197b6724158db0da59852d25d36fa5f1"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a197b6724158db0da59852d25d36fa5f1">ast_sorcery_objectset_create</a></div><div class="ttdeci">#define ast_sorcery_objectset_create(sorcery, object)</div><div class="ttdoc">Create an object set (KVP list) for an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l01136">sorcery.h:1136</a></div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="sorcery_8h_html_aaa9cd237841a70862001f580b23212c9"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aaa9cd237841a70862001f580b23212c9">ast_sorcery_retrieve_by_fields</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_fields(const struct ast_sorcery *sorcery, const char *type, unsigned int flags, struct ast_variable *fields)</div><div class="ttdoc">Retrieve an object or multiple objects using specific fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01897">sorcery.c:1897</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_a9db3ba32f72ce3b60319336488789904"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type_wizard::object_type</a></div><div class="ttdeci">char object_type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00289">res_pjsip_config_wizard.c:289</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac98db00d3890fdf4984ea31832a48070"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac98db00d3890fdf4984ea31832a48070">&#9670;&nbsp;</a></span>handle_identify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int handle_identify </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *&#160;</td>
          <td class="paramname"><em>otw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *&#160;</td>
          <td class="paramname"><em>wiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct string_vector *&#160;</td>
          <td class="paramname"><em>remote_hosts_vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00731">731</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01157">ast_category_first()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01028">ast_category_get_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00842">ast_variable_find_last_in_list()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00293">ast_sorcery_wizard::create</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">create_object()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00319">ast_sorcery_wizard::delete</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">get_object_variables()</a>, <a class="el" href="../../d0/d8a/muted_8c_source.html#l00077">host</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00353">is_variable_true()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00276">MAX_ID_SUFFIX</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00296">ast_sorcery_wizard::retrieve_id</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00316">ast_sorcery_wizard::update</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">variable_list_append_return</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">object_type_wizard::wizard</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">object_type_wizard::wizard_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;{</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *wizvars = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a>(wiz);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a> *obj = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a>(wiz);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   <span class="keywordtype">char</span> new_id[strlen(<span class="keywordtype">id</span>) + <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6967fa30f840373627632d68203ec9c6">MAX_ID_SUFFIX</a>];</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;   <span class="keywordtype">int</span> host_count = <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(remote_hosts_vector);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;   <span class="keywordtype">int</span> host_counter;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, vars, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a>(wizvars, <span class="stringliteral">&quot;identify/&quot;</span>), <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   snprintf(new_id, <span class="keyword">sizeof</span>(new_id), <span class="stringliteral">&quot;%s-identify&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;   <span class="comment">/* If accepting registrations or we&#39;re sending line, we don&#39;t need an identify. */</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a>(wizvars, <span class="stringliteral">&quot;accepts_registrations&quot;</span>)</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      || <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a>(wizvars, <span class="stringliteral">&quot;sends_line_with_registrations&quot;</span>)) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="comment">/* If one exists, delete it. */</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      obj = otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a952f0fcef7c2ab963fb99f99293750af">retrieve_id</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, <span class="stringliteral">&quot;identify&quot;</span>, new_id);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">if</span> (obj) {</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;         otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#abc139706e978f8648f1a32f141370d2d">delete</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;   <span class="keywordflow">if</span> (!host_count) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;         <span class="stringliteral">&quot;Wizard &#39;%s&#39; must have &#39;remote_hosts&#39; if it doesn&#39;t accept registrations.\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;   }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;endpoint&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;   <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;@pjsip_wizard&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(vars, <span class="stringliteral">&quot;match&quot;</span>)) {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="keywordflow">for</span> (host_counter = 0; host_counter &lt; host_count; host_counter++) {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;         <span class="keywordtype">char</span> *rhost = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(remote_hosts_vector, host_counter);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;         <span class="keywordtype">char</span> <a class="code" href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a>[strlen(rhost) + 1];</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;         <span class="keywordtype">char</span> *colon;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;         <span class="comment">/* If there&#39;s a :port specified, we have to remove it. */</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;         strcpy(host, rhost); <span class="comment">/* Safe */</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;         colon = strchr(host, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;         <span class="keywordflow">if</span> (colon) {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            *colon = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;         }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;         <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;match&quot;</span>, host);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      }</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   }</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   obj = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a>(sorcery, new_id, <span class="stringliteral">&quot;identify&quot;</span>, vars);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   }</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;   <span class="keywordflow">if</span> (otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ae631fb0a2d39a4a94b0f5466e972a5c2">update</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj)) {</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ab9224c5e4ff65f2dda73847ab815219f">create</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;   }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;}</div><div class="ttc" id="structast__sorcery__wizard_html_ae631fb0a2d39a4a94b0f5466e972a5c2"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ae631fb0a2d39a4a94b0f5466e972a5c2">ast_sorcery_wizard::update</a></div><div class="ttdeci">int(* update)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for updating an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00316">sorcery.h:316</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a6967fa30f840373627632d68203ec9c6"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6967fa30f840373627632d68203ec9c6">MAX_ID_SUFFIX</a></div><div class="ttdeci">#define MAX_ID_SUFFIX</div><div class="ttdoc">Defines the maximum number of characters that can be added to a wizard id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00276">res_pjsip_config_wizard.c:276</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a7d4f61d87c35c543247879b3173bc8f8"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a></div><div class="ttdeci">#define variable_list_append_return(existing, name, value)</div><div class="ttdoc">Appends a variable to the end of an existing list. On failure, cause the calling function to return -...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">res_pjsip_config_wizard.c:375</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a434778463cfbf6ef82c68fb4fc935c4a"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a></div><div class="ttdeci">static void * create_object(const struct ast_sorcery *sorcery, const char *id, const char *type, struct ast_variable *vars)</div><div class="ttdoc">Creates a sorcery object and applies a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">res_pjsip_config_wizard.c:333</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_ab9224c5e4ff65f2dda73847ab815219f"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ab9224c5e4ff65f2dda73847ab815219f">ast_sorcery_wizard::create</a></div><div class="ttdeci">int(* create)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for creating an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00293">sorcery.h:293</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a622dceb7df1ca72bcbb625e3341e23b5"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a></div><div class="ttdeci">const char * ast_variable_find_last_in_list(const struct ast_variable *list, const char *variable)</div><div class="ttdoc">Gets the value of the LAST occurrence of a variable from a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00842">main/config.c:842</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_abc139706e978f8648f1a32f141370d2d"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#abc139706e978f8648f1a32f141370d2d">ast_sorcery_wizard::delete</a></div><div class="ttdeci">int(* delete)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for deleting an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00319">sorcery.h:319</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="muted_8c_html_a41c3a180b50c6b2ddcc1b6843a48f205"><div class="ttname"><a href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a></div><div class="ttdeci">static char host[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00077">muted.c:77</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a39040e0fe9c0bac870c10ad32afbfb17"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a></div><div class="ttdeci">struct ast_variable * ast_category_first(struct ast_category *cat)</div><div class="ttdoc">given a pointer to a category, return the root variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01157">main/config.c:1157</a></div></div>
<div class="ttc" id="structast__sorcery__object_html"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a></div><div class="ttdoc">Structure for internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00127">sorcery.c:127</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a49237b9f670e08cc80ad372b307c82e7"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a></div><div class="ttdeci">static struct ast_variable * get_object_variables(struct ast_variable *vars, char *prefix)</div><div class="ttdoc">We need to strip off the prefix from the name of each variable so they&amp;#39;re suitable for objectset_appl...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">res_pjsip_config_wizard.c:388</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_add172c48d79f11f30a2a5d16b1aa1e75"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">object_type_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_wizard * wizard</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">res_pjsip_config_wizard.c:286</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a952f0fcef7c2ab963fb99f99293750af"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a952f0fcef7c2ab963fb99f99293750af">ast_sorcery_wizard::retrieve_id</a></div><div class="ttdeci">void *(* retrieve_id)(const struct ast_sorcery *sorcery, void *data, const char *type, const char *id)</div><div class="ttdoc">Callback for retrieving an object using an id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00296">sorcery.h:296</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a2e7cc6c69188a0ae7134ef662f6235a5"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a></div><div class="ttdeci">static int is_variable_true(struct ast_variable *vars, const char *name)</div><div class="ttdoc">Finds the last variable in a list and tests it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00353">res_pjsip_config_wizard.c:353</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_af7766396a87543cfa36fbff53d7f5efe"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">object_type_wizard::wizard_data</a></div><div class="ttdeci">void * wizard_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">res_pjsip_config_wizard.c:287</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1ac00507f4e5ae91c46f613e5cadae04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a></div><div class="ttdeci">const char * ast_category_get_name(const struct ast_category *category)</div><div class="ttdoc">Return the name of the category. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01028">main/config.c:1028</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af71da4ed158fa1ed4bdde5955954e118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af71da4ed158fa1ed4bdde5955954e118">&#9670;&nbsp;</a></span>handle_phoneprov()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int handle_phoneprov </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *&#160;</td>
          <td class="paramname"><em>otw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *&#160;</td>
          <td class="paramname"><em>wiz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00795">795</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01157">ast_category_first()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01028">ast_category_get_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00842">ast_variable_find_last_in_list()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00293">ast_sorcery_wizard::create</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">create_object()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00319">ast_sorcery_wizard::delete</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">get_object_variables()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00353">is_variable_true()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00276">MAX_ID_SUFFIX</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00296">ast_sorcery_wizard::retrieve_id</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00316">ast_sorcery_wizard::update</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">variable_list_append_return</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">object_type_wizard::wizard</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">object_type_wizard::wizard_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;{</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *wizvars = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a>(wiz);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a> *obj = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a>(wiz);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   <span class="keywordtype">char</span> new_id[strlen(<span class="keywordtype">id</span>) + <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6967fa30f840373627632d68203ec9c6">MAX_ID_SUFFIX</a>];</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, vars, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a>(wizvars, <span class="stringliteral">&quot;phoneprov/&quot;</span>), <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   snprintf(new_id, <span class="keyword">sizeof</span>(new_id), <span class="stringliteral">&quot;%s-phoneprov&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a>(wizvars, <span class="stringliteral">&quot;has_phoneprov&quot;</span>)) {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      obj = otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a952f0fcef7c2ab963fb99f99293750af">retrieve_id</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, <span class="stringliteral">&quot;phoneprov&quot;</span>, new_id);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <span class="keywordflow">if</span> (obj) {</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;         otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#abc139706e978f8648f1a32f141370d2d">delete</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      }</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;   }</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;phoneprov/MAC&quot;</span>)) {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;         <span class="stringliteral">&quot;Wizard &#39;%s&#39; must have &#39;phoneprov/MAC&#39; if it has_phoneprov.\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;   }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;endpoint&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;@pjsip_wizard&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;   obj = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a>(sorcery, new_id, <span class="stringliteral">&quot;phoneprov&quot;</span>, vars);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;   }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   <span class="keywordflow">if</span> (otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ae631fb0a2d39a4a94b0f5466e972a5c2">update</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj)) {</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ab9224c5e4ff65f2dda73847ab815219f">create</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;   }</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div><div class="ttc" id="structast__sorcery__wizard_html_ae631fb0a2d39a4a94b0f5466e972a5c2"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ae631fb0a2d39a4a94b0f5466e972a5c2">ast_sorcery_wizard::update</a></div><div class="ttdeci">int(* update)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for updating an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00316">sorcery.h:316</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a6967fa30f840373627632d68203ec9c6"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6967fa30f840373627632d68203ec9c6">MAX_ID_SUFFIX</a></div><div class="ttdeci">#define MAX_ID_SUFFIX</div><div class="ttdoc">Defines the maximum number of characters that can be added to a wizard id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00276">res_pjsip_config_wizard.c:276</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a7d4f61d87c35c543247879b3173bc8f8"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a></div><div class="ttdeci">#define variable_list_append_return(existing, name, value)</div><div class="ttdoc">Appends a variable to the end of an existing list. On failure, cause the calling function to return -...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">res_pjsip_config_wizard.c:375</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a434778463cfbf6ef82c68fb4fc935c4a"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a></div><div class="ttdeci">static void * create_object(const struct ast_sorcery *sorcery, const char *id, const char *type, struct ast_variable *vars)</div><div class="ttdoc">Creates a sorcery object and applies a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">res_pjsip_config_wizard.c:333</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_ab9224c5e4ff65f2dda73847ab815219f"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ab9224c5e4ff65f2dda73847ab815219f">ast_sorcery_wizard::create</a></div><div class="ttdeci">int(* create)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for creating an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00293">sorcery.h:293</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a622dceb7df1ca72bcbb625e3341e23b5"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a></div><div class="ttdeci">const char * ast_variable_find_last_in_list(const struct ast_variable *list, const char *variable)</div><div class="ttdoc">Gets the value of the LAST occurrence of a variable from a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00842">main/config.c:842</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_abc139706e978f8648f1a32f141370d2d"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#abc139706e978f8648f1a32f141370d2d">ast_sorcery_wizard::delete</a></div><div class="ttdeci">int(* delete)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for deleting an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00319">sorcery.h:319</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a39040e0fe9c0bac870c10ad32afbfb17"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a></div><div class="ttdeci">struct ast_variable * ast_category_first(struct ast_category *cat)</div><div class="ttdoc">given a pointer to a category, return the root variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01157">main/config.c:1157</a></div></div>
<div class="ttc" id="structast__sorcery__object_html"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a></div><div class="ttdoc">Structure for internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00127">sorcery.c:127</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a49237b9f670e08cc80ad372b307c82e7"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a></div><div class="ttdeci">static struct ast_variable * get_object_variables(struct ast_variable *vars, char *prefix)</div><div class="ttdoc">We need to strip off the prefix from the name of each variable so they&amp;#39;re suitable for objectset_appl...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">res_pjsip_config_wizard.c:388</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_add172c48d79f11f30a2a5d16b1aa1e75"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">object_type_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_wizard * wizard</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">res_pjsip_config_wizard.c:286</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a952f0fcef7c2ab963fb99f99293750af"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a952f0fcef7c2ab963fb99f99293750af">ast_sorcery_wizard::retrieve_id</a></div><div class="ttdeci">void *(* retrieve_id)(const struct ast_sorcery *sorcery, void *data, const char *type, const char *id)</div><div class="ttdoc">Callback for retrieving an object using an id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00296">sorcery.h:296</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a2e7cc6c69188a0ae7134ef662f6235a5"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a></div><div class="ttdeci">static int is_variable_true(struct ast_variable *vars, const char *name)</div><div class="ttdoc">Finds the last variable in a list and tests it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00353">res_pjsip_config_wizard.c:353</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_af7766396a87543cfa36fbff53d7f5efe"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">object_type_wizard::wizard_data</a></div><div class="ttdeci">void * wizard_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">res_pjsip_config_wizard.c:287</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1ac00507f4e5ae91c46f613e5cadae04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a></div><div class="ttdeci">const char * ast_category_get_name(const struct ast_category *category)</div><div class="ttdoc">Return the name of the category. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01028">main/config.c:1028</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f219fbdbebfbf937898d9f401a6a00b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f219fbdbebfbf937898d9f401a6a00b">&#9670;&nbsp;</a></span>handle_registrations()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int handle_registrations </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *&#160;</td>
          <td class="paramname"><em>otw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *&#160;</td>
          <td class="paramname"><em>wiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct string_vector *&#160;</td>
          <td class="paramname"><em>remote_hosts_vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00854">854</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01157">ast_category_first()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01028">ast_category_get_name()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02459">ast_sorcery_object_id_compare()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00653">ast_str_reset()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00621">ast_str_substitute_variables_varshead()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00040">ast_var_assign</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00097">ast_var_list_create()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00109">ast_var_list_destroy()</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00051">AST_VAR_LIST_INSERT_TAIL()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00842">ast_variable_find_last_in_list()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">ast_variable_new</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00545">ast_variables_dup()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00293">ast_sorcery_wizard::create</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">create_object()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00837">delete_existing_cb()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">get_object_variables()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l01507">id</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00353">is_variable_true()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00276">MAX_ID_SUFFIX</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00313">ast_sorcery_wizard::retrieve_multiple</a>, <a class="el" href="../../d7/d83/cdr__radius_8c_source.html#l00096">rh</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00316">ast_sorcery_wizard::update</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">variable_list_append_return</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">object_type_wizard::wizard</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">object_type_wizard::wizard_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;{</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *search;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *wizvars = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a>(wiz);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a>(wiz);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *server_uri_pattern;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *client_uri_pattern;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *outbound_proxy = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;outbound_proxy&quot;</span>);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *transport = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;transport&quot;</span>);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *username;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="keywordtype">char</span> new_id[strlen(<span class="keywordtype">id</span>) + <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6967fa30f840373627632d68203ec9c6">MAX_ID_SUFFIX</a>];</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;   <span class="keywordtype">int</span> host_count = <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(remote_hosts_vector);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   <span class="keywordtype">int</span> host_counter;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, vars, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a>(wizvars, <span class="stringliteral">&quot;registration/&quot;</span>), <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *, existing,</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <span class="keywordflow">if</span> (!existing) {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   }</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   <span class="comment">/* Find any existing registrations. */</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   search = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a>(<span class="stringliteral">&quot;@pjsip_wizard&quot;</span>, <span class="keywordtype">id</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;   <span class="keywordflow">if</span> (!search) {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   }</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(outbound_proxy)) {</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;outbound_proxy&quot;</span>, outbound_proxy);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   }</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a38dde1642df819377f271922ea5c1b84">retrieve_multiple</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, <span class="stringliteral">&quot;registration&quot;</span>, existing, search);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(search);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   <span class="comment">/* If not sending registrations, delete ALL existing registrations for this wizard. */</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a>(wizvars, <span class="stringliteral">&quot;sends_registrations&quot;</span>)) {</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(existing) &gt; 0) {</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(existing, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a36f8e69048035ab89265e018255e326d">delete_existing_cb</a>, otw);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      }</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <span class="keywordflow">if</span> (!host_count) {</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Wizard &#39;%s&#39; must have &#39;remote_hosts&#39; if it sends registrations.\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   }</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;vars, <span class="stringliteral">&quot;@pjsip_wizard&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;   <span class="keywordflow">if</span> (!(server_uri_pattern = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;server_uri_pattern&quot;</span>))) {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      server_uri_pattern = <span class="stringliteral">&quot;sip:${REMOTE_HOST}&quot;</span>;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   }</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   <span class="keywordflow">if</span> (!(client_uri_pattern = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;client_uri_pattern&quot;</span>))) {</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      client_uri_pattern = <span class="stringliteral">&quot;sip:${USERNAME}@${REMOTE_HOST}&quot;</span>;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   }</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a>(wizvars, <span class="stringliteral">&quot;sends_auth&quot;</span>)) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="keywordflow">if</span> (!(username = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;outbound_auth/username&quot;</span>))) {</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Wizard &#39;%s&#39; must have &#39;outbound_auth/username&#39; if it sends&quot;</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            <span class="stringliteral">&quot; authentication.\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      }</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      username = <a class="code" href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   }</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <span class="comment">/* Unlike aor and identify, we need to create a separate registration object</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">    * for each remote host.</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <span class="keywordflow">for</span> (host_counter = 0; host_counter &lt; host_count; host_counter++) {</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *<a class="code" href="../../d7/d83/cdr__radius_8c.html#a6d45ade6c1f881a34b8f097439f2612a">rh</a> = <a class="code" href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a>(<span class="stringliteral">&quot;REMOTE_HOST&quot;</span>,</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(remote_hosts_vector, host_counter));</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *un = <a class="code" href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a>(<span class="stringliteral">&quot;USERNAME&quot;</span>, username);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a> *obj;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *, uri, <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(64), <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/de6/structvarshead.html">varshead</a> *, subst_vars, <a class="code" href="../../d9/de7/chanvars_8h.html#a1df6978d9c527d25a2f5d195a50d1b36">ast_var_list_create</a>(), <a class="code" href="../../d9/de7/chanvars_8h.html#a0b8e11b286f89075c1b2615211125c2b">ast_var_list_destroy</a>);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, registration_vars, vars ? <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a5cb297844656a440d8ba8553f81e6d4b">ast_variables_dup</a>(vars) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <a class="code" href="../../d9/de7/chanvars_8h.html#a392443df4fe40d95be2280e6c1b0fc6d">AST_VAR_LIST_INSERT_TAIL</a>(subst_vars, rh);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <a class="code" href="../../d9/de7/chanvars_8h.html#a392443df4fe40d95be2280e6c1b0fc6d">AST_VAR_LIST_INSERT_TAIL</a>(subst_vars, un);</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(server_uri_pattern)) {</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a80b0feaeb3c78569effccc3ea47b3d68">ast_str_substitute_variables_varshead</a>(&amp;uri, 0, subst_vars,</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            server_uri_pattern);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;         <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;registration_vars, <span class="stringliteral">&quot;server_uri&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(uri));</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(client_uri_pattern)) {</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(uri);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a80b0feaeb3c78569effccc3ea47b3d68">ast_str_substitute_variables_varshead</a>(&amp;uri, 0, subst_vars,</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            client_uri_pattern);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;         <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;registration_vars, <span class="stringliteral">&quot;client_uri&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(uri));</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      }</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a>(wizvars, <span class="stringliteral">&quot;sends_auth&quot;</span>)) {</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;         snprintf(new_id, <span class="keyword">sizeof</span>(new_id), <span class="stringliteral">&quot;%s-oauth&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;         <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;registration_vars, <span class="stringliteral">&quot;outbound_auth&quot;</span>, new_id);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      }</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(transport)) {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;         <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;registration_vars, <span class="stringliteral">&quot;transport&quot;</span>, transport);</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      }</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a>(wizvars, <span class="stringliteral">&quot;sends_line_with_registrations&quot;</span>)) {</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;         <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;registration_vars, <span class="stringliteral">&quot;line&quot;</span>, <span class="stringliteral">&quot;yes&quot;</span>);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;         <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a>(&amp;registration_vars, <span class="stringliteral">&quot;endpoint&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      }</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      snprintf(new_id, <span class="keyword">sizeof</span>(new_id), <span class="stringliteral">&quot;%s-reg-%d&quot;</span>, <span class="keywordtype">id</span>, host_counter);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      obj = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a>(sorcery, new_id, <span class="stringliteral">&quot;registration&quot;</span>, registration_vars);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      }</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">if</span> (otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ae631fb0a2d39a4a94b0f5466e972a5c2">update</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj)) {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;         otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ab9224c5e4ff65f2dda73847ab815219f">create</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, obj);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      }</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="comment">/* Unlink it from the &#39;existing&#39; container.  Any left will be deleted from</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">       * sorcery.  If it wasn&#39;t in the existing container, no harm.</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(existing, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>, <a class="code" href="../../d8/d25/sorcery_8h.html#a83eba565782cb769634180b88db29d45">ast_sorcery_object_id_compare</a>, new_id);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   }</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;   <span class="comment">/* If there are any excess registrations, delete them. */</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(existing) &gt; 0) {</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(existing, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a36f8e69048035ab89265e018255e326d">delete_existing_cb</a>, otw);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   }</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;}</div><div class="ttc" id="structast__sorcery__wizard_html_ae631fb0a2d39a4a94b0f5466e972a5c2"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ae631fb0a2d39a4a94b0f5466e972a5c2">ast_sorcery_wizard::update</a></div><div class="ttdeci">int(* update)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for updating an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00316">sorcery.h:316</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a6967fa30f840373627632d68203ec9c6"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6967fa30f840373627632d68203ec9c6">MAX_ID_SUFFIX</a></div><div class="ttdeci">#define MAX_ID_SUFFIX</div><div class="ttdoc">Defines the maximum number of characters that can be added to a wizard id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00276">res_pjsip_config_wizard.c:276</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a7d4f61d87c35c543247879b3173bc8f8"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a7d4f61d87c35c543247879b3173bc8f8">variable_list_append_return</a></div><div class="ttdeci">#define variable_list_append_return(existing, name, value)</div><div class="ttdoc">Appends a variable to the end of an existing list. On failure, cause the calling function to return -...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00375">res_pjsip_config_wizard.c:375</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a434778463cfbf6ef82c68fb4fc935c4a"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a434778463cfbf6ef82c68fb4fc935c4a">create_object</a></div><div class="ttdeci">static void * create_object(const struct ast_sorcery *sorcery, const char *id, const char *type, struct ast_variable *vars)</div><div class="ttdoc">Creates a sorcery object and applies a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">res_pjsip_config_wizard.c:333</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="sorcery_8h_html_a83eba565782cb769634180b88db29d45"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a83eba565782cb769634180b88db29d45">ast_sorcery_object_id_compare</a></div><div class="ttdeci">int ast_sorcery_object_id_compare(void *obj, void *arg, int flags)</div><div class="ttdoc">ao2 object comparator based on sorcery id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02459">sorcery.c:2459</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_ab9224c5e4ff65f2dda73847ab815219f"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ab9224c5e4ff65f2dda73847ab815219f">ast_sorcery_wizard::create</a></div><div class="ttdeci">int(* create)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for creating an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00293">sorcery.h:293</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a622dceb7df1ca72bcbb625e3341e23b5"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a></div><div class="ttdeci">const char * ast_variable_find_last_in_list(const struct ast_variable *list, const char *variable)</div><div class="ttdoc">Gets the value of the LAST occurrence of a variable from a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00842">main/config.c:842</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a39040e0fe9c0bac870c10ad32afbfb17"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a></div><div class="ttdeci">struct ast_variable * ast_category_first(struct ast_category *cat)</div><div class="ttdoc">given a pointer to a category, return the root variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01157">main/config.c:1157</a></div></div>
<div class="ttc" id="cdr__radius_8c_html_a6d45ade6c1f881a34b8f097439f2612a"><div class="ttname"><a href="../../d7/d83/cdr__radius_8c.html#a6d45ade6c1f881a34b8f097439f2612a">rh</a></div><div class="ttdeci">static rc_handle * rh</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d83/cdr__radius_8c_source.html#l00096">cdr_radius.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__object_html"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a></div><div class="ttdoc">Structure for internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00127">sorcery.c:127</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a66581086d34dfe7ea86b0644bacef239"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a></div><div class="ttdeci">#define ast_variable_new(name, value, filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">include/asterisk/config.h:914</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a36f8e69048035ab89265e018255e326d"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a36f8e69048035ab89265e018255e326d">delete_existing_cb</a></div><div class="ttdeci">static int delete_existing_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00837">res_pjsip_config_wizard.c:837</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a38dde1642df819377f271922ea5c1b84"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a38dde1642df819377f271922ea5c1b84">ast_sorcery_wizard::retrieve_multiple</a></div><div class="ttdeci">void(* retrieve_multiple)(const struct ast_sorcery *sorcery, void *data, const char *type, struct ao2_container *objects, const struct ast_variable *fields)</div><div class="ttdoc">Optional callback for retrieving multiple objects using some optional field criteria. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00313">sorcery.h:313</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="pbx_8h_html_a80b0feaeb3c78569effccc3ea47b3d68"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a80b0feaeb3c78569effccc3ea47b3d68">ast_str_substitute_variables_varshead</a></div><div class="ttdeci">void ast_str_substitute_variables_varshead(struct ast_str **buf, ssize_t maxlen, struct varshead *headp, const char *templ)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00621">pbx_variables.c:621</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="structvarshead_html"><div class="ttname"><a href="../../dd/de6/structvarshead.html">varshead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a49237b9f670e08cc80ad372b307c82e7"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a49237b9f670e08cc80ad372b307c82e7">get_object_variables</a></div><div class="ttdeci">static struct ast_variable * get_object_variables(struct ast_variable *vars, char *prefix)</div><div class="ttdoc">We need to strip off the prefix from the name of each variable so they&amp;#39;re suitable for objectset_appl...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">res_pjsip_config_wizard.c:388</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="chanvars_8h_html_a78deeb18e93b145e9895346cef766577"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a></div><div class="ttdeci">#define ast_var_assign(name, value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00040">chanvars.h:40</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_add172c48d79f11f30a2a5d16b1aa1e75"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">object_type_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_wizard * wizard</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">res_pjsip_config_wizard.c:286</a></div></div>
<div class="ttc" id="chanvars_8h_html_a1df6978d9c527d25a2f5d195a50d1b36"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a1df6978d9c527d25a2f5d195a50d1b36">ast_var_list_create</a></div><div class="ttdeci">struct varshead * ast_var_list_create(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00097">chanvars.c:97</a></div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="app__queue_8c_html_acd1f0e9b4730ec60f62cb0806cb06ef1"><div class="ttname"><a href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a></div><div class="ttdeci">enum queue_result id</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfb/app__queue_8c_source.html#l01507">app_queue.c:1507</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a2e7cc6c69188a0ae7134ef662f6235a5"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a2e7cc6c69188a0ae7134ef662f6235a5">is_variable_true</a></div><div class="ttdeci">static int is_variable_true(struct ast_variable *vars, const char *name)</div><div class="ttdoc">Finds the last variable in a list and tests it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00353">res_pjsip_config_wizard.c:353</a></div></div>
<div class="ttc" id="chanvars_8h_html_a0b8e11b286f89075c1b2615211125c2b"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a0b8e11b286f89075c1b2615211125c2b">ast_var_list_destroy</a></div><div class="ttdeci">void ast_var_list_destroy(struct varshead *head)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00109">chanvars.c:109</a></div></div>
<div class="ttc" id="chanvars_8h_html_a392443df4fe40d95be2280e6c1b0fc6d"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a392443df4fe40d95be2280e6c1b0fc6d">AST_VAR_LIST_INSERT_TAIL</a></div><div class="ttdeci">static void AST_VAR_LIST_INSERT_TAIL(struct varshead *head, struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00051">chanvars.h:51</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a5cb297844656a440d8ba8553f81e6d4b"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a5cb297844656a440d8ba8553f81e6d4b">ast_variables_dup</a></div><div class="ttdeci">struct ast_variable * ast_variables_dup(struct ast_variable *var)</div><div class="ttdoc">Duplicate variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00545">main/config.c:545</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_af7766396a87543cfa36fbff53d7f5efe"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">object_type_wizard::wizard_data</a></div><div class="ttdeci">void * wizard_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">res_pjsip_config_wizard.c:287</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1ac00507f4e5ae91c46f613e5cadae04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a></div><div class="ttdeci">const char * ast_category_get_name(const struct ast_category *category)</div><div class="ttdoc">Return the name of the category. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01028">main/config.c:1028</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a60c50b6437bd9095dba83c80223c1ddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60c50b6437bd9095dba83c80223c1ddd">&#9670;&nbsp;</a></span>instance_created_observer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void instance_created_observer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When the res_pjsip instance is created, add an observer to it and initialize the wizard vector. Also, bump the module's ref count so it can't be unloaded before the sorcery instance is destroyed. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01208">1208</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00443">ast_module_ref</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00520">ast_sorcery_instance_observer_add()</a>, and <a class="el" href="../../d5/d16/module_8h_source.html#l00342">ast_module_info::self</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;{</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;res_pjsip&quot;</span>)) {</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;   }</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a>(<a class="code" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">self</a>);</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#ae0f5f4c63ea1bd82304c9c1bacd10068">ast_sorcery_instance_observer_add</a>(sorcery, &amp;<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#aa7862536ed74b8f0033c38bce52baa86">observer</a>);</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;}</div><div class="ttc" id="sorcery_8h_html_ae0f5f4c63ea1bd82304c9c1bacd10068"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ae0f5f4c63ea1bd82304c9c1bacd10068">ast_sorcery_instance_observer_add</a></div><div class="ttdeci">int ast_sorcery_instance_observer_add(struct ast_sorcery *sorcery, const struct ast_sorcery_instance_observer *callbacks)</div><div class="ttdoc">Add an observer to a sorcery instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00520">sorcery.c:520</a></div></div>
<div class="ttc" id="structast__module__info_html"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html">ast_module_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00336">module.h:336</a></div></div>
<div class="ttc" id="structast__module__info_html_a1aff0615d43e1dfa5c72c1c7d1c6d709"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">ast_module_info::self</a></div><div class="ttdeci">struct ast_module * self</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00342">module.h:342</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_aa7862536ed74b8f0033c38bce52baa86"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#aa7862536ed74b8f0033c38bce52baa86">observer</a></div><div class="ttdeci">struct ast_sorcery_instance_observer observer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01056">res_pjsip_config_wizard.c:1056</a></div></div>
<div class="ttc" id="module_8h_html_a8dea6491bedba471fc44574d76438577"><div class="ttname"><a href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a></div><div class="ttdeci">#define ast_module_ref(mod)</div><div class="ttdoc">Hold a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00443">module.h:443</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a029e63d588603c08760a945ab41aa374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a029e63d588603c08760a945ab41aa374">&#9670;&nbsp;</a></span>instance_destroying_observer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void instance_destroying_observer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When the res_pjsip instance is destroyed, remove the observer and unref the module. This should then allow this module to unload cleanly. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01220">1220</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00469">ast_module_unref</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00537">ast_sorcery_instance_observer_remove()</a>, and <a class="el" href="../../d5/d16/module_8h_source.html#l00342">ast_module_info::self</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;{</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;res_pjsip&quot;</span>)) {</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;   }</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a27e4472f54af1cf4a00c936b65c3967b">ast_sorcery_instance_observer_remove</a>(sorcery, &amp;<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#aa7862536ed74b8f0033c38bce52baa86">observer</a>);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>(<a class="code" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">self</a>);</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;}</div><div class="ttc" id="structast__module__info_html"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html">ast_module_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00336">module.h:336</a></div></div>
<div class="ttc" id="module_8h_html_a15896c26e51e8162df5eb9a0124c841f"><div class="ttname"><a href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a></div><div class="ttdeci">#define ast_module_unref(mod)</div><div class="ttdoc">Release a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00469">module.h:469</a></div></div>
<div class="ttc" id="structast__module__info_html_a1aff0615d43e1dfa5c72c1c7d1c6d709"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">ast_module_info::self</a></div><div class="ttdeci">struct ast_module * self</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00342">module.h:342</a></div></div>
<div class="ttc" id="sorcery_8h_html_a27e4472f54af1cf4a00c936b65c3967b"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a27e4472f54af1cf4a00c936b65c3967b">ast_sorcery_instance_observer_remove</a></div><div class="ttdeci">void ast_sorcery_instance_observer_remove(struct ast_sorcery *sorcery, const struct ast_sorcery_instance_observer *callbacks)</div><div class="ttdoc">Remove an observer from a sorcery instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00537">sorcery.c:537</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_aa7862536ed74b8f0033c38bce52baa86"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#aa7862536ed74b8f0033c38bce52baa86">observer</a></div><div class="ttdeci">struct ast_sorcery_instance_observer observer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01056">res_pjsip_config_wizard.c:1056</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a726dc8928dc5d58877de3b555f7a5410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a726dc8928dc5d58877de3b555f7a5410">&#9670;&nbsp;</a></span>is_one_of()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int is_one_of </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>needle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>haystack</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00302">302</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01196">object_type_registered_observer()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01162">wizard_mapped_observer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;{</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   <span class="keywordflow">for</span> (i = 0; haystack[i]; i++) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">if</span> (!strcmp(needle, haystack[i])) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;         <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a2e7cc6c69188a0ae7134ef662f6235a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e7cc6c69188a0ae7134ef662f6235a5">&#9670;&nbsp;</a></span>is_variable_true()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int is_variable_true </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds the last variable in a list and tests it. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00353">353</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, and <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00842">ast_variable_find_last_in_list()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00533">handle_auth()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00661">handle_endpoint()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00731">handle_identify()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00795">handle_phoneprov()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00854">handle_registrations()</a>.</p>
<div class="fragment"><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;{</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(vars, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>));</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div><div class="ttc" id="include_2asterisk_2config_8h_html_a622dceb7df1ca72bcbb625e3341e23b5"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a></div><div class="ttdeci">const char * ast_variable_find_last_in_list(const struct ast_variable *list, const char *variable)</div><div class="ttdoc">Gets the value of the LAST occurrence of a variable from a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00842">main/config.c:842</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01327">1327</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00265">ast_cli_register_multiple</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00498">ast_sorcery_global_observer_add()</a>, and <a class="el" href="../../d6/d68/vector_8h_source.html#l00158">AST_VECTOR_RW_INIT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01336">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;{</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#af82e9e2b45ad967329a74e88352d7973">AST_VECTOR_RW_INIT</a>(&amp;object_type_wizards, 12);</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#ad3c10bfbd5f420b2e0dafa34bc0c8fa7">ast_sorcery_global_observer_add</a>(&amp;<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a5e6850817985b22686a0df1373472c65">global_observer</a>);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a8fd407e69ada9349d2b5d0b76de8d5ab">config_wizard_cli</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a8fd407e69ada9349d2b5d0b76de8d5ab">config_wizard_cli</a>));</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;}</div><div class="ttc" id="vector_8h_html_af82e9e2b45ad967329a74e88352d7973"><div class="ttname"><a href="../../d6/d68/vector_8h.html#af82e9e2b45ad967329a74e88352d7973">AST_VECTOR_RW_INIT</a></div><div class="ttdeci">#define AST_VECTOR_RW_INIT(vec, size)</div><div class="ttdoc">Initialize a vector with a read/write lock. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00158">vector.h:158</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="sorcery_8h_html_ad3c10bfbd5f420b2e0dafa34bc0c8fa7"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ad3c10bfbd5f420b2e0dafa34bc0c8fa7">ast_sorcery_global_observer_add</a></div><div class="ttdeci">int ast_sorcery_global_observer_add(const struct ast_sorcery_global_observer *callbacks)</div><div class="ttdoc">Add a global observer to sorcery. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00498">sorcery.c:498</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a8fd407e69ada9349d2b5d0b76de8d5ab"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a8fd407e69ada9349d2b5d0b76de8d5ab">config_wizard_cli</a></div><div class="ttdeci">static struct ast_cli_entry config_wizard_cli[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01323">res_pjsip_config_wizard.c:1323</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a5e6850817985b22686a0df1373472c65"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a5e6850817985b22686a0df1373472c65">global_observer</a></div><div class="ttdeci">static const struct ast_sorcery_global_observer global_observer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01051">res_pjsip_config_wizard.c:1051</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a677862e7eb57aed1c9942506d89c17ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a677862e7eb57aed1c9942506d89c17ee">&#9670;&nbsp;</a></span>object_type_loaded_observer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void object_type_loaded_observer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>object_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reloaded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after an object type is loaded/reloaded. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01063">1063</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01335">ast_category_browse_filtered()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01478">ast_category_delete()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01157">ast_category_first()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01022">ast_category_get()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01028">ast_category_get_name()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03154">ast_config_load2()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00772">ast_variable_lists_match()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">ast_variable_new</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">CONFIG_FLAG_FILEUNCHANGED</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">CONFIG_STATUS_FILEUNCHANGED</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00837">delete_existing_cb()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00315">find_wizard()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00200">ast_flags::flags</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00288">object_type_wizard::last_config</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00313">ast_sorcery_wizard::retrieve_multiple</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">object_type_wizard::wizard</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">object_type_wizard::wizard_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;{</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/db2/structast__category.html">ast_category</a> *category = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   <span class="keywordtype">char</span> *filename = <span class="stringliteral">&quot;pjsip_wizard.conf&quot;</span>;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> <a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> = { 0 };</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;   <span class="keywordflow">if</span> (!strstr(<span class="stringliteral">&quot;auth aor endpoint identify registration phoneprov&quot;</span>, object_type)) {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <span class="comment">/* Not interested. */</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;   }</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;   otw = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a5d6b66056a79df3468fdcfc27ec62fd4">find_wizard</a>(object_type);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;   <span class="keywordflow">if</span> (!otw) {</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;There was no wizard for object type &#39;%s&#39;\n&quot;</span>, object_type);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;   }</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;   <span class="keywordflow">if</span> (reloaded &amp;&amp; otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a910f6ff02ecd9156ef4cd3b10a4244e8">last_config</a>) {</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      flags.<a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a>;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;   cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a>(filename, object_type, flags);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to load config file &#39;%s&#39;\n&quot;</span>, filename);</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a>) {</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Config file &#39;%s&#39; was unchanged for &#39;%s&#39;.\n&quot;</span>, filename, object_type);</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Contents of config file &#39;%s&#39; are invalid and cannot be parsed\n&quot;</span>, filename);</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;   }</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;   <span class="keywordflow">while</span> ((category = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a2488abe6cce4868efd018010c663a5fe">ast_category_browse_filtered</a>(cfg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, category, <span class="stringliteral">&quot;type=^wizard$&quot;</span>))) {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a>(category);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d7/db2/structast__category.html">ast_category</a> *last_cat = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="keywordtype">int</span> changes = 0;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="keywordflow">if</span> (otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a910f6ff02ecd9156ef4cd3b10a4244e8">last_config</a>) {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;         last_cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a976052ba6bdad7e94e60cd4bc1c3f3b2">ast_category_get</a>(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a910f6ff02ecd9156ef4cd3b10a4244e8">last_config</a>, <span class="keywordtype">id</span>, <span class="stringliteral">&quot;type=^wizard$&quot;</span>);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;         changes = !<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad25b8d6e1ba6692683c35625e5301c1e">ast_variable_lists_match</a>(<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a>(category), <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a>(last_cat), 1);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;         <span class="keywordflow">if</span> (last_cat) {</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aeebe92aa21bea10f5d3f901a357a9806">ast_category_delete</a>(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a910f6ff02ecd9156ef4cd3b10a4244e8">last_config</a>, last_cat);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;         }</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      }</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <span class="keywordflow">if</span> (!last_cat || changes) {</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: %s(s) for wizard &#39;%s&#39;\n&quot;</span>, reloaded ? <span class="stringliteral">&quot;Reload&quot;</span> : <span class="stringliteral">&quot;Load&quot;</span>, object_type, <span class="keywordtype">id</span>);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#ada8581ab057cdfb7e096f507b8f26b0c">wizard_apply_handler</a>(sorcery, otw, category)) {</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to create objects for wizard &#39;%s&#39;\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;         }</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      }</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;   }</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;   <span class="keywordflow">if</span> (!otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a910f6ff02ecd9156ef4cd3b10a4244e8">last_config</a>) {</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a910f6ff02ecd9156ef4cd3b10a4244e8">last_config</a> = cfg;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   }</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;   <span class="comment">/* Only wizards that weren&#39;t in the new config are left in last_config now so we need to delete</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">    * all objects belonging to them.</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;   category = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;   <span class="keywordflow">while</span> ((category = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a2488abe6cce4868efd018010c663a5fe">ast_category_browse_filtered</a>(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a910f6ff02ecd9156ef4cd3b10a4244e8">last_config</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, category, <span class="stringliteral">&quot;type=^wizard$&quot;</span>))) {</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a>(category);</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *search;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *, existing,</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">if</span> (!existing) {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to allocate temporary container.\n&quot;</span>);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      }</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      search = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a>(<span class="stringliteral">&quot;@pjsip_wizard&quot;</span>, <span class="keywordtype">id</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keywordflow">if</span> (!search) {</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to allocate memory for vaiable &#39;@pjsip_wizard&#39;.\n&quot;</span>);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      }</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a38dde1642df819377f271922ea5c1b84">retrieve_multiple</a>(sorcery, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>, object_type, existing, search);</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(search);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(existing) &gt; 0) {</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Delete on %s: %d %s(s) for wizard: %s\n&quot;</span>,</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            reloaded ? <span class="stringliteral">&quot;Reload&quot;</span> : <span class="stringliteral">&quot;Load&quot;</span>, <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(existing), object_type, <span class="keywordtype">id</span>);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(existing, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>,</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a36f8e69048035ab89265e018255e326d">delete_existing_cb</a>, otw);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      }</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;   }</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a910f6ff02ecd9156ef4cd3b10a4244e8">last_config</a>);</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;   otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a910f6ff02ecd9156ef4cd3b10a4244e8">last_config</a> = cfg;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="structobject__type__wizard_html"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a></div><div class="ttdoc">Keeps track of the sorcery wizard and last config for each object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00284">res_pjsip_config_wizard.c:284</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aeebe92aa21bea10f5d3f901a357a9806"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aeebe92aa21bea10f5d3f901a357a9806">ast_category_delete</a></div><div class="ttdeci">struct ast_category * ast_category_delete(struct ast_config *cfg, struct ast_category *category)</div><div class="ttdoc">Delete a category. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01478">main/config.c:1478</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="structast__flags_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">ast_flags::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00200">utils.h:200</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aab3eac8fa82a86a93c074deb7b77dbc9"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a></div><div class="ttdeci">struct ast_config * ast_config_load2(const char *filename, const char *who_asked, struct ast_flags flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03154">main/config.c:3154</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="structast__category_html"><div class="ttname"><a href="../../d7/db2/structast__category.html">ast_category</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00225">main/config.c:225</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a2488abe6cce4868efd018010c663a5fe"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a2488abe6cce4868efd018010c663a5fe">ast_category_browse_filtered</a></div><div class="ttdeci">struct ast_category * ast_category_browse_filtered(struct ast_config *config, const char *category_name, struct ast_category *prev, const char *filter)</div><div class="ttdoc">Browse categories with filters. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01335">main/config.c:1335</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_ada8581ab057cdfb7e096f507b8f26b0c"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#ada8581ab057cdfb7e096f507b8f26b0c">wizard_apply_handler</a></div><div class="ttdeci">static int wizard_apply_handler(const struct ast_sorcery *sorcery, struct object_type_wizard *otw, struct ast_category *wiz)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">res_pjsip_config_wizard.c:991</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a39040e0fe9c0bac870c10ad32afbfb17"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a></div><div class="ttdeci">struct ast_variable * ast_category_first(struct ast_category *cat)</div><div class="ttdoc">given a pointer to a category, return the root variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01157">main/config.c:1157</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a66581086d34dfe7ea86b0644bacef239"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a></div><div class="ttdeci">#define ast_variable_new(name, value, filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">include/asterisk/config.h:914</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a846844eb2c4eb44554445936b3770711"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEUNCHANGED</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">include/asterisk/config.h:59</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a36f8e69048035ab89265e018255e326d"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a36f8e69048035ab89265e018255e326d">delete_existing_cb</a></div><div class="ttdeci">static int delete_existing_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00837">res_pjsip_config_wizard.c:837</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a5d6b66056a79df3468fdcfc27ec62fd4"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a5d6b66056a79df3468fdcfc27ec62fd4">find_wizard</a></div><div class="ttdeci">static struct object_type_wizard * find_wizard(const char *object_type)</div><div class="ttdoc">Finds the otw for the object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00315">res_pjsip_config_wizard.c:315</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a38dde1642df819377f271922ea5c1b84"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a38dde1642df819377f271922ea5c1b84">ast_sorcery_wizard::retrieve_multiple</a></div><div class="ttdeci">void(* retrieve_multiple)(const struct ast_sorcery *sorcery, void *data, const char *type, struct ao2_container *objects, const struct ast_variable *fields)</div><div class="ttdoc">Optional callback for retrieving multiple objects using some optional field criteria. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00313">sorcery.h:313</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_add172c48d79f11f30a2a5d16b1aa1e75"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">object_type_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_wizard * wizard</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">res_pjsip_config_wizard.c:286</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ad25b8d6e1ba6692683c35625e5301c1e"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad25b8d6e1ba6692683c35625e5301c1e">ast_variable_lists_match</a></div><div class="ttdeci">int ast_variable_lists_match(const struct ast_variable *left, const struct ast_variable *right, int exact_match)</div><div class="ttdoc">Tests 2 variable lists to see if they match. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00772">main/config.c:772</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a976052ba6bdad7e94e60cd4bc1c3f3b2"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a976052ba6bdad7e94e60cd4bc1c3f3b2">ast_category_get</a></div><div class="ttdeci">struct ast_category * ast_category_get(const struct ast_config *config, const char *category_name, const char *filter)</div><div class="ttdoc">Retrieve a category if it exists. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01022">main/config.c:1022</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_af7766396a87543cfa36fbff53d7f5efe"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">object_type_wizard::wizard_data</a></div><div class="ttdeci">void * wizard_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">res_pjsip_config_wizard.c:287</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1ac00507f4e5ae91c46f613e5cadae04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1ac00507f4e5ae91c46f613e5cadae04">ast_category_get_name</a></div><div class="ttdeci">const char * ast_category_get_name(const struct ast_category *category)</div><div class="ttdoc">Return the name of the category. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01028">main/config.c:1028</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_a910f6ff02ecd9156ef4cd3b10a4244e8"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#a910f6ff02ecd9156ef4cd3b10a4244e8">object_type_wizard::last_config</a></div><div class="ttdeci">struct ast_config * last_config</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00288">res_pjsip_config_wizard.c:288</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">include/asterisk/config.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a77beec4a2a781815fe08e56231ede2a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77beec4a2a781815fe08e56231ede2a3">&#9670;&nbsp;</a></span>object_type_registered_observer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void object_type_registered_observer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>object_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When each object type is registered, map a memory wizard to it. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01196">1196</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00511">ast_sorcery_apply_wizard_mapping</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00302">is_one_of()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;{</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a726dc8928dc5d58877de3b555f7a5410">is_one_of</a>(object_type, object_types)) {</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <a class="code" href="../../d8/d25/sorcery_8h.html#a02d1aa896acd254e31664df39e3086c9">ast_sorcery_apply_wizard_mapping</a>(sorcery, object_type, <span class="stringliteral">&quot;memory&quot;</span>, <span class="stringliteral">&quot;pjsip_wizard&quot;</span>, 0);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;   }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;}</div><div class="ttc" id="sorcery_8h_html_a02d1aa896acd254e31664df39e3086c9"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a02d1aa896acd254e31664df39e3086c9">ast_sorcery_apply_wizard_mapping</a></div><div class="ttdeci">#define ast_sorcery_apply_wizard_mapping(sorcery, type, name, data, caching)</div><div class="ttdoc">Apply additional object wizard mappings. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00511">sorcery.h:511</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a726dc8928dc5d58877de3b555f7a5410"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a726dc8928dc5d58877de3b555f7a5410">is_one_of</a></div><div class="ttdeci">static int is_one_of(const char *needle, const char *haystack[])</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00302">res_pjsip_config_wizard.c:302</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01336">1336</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00030">ast_cli_unregister_multiple()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00316">AST_MODFLAG_GLOBAL_SYMBOLS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00323">AST_MODPRI_REALTIME_DRIVER</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00514">ast_sorcery_global_observer_remove()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00461">AST_VECTOR_REMOVE_ALL_CMP_UNORDERED</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00202">AST_VECTOR_RW_FREE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01327">load_module()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a1af29f22911398fdb361401c2a80ba29">NOT_EQUALS</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a3c087857bdc8e254a3ffc1e8b8b83703">OTW_DELETE_CB</a>.</p>
<div class="fragment"><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;{</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a8fd407e69ada9349d2b5d0b76de8d5ab">config_wizard_cli</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a8fd407e69ada9349d2b5d0b76de8d5ab">config_wizard_cli</a>));</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#acee4537f18676ad3ffe3e8ce6e017809">ast_sorcery_global_observer_remove</a>(&amp;<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a5e6850817985b22686a0df1373472c65">global_observer</a>);</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a3a798a1771db4f93c1fa296eaf0449c3">AST_VECTOR_REMOVE_ALL_CMP_UNORDERED</a>(&amp;object_type_wizards, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a1af29f22911398fdb361401c2a80ba29">NOT_EQUALS</a>, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a3c087857bdc8e254a3ffc1e8b8b83703">OTW_DELETE_CB</a>);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a7b85c5439f23cf3a3b365b7c12643ac8">AST_VECTOR_RW_FREE</a>(&amp;object_type_wizards);</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a8fd407e69ada9349d2b5d0b76de8d5ab"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a8fd407e69ada9349d2b5d0b76de8d5ab">config_wizard_cli</a></div><div class="ttdeci">static struct ast_cli_entry config_wizard_cli[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01323">res_pjsip_config_wizard.c:1323</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a3c087857bdc8e254a3ffc1e8b8b83703"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a3c087857bdc8e254a3ffc1e8b8b83703">OTW_DELETE_CB</a></div><div class="ttdeci">#define OTW_DELETE_CB(otw)</div></div>
<div class="ttc" id="sorcery_8h_html_acee4537f18676ad3ffe3e8ce6e017809"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#acee4537f18676ad3ffe3e8ce6e017809">ast_sorcery_global_observer_remove</a></div><div class="ttdeci">void ast_sorcery_global_observer_remove(const struct ast_sorcery_global_observer *callbacks)</div><div class="ttdoc">Remove a global observer from sorcery. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00514">sorcery.c:514</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a5e6850817985b22686a0df1373472c65"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a5e6850817985b22686a0df1373472c65">global_observer</a></div><div class="ttdeci">static const struct ast_sorcery_global_observer global_observer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01051">res_pjsip_config_wizard.c:1051</a></div></div>
<div class="ttc" id="vector_8h_html_a7b85c5439f23cf3a3b365b7c12643ac8"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a7b85c5439f23cf3a3b365b7c12643ac8">AST_VECTOR_RW_FREE</a></div><div class="ttdeci">#define AST_VECTOR_RW_FREE(vec)</div><div class="ttdoc">Deallocates this locked vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00202">vector.h:202</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a1af29f22911398fdb361401c2a80ba29"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a1af29f22911398fdb361401c2a80ba29">NOT_EQUALS</a></div><div class="ttdeci">#define NOT_EQUALS(a, b)</div></div>
<div class="ttc" id="vector_8h_html_a3a798a1771db4f93c1fa296eaf0449c3"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a3a798a1771db4f93c1fa296eaf0449c3">AST_VECTOR_REMOVE_ALL_CMP_UNORDERED</a></div><div class="ttdeci">#define AST_VECTOR_REMOVE_ALL_CMP_UNORDERED(vec, value, cmp, cleanup)</div><div class="ttdoc">Remove all elements from a vector that matches the given comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00461">vector.h:461</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a53ee0c8b67cab71f2871ca89f530e6a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53ee0c8b67cab71f2871ca89f530e6a4">&#9670;&nbsp;</a></span>variable_list_append()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int variable_list_append </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> **&#160;</td>
          <td class="paramname"><em>existing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Appends a variable to the end of an existing list. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00359">359</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00949">ast_variable_list_append</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">ast_variable_new</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00388">get_object_variables()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00603">handle_aor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<span class="keyword">new</span> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <span class="keywordflow">if</span> (!<span class="keyword">new</span>) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to allocate memory for new variable &#39;%s&#39;.\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a7af2e88e6e3812ec80facb1b41df43de">ast_variable_list_append</a>(existing, <span class="keyword">new</span>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a66581086d34dfe7ea86b0644bacef239"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a></div><div class="ttdeci">#define ast_variable_new(name, value, filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">include/asterisk/config.h:914</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a7af2e88e6e3812ec80facb1b41df43de"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a7af2e88e6e3812ec80facb1b41df43de">ast_variable_list_append</a></div><div class="ttdeci">#define ast_variable_list_append(head, new_var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00949">include/asterisk/config.h:949</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ada8581ab057cdfb7e096f507b8f26b0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada8581ab057cdfb7e096f507b8f26b0c">&#9670;&nbsp;</a></span>wizard_apply_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int wizard_apply_handler </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *&#160;</td>
          <td class="paramname"><em>otw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/db2/structast__category.html">ast_category</a> *&#160;</td>
          <td class="paramname"><em>wiz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">991</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01157">ast_category_first()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01656">ast_strsep()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00252">AST_STRSEP_TRIM</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00842">ast_variable_find_last_in_list()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00461">AST_VECTOR_REMOVE_ALL_CMP_UNORDERED</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00603">handle_aor()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00591">handle_auths()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00661">handle_endpoint()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00731">handle_identify()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00795">handle_phoneprov()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00854">handle_registrations()</a>, <a class="el" href="../../d0/d8a/muted_8c_source.html#l00077">host</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01208">instance_created_observer()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01220">instance_destroying_observer()</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a1af29f22911398fdb361401c2a80ba29">NOT_EQUALS</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00289">object_type_wizard::object_type</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01063">object_type_loaded_observer()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01196">object_type_registered_observer()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00285">object_type_wizard::sorcery</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">object_type_wizard::wizard</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">object_type_wizard::wizard_data</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01162">wizard_mapped_observer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01063">object_type_loaded_observer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;{</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *wizvars = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a>(wiz);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;   <span class="keyword">struct </span>string_vector remote_hosts_vector;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *remote_hosts;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;   <span class="keywordtype">int</span> rc = -1;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;remote_hosts_vector, 16);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;   remote_hosts = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a>(wizvars, <span class="stringliteral">&quot;remote_hosts&quot;</span>);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(remote_hosts)) {</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a>;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="keywordtype">char</span> *hosts = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(remote_hosts);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <span class="keywordflow">while</span> ((host = <a class="code" href="../../d6/d90/strings_8h.html#aec193d64a6309c72d72e5e523ef6076e">ast_strsep</a>(&amp;hosts, <span class="charliteral">&#39;,&#39;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17a81540e33a76fd4c5ca8e4462588e578f">AST_STRSEP_TRIM</a>))) {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;         host = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(host);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;         <span class="keywordflow">if</span> (host &amp;&amp; <a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(&amp;remote_hosts_vector, host)) {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(host);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;         }</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      }</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;   }</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(4, <span class="stringliteral">&quot;%s handler starting.\n&quot;</span>, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;   <span class="keywordflow">if</span> (!strcmp(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>, <span class="stringliteral">&quot;auth&quot;</span>)) {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      rc = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#ae1d50298fbbf9e3b1e6450fbb88c1bde">handle_auths</a>(sorcery, otw, wiz);</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>, <span class="stringliteral">&quot;aor&quot;</span>)) {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      rc = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a08df2061bfd64f4aa9a78d42fe8ea081">handle_aor</a>(sorcery, otw, wiz, &amp;remote_hosts_vector);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>, <span class="stringliteral">&quot;endpoint&quot;</span>)) {</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      rc = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6162732251e808a81f5ff7fb6a76dfc1">handle_endpoint</a>(sorcery, otw, wiz);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>, <span class="stringliteral">&quot;identify&quot;</span>)) {</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      rc = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#ac98db00d3890fdf4984ea31832a48070">handle_identify</a>(sorcery, otw, wiz, &amp;remote_hosts_vector);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>, <span class="stringliteral">&quot;phoneprov&quot;</span>)) {</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      rc = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#af71da4ed158fa1ed4bdde5955954e118">handle_phoneprov</a>(sorcery, otw, wiz);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>, <span class="stringliteral">&quot;registration&quot;</span>)) {</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      rc = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6f219fbdbebfbf937898d9f401a6a00b">handle_registrations</a>(sorcery, otw, wiz, &amp;remote_hosts_vector);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;   }</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a3a798a1771db4f93c1fa296eaf0449c3">AST_VECTOR_REMOVE_ALL_CMP_UNORDERED</a>(&amp;remote_hosts_vector, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a1af29f22911398fdb361401c2a80ba29">NOT_EQUALS</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;remote_hosts_vector);</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(4, <span class="stringliteral">&quot;%s handler complete.  rc: %d\n&quot;</span>, otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>, rc);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;   <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;}</div><div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_ae1d50298fbbf9e3b1e6450fbb88c1bde"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#ae1d50298fbbf9e3b1e6450fbb88c1bde">handle_auths</a></div><div class="ttdeci">static int handle_auths(const struct ast_sorcery *sorcery, struct object_type_wizard *otw, struct ast_category *wiz)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00591">res_pjsip_config_wizard.c:591</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a6f219fbdbebfbf937898d9f401a6a00b"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6f219fbdbebfbf937898d9f401a6a00b">handle_registrations</a></div><div class="ttdeci">static int handle_registrations(const struct ast_sorcery *sorcery, struct object_type_wizard *otw, struct ast_category *wiz, struct string_vector *remote_hosts_vector)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00854">res_pjsip_config_wizard.c:854</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a622dceb7df1ca72bcbb625e3341e23b5"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a622dceb7df1ca72bcbb625e3341e23b5">ast_variable_find_last_in_list</a></div><div class="ttdeci">const char * ast_variable_find_last_in_list(const struct ast_variable *list, const char *variable)</div><div class="ttdoc">Gets the value of the LAST occurrence of a variable from a variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00842">main/config.c:842</a></div></div>
<div class="ttc" id="strings_8h_html_a6b26879ddbe135cabc07822b019b0b17a81540e33a76fd4c5ca8e4462588e578f"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17a81540e33a76fd4c5ca8e4462588e578f">AST_STRSEP_TRIM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00252">strings.h:252</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="muted_8c_html_a41c3a180b50c6b2ddcc1b6843a48f205"><div class="ttname"><a href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a></div><div class="ttdeci">static char host[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00077">muted.c:77</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a6162732251e808a81f5ff7fb6a76dfc1"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a6162732251e808a81f5ff7fb6a76dfc1">handle_endpoint</a></div><div class="ttdeci">static int handle_endpoint(const struct ast_sorcery *sorcery, struct object_type_wizard *otw, struct ast_category *wiz)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00661">res_pjsip_config_wizard.c:661</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a39040e0fe9c0bac870c10ad32afbfb17"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a39040e0fe9c0bac870c10ad32afbfb17">ast_category_first</a></div><div class="ttdeci">struct ast_variable * ast_category_first(struct ast_category *cat)</div><div class="ttdoc">given a pointer to a category, return the root variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l01157">main/config.c:1157</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="strings_8h_html_aec193d64a6309c72d72e5e523ef6076e"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aec193d64a6309c72d72e5e523ef6076e">ast_strsep</a></div><div class="ttdeci">char * ast_strsep(char **s, const char sep, uint32_t flags)</div><div class="ttdoc">Act like strsep but ignore separators inside quotes. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01656">main/utils.c:1656</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a1af29f22911398fdb361401c2a80ba29"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a1af29f22911398fdb361401c2a80ba29">NOT_EQUALS</a></div><div class="ttdeci">#define NOT_EQUALS(a, b)</div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_af71da4ed158fa1ed4bdde5955954e118"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#af71da4ed158fa1ed4bdde5955954e118">handle_phoneprov</a></div><div class="ttdeci">static int handle_phoneprov(const struct ast_sorcery *sorcery, struct object_type_wizard *otw, struct ast_category *wiz)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00795">res_pjsip_config_wizard.c:795</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_ac98db00d3890fdf4984ea31832a48070"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#ac98db00d3890fdf4984ea31832a48070">handle_identify</a></div><div class="ttdeci">static int handle_identify(const struct ast_sorcery *sorcery, struct object_type_wizard *otw, struct ast_category *wiz, struct string_vector *remote_hosts_vector)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00731">res_pjsip_config_wizard.c:731</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a08df2061bfd64f4aa9a78d42fe8ea081"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a08df2061bfd64f4aa9a78d42fe8ea081">handle_aor</a></div><div class="ttdeci">static int handle_aor(const struct ast_sorcery *sorcery, struct object_type_wizard *otw, struct ast_category *wiz, struct string_vector *remote_hosts_vector)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00603">res_pjsip_config_wizard.c:603</a></div></div>
<div class="ttc" id="vector_8h_html_a3a798a1771db4f93c1fa296eaf0449c3"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a3a798a1771db4f93c1fa296eaf0449c3">AST_VECTOR_REMOVE_ALL_CMP_UNORDERED</a></div><div class="ttdeci">#define AST_VECTOR_REMOVE_ALL_CMP_UNORDERED(vec, value, cmp, cleanup)</div><div class="ttdoc">Remove all elements from a vector that matches the given comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00461">vector.h:461</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_a9db3ba32f72ce3b60319336488789904"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type_wizard::object_type</a></div><div class="ttdeci">char object_type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00289">res_pjsip_config_wizard.c:289</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8306e171fc346727053b4dc00df99d8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8306e171fc346727053b4dc00df99d8b">&#9670;&nbsp;</a></span>wizard_mapped_observer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wizard_mapped_observer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>object_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> *&#160;</td>
          <td class="paramname"><em>wizard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>wizard_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>wizard_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When each wizard is mapped, save it off to the vector. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01162">1162</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00890">AST_VECTOR_RW_WRLOCK</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00302">is_one_of()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00288">object_type_wizard::last_config</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00289">object_type_wizard::object_type</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00285">object_type_wizard::sorcery</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">object_type_wizard::wizard</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">object_type_wizard::wizard_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00991">wizard_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;{</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a> *otw;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a726dc8928dc5d58877de3b555f7a5410">is_one_of</a>(<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>, object_types)) {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="comment">/* Not interested. */</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;   }</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;   <span class="comment">/* We&#39;re only interested in memory wizards with the pjsip_wizard tag. */</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;   <span class="keywordflow">if</span> (wizard_args &amp;&amp; !strcmp(wizard_args, <span class="stringliteral">&quot;pjsip_wizard&quot;</span>)) {</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      otw = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(*otw) + strlen(<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>) + 1);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="keywordflow">if</span> (!otw) {</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      }</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a> = <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a> = <a class="code" href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">wizard</a>;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a> = <a class="code" href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">wizard_data</a>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a910f6ff02ecd9156ef4cd3b10a4244e8">last_config</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      strcpy(otw-&gt;<a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>, <a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>); <span class="comment">/* Safe */</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#a468985d2b5ca7410d91108bdd0484348">AST_VECTOR_RW_WRLOCK</a>(&amp;object_type_wizards);</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(&amp;object_type_wizards, otw)) {</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(otw);</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Wizard mapped for object_type &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type</a>);</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      }</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type_wizards);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;   }</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;}</div><div class="ttc" id="structobject__type__wizard_html"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html">object_type_wizard</a></div><div class="ttdoc">Keeps track of the sorcery wizard and last config for each object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00284">res_pjsip_config_wizard.c:284</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="vector_8h_html_a468985d2b5ca7410d91108bdd0484348"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a468985d2b5ca7410d91108bdd0484348">AST_VECTOR_RW_WRLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_WRLOCK(vec)</div><div class="ttdoc">Obtain write lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00890">vector.h:890</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_add172c48d79f11f30a2a5d16b1aa1e75"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#add172c48d79f11f30a2a5d16b1aa1e75">object_type_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_wizard * wizard</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00286">res_pjsip_config_wizard.c:286</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a726dc8928dc5d58877de3b555f7a5410"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a726dc8928dc5d58877de3b555f7a5410">is_one_of</a></div><div class="ttdeci">static int is_one_of(const char *needle, const char *haystack[])</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00302">res_pjsip_config_wizard.c:302</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">object_type_wizard::sorcery</a></div><div class="ttdeci">struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00285">res_pjsip_config_wizard.c:285</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_a9db3ba32f72ce3b60319336488789904"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#a9db3ba32f72ce3b60319336488789904">object_type_wizard::object_type</a></div><div class="ttdeci">char object_type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00289">res_pjsip_config_wizard.c:289</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_af7766396a87543cfa36fbff53d7f5efe"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#af7766396a87543cfa36fbff53d7f5efe">object_type_wizard::wizard_data</a></div><div class="ttdeci">void * wizard_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00287">res_pjsip_config_wizard.c:287</a></div></div>
<div class="ttc" id="structobject__type__wizard_html_a910f6ff02ecd9156ef4cd3b10a4244e8"><div class="ttname"><a href="../../df/d84/structobject__type__wizard.html#a910f6ff02ecd9156ef4cd3b10a4244e8">object_type_wizard::last_config</a></div><div class="ttdeci">struct ast_config * last_config</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00288">res_pjsip_config_wizard.c:288</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;PJSIP Config Wizard&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .load_pri = AST_MODPRI_REALTIME_DRIVER, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01351">1351</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01351">1351</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

</div>
</div>
<a id="a8fd407e69ada9349d2b5d0b76de8d5ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fd407e69ada9349d2b5d0b76de8d5ab">&#9670;&nbsp;</a></span>config_wizard_cli</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> config_wizard_cli[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   { .handler =  <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a72a657571d27a06cef0c1212309af142">handle_export_primitives</a> , .summary =  <span class="stringliteral">&quot;Export config wizard primitives&quot;</span> ,},</div><div class="line">}</div><div class="ttc" id="res__pjsip__config__wizard_8c_html_a72a657571d27a06cef0c1212309af142"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a72a657571d27a06cef0c1212309af142">handle_export_primitives</a></div><div class="ttdeci">static char * handle_export_primitives(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01230">res_pjsip_config_wizard.c:1230</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01323">1323</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

</div>
</div>
<a id="a5e6850817985b22686a0df1373472c65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e6850817985b22686a0df1373472c65">&#9670;&nbsp;</a></span>global_observer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d3/d3b/structast__sorcery__global__observer.html">ast_sorcery_global_observer</a> global_observer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .instance_created = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a60c50b6437bd9095dba83c80223c1ddd">instance_created_observer</a>,</div><div class="line">   .instance_destroying = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a029e63d588603c08760a945ab41aa374">instance_destroying_observer</a>,</div><div class="line">}</div><div class="ttc" id="res__pjsip__config__wizard_8c_html_a029e63d588603c08760a945ab41aa374"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a029e63d588603c08760a945ab41aa374">instance_destroying_observer</a></div><div class="ttdeci">static void instance_destroying_observer(const char *name, struct ast_sorcery *sorcery)</div><div class="ttdoc">When the res_pjsip instance is destroyed, remove the observer and unref the module. This should then allow this module to unload cleanly. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01220">res_pjsip_config_wizard.c:1220</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a60c50b6437bd9095dba83c80223c1ddd"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a60c50b6437bd9095dba83c80223c1ddd">instance_created_observer</a></div><div class="ttdeci">static void instance_created_observer(const char *name, struct ast_sorcery *sorcery)</div><div class="ttdoc">When the res_pjsip instance is created, add an observer to it and initialize the wizard vector...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01208">res_pjsip_config_wizard.c:1208</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01051">1051</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

</div>
</div>
<a id="aa7862536ed74b8f0033c38bce52baa86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7862536ed74b8f0033c38bce52baa86">&#9670;&nbsp;</a></span>observer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d45/structast__sorcery__instance__observer.html">ast_sorcery_instance_observer</a> observer</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .wizard_mapped = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a8306e171fc346727053b4dc00df99d8b">wizard_mapped_observer</a>,</div><div class="line">   .object_type_registered = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a77beec4a2a781815fe08e56231ede2a3">object_type_registered_observer</a>,</div><div class="line">   .object_type_loaded = <a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#a677862e7eb57aed1c9942506d89c17ee">object_type_loaded_observer</a>,</div><div class="line">}</div><div class="ttc" id="res__pjsip__config__wizard_8c_html_a8306e171fc346727053b4dc00df99d8b"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a8306e171fc346727053b4dc00df99d8b">wizard_mapped_observer</a></div><div class="ttdeci">static void wizard_mapped_observer(const char *name, struct ast_sorcery *sorcery, const char *object_type, struct ast_sorcery_wizard *wizard, const char *wizard_args, void *wizard_data)</div><div class="ttdoc">When each wizard is mapped, save it off to the vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01162">res_pjsip_config_wizard.c:1162</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a677862e7eb57aed1c9942506d89c17ee"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a677862e7eb57aed1c9942506d89c17ee">object_type_loaded_observer</a></div><div class="ttdeci">static void object_type_loaded_observer(const char *name, const struct ast_sorcery *sorcery, const char *object_type, int reloaded)</div><div class="ttdoc">Called after an object type is loaded/reloaded. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01063">res_pjsip_config_wizard.c:1063</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_a77beec4a2a781815fe08e56231ede2a3"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#a77beec4a2a781815fe08e56231ede2a3">object_type_registered_observer</a></div><div class="ttdeci">static void object_type_registered_observer(const char *name, struct ast_sorcery *sorcery, const char *object_type)</div><div class="ttdoc">When each object type is registered, map a memory wizard to it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01196">res_pjsip_config_wizard.c:1196</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01056">1056</a> of file <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html">res_pjsip_config_wizard.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02386">ast_sorcery_observer_add()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00491">sorcery_generic_observer_remove()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02035">sorcery_observer_notify_create()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02196">sorcery_observer_notify_delete()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01314">sorcery_observer_notify_loaded()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02108">sorcery_observer_notify_update()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02411">sorcery_observer_remove()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:30 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
