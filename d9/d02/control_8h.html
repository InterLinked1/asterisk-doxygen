<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: control.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li><li class="navelem"><a class="el" href="../../dir_645bb0ee2d9887263292b3f6cc7c69f2.html">stasis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">control.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Internal API for the Stasis application controller.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d8/d9c/stasis__app_8h_source.html">asterisk/stasis_app.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for control.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d3c/control_8h__incl.png" border="0" usemap="#control_8h" alt=""/></div>
<map name="control_8h" id="control_8h">
<area shape="rect" id="node2" href="../../d8/d9c/stasis__app_8h.html" title="Stasis Application API. See Stasis Application API for detailed documentation. " alt="" coords="813,80,969,107"/>
<area shape="rect" id="node3" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="821,155,960,181"/>
<area shape="rect" id="node4" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="49,229,193,256"/>
<area shape="rect" id="node5" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="107,304,221,331"/>
<area shape="rect" id="node6" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="362,453,475,480"/>
<area shape="rect" id="node7" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="5,379,163,405"/>
<area shape="rect" id="node8" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="1055,229,1214,256"/>
<area shape="rect" id="node9" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="418,304,553,331"/>
<area shape="rect" id="node10" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="721,379,871,405"/>
<area shape="rect" id="node11" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1238,229,1402,256"/>
<area shape="rect" id="node12" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="577,304,703,331"/>
<area shape="rect" id="node13" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="779,304,925,331"/>
<area shape="rect" id="node14" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="218,229,345,256"/>
<area shape="rect" id="node15" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1427,229,1533,256"/>
<area shape="rect" id="node16" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="950,304,1101,331"/>
<area shape="rect" id="node17" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="1558,229,1719,256"/>
<area shape="rect" id="node18" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="1744,229,1915,256"/>
<area shape="rect" id="node19" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1125,304,1241,331"/>
<area shape="rect" id="node20" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="671,229,828,256"/>
<area shape="rect" id="node21" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="369,229,495,256"/>
<area shape="rect" id="node22" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1939,229,2090,256"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d70/control_8h__dep__incl.png" border="0" usemap="#control_8hdep" alt=""/></div>
<map name="control_8hdep" id="control_8hdep">
<area shape="rect" id="node2" href="../../d2/d80/res__stasis_8c.html" title="Stasis application support. " alt="" coords="5,80,103,107"/>
<area shape="rect" id="node3" href="../../d3/d5e/res_2stasis_2app_8c.html" title="Stasis application support. " alt="" coords="127,80,184,107"/>
<area shape="rect" id="node4" href="../../de/de3/control_8c.html" title="Stasis application control support. " alt="" coords="209,80,286,107"/>
<area shape="rect" id="node5" href="../../d9/de0/stasis__bridge_8c.html" title="Stasis bridge subclass. " alt="" coords="310,80,427,107"/>
</map>
</div>
</div>
<p><a href="../../d9/d02/control_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a40fff3666badb7af1a010c523ccf14df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#a40fff3666badb7af1a010c523ccf14df">control_add_channel_to_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="memdesc:a40fff3666badb7af1a010c523ccf14df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command callback for adding a channel to a bridge.  <a href="#a40fff3666badb7af1a010c523ccf14df">More...</a><br /></td></tr>
<tr class="separator:a40fff3666badb7af1a010c523ccf14df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a724086dccbb01edfef800bde10a80b55"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#a724086dccbb01edfef800bde10a80b55">control_app</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a724086dccbb01edfef800bde10a80b55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pointer (non-reffed) to the app associated with this control.  <a href="#a724086dccbb01edfef800bde10a80b55">More...</a><br /></td></tr>
<tr class="separator:a724086dccbb01edfef800bde10a80b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2df7584f357c4e4ed8410b204b9f736"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#ac2df7584f357c4e4ed8410b204b9f736">control_command_count</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:ac2df7584f357c4e4ed8410b204b9f736"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the count of items in a control's command queue.  <a href="#ac2df7584f357c4e4ed8410b204b9f736">More...</a><br /></td></tr>
<tr class="separator:ac2df7584f357c4e4ed8410b204b9f736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76527348c55f4a4a8a3cfb7ccd798793"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#a76527348c55f4a4a8a3cfb7ccd798793">control_create</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d4/d84/structchannel.html">channel</a>, struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:a76527348c55f4a4a8a3cfb7ccd798793"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a control object.  <a href="#a76527348c55f4a4a8a3cfb7ccd798793">More...</a><br /></td></tr>
<tr class="separator:a76527348c55f4a4a8a3cfb7ccd798793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f61f3aaffc1704240675904f5dea104"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#a9f61f3aaffc1704240675904f5dea104">control_dispatch_all</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a9f61f3aaffc1704240675904f5dea104"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dispatch all commands enqueued to this control.  <a href="#a9f61f3aaffc1704240675904f5dea104">More...</a><br /></td></tr>
<tr class="separator:a9f61f3aaffc1704240675904f5dea104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80664020fe48449d024096157937b40c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#a80664020fe48449d024096157937b40c">control_flush_queue</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a80664020fe48449d024096157937b40c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the control command queue.  <a href="#a80664020fe48449d024096157937b40c">More...</a><br /></td></tr>
<tr class="separator:a80664020fe48449d024096157937b40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54676258e38bccbf5366bf1ba5a18f9c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#a54676258e38bccbf5366bf1ba5a18f9c">control_is_done</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a54676258e38bccbf5366bf1ba5a18f9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if control_continue() has been called on this <em>control</em>.  <a href="#a54676258e38bccbf5366bf1ba5a18f9c">More...</a><br /></td></tr>
<tr class="separator:a54676258e38bccbf5366bf1ba5a18f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe81650a0b8e4926475d3b47fa00da06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#afe81650a0b8e4926475d3b47fa00da06">control_mark_done</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="separator:afe81650a0b8e4926475d3b47fa00da06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa96ec6119d11c38a2a9385429513cf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#afa96ec6119d11c38a2a9385429513cf9">control_move_cleanup</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:afa96ec6119d11c38a2a9385429513cf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free any memory that was allocated for switching applications via /channels/{channelId}/move.  <a href="#afa96ec6119d11c38a2a9385429513cf9">More...</a><br /></td></tr>
<tr class="separator:afa96ec6119d11c38a2a9385429513cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a932badf3c545b8bd5111cad9aaed4c3c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#a932badf3c545b8bd5111cad9aaed4c3c">control_next_app</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a932badf3c545b8bd5111cad9aaed4c3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the application we are moving to.  <a href="#a932badf3c545b8bd5111cad9aaed4c3c">More...</a><br /></td></tr>
<tr class="separator:a932badf3c545b8bd5111cad9aaed4c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5db9a2d5072ae2e6b5bd2c718c03ab2"><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#ab5db9a2d5072ae2e6b5bd2c718c03ab2">control_next_app_args</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:ab5db9a2d5072ae2e6b5bd2c718c03ab2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of arguments to pass to the application we are moving to.  <a href="#ab5db9a2d5072ae2e6b5bd2c718c03ab2">More...</a><br /></td></tr>
<tr class="separator:ab5db9a2d5072ae2e6b5bd2c718c03ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f8795fd466c8645027ce6ff3620f962"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#a9f8795fd466c8645027ce6ff3620f962">control_next_app_args_size</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a9f8795fd466c8645027ce6ff3620f962"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of arguments to be passed to the application we are moving to.  <a href="#a9f8795fd466c8645027ce6ff3620f962">More...</a><br /></td></tr>
<tr class="separator:a9f8795fd466c8645027ce6ff3620f962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3d3390c840aa706358dd3238942bbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#a1a3d3390c840aa706358dd3238942bbf">control_prestart_dispatch_all</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a1a3d3390c840aa706358dd3238942bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dispatch all queued prestart commands.  <a href="#a1a3d3390c840aa706358dd3238942bbf">More...</a><br /></td></tr>
<tr class="separator:a1a3d3390c840aa706358dd3238942bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa58df566beb26758f5728fc4b8e693ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#aa58df566beb26758f5728fc4b8e693ea">control_set_app</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:aa58df566beb26758f5728fc4b8e693ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the application the control object belongs to.  <a href="#aa58df566beb26758f5728fc4b8e693ea">More...</a><br /></td></tr>
<tr class="separator:aa58df566beb26758f5728fc4b8e693ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25a5432fda39aae3c2c68f19105b059"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#ad25a5432fda39aae3c2c68f19105b059">control_silence_stop_now</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:ad25a5432fda39aae3c2c68f19105b059"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop playing silence to a channel right now.  <a href="#ad25a5432fda39aae3c2c68f19105b059">More...</a><br /></td></tr>
<tr class="separator:ad25a5432fda39aae3c2c68f19105b059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2095140969cdaab207517ed79148838f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#a2095140969cdaab207517ed79148838f">control_swap_channel_in_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *swap)</td></tr>
<tr class="memdesc:a2095140969cdaab207517ed79148838f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command for swapping a channel in a bridge.  <a href="#a2095140969cdaab207517ed79148838f">More...</a><br /></td></tr>
<tr class="separator:a2095140969cdaab207517ed79148838f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a316d08ca5342616eaf4b154d784477a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d02/control_8h.html#a316d08ca5342616eaf4b154d784477a1">control_wait</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a316d08ca5342616eaf4b154d784477a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks until <em>control's</em> command queue has a command available.  <a href="#a316d08ca5342616eaf4b154d784477a1">More...</a><br /></td></tr>
<tr class="separator:a316d08ca5342616eaf4b154d784477a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Internal API for the Stasis application controller. </p>
<dl class="section author"><dt>Author</dt><dd>David M. Lee, II <a href="#" onclick="location.href='mai'+'lto:'+'dle'+'e@'+'dig'+'iu'+'m.c'+'om'; return false;">dlee@<span style="display: none;">.nosp@m.</span>digi<span style="display: none;">.nosp@m.</span>um.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d9/d02/control_8h_source.html">control.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a40fff3666badb7af1a010c523ccf14df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40fff3666badb7af1a010c523ccf14df">&#9670;&nbsp;</a></span>control_add_channel_to_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_add_channel_to_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command callback for adding a channel to a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for chan </td></tr>
    <tr><td class="paramname">chan</td><td>The channel on which commands should be executed </td></tr>
    <tr><td class="paramname">data</td><td>Bridge to be passed to the callback </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01378">1378</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l01284">control_swap_channel_in_bridge()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01383">stasis_app_control_add_channel_to_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;{</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a2095140969cdaab207517ed79148838f">control_swap_channel_in_bridge</a>(control, <a class="code" href="../../d0/d41/structstasis__app__command.html#a735984d41155bc1032e09bece8f8d66d">data</a>, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;}</div><div class="ttc" id="control_8c_html_a2095140969cdaab207517ed79148838f"><div class="ttname"><a href="../../de/de3/control_8c.html#a2095140969cdaab207517ed79148838f">control_swap_channel_in_bridge</a></div><div class="ttdeci">int control_swap_channel_in_bridge(struct stasis_app_control *control, struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap)</div><div class="ttdoc">Command for swapping a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01284">control.c:1284</a></div></div>
<div class="ttc" id="structstasis__app__command_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html#a735984d41155bc1032e09bece8f8d66d">stasis_app_command::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00037">command.c:37</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a724086dccbb01edfef800bde10a80b55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a724086dccbb01edfef800bde10a80b55">&#9670;&nbsp;</a></span>control_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a>* control_app </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the pointer (non-reffed) to the app associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control to query.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the associated <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01563">1563</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00090">stasis_app_control::app</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00248">bridge_stasis_moving()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00142">bridge_stasis_push_peek()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01159">channel_replaced_cb()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01128">channel_stolen_cb()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;{</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;   <span class="keywordflow">return</span> control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">app</a>;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_a185ae303b96babfcf6a0139d2d4cad89"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">stasis_app_control::app</a></div><div class="ttdeci">struct stasis_app * app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00090">control.c:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac2df7584f357c4e4ed8410b204b9f736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2df7584f357c4e4ed8410b204b9f736">&#9670;&nbsp;</a></span>control_command_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_command_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the count of items in a control's command queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control to count commands on</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of commands in the command que </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00343">343</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01250">stasis_app_control_execute_until_exhausted()</a>.</p>
<div class="fragment"><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a76527348c55f4a4a8a3cfb7ccd798793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76527348c55f4a4a8a3cfb7ccd798793">&#9670;&nbsp;</a></span>control_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a>* control_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a control object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Channel to control. </td></tr>
    <tr><td class="paramname">app</td><td><a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> for which this control is being created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New control object. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00123">123</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00076">stasis_app_control::add_rules</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00090">stasis_app_control::app</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00199">ast_cond_init</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00625">AST_LIST_HEAD_INIT</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00105">control_dtor()</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00094">stasis_app_control::next_app</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00080">stasis_app_control::remove_rules</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00052">stasis_app_control::wait_cond</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00333">stasis_app_control_create()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   control = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*control), <a class="code" href="../../de/de3/control_8c.html#afddcdee94890a5da4cda6d29162dd75e">control_dtor</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   <span class="keywordflow">if</span> (!control) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca">AST_LIST_HEAD_INIT</a>(&amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">add_rules</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca">AST_LIST_HEAD_INIT</a>(&amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">remove_rules</a>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   res = <a class="code" href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a>(&amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#acfbbc301b00500e290316094dfa617be">wait_cond</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error initializing ast_cond_t: %s\n&quot;</span>,</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;         strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(control, -1);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">app</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(app);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(channel);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a> = <a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   <span class="keywordflow">if</span> (!control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(control, -1);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">next_app</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;control-&gt;next_app_args, 0);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <span class="keywordflow">return</span> control;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_acfbbc301b00500e290316094dfa617be"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#acfbbc301b00500e290316094dfa617be">stasis_app_control::wait_cond</a></div><div class="ttdeci">ast_cond_t wait_cond</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00052">control.c:52</a></div></div>
<div class="ttc" id="structstasis__app__control_html_abbee08235f2910d262a9a6e820dc15b7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">stasis_app_control::next_app</a></div><div class="ttdeci">char * next_app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00094">control.c:94</a></div></div>
<div class="ttc" id="structstasis__app__control_html_aa7fd7031cc99ac223f890dc031cb2c61"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">stasis_app_control::remove_rules</a></div><div class="ttdeci">struct app_control_rules remove_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00080">control.c:80</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="lock_8h_html_a69e9591803d36f5683eb9b084442be9b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a></div><div class="ttdeci">#define ast_cond_init(cond, attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00199">lock.h:199</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a185ae303b96babfcf6a0139d2d4cad89"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">stasis_app_control::app</a></div><div class="ttdeci">struct stasis_app * app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00090">control.c:90</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="structstasis__app__control_html"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html">stasis_app_control</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00051">control.c:51</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6f42d3bf45cc9af6f794d9d1cf8c45ca"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca">AST_LIST_HEAD_INIT</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00625">linkedlists.h:625</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="control_8c_html_afddcdee94890a5da4cda6d29162dd75e"><div class="ttname"><a href="../../de/de3/control_8c.html#afddcdee94890a5da4cda6d29162dd75e">control_dtor</a></div><div class="ttdeci">static void control_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00105">control.c:105</a></div></div>
<div class="ttc" id="structstasis__app__control_html_abf7d53da04a131747a4ce76b04db91a1"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">stasis_app_control::add_rules</a></div><div class="ttdeci">struct app_control_rules add_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00076">control.c:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f61f3aaffc1704240675904f5dea104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f61f3aaffc1704240675904f5dea104">&#9670;&nbsp;</a></span>control_dispatch_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_dispatch_all </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dispatch all commands enqueued to this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object to dispatch. </td></tr>
    <tr><td class="paramname">chan</td><td>Associated channel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of commands executed </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01495">1495</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01883">AO2_ITERATOR_UNLINK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00101">command_invoke()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01250">stasis_app_control_execute_until_exhausted()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;{</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;   <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> iter;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a> *command;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a> == chan);</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;   iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c">AO2_ITERATOR_UNLINK</a>);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;   <span class="keywordflow">while</span> ((command = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;iter))) {</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      <a class="code" href="../../d5/d2e/command_8c.html#a38f4413851ef77145288b863d792512c">command_invoke</a>(command, control, chan);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(command, -1);</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      ++count;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;   }</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;iter);</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   <span class="keywordflow">return</span> count;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="command_8c_html_a38f4413851ef77145288b863d792512c"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a38f4413851ef77145288b863d792512c">command_invoke</a></div><div class="ttdeci">void command_invoke(struct stasis_app_command *command, struct stasis_app_control *control, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00101">command.c:101</a></div></div>
<div class="ttc" id="structstasis__app__command_html"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00033">command.c:33</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c">AO2_ITERATOR_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01883">astobj2.h:1883</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a80664020fe48449d024096157937b40c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80664020fe48449d024096157937b40c">&#9670;&nbsp;</a></span>control_flush_queue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void control_flush_queue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush the control command queue. </p>
<dl class="section since"><dt>Since</dt><dd>13.9.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object to flush command queue.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01482">1482</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01883">AO2_ITERATOR_UNLINK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00077">command_complete()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01278">stasis_app_control_flush_queue()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;{</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> iter;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a> *command;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;   iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c">AO2_ITERATOR_UNLINK</a>);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;   <span class="keywordflow">while</span> ((command = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;iter))) {</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <a class="code" href="../../d5/d2e/command_8c.html#a726bf174d6849955130dcabb9b94ca07">command_complete</a>(command, -1);</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(command, -1);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;   }</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;iter);</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;}</div><div class="ttc" id="command_8c_html_a726bf174d6849955130dcabb9b94ca07"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a726bf174d6849955130dcabb9b94ca07">command_complete</a></div><div class="ttdeci">void command_complete(struct stasis_app_command *command, int retval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00077">command.c:77</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="structstasis__app__command_html"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00033">command.c:33</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c">AO2_ITERATOR_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01883">astobj2.h:1883</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a54676258e38bccbf5366bf1ba5a18f9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54676258e38bccbf5366bf1ba5a18f9c">&#9670;&nbsp;</a></span>control_is_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_is_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if control_continue() has been called on this <em>control</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True (non-zero) if control_continue() has been called. </dd>
<dd>
False (zero) otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00348">348</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01250">stasis_app_control_execute_until_exhausted()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01273">stasis_app_control_is_done()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="comment">/* Called from stasis_app_exec thread; no lock needed */</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   <span class="keywordflow">return</span> control-&gt;is_done;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="afe81650a0b8e4926475d3b47fa00da06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe81650a0b8e4926475d3b47fa00da06">&#9670;&nbsp;</a></span>control_mark_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void control_mark_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00354">354</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00368">app_control_continue()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01250">stasis_app_control_execute_until_exhausted()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;{</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="comment">/* Locking necessary to sync with other threads adding commands to the queue. */</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   control-&gt;is_done = 1;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afa96ec6119d11c38a2a9385429513cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa96ec6119d11c38a2a9385429513cf9">&#9670;&nbsp;</a></span>control_move_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void control_move_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free any memory that was allocated for switching applications via /channels/{channelId}/move. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for the channel </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01702">1702</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00627">AST_VECTOR_RESET</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00094">stasis_app_control::next_app</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00414">app_control_move()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00105">control_dtor()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;{</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">next_app</a>);</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">next_app</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a0e59aa540254f87575cb1d28821bbd1f">AST_VECTOR_RESET</a>(&amp;control-&gt;next_app_args, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_abbee08235f2910d262a9a6e820dc15b7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">stasis_app_control::next_app</a></div><div class="ttdeci">char * next_app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00094">control.c:94</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="vector_8h_html_a0e59aa540254f87575cb1d28821bbd1f"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a0e59aa540254f87575cb1d28821bbd1f">AST_VECTOR_RESET</a></div><div class="ttdeci">#define AST_VECTOR_RESET(vec, cleanup)</div><div class="ttdoc">Reset vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00627">vector.h:627</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a932badf3c545b8bd5111cad9aaed4c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a932badf3c545b8bd5111cad9aaed4c3c">&#9670;&nbsp;</a></span>control_next_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* control_next_app </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of the application we are moving to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for the channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The name of the application we are moving to </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01697">1697</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00094">stasis_app_control::next_app</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;{</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;   <span class="keywordflow">return</span> control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">next_app</a>;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_abbee08235f2910d262a9a6e820dc15b7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">stasis_app_control::next_app</a></div><div class="ttdeci">char * next_app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00094">control.c:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab5db9a2d5072ae2e6b5bd2c718c03ab2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5db9a2d5072ae2e6b5bd2c718c03ab2">&#9670;&nbsp;</a></span>control_next_app_args()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char** control_next_app_args </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of arguments to pass to the application we are moving to. </p>
<dl class="section note"><dt>Note</dt><dd>If you wish to get the size of the list, control_next_app_args_size should be called before this, as this function will steal the elements from the string vector and set the size to 0.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for the channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The arguments to pass to the application we are moving to </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01710">1710</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d68/vector_8h_source.html#l00140">AST_VECTOR_STEAL_ELEMENTS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;{</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d68/vector_8h.html#a5d8e2ddea0e358edc1021c417461f21b">AST_VECTOR_STEAL_ELEMENTS</a>(&amp;control-&gt;next_app_args);</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;}</div><div class="ttc" id="vector_8h_html_a5d8e2ddea0e358edc1021c417461f21b"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5d8e2ddea0e358edc1021c417461f21b">AST_VECTOR_STEAL_ELEMENTS</a></div><div class="ttdeci">#define AST_VECTOR_STEAL_ELEMENTS(vec)</div><div class="ttdoc">Steal the elements from a vector and reinitialize. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00140">vector.h:140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f8795fd466c8645027ce6ff3620f962"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f8795fd466c8645027ce6ff3620f962">&#9670;&nbsp;</a></span>control_next_app_args_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_next_app_args_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of arguments to be passed to the application we are moving to. </p>
<dl class="section note"><dt>Note</dt><dd>This should always be called before control_next_app_args, as calling that function will steal all elements from the string vector and set the size to 0.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for the channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of arguments to be passed to the application we are moving to </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01715">1715</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;{</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;control-&gt;next_app_args);</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;}</div><div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a3d3390c840aa706358dd3238942bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a3d3390c840aa706358dd3238942bbf">&#9670;&nbsp;</a></span>control_prestart_dispatch_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_prestart_dispatch_all </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dispatch all queued prestart commands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for chan </td></tr>
    <tr><td class="paramname">channel</td><td>The channel on which commands should be executed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of commands executed </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01535">1535</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01883">AO2_ITERATOR_UNLINK</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00101">command_invoke()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00160">command_prestart_get_container()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;{</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *command_queue;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;   <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> iter;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a> *command;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;   command_queue = <a class="code" href="../../d5/d2e/command_8c.html#abdb26a07512863c42b480cc14e8e76f1">command_prestart_get_container</a>(chan);</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;   <span class="keywordflow">if</span> (!command_queue) {</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;   }</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;   iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(command_queue, <a class="code" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c">AO2_ITERATOR_UNLINK</a>);</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;   <span class="keywordflow">while</span> ((command = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;iter))) {</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <a class="code" href="../../d5/d2e/command_8c.html#a38f4413851ef77145288b863d792512c">command_invoke</a>(command, control, chan);</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(command);</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      ++count;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;   }</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;iter);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(command_queue);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;   <span class="keywordflow">return</span> count;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="command_8c_html_abdb26a07512863c42b480cc14e8e76f1"><div class="ttname"><a href="../../d5/d2e/command_8c.html#abdb26a07512863c42b480cc14e8e76f1">command_prestart_get_container</a></div><div class="ttdeci">struct ao2_container * command_prestart_get_container(struct ast_channel *chan)</div><div class="ttdoc">Get the Stasis() prestart commands for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00160">command.c:160</a></div></div>
<div class="ttc" id="command_8c_html_a38f4413851ef77145288b863d792512c"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a38f4413851ef77145288b863d792512c">command_invoke</a></div><div class="ttdeci">void command_invoke(struct stasis_app_command *command, struct stasis_app_control *control, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00101">command.c:101</a></div></div>
<div class="ttc" id="structstasis__app__command_html"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00033">command.c:33</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c">AO2_ITERATOR_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01883">astobj2.h:1883</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa58df566beb26758f5728fc4b8e693ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa58df566beb26758f5728fc4b8e693ea">&#9670;&nbsp;</a></span>control_set_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void control_set_app </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the application the control object belongs to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for the channel </td></tr>
    <tr><td class="paramname">app</td><td>The application this control will now belong to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This will unref control's previous app by 1, and bump app by 1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01691">1691</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00090">stasis_app_control::app</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;{</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">app</a>);</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">app</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(app);</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_a185ae303b96babfcf6a0139d2d4cad89"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">stasis_app_control::app</a></div><div class="ttdeci">struct stasis_app * app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00090">control.c:90</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad25a5432fda39aae3c2c68f19105b059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25a5432fda39aae3c2c68f19105b059">&#9670;&nbsp;</a></span>control_silence_stop_now()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void control_silence_stop_now </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop playing silence to a channel right now. </p>
<dl class="section since"><dt>Since</dt><dd>13.9.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for chan </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00837">837</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l08312">ast_channel_stop_silence_generator()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00084">stasis_app_control::silgen</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00848">app_control_silence_stop()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;{</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <span class="keywordflow">if</span> (control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">silgen</a>) {</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Stopping silence generator\n&quot;</span>,</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;         <a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a6643cbe766a051d2d06750ab5b3e933d">ast_channel_stop_silence_generator</a>(</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;         control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">silgen</a>);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">silgen</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="control_8c_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
<div class="ttc" id="channel_8h_html_a6643cbe766a051d2d06750ab5b3e933d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6643cbe766a051d2d06750ab5b3e933d">ast_channel_stop_silence_generator</a></div><div class="ttdeci">void ast_channel_stop_silence_generator(struct ast_channel *chan, struct ast_silence_generator *state)</div><div class="ttdoc">Stops a previously-started silence generator on the given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08312">channel.c:8312</a></div></div>
<div class="ttc" id="structstasis__app__control_html_ab499a1983a28c5627f60ba6d2bb445c4"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">stasis_app_control::silgen</a></div><div class="ttdeci">struct ast_silence_generator * silgen</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00084">control.c:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2095140969cdaab207517ed79148838f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2095140969cdaab207517ed79148838f">&#9670;&nbsp;</a></span>control_swap_channel_in_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_swap_channel_in_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>swap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command for swapping a channel in a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for chan </td></tr>
    <tr><td class="paramname">chan</td><td>The channel on which commands should be executed </td></tr>
    <tr><td class="paramname">bridge</td><td>Bridge to be passed to the callback </td></tr>
    <tr><td class="paramname">swap</td><td>Channel to swap with when joining the bridge </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01284">1284</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00090">stasis_app_control::app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01428">app_subscribe_bridge()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00606">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00259">ast_bridge_set_after_callback()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00721">ast_channel_pbx()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00725">ast_channel_pbx_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00064">stasis_app_control::bridge</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01163">bridge_after_cb()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01170">bridge_after_cb_failed()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00068">stasis_app_control::bridge_features</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00281">ast_bridge_features::inhibit_colp</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00072">stasis_app_control::pbx</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01254">set_interval_hook()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00931">stasis_app_get_bridge()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01378">control_add_channel_to_bridge()</a>, and <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00096">defer_bridge_add()</a>.</p>
<div class="fragment"><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;{</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;   <span class="keywordtype">int</span> flags = <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;   <span class="keywordflow">if</span> (!control || !bridge) {</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;   }</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Adding to bridge %s\n&quot;</span>,</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control),</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(chan != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;   <span class="comment">/* Depart whatever Stasis bridge we&#39;re currently in. */</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a>(control)) {</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      <span class="comment">/* Note that it looks like there&#39;s a race condition here, since</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment">       * we don&#39;t have control locked. But this happens from the</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="comment">       * control callback thread, so there won&#39;t be any other</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment">       * concurrent attempts to bridge.</span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan);</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;   }</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;   res = <a class="code" href="../../d8/d85/bridge__after_8h.html#a866e05c6b083030e9757cfb37814e671">ast_bridge_set_after_callback</a>(chan, <a class="code" href="../../de/de3/control_8c.html#a37477386e9312d1c503b174dc13317fe">bridge_after_cb</a>,</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a7322606650c7646243726484df16b98e">bridge_after_cb_failed</a>, control);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;   <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error setting after-bridge callback\n&quot;</span>);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;   }</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control);</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;   <span class="comment">/* Ensure the controlling application is subscribed early enough</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="comment">    * to receive the ChannelEnteredBridge message. This works in concert</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="comment">    * with the subscription handled in the Stasis application execution</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="comment">    * loop */</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;   <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a0c81b198af25100a727e3b42f6a6a5ab">app_subscribe_bridge</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">app</a>, bridge);</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;   <span class="comment">/* Save off the channel&#39;s PBX */</span></div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">pbx</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;   <span class="keywordflow">if</span> (!control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">pbx</a>) {</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">pbx</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a488b7d6f7488bedc53be45d4ef4471c9">ast_channel_pbx</a>(chan);</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af89b0f98c227230d7180a90627c0901c">ast_channel_pbx_set</a>(chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   }</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   <span class="comment">/* Pull bridge features from the control */</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;   features = control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a>;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;   <span class="keywordflow">if</span> (features &amp;&amp; features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#aa30fb781e59e7c7b6449914dd9ad08d2">inhibit_colp</a>) {</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      flags |= <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a>;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;   }</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a>(control) == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   <span class="comment">/* We need to set control-&gt;bridge here since bridge_after_cb may be run</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="comment">    * before ast_bridge_impart returns.  bridge_after_cb gets a reason</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="comment">    * code so it can tell if the bridge is actually valid or not.</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a> = bridge;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;   <span class="comment">/* We can&#39;t be holding the control lock while impart is running</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="comment">    * or we could create a deadlock with bridge_after_cb which also</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="comment">    * tries to lock control.</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control);</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;   res = <a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge,</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      chan,</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      swap,</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      features, <span class="comment">/* features */</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      flags);</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;   <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <span class="comment">/* ast_bridge_impart failed before it could spawn the depart</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="comment">       * thread.  The callbacks aren&#39;t called in this case.</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">       * The impart could still fail even if ast_bridge_impart returned</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">       * ok but that&#39;s handled by bridge_after_cb.</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error adding channel to bridge\n&quot;</span>);</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af89b0f98c227230d7180a90627c0901c">ast_channel_pbx_set</a>(chan, control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">pbx</a>);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">pbx</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a04bd17d4585a2f55499f6673668f9d17">set_interval_hook</a>(chan);</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;   }</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__bridge__features_html_aa30fb781e59e7c7b6449914dd9ad08d2"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#aa30fb781e59e7c7b6449914dd9ad08d2">ast_bridge_features::inhibit_colp</a></div><div class="ttdeci">unsigned int inhibit_colp</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00281">bridge_features.h:281</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="structast__bridge__features_html"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a></div><div class="ttdoc">Structure that contains features information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00263">bridge_features.h:263</a></div></div>
<div class="ttc" id="control_8c_html_a37477386e9312d1c503b174dc13317fe"><div class="ttname"><a href="../../de/de3/control_8c.html#a37477386e9312d1c503b174dc13317fe">bridge_after_cb</a></div><div class="ttdeci">static void bridge_after_cb(struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01163">control.c:1163</a></div></div>
<div class="ttc" id="control_8c_html_a00eec5811d50eb68749bf440708e156b"><div class="ttname"><a href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a></div><div class="ttdeci">struct ast_bridge * stasis_app_get_bridge(struct stasis_app_control *control)</div><div class="ttdoc">Gets the bridge currently associated with a control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00931">control.c:931</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a866e05c6b083030e9757cfb37814e671"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a866e05c6b083030e9757cfb37814e671">ast_bridge_set_after_callback</a></div><div class="ttdeci">int ast_bridge_set_after_callback(struct ast_channel *chan, ast_bridge_after_cb callback, ast_bridge_after_cb_failed failed, void *data)</div><div class="ttdoc">Setup an after bridge callback for when the channel leaves the bridging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00259">bridge_after.c:259</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a0c81b198af25100a727e3b42f6a6a5ab"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a0c81b198af25100a727e3b42f6a6a5ab">app_subscribe_bridge</a></div><div class="ttdeci">int app_subscribe_bridge(struct stasis_app *app, struct ast_bridge *bridge)</div><div class="ttdoc">Add a bridge subscription to an existing channel subscription. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01428">res/stasis/app.c:1428</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a185ae303b96babfcf6a0139d2d4cad89"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">stasis_app_control::app</a></div><div class="ttdeci">struct stasis_app * app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00090">control.c:90</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00606">bridge.h:606</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="channel_8h_html_a488b7d6f7488bedc53be45d4ef4471c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a488b7d6f7488bedc53be45d4ef4471c9">ast_channel_pbx</a></div><div class="ttdeci">struct ast_pbx * ast_channel_pbx(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00721">channel_internal_api.c:721</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a2529c045cb0c75c4a541a1df122560bf"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">stasis_app_control::bridge_features</a></div><div class="ttdeci">struct ast_bridge_features * bridge_features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00068">control.c:68</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="control_8c_html_a04bd17d4585a2f55499f6673668f9d17"><div class="ttname"><a href="../../de/de3/control_8c.html#a04bd17d4585a2f55499f6673668f9d17">set_interval_hook</a></div><div class="ttdeci">static void set_interval_hook(struct ast_channel *chan)</div><div class="ttdoc">Set a dial timeout interval hook on the channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01254">control.c:1254</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="control_8c_html_a7322606650c7646243726484df16b98e"><div class="ttname"><a href="../../de/de3/control_8c.html#a7322606650c7646243726484df16b98e">bridge_after_cb_failed</a></div><div class="ttdeci">static void bridge_after_cb_failed(enum ast_bridge_after_cb_reason reason, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01170">control.c:1170</a></div></div>
<div class="ttc" id="structstasis__app__control_html_aebc9ecdf679da616c7d975b827e1f4b4"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">stasis_app_control::pbx</a></div><div class="ttdeci">struct ast_pbx * pbx</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00072">control.c:72</a></div></div>
<div class="ttc" id="control_8c_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">stasis_app_control::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00064">control.c:64</a></div></div>
<div class="ttc" id="channel_8h_html_af89b0f98c227230d7180a90627c0901c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af89b0f98c227230d7180a90627c0901c">ast_channel_pbx_set</a></div><div class="ttdeci">void ast_channel_pbx_set(struct ast_channel *chan, struct ast_pbx *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00725">channel_internal_api.c:725</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a316d08ca5342616eaf4b154d784477a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a316d08ca5342616eaf4b154d784477a1">&#9670;&nbsp;</a></span>control_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void control_wait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blocks until <em>control's</em> command queue has a command available. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control to block on. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01515">1515</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00476">ao2_object_get_lockaddr()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00203">ast_cond_wait</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00052">stasis_app_control::wait_cond</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;{</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;   <span class="keywordflow">if</span> (!control) {</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;   }</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;   <span class="keywordflow">while</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>) == 0) {</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="keywordtype">int</span> res = <a class="code" href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a>(&amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#acfbbc301b00500e290316094dfa617be">wait_cond</a>,</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a503b6c7ced96f9b56ec59c115cbeb29a">ao2_object_get_lockaddr</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>));</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error waiting on command queue\n&quot;</span>);</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      }</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;   }</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_acfbbc301b00500e290316094dfa617be"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#acfbbc301b00500e290316094dfa617be">stasis_app_control::wait_cond</a></div><div class="ttdeci">ast_cond_t wait_cond</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00052">control.c:52</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="lock_8h_html_a36233c5520173c095bf732a788356aee"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a></div><div class="ttdeci">#define ast_cond_wait(cond, mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00203">lock.h:203</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a503b6c7ced96f9b56ec59c115cbeb29a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a503b6c7ced96f9b56ec59c115cbeb29a">ao2_object_get_lockaddr</a></div><div class="ttdeci">void * ao2_object_get_lockaddr(void *obj)</div><div class="ttdoc">Return the mutex lock address of an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00476">astobj2.c:476</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:45:44 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
