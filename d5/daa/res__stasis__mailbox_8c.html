<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_stasis_mailbox.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">res_stasis_mailbox.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d4a/astdb_8h_source.html">asterisk/astdb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da5/astobj2_8h_source.html">asterisk/astobj2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d0b/stasis__app__impl_8h_source.html">asterisk/stasis_app_impl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/deb/stasis__app__mailbox_8h_source.html">asterisk/stasis_app_mailbox.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/dd3/res__mwi__external_8h_source.html">asterisk/res_mwi_external.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_stasis_mailbox.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/da8/res__stasis__mailbox_8c__incl.png" border="0" usemap="#res__stasis__mailbox_8c" alt=""/></div>
<map name="res__stasis__mailbox_8c" id="res__stasis__mailbox_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="75,543,159,569"/>
<area shape="rect" id="node22" href="../../de/d4a/astdb_8h.html" title="Persistant data storage (akin to *doze registry) " alt="" coords="1849,87,1973,114"/>
<area shape="rect" id="node23" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1747,543,1882,569"/>
<area shape="rect" id="node33" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="432,169,568,196"/>
<area shape="rect" id="node40" href="../../de/d0b/stasis__app__impl_8h.html" title="Backend API for implementing components of res_stasis. " alt="" coords="1605,80,1749,121"/>
<area shape="rect" id="node44" href="../../d7/deb/stasis__app__mailbox_8h.html" title="Stasis Application Mailbox API. See StasisApplication API&quot; for detailed documentation. " alt="" coords="1437,80,1581,121"/>
<area shape="rect" id="node47" href="../../df/dd3/res__mwi__external_8h.html" title="Core external MWI support. " alt="" coords="1997,87,2195,114"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="5,841,160,868"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="973,617,1110,644"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="50,617,185,644"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="9,916,156,943"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1397,767,1539,793"/>
<area shape="rect" id="node24" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1766,692,1879,719"/>
<area shape="rect" id="node27" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1285,841,1432,868"/>
<area shape="rect" id="node32" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1583,617,1734,644"/>
<area shape="rect" id="node26" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="261,767,323,793"/>
<area shape="rect" id="node30" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="2059,767,2210,793"/>
<area shape="rect" id="node31" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1563,767,1690,793"/>
<area shape="rect" id="node34" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="928,393,1043,420"/>
<area shape="rect" id="node35" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="1023,468,1161,495"/>
<area shape="rect" id="node36" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="1185,468,1332,495"/>
<area shape="rect" id="node37" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1407,468,1564,495"/>
<area shape="rect" id="node38" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="767,468,897,495"/>
<area shape="rect" id="node39" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="392,543,571,569"/>
<area shape="rect" id="node41" href="../../d8/d9c/stasis__app_8h.html" title="Stasis Application API. See Stasis Application API for detailed documentation. " alt="" coords="1553,169,1709,196"/>
<area shape="rect" id="node42" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1561,244,1700,271"/>
<area shape="rect" id="node43" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1268,319,1393,345"/>
<area shape="rect" id="node45" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="1089,244,1201,271"/>
<area shape="rect" id="node46" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="1137,319,1244,345"/>
</map>
</div>
</div>
<p><a href="../../d5/daa/res__stasis__mailbox_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a21cb1f9b717d322c0c676aad39af17f2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#a21cb1f9b717d322c0c676aad39af17f2">MAILBOX_BUCKETS</a>&#160;&#160;&#160;37</td></tr>
<tr class="separator:a21cb1f9b717d322c0c676aad39af17f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede79c8aa64f0578cf62231ae1cf608f"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#aede79c8aa64f0578cf62231ae1cf608f">mailbox_to_json</a> (const struct <a class="el" href="../../d0/d26/structast__mwi__mailbox__object.html">ast_mwi_mailbox_object</a> *<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>)</td></tr>
<tr class="separator:aede79c8aa64f0578cf62231ae1cf608f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22114aafeb76117d8a91b25d7e6f4831"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efc">stasis_mailbox_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#a22114aafeb76117d8a91b25d7e6f4831">stasis_app_mailbox_delete</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a22114aafeb76117d8a91b25d7e6f4831"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a mailbox controlled by ARI.  <a href="#a22114aafeb76117d8a91b25d7e6f4831">More...</a><br /></td></tr>
<tr class="separator:a22114aafeb76117d8a91b25d7e6f4831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eb1b06d47978e0d33c1eea04d143155"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efc">stasis_mailbox_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#a3eb1b06d47978e0d33c1eea04d143155">stasis_app_mailbox_to_json</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> **json)</td></tr>
<tr class="memdesc:a3eb1b06d47978e0d33c1eea04d143155"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert mailbox to JSON.  <a href="#a3eb1b06d47978e0d33c1eea04d143155">More...</a><br /></td></tr>
<tr class="separator:a3eb1b06d47978e0d33c1eea04d143155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5424fb12e75264accf174319f14d7f44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#a5424fb12e75264accf174319f14d7f44">stasis_app_mailbox_update</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, int old_messages, int new_messages)</td></tr>
<tr class="memdesc:a5424fb12e75264accf174319f14d7f44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the state of a mailbox.  <a href="#a5424fb12e75264accf174319f14d7f44">More...</a><br /></td></tr>
<tr class="separator:a5424fb12e75264accf174319f14d7f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3952f6f26db84f6064a67f20615c639"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#ae3952f6f26db84f6064a67f20615c639">stasis_app_mailboxes_to_json</a> ()</td></tr>
<tr class="separator:ae3952f6f26db84f6064a67f20615c639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> , .description = &quot;Stasis application <a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a> support&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .requires = &quot;res_stasis,res_mwi_external&quot; }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/daa/res__stasis__mailbox_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a21cb1f9b717d322c0c676aad39af17f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21cb1f9b717d322c0c676aad39af17f2">&#9670;&nbsp;</a></span>MAILBOX_BUCKETS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAILBOX_BUCKETS&#160;&#160;&#160;37</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of hash buckets for mailboxes </p>

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00035">35</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00159">159</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00159">159</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00159">159</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00144">144</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00149">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aede79c8aa64f0578cf62231ae1cf608f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aede79c8aa64f0578cf62231ae1cf608f">&#9670;&nbsp;</a></span>mailbox_to_json()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* mailbox_to_json </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d26/structast__mwi__mailbox__object.html">ast_mwi_mailbox_object</a> *&#160;</td>
          <td class="paramname"><em>mailbox</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00037">37</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00210">ast_mwi_mailbox_get_id()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00215">ast_mwi_mailbox_get_msgs_new()</a>, and <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00220">ast_mwi_mailbox_get_msgs_old()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00046">stasis_app_mailbox_to_json()</a>, and <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00068">stasis_app_mailboxes_to_json()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: i, s: i}&quot;</span>,</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      <span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="../../df/dd3/res__mwi__external_8h.html#a266486474ef134c7fa8a9f07527c3eb6">ast_mwi_mailbox_get_id</a>(mailbox),</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      <span class="stringliteral">&quot;old_messages&quot;</span>, <a class="code" href="../../df/dd3/res__mwi__external_8h.html#aa887ac1c07c1375cb1609361b444afba">ast_mwi_mailbox_get_msgs_old</a>(mailbox),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      <span class="stringliteral">&quot;new_messages&quot;</span>, <a class="code" href="../../df/dd3/res__mwi__external_8h.html#ac734bf42ec39368f5f4f4f4705d331e0">ast_mwi_mailbox_get_msgs_new</a>(mailbox));</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div><div class="ttc" id="res__mwi__external_8h_html_a266486474ef134c7fa8a9f07527c3eb6"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#a266486474ef134c7fa8a9f07527c3eb6">ast_mwi_mailbox_get_id</a></div><div class="ttdeci">const char * ast_mwi_mailbox_get_id(const struct ast_mwi_mailbox_object *mailbox)</div><div class="ttdoc">Get mailbox id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00210">res_mwi_external.c:210</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="res__mwi__external_8h_html_ac734bf42ec39368f5f4f4f4705d331e0"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#ac734bf42ec39368f5f4f4f4705d331e0">ast_mwi_mailbox_get_msgs_new</a></div><div class="ttdeci">unsigned int ast_mwi_mailbox_get_msgs_new(const struct ast_mwi_mailbox_object *mailbox)</div><div class="ttdoc">Get the number of new messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00215">res_mwi_external.c:215</a></div></div>
<div class="ttc" id="res__mwi__external_8h_html_aa887ac1c07c1375cb1609361b444afba"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#aa887ac1c07c1375cb1609361b444afba">ast_mwi_mailbox_get_msgs_old</a></div><div class="ttdeci">unsigned int ast_mwi_mailbox_get_msgs_old(const struct ast_mwi_mailbox_object *mailbox)</div><div class="ttdoc">Get the number of old messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00220">res_mwi_external.c:220</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a22114aafeb76117d8a91b25d7e6f4831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22114aafeb76117d8a91b25d7e6f4831">&#9670;&nbsp;</a></span>stasis_app_mailbox_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efc">stasis_mailbox_result</a> stasis_app_mailbox_delete </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a mailbox controlled by ARI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the name of the ARI controlled mailbox</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a stasis mailbox application result </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00122">122</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00310">ast_mwi_mailbox_delete()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00187">ast_mwi_mailbox_get()</a>, <a class="el" href="../../df/dd3/res__mwi__external_8h_source.html#l00042">ast_mwi_mailbox_unref</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00204">mailbox</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/deb/stasis__app__mailbox_8h_source.html#l00043">STASIS_MAILBOX_ERROR</a>, <a class="el" href="../../d7/deb/stasis__app__mailbox_8h_source.html#l00041">STASIS_MAILBOX_MISSING</a>, and <a class="el" href="../../d7/deb/stasis__app__mailbox_8h_source.html#l00039">STASIS_MAILBOX_OK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d8a/resource__mailboxes_8c_source.html#l00079">ast_ari_mailboxes_delete()</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/d26/structast__mwi__mailbox__object.html">ast_mwi_mailbox_object</a> *<a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <span class="comment">/* Make sure the mailbox actually exists before we delete it */</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   mailbox = <a class="code" href="../../df/dd3/res__mwi__external_8h.html#a947e0fd640bf768d02b25faee1efaa30">ast_mwi_mailbox_get</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   <span class="keywordflow">if</span> (!mailbox) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efca3b7520c8f228bee4c015a4395f5ca9c7">STASIS_MAILBOX_MISSING</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <a class="code" href="../../df/dd3/res__mwi__external_8h.html#acfbbc72d731ff022bf858774bb061fd8">ast_mwi_mailbox_unref</a>(mailbox);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   mailbox = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   <span class="comment">/* Now delete the mailbox */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/dd3/res__mwi__external_8h.html#a65972ebcde46d356bdfbbee102bffff7">ast_mwi_mailbox_delete</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efca61fbcbd94d56c770802626465b9cedbc">STASIS_MAILBOX_ERROR</a>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efca7f5d05156e1a517f4fe1e42b8172f6a6">STASIS_MAILBOX_OK</a>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a6b49cafa2a3d359a2e865992f551874a"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a></div><div class="ttdeci">static char mailbox[AST_MAX_MAILBOX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00204">chan_mgcp.c:204</a></div></div>
<div class="ttc" id="stasis__app__mailbox_8h_html_af0113fea23593b05299f082ce0e24efca61fbcbd94d56c770802626465b9cedbc"><div class="ttname"><a href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efca61fbcbd94d56c770802626465b9cedbc">STASIS_MAILBOX_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/deb/stasis__app__mailbox_8h_source.html#l00043">stasis_app_mailbox.h:43</a></div></div>
<div class="ttc" id="res__mwi__external_8h_html_a947e0fd640bf768d02b25faee1efaa30"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#a947e0fd640bf768d02b25faee1efaa30">ast_mwi_mailbox_get</a></div><div class="ttdeci">const struct ast_mwi_mailbox_object * ast_mwi_mailbox_get(const char *mailbox_id)</div><div class="ttdoc">Get matching external MWI object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00187">res_mwi_external.c:187</a></div></div>
<div class="ttc" id="structast__mwi__mailbox__object_html"><div class="ttname"><a href="../../d0/d26/structast__mwi__mailbox__object.html">ast_mwi_mailbox_object</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00075">res_mwi_external.c:75</a></div></div>
<div class="ttc" id="stasis__app__mailbox_8h_html_af0113fea23593b05299f082ce0e24efca7f5d05156e1a517f4fe1e42b8172f6a6"><div class="ttname"><a href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efca7f5d05156e1a517f4fe1e42b8172f6a6">STASIS_MAILBOX_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/deb/stasis__app__mailbox_8h_source.html#l00039">stasis_app_mailbox.h:39</a></div></div>
<div class="ttc" id="res__mwi__external_8h_html_a65972ebcde46d356bdfbbee102bffff7"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#a65972ebcde46d356bdfbbee102bffff7">ast_mwi_mailbox_delete</a></div><div class="ttdeci">int ast_mwi_mailbox_delete(const char *mailbox_id)</div><div class="ttdoc">Delete matching external MWI object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00310">res_mwi_external.c:310</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="res__mwi__external_8h_html_acfbbc72d731ff022bf858774bb061fd8"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#acfbbc72d731ff022bf858774bb061fd8">ast_mwi_mailbox_unref</a></div><div class="ttdeci">#define ast_mwi_mailbox_unref(mailbox)</div><div class="ttdoc">Convienience unref function for mailbox object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd3/res__mwi__external_8h_source.html#l00042">res_mwi_external.h:42</a></div></div>
<div class="ttc" id="stasis__app__mailbox_8h_html_af0113fea23593b05299f082ce0e24efca3b7520c8f228bee4c015a4395f5ca9c7"><div class="ttname"><a href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efca3b7520c8f228bee4c015a4395f5ca9c7">STASIS_MAILBOX_MISSING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/deb/stasis__app__mailbox_8h_source.html#l00041">stasis_app_mailbox.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3eb1b06d47978e0d33c1eea04d143155"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eb1b06d47978e0d33c1eea04d143155">&#9670;&nbsp;</a></span>stasis_app_mailbox_to_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efc">stasis_mailbox_result</a> stasis_app_mailbox_to_json </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> **&#160;</td>
          <td class="paramname"><em>json</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert mailbox to JSON. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the name of the mailbox </td></tr>
    <tr><td class="paramname">json</td><td>If the query is successful, this pointer at this address will be set to the JSON representation of the mailbox</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>stasis mailbox result code indicating success or failure and cause </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00046">46</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00187">ast_mwi_mailbox_get()</a>, <a class="el" href="../../df/dd3/res__mwi__external_8h_source.html#l00042">ast_mwi_mailbox_unref</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00204">mailbox</a>, <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00037">mailbox_to_json()</a>, <a class="el" href="../../d7/deb/stasis__app__mailbox_8h_source.html#l00043">STASIS_MAILBOX_ERROR</a>, <a class="el" href="../../d7/deb/stasis__app__mailbox_8h_source.html#l00041">STASIS_MAILBOX_MISSING</a>, and <a class="el" href="../../d7/deb/stasis__app__mailbox_8h_source.html#l00039">STASIS_MAILBOX_OK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d8a/resource__mailboxes_8c_source.html#l00049">ast_ari_mailboxes_get()</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *mailbox_json;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/d26/structast__mwi__mailbox__object.html">ast_mwi_mailbox_object</a> *<a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   mailbox = <a class="code" href="../../df/dd3/res__mwi__external_8h.html#a947e0fd640bf768d02b25faee1efaa30">ast_mwi_mailbox_get</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   <span class="keywordflow">if</span> (!mailbox) {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efca3b7520c8f228bee4c015a4395f5ca9c7">STASIS_MAILBOX_MISSING</a>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;   }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   mailbox_json = <a class="code" href="../../d5/daa/res__stasis__mailbox_8c.html#aede79c8aa64f0578cf62231ae1cf608f">mailbox_to_json</a>(mailbox);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;   <span class="keywordflow">if</span> (!mailbox_json) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <a class="code" href="../../df/dd3/res__mwi__external_8h.html#acfbbc72d731ff022bf858774bb061fd8">ast_mwi_mailbox_unref</a>(mailbox);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efca61fbcbd94d56c770802626465b9cedbc">STASIS_MAILBOX_ERROR</a>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   *json = mailbox_json;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efca7f5d05156e1a517f4fe1e42b8172f6a6">STASIS_MAILBOX_OK</a>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div><div class="ttc" id="chan__mgcp_8c_html_a6b49cafa2a3d359a2e865992f551874a"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a></div><div class="ttdeci">static char mailbox[AST_MAX_MAILBOX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00204">chan_mgcp.c:204</a></div></div>
<div class="ttc" id="stasis__app__mailbox_8h_html_af0113fea23593b05299f082ce0e24efca61fbcbd94d56c770802626465b9cedbc"><div class="ttname"><a href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efca61fbcbd94d56c770802626465b9cedbc">STASIS_MAILBOX_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/deb/stasis__app__mailbox_8h_source.html#l00043">stasis_app_mailbox.h:43</a></div></div>
<div class="ttc" id="res__mwi__external_8h_html_a947e0fd640bf768d02b25faee1efaa30"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#a947e0fd640bf768d02b25faee1efaa30">ast_mwi_mailbox_get</a></div><div class="ttdeci">const struct ast_mwi_mailbox_object * ast_mwi_mailbox_get(const char *mailbox_id)</div><div class="ttdoc">Get matching external MWI object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00187">res_mwi_external.c:187</a></div></div>
<div class="ttc" id="structast__mwi__mailbox__object_html"><div class="ttname"><a href="../../d0/d26/structast__mwi__mailbox__object.html">ast_mwi_mailbox_object</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00075">res_mwi_external.c:75</a></div></div>
<div class="ttc" id="stasis__app__mailbox_8h_html_af0113fea23593b05299f082ce0e24efca7f5d05156e1a517f4fe1e42b8172f6a6"><div class="ttname"><a href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efca7f5d05156e1a517f4fe1e42b8172f6a6">STASIS_MAILBOX_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/deb/stasis__app__mailbox_8h_source.html#l00039">stasis_app_mailbox.h:39</a></div></div>
<div class="ttc" id="res__stasis__mailbox_8c_html_aede79c8aa64f0578cf62231ae1cf608f"><div class="ttname"><a href="../../d5/daa/res__stasis__mailbox_8c.html#aede79c8aa64f0578cf62231ae1cf608f">mailbox_to_json</a></div><div class="ttdeci">static struct ast_json * mailbox_to_json(const struct ast_mwi_mailbox_object *mailbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00037">res_stasis_mailbox.c:37</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="res__mwi__external_8h_html_acfbbc72d731ff022bf858774bb061fd8"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#acfbbc72d731ff022bf858774bb061fd8">ast_mwi_mailbox_unref</a></div><div class="ttdeci">#define ast_mwi_mailbox_unref(mailbox)</div><div class="ttdoc">Convienience unref function for mailbox object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd3/res__mwi__external_8h_source.html#l00042">res_mwi_external.h:42</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="stasis__app__mailbox_8h_html_af0113fea23593b05299f082ce0e24efca3b7520c8f228bee4c015a4395f5ca9c7"><div class="ttname"><a href="../../d7/deb/stasis__app__mailbox_8h.html#af0113fea23593b05299f082ce0e24efca3b7520c8f228bee4c015a4395f5ca9c7">STASIS_MAILBOX_MISSING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/deb/stasis__app__mailbox_8h_source.html#l00041">stasis_app_mailbox.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5424fb12e75264accf174319f14d7f44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5424fb12e75264accf174319f14d7f44">&#9670;&nbsp;</a></span>stasis_app_mailbox_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_mailbox_update </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>old_messages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>new_messages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the state of a mailbox. </p>
<dl class="section note"><dt>Note</dt><dd>Implicitly creates the mailbox.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the ARI controlled mailbox </td></tr>
    <tr><td class="paramname">old_messages</td><td>count of old (read) messages in the mailbox </td></tr>
    <tr><td class="paramname">new_messages</td><td>count of new (unread) messages in the mailbox</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful </dd>
<dd>
-1 on internal error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00101">101</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00196">ast_mwi_mailbox_alloc()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00225">ast_mwi_mailbox_set_msgs_new()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00230">ast_mwi_mailbox_set_msgs_old()</a>, <a class="el" href="../../df/dd3/res__mwi__external_8h_source.html#l00042">ast_mwi_mailbox_unref</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00235">ast_mwi_mailbox_update()</a>, and <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00204">mailbox</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d8a/resource__mailboxes_8c_source.html#l00068">ast_ari_mailboxes_update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d26/structast__mwi__mailbox__object.html">ast_mwi_mailbox_object</a> *<a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   mailbox = <a class="code" href="../../df/dd3/res__mwi__external_8h.html#aeef20e78c30221a5b57cf22b3ff72645">ast_mwi_mailbox_alloc</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <span class="keywordflow">if</span> (!mailbox) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <a class="code" href="../../df/dd3/res__mwi__external_8h.html#abd33c05532eb9c30a3ce0de7c3960bd3">ast_mwi_mailbox_set_msgs_new</a>(mailbox, new_messages);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <a class="code" href="../../df/dd3/res__mwi__external_8h.html#afec1068cec10d3cc203a94cd2f466ed5">ast_mwi_mailbox_set_msgs_old</a>(mailbox, old_messages);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/dd3/res__mwi__external_8h.html#a0d8df819d9be3a34896d4a97ee000878">ast_mwi_mailbox_update</a>(mailbox)) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      res = -1;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   <a class="code" href="../../df/dd3/res__mwi__external_8h.html#acfbbc72d731ff022bf858774bb061fd8">ast_mwi_mailbox_unref</a>(mailbox);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="ttc" id="res__mwi__external_8h_html_aeef20e78c30221a5b57cf22b3ff72645"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#aeef20e78c30221a5b57cf22b3ff72645">ast_mwi_mailbox_alloc</a></div><div class="ttdeci">struct ast_mwi_mailbox_object * ast_mwi_mailbox_alloc(const char *mailbox_id)</div><div class="ttdoc">Allocate an external MWI object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00196">res_mwi_external.c:196</a></div></div>
<div class="ttc" id="res__mwi__external_8h_html_abd33c05532eb9c30a3ce0de7c3960bd3"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#abd33c05532eb9c30a3ce0de7c3960bd3">ast_mwi_mailbox_set_msgs_new</a></div><div class="ttdeci">void ast_mwi_mailbox_set_msgs_new(struct ast_mwi_mailbox_object *mailbox, unsigned int num_msgs)</div><div class="ttdoc">Set the number of new messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00225">res_mwi_external.c:225</a></div></div>
<div class="ttc" id="res__mwi__external_8h_html_a0d8df819d9be3a34896d4a97ee000878"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#a0d8df819d9be3a34896d4a97ee000878">ast_mwi_mailbox_update</a></div><div class="ttdeci">int ast_mwi_mailbox_update(struct ast_mwi_mailbox_object *mailbox)</div><div class="ttdoc">Update the external MWI counts with the given object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00235">res_mwi_external.c:235</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a6b49cafa2a3d359a2e865992f551874a"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a></div><div class="ttdeci">static char mailbox[AST_MAX_MAILBOX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00204">chan_mgcp.c:204</a></div></div>
<div class="ttc" id="structast__mwi__mailbox__object_html"><div class="ttname"><a href="../../d0/d26/structast__mwi__mailbox__object.html">ast_mwi_mailbox_object</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00075">res_mwi_external.c:75</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="res__mwi__external_8h_html_acfbbc72d731ff022bf858774bb061fd8"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#acfbbc72d731ff022bf858774bb061fd8">ast_mwi_mailbox_unref</a></div><div class="ttdeci">#define ast_mwi_mailbox_unref(mailbox)</div><div class="ttdoc">Convienience unref function for mailbox object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd3/res__mwi__external_8h_source.html#l00042">res_mwi_external.h:42</a></div></div>
<div class="ttc" id="res__mwi__external_8h_html_afec1068cec10d3cc203a94cd2f466ed5"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#afec1068cec10d3cc203a94cd2f466ed5">ast_mwi_mailbox_set_msgs_old</a></div><div class="ttdeci">void ast_mwi_mailbox_set_msgs_old(struct ast_mwi_mailbox_object *mailbox, unsigned int num_msgs)</div><div class="ttdoc">Set the number of old messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00230">res_mwi_external.c:230</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae3952f6f26db84f6064a67f20615c639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3952f6f26db84f6064a67f20615c639">&#9670;&nbsp;</a></span>stasis_app_mailboxes_to_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* stasis_app_mailboxes_to_json </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>brief Convert mailboxes to json array</p>
<dl class="section return"><dt>Returns</dt><dd>JSON representation of the mailboxes </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00068">68</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01017">array()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00368">ast_json_array_append()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00352">ast_json_array_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00176">ast_mwi_mailbox_get_all()</a>, <a class="el" href="../../df/dd3/res__mwi__external_8h_source.html#l00042">ast_mwi_mailbox_unref</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00204">mailbox</a>, <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00037">mailbox_to_json()</a>, <a class="el" href="../../d0/dd5/res__ari__mailboxes_8c_source.html#l00322">mailboxes</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d8a/resource__mailboxes_8c_source.html#l00035">ast_ari_mailboxes_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="code" href="../../d9/d1e/func__strings_8c.html#ab6e308b3a41c01e08d252e071511495c">array</a> = <a class="code" href="../../d4/d05/json_8h.html#a48d874eed79fb2bbeb0557440e33ae67">ast_json_array_create</a>();</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d0/dd5/res__ari__mailboxes_8c.html#a29d08f8b2448744d75ca9ebc4e218419">mailboxes</a>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> iter;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/d26/structast__mwi__mailbox__object.html">ast_mwi_mailbox_object</a> *<a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   <span class="keywordflow">if</span> (!array) {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   mailboxes = <a class="code" href="../../df/dd3/res__mwi__external_8h.html#a1c8021f58e6bd737d857742bb6b6794a">ast_mwi_mailbox_get_all</a>();</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   <span class="keywordflow">if</span> (!mailboxes) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(array);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;   iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(mailboxes, 0);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   <span class="keywordflow">for</span> (; (mailbox = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;iter)); <a class="code" href="../../df/dd3/res__mwi__external_8h.html#acfbbc72d731ff022bf858774bb061fd8">ast_mwi_mailbox_unref</a>(mailbox)) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *appending = <a class="code" href="../../d5/daa/res__stasis__mailbox_8c.html#aede79c8aa64f0578cf62231ae1cf608f">mailbox_to_json</a>(mailbox);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <span class="keywordflow">if</span> (!appending || <a class="code" href="../../d4/d05/json_8h.html#a3d675e52f866630a6a03302df2712b8d">ast_json_array_append</a>(array, appending)) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;         <span class="comment">/* Failed to append individual mailbox to the array. Abort. */</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(array);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;         array = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;iter);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(mailboxes, -1);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#ab6e308b3a41c01e08d252e071511495c">array</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div><div class="ttc" id="res__mwi__external_8h_html_a1c8021f58e6bd737d857742bb6b6794a"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#a1c8021f58e6bd737d857742bb6b6794a">ast_mwi_mailbox_get_all</a></div><div class="ttdeci">struct ao2_container * ast_mwi_mailbox_get_all(void)</div><div class="ttdoc">Get all external MWI objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00176">res_mwi_external.c:176</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="res__ari__mailboxes_8c_html_a29d08f8b2448744d75ca9ebc4e218419"><div class="ttname"><a href="../../d0/dd5/res__ari__mailboxes_8c.html#a29d08f8b2448744d75ca9ebc4e218419">mailboxes</a></div><div class="ttdeci">static struct stasis_rest_handlers mailboxes</div><div class="ttdoc">REST handler for /api-docs/mailboxes.json. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd5/res__ari__mailboxes_8c_source.html#l00322">res_ari_mailboxes.c:322</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a6b49cafa2a3d359a2e865992f551874a"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a></div><div class="ttdeci">static char mailbox[AST_MAX_MAILBOX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00204">chan_mgcp.c:204</a></div></div>
<div class="ttc" id="structast__mwi__mailbox__object_html"><div class="ttname"><a href="../../d0/d26/structast__mwi__mailbox__object.html">ast_mwi_mailbox_object</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/res__mwi__external_8c_source.html#l00075">res_mwi_external.c:75</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="json_8h_html_a48d874eed79fb2bbeb0557440e33ae67"><div class="ttname"><a href="../../d4/d05/json_8h.html#a48d874eed79fb2bbeb0557440e33ae67">ast_json_array_create</a></div><div class="ttdeci">struct ast_json * ast_json_array_create(void)</div><div class="ttdoc">Create a empty JSON array. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00352">json.c:352</a></div></div>
<div class="ttc" id="json_8h_html_a3d675e52f866630a6a03302df2712b8d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a3d675e52f866630a6a03302df2712b8d">ast_json_array_append</a></div><div class="ttdeci">int ast_json_array_append(struct ast_json *array, struct ast_json *value)</div><div class="ttdoc">Append to an array. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00368">json.c:368</a></div></div>
<div class="ttc" id="func__strings_8c_html_ab6e308b3a41c01e08d252e071511495c"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#ab6e308b3a41c01e08d252e071511495c">array</a></div><div class="ttdeci">static int array(struct ast_channel *chan, const char *cmd, char *var, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01017">func_strings.c:1017</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="res__stasis__mailbox_8c_html_aede79c8aa64f0578cf62231ae1cf608f"><div class="ttname"><a href="../../d5/daa/res__stasis__mailbox_8c.html#aede79c8aa64f0578cf62231ae1cf608f">mailbox_to_json</a></div><div class="ttdeci">static struct ast_json * mailbox_to_json(const struct ast_mwi_mailbox_object *mailbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00037">res_stasis_mailbox.c:37</a></div></div>
<div class="ttc" id="res__mwi__external_8h_html_acfbbc72d731ff022bf858774bb061fd8"><div class="ttname"><a href="../../df/dd3/res__mwi__external_8h.html#acfbbc72d731ff022bf858774bb061fd8">ast_mwi_mailbox_unref</a></div><div class="ttdeci">#define ast_mwi_mailbox_unref(mailbox)</div><div class="ttdoc">Convienience unref function for mailbox object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd3/res__mwi__external_8h_source.html#l00042">res_mwi_external.h:42</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00149">149</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00316">AST_MODFLAG_GLOBAL_SYMBOLS</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, and <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00144">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;{</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> , .description = &quot;Stasis application <a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a> support&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .requires = &quot;res_stasis,res_mwi_external&quot; }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00159">159</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html#l00159">159</a> of file <a class="el" href="../../d5/daa/res__stasis__mailbox_8c_source.html">res_stasis_mailbox.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:39 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
