<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: autochan.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">autochan.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>"smart" channels  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d6c/autochan_8h_source.html">asterisk/autochan.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d90/linkedlists_8h_source.html">asterisk/linkedlists.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d5b/options_8h_source.html">asterisk/options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for autochan.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d30/autochan_8c__incl.png" border="0" usemap="#autochan_8c" alt=""/></div>
<map name="autochan_8c" id="autochan_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="2017,229,2101,256"/>
<area shape="rect" id="node22" href="../../d8/d6c/autochan_8h.html" title="&quot;smart&quot; channels that update automatically if a channel is masqueraded " alt="" coords="2196,155,2344,181"/>
<area shape="rect" id="node23" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1421,453,1572,480"/>
<area shape="rect" id="node27" href="../../d7/d5b/options_8h.html" title="Options provided by main asterisk program. " alt="" coords="1573,677,1708,704"/>
<area shape="rect" id="node28" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="525,229,639,256"/>
<area shape="rect" id="node36" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1154,80,1293,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1563,752,1718,779"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="1680,453,1817,480"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="2097,304,2232,331"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="1567,827,1714,853"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1103,603,1245,629"/>
<area shape="rect" id="node24" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="867,528,980,555"/>
<area shape="rect" id="node25" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="833,603,896,629"/>
<area shape="rect" id="node26" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="920,603,1047,629"/>
<area shape="rect" id="node29" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="842,304,981,331"/>
<area shape="rect" id="node32" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="671,304,818,331"/>
<area shape="rect" id="node33" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1055,304,1213,331"/>
<area shape="rect" id="node34" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="517,304,647,331"/>
<area shape="rect" id="node35" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1129,379,1264,405"/>
<area shape="rect" id="node37" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="26,155,170,181"/>
<area shape="rect" id="node38" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="345,155,504,181"/>
<area shape="rect" id="node39" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1980,453,2144,480"/>
<area shape="rect" id="node40" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1465,229,1592,256"/>
<area shape="rect" id="node41" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="1193,229,1339,256"/>
<area shape="rect" id="node42" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="195,155,321,181"/>
<area shape="rect" id="node43" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="729,155,835,181"/>
<area shape="rect" id="node44" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1391,379,1541,405"/>
<area shape="rect" id="node45" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="860,155,1021,181"/>
<area shape="rect" id="node46" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="1950,155,2121,181"/>
<area shape="rect" id="node47" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1809,155,1925,181"/>
<area shape="rect" id="node48" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1526,155,1683,181"/>
<area shape="rect" id="node49" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="529,155,654,181"/>
<area shape="rect" id="node50" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1148,155,1299,181"/>
</map>
</div>
</div>
<p><a href="../../d5/d4d/autochan_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9410a77465d5ba8317c33039a1ef3aad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/autochan_8c.html#a9410a77465d5ba8317c33039a1ef3aad">ast_autochan_destroy</a> (struct <a class="el" href="../../d8/d7f/structast__autochan.html">ast_autochan</a> *autochan)</td></tr>
<tr class="memdesc:a9410a77465d5ba8317c33039a1ef3aad"><td class="mdescLeft">&#160;</td><td class="mdescRight">destroy an <a class="el" href="../../d8/d7f/structast__autochan.html">ast_autochan</a> structure  <a href="#a9410a77465d5ba8317c33039a1ef3aad">More...</a><br /></td></tr>
<tr class="separator:a9410a77465d5ba8317c33039a1ef3aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c71b7d2333439b3822440ac14654026"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/autochan_8c.html#a7c71b7d2333439b3822440ac14654026">ast_autochan_new_channel</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *old_chan, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *new_chan)</td></tr>
<tr class="memdesc:a7c71b7d2333439b3822440ac14654026"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch what channel autochans point to.  <a href="#a7c71b7d2333439b3822440ac14654026">More...</a><br /></td></tr>
<tr class="separator:a7c71b7d2333439b3822440ac14654026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae303d7a863e7cac5c4897b200da77217"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d8/d7f/structast__autochan.html">ast_autochan</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/autochan_8c.html#ae303d7a863e7cac5c4897b200da77217">ast_autochan_setup</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:ae303d7a863e7cac5c4897b200da77217"><td class="mdescLeft">&#160;</td><td class="mdescRight">set up a new <a class="el" href="../../d8/d7f/structast__autochan.html">ast_autochan</a> structure  <a href="#ae303d7a863e7cac5c4897b200da77217">More...</a><br /></td></tr>
<tr class="separator:ae303d7a863e7cac5c4897b200da77217"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>"smart" channels </p>
<dl class="section author"><dt>Author</dt><dd>Mark Michelson <a href="#" onclick="location.href='mai'+'lto:'+'mmi'+'ch'+'els'+'on'+'@di'+'gi'+'um.'+'co'+'m'; return false;">mmich<span style="display: none;">.nosp@m.</span>elso<span style="display: none;">.nosp@m.</span>n@dig<span style="display: none;">.nosp@m.</span>ium.<span style="display: none;">.nosp@m.</span>com</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d5/d4d/autochan_8c_source.html">autochan.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a9410a77465d5ba8317c33039a1ef3aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9410a77465d5ba8317c33039a1ef3aad">&#9670;&nbsp;</a></span>ast_autochan_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_autochan_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d7f/structast__autochan.html">ast_autochan</a> *&#160;</td>
          <td class="paramname"><em>autochan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>destroy an <a class="el" href="../../d8/d7f/structast__autochan.html">ast_autochan</a> structure </p>
<p>Removes the passed-in autochan from the list of autochans and unrefs the channel that is pointed to. Also frees the autochan struct itself. This function will unref the channel reference which was made in ast_autochan_setup</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">autochan</td><td>The autochan that you wish to destroy</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d4d/autochan_8c_source.html#l00064">64</a> of file <a class="el" href="../../d5/d4d/autochan_8c_source.html">autochan.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d6c/autochan_8h_source.html#l00075">ast_autochan_channel_lock</a>, <a class="el" href="../../d8/d6c/autochan_8h_source.html#l00084">ast_autochan_channel_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00872">ast_channel_autochans()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00186">ast_mutex_destroy</a>, <a class="el" href="../../d8/d6c/autochan_8h_source.html#l00033">ast_autochan::chan</a>, <a class="el" href="../../d8/d7f/structast__autochan.html#a8080a18669cd31b2c6bb7cae80c95927">ast_autochan::list</a>, and <a class="el" href="../../d8/d6c/autochan_8h_source.html#l00035">ast_autochan::lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00640">channel_spy()</a>, <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00892">common_exec()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00933">launch_monitor_thread()</a>, and <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00709">mixmonitor_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d7f/structast__autochan.html">ast_autochan</a> *autochan_iter;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;   <a class="code" href="../../d8/d6c/autochan_8h.html#a9d985413624c2500ae36de4bc3d8a3b8">ast_autochan_channel_lock</a>(autochan);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a6ca2ac36e55b1064c66d2a0c90d3c4e0">ast_channel_autochans</a>(autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), autochan_iter, <a class="code" href="../../d8/d7f/structast__autochan.html#a8080a18669cd31b2c6bb7cae80c95927">list</a>) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keywordflow">if</span> (autochan_iter == autochan) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d8/d7f/structast__autochan.html#a8080a18669cd31b2c6bb7cae80c95927">list</a>);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Removed autochan %p from the list, about to free it\n&quot;</span>, autochan);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   <a class="code" href="../../d8/d6c/autochan_8h.html#afd3962988a64d457ceb0ad6e1ee1f400">ast_autochan_channel_unlock</a>(autochan);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">chan</a> = <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a>(&amp;autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(autochan);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div><div class="ttc" id="autochan_8h_html_a9d985413624c2500ae36de4bc3d8a3b8"><div class="ttname"><a href="../../d8/d6c/autochan_8h.html#a9d985413624c2500ae36de4bc3d8a3b8">ast_autochan_channel_lock</a></div><div class="ttdeci">#define ast_autochan_channel_lock(autochan)</div><div class="ttdoc">Lock the autochan&amp;#39;s channel lock. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00075">autochan.h:75</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="structast__autochan_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">ast_autochan::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00033">autochan.h:33</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structast__autochan_html_a8080a18669cd31b2c6bb7cae80c95927"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html#a8080a18669cd31b2c6bb7cae80c95927">ast_autochan::list</a></div><div class="ttdeci">struct ast_autochan::@226 list</div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="channel_8h_html_a6ca2ac36e55b1064c66d2a0c90d3c4e0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6ca2ac36e55b1064c66d2a0c90d3c4e0">ast_channel_autochans</a></div><div class="ttdeci">struct ast_autochan_list * ast_channel_autochans(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00872">channel_internal_api.c:872</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="autochan_8h_html_afd3962988a64d457ceb0ad6e1ee1f400"><div class="ttname"><a href="../../d8/d6c/autochan_8h.html#afd3962988a64d457ceb0ad6e1ee1f400">ast_autochan_channel_unlock</a></div><div class="ttdeci">#define ast_autochan_channel_unlock(autochan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00084">autochan.h:84</a></div></div>
<div class="ttc" id="lock_8h_html_ab8977a71822daa556f19f30ba6eec765"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a></div><div class="ttdeci">#define ast_mutex_destroy(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00186">lock.h:186</a></div></div>
<div class="ttc" id="structast__autochan_html"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html">ast_autochan</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00032">autochan.h:32</a></div></div>
<div class="ttc" id="structast__autochan_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html#adf04f66344e3fb0a6f6a69bf39d19902">ast_autochan::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00035">autochan.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c71b7d2333439b3822440ac14654026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c71b7d2333439b3822440ac14654026">&#9670;&nbsp;</a></span>ast_autochan_new_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_autochan_new_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>old_chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>new_chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch what channel autochans point to. </p>
<p>Traverses the list of autochans. All autochans which point to old_chan will be updated to point to new_chan instead. Currently this is only called during an <a class="el" href="../../d5/d7b/channel_8h.html#a8043e35bcff5fb2d410dd161ac6e4360" title="Move a channel from its current location to a new location. ">ast_channel_move()</a> operation in channel.c.</p>
<dl class="section pre"><dt>Precondition</dt><dd>Both channels must be locked before calling this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_chan</td><td>The channel that autochans may currently point to </td></tr>
    <tr><td class="paramname">new_chan</td><td>The channel that we want to point those autochans to now</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d4d/autochan_8c_source.html#l00086">86</a> of file <a class="el" href="../../d5/d4d/autochan_8c_source.html">autochan.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00872">ast_channel_autochans()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00782">AST_LIST_APPEND_LIST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d8/d6c/autochan_8h_source.html#l00033">ast_autochan::chan</a>, <a class="el" href="../../d8/d7f/structast__autochan.html#a8080a18669cd31b2c6bb7cae80c95927">ast_autochan::list</a>, and <a class="el" href="../../d8/d6c/autochan_8h_source.html#l00035">ast_autochan::lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l06952">channel_do_masquerade()</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d7f/structast__autochan.html">ast_autochan</a> *autochan;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ad66405f1d0b9e1fb484643d9a36e94ed">AST_LIST_APPEND_LIST</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a6ca2ac36e55b1064c66d2a0c90d3c4e0">ast_channel_autochans</a>(new_chan), <a class="code" href="../../d5/d7b/channel_8h.html#a6ca2ac36e55b1064c66d2a0c90d3c4e0">ast_channel_autochans</a>(old_chan), <a class="code" href="../../d8/d7f/structast__autochan.html#a8080a18669cd31b2c6bb7cae80c95927">list</a>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <span class="comment">/* Deadlock avoidance is not needed since the channels are already locked. */</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a6ca2ac36e55b1064c66d2a0c90d3c4e0">ast_channel_autochans</a>(new_chan), autochan, <a class="code" href="../../d8/d7f/structast__autochan.html#a8080a18669cd31b2c6bb7cae80c95927">list</a>) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="keywordflow">if</span> (autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">chan</a> == old_chan) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;         autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">chan</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(new_chan);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(old_chan);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Autochan %p used to hold channel %s (%p) but now holds channel %s (%p)\n&quot;</span>,</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;               autochan, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(old_chan), old_chan, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(new_chan), new_chan);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;   }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div><div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="structast__autochan_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">ast_autochan::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00033">autochan.h:33</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="structast__autochan_html_a8080a18669cd31b2c6bb7cae80c95927"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html#a8080a18669cd31b2c6bb7cae80c95927">ast_autochan::list</a></div><div class="ttdeci">struct ast_autochan::@226 list</div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_a6ca2ac36e55b1064c66d2a0c90d3c4e0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6ca2ac36e55b1064c66d2a0c90d3c4e0">ast_channel_autochans</a></div><div class="ttdeci">struct ast_autochan_list * ast_channel_autochans(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00872">channel_internal_api.c:872</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structast__autochan_html"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html">ast_autochan</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00032">autochan.h:32</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="structast__autochan_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html#adf04f66344e3fb0a6f6a69bf39d19902">ast_autochan::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00035">autochan.h:35</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ad66405f1d0b9e1fb484643d9a36e94ed"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ad66405f1d0b9e1fb484643d9a36e94ed">AST_LIST_APPEND_LIST</a></div><div class="ttdeci">#define AST_LIST_APPEND_LIST(head, list, field)</div><div class="ttdoc">Appends a whole list to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00782">linkedlists.h:782</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae303d7a863e7cac5c4897b200da77217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae303d7a863e7cac5c4897b200da77217">&#9670;&nbsp;</a></span>ast_autochan_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d7f/structast__autochan.html">ast_autochan</a>* ast_autochan_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set up a new <a class="el" href="../../d8/d7f/structast__autochan.html">ast_autochan</a> structure </p>
<p>Allocates and initializes an <a class="el" href="../../d8/d7f/structast__autochan.html">ast_autochan</a>, sets the autochan's chan pointer to point to the chan parameter, and adds the autochan to the global list of autochans. The newly- created autochan is returned to the caller. This function will cause the refcount of chan to increase by 1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel our new autochan will point to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>autochans must be freed using ast_autochan_destroy</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Failure </td></tr>
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d4d/autochan_8c_source.html#l00038">38</a> of file <a class="el" href="../../d5/d4d/autochan_8c_source.html">autochan.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00872">ast_channel_autochans()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00184">ast_mutex_init</a>, <a class="el" href="../../d8/d6c/autochan_8h_source.html#l00033">ast_autochan::chan</a>, <a class="el" href="../../d8/d7f/structast__autochan.html#a8080a18669cd31b2c6bb7cae80c95927">ast_autochan::list</a>, <a class="el" href="../../d8/d6c/autochan_8h_source.html#l00035">ast_autochan::lock</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00605">attach_barge()</a>, <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00892">common_exec()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00933">launch_monitor_thread()</a>, and <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00858">next_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d7f/structast__autochan.html">ast_autochan</a> *autochan;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;   }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;   <span class="keywordflow">if</span> (!(autochan = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*autochan)))) {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;   }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">chan</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(chan);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Created autochan %p to hold channel %s (%p)\n&quot;</span>,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      autochan, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), chan);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;   <span class="comment">/* autochan is still private, no need for ast_autochan_channel_lock() */</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a6ca2ac36e55b1064c66d2a0c90d3c4e0">ast_channel_autochans</a>(autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), autochan, <a class="code" href="../../d8/d7f/structast__autochan.html#a8080a18669cd31b2c6bb7cae80c95927">list</a>);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   <span class="keywordflow">return</span> autochan;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__autochan_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">ast_autochan::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00033">autochan.h:33</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__autochan_html_a8080a18669cd31b2c6bb7cae80c95927"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html#a8080a18669cd31b2c6bb7cae80c95927">ast_autochan::list</a></div><div class="ttdeci">struct ast_autochan::@226 list</div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="channel_8h_html_a6ca2ac36e55b1064c66d2a0c90d3c4e0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6ca2ac36e55b1064c66d2a0c90d3c4e0">ast_channel_autochans</a></div><div class="ttdeci">struct ast_autochan_list * ast_channel_autochans(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00872">channel_internal_api.c:872</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="lock_8h_html_a76e8ed6bb354be6c6dd9e51acc1d7a1b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a></div><div class="ttdeci">#define ast_mutex_init(pmutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00184">lock.h:184</a></div></div>
<div class="ttc" id="structast__autochan_html"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html">ast_autochan</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00032">autochan.h:32</a></div></div>
<div class="ttc" id="structast__autochan_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html#adf04f66344e3fb0a6f6a69bf39d19902">ast_autochan::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00035">autochan.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:51 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
