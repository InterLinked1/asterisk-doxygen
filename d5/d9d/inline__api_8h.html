<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: inline_api.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">inline_api.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Inlinable API function macro.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d77/inline__api_8h__dep__incl.png" border="0" usemap="#inline__api_8hdep" alt=""/></div>
<map name="inline__api_8hdep" id="inline__api_8hdep">
<area shape="rect" id="node2" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="3120,80,3183,107"/>
<area shape="rect" id="node4" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="966,304,1092,331"/>
<area shape="rect" id="node10" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="3520,304,3592,331"/>
<area shape="rect" id="node36" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="2764,155,2822,181"/>
<area shape="rect" id="node37" href="../../d5/da5/astobj2_8h.html" title="astobj2.h" alt="" coords="1232,229,1314,256"/>
<area shape="rect" id="node41" href="../../dd/dbb/check__expr_8c.html" title="check_expr.c" alt="" coords="4376,229,4480,256"/>
<area shape="rect" id="node48" href="../../d4/dc5/extconf_8c.html" title="extconf.c" alt="" coords="4707,155,4786,181"/>
<area shape="rect" id="node49" href="../../d1/d0f/stringfields_8h.html" title="stringfields.h" alt="" coords="1374,155,1476,181"/>
<area shape="rect" id="node50" href="../../d7/d50/phoneprov_8h.html" title="phoneprov.h" alt="" coords="4912,80,5013,107"/>
<area shape="rect" id="node3" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="2262,229,2322,256"/>
<area shape="rect" id="node5" href="../../d2/df4/cdr__custom_8c.html" title="Custom Comma Separated Value CDR records. " alt="" coords="2688,379,2796,405"/>
<area shape="rect" id="node6" href="../../d1/dc8/iostream_8c.html" title="iostream.c" alt="" coords="1694,379,1785,405"/>
<area shape="rect" id="node7" href="../../d1/d22/logger_8c.html" title="Asterisk Logger. " alt="" coords="893,379,965,405"/>
<area shape="rect" id="node8" href="../../de/d1f/main_2utils_8c.html" title="Utility functions. " alt="" coords="1366,379,1425,405"/>
<area shape="rect" id="node9" href="../../d7/d4a/res__odbc_8c.html" title="ODBC resource manager. " alt="" coords="778,379,869,405"/>
<area shape="rect" id="node11" href="../../de/dfe/app__minivm_8c.html" title="MiniVoiceMail &#45; A Minimal Voicemail System for Asterisk. " alt="" coords="3734,379,3844,405"/>
<area shape="rect" id="node12" href="../../dc/df4/app__voicemail_8c.html" title="Comedian Mail &#45; Voicemail System. " alt="" coords="2688,453,2812,480"/>
<area shape="rect" id="node13" href="../../dc/dca/smdi_8h.html" title="SMDI support for Asterisk. " alt="" coords="3644,379,3710,405"/>
<area shape="rect" id="node14" href="../../df/ddb/cdr__adaptive__odbc_8c.html" title="Adaptive ODBC CDR backend. " alt="" coords="4008,379,4162,405"/>
<area shape="rect" id="node15" href="../../d9/d47/cdr__beanstalkd_8c.html" title="Asterisk Beanstalkd CDR records. " alt="" coords="3349,379,3480,405"/>
<area shape="rect" id="node16" href="../../df/d5a/cdr__manager_8c.html" title="Asterisk Call Manager CDR records. " alt="" coords="3504,379,3621,405"/>
<area shape="rect" id="node17" href="../../d1/ddf/cel__odbc_8c.html" title="ODBC CEL backend. " alt="" coords="4186,379,4275,405"/>
<area shape="rect" id="node18" href="../../de/d35/cel__tds_8c.html" title="FreeTDS CEL logger. " alt="" coords="4442,379,4520,405"/>
<area shape="rect" id="node19" href="../../d7/d9b/chan__misdn_8c.html" title="the chan_misdn channel driver for Asterisk " alt="" coords="2987,379,3098,405"/>
<area shape="rect" id="node20" href="../../d2/d9d/main_2config_8c.html" title="Configuration File Parser. " alt="" coords="3203,379,3274,405"/>
<area shape="rect" id="node21" href="../../dd/d43/http_8c.html" title="http server for AMI access " alt="" coords="662,379,721,405"/>
<area shape="rect" id="node22" href="../../db/d94/pbx_8c.html" title="Core PBX routines. " alt="" coords="3122,379,3178,405"/>
<area shape="rect" id="node23" href="../../dd/d27/res__adsi_8c.html" title="ADSI support. " alt="" coords="4544,379,4631,405"/>
<area shape="rect" id="node24" href="../../d3/d97/res__musiconhold_8c.html" title="Routines implementing music on hold. " alt="" coords="2522,379,2664,405"/>
<area shape="rect" id="node25" href="../../dd/d95/res__pktccops_8c.html" title="PacketCable COPS. " alt="" coords="4300,379,4417,405"/>
<area shape="rect" id="node26" href="../../dc/dd5/callerid_8c.html" title="CallerID Generation support. " alt="" coords="2854,304,2932,331"/>
<area shape="rect" id="node27" href="../../df/d98/json_8c.html" title="JSON abstraction layer. " alt="" coords="1665,304,1724,331"/>
<area shape="rect" id="node28" href="../../da/dbe/rtp__engine_8c.html" title="Pluggable RTP Architecture. " alt="" coords="1900,304,2001,331"/>
<area shape="rect" id="node29" href="../../d7/d01/say_8c.html" title="Say numbers and dates (maybe words one day too) " alt="" coords="3088,304,3141,331"/>
<area shape="rect" id="node30" href="../../dc/dd7/smoother_8c.html" title="Frame smoother manipulation routines. " alt="" coords="1463,304,1558,331"/>
<area shape="rect" id="node31" href="../../db/d68/tdd_8c.html" title="TTY/TDD Generation support. " alt="" coords="3008,304,3063,331"/>
<area shape="rect" id="node32" href="../../d8/db9/test_8c.html" title="Unit Test Framework. " alt="" coords="1582,304,1641,331"/>
<area shape="rect" id="node33" href="../../d3/d62/timing_8c.html" title="Timing source management. " alt="" coords="2756,304,2830,331"/>
<area shape="rect" id="node34" href="../../d9/dd4/pbx__spool_8c.html" title="Full&#45;featured outgoing call spool support. " alt="" coords="2482,304,2579,331"/>
<area shape="rect" id="node35" href="../../d6/d14/parking__tests_8c.html" title="Call Parking Unit Tests. " alt="" coords="1116,304,1235,331"/>
<area shape="rect" id="node38" href="../../d9/d6d/cli__commands_8c.html" title="PJSIP channel CLI functions. " alt="" coords="73,304,198,331"/>
<area shape="rect" id="node39" href="../../d4/deb/taskprocessor_8c.html" title="Maintain a container of uniquely&#45;named taskprocessor threads that can be shared across modules..." alt="" coords="273,304,396,331"/>
<area shape="rect" id="node40" href="../../df/dda/pjsip__options_8c.html" title="pjsip_options.c" alt="" coords="471,304,587,331"/>
<area shape="rect" id="node42" href="../../db/dce/say_8h.html" title="Say numbers and dates (maybe words one day too) " alt="" coords="3368,229,3423,256"/>
<area shape="rect" id="node43" href="../../d6/dda/iLBC__test_8c.html" title="iLBC_test.c" alt="" coords="3621,155,3714,181"/>
<area shape="rect" id="node44" href="../../dd/d7c/eagi__proxy_8c.html" title="eagi_proxy.c" alt="" coords="3739,155,3839,181"/>
<area shape="rect" id="node45" href="../../d1/d6e/main_2stdtime_2private_8h.html" title="private.h" alt="" coords="3863,155,3942,181"/>
<area shape="rect" id="node46" href="../../df/d73/time_8c.html" title="Date/Time utility functions. " alt="" coords="3966,155,4028,181"/>
<area shape="rect" id="node47" href="../../d0/dff/res__chan__stats_8c.html" title="res_chan_stats.c" alt="" coords="4053,155,4184,181"/>
</map>
</div>
</div>
<p><a href="../../d5/d9d/inline__api_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:abf50cd4e5859e17bb3d199b805df8fe0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(hdr,  body)&#160;&#160;&#160;hdr; extern <a class="el" href="../../d7/df9/log2comp_8h.html#a00d24c7231be28dbaf71f5408f30e44c">inline</a> hdr body</td></tr>
<tr class="separator:abf50cd4e5859e17bb3d199b805df8fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Inlinable API function macro. </p>
<p>Small API functions that are candidates for inlining need to be specially declared and defined, to ensure that the 'right thing' always happens. For example:</p><ul>
<li>there must <em>always</em> be a non-inlined version of the function available for modules compiled out of the tree to link to</li>
<li>references to a function that cannot be inlined (for any reason that the compiler deems proper) must devolve into an 'extern' reference, instead of 'static', so that multiple copies of the function body are not built in different modules. However, since this doesn't work for clang, we go with 'static' anyway and hope for the best!</li>
<li>when DISABLE_INLINE is defined, inlining should be disabled completely, even if the compiler is configured to support it</li>
</ul>
<p>The AST_INLINE_API macro allows this to happen automatically, when used to define your function. Proper usage is as follows:</p><ul>
<li>define your function one place, in a header file, using the macro to wrap the function (see <a class="el" href="../../d6/d90/strings_8h.html" title="String manipulation functions. ">strings.h</a> or <a class="el" href="../../de/df7/time_8h.html" title="Time-related functions and macros. ">time.h</a> for examples)</li>
<li>choose a module to 'host' the function body for non-inline usages, and in that module <em>only</em>, define AST_API_MODULE before including the header file </li>
</ul>

<p class="definition">Definition in file <a class="el" href="../../d5/d9d/inline__api_8h_source.html">inline_api.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="abf50cd4e5859e17bb3d199b805df8fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf50cd4e5859e17bb3d199b805df8fe0">&#9670;&nbsp;</a></span>AST_INLINE_API</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_INLINE_API</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hdr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">body&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;hdr; extern <a class="el" href="../../d7/df9/log2comp_8h.html#a00d24c7231be28dbaf71f5408f30e44c">inline</a> hdr body</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d7/d80/_2usr_2src_2asterisk-18_85_80_2include_2asterisk_2strings_8h-example.html#a13">/usr/src/asterisk-18.5.0/include/asterisk/strings.h</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../d5/d9d/inline__api_8h_source.html#l00054">54</a> of file <a class="el" href="../../d5/d9d/inline__api_8h_source.html">inline_api.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/dc5/extconf_8c_source.html#l00634">ast_atomic_dec_and_test()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l00593">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, and <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:00 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
