<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: features.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">features.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Routines implementing call features as call pickup, parking and transfer.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d78/__private_8h_source.html">asterisk/_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/dd3/main_2features__config_8h_source.html">features_config.h</a>&quot;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d4d/file_8h_source.html">asterisk/file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/da3/causes_8h_source.html">asterisk/causes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d39/translate_8h_source.html">asterisk/translate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/dce/say_8h_source.html">asterisk/say.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d47/features_8h_source.html">asterisk/features.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d07/musiconhold_8h_source.html">asterisk/musiconhold.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html">asterisk/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d45/manager_8h_source.html">asterisk/manager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/da2/devicestate_8h_source.html">asterisk/devicestate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d79/audiohook_8h_source.html">asterisk/audiohook.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/dc3/global__datastores_8h_source.html">asterisk/global_datastores.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da5/astobj2_8h_source.html">asterisk/astobj2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/ddc/test_8h_source.html">asterisk/test.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d56/bridge_8h_source.html">asterisk/bridge.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d7a/bridge__features_8h_source.html">asterisk/bridge_features.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d1e/bridge__basic_8h_source.html">asterisk/bridge_basic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d85/bridge__after_8h_source.html">asterisk/bridge_after.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d79/stasis_8h_source.html">asterisk/stasis.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d4a/stasis__channels_8h_source.html">asterisk/stasis_channels.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html">asterisk/features_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/max__forwards_8h_source.html">asterisk/max_forwards.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d95/stream_8h_source.html">asterisk/stream.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for features.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d36/features_8c__incl.png" border="0" usemap="#features_8c" alt=""/></div>
<map name="features_8c" id="features_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="22,453,106,480"/>
<area shape="rect" id="node8" href="../../d4/d78/__private_8h.html" title="Prototypes for public functions only of internal interest,. " alt="" coords="1714,80,1853,107"/>
<area shape="rect" id="node9" href="../../da/dd3/main_2features__config_8h.html" title="features_config.h" alt="" coords="1878,80,2010,107"/>
<area shape="rect" id="node14" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="571,528,684,555"/>
<area shape="rect" id="node21" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="1453,304,1560,331"/>
<area shape="rect" id="node24" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="716,304,854,331"/>
<area shape="rect" id="node25" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="130,453,264,480"/>
<area shape="rect" id="node26" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="1251,379,1378,405"/>
<area shape="rect" id="node27" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1009,453,1124,480"/>
<area shape="rect" id="node28" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="576,379,701,405"/>
<area shape="rect" id="node29" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="555,453,700,480"/>
<area shape="rect" id="node30" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="1120,155,1231,181"/>
<area shape="rect" id="node31" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="1056,229,1218,256"/>
<area shape="rect" id="node32" href="../../d4/da3/causes_8h.html" title="Internal Asterisk hangup causes. " alt="" coords="2248,80,2381,107"/>
<area shape="rect" id="node33" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="888,304,1024,331"/>
<area shape="rect" id="node34" href="../../db/d39/translate_8h.html" title="Support for translation of data formats. translate.c. " alt="" coords="2406,80,2551,107"/>
<area shape="rect" id="node35" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="1242,229,1354,256"/>
<area shape="rect" id="node36" href="../../db/dce/say_8h.html" title="Say numbers and dates (maybe words one day too) " alt="" coords="1430,229,1538,256"/>
<area shape="rect" id="node37" href="../../de/d47/features_8h.html" title="Call Parking and Pickup API Includes code and algorithms from the Zapata library. ..." alt="" coords="989,80,1130,107"/>
<area shape="rect" id="node38" href="../../d4/d56/bridge_8h.html" title="Bridging API. " alt="" coords="741,155,869,181"/>
<area shape="rect" id="node39" href="../../dc/d7a/bridge__features_8h.html" title="Channel Bridging API. " alt="" coords="691,229,879,256"/>
<area shape="rect" id="node40" href="../../dc/d07/musiconhold_8h.html" title="Music on hold handling. " alt="" coords="2575,80,2744,107"/>
<area shape="rect" id="node41" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="2778,155,2880,181"/>
<area shape="rect" id="node42" href="../../d0/d79/audiohook_8h.html" title="Audiohooks Architecture. " alt="" coords="274,304,429,331"/>
<area shape="rect" id="node43" href="../../d2/dc3/global__datastores_8h.html" title="globally accessible channel datastores " alt="" coords="893,155,1096,181"/>
<area shape="rect" id="node44" href="../../d2/ddc/test_8h.html" title="Test Framework API. " alt="" coords="2820,80,2934,107"/>
<area shape="rect" id="node45" href="../../d4/d1e/bridge__basic_8h.html" title="Basic bridge subclass API. " alt="" coords="2958,80,3126,107"/>
<area shape="rect" id="node46" href="../../d8/d85/bridge__after_8h.html" title="After Bridge Execution API. " alt="" coords="3151,80,3315,107"/>
<area shape="rect" id="node47" href="../../d9/d4a/stasis__channels_8h.html" title="asterisk/stasis_channels.h" alt="" coords="426,229,616,256"/>
<area shape="rect" id="node48" href="../../d0/daa/include_2asterisk_2features__config_8h.html" title="asterisk/features_config.h" alt="" coords="3340,80,3526,107"/>
<area shape="rect" id="node49" href="../../d3/d93/max__forwards_8h.html" title="asterisk/max_forwards.h" alt="" coords="3551,80,3728,107"/>
<area shape="rect" id="node50" href="../../d8/d95/stream_8h.html" title="Media Stream API. " alt="" coords="3752,80,3887,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="397,677,552,704"/>
<area shape="rect" id="node4" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="234,528,371,555"/>
<area shape="rect" id="node7" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="23,528,158,555"/>
<area shape="rect" id="node5" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="326,603,468,629"/>
<area shape="rect" id="node15" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1107,603,1170,629"/>
<area shape="rect" id="node16" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="749,677,896,704"/>
<area shape="rect" id="node19" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="544,603,695,629"/>
<area shape="rect" id="node20" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="956,603,1083,629"/>
</map>
</div>
</div>
<p><a href="../../d5/d92/features_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd9/structast__bridge__thread__obj.html">ast_bridge_thread_obj</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/db3/structast__dial__features.html">ast_dial_features</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:afaf9a3cf32370efd622b461ac53de64e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eac6c5fc9f2156b5d690587dc1fdcbc6b3">BRIDGE_OPT_PLAYTONE</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eab0eb8a377bf253cf368bf70f0b59fc31">OPT_CALLEE_HANGUP</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea9f03cca4e2ee93778ae8ed2db279587d">OPT_CALLER_HANGUP</a> = (1 &lt;&lt; 2), 
<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea3de43f39b62e2f782e8eac89a7dcc164">OPT_DURATION_LIMIT</a> = (1 &lt;&lt; 3), 
<br />
&#160;&#160;<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea532332f4745455d1129c3cf0d25cb5d3">OPT_DURATION_STOP</a> = (1 &lt;&lt; 4), 
<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea6faa363811a3b467116d290d52d967da">OPT_CALLEE_TRANSFER</a> = (1 &lt;&lt; 5), 
<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eadb3ae0c7823e3bd3f4a45db3d03f33cb">OPT_CALLER_TRANSFER</a> = (1 &lt;&lt; 6), 
<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea98ad2a6cc60abe9a8cfd5f040fa9b4a4">OPT_CALLEE_MONITOR</a> = (1 &lt;&lt; 7), 
<br />
&#160;&#160;<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea8b131c263901244154b7b85ec05e6521">OPT_CALLER_MONITOR</a> = (1 &lt;&lt; 8), 
<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea35080c34427591a22d34370e0a8ebab4">OPT_CALLEE_PARK</a> = (1 &lt;&lt; 9), 
<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea82c1e40f3b210bce47d00d44dec0b8fd">OPT_CALLER_PARK</a> = (1 &lt;&lt; 10), 
<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eacc3e8440cd8f27440c7f0c27f67b3e3d">OPT_CALLEE_KILL</a> = (1 &lt;&lt; 11), 
<br />
&#160;&#160;<a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea78690a8e97e0eac7d0982b81d5cadac8">OPT_CALLEE_GO_ON</a> = (1 &lt;&lt; 12)
<br />
 }</td></tr>
<tr class="separator:afaf9a3cf32370efd622b461ac53de64e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83f72dd946185574b53be115821f6876"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876ab92f4dda872862b445c7ee78b5eca872">OPT_ARG_DURATION_LIMIT</a> = 0, 
<a class="el" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876a22d5403ad37aee04f7beb26b97518b33">OPT_ARG_DURATION_STOP</a>, 
<a class="el" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876a1d0a4362e89e71be70b2ca0d47616c99">OPT_ARG_CALLEE_GO_ON</a>, 
<a class="el" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876aec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a>
 }</td></tr>
<tr class="separator:a83f72dd946185574b53be115821f6876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad734cf14eba6d25d25ffe0cbf9d5cac8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8">feature_interpret_op</a> { <a class="el" href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8abf76b8944a1ac35aafbe2f3552bef372">FEATURE_INTERPRET_DETECT</a>, 
<a class="el" href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8aa6bdffdbaadf19af543d4cabf4387810">FEATURE_INTERPRET_DO</a>, 
<a class="el" href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8a8f5f0dd42458225662e3ddaabb1cb5d2">FEATURE_INTERPRET_CHECK</a>
 }</td></tr>
<tr class="separator:ad734cf14eba6d25d25ffe0cbf9d5cac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987630c4be5b332f56b6f1119bbe87d2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2">play_tone_action</a> { <a class="el" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a7a847698b91ee8df79764edf2b1f1630">PLAYTONE_NONE</a> = 0, 
<a class="el" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0742f5ef5a28f72b83328283be335f0f">PLAYTONE_CHANNEL1</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0c4492b730345653d652fcc7933d3410">PLAYTONE_CHANNEL2</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2acce6aaaea7c3cb013cc91b091364bc7a">PLAYTONE_BOTH</a> = PLAYTONE_CHANNEL1 | PLAYTONE_CHANNEL2
 }</td></tr>
<tr class="separator:a987630c4be5b332f56b6f1119bbe87d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51755e20bdcffb65c53468b7c4eead32"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a51755e20bdcffb65c53468b7c4eead32">action_bridge</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m)</td></tr>
<tr class="memdesc:a51755e20bdcffb65c53468b7c4eead32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bridge channels together.  <a href="#a51755e20bdcffb65c53468b7c4eead32">More...</a><br /></td></tr>
<tr class="separator:a51755e20bdcffb65c53468b7c4eead32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee1c825bbcfa66200e65818827287303"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#aee1c825bbcfa66200e65818827287303">add_features_datastore</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *my_features, const struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *peer_features)</td></tr>
<tr class="separator:aee1c825bbcfa66200e65818827287303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b41083253e12b6a71f4188e4e74a170"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a3b41083253e12b6a71f4188e4e74a170">add_features_datastores</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *caller, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *callee, struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="separator:a3b41083253e12b6a71f4188e4e74a170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe7c7e43b8f3140716d836816bf827f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a3fe7c7e43b8f3140716d836816bf827f">ast_bridge_call</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *peer, struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a3fe7c7e43b8f3140716d836816bf827f"><td class="mdescLeft">&#160;</td><td class="mdescRight">bridge the call and set CDR  <a href="#a3fe7c7e43b8f3140716d836816bf827f">More...</a><br /></td></tr>
<tr class="separator:a3fe7c7e43b8f3140716d836816bf827f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b286e6d3fdb7ca3a907c5b327e1b4a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a8b286e6d3fdb7ca3a907c5b327e1b4a9">ast_bridge_call_with_flags</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *peer, struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int flags)</td></tr>
<tr class="memdesc:a8b286e6d3fdb7ca3a907c5b327e1b4a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bridge a call, and add additional flags to the bridge.  <a href="#a8b286e6d3fdb7ca3a907c5b327e1b4a9">More...</a><br /></td></tr>
<tr class="separator:a8b286e6d3fdb7ca3a907c5b327e1b4a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66e4da38daa333f3a871726d46eed96"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#aa66e4da38daa333f3a871726d46eed96">ast_bridge_timelimit</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, char *<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a>, struct timeval *calldurationlimit)</td></tr>
<tr class="memdesc:aa66e4da38daa333f3a871726d46eed96"><td class="mdescLeft">&#160;</td><td class="mdescRight">parse L option and read associated channel variables to set warning, warning frequency, and timelimit  <a href="#aa66e4da38daa333f3a871726d46eed96">More...</a><br /></td></tr>
<tr class="separator:aa66e4da38daa333f3a871726d46eed96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cc97e866c50a8f3751b48684760b8db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a2cc97e866c50a8f3751b48684760b8db">ast_channel_log</a> (char *title, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a2cc97e866c50a8f3751b48684760b8db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28231fc268d53c9fd26b0eed2352514"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#af28231fc268d53c9fd26b0eed2352514">bridge_check_monitor</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *peer)</td></tr>
<tr class="separator:af28231fc268d53c9fd26b0eed2352514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42feee36c86ad2f98158935cc0a3b272"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a42feee36c86ad2f98158935cc0a3b272">bridge_config_set_limits</a> (struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *caller_limits, struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *callee_limits)</td></tr>
<tr class="separator:a42feee36c86ad2f98158935cc0a3b272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddb78e88a9126c588d8d07abd32f053"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a0ddb78e88a9126c588d8d07abd32f053">bridge_config_set_limits_warning_values</a> (struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *<a class="el" href="../../df/dfc/structlimits.html">limits</a>)</td></tr>
<tr class="separator:a0ddb78e88a9126c588d8d07abd32f053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be9e06ba28b33987cb079049c00adf7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a5be9e06ba28b33987cb079049c00adf7">bridge_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:a5be9e06ba28b33987cb079049c00adf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bridge channels.  <a href="#a5be9e06ba28b33987cb079049c00adf7">More...</a><br /></td></tr>
<tr class="separator:a5be9e06ba28b33987cb079049c00adf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac06adfce185b6dcc89bd7410e2ee344a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#ac06adfce185b6dcc89bd7410e2ee344a">bridge_failed_peer_goto</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *peer)</td></tr>
<tr class="separator:ac06adfce185b6dcc89bd7410e2ee344a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adef8fadeae29c7bd0b0f5133352f636d"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#adef8fadeae29c7bd0b0f5133352f636d">dial_features_duplicate</a> (void *data)</td></tr>
<tr class="separator:adef8fadeae29c7bd0b0f5133352f636d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca73779eed0a4f6644c0391f1e1b1d59"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2">play_tone_action</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#aca73779eed0a4f6644c0391f1e1b1d59">parse_playtone</a> (const char *playtone_val)</td></tr>
<tr class="separator:aca73779eed0a4f6644c0391f1e1b1d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19270bbca76aa0850d34134c16424063"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a19270bbca76aa0850d34134c16424063">pre_bridge_setup</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *peer, struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *chan_features, struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *peer_features)</td></tr>
<tr class="separator:a19270bbca76aa0850d34134c16424063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf26a3de75e83d0137e596d85522436"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#aebf26a3de75e83d0137e596d85522436">set_bridge_features_on_config</a> (struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, const char *features)</td></tr>
<tr class="separator:aebf26a3de75e83d0137e596d85522436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe48b606047919032bb8fa51c0140965"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#abe48b606047919032bb8fa51c0140965">set_config_flags</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="separator:abe48b606047919032bb8fa51c0140965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Call Features&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .reload = reload_features_config, .load_pri = AST_MODPRI_CORE, .requires = &quot;extconfig&quot;, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30cf144e208ddc17e51b2f1e600052e8"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a30cf144e208ddc17e51b2f1e600052e8">app_bridge</a> = &quot;Bridge&quot;</td></tr>
<tr class="separator:a30cf144e208ddc17e51b2f1e600052e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f1561f68468b6f13235b3bedce80962"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d2/d8d/structast__app__option.html">ast_app_option</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#a1f1561f68468b6f13235b3bedce80962">bridge_exec_options</a> [128] = { [ 'p' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eac6c5fc9f2156b5d690587dc1fdcbc6b3">BRIDGE_OPT_PLAYTONE</a> }, [ 'F' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea78690a8e97e0eac7d0982b81d5cadac8">OPT_CALLEE_GO_ON</a> , .arg_index = <a class="el" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876a1d0a4362e89e71be70b2ca0d47616c99">OPT_ARG_CALLEE_GO_ON</a> + 1 }, [ 'h' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eab0eb8a377bf253cf368bf70f0b59fc31">OPT_CALLEE_HANGUP</a> }, [ 'H' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea9f03cca4e2ee93778ae8ed2db279587d">OPT_CALLER_HANGUP</a> }, [ 'k' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea35080c34427591a22d34370e0a8ebab4">OPT_CALLEE_PARK</a> }, [ 'K' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea82c1e40f3b210bce47d00d44dec0b8fd">OPT_CALLER_PARK</a> }, [ 'L' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea3de43f39b62e2f782e8eac89a7dcc164">OPT_DURATION_LIMIT</a> , .arg_index = <a class="el" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876ab92f4dda872862b445c7ee78b5eca872">OPT_ARG_DURATION_LIMIT</a> + 1 }, [ '<a class="el" href="../../df/d44/app__meetme_8c.html#abd5465a13e11fe1c52a5a0f7b0b0812e">S</a>' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea532332f4745455d1129c3cf0d25cb5d3">OPT_DURATION_STOP</a> , .arg_index = <a class="el" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876a22d5403ad37aee04f7beb26b97518b33">OPT_ARG_DURATION_STOP</a> + 1 }, [ 't' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea6faa363811a3b467116d290d52d967da">OPT_CALLEE_TRANSFER</a> }, [ 'T' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eadb3ae0c7823e3bd3f4a45db3d03f33cb">OPT_CALLER_TRANSFER</a> }, [ 'w' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea98ad2a6cc60abe9a8cfd5f040fa9b4a4">OPT_CALLEE_MONITOR</a> }, [ 'W' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea8b131c263901244154b7b85ec05e6521">OPT_CALLER_MONITOR</a> }, [ 'x' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eacc3e8440cd8f27440c7f0c27f67b3e3d">OPT_CALLEE_KILL</a> }, }</td></tr>
<tr class="separator:a1f1561f68468b6f13235b3bedce80962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad64a6ef22c99026de9de8fec189df84f"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d92/features_8c.html#ad64a6ef22c99026de9de8fec189df84f">dial_features_info</a></td></tr>
<tr class="separator:ad64a6ef22c99026de9de8fec189df84f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Routines implementing call features as call pickup, parking and transfer. </p>
<dl class="section author"><dt>Author</dt><dd>Mark Spencer <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'ks'+'ter'+'@d'+'igi'+'um'+'.co'+'m'; return false;">marks<span style="display: none;">.nosp@m.</span>ter@<span style="display: none;">.nosp@m.</span>digiu<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="afaf9a3cf32370efd622b461ac53de64e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaf9a3cf32370efd622b461ac53de64e">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64eac6c5fc9f2156b5d690587dc1fdcbc6b3"></a>BRIDGE_OPT_PLAYTONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64eab0eb8a377bf253cf368bf70f0b59fc31"></a>OPT_CALLEE_HANGUP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64ea9f03cca4e2ee93778ae8ed2db279587d"></a>OPT_CALLER_HANGUP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64ea3de43f39b62e2f782e8eac89a7dcc164"></a>OPT_DURATION_LIMIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64ea532332f4745455d1129c3cf0d25cb5d3"></a>OPT_DURATION_STOP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64ea6faa363811a3b467116d290d52d967da"></a>OPT_CALLEE_TRANSFER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64eadb3ae0c7823e3bd3f4a45db3d03f33cb"></a>OPT_CALLER_TRANSFER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64ea98ad2a6cc60abe9a8cfd5f040fa9b4a4"></a>OPT_CALLEE_MONITOR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64ea8b131c263901244154b7b85ec05e6521"></a>OPT_CALLER_MONITOR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64ea35080c34427591a22d34370e0a8ebab4"></a>OPT_CALLEE_PARK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64ea82c1e40f3b210bce47d00d44dec0b8fd"></a>OPT_CALLER_PARK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64eacc3e8440cd8f27440c7f0c27f67b3e3d"></a>OPT_CALLEE_KILL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afaf9a3cf32370efd622b461ac53de64ea78690a8e97e0eac7d0982b81d5cadac8"></a>OPT_CALLEE_GO_ON&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00846">846</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;     {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eac6c5fc9f2156b5d690587dc1fdcbc6b3">BRIDGE_OPT_PLAYTONE</a> = (1 &lt;&lt; 0),</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eab0eb8a377bf253cf368bf70f0b59fc31">OPT_CALLEE_HANGUP</a> =  (1 &lt;&lt; 1),</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea9f03cca4e2ee93778ae8ed2db279587d">OPT_CALLER_HANGUP</a> =  (1 &lt;&lt; 2),</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea3de43f39b62e2f782e8eac89a7dcc164">OPT_DURATION_LIMIT</a> = (1 &lt;&lt; 3),</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea532332f4745455d1129c3cf0d25cb5d3">OPT_DURATION_STOP</a> =  (1 &lt;&lt; 4),</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea6faa363811a3b467116d290d52d967da">OPT_CALLEE_TRANSFER</a> = (1 &lt;&lt; 5),</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eadb3ae0c7823e3bd3f4a45db3d03f33cb">OPT_CALLER_TRANSFER</a> = (1 &lt;&lt; 6),</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea98ad2a6cc60abe9a8cfd5f040fa9b4a4">OPT_CALLEE_MONITOR</a> = (1 &lt;&lt; 7),</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea8b131c263901244154b7b85ec05e6521">OPT_CALLER_MONITOR</a> = (1 &lt;&lt; 8),</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea35080c34427591a22d34370e0a8ebab4">OPT_CALLEE_PARK</a> = (1 &lt;&lt; 9),</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea82c1e40f3b210bce47d00d44dec0b8fd">OPT_CALLER_PARK</a> = (1 &lt;&lt; 10),</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eacc3e8440cd8f27440c7f0c27f67b3e3d">OPT_CALLEE_KILL</a> = (1 &lt;&lt; 11),</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea78690a8e97e0eac7d0982b81d5cadac8">OPT_CALLEE_GO_ON</a> = (1 &lt;&lt; 12),</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;};</div><div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea3de43f39b62e2f782e8eac89a7dcc164"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea3de43f39b62e2f782e8eac89a7dcc164">OPT_DURATION_LIMIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00850">features.c:850</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea8b131c263901244154b7b85ec05e6521"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea8b131c263901244154b7b85ec05e6521">OPT_CALLER_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00855">features.c:855</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea9f03cca4e2ee93778ae8ed2db279587d"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea9f03cca4e2ee93778ae8ed2db279587d">OPT_CALLER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00849">features.c:849</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64eadb3ae0c7823e3bd3f4a45db3d03f33cb"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eadb3ae0c7823e3bd3f4a45db3d03f33cb">OPT_CALLER_TRANSFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00853">features.c:853</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64eacc3e8440cd8f27440c7f0c27f67b3e3d"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eacc3e8440cd8f27440c7f0c27f67b3e3d">OPT_CALLEE_KILL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00858">features.c:858</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea35080c34427591a22d34370e0a8ebab4"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea35080c34427591a22d34370e0a8ebab4">OPT_CALLEE_PARK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00856">features.c:856</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea98ad2a6cc60abe9a8cfd5f040fa9b4a4"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea98ad2a6cc60abe9a8cfd5f040fa9b4a4">OPT_CALLEE_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00854">features.c:854</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea6faa363811a3b467116d290d52d967da"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea6faa363811a3b467116d290d52d967da">OPT_CALLEE_TRANSFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00852">features.c:852</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64eab0eb8a377bf253cf368bf70f0b59fc31"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eab0eb8a377bf253cf368bf70f0b59fc31">OPT_CALLEE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00848">features.c:848</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64eac6c5fc9f2156b5d690587dc1fdcbc6b3"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eac6c5fc9f2156b5d690587dc1fdcbc6b3">BRIDGE_OPT_PLAYTONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00847">features.c:847</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea532332f4745455d1129c3cf0d25cb5d3"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea532332f4745455d1129c3cf0d25cb5d3">OPT_DURATION_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00851">features.c:851</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea78690a8e97e0eac7d0982b81d5cadac8"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea78690a8e97e0eac7d0982b81d5cadac8">OPT_CALLEE_GO_ON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00859">features.c:859</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea82c1e40f3b210bce47d00d44dec0b8fd"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea82c1e40f3b210bce47d00d44dec0b8fd">OPT_CALLER_PARK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00857">features.c:857</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a83f72dd946185574b53be115821f6876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83f72dd946185574b53be115821f6876">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a83f72dd946185574b53be115821f6876ab92f4dda872862b445c7ee78b5eca872"></a>OPT_ARG_DURATION_LIMIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a83f72dd946185574b53be115821f6876a22d5403ad37aee04f7beb26b97518b33"></a>OPT_ARG_DURATION_STOP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a83f72dd946185574b53be115821f6876a1d0a4362e89e71be70b2ca0d47616c99"></a>OPT_ARG_CALLEE_GO_ON&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a83f72dd946185574b53be115821f6876aec7326f60e7edad15d96ff935e5616d6"></a>OPT_ARG_ARRAY_SIZE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00862">862</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;     {</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876ab92f4dda872862b445c7ee78b5eca872">OPT_ARG_DURATION_LIMIT</a> = 0,</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876a22d5403ad37aee04f7beb26b97518b33">OPT_ARG_DURATION_STOP</a>,</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876a1d0a4362e89e71be70b2ca0d47616c99">OPT_ARG_CALLEE_GO_ON</a>,</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;   <span class="comment">/* note: this entry _MUST_ be the last one in the enum */</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876aec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a>,</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;};</div><div class="ttc" id="features_8c_html_a83f72dd946185574b53be115821f6876ab92f4dda872862b445c7ee78b5eca872"><div class="ttname"><a href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876ab92f4dda872862b445c7ee78b5eca872">OPT_ARG_DURATION_LIMIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00863">features.c:863</a></div></div>
<div class="ttc" id="features_8c_html_a83f72dd946185574b53be115821f6876a1d0a4362e89e71be70b2ca0d47616c99"><div class="ttname"><a href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876a1d0a4362e89e71be70b2ca0d47616c99">OPT_ARG_CALLEE_GO_ON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00865">features.c:865</a></div></div>
<div class="ttc" id="features_8c_html_a83f72dd946185574b53be115821f6876a22d5403ad37aee04f7beb26b97518b33"><div class="ttname"><a href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876a22d5403ad37aee04f7beb26b97518b33">OPT_ARG_DURATION_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00864">features.c:864</a></div></div>
<div class="ttc" id="features_8c_html_a83f72dd946185574b53be115821f6876aec7326f60e7edad15d96ff935e5616d6"><div class="ttname"><a href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876aec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00867">features.c:867</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad734cf14eba6d25d25ffe0cbf9d5cac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad734cf14eba6d25d25ffe0cbf9d5cac8">&#9670;&nbsp;</a></span>feature_interpret_op</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8">feature_interpret_op</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ad734cf14eba6d25d25ffe0cbf9d5cac8abf76b8944a1ac35aafbe2f3552bef372"></a>FEATURE_INTERPRET_DETECT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad734cf14eba6d25d25ffe0cbf9d5cac8aa6bdffdbaadf19af543d4cabf4387810"></a>FEATURE_INTERPRET_DO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad734cf14eba6d25d25ffe0cbf9d5cac8a8f5f0dd42458225662e3ddaabb1cb5d2"></a>FEATURE_INTERPRET_CHECK&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00249">249</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;             {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8abf76b8944a1ac35aafbe2f3552bef372">FEATURE_INTERPRET_DETECT</a>, <span class="comment">/* Used by ast_feature_detect */</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8aa6bdffdbaadf19af543d4cabf4387810">FEATURE_INTERPRET_DO</a>,     <span class="comment">/* Used by feature_interpret */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8a8f5f0dd42458225662e3ddaabb1cb5d2">FEATURE_INTERPRET_CHECK</a>,  <span class="comment">/* Used by feature_check */</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;} <a class="code" href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8">feature_interpret_op</a>;</div><div class="ttc" id="features_8c_html_ad734cf14eba6d25d25ffe0cbf9d5cac8abf76b8944a1ac35aafbe2f3552bef372"><div class="ttname"><a href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8abf76b8944a1ac35aafbe2f3552bef372">FEATURE_INTERPRET_DETECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00250">features.c:250</a></div></div>
<div class="ttc" id="features_8c_html_ad734cf14eba6d25d25ffe0cbf9d5cac8"><div class="ttname"><a href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8">feature_interpret_op</a></div><div class="ttdeci">feature_interpret_op</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00249">features.c:249</a></div></div>
<div class="ttc" id="features_8c_html_ad734cf14eba6d25d25ffe0cbf9d5cac8aa6bdffdbaadf19af543d4cabf4387810"><div class="ttname"><a href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8aa6bdffdbaadf19af543d4cabf4387810">FEATURE_INTERPRET_DO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00251">features.c:251</a></div></div>
<div class="ttc" id="features_8c_html_ad734cf14eba6d25d25ffe0cbf9d5cac8a8f5f0dd42458225662e3ddaabb1cb5d2"><div class="ttname"><a href="../../d5/d92/features_8c.html#ad734cf14eba6d25d25ffe0cbf9d5cac8a8f5f0dd42458225662e3ddaabb1cb5d2">FEATURE_INTERPRET_CHECK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00252">features.c:252</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a987630c4be5b332f56b6f1119bbe87d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a987630c4be5b332f56b6f1119bbe87d2">&#9670;&nbsp;</a></span>play_tone_action</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2">play_tone_action</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a987630c4be5b332f56b6f1119bbe87d2a7a847698b91ee8df79764edf2b1f1630"></a>PLAYTONE_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a987630c4be5b332f56b6f1119bbe87d2a0742f5ef5a28f72b83328283be335f0f"></a>PLAYTONE_CHANNEL1&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a987630c4be5b332f56b6f1119bbe87d2a0c4492b730345653d652fcc7933d3410"></a>PLAYTONE_CHANNEL2&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a987630c4be5b332f56b6f1119bbe87d2acce6aaaea7c3cb013cc91b091364bc7a"></a>PLAYTONE_BOTH&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00721">721</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                      {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a7a847698b91ee8df79764edf2b1f1630">PLAYTONE_NONE</a> = 0,</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0742f5ef5a28f72b83328283be335f0f">PLAYTONE_CHANNEL1</a> = (1 &lt;&lt; 0),</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0c4492b730345653d652fcc7933d3410">PLAYTONE_CHANNEL2</a> = (1 &lt;&lt; 1),</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2acce6aaaea7c3cb013cc91b091364bc7a">PLAYTONE_BOTH</a> = <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0742f5ef5a28f72b83328283be335f0f">PLAYTONE_CHANNEL1</a> | <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0c4492b730345653d652fcc7933d3410">PLAYTONE_CHANNEL2</a>,</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;};</div><div class="ttc" id="features_8c_html_a987630c4be5b332f56b6f1119bbe87d2a0742f5ef5a28f72b83328283be335f0f"><div class="ttname"><a href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0742f5ef5a28f72b83328283be335f0f">PLAYTONE_CHANNEL1</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00723">features.c:723</a></div></div>
<div class="ttc" id="features_8c_html_a987630c4be5b332f56b6f1119bbe87d2a7a847698b91ee8df79764edf2b1f1630"><div class="ttname"><a href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a7a847698b91ee8df79764edf2b1f1630">PLAYTONE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00722">features.c:722</a></div></div>
<div class="ttc" id="features_8c_html_a987630c4be5b332f56b6f1119bbe87d2acce6aaaea7c3cb013cc91b091364bc7a"><div class="ttname"><a href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2acce6aaaea7c3cb013cc91b091364bc7a">PLAYTONE_BOTH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00725">features.c:725</a></div></div>
<div class="ttc" id="features_8c_html_a987630c4be5b332f56b6f1119bbe87d2a0c4492b730345653d652fcc7933d3410"><div class="ttname"><a href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0c4492b730345653d652fcc7933d3410">PLAYTONE_CHANNEL2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00724">features.c:724</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l01186">1186</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l01186">1186</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

</div>
</div>
<a id="a51755e20bdcffb65c53468b7c4eead32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51755e20bdcffb65c53468b7c4eead32">&#9670;&nbsp;</a></span>action_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int action_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bridge channels together. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
    <tr><td class="paramname">m</td><td>Make sure valid channels were specified, send errors if any of the channels could not be found/locked, answer channels if needed, create the placeholder channels and grab the other channels make the channels compatible, send error if we fail doing so setup the bridge thread object and start the bridge.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00757">757</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02519">ast_bridge_add_channel()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00626">ast_bridge_set_after_goto()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01434">ast_channel_get_by_name_prefix()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00444">ast_channel_priority()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00998">AST_FLAG_IN_AUTOLOOP</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01143">ast_get_chan_features_xfer_config()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02820">astman_get_header()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l03191">astman_send_ack()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l03159">astman_send_error()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00728">parse_playtone()</a>, <a class="el" href="../../d8/d8f/app__morsecode_8c_source.html#l00170">playtone()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00723">PLAYTONE_CHANNEL1</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00724">PLAYTONE_CHANNEL2</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l01168">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;{</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *channela = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Channel1&quot;</span>);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *channelb = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Channel2&quot;</span>);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2">play_tone_action</a> <a class="code" href="../../d8/d8f/app__morsecode_8c.html#a9380cc3415113a4b2ecc49516e2e6f32">playtone</a> = <a class="code" href="../../d5/d92/features_8c.html#aca73779eed0a4f6644c0391f1e1b1d59">parse_playtone</a>(<a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Tone&quot;</span>));</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chana, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chanb, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *chana_exten;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *chana_context;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   <span class="keywordtype">int</span> chana_priority;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *chanb_exten;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *chanb_context;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   <span class="keywordtype">int</span> chanb_priority;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[256];</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/db6/structast__features__xfer__config.html">ast_features_xfer_config</a> *, xfer_cfg_a, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/db6/structast__features__xfer__config.html">ast_features_xfer_config</a> *, xfer_cfg_b, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   <span class="comment">/* make sure valid channels were specified */</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(channela) || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(channelb)) {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Missing channel parameter in request&quot;</span>);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;   }</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Performing Bridge action on %s and %s\n&quot;</span>, channela, channelb);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   <span class="comment">/* Start with chana */</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   chana = <a class="code" href="../../d5/d7b/channel_8h.html#a71d89dbc5107b1f851dcbf1686a0d9d9">ast_channel_get_by_name_prefix</a>(channela, strlen(channela));</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   <span class="keywordflow">if</span> (!chana) {</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;Channel1 does not exist: %s&quot;</span>, channela);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, buf);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;   }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chana);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;   xfer_cfg_a = <a class="code" href="../../d0/daa/include_2asterisk_2features__config_8h.html#ab442de0580c9cee7ae5e10886e28ed8c">ast_get_chan_features_xfer_config</a>(chana);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;   chana_exten = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chana));</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;   chana_context = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chana));</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   chana_priority = <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(chana);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chana), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b">AST_FLAG_IN_AUTOLOOP</a>)) {</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      chana_priority++;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chana);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   chanb = <a class="code" href="../../d5/d7b/channel_8h.html#a71d89dbc5107b1f851dcbf1686a0d9d9">ast_channel_get_by_name_prefix</a>(channelb, strlen(channelb));</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   <span class="keywordflow">if</span> (!chanb) {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;Channel2 does not exist: %s&quot;</span>, channelb);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, buf);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;   }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chanb);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   xfer_cfg_b = <a class="code" href="../../d0/daa/include_2asterisk_2features__config_8h.html#ab442de0580c9cee7ae5e10886e28ed8c">ast_get_chan_features_xfer_config</a>(chanb);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   chanb_exten = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chanb));</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   chanb_context = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chanb));</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   chanb_priority = <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(chanb);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chanb), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b">AST_FLAG_IN_AUTOLOOP</a>)) {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      chanb_priority++;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;   }</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chanb);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;   bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   <span class="keywordflow">if</span> (!bridge) {</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Unable to create bridge\n&quot;</span>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;   }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <a class="code" href="../../d8/d85/bridge__after_8h.html#adbda216253e9248d9e9734f6c8a60dbc">ast_bridge_set_after_goto</a>(chana, chana_context, chana_exten, chana_priority);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d47/features_8h.html#aabeca6aae7e5db0dfe25ab88c1a40b07">ast_bridge_add_channel</a>(bridge, chana, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, playtone &amp; <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0742f5ef5a28f72b83328283be335f0f">PLAYTONE_CHANNEL1</a>, xfer_cfg_a ? xfer_cfg_a-&gt;xfersound : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;Unable to add Channel1 to bridge: %s&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chana));</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, buf);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(bridge, 0);</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   <a class="code" href="../../d8/d85/bridge__after_8h.html#adbda216253e9248d9e9734f6c8a60dbc">ast_bridge_set_after_goto</a>(chanb, chanb_context, chanb_exten, chanb_priority);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d47/features_8h.html#aabeca6aae7e5db0dfe25ab88c1a40b07">ast_bridge_add_channel</a>(bridge, chanb, NULL, playtone &amp; <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0c4492b730345653d652fcc7933d3410">PLAYTONE_CHANNEL2</a>, xfer_cfg_b ? xfer_cfg_b-&gt;xfersound : NULL)) {</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;Unable to add Channel2 to bridge: %s&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chanb));</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, buf);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(bridge, 0);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;   }</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a>(s, m, <span class="stringliteral">&quot;Channels have been bridged&quot;</span>);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(bridge);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html">ast_features_xfer_config</a></div><div class="ttdoc">Feature configuration relating to transfers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00057">include/asterisk/features_config.h:57</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="app__morsecode_8c_html_a9380cc3415113a4b2ecc49516e2e6f32"><div class="ttname"><a href="../../d8/d8f/app__morsecode_8c.html#a9380cc3415113a4b2ecc49516e2e6f32">playtone</a></div><div class="ttdeci">static int playtone(struct ast_channel *chan, int tone, int len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8f/app__morsecode_8c_source.html#l00170">app_morsecode.c:170</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="include_2asterisk_2features__config_8h_html_ab442de0580c9cee7ae5e10886e28ed8c"><div class="ttname"><a href="../../d0/daa/include_2asterisk_2features__config_8h.html#ab442de0580c9cee7ae5e10886e28ed8c">ast_get_chan_features_xfer_config</a></div><div class="ttdeci">struct ast_features_xfer_config * ast_get_chan_features_xfer_config(struct ast_channel *chan)</div><div class="ttdoc">Get the transfer configuration options for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d71/features__config_8c_source.html#l01143">features_config.c:1143</a></div></div>
<div class="ttc" id="bridge_8h_html_a4adad484788bb018b8699eeed2ddfedd"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a></div><div class="ttdeci">int ast_bridge_destroy(struct ast_bridge *bridge, int cause)</div><div class="ttdoc">Destroy a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00970">bridge.c:970</a></div></div>
<div class="ttc" id="features_8c_html_a987630c4be5b332f56b6f1119bbe87d2"><div class="ttname"><a href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2">play_tone_action</a></div><div class="ttdeci">play_tone_action</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00721">features.c:721</a></div></div>
<div class="ttc" id="features_8c_html_a987630c4be5b332f56b6f1119bbe87d2a0742f5ef5a28f72b83328283be335f0f"><div class="ttname"><a href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0742f5ef5a28f72b83328283be335f0f">PLAYTONE_CHANNEL1</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00723">features.c:723</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga77315fa8e29950f0c88120501acda0a3"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a></div><div class="ttdeci">void astman_send_ack(struct mansession *s, const struct message *m, char *msg)</div><div class="ttdoc">Send ack in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03191">manager.c:3191</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="features_8c_html_aca73779eed0a4f6644c0391f1e1b1d59"><div class="ttname"><a href="../../d5/d92/features_8c.html#aca73779eed0a4f6644c0391f1e1b1d59">parse_playtone</a></div><div class="ttdeci">static enum play_tone_action parse_playtone(const char *playtone_val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00728">features.c:728</a></div></div>
<div class="ttc" id="channel_8h_html_a6610c8171ced0a69738622c11736ff5e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a></div><div class="ttdeci">int ast_channel_priority(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00444">channel_internal_api.c:444</a></div></div>
<div class="ttc" id="channel_8h_html_a71d89dbc5107b1f851dcbf1686a0d9d9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a71d89dbc5107b1f851dcbf1686a0d9d9">ast_channel_get_by_name_prefix</a></div><div class="ttdeci">struct ast_channel * ast_channel_get_by_name_prefix(const char *name, size_t name_len)</div><div class="ttdoc">Find a channel by a name prefix. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01434">channel.c:1434</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gac6a9f3498f9afffecfd78c485af41556"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a></div><div class="ttdeci">const char * astman_get_header(const struct message *m, char *var)</div><div class="ttdoc">Get header from mananger transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02820">manager.c:2820</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge__after_8h_html_adbda216253e9248d9e9734f6c8a60dbc"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#adbda216253e9248d9e9734f6c8a60dbc">ast_bridge_set_after_goto</a></div><div class="ttdeci">void ast_bridge_set_after_goto(struct ast_channel *chan, const char *context, const char *exten, int priority)</div><div class="ttdoc">Set channel to goto specific location after the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00626">bridge_after.c:626</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="features_8h_html_aabeca6aae7e5db0dfe25ab88c1a40b07"><div class="ttname"><a href="../../de/d47/features_8h.html#aabeca6aae7e5db0dfe25ab88c1a40b07">ast_bridge_add_channel</a></div><div class="ttdeci">int ast_bridge_add_channel(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_bridge_features *features, int play_tone, const char *xfersound)</div><div class="ttdoc">Add an arbitrary channel to a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02519">bridge.c:2519</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b">AST_FLAG_IN_AUTOLOOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00998">channel.h:998</a></div></div>
<div class="ttc" id="features_8c_html_a987630c4be5b332f56b6f1119bbe87d2a0c4492b730345653d652fcc7933d3410"><div class="ttname"><a href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0c4492b730345653d652fcc7933d3410">PLAYTONE_CHANNEL2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00724">features.c:724</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga31a02a7d3cc36aa66ebebdedfc574d1c"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a></div><div class="ttdeci">void astman_send_error(struct mansession *s, const struct message *m, char *error)</div><div class="ttdoc">Send error in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03159">manager.c:3159</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aee1c825bbcfa66200e65818827287303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee1c825bbcfa66200e65818827287303">&#9670;&nbsp;</a></span>add_features_datastore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_features_datastore </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *&#160;</td>
          <td class="paramname"><em>my_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *&#160;</td>
          <td class="paramname"><em>peer_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00291">291</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00084">ast_copy_flags</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">ast_datastore_free()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00196">AST_FLAGS_ALL</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00193">DATASTORE_INHERIT_FOREVER</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00073">ast_datastore::inheritance</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00257">ast_dial_features::my_features</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/d92/features_8c_source.html#l00259">ast_dial_features::peer_features</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00423">add_features_datastores()</a>.</p>
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/db3/structast__dial__features.html">ast_dial_features</a> *dialfeatures;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d5/d92/features_8c.html#ad64a6ef22c99026de9de8fec189df84f">dial_features_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <span class="keywordflow">if</span> (datastore) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="comment">/* Already exists. */</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <span class="comment">/* Create a new datastore with specified feature flags. */</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../d5/d92/features_8c.html#ad64a6ef22c99026de9de8fec189df84f">dial_features_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <span class="keywordflow">if</span> (!datastore) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel features datastore.\n&quot;</span>);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;   dialfeatures = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*dialfeatures));</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <span class="keywordflow">if</span> (!dialfeatures) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate memory for feature flags.\n&quot;</span>);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(datastore);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab9da1c7265610eff83ed6146f104dc6f">ast_copy_flags</a>(&amp;dialfeatures-&gt;<a class="code" href="../../da/db3/structast__dial__features.html#a609df0c692a45ba1ef3b752a801442fc">my_features</a>, my_features, <a class="code" href="../../d5/d60/utils_8h.html#afb8683b4d96960d7a82a86a974a57599">AST_FLAGS_ALL</a>);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab9da1c7265610eff83ed6146f104dc6f">ast_copy_flags</a>(&amp;dialfeatures-&gt;<a class="code" href="../../da/db3/structast__dial__features.html#a271c024c69e882b0c4bb3d99e9a30075">peer_features</a>, peer_features, <a class="code" href="../../d5/d60/utils_8h.html#afb8683b4d96960d7a82a86a974a57599">AST_FLAGS_ALL</a>);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a79d869daa2e63a92b3e5f542446031bb">inheritance</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3a32e3014998d0066281c4dd8e278ae9">DATASTORE_INHERIT_FOREVER</a>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = dialfeatures;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, datastore);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div><div class="ttc" id="structast__dial__features_html_a271c024c69e882b0c4bb3d99e9a30075"><div class="ttname"><a href="../../da/db3/structast__dial__features.html#a271c024c69e882b0c4bb3d99e9a30075">ast_dial_features::peer_features</a></div><div class="ttdeci">struct ast_flags peer_features</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00259">features.c:259</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="features_8c_html_ad64a6ef22c99026de9de8fec189df84f"><div class="ttname"><a href="../../d5/d92/features_8c.html#ad64a6ef22c99026de9de8fec189df84f">dial_features_info</a></div><div class="ttdeci">static const struct ast_datastore_info dial_features_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00275">features.c:275</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__dial__features_html"><div class="ttname"><a href="../../da/db3/structast__dial__features.html">ast_dial_features</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00255">features.c:255</a></div></div>
<div class="ttc" id="structast__dial__features_html_a609df0c692a45ba1ef3b752a801442fc"><div class="ttname"><a href="../../da/db3/structast__dial__features.html#a609df0c692a45ba1ef3b752a801442fc">ast_dial_features::my_features</a></div><div class="ttdeci">struct ast_flags my_features</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00257">features.c:257</a></div></div>
<div class="ttc" id="utils_8h_html_ab9da1c7265610eff83ed6146f104dc6f"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab9da1c7265610eff83ed6146f104dc6f">ast_copy_flags</a></div><div class="ttdeci">#define ast_copy_flags(dest, src, flagz)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00084">utils.h:84</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="datastore_8h_html_aee27286888b30c6448a9bce928040a14"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a></div><div class="ttdeci">int ast_datastore_free(struct ast_datastore *datastore)</div><div class="ttdoc">Free a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00068">datastore.c:68</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="utils_8h_html_afb8683b4d96960d7a82a86a974a57599"><div class="ttname"><a href="../../d5/d60/utils_8h.html#afb8683b4d96960d7a82a86a974a57599">AST_FLAGS_ALL</a></div><div class="ttdeci">#define AST_FLAGS_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00196">utils.h:196</a></div></div>
<div class="ttc" id="channel_8h_html_a3a32e3014998d0066281c4dd8e278ae9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3a32e3014998d0066281c4dd8e278ae9">DATASTORE_INHERIT_FOREVER</a></div><div class="ttdeci">#define DATASTORE_INHERIT_FOREVER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00193">channel.h:193</a></div></div>
<div class="ttc" id="structast__datastore_html_a79d869daa2e63a92b3e5f542446031bb"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a79d869daa2e63a92b3e5f542446031bb">ast_datastore::inheritance</a></div><div class="ttdeci">unsigned int inheritance</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00073">datastore.h:73</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b41083253e12b6a71f4188e4e74a170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b41083253e12b6a71f4188e4e74a170">&#9670;&nbsp;</a></span>add_features_datastores()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void add_features_datastores </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>callee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00423">423</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d92/features_8c_source.html#l00291">add_features_datastore()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01079">ast_bridge_config::features_callee</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l01078">ast_bridge_config::features_caller</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;{</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d92/features_8c.html#aee1c825bbcfa66200e65818827287303">add_features_datastore</a>(caller, &amp;config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">features_caller</a>, &amp;config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">features_callee</a>)) {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">       * If we don&#39;t return here, then when we do a builtin_atxfer we</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">       * will copy the disconnect flags over from the atxfer to the</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">       * callee (Party C).</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#aee1c825bbcfa66200e65818827287303">add_features_datastore</a>(callee, &amp;config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">features_callee</a>, &amp;config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">features_caller</a>);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div><div class="ttc" id="structast__bridge__config_html_a725b051d26c3350f8cd04467b4202c60"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">ast_bridge_config::features_callee</a></div><div class="ttdeci">struct ast_flags features_callee</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01079">channel.h:1079</a></div></div>
<div class="ttc" id="structast__bridge__config_html_aa9510db9c5a776dfbd1aaab8c48970f0"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">ast_bridge_config::features_caller</a></div><div class="ttdeci">struct ast_flags features_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01078">channel.h:1078</a></div></div>
<div class="ttc" id="features_8c_html_aee1c825bbcfa66200e65818827287303"><div class="ttname"><a href="../../d5/d92/features_8c.html#aee1c825bbcfa66200e65818827287303">add_features_datastore</a></div><div class="ttdeci">static int add_features_datastore(struct ast_channel *chan, const struct ast_flags *my_features, const struct ast_flags *peer_features)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00291">features.c:291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3fe7c7e43b8f3140716d836816bf827f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe7c7e43b8f3140716d836816bf827f">&#9670;&nbsp;</a></span>ast_bridge_call()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_call </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>bridge the call and set CDR </p>
<p>Bridge a call, optionally allowing redirection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The bridge considers this channel the caller. </td></tr>
    <tr><td class="paramname">peer</td><td>The bridge considers this channel the callee. </td></tr>
    <tr><td class="paramname">config</td><td>Configuration for this bridge.</td></tr>
  </table>
  </dd>
</dl>
<p>Set start time, check for two channels,check if monitor on check for feature activation, create new CDR </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">res</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on failure to bridge. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00716">716</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d92/features_8c_source.html#l00633">ast_bridge_call_with_flags()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d55/app__followme_8c_source.html#l01339">app_exec()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d92/features_8c.html#a8b286e6d3fdb7ca3a907c5b327e1b4a9">ast_bridge_call_with_flags</a>(chan, peer, config, 0);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div><div class="ttc" id="features_8c_html_a8b286e6d3fdb7ca3a907c5b327e1b4a9"><div class="ttname"><a href="../../d5/d92/features_8c.html#a8b286e6d3fdb7ca3a907c5b327e1b4a9">ast_bridge_call_with_flags</a></div><div class="ttdeci">int ast_bridge_call_with_flags(struct ast_channel *chan, struct ast_channel *peer, struct ast_bridge_config *config, unsigned int flags)</div><div class="ttdoc">Bridge a call, and add additional flags to the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00633">features.c:633</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8b286e6d3fdb7ca3a907c5b327e1b4a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b286e6d3fdb7ca3a907c5b327e1b4a9">&#9670;&nbsp;</a></span>ast_bridge_call_with_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_call_with_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bridge a call, and add additional flags to the bridge. </p>
<p>This does the same thing as <a class="el" href="../../d5/d92/features_8c.html#a3fe7c7e43b8f3140716d836816bf827f">ast_bridge_call</a>, except that once the bridge is created, the provided flags are set on the bridge. The provided flags are added to the bridge's flags; they will not clear any flags already set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The calling channel </td></tr>
    <tr><td class="paramname">peer</td><td>The called channel </td></tr>
    <tr><td class="paramname">config</td><td>Bridge configuration for the channels </td></tr>
    <tr><td class="paramname">flags</td><td>Additional flags to set on the created bridge</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The function caller is assumed to have already done the COLP exchange for the initial bridging of the two channels if it was desired. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00633">633</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03630">ast_bridge_basic_set_flags()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03720">ast_bridge_features_cleanup()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03741">ast_bridge_features_destroy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03687">ast_bridge_features_init()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03750">ast_bridge_features_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00604">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00606">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01667">ast_bridge_join()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00551">AST_BRIDGE_JOIN_INHIBIT_JOIN_COLP</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00549">AST_BRIDGE_JOIN_PASS_REFERENCE</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00997">ast_channel_softhangup_internal_flag()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01127">AST_SOFTHANGUP_ASYNCGOTO</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00528">bridge_failed_peer_goto()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01091">ast_bridge_config::end_bridge_callback</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01092">ast_bridge_config::end_bridge_callback_data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00259">ast_dial_features::peer_features</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00749">SCOPE_TRACE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00716">ast_bridge_call()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06722">try_calling()</a>.</p>
<div class="fragment"><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;{</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> chan_features;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *peer_features;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ac7388257651bb6a92d3208512fab0ba6">SCOPE_TRACE</a>(1, <span class="stringliteral">&quot;%s Peer: %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(peer));</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;   <span class="comment">/* Setup features. */</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;   res = <a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;chan_features);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   peer_features = <a class="code" href="../../dc/d7a/bridge__features_8h.html#abf9e5d393615c63d27e0bd530301a1ed">ast_bridge_features_new</a>();</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   <span class="keywordflow">if</span> (res || !peer_features) {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a>(peer_features);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(&amp;chan_features);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <a class="code" href="../../d5/d92/features_8c.html#ac06adfce185b6dcc89bd7410e2ee344a">bridge_failed_peer_goto</a>(chan, peer);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d92/features_8c.html#a19270bbca76aa0850d34134c16424063">pre_bridge_setup</a>(chan, peer, config, &amp;chan_features, peer_features)) {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a>(peer_features);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(&amp;chan_features);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <a class="code" href="../../d5/d92/features_8c.html#ac06adfce185b6dcc89bd7410e2ee344a">bridge_failed_peer_goto</a>(chan, peer);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;   <span class="comment">/* Create bridge */</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;   <span class="keywordflow">if</span> (!bridge) {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a>(peer_features);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(&amp;chan_features);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <a class="code" href="../../d5/d92/features_8c.html#ac06adfce185b6dcc89bd7410e2ee344a">bridge_failed_peer_goto</a>(chan, peer);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a3532f26d87ff1bdddd1b7d945b6c5802">ast_bridge_basic_set_flags</a>(bridge, flags);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   <span class="comment">/* Put peer into the bridge */</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, peer, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, peer_features,</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a> | <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a>)) {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(bridge, 0);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(&amp;chan_features);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <a class="code" href="../../d5/d92/features_8c.html#ac06adfce185b6dcc89bd7410e2ee344a">bridge_failed_peer_goto</a>(chan, peer);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   <span class="comment">/* Join bridge */</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a116a27b8e1e111729ee1828d4fab6b5a">ast_bridge_join</a>(bridge, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;chan_features, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">AST_BRIDGE_JOIN_PASS_REFERENCE</a> | <a class="code" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56">AST_BRIDGE_JOIN_INHIBIT_JOIN_COLP</a>);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">    * If the bridge was broken for a hangup that isn&#39;t real, then</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">    * don&#39;t run the h extension, because the channel isn&#39;t really</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">    * hung up.  This should really only happen with</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">    * AST_SOFTHANGUP_ASYNCGOTO.</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   res = -1;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#adac99999f1e55833e7f903979d67b48b">ast_channel_softhangup_internal_flag</a>(chan) &amp; <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4">AST_SOFTHANGUP_ASYNCGOTO</a>) {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      res = 0;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(&amp;chan_features);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;   <span class="keywordflow">if</span> (res &amp;&amp; config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a5fd13b216c2752f4f1fb843cae429558">end_bridge_callback</a>) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a5fd13b216c2752f4f1fb843cae429558">end_bridge_callback</a>(config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a30cb875f49910a9515ee92d8dfdf8b83">end_bridge_callback_data</a>);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__features_8h_html_aafc3026d777c0bf6899e93263178e102"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a></div><div class="ttdeci">void ast_bridge_features_cleanup(struct ast_bridge_features *features)</div><div class="ttdoc">Clean up the contents of a bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03720">bridge.c:3720</a></div></div>
<div class="ttc" id="structast__bridge__features_html"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a></div><div class="ttdoc">Structure that contains features information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00263">bridge_features.h:263</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a3128b52009fb3dd764dce90ea377fce1"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a></div><div class="ttdeci">int ast_bridge_features_init(struct ast_bridge_features *features)</div><div class="ttdoc">Initialize bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03687">bridge.c:3687</a></div></div>
<div class="ttc" id="bridge_8h_html_a4adad484788bb018b8699eeed2ddfedd"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a></div><div class="ttdeci">int ast_bridge_destroy(struct ast_bridge *bridge, int cause)</div><div class="ttdoc">Destroy a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00970">bridge.c:970</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__features_8h_html_ad3debd15062b4b9463e5703724dd9a1f"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a></div><div class="ttdeci">void ast_bridge_features_destroy(struct ast_bridge_features *features)</div><div class="ttdoc">Destroy an allocated bridge features struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03741">bridge.c:3741</a></div></div>
<div class="ttc" id="features_8c_html_a19270bbca76aa0850d34134c16424063"><div class="ttname"><a href="../../d5/d92/features_8c.html#a19270bbca76aa0850d34134c16424063">pre_bridge_setup</a></div><div class="ttdeci">static int pre_bridge_setup(struct ast_channel *chan, struct ast_channel *peer, struct ast_bridge_config *config, struct ast_bridge_features *chan_features, struct ast_bridge_features *peer_features)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00536">features.c:536</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00606">bridge.h:606</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a3532f26d87ff1bdddd1b7d945b6c5802"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a3532f26d87ff1bdddd1b7d945b6c5802">ast_bridge_basic_set_flags</a></div><div class="ttdeci">void ast_bridge_basic_set_flags(struct ast_bridge *bridge, unsigned int flags)</div><div class="ttdoc">Set feature flags on a basic bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03630">bridge_basic.c:3630</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a30cb875f49910a9515ee92d8dfdf8b83"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a30cb875f49910a9515ee92d8dfdf8b83">ast_bridge_config::end_bridge_callback_data</a></div><div class="ttdeci">void * end_bridge_callback_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01092">channel.h:1092</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00604">bridge.h:604</a></div></div>
<div class="ttc" id="bridge_8h_html_ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56">AST_BRIDGE_JOIN_INHIBIT_JOIN_COLP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00551">bridge.h:551</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge_8h_html_a116a27b8e1e111729ee1828d4fab6b5a"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a116a27b8e1e111729ee1828d4fab6b5a">ast_bridge_join</a></div><div class="ttdeci">int ast_bridge_join(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, struct ast_bridge_tech_optimizations *tech_args, enum ast_bridge_join_flags flags)</div><div class="ttdoc">Join a channel to a bridge (blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01667">bridge.c:1667</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4">AST_SOFTHANGUP_ASYNCGOTO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01127">channel.h:1127</a></div></div>
<div class="ttc" id="bridge__features_8h_html_abf9e5d393615c63d27e0bd530301a1ed"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#abf9e5d393615c63d27e0bd530301a1ed">ast_bridge_features_new</a></div><div class="ttdeci">struct ast_bridge_features * ast_bridge_features_new(void)</div><div class="ttdoc">Allocate a new bridge features struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03750">bridge.c:3750</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a5fd13b216c2752f4f1fb843cae429558"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a5fd13b216c2752f4f1fb843cae429558">ast_bridge_config::end_bridge_callback</a></div><div class="ttdeci">void(* end_bridge_callback)(void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01091">channel.h:1091</a></div></div>
<div class="ttc" id="channel_8h_html_adac99999f1e55833e7f903979d67b48b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#adac99999f1e55833e7f903979d67b48b">ast_channel_softhangup_internal_flag</a></div><div class="ttdeci">int ast_channel_softhangup_internal_flag(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00997">channel_internal_api.c:997</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="logger_8h_html_ac7388257651bb6a92d3208512fab0ba6"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ac7388257651bb6a92d3208512fab0ba6">SCOPE_TRACE</a></div><div class="ttdeci">#define SCOPE_TRACE(level,...)</div><div class="ttdoc">Print a trace message with details when a scope is entered or existed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00749">logger.h:749</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="bridge_8h_html_ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">AST_BRIDGE_JOIN_PASS_REFERENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00549">bridge.h:549</a></div></div>
<div class="ttc" id="features_8c_html_ac06adfce185b6dcc89bd7410e2ee344a"><div class="ttname"><a href="../../d5/d92/features_8c.html#ac06adfce185b6dcc89bd7410e2ee344a">bridge_failed_peer_goto</a></div><div class="ttdeci">static void bridge_failed_peer_goto(struct ast_channel *chan, struct ast_channel *peer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00528">features.c:528</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa66e4da38daa333f3a871726d46eed96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa66e4da38daa333f3a871726d46eed96">&#9670;&nbsp;</a></span>ast_bridge_timelimit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_timelimit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>parse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>calldurationlimit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>parse L option and read associated channel variables to set warning, warning frequency, and timelimit </p>
<dl class="section note"><dt>Note</dt><dd>caller must be aware of freeing memory for warning_sound, end_sound, and start_sound </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00886">886</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01064">AST_FEATURE_PLAY_WARNING</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01088">ast_bridge_config::end_sound</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01079">ast_bridge_config::features_callee</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01078">ast_bridge_config::features_caller</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_builtin_getvar_helper()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01085">ast_bridge_config::play_warning</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01089">ast_bridge_config::start_sound</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01084">ast_bridge_config::timelimit</a>, <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01086">ast_bridge_config::warning_freq</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l01087">ast_bridge_config::warning_sound</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l01007">bridge_exec()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;{</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   <span class="keywordtype">char</span> *stringp = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a>);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   <span class="keywordtype">char</span> *limit_str, *warning_str, *warnfreq_str;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   <span class="keywordtype">int</span> play_to_caller = 0, play_to_callee = 0;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <span class="keywordtype">int</span> delta;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   limit_str = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;:&quot;</span>);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   warning_str = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;:&quot;</span>);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   warnfreq_str = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;:&quot;</span>);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a> = atol(limit_str);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   <span class="keywordflow">if</span> (warning_str)</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">play_warning</a> = atol(warning_str);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   <span class="keywordflow">if</span> (warnfreq_str)</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#abc09654c9b36de6b0bd0bfd92d31c0c0">warning_freq</a> = atol(warnfreq_str);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   <span class="keywordflow">if</span> (!config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a>) {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Bridge does not accept L(%s)\n&quot;</span>, limit_str);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a> = config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">play_warning</a> = config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#abc09654c9b36de6b0bd0bfd92d31c0c0">warning_freq</a> = 0;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a1fa6cb6235cf4abe198a8561e3c18bae">warning_sound</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="keywordflow">return</span> -1; <span class="comment">/* error */</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (delta = config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">play_warning</a> - config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a>) &gt; 0) {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="keywordtype">int</span> w = config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#abc09654c9b36de6b0bd0bfd92d31c0c0">warning_freq</a>;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">       * If the first warning is requested _after_ the entire call</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">       * would end, and no warning frequency is requested, then turn</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment">       * off the warning. If a warning frequency is requested, reduce</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment">       * the &#39;first warning&#39; time by that frequency until it falls</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">       * within the call&#39;s total time limit.</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment">       * Graphically:</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">       *                timelim-&gt;|    delta        |&lt;-playwarning</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">       *      0__________________|_________________|</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">       *                       | w  |    |    |    |</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">       * so the number of intervals to cut is 1+(delta-1)/w</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">if</span> (w == 0) {</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;         config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">play_warning</a> = 0;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;         config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">play_warning</a> -= w * ( 1 + (delta-1)/w );</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;         <span class="keywordflow">if</span> (config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">play_warning</a> &lt; 1)</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">play_warning</a> = config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#abc09654c9b36de6b0bd0bfd92d31c0c0">warning_freq</a> = 0;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      }</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   }</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   var = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;LIMIT_PLAYAUDIO_CALLER&quot;</span>);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   play_to_caller = var ? <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(var) : 1;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   var = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;LIMIT_PLAYAUDIO_CALLEE&quot;</span>);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   play_to_callee = var ? <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(var) : 0;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   <span class="keywordflow">if</span> (!play_to_caller &amp;&amp; !play_to_callee)</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      play_to_caller = 1;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   var = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;LIMIT_WARNING_FILE&quot;</span>);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a1fa6cb6235cf4abe198a8561e3c18bae">warning_sound</a> = !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(var) ? <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(var) : <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;timeleft&quot;</span>);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   <span class="comment">/* The code looking at config wants a NULL, not just &quot;&quot;, to decide</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment">    * that the message should not be played, so we replace &quot;&quot; with NULL.</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">    * Note, pbx_builtin_getvar_helper _can_ return NULL if the variable is</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">    * not found.</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   var = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;LIMIT_TIMEOUT_FILE&quot;</span>);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a0b23b4ebfc857809d07d1ced94c9a6eb">end_sound</a> = !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(var) ? <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(var) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;   var = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;LIMIT_CONNECT_FILE&quot;</span>);</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af134a8361d8611e10872c9c0f806ba64">start_sound</a> = !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(var) ? <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(var) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;   <span class="comment">/* undo effect of S(x) in case they are both used */</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;   calldurationlimit-&gt;tv_sec = 0;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;   calldurationlimit-&gt;tv_usec = 0;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;   <span class="comment">/* more efficient to do it like S(x) does since no advanced opts */</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   <span class="keywordflow">if</span> (!config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">play_warning</a> &amp;&amp; !config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af134a8361d8611e10872c9c0f806ba64">start_sound</a> &amp;&amp; !config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a0b23b4ebfc857809d07d1ced94c9a6eb">end_sound</a> &amp;&amp; config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a>) {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      calldurationlimit-&gt;tv_sec = config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a> / 1000;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      calldurationlimit-&gt;tv_usec = (config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a> % 1000) * 1000;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Setting call duration limit to %.3lf seconds.\n&quot;</span>,</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;         calldurationlimit-&gt;tv_sec + calldurationlimit-&gt;tv_usec / 1000000.0);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      play_to_caller = 0;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      play_to_callee = 0;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a> = 0;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">play_warning</a> = 0;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#abc09654c9b36de6b0bd0bfd92d31c0c0">warning_freq</a> = 0;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;Limit Data for this call:\n&quot;</span>);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;timelimit      = %ld ms (%.3lf s)\n&quot;</span>, config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a>, config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a> / 1000.0);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;play_warning   = %ld ms (%.3lf s)\n&quot;</span>, config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">play_warning</a>, config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">play_warning</a> / 1000.0);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;play_to_caller = %s\n&quot;</span>, play_to_caller ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;play_to_callee = %s\n&quot;</span>, play_to_callee ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;warning_freq   = %ld ms (%.3lf s)\n&quot;</span>, config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#abc09654c9b36de6b0bd0bfd92d31c0c0">warning_freq</a>, config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#abc09654c9b36de6b0bd0bfd92d31c0c0">warning_freq</a> / 1000.0);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;start_sound    = %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af134a8361d8611e10872c9c0f806ba64">start_sound</a>, <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;warning_sound  = %s\n&quot;</span>, config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a1fa6cb6235cf4abe198a8561e3c18bae">warning_sound</a>);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;end_sound      = %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a0b23b4ebfc857809d07d1ced94c9a6eb">end_sound</a>, <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   }</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   <span class="keywordflow">if</span> (play_to_caller)</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;(config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">features_caller</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae6373d88ce4e9e5d9b7031272a9bc5ab">AST_FEATURE_PLAY_WARNING</a>);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   <span class="keywordflow">if</span> (play_to_callee)</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;(config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">features_callee</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae6373d88ce4e9e5d9b7031272a9bc5ab">AST_FEATURE_PLAY_WARNING</a>);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a725b051d26c3350f8cd04467b4202c60"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">ast_bridge_config::features_callee</a></div><div class="ttdeci">struct ast_flags features_callee</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01079">channel.h:1079</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="pbx_8h_html_a98c5425b90ec7c5e136a40f529170b1b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a></div><div class="ttdeci">const char * pbx_builtin_getvar_helper(struct ast_channel *chan, const char *name)</div><div class="ttdoc">Return a pointer to the value of the corresponding channel variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_variables.c:1000</a></div></div>
<div class="ttc" id="structast__bridge__config_html_af134a8361d8611e10872c9c0f806ba64"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#af134a8361d8611e10872c9c0f806ba64">ast_bridge_config::start_sound</a></div><div class="ttdeci">const char * start_sound</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01089">channel.h:1089</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae6373d88ce4e9e5d9b7031272a9bc5ab"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae6373d88ce4e9e5d9b7031272a9bc5ab">AST_FEATURE_PLAY_WARNING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01064">channel.h:1064</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a0b23b4ebfc857809d07d1ced94c9a6eb"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a0b23b4ebfc857809d07d1ced94c9a6eb">ast_bridge_config::end_sound</a></div><div class="ttdeci">const char * end_sound</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01088">channel.h:1088</a></div></div>
<div class="ttc" id="structast__bridge__config_html_af3d16394c849390df1c8f72569faeb37"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">ast_bridge_config::play_warning</a></div><div class="ttdeci">long play_warning</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01085">channel.h:1085</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="structast__bridge__config_html_aa9510db9c5a776dfbd1aaab8c48970f0"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">ast_bridge_config::features_caller</a></div><div class="ttdeci">struct ast_flags features_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01078">channel.h:1078</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a2e006acff60d9b3d65d7d60f975d6747"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a></div><div class="ttdeci">static void parse(struct mgcp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l01872">chan_mgcp.c:1872</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a1fa6cb6235cf4abe198a8561e3c18bae"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a1fa6cb6235cf4abe198a8561e3c18bae">ast_bridge_config::warning_sound</a></div><div class="ttdeci">const char * warning_sound</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01087">channel.h:1087</a></div></div>
<div class="ttc" id="structast__bridge__config_html_abc09654c9b36de6b0bd0bfd92d31c0c0"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#abc09654c9b36de6b0bd0bfd92d31c0c0">ast_bridge_config::warning_freq</a></div><div class="ttdeci">long warning_freq</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01086">channel.h:1086</a></div></div>
<div class="ttc" id="structast__bridge__config_html_ab88b1e2ff0d0fed0616512352e723162"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">ast_bridge_config::timelimit</a></div><div class="ttdeci">long timelimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01084">channel.h:1084</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cc97e866c50a8f3751b48684760b8db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cc97e866c50a8f3751b48684760b8db">&#9670;&nbsp;</a></span>ast_channel_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_log </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00363">363</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#a1d6833a829f7402bbf9cf0383ae3ca00">ast_channel_accountcode()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00406">ast_channel_amaflags()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00317">ast_channel_appl()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00589">ast_channel_cdr()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00334">ast_channel_data()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#aae304e7129d84dd74fde2b4f4ae9dce4">ast_channel_dialcontext()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00311">ast_channel_linkedid()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00362">ast_channel_macrocontext()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00370">ast_channel_macroexten()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00436">ast_channel_macropriority()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00597">ast_channel_masq()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00605">ast_channel_masqr()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00444">ast_channel_priority()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>, and <a class="el" href="../../d5/d92/features_8c_source.html#l00334">set_config_flags()</a>.</p>
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;______ %s (%lx)______\n&quot;</span>, title, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) chan);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;CHAN: name: %s;  appl: %s; data: %s; contxt: %s;  exten: %s; pri: %d;\n&quot;</span>,</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#ac8b850ff95f945ad6cfeb2942799800a">ast_channel_appl</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a531fd832a2f8b0f4156735043a6158e1">ast_channel_data</a>(chan),</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(chan));</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;CHAN: acctcode: %s;  dialcontext: %s; amaflags: %x; maccontxt: %s;  macexten: %s; macpri: %d;\n&quot;</span>,</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a1d6833a829f7402bbf9cf0383ae3ca00">ast_channel_accountcode</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#aae304e7129d84dd74fde2b4f4ae9dce4">ast_channel_dialcontext</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a938863dd527bbcac399636661623baf9">ast_channel_amaflags</a>(chan),</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#ac967e3cfb7640aa743eb1c4811d46be0">ast_channel_macroexten</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a38839b63b5d31eabb850af939e2aa465">ast_channel_macropriority</a>(chan));</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;CHAN: masq: %p;  masqr: %p; uniqueID: %s; linkedID:%s\n&quot;</span>,</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a96d7e5eca937b7e71f27acc4360c3ee1">ast_channel_masq</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a954acd75e9468e701f656d60c8f374b0">ast_channel_masqr</a>(chan),</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan));</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a954acd75e9468e701f656d60c8f374b0">ast_channel_masqr</a>(chan)) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;CHAN: masquerading as: %s;  cdr: %p;\n&quot;</span>,</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a954acd75e9468e701f656d60c8f374b0">ast_channel_masqr</a>(chan)), <a class="code" href="../../d5/d7b/channel_8h.html#aba3f5f98138ce51792c44388a8d3ddcc">ast_channel_cdr</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a954acd75e9468e701f656d60c8f374b0">ast_channel_masqr</a>(chan)));</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;===== done ====\n&quot;</span>);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div><div class="ttc" id="channel_8h_html_aba3f5f98138ce51792c44388a8d3ddcc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aba3f5f98138ce51792c44388a8d3ddcc">ast_channel_cdr</a></div><div class="ttdeci">struct ast_cdr * ast_channel_cdr(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00589">channel_internal_api.c:589</a></div></div>
<div class="ttc" id="channel_8h_html_a6610c8171ced0a69738622c11736ff5e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a></div><div class="ttdeci">int ast_channel_priority(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00444">channel_internal_api.c:444</a></div></div>
<div class="ttc" id="channel_8h_html_aa776071546e0bb0eb8cfc4c3a3159dfc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a></div><div class="ttdeci">const char * ast_channel_linkedid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00311">channel_internal_api.c:311</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a1d6833a829f7402bbf9cf0383ae3ca00"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1d6833a829f7402bbf9cf0383ae3ca00">ast_channel_accountcode</a></div><div class="ttdeci">const char * ast_channel_accountcode(const struct ast_channel *chan)</div></div>
<div class="ttc" id="channel_8h_html_a38839b63b5d31eabb850af939e2aa465"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a38839b63b5d31eabb850af939e2aa465">ast_channel_macropriority</a></div><div class="ttdeci">int ast_channel_macropriority(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00436">channel_internal_api.c:436</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="channel_8h_html_a96d7e5eca937b7e71f27acc4360c3ee1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a96d7e5eca937b7e71f27acc4360c3ee1">ast_channel_masq</a></div><div class="ttdeci">struct ast_channel * ast_channel_masq(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00597">channel_internal_api.c:597</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="channel_8h_html_ac8b850ff95f945ad6cfeb2942799800a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac8b850ff95f945ad6cfeb2942799800a">ast_channel_appl</a></div><div class="ttdeci">const char * ast_channel_appl(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00317">channel_internal_api.c:317</a></div></div>
<div class="ttc" id="channel_8h_html_aae304e7129d84dd74fde2b4f4ae9dce4"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aae304e7129d84dd74fde2b4f4ae9dce4">ast_channel_dialcontext</a></div><div class="ttdeci">const char * ast_channel_dialcontext(const struct ast_channel *chan)</div></div>
<div class="ttc" id="channel_8h_html_a531fd832a2f8b0f4156735043a6158e1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a531fd832a2f8b0f4156735043a6158e1">ast_channel_data</a></div><div class="ttdeci">const char * ast_channel_data(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00334">channel_internal_api.c:334</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="channel_8h_html_adf593d68a333075c1fcae8a73b68c069"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a></div><div class="ttdeci">const char * ast_channel_macrocontext(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00362">channel_internal_api.c:362</a></div></div>
<div class="ttc" id="channel_8h_html_a938863dd527bbcac399636661623baf9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a938863dd527bbcac399636661623baf9">ast_channel_amaflags</a></div><div class="ttdeci">enum ama_flags ast_channel_amaflags(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00406">channel_internal_api.c:406</a></div></div>
<div class="ttc" id="channel_8h_html_a954acd75e9468e701f656d60c8f374b0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a954acd75e9468e701f656d60c8f374b0">ast_channel_masqr</a></div><div class="ttdeci">struct ast_channel * ast_channel_masqr(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00605">channel_internal_api.c:605</a></div></div>
<div class="ttc" id="channel_8h_html_ac967e3cfb7640aa743eb1c4811d46be0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac967e3cfb7640aa743eb1c4811d46be0">ast_channel_macroexten</a></div><div class="ttdeci">const char * ast_channel_macroexten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00370">channel_internal_api.c:370</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l01186">1186</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

</div>
</div>
<a id="af28231fc268d53c9fd26b0eed2352514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af28231fc268d53c9fd26b0eed2352514">&#9670;&nbsp;</a></span>bridge_check_monitor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_check_monitor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>peer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00486">486</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_builtin_getvar_helper()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00471">pbx_exec()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00165">pbx_findapp()</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;{</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *monitor_args = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *monitor_chan = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   value = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;AUTO_MONITOR&quot;</span>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(value)) {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      monitor_args = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(value);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      monitor_chan = chan;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   }</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <span class="keywordflow">if</span> (!monitor_chan) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(peer);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      value = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(peer, <span class="stringliteral">&quot;AUTO_MONITOR&quot;</span>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(value)) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;         monitor_args = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(value);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;         monitor_chan = peer;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(peer);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <span class="keywordflow">if</span> (monitor_chan) {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/da3/structast__app.html">ast_app</a> *monitor_app;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      monitor_app = <a class="code" href="../../db/de0/pbx_8h.html#ad4a6912dcd2ad44a186d0a284afafc51">pbx_findapp</a>(<span class="stringliteral">&quot;Monitor&quot;</span>);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="keywordflow">if</span> (monitor_app) {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a6e3dbc57c03c23543354ef108c31fac8">pbx_exec</a>(monitor_chan, monitor_app, monitor_args);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e3dbc57c03c23543354ef108c31fac8"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e3dbc57c03c23543354ef108c31fac8">pbx_exec</a></div><div class="ttdeci">int pbx_exec(struct ast_channel *c, struct ast_app *app, const char *data)</div><div class="ttdoc">Execute an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00471">pbx_app.c:471</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="pbx_8h_html_a98c5425b90ec7c5e136a40f529170b1b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a></div><div class="ttdeci">const char * pbx_builtin_getvar_helper(struct ast_channel *chan, const char *name)</div><div class="ttdoc">Return a pointer to the value of the corresponding channel variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_variables.c:1000</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__app_html"><div class="ttname"><a href="../../d0/da3/structast__app.html">ast_app</a></div><div class="ttdoc">ast_app: A registered application </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00045">pbx_app.c:45</a></div></div>
<div class="ttc" id="pbx_8h_html_ad4a6912dcd2ad44a186d0a284afafc51"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad4a6912dcd2ad44a186d0a284afafc51">pbx_findapp</a></div><div class="ttdeci">struct ast_app * pbx_findapp(const char *app)</div><div class="ttdoc">Look up an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00165">ael_main.c:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42feee36c86ad2f98158935cc0a3b272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42feee36c86ad2f98158935cc0a3b272">&#9670;&nbsp;</a></span>bridge_config_set_limits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_config_set_limits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *&#160;</td>
          <td class="paramname"><em>caller_limits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *&#160;</td>
          <td class="paramname"><em>callee_limits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00462">462</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l01064">AST_FEATURE_PLAY_WARNING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00437">bridge_config_set_limits_warning_values()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00344">ast_bridge_features_limits::duration</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01079">ast_bridge_config::features_callee</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01078">ast_bridge_config::features_caller</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l01084">ast_bridge_config::timelimit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;{</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">features_caller</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae6373d88ce4e9e5d9b7031272a9bc5ab">AST_FEATURE_PLAY_WARNING</a>)) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <a class="code" href="../../d5/d92/features_8c.html#a0ddb78e88a9126c588d8d07abd32f053">bridge_config_set_limits_warning_values</a>(config, caller_limits);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">features_callee</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae6373d88ce4e9e5d9b7031272a9bc5ab">AST_FEATURE_PLAY_WARNING</a>)) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <a class="code" href="../../d5/d92/features_8c.html#a0ddb78e88a9126c588d8d07abd32f053">bridge_config_set_limits_warning_values</a>(config, callee_limits);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   caller_limits-&gt;<a class="code" href="../../d7/da5/structast__bridge__features__limits.html#a095ceb846c8c874cd3fcc5cdaf6ade81">duration</a> = config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   callee_limits-&gt;<a class="code" href="../../d7/da5/structast__bridge__features__limits.html#a095ceb846c8c874cd3fcc5cdaf6ade81">duration</a> = config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div><div class="ttc" id="features_8c_html_a0ddb78e88a9126c588d8d07abd32f053"><div class="ttname"><a href="../../d5/d92/features_8c.html#a0ddb78e88a9126c588d8d07abd32f053">bridge_config_set_limits_warning_values</a></div><div class="ttdeci">static void bridge_config_set_limits_warning_values(struct ast_bridge_config *config, struct ast_bridge_features_limits *limits)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00437">features.c:437</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a725b051d26c3350f8cd04467b4202c60"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">ast_bridge_config::features_callee</a></div><div class="ttdeci">struct ast_flags features_callee</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01079">channel.h:1079</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae6373d88ce4e9e5d9b7031272a9bc5ab"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae6373d88ce4e9e5d9b7031272a9bc5ab">AST_FEATURE_PLAY_WARNING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01064">channel.h:1064</a></div></div>
<div class="ttc" id="structast__bridge__config_html_aa9510db9c5a776dfbd1aaab8c48970f0"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">ast_bridge_config::features_caller</a></div><div class="ttdeci">struct ast_flags features_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01078">channel.h:1078</a></div></div>
<div class="ttc" id="structast__bridge__features__limits_html_a095ceb846c8c874cd3fcc5cdaf6ade81"><div class="ttname"><a href="../../d7/da5/structast__bridge__features__limits.html#a095ceb846c8c874cd3fcc5cdaf6ade81">ast_bridge_features_limits::duration</a></div><div class="ttdeci">unsigned int duration</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00344">bridge_features.h:344</a></div></div>
<div class="ttc" id="structast__bridge__config_html_ab88b1e2ff0d0fed0616512352e723162"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">ast_bridge_config::timelimit</a></div><div class="ttdeci">long timelimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01084">channel.h:1084</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ddb78e88a9126c588d8d07abd32f053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddb78e88a9126c588d8d07abd32f053">&#9670;&nbsp;</a></span>bridge_config_set_limits_warning_values()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_config_set_limits_warning_values </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *&#160;</td>
          <td class="paramname"><em>limits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00437">437</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01088">ast_bridge_config::end_sound</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00348">ast_bridge_features_limits::frequency</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01085">ast_bridge_config::play_warning</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01089">ast_bridge_config::start_sound</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00346">ast_bridge_features_limits::warning</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01086">ast_bridge_config::warning_freq</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l01087">ast_bridge_config::warning_sound</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00462">bridge_config_set_limits()</a>.</p>
<div class="fragment"><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   <span class="keywordflow">if</span> (config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a0b23b4ebfc857809d07d1ced94c9a6eb">end_sound</a>) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(limits, duration_sound, config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a0b23b4ebfc857809d07d1ced94c9a6eb">end_sound</a>);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="keywordflow">if</span> (config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a1fa6cb6235cf4abe198a8561e3c18bae">warning_sound</a>) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(limits, warning_sound, config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a1fa6cb6235cf4abe198a8561e3c18bae">warning_sound</a>);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <span class="keywordflow">if</span> (config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af134a8361d8611e10872c9c0f806ba64">start_sound</a>) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(limits, connect_sound, config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af134a8361d8611e10872c9c0f806ba64">start_sound</a>);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   limits-&gt;<a class="code" href="../../d7/da5/structast__bridge__features__limits.html#a3b008f2b9d73c272d595c38d2663dea1">frequency</a> = config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#abc09654c9b36de6b0bd0bfd92d31c0c0">warning_freq</a>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   limits-&gt;<a class="code" href="../../d7/da5/structast__bridge__features__limits.html#a3cd36a1ca22dd411fcce7a3bdd7514ac">warning</a> = config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">play_warning</a>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div><div class="ttc" id="structast__bridge__features__limits_html_a3cd36a1ca22dd411fcce7a3bdd7514ac"><div class="ttname"><a href="../../d7/da5/structast__bridge__features__limits.html#a3cd36a1ca22dd411fcce7a3bdd7514ac">ast_bridge_features_limits::warning</a></div><div class="ttdeci">unsigned int warning</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00346">bridge_features.h:346</a></div></div>
<div class="ttc" id="structast__bridge__config_html_af134a8361d8611e10872c9c0f806ba64"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#af134a8361d8611e10872c9c0f806ba64">ast_bridge_config::start_sound</a></div><div class="ttdeci">const char * start_sound</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01089">channel.h:1089</a></div></div>
<div class="ttc" id="structast__bridge__features__limits_html_a3b008f2b9d73c272d595c38d2663dea1"><div class="ttname"><a href="../../d7/da5/structast__bridge__features__limits.html#a3b008f2b9d73c272d595c38d2663dea1">ast_bridge_features_limits::frequency</a></div><div class="ttdeci">unsigned int frequency</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00348">bridge_features.h:348</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a0b23b4ebfc857809d07d1ced94c9a6eb"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a0b23b4ebfc857809d07d1ced94c9a6eb">ast_bridge_config::end_sound</a></div><div class="ttdeci">const char * end_sound</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01088">channel.h:1088</a></div></div>
<div class="ttc" id="structast__bridge__config_html_af3d16394c849390df1c8f72569faeb37"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#af3d16394c849390df1c8f72569faeb37">ast_bridge_config::play_warning</a></div><div class="ttdeci">long play_warning</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01085">channel.h:1085</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a1fa6cb6235cf4abe198a8561e3c18bae"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a1fa6cb6235cf4abe198a8561e3c18bae">ast_bridge_config::warning_sound</a></div><div class="ttdeci">const char * warning_sound</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01087">channel.h:1087</a></div></div>
<div class="ttc" id="structast__bridge__config_html_abc09654c9b36de6b0bd0bfd92d31c0c0"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#abc09654c9b36de6b0bd0bfd92d31c0c0">ast_bridge_config::warning_freq</a></div><div class="ttdeci">long warning_freq</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01086">channel.h:1086</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5be9e06ba28b33987cb079049c00adf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be9e06ba28b33987cb079049c00adf7">&#9670;&nbsp;</a></span>bridge_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bridge_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bridge channels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td></td></tr>
    <tr><td class="paramname">data</td><td>channel to bridge with.</td></tr>
  </table>
  </dd>
</dl>
<p>Split data, check we aren't bridging with ourself, check valid channel, answer call if not already, check compatible channels, setup bridge config now bridge call, if transferred party hangs up return to PBX extension. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l01007">1007</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02906">ast_app_parse_options()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02519">ast_bridge_add_channel()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03720">ast_bridge_features_cleanup()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03741">ast_bridge_features_destroy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03687">ast_bridge_features_init()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03750">ast_bridge_features_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01667">ast_bridge_join()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00549">AST_BRIDGE_JOIN_PASS_REFERENCE</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00636">ast_bridge_set_after_go_on()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00886">ast_bridge_timelimit()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02992">ast_channel_cleanup</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01434">ast_channel_get_by_name_prefix()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00444">ast_channel_priority()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01068">AST_FEATURE_AUTOMON</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01066">AST_FEATURE_DISCONNECT</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01069">AST_FEATURE_PARKCALL</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01065">AST_FEATURE_REDIRECT</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01143">ast_get_chan_features_xfer_config()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00884">bridge_exec_options</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00847">BRIDGE_OPT_PLAYTONE</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00116">context</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00048">done</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01088">ast_bridge_config::end_sound</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01079">ast_bridge_config::features_callee</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01078">ast_bridge_config::features_caller</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00867">OPT_ARG_ARRAY_SIZE</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00865">OPT_ARG_CALLEE_GO_ON</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00863">OPT_ARG_DURATION_LIMIT</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00859">OPT_CALLEE_GO_ON</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00848">OPT_CALLEE_HANGUP</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00858">OPT_CALLEE_KILL</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00854">OPT_CALLEE_MONITOR</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00856">OPT_CALLEE_PARK</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00852">OPT_CALLEE_TRANSFER</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00849">OPT_CALLER_HANGUP</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00855">OPT_CALLER_MONITOR</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00857">OPT_CALLER_PARK</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00853">OPT_CALLER_TRANSFER</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00850">OPT_DURATION_LIMIT</a>, <a class="el" href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">options</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00259">ast_dial_features::peer_features</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>, <a class="el" href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">priority</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01089">ast_bridge_config::start_sound</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01087">ast_bridge_config::warning_sound</a>, and <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">ast_features_xfer_config::xfersound</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l01168">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;{</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *current_dest_chan = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;   <span class="keywordtype">char</span> *tmp_data  = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> opts = { 0, };</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> bconfig = { { 0, }, };</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;   <span class="keywordtype">char</span> *opt_args[<a class="code" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876aec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a>];</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;   <span class="keyword">struct </span>timeval calldurationlimit = { 0, };</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d5a/structextension.html">extension</a>;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   <span class="keywordtype">int</span> bridge_add_failed;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> chan_features;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *peer_features;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/db6/structast__features__xfer__config.html">ast_features_xfer_config</a> *xfer_cfg;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(dest_chan);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;   );</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   tmp_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data ?: <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, tmp_data);</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options)) {</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af40039f1c49c16d0f6fa33fe9c43a0cb">ast_app_parse_options</a>(<a class="code" href="../../d5/d92/features_8c.html#a1f1561f68468b6f13235b3bedce80962">bridge_exec_options</a>, &amp;opts, opt_args, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;   }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;   <span class="comment">/* make sure we have a valid end point */</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.dest_chan)) {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      current_dest_chan = <a class="code" href="../../d5/d7b/channel_8h.html#a71d89dbc5107b1f851dcbf1686a0d9d9">ast_channel_get_by_name_prefix</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.dest_chan,</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;         strlen(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.dest_chan));</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;   }</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;   <span class="keywordflow">if</span> (!current_dest_chan) {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;Bridge failed because channel &#39;%s&#39; does not exist\n&quot;</span>,</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;         <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.dest_chan ?: <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;BRIDGERESULT&quot;</span>, <span class="stringliteral">&quot;NONEXISTENT&quot;</span>);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   }</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   <span class="comment">/* avoid bridge with ourselves */</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;   <span class="keywordflow">if</span> (chan == current_dest_chan) {</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(current_dest_chan);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to bridge channel %s with itself\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;BRIDGERESULT&quot;</span>, <span class="stringliteral">&quot;LOOP&quot;</span>);</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;   }</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;opts, <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea3de43f39b62e2f782e8eac89a7dcc164">OPT_DURATION_LIMIT</a>)</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(opt_args[<a class="code" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876ab92f4dda872862b445c7ee78b5eca872">OPT_ARG_DURATION_LIMIT</a>])</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      &amp;&amp; <a class="code" href="../../d5/d92/features_8c.html#aa66e4da38daa333f3a871726d46eed96">ast_bridge_timelimit</a>(chan, &amp;bconfig, opt_args[OPT_ARG_DURATION_LIMIT], &amp;calldurationlimit)) {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;   }</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;opts, <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea6faa363811a3b467116d290d52d967da">OPT_CALLEE_TRANSFER</a>))</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;(bconfig.<a class="code" href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">features_callee</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a>);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;opts, <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eadb3ae0c7823e3bd3f4a45db3d03f33cb">OPT_CALLER_TRANSFER</a>))</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;(bconfig.<a class="code" href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">features_caller</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a>);</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;opts, <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eab0eb8a377bf253cf368bf70f0b59fc31">OPT_CALLEE_HANGUP</a>))</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;(bconfig.<a class="code" href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">features_callee</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a>);</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;opts, <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea9f03cca4e2ee93778ae8ed2db279587d">OPT_CALLER_HANGUP</a>))</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;(bconfig.<a class="code" href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">features_caller</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a>);</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;opts, <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea98ad2a6cc60abe9a8cfd5f040fa9b4a4">OPT_CALLEE_MONITOR</a>))</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;(bconfig.<a class="code" href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">features_callee</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362">AST_FEATURE_AUTOMON</a>);</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;opts, <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea8b131c263901244154b7b85ec05e6521">OPT_CALLER_MONITOR</a>))</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;(bconfig.<a class="code" href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">features_caller</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362">AST_FEATURE_AUTOMON</a>);</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;opts, <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea35080c34427591a22d34370e0a8ebab4">OPT_CALLEE_PARK</a>))</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;(bconfig.<a class="code" href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">features_callee</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a>);</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;opts, <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea82c1e40f3b210bce47d00d44dec0b8fd">OPT_CALLER_PARK</a>))</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;(bconfig.<a class="code" href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">features_caller</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a>);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;   <span class="comment">/* Setup after bridge goto location. */</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;opts, <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea78690a8e97e0eac7d0982b81d5cadac8">OPT_CALLEE_GO_ON</a>)) {</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      context = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chan));</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      extension = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chan));</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      priority = <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(chan);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <a class="code" href="../../d8/d85/bridge__after_8h.html#abffcfc07534d569ab73f8fdb19a94677">ast_bridge_set_after_go_on</a>(current_dest_chan, context, extension, priority,</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;         opt_args[<a class="code" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876a1d0a4362e89e71be70b2ca0d47616c99">OPT_ARG_CALLEE_GO_ON</a>]);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;opts, <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eacc3e8440cd8f27440c7f0c27f67b3e3d">OPT_CALLEE_KILL</a>)) {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(current_dest_chan);</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      context = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(current_dest_chan));</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      extension = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(current_dest_chan));</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      priority = <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(current_dest_chan);</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(current_dest_chan);</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <a class="code" href="../../d8/d85/bridge__after_8h.html#abffcfc07534d569ab73f8fdb19a94677">ast_bridge_set_after_go_on</a>(current_dest_chan, context, extension, priority, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;   }</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;chan_features)) {</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(&amp;chan_features);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;   }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;   peer_features = <a class="code" href="../../dc/d7a/bridge__features_8h.html#abf9e5d393615c63d27e0bd530301a1ed">ast_bridge_features_new</a>();</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   <span class="keywordflow">if</span> (!peer_features) {</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(&amp;chan_features);</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   }</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d92/features_8c.html#a19270bbca76aa0850d34134c16424063">pre_bridge_setup</a>(chan, current_dest_chan, &amp;bconfig, &amp;chan_features, peer_features)) {</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a>(peer_features);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(&amp;chan_features);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;   }</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;   bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;   <span class="keywordflow">if</span> (!bridge) {</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a>(peer_features);</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(&amp;chan_features);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;   }</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(current_dest_chan);</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;   xfer_cfg = <a class="code" href="../../d0/daa/include_2asterisk_2features__config_8h.html#ab442de0580c9cee7ae5e10886e28ed8c">ast_get_chan_features_xfer_config</a>(current_dest_chan);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(current_dest_chan);</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   bridge_add_failed = <a class="code" href="../../de/d47/features_8h.html#aabeca6aae7e5db0dfe25ab88c1a40b07">ast_bridge_add_channel</a>(bridge, current_dest_chan, peer_features,</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;opts, <a class="code" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eac6c5fc9f2156b5d690587dc1fdcbc6b3">BRIDGE_OPT_PLAYTONE</a>),</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      xfer_cfg ? xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#aa79f71a801e58cd6889780e185e9a5d3">xfersound</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(xfer_cfg);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;   <span class="keywordflow">if</span> (bridge_add_failed) {</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(&amp;chan_features);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(bridge, 0);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;   }</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;   <span class="comment">/* Don&#39;t keep the channel ref in case it was not already in a bridge. */</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;   current_dest_chan = <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(current_dest_chan);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;   res = <a class="code" href="../../d4/d56/bridge_8h.html#a116a27b8e1e111729ee1828d4fab6b5a">ast_bridge_join</a>(bridge, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;chan_features, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">AST_BRIDGE_JOIN_PASS_REFERENCE</a>);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(&amp;chan_features);</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>:</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;   <span class="keywordflow">if</span> (res == -1) {</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;BRIDGERESULT&quot;</span>, <span class="stringliteral">&quot;FAILURE&quot;</span>);</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;BRIDGERESULT&quot;</span>, <span class="stringliteral">&quot;SUCCESS&quot;</span>);</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;   }</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *) bconfig.<a class="code" href="../../d0/d13/structast__bridge__config.html#a1fa6cb6235cf4abe198a8561e3c18bae">warning_sound</a>);</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *) bconfig.<a class="code" href="../../d0/d13/structast__bridge__config.html#a0b23b4ebfc857809d07d1ced94c9a6eb">end_sound</a>);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *) bconfig.<a class="code" href="../../d0/d13/structast__bridge__config.html#af134a8361d8611e10872c9c0f806ba64">start_sound</a>);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>(current_dest_chan);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="bridge__features_8h_html_aafc3026d777c0bf6899e93263178e102"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a></div><div class="ttdeci">void ast_bridge_features_cleanup(struct ast_bridge_features *features)</div><div class="ttdoc">Clean up the contents of a bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03720">bridge.c:3720</a></div></div>
<div class="ttc" id="features_8c_html_a83f72dd946185574b53be115821f6876ab92f4dda872862b445c7ee78b5eca872"><div class="ttname"><a href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876ab92f4dda872862b445c7ee78b5eca872">OPT_ARG_DURATION_LIMIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00863">features.c:863</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html">ast_features_xfer_config</a></div><div class="ttdoc">Feature configuration relating to transfers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00057">include/asterisk/features_config.h:57</a></div></div>
<div class="ttc" id="features_8c_html_a83f72dd946185574b53be115821f6876a1d0a4362e89e71be70b2ca0d47616c99"><div class="ttname"><a href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876a1d0a4362e89e71be70b2ca0d47616c99">OPT_ARG_CALLEE_GO_ON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00865">features.c:865</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea3de43f39b62e2f782e8eac89a7dcc164"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea3de43f39b62e2f782e8eac89a7dcc164">OPT_DURATION_LIMIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00850">features.c:850</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea8b131c263901244154b7b85ec05e6521"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea8b131c263901244154b7b85ec05e6521">OPT_CALLER_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00855">features.c:855</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a725b051d26c3350f8cd04467b4202c60"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">ast_bridge_config::features_callee</a></div><div class="ttdeci">struct ast_flags features_callee</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01079">channel.h:1079</a></div></div>
<div class="ttc" id="structast__bridge__features_html"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a></div><div class="ttdoc">Structure that contains features information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00263">bridge_features.h:263</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea9f03cca4e2ee93778ae8ed2db279587d"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea9f03cca4e2ee93778ae8ed2db279587d">OPT_CALLER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00849">features.c:849</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64eadb3ae0c7823e3bd3f4a45db3d03f33cb"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eadb3ae0c7823e3bd3f4a45db3d03f33cb">OPT_CALLER_TRANSFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00853">features.c:853</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01066">channel.h:1066</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64eacc3e8440cd8f27440c7f0c27f67b3e3d"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eacc3e8440cd8f27440c7f0c27f67b3e3d">OPT_CALLEE_KILL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00858">features.c:858</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a3128b52009fb3dd764dce90ea377fce1"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a></div><div class="ttdeci">int ast_bridge_features_init(struct ast_bridge_features *features)</div><div class="ttdoc">Initialize bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03687">bridge.c:3687</a></div></div>
<div class="ttc" id="include_2asterisk_2features__config_8h_html_ab442de0580c9cee7ae5e10886e28ed8c"><div class="ttname"><a href="../../d0/daa/include_2asterisk_2features__config_8h.html#ab442de0580c9cee7ae5e10886e28ed8c">ast_get_chan_features_xfer_config</a></div><div class="ttdeci">struct ast_features_xfer_config * ast_get_chan_features_xfer_config(struct ast_channel *chan)</div><div class="ttdoc">Get the transfer configuration options for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d71/features__config_8c_source.html#l01143">features_config.c:1143</a></div></div>
<div class="ttc" id="bridge_8h_html_a4adad484788bb018b8699eeed2ddfedd"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a></div><div class="ttdeci">int ast_bridge_destroy(struct ast_bridge *bridge, int cause)</div><div class="ttdoc">Destroy a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00970">bridge.c:970</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea35080c34427591a22d34370e0a8ebab4"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea35080c34427591a22d34370e0a8ebab4">OPT_CALLEE_PARK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00856">features.c:856</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="channel_8h_html_a6610c8171ced0a69738622c11736ff5e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a></div><div class="ttdeci">int ast_channel_priority(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00444">channel_internal_api.c:444</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="bridge__features_8h_html_ad3debd15062b4b9463e5703724dd9a1f"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a></div><div class="ttdeci">void ast_bridge_features_destroy(struct ast_bridge_features *features)</div><div class="ttdoc">Destroy an allocated bridge features struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03741">bridge.c:3741</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea98ad2a6cc60abe9a8cfd5f040fa9b4a4"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea98ad2a6cc60abe9a8cfd5f040fa9b4a4">OPT_CALLEE_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00854">features.c:854</a></div></div>
<div class="ttc" id="features_8c_html_a1f1561f68468b6f13235b3bedce80962"><div class="ttname"><a href="../../d5/d92/features_8c.html#a1f1561f68468b6f13235b3bedce80962">bridge_exec_options</a></div><div class="ttdeci">static const struct ast_app_option bridge_exec_options[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00884">features.c:884</a></div></div>
<div class="ttc" id="features_8c_html_a19270bbca76aa0850d34134c16424063"><div class="ttname"><a href="../../d5/d92/features_8c.html#a19270bbca76aa0850d34134c16424063">pre_bridge_setup</a></div><div class="ttdeci">static int pre_bridge_setup(struct ast_channel *chan, struct ast_channel *peer, struct ast_bridge_config *config, struct ast_bridge_features *chan_features, struct ast_bridge_features *peer_features)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00536">features.c:536</a></div></div>
<div class="ttc" id="channel_8h_html_a71d89dbc5107b1f851dcbf1686a0d9d9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a71d89dbc5107b1f851dcbf1686a0d9d9">ast_channel_get_by_name_prefix</a></div><div class="ttdeci">struct ast_channel * ast_channel_get_by_name_prefix(const char *name, size_t name_len)</div><div class="ttdoc">Find a channel by a name prefix. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01434">channel.c:1434</a></div></div>
<div class="ttc" id="structast__bridge__config_html_af134a8361d8611e10872c9c0f806ba64"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#af134a8361d8611e10872c9c0f806ba64">ast_bridge_config::start_sound</a></div><div class="ttdeci">const char * start_sound</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01089">channel.h:1089</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="test__amihooks_8c_html_a5992b274cfdcacdbc1fa8347fd01ebde"><div class="ttname"><a href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a></div><div class="ttdeci">int done</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbf/test__amihooks_8c_source.html#l00048">test_amihooks.c:48</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea6faa363811a3b467116d290d52d967da"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea6faa363811a3b467116d290d52d967da">OPT_CALLEE_TRANSFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00852">features.c:852</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362">AST_FEATURE_AUTOMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01068">channel.h:1068</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64eab0eb8a377bf253cf368bf70f0b59fc31"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eab0eb8a377bf253cf368bf70f0b59fc31">OPT_CALLEE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00848">features.c:848</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64eac6c5fc9f2156b5d690587dc1fdcbc6b3"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eac6c5fc9f2156b5d690587dc1fdcbc6b3">BRIDGE_OPT_PLAYTONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00847">features.c:847</a></div></div>
<div class="ttc" id="structast__bridge__config_html"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a></div><div class="ttdoc">bridge configuration </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01077">channel.h:1077</a></div></div>
<div class="ttc" id="channel_8h_html_ae93ebb3372a2d9495ae3c5417dd95cd5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a></div><div class="ttdeci">#define ast_channel_cleanup(c)</div><div class="ttdoc">Cleanup a channel reference. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02992">channel.h:2992</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a0b23b4ebfc857809d07d1ced94c9a6eb"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a0b23b4ebfc857809d07d1ced94c9a6eb">ast_bridge_config::end_sound</a></div><div class="ttdeci">const char * end_sound</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01088">channel.h:1088</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_af40039f1c49c16d0f6fa33fe9c43a0cb"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#af40039f1c49c16d0f6fa33fe9c43a0cb">ast_app_parse_options</a></div><div class="ttdeci">int ast_app_parse_options(const struct ast_app_option *options, struct ast_flags *flags, char **args, char *optstr)</div><div class="ttdoc">Parses a string containing application options and sets flags/arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l02906">main/app.c:2906</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="structast__bridge__config_html_aa9510db9c5a776dfbd1aaab8c48970f0"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">ast_bridge_config::features_caller</a></div><div class="ttdeci">struct ast_flags features_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01078">channel.h:1078</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="features_8h_html_aabeca6aae7e5db0dfe25ab88c1a40b07"><div class="ttname"><a href="../../de/d47/features_8h.html#aabeca6aae7e5db0dfe25ab88c1a40b07">ast_bridge_add_channel</a></div><div class="ttdeci">int ast_bridge_add_channel(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_bridge_features *features, int play_tone, const char *xfersound)</div><div class="ttdoc">Add an arbitrary channel to a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02519">bridge.c:2519</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01065">channel.h:1065</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea78690a8e97e0eac7d0982b81d5cadac8"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea78690a8e97e0eac7d0982b81d5cadac8">OPT_CALLEE_GO_ON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00859">features.c:859</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="bridge_8h_html_a116a27b8e1e111729ee1828d4fab6b5a"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a116a27b8e1e111729ee1828d4fab6b5a">ast_bridge_join</a></div><div class="ttdeci">int ast_bridge_join(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, struct ast_bridge_tech_optimizations *tech_args, enum ast_bridge_join_flags flags)</div><div class="ttdoc">Join a channel to a bridge (blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01667">bridge.c:1667</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="bridge__features_8h_html_abf9e5d393615c63d27e0bd530301a1ed"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#abf9e5d393615c63d27e0bd530301a1ed">ast_bridge_features_new</a></div><div class="ttdeci">struct ast_bridge_features * ast_bridge_features_new(void)</div><div class="ttdoc">Allocate a new bridge features struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03750">bridge.c:3750</a></div></div>
<div class="ttc" id="features_8c_html_aa66e4da38daa333f3a871726d46eed96"><div class="ttname"><a href="../../d5/d92/features_8c.html#aa66e4da38daa333f3a871726d46eed96">ast_bridge_timelimit</a></div><div class="ttdeci">int ast_bridge_timelimit(struct ast_channel *chan, struct ast_bridge_config *config, char *parse, struct timeval *calldurationlimit)</div><div class="ttdoc">parse L option and read associated channel variables to set warning, warning frequency, and timelimit </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00886">features.c:886</a></div></div>
<div class="ttc" id="features_8c_html_a83f72dd946185574b53be115821f6876aec7326f60e7edad15d96ff935e5616d6"><div class="ttname"><a href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876aec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00867">features.c:867</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01069">channel.h:1069</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="features_8c_html_afaf9a3cf32370efd622b461ac53de64ea82c1e40f3b210bce47d00d44dec0b8fd"><div class="ttname"><a href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea82c1e40f3b210bce47d00d44dec0b8fd">OPT_CALLER_PARK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00857">features.c:857</a></div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="bridge__after_8h_html_abffcfc07534d569ab73f8fdb19a94677"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#abffcfc07534d569ab73f8fdb19a94677">ast_bridge_set_after_go_on</a></div><div class="ttdeci">void ast_bridge_set_after_go_on(struct ast_channel *chan, const char *context, const char *exten, int priority, const char *parseable_goto)</div><div class="ttdoc">Set channel to go on in the dialplan after the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00636">bridge_after.c:636</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a1fa6cb6235cf4abe198a8561e3c18bae"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a1fa6cb6235cf4abe198a8561e3c18bae">ast_bridge_config::warning_sound</a></div><div class="ttdeci">const char * warning_sound</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01087">channel.h:1087</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="bridge_8h_html_ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">AST_BRIDGE_JOIN_PASS_REFERENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00549">bridge.h:549</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_aa79f71a801e58cd6889780e185e9a5d3"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#aa79f71a801e58cd6889780e185e9a5d3">ast_features_xfer_config::xfersound</a></div><div class="ttdeci">const ast_string_field xfersound</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">include/asterisk/features_config.h:75</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac06adfce185b6dcc89bd7410e2ee344a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac06adfce185b6dcc89bd7410e2ee344a">&#9670;&nbsp;</a></span>bridge_failed_peer_goto()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_failed_peer_goto </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>peer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00528">528</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00342">ast_autoservice_chan_hangup_peer()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00447">ast_bridge_setup_after_goto()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l04712">ast_pbx_start()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00633">ast_bridge_call_with_flags()</a>.</p>
<div class="fragment"><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;{</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d85/bridge__after_8h.html#a6231027722f2bdd4093d15defa0d7b94">ast_bridge_setup_after_goto</a>(peer)</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      || <a class="code" href="../../db/de0/pbx_8h.html#a9a937fbb3b5f4e68880a9c5714a29ce5">ast_pbx_start</a>(peer)) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ae6c85ee3595b7e9ee6fc072a3b7da814">ast_autoservice_chan_hangup_peer</a>(chan, peer);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a9a937fbb3b5f4e68880a9c5714a29ce5"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a9a937fbb3b5f4e68880a9c5714a29ce5">ast_pbx_start</a></div><div class="ttdeci">enum ast_pbx_result ast_pbx_start(struct ast_channel *c)</div><div class="ttdoc">Create a new thread and start the PBX. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04712">pbx.c:4712</a></div></div>
<div class="ttc" id="channel_8h_html_ae6c85ee3595b7e9ee6fc072a3b7da814"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae6c85ee3595b7e9ee6fc072a3b7da814">ast_autoservice_chan_hangup_peer</a></div><div class="ttdeci">void ast_autoservice_chan_hangup_peer(struct ast_channel *chan, struct ast_channel *peer)</div><div class="ttdoc">Put chan into autoservice while hanging up peer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d66/autoservice_8c_source.html#l00342">autoservice.c:342</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a6231027722f2bdd4093d15defa0d7b94"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a6231027722f2bdd4093d15defa0d7b94">ast_bridge_setup_after_goto</a></div><div class="ttdeci">int ast_bridge_setup_after_goto(struct ast_channel *chan)</div><div class="ttdoc">Setup any after bridge goto location to begin execution. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00447">bridge_after.c:447</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adef8fadeae29c7bd0b0f5133352f636d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adef8fadeae29c7bd0b0f5133352f636d">&#9670;&nbsp;</a></span>dial_features_duplicate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* dial_features_duplicate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00262">262</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/db3/structast__dial__features.html">ast_dial_features</a> *df = data, *df_copy;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="keywordflow">if</span> (!(df_copy = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*df)))) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   memcpy(df_copy, df, <span class="keyword">sizeof</span>(*df));</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   <span class="keywordflow">return</span> df_copy;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div><div class="ttc" id="structast__dial__features_html"><div class="ttname"><a href="../../da/db3/structast__dial__features.html">ast_dial_features</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00255">features.c:255</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l01168">1168</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d92/features_8c_source.html#l00757">action_bridge()</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00197">ast_manager_register_xml_core</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00316">AST_MODFLAG_GLOBAL_SYMBOLS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00324">AST_MODPRI_CORE</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00102">AST_MODULE_LOAD_FAILURE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00103">ast_register_application2()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l01007">bridge_exec()</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00072">EVENT_FLAG_CALL</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01996">load_features_config()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00741">reload()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01985">reload_features_config()</a>, and <a class="el" href="../../d5/d92/features_8c_source.html#l01157">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;{</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;   res = <a class="code" href="../../de/d71/features__config_8c.html#ab2e74df8691039751d0423f2c217207b">load_features_config</a>();</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#a5fd926a7510f3d3fd0d69ae710ec1e89">ast_register_application2</a>(<a class="code" href="../../d5/d92/features_8c.html#a30cf144e208ddc17e51b2f1e600052e8">app_bridge</a>, <a class="code" href="../../d5/d92/features_8c.html#a5be9e06ba28b33987cb079049c00adf7">bridge_exec</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;   res |= <a class="code" href="../../db/d45/manager_8h.html#a1d34461b8a3210b19e66f06bcdebfeb3">ast_manager_register_xml_core</a>(<span class="stringliteral">&quot;Bridge&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#ab5db3cc603d7e798d61cb4cd94fbb4e2">EVENT_FLAG_CALL</a>, <a class="code" href="../../d5/d92/features_8c.html#a51755e20bdcffb65c53468b7c4eead32">action_bridge</a>);</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;   <span class="keywordflow">return</span> res ? <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a> : <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;}</div><div class="ttc" id="features__config_8c_html_ab2e74df8691039751d0423f2c217207b"><div class="ttname"><a href="../../de/d71/features__config_8c.html#ab2e74df8691039751d0423f2c217207b">load_features_config</a></div><div class="ttdeci">int load_features_config(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d71/features__config_8c_source.html#l01996">features_config.c:1996</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="features_8c_html_a5be9e06ba28b33987cb079049c00adf7"><div class="ttname"><a href="../../d5/d92/features_8c.html#a5be9e06ba28b33987cb079049c00adf7">bridge_exec</a></div><div class="ttdeci">static int bridge_exec(struct ast_channel *chan, const char *data)</div><div class="ttdoc">Bridge channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l01007">features.c:1007</a></div></div>
<div class="ttc" id="manager_8h_html_ab5db3cc603d7e798d61cb4cd94fbb4e2"><div class="ttname"><a href="../../db/d45/manager_8h.html#ab5db3cc603d7e798d61cb4cd94fbb4e2">EVENT_FLAG_CALL</a></div><div class="ttdeci">#define EVENT_FLAG_CALL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00072">manager.h:72</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="manager_8h_html_a1d34461b8a3210b19e66f06bcdebfeb3"><div class="ttname"><a href="../../db/d45/manager_8h.html#a1d34461b8a3210b19e66f06bcdebfeb3">ast_manager_register_xml_core</a></div><div class="ttdeci">#define ast_manager_register_xml_core(action, authority, func)</div><div class="ttdoc">Register a manager callback using XML documentation to describe the manager. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00197">manager.h:197</a></div></div>
<div class="ttc" id="features_8c_html_a30cf144e208ddc17e51b2f1e600052e8"><div class="ttname"><a href="../../d5/d92/features_8c.html#a30cf144e208ddc17e51b2f1e600052e8">app_bridge</a></div><div class="ttdeci">static char * app_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00844">features.c:844</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a></div><div class="ttdoc">Module could not be loaded properly. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00102">module.h:102</a></div></div>
<div class="ttc" id="features_8c_html_a51755e20bdcffb65c53468b7c4eead32"><div class="ttname"><a href="../../d5/d92/features_8c.html#a51755e20bdcffb65c53468b7c4eead32">action_bridge</a></div><div class="ttdeci">static int action_bridge(struct mansession *s, const struct message *m)</div><div class="ttdoc">Bridge channels together. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00757">features.c:757</a></div></div>
<div class="ttc" id="module_8h_html_a5fd926a7510f3d3fd0d69ae710ec1e89"><div class="ttname"><a href="../../d5/d16/module_8h.html#a5fd926a7510f3d3fd0d69ae710ec1e89">ast_register_application2</a></div><div class="ttdeci">int ast_register_application2(const char *app, int(*execute)(struct ast_channel *, const char *), const char *synopsis, const char *description, void *mod)</div><div class="ttdoc">Register an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00103">pbx_app.c:103</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aca73779eed0a4f6644c0391f1e1b1d59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca73779eed0a4f6644c0391f1e1b1d59">&#9670;&nbsp;</a></span>parse_playtone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2">play_tone_action</a> parse_playtone </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>playtone_val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00728">728</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01968">ast_false()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00725">PLAYTONE_BOTH</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00723">PLAYTONE_CHANNEL1</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00724">PLAYTONE_CHANNEL2</a>, and <a class="el" href="../../d5/d92/features_8c_source.html#l00722">PLAYTONE_NONE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00757">action_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;{</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(playtone_val) || <a class="code" href="../../d6/d90/strings_8h.html#a6c3dc0bad204e9dd9890325c1c861e38">ast_false</a>(playtone_val)) {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a7a847698b91ee8df79764edf2b1f1630">PLAYTONE_NONE</a>;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   } <span class="keywordflow">if</span> (!strcasecmp(playtone_val, <span class="stringliteral">&quot;channel1&quot;</span>)) {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0742f5ef5a28f72b83328283be335f0f">PLAYTONE_CHANNEL1</a>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(playtone_val, <span class="stringliteral">&quot;channel2&quot;</span>) || <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(playtone_val)) {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0c4492b730345653d652fcc7933d3410">PLAYTONE_CHANNEL2</a>;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(playtone_val, <span class="stringliteral">&quot;both&quot;</span>)) {</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2acce6aaaea7c3cb013cc91b091364bc7a">PLAYTONE_BOTH</a>;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="comment">/* Invalid input. Assume none */</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a7a847698b91ee8df79764edf2b1f1630">PLAYTONE_NONE</a>;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;   }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div><div class="ttc" id="features_8c_html_a987630c4be5b332f56b6f1119bbe87d2a0742f5ef5a28f72b83328283be335f0f"><div class="ttname"><a href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0742f5ef5a28f72b83328283be335f0f">PLAYTONE_CHANNEL1</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00723">features.c:723</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="features_8c_html_a987630c4be5b332f56b6f1119bbe87d2a7a847698b91ee8df79764edf2b1f1630"><div class="ttname"><a href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a7a847698b91ee8df79764edf2b1f1630">PLAYTONE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00722">features.c:722</a></div></div>
<div class="ttc" id="features_8c_html_a987630c4be5b332f56b6f1119bbe87d2acce6aaaea7c3cb013cc91b091364bc7a"><div class="ttname"><a href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2acce6aaaea7c3cb013cc91b091364bc7a">PLAYTONE_BOTH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00725">features.c:725</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="features_8c_html_a987630c4be5b332f56b6f1119bbe87d2a0c4492b730345653d652fcc7933d3410"><div class="ttname"><a href="../../d5/d92/features_8c.html#a987630c4be5b332f56b6f1119bbe87d2a0c4492b730345653d652fcc7933d3410">PLAYTONE_CHANNEL2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00724">features.c:724</a></div></div>
<div class="ttc" id="strings_8h_html_a6c3dc0bad204e9dd9890325c1c861e38"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6c3dc0bad204e9dd9890325c1c861e38">ast_false</a></div><div class="ttdeci">int attribute_pure ast_false(const char *val)</div><div class="ttdoc">Make sure something is false. Determine if a string containing a boolean value is &quot;false&quot;...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01968">main/utils.c:1968</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a19270bbca76aa0850d34134c16424063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19270bbca76aa0850d34134c16424063">&#9670;&nbsp;</a></span>pre_bridge_setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pre_bridge_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>chan_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>peer_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00536">536</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d92/features_8c_source.html#l00423">add_features_datastores()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01100">ast_bridge_config::answer_topology</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00263">ast_bridge_features_ds_append()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03459">ast_bridge_features_limits_construct()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03470">ast_bridge_features_limits_destroy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03475">ast_bridge_features_set_limits()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00363">ast_channel_log()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00477">ast_channel_visible_indication()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">AST_CONTROL_RINGING</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/ddd/max__forwards_8c_source.html#l00151">ast_max_forwards_reset()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02648">ast_raw_answer_with_stream_topology()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00041">AST_STATE_RINGING</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00486">bridge_check_monitor()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00462">bridge_config_set_limits()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01079">ast_bridge_config::features_callee</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01078">ast_bridge_config::features_caller</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_builtin_getvar_helper()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00749">SCOPE_TRACE</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00383">set_bridge_features_on_config()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00334">set_config_flags()</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l01084">ast_bridge_config::timelimit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00633">ast_bridge_call_with_flags()</a>, and <a class="el" href="../../d5/d92/features_8c_source.html#l01007">bridge_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ac7388257651bb6a92d3208512fab0ba6">SCOPE_TRACE</a>(1, <span class="stringliteral">&quot;%s Peer: %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(peer));</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#aebf26a3de75e83d0137e596d85522436">set_bridge_features_on_config</a>(config, <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;BRIDGE_FEATURES&quot;</span>));</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#a3b41083253e12b6a71f4188e4e74a170">add_features_datastores</a>(chan, peer, config);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">    * This is an interesting case.  One example is if a ringing</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">    * channel gets redirected to an extension that picks up a</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">    * parked call.  This will make sure that the call taken out of</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">    * parking gets told that the channel it just got bridged to is</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">    * still ringing.</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan) == <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#adfe39dc3611c6eda03b3dd3fbde10892">ast_channel_visible_indication</a>(peer) != <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a>) {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(peer, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a>);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#af28231fc268d53c9fd26b0eed2352514">bridge_check_monitor</a>(chan, peer);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#abe48b606047919032bb8fa51c0140965">set_config_flags</a>(chan, config);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   <span class="comment">/* Answer if need be */</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   res = 0;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      res = <a class="code" href="../../d5/d7b/channel_8h.html#a2da3b985de9a2d15f794d499bf94a184">ast_raw_answer_with_stream_topology</a>(chan, config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a24c2c607bc3a6bf5f03cac90a9001e89">answer_topology</a>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="preprocessor">#ifdef FOR_DEBUG</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   <span class="comment">/* show the two channels and cdrs involved in the bridge for debug &amp; devel purposes */</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#a2cc97e866c50a8f3751b48684760b8db">ast_channel_log</a>(<span class="stringliteral">&quot;Pre-bridge CHAN Channel info&quot;</span>, chan);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   <a class="code" href="../../d5/d92/features_8c.html#a2cc97e866c50a8f3751b48684760b8db">ast_channel_log</a>(<span class="stringliteral">&quot;Pre-bridge PEER Channel info&quot;</span>, peer);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   res = 0;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;   <a class="code" href="../../d3/d93/max__forwards_8h.html#a9ae283e9d2c41ed0d767f6cb07e01040">ast_max_forwards_reset</a>(chan);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   res |= <a class="code" href="../../d4/d1e/bridge__basic_8h.html#abbf75b17211128395690d45b99aad6f4">ast_bridge_features_ds_append</a>(chan, &amp;config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">features_caller</a>);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(peer);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;   <a class="code" href="../../d3/d93/max__forwards_8h.html#a9ae283e9d2c41ed0d767f6cb07e01040">ast_max_forwards_reset</a>(peer);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   res |= <a class="code" href="../../d4/d1e/bridge__basic_8h.html#abbf75b17211128395690d45b99aad6f4">ast_bridge_features_ds_append</a>(peer, &amp;config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">features_callee</a>);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(peer);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;   <span class="keywordflow">if</span> (config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">timelimit</a>) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> call_duration_limits_chan;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> call_duration_limits_peer;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="keywordtype">int</span> abandon_call = 0; <span class="comment">/* TRUE if set limits fails so we can abandon the call. */</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d7a/bridge__features_8h.html#a3d37f3df31f68efc380c63b999db43f0">ast_bridge_features_limits_construct</a>(&amp;call_duration_limits_chan)) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not construct caller duration limits. Bridge canceled.\n&quot;</span>);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d7a/bridge__features_8h.html#a3d37f3df31f68efc380c63b999db43f0">ast_bridge_features_limits_construct</a>(&amp;call_duration_limits_peer)) {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not construct callee duration limits. Bridge canceled.\n&quot;</span>);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;         <a class="code" href="../../dc/d7a/bridge__features_8h.html#ae0b1bf34dd9aa570c5efd4dddfead1fb">ast_bridge_features_limits_destroy</a>(&amp;call_duration_limits_chan);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <a class="code" href="../../d5/d92/features_8c.html#a42feee36c86ad2f98158935cc0a3b272">bridge_config_set_limits</a>(config, &amp;call_duration_limits_chan, &amp;call_duration_limits_peer);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d7a/bridge__features_8h.html#a27662864d9f07a05ef11b683c245d032">ast_bridge_features_set_limits</a>(chan_features, &amp;call_duration_limits_chan, 0)) {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;         abandon_call = 1;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d7a/bridge__features_8h.html#a27662864d9f07a05ef11b683c245d032">ast_bridge_features_set_limits</a>(peer_features, &amp;call_duration_limits_peer, 0)) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;         abandon_call = 1;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="comment">/* At this point we are done with the limits structs since they have been copied to the individual feature sets. */</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#ae0b1bf34dd9aa570c5efd4dddfead1fb">ast_bridge_features_limits_destroy</a>(&amp;call_duration_limits_chan);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#ae0b1bf34dd9aa570c5efd4dddfead1fb">ast_bridge_features_limits_destroy</a>(&amp;call_duration_limits_peer);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keywordflow">if</span> (abandon_call) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not set duration limits on one or more sides of the call. Bridge canceled.\n&quot;</span>);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="features_8c_html_af28231fc268d53c9fd26b0eed2352514"><div class="ttname"><a href="../../d5/d92/features_8c.html#af28231fc268d53c9fd26b0eed2352514">bridge_check_monitor</a></div><div class="ttdeci">static void bridge_check_monitor(struct ast_channel *chan, struct ast_channel *peer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00486">features.c:486</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a725b051d26c3350f8cd04467b4202c60"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">ast_bridge_config::features_callee</a></div><div class="ttdeci">struct ast_flags features_callee</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01079">channel.h:1079</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a27662864d9f07a05ef11b683c245d032"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a27662864d9f07a05ef11b683c245d032">ast_bridge_features_set_limits</a></div><div class="ttdeci">int ast_bridge_features_set_limits(struct ast_bridge_features *features, struct ast_bridge_features_limits *limits, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdoc">Limit the amount of time a channel may stay in the bridge and optionally play warning messages as tim...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03475">bridge.c:3475</a></div></div>
<div class="ttc" id="max__forwards_8h_html_a9ae283e9d2c41ed0d767f6cb07e01040"><div class="ttname"><a href="../../d3/d93/max__forwards_8h.html#a9ae283e9d2c41ed0d767f6cb07e01040">ast_max_forwards_reset</a></div><div class="ttdeci">int ast_max_forwards_reset(struct ast_channel *chan)</div><div class="ttdoc">Reset the max forwards on a channel to its starting value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/ddd/max__forwards_8c_source.html#l00151">max_forwards.c:151</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a24c2c607bc3a6bf5f03cac90a9001e89"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a24c2c607bc3a6bf5f03cac90a9001e89">ast_bridge_config::answer_topology</a></div><div class="ttdeci">struct ast_stream_topology * answer_topology</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01100">channel.h:1100</a></div></div>
<div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="features_8c_html_a3b41083253e12b6a71f4188e4e74a170"><div class="ttname"><a href="../../d5/d92/features_8c.html#a3b41083253e12b6a71f4188e4e74a170">add_features_datastores</a></div><div class="ttdeci">static void add_features_datastores(struct ast_channel *caller, struct ast_channel *callee, struct ast_bridge_config *config)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00423">features.c:423</a></div></div>
<div class="ttc" id="channel_8h_html_a2da3b985de9a2d15f794d499bf94a184"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2da3b985de9a2d15f794d499bf94a184">ast_raw_answer_with_stream_topology</a></div><div class="ttdeci">int ast_raw_answer_with_stream_topology(struct ast_channel *chan, struct ast_stream_topology *topology)</div><div class="ttdoc">Answer a channel passing in a stream topology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02648">channel.c:2648</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="features_8c_html_abe48b606047919032bb8fa51c0140965"><div class="ttname"><a href="../../d5/d92/features_8c.html#abe48b606047919032bb8fa51c0140965">set_config_flags</a></div><div class="ttdeci">static void set_config_flags(struct ast_channel *chan, struct ast_bridge_config *config)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00334">features.c:334</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="bridge__features_8h_html_ae0b1bf34dd9aa570c5efd4dddfead1fb"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#ae0b1bf34dd9aa570c5efd4dddfead1fb">ast_bridge_features_limits_destroy</a></div><div class="ttdeci">void ast_bridge_features_limits_destroy(struct ast_bridge_features_limits *limits)</div><div class="ttdoc">Destructor function for ast_bridge_features_limits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03470">bridge.c:3470</a></div></div>
<div class="ttc" id="pbx_8h_html_a98c5425b90ec7c5e136a40f529170b1b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a></div><div class="ttdeci">const char * pbx_builtin_getvar_helper(struct ast_channel *chan, const char *name)</div><div class="ttdoc">Return a pointer to the value of the corresponding channel variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_variables.c:1000</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_adfe39dc3611c6eda03b3dd3fbde10892"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#adfe39dc3611c6eda03b3dd3fbde10892">ast_channel_visible_indication</a></div><div class="ttdeci">int ast_channel_visible_indication(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00477">channel_internal_api.c:477</a></div></div>
<div class="ttc" id="structast__bridge__config_html_aa9510db9c5a776dfbd1aaab8c48970f0"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">ast_bridge_config::features_caller</a></div><div class="ttdeci">struct ast_flags features_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01078">channel.h:1078</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a3d37f3df31f68efc380c63b999db43f0"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a3d37f3df31f68efc380c63b999db43f0">ast_bridge_features_limits_construct</a></div><div class="ttdeci">int ast_bridge_features_limits_construct(struct ast_bridge_features_limits *limits)</div><div class="ttdoc">Constructor function for ast_bridge_features_limits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03459">bridge.c:3459</a></div></div>
<div class="ttc" id="structast__bridge__features__limits_html"><div class="ttname"><a href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a></div><div class="ttdoc">Structure that contains configuration information for the limits feature. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00332">bridge_features.h:332</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_abbf75b17211128395690d45b99aad6f4"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#abbf75b17211128395690d45b99aad6f4">ast_bridge_features_ds_append</a></div><div class="ttdeci">int ast_bridge_features_ds_append(struct ast_channel *chan, struct ast_flags *flags)</div><div class="ttdoc">Append basic bridge DTMF feature flags on the channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00263">bridge_basic.c:263</a></div></div>
<div class="ttc" id="features_8c_html_a42feee36c86ad2f98158935cc0a3b272"><div class="ttname"><a href="../../d5/d92/features_8c.html#a42feee36c86ad2f98158935cc0a3b272">bridge_config_set_limits</a></div><div class="ttdeci">static void bridge_config_set_limits(struct ast_bridge_config *config, struct ast_bridge_features_limits *caller_limits, struct ast_bridge_features_limits *callee_limits)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00462">features.c:462</a></div></div>
<div class="ttc" id="logger_8h_html_ac7388257651bb6a92d3208512fab0ba6"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ac7388257651bb6a92d3208512fab0ba6">SCOPE_TRACE</a></div><div class="ttdeci">#define SCOPE_TRACE(level,...)</div><div class="ttdoc">Print a trace message with details when a scope is entered or existed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00749">logger.h:749</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">include/asterisk/frame.h:280</a></div></div>
<div class="ttc" id="features_8c_html_aebf26a3de75e83d0137e596d85522436"><div class="ttname"><a href="../../d5/d92/features_8c.html#aebf26a3de75e83d0137e596d85522436">set_bridge_features_on_config</a></div><div class="ttdeci">static void set_bridge_features_on_config(struct ast_bridge_config *config, const char *features)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00383">features.c:383</a></div></div>
<div class="ttc" id="features_8c_html_a2cc97e866c50a8f3751b48684760b8db"><div class="ttname"><a href="../../d5/d92/features_8c.html#a2cc97e866c50a8f3751b48684760b8db">ast_channel_log</a></div><div class="ttdeci">void ast_channel_log(char *title, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00363">features.c:363</a></div></div>
<div class="ttc" id="structast__bridge__config_html_ab88b1e2ff0d0fed0616512352e723162"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#ab88b1e2ff0d0fed0616512352e723162">ast_bridge_config::timelimit</a></div><div class="ttdeci">long timelimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01084">channel.h:1084</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aebf26a3de75e83d0137e596d85522436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebf26a3de75e83d0137e596d85522436">&#9670;&nbsp;</a></span>set_bridge_features_on_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_bridge_features_on_config </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00383">383</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l01070">AST_FEATURE_AUTOMIXMON</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01068">AST_FEATURE_AUTOMON</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01066">AST_FEATURE_DISCONNECT</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01069">AST_FEATURE_PARKCALL</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01065">AST_FEATURE_REDIRECT</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01079">ast_bridge_config::features_callee</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01078">ast_bridge_config::features_caller</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;{</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *feature;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(features)) {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keywordflow">for</span> (feature = features; *feature; feature++) {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> *party;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">if</span> (isupper(*feature)) {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;         party = &amp;config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">features_caller</a>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;         party = &amp;config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">features_callee</a>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">switch</span> (tolower(*feature)) {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span> :</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(party, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a>);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;k&#39;</span> :</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(party, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span> :</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(party, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span> :</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(party, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362">AST_FEATURE_AUTOMON</a>);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span> :</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(party, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae">AST_FEATURE_AUTOMIXMON</a>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      default :</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Skipping unknown feature code &#39;%c&#39;\n&quot;</span>, *feature);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div><div class="ttc" id="structast__bridge__config_html_a725b051d26c3350f8cd04467b4202c60"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">ast_bridge_config::features_callee</a></div><div class="ttdeci">struct ast_flags features_callee</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01079">channel.h:1079</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01066">channel.h:1066</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362">AST_FEATURE_AUTOMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01068">channel.h:1068</a></div></div>
<div class="ttc" id="structast__bridge__config_html_aa9510db9c5a776dfbd1aaab8c48970f0"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">ast_bridge_config::features_caller</a></div><div class="ttdeci">struct ast_flags features_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01078">channel.h:1078</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01065">channel.h:1065</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae">AST_FEATURE_AUTOMIXMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01070">channel.h:1070</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01069">channel.h:1069</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abe48b606047919032bb8fa51c0140965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe48b606047919032bb8fa51c0140965">&#9670;&nbsp;</a></span>set_config_flags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_config_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d13/structast__bridge__config.html">ast_bridge_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00334">334</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02382">AST_BRIDGE_DTMF_CHANNEL_0</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02384">AST_BRIDGE_DTMF_CHANNEL_1</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00363">ast_channel_log()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00077">ast_clear_flag</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01073">AST_FEATURE_DTMF_MASK</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00196">AST_FLAGS_ALL</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01325">ast_get_chan_applicationmap()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01079">ast_bridge_config::features_callee</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01078">ast_bridge_config::features_caller</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;{</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a>(config, <a class="code" href="../../d5/d60/utils_8h.html#afb8683b4d96960d7a82a86a974a57599">AST_FLAGS_ALL</a>);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">features_caller</a>, <a class="code" href="../../d5/d7b/channel_8h.html#ac20bb1f04868ac5ee4fe83a864aa2271">AST_FEATURE_DTMF_MASK</a>)) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(config, <a class="code" href="../../d5/d7b/channel_8h.html#a2bd5879255a0f6a758c99b58fcab2f27">AST_BRIDGE_DTMF_CHANNEL_0</a>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;config-&gt;<a class="code" href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">features_callee</a>, <a class="code" href="../../d5/d7b/channel_8h.html#ac20bb1f04868ac5ee4fe83a864aa2271">AST_FEATURE_DTMF_MASK</a>)) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(config, <a class="code" href="../../d5/d7b/channel_8h.html#a7dbb6edabad3e02e80d605ca5d254c35">AST_BRIDGE_DTMF_CHANNEL_1</a>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(config, <a class="code" href="../../d5/d7b/channel_8h.html#a2bd5879255a0f6a758c99b58fcab2f27">AST_BRIDGE_DTMF_CHANNEL_0</a>) &amp;&amp; <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(config, <a class="code" href="../../d5/d7b/channel_8h.html#a7dbb6edabad3e02e80d605ca5d254c35">AST_BRIDGE_DTMF_CHANNEL_1</a>))) {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *, applicationmap, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      applicationmap = <a class="code" href="../../d0/daa/include_2asterisk_2features__config_8h.html#a67cc1c1d8375847bc9140906c297cf58">ast_get_chan_applicationmap</a>(chan);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">if</span> (!applicationmap) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="comment">/* If an applicationmap exists for this channel at all, then the channel needs the DTMF flag set */</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(config, <a class="code" href="../../d5/d7b/channel_8h.html#a2bd5879255a0f6a758c99b58fcab2f27">AST_BRIDGE_DTMF_CHANNEL_0</a>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__bridge__config_html_a725b051d26c3350f8cd04467b4202c60"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#a725b051d26c3350f8cd04467b4202c60">ast_bridge_config::features_callee</a></div><div class="ttdeci">struct ast_flags features_callee</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01079">channel.h:1079</a></div></div>
<div class="ttc" id="include_2asterisk_2features__config_8h_html_a67cc1c1d8375847bc9140906c297cf58"><div class="ttname"><a href="../../d0/daa/include_2asterisk_2features__config_8h.html#a67cc1c1d8375847bc9140906c297cf58">ast_get_chan_applicationmap</a></div><div class="ttdeci">struct ao2_container * ast_get_chan_applicationmap(struct ast_channel *chan)</div><div class="ttdoc">Get the applicationmap for a given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d71/features__config_8c_source.html#l01325">features_config.c:1325</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="channel_8h_html_a7dbb6edabad3e02e80d605ca5d254c35"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7dbb6edabad3e02e80d605ca5d254c35">AST_BRIDGE_DTMF_CHANNEL_1</a></div><div class="ttdeci">#define AST_BRIDGE_DTMF_CHANNEL_1</div><div class="ttdoc">Report DTMF on channel 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02384">channel.h:2384</a></div></div>
<div class="ttc" id="structast__bridge__config_html_aa9510db9c5a776dfbd1aaab8c48970f0"><div class="ttname"><a href="../../d0/d13/structast__bridge__config.html#aa9510db9c5a776dfbd1aaab8c48970f0">ast_bridge_config::features_caller</a></div><div class="ttdeci">struct ast_flags features_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01078">channel.h:1078</a></div></div>
<div class="ttc" id="channel_8h_html_ac20bb1f04868ac5ee4fe83a864aa2271"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac20bb1f04868ac5ee4fe83a864aa2271">AST_FEATURE_DTMF_MASK</a></div><div class="ttdeci">#define AST_FEATURE_DTMF_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01073">channel.h:1073</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="utils_8h_html_afb8683b4d96960d7a82a86a974a57599"><div class="ttname"><a href="../../d5/d60/utils_8h.html#afb8683b4d96960d7a82a86a974a57599">AST_FLAGS_ALL</a></div><div class="ttdeci">#define AST_FLAGS_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00196">utils.h:196</a></div></div>
<div class="ttc" id="utils_8h_html_a7b260320610a09017a9416398acd0a70"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a></div><div class="ttdeci">#define ast_clear_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00077">utils.h:77</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="channel_8h_html_a2bd5879255a0f6a758c99b58fcab2f27"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2bd5879255a0f6a758c99b58fcab2f27">AST_BRIDGE_DTMF_CHANNEL_0</a></div><div class="ttdeci">#define AST_BRIDGE_DTMF_CHANNEL_0</div><div class="ttdoc">Report DTMF on channel 0. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02382">channel.h:2382</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l01157">1157</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d10/manager_8c_source.html#l07258">ast_manager_unregister()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">ast_unregister_application()</a>, and <a class="el" href="../../de/d71/features__config_8c_source.html#l01976">unload_features_config()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l01168">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;{</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;   <a class="code" href="../../de/d71/features__config_8c.html#aac16eff0ce00c1c8f228fc649dff15d0">unload_features_config</a>();</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="stringliteral">&quot;Bridge&quot;</span>);</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../d5/d92/features_8c.html#a30cf144e208ddc17e51b2f1e600052e8">app_bridge</a>);</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;}</div><div class="ttc" id="module_8h_html_ad2ca15621101154f29748cf1dac3c3cf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a></div><div class="ttdeci">int ast_unregister_application(const char *app)</div><div class="ttdoc">Unregister an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00392">pbx_app.c:392</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gafadf012f66a9fd7ecf985ec5b9dee101"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a></div><div class="ttdeci">int ast_manager_unregister(const char *action)</div><div class="ttdoc">Unregister a registered manager command. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07258">manager.c:7258</a></div></div>
<div class="ttc" id="features_8c_html_a30cf144e208ddc17e51b2f1e600052e8"><div class="ttname"><a href="../../d5/d92/features_8c.html#a30cf144e208ddc17e51b2f1e600052e8">app_bridge</a></div><div class="ttdeci">static char * app_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00844">features.c:844</a></div></div>
<div class="ttc" id="features__config_8c_html_aac16eff0ce00c1c8f228fc649dff15d0"><div class="ttname"><a href="../../de/d71/features__config_8c.html#aac16eff0ce00c1c8f228fc649dff15d0">unload_features_config</a></div><div class="ttdeci">void unload_features_config(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d71/features__config_8c_source.html#l01976">features_config.c:1976</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Call Features&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .reload = reload_features_config, .load_pri = AST_MODPRI_CORE, .requires = &quot;extconfig&quot;, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l01186">1186</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

</div>
</div>
<a id="a30cf144e208ddc17e51b2f1e600052e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30cf144e208ddc17e51b2f1e600052e8">&#9670;&nbsp;</a></span>app_bridge</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* app_bridge = &quot;Bridge&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00844">844</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l01186">1186</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

</div>
</div>
<a id="a1f1561f68468b6f13235b3bedce80962"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f1561f68468b6f13235b3bedce80962">&#9670;&nbsp;</a></span>bridge_exec_options</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d2/d8d/structast__app__option.html">ast_app_option</a> bridge_exec_options[128] = { [ 'p' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eac6c5fc9f2156b5d690587dc1fdcbc6b3">BRIDGE_OPT_PLAYTONE</a> }, [ 'F' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea78690a8e97e0eac7d0982b81d5cadac8">OPT_CALLEE_GO_ON</a> , .arg_index = <a class="el" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876a1d0a4362e89e71be70b2ca0d47616c99">OPT_ARG_CALLEE_GO_ON</a> + 1 }, [ 'h' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eab0eb8a377bf253cf368bf70f0b59fc31">OPT_CALLEE_HANGUP</a> }, [ 'H' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea9f03cca4e2ee93778ae8ed2db279587d">OPT_CALLER_HANGUP</a> }, [ 'k' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea35080c34427591a22d34370e0a8ebab4">OPT_CALLEE_PARK</a> }, [ 'K' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea82c1e40f3b210bce47d00d44dec0b8fd">OPT_CALLER_PARK</a> }, [ 'L' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea3de43f39b62e2f782e8eac89a7dcc164">OPT_DURATION_LIMIT</a> , .arg_index = <a class="el" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876ab92f4dda872862b445c7ee78b5eca872">OPT_ARG_DURATION_LIMIT</a> + 1 }, [ '<a class="el" href="../../df/d44/app__meetme_8c.html#abd5465a13e11fe1c52a5a0f7b0b0812e">S</a>' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea532332f4745455d1129c3cf0d25cb5d3">OPT_DURATION_STOP</a> , .arg_index = <a class="el" href="../../d5/d92/features_8c.html#a83f72dd946185574b53be115821f6876a22d5403ad37aee04f7beb26b97518b33">OPT_ARG_DURATION_STOP</a> + 1 }, [ 't' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea6faa363811a3b467116d290d52d967da">OPT_CALLEE_TRANSFER</a> }, [ 'T' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eadb3ae0c7823e3bd3f4a45db3d03f33cb">OPT_CALLER_TRANSFER</a> }, [ 'w' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea98ad2a6cc60abe9a8cfd5f040fa9b4a4">OPT_CALLEE_MONITOR</a> }, [ 'W' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64ea8b131c263901244154b7b85ec05e6521">OPT_CALLER_MONITOR</a> }, [ 'x' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d5/d92/features_8c.html#afaf9a3cf32370efd622b461ac53de64eacc3e8440cd8f27440c7f0c27f67b3e3d">OPT_CALLEE_KILL</a> }, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00884">884</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l01007">bridge_exec()</a>.</p>

</div>
</div>
<a id="ad64a6ef22c99026de9de8fec189df84f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad64a6ef22c99026de9de8fec189df84f">&#9670;&nbsp;</a></span>dial_features_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> dial_features_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .type = <span class="stringliteral">&quot;dial-features&quot;</span>,</div><div class="line">   .destroy = <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>,</div><div class="line">   .duplicate = <a class="code" href="../../d5/d92/features_8c.html#adef8fadeae29c7bd0b0f5133352f636d">dial_features_duplicate</a>,</div><div class="line">}</div><div class="ttc" id="features_8c_html_adef8fadeae29c7bd0b0f5133352f636d"><div class="ttname"><a href="../../d5/d92/features_8c.html#adef8fadeae29c7bd0b0f5133352f636d">dial_features_duplicate</a></div><div class="ttdeci">static void * dial_features_duplicate(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/features_8c_source.html#l00262">features.c:262</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d5/d92/features_8c_source.html#l00275">275</a> of file <a class="el" href="../../d5/d92/features_8c_source.html">features.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:45:52 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
