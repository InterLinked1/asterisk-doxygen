<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: module.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">module.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Asterisk module definitions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for module.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d9e/module_8h__incl.png" border="0" usemap="#module_8h" alt=""/></div>
<map name="module_8h" id="module_8h">
<area shape="rect" id="node2" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1335,80,1450,107"/>
<area shape="rect" id="node3" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="474,155,613,181"/>
<area shape="rect" id="node13" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1185,379,1248,405"/>
<area shape="rect" id="node19" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1612,304,1725,331"/>
<area shape="rect" id="node24" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1272,379,1399,405"/>
<area shape="rect" id="node27" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="1319,155,1466,181"/>
<area shape="rect" id="node29" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1490,155,1647,181"/>
<area shape="rect" id="node31" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1769,155,1899,181"/>
<area shape="rect" id="node14" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1139,453,1294,480"/>
<area shape="rect" id="node17" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1430,453,1577,480"/>
<area shape="rect" id="node23" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="1963,379,2113,405"/>
<area shape="rect" id="node25" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="2137,379,2280,405"/>
<area shape="rect" id="node30" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="1513,229,1640,256"/>
<area shape="rect" id="node34" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="2067,229,2246,256"/>
<area shape="rect" id="node35" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1815,229,1949,256"/>
</map>
</div>
</div>
<p><a href="../../d5/d16/module_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9d567e7b64d402c1d710b9bd47679cd9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a9d567e7b64d402c1d710b9bd47679cd9">AST_MODULE_CONFIG</a>&#160;&#160;&#160;&quot;modules.conf&quot;</td></tr>
<tr class="memdesc:a9d567e7b64d402c1d710b9bd47679cd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Module configuration file.  <a href="#a9d567e7b64d402c1d710b9bd47679cd9">More...</a><br /></td></tr>
<tr class="separator:a9d567e7b64d402c1d710b9bd47679cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f4aa0e21486bdbcef428335268690c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a9f4aa0e21486bdbcef428335268690c9">AST_MODULE_INFO</a>(keystr,  flags_to_set,  <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#a787f82faccb7c1f40a2539a14855601b">desc</a>,  fields...)</td></tr>
<tr class="separator:a9f4aa0e21486bdbcef428335268690c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ea6b2dde349dfaae4d21d93b9a5683"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a70ea6b2dde349dfaae4d21d93b9a5683">AST_MODULE_INFO_STANDARD</a>(keystr,  <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#a787f82faccb7c1f40a2539a14855601b">desc</a>)</td></tr>
<tr class="separator:a70ea6b2dde349dfaae4d21d93b9a5683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1b913cbf084eca8d020e3765e3bb434"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ae1b913cbf084eca8d020e3765e3bb434">AST_MODULE_INFO_STANDARD_DEPRECATED</a>(keystr,  <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#a787f82faccb7c1f40a2539a14855601b">desc</a>)</td></tr>
<tr class="separator:ae1b913cbf084eca8d020e3765e3bb434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71b0cf8553451788ab00d1cdd8ac154"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ad71b0cf8553451788ab00d1cdd8ac154">AST_MODULE_INFO_STANDARD_EXTENDED</a>(keystr,  <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#a787f82faccb7c1f40a2539a14855601b">desc</a>)</td></tr>
<tr class="separator:ad71b0cf8553451788ab00d1cdd8ac154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dea6491bedba471fc44574d76438577"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a>(mod)&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#ad93e209757c58beaaf1832031f553878">__ast_module_ref</a>(mod, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td></tr>
<tr class="memdesc:a8dea6491bedba471fc44574d76438577"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hold a reference to the module.  <a href="#a8dea6491bedba471fc44574d76438577">More...</a><br /></td></tr>
<tr class="separator:a8dea6491bedba471fc44574d76438577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2dd3dce05926913c40b883cc7cff0a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ad2dd3dce05926913c40b883cc7cff0a8">ast_module_running_ref</a>(mod)&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#a401eb9f01aa98f085300275ce9f8b1de">__ast_module_running_ref</a>(mod, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td></tr>
<tr class="memdesc:ad2dd3dce05926913c40b883cc7cff0a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hold a reference to the module if it is running.  <a href="#ad2dd3dce05926913c40b883cc7cff0a8">More...</a><br /></td></tr>
<tr class="separator:ad2dd3dce05926913c40b883cc7cff0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9967b09817639f2e15c3f074a60b6379"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a9967b09817639f2e15c3f074a60b6379">ast_module_shutdown_ref</a>(mod)&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#a9e706a32aef4126d59d1f4c2b981dc91">__ast_module_shutdown_ref</a>(mod, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td></tr>
<tr class="memdesc:a9967b09817639f2e15c3f074a60b6379"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prevent unload of the module before shutdown.  <a href="#a9967b09817639f2e15c3f074a60b6379">More...</a><br /></td></tr>
<tr class="separator:a9967b09817639f2e15c3f074a60b6379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15896c26e51e8162df5eb9a0124c841f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>(mod)&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#a01ae513b9d81eb9faae2c9cd92fc214a">__ast_module_unref</a>(mod, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td></tr>
<tr class="memdesc:a15896c26e51e8162df5eb9a0124c841f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release a reference to the module.  <a href="#a15896c26e51e8162df5eb9a0124c841f">More...</a><br /></td></tr>
<tr class="separator:a15896c26e51e8162df5eb9a0124c841f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab941a600dc47b469ab225f140bc0973f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ab941a600dc47b469ab225f140bc0973f">ast_module_user_add</a>(chan)&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#a0ddd2136c9f1f9e8eeda76f2194901d3">__ast_module_user_add</a>(AST_MODULE_SELF, chan)</td></tr>
<tr class="separator:ab941a600dc47b469ab225f140bc0973f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3878a02fd12ea57e75dbb5a0f131fa2d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a3878a02fd12ea57e75dbb5a0f131fa2d">ast_module_user_hangup_all</a>()&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#a14cb9c203d9110487fccf21905b903e3">__ast_module_user_hangup_all</a>(AST_MODULE_SELF)</td></tr>
<tr class="separator:a3878a02fd12ea57e75dbb5a0f131fa2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac87725d61b6daf4ce7d7b505f1b68c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#aac87725d61b6daf4ce7d7b505f1b68c9">ast_module_user_remove</a>(<a class="el" href="../../d8/dbc/structuser.html">user</a>)&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#a14013f16abe2b07476d88bbe088db2c3">__ast_module_user_remove</a>(AST_MODULE_SELF, <a class="el" href="../../d8/dbc/structuser.html">user</a>)</td></tr>
<tr class="separator:aac87725d61b6daf4ce7d7b505f1b68c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa47a7223480d23a864cf83fef0f8585e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#aa47a7223480d23a864cf83fef0f8585e">ast_register_application</a>(<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>,  <a class="el" href="../../dc/d1d/func__odbc_8c.html#a16177a4992e1094843ceea2fc0d58cb0">execute</a>,  <a class="el" href="../../d9/d5e/func__enum_8c.html#a1539fbb78128c8c72e41d1e9d2c09351">synopsis</a>,  description)&#160;&#160;&#160;<a class="el" href="../../dd/d16/pbx__app_8c.html#a5fd926a7510f3d3fd0d69ae710ec1e89">ast_register_application2</a>(<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, <a class="el" href="../../dc/d1d/func__odbc_8c.html#a16177a4992e1094843ceea2fc0d58cb0">execute</a>, <a class="el" href="../../d9/d5e/func__enum_8c.html#a1539fbb78128c8c72e41d1e9d2c09351">synopsis</a>, description, AST_MODULE_SELF)</td></tr>
<tr class="memdesc:aa47a7223480d23a864cf83fef0f8585e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an application.  <a href="#aa47a7223480d23a864cf83fef0f8585e">More...</a><br /></td></tr>
<tr class="separator:aa47a7223480d23a864cf83fef0f8585e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afba4eb7a910b10969041ae4cd488729d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>,  <a class="el" href="../../dc/d1d/func__odbc_8c.html#a16177a4992e1094843ceea2fc0d58cb0">execute</a>)&#160;&#160;&#160;<a class="el" href="../../d5/d16/module_8h.html#aa47a7223480d23a864cf83fef0f8585e">ast_register_application</a>(<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, <a class="el" href="../../dc/d1d/func__odbc_8c.html#a16177a4992e1094843ceea2fc0d58cb0">execute</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td></tr>
<tr class="memdesc:afba4eb7a910b10969041ae4cd488729d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an application using XML documentation.  <a href="#afba4eb7a910b10969041ae4cd488729d">More...</a><br /></td></tr>
<tr class="separator:afba4eb7a910b10969041ae4cd488729d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba2c8d4be709a254658b21a834f8294a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#aba2c8d4be709a254658b21a834f8294a">ASTERISK_GPL_KEY</a>&#160;&#160;&#160;&quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;.  Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option).  In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot;</td></tr>
<tr class="memdesc:aba2c8d4be709a254658b21a834f8294a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The text the key() function should return.  <a href="#aba2c8d4be709a254658b21a834f8294a">More...</a><br /></td></tr>
<tr class="separator:aba2c8d4be709a254658b21a834f8294a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb39465480454778b4b070505a4eabb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a0fb39465480454778b4b070505a4eabb">SCOPED_MODULE_USE</a>(module)&#160;&#160;&#160;<a class="el" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *, __self__ ## __LINE__, <a class="el" href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a>(module), <a class="el" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>)</td></tr>
<tr class="separator:a0fb39465480454778b4b070505a4eabb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a155a0df9c59e04e305d4a2fa3e35f843"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843">ast_module_flags</a> { <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a> = 0, 
<a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> = (1 &lt;&lt; 1)
 }</td></tr>
<tr class="separator:a155a0df9c59e04e305d4a2fa3e35f843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af03b737dae4048bd0e3820aadc6b4e68"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68">ast_module_helper_type</a> { <br />
&#160;&#160;<a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a5aefabfd802a86b13928fb84f12f1fd4">AST_MODULE_HELPER_LOADED</a> = 0, 
<a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a34b04d5c4f36f36dc6b3568ba00607e0">AST_MODULE_HELPER_RELOAD</a> = 1, 
<a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68ad80c7e6093e034efcef04c16e909bae4">AST_MODULE_HELPER_LOAD</a>, 
<a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a94f5601297965c442e89368ea4056165">AST_MODULE_HELPER_UNLOAD</a>, 
<br />
&#160;&#160;<a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68af2b7a80de6b847c1d09201166128ebdb">AST_MODULE_HELPER_RUNNING</a>
<br />
 }</td></tr>
<tr class="separator:af03b737dae4048bd0e3820aadc6b4e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f734041ffd9d75b07cefb0291e1e58"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58">ast_module_load_priority</a> { <br />
&#160;&#160;<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a3d83cb4f000893df1b0de0cbe2a8b523">AST_MODPRI_REALTIME_DEPEND</a> = 10, 
<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58ad75946496d5ee4e43dff6aefa97e4979">AST_MODPRI_REALTIME_DEPEND2</a> = 20, 
<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a8201de64237a41919013d62ae5d6721d">AST_MODPRI_REALTIME_DRIVER</a> = 30, 
<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a37c0718af4fc7bf8c860beb730161044">AST_MODPRI_CORE</a> = 40, 
<br />
&#160;&#160;<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a43c7c4b75029b2b1f5f8875b3a97aac2">AST_MODPRI_TIMING</a> = 50, 
<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a87717b8c3b913bbbb55297fc169086e0">AST_MODPRI_CHANNEL_DEPEND</a> = 60, 
<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a34af570c4f482ece06a6b20720d56650">AST_MODPRI_CHANNEL_DRIVER</a> = 70, 
<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a08d902290b0d6cbffd8e607d5e399a06">AST_MODPRI_APP_DEPEND</a> = 80, 
<br />
&#160;&#160;<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58af2d6c20d90a068171cc852484a435980">AST_MODPRI_DEVSTATE_PROVIDER</a> = 90, 
<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58afb3871f44ac2a23edbc1821312afe8a0">AST_MODPRI_DEVSTATE_PLUGIN</a> = 100, 
<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a26d0ea20d3fa4a502f1724092467ca7f">AST_MODPRI_CDR_DRIVER</a> = 110, 
<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a> = 128, 
<br />
&#160;&#160;<a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58ac8f668d27e0baf549e54a5e71da40c13">AST_MODPRI_DEVSTATE_CONSUMER</a> = 150
<br />
 }</td></tr>
<tr class="separator:aa4f734041ffd9d75b07cefb0291e1e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc09474f0ff557e9925b722ee5b952df"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a> { <br />
&#160;&#160;<a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a> = 0, 
<a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a> = 1, 
<a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b">AST_MODULE_LOAD_SKIP</a> = 2, 
<a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0">AST_MODULE_LOAD_PRIORITY</a> = 3, 
<br />
&#160;&#160;<a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a> = -1
<br />
 }</td></tr>
<tr class="separator:adc09474f0ff557e9925b722ee5b952df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9013ad6d9add8a9255568c7db032cb7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a> { <br />
&#160;&#160;<a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a9696155a2eb5969139965fbc5b8a66ed">AST_MODULE_RELOAD_SUCCESS</a> = 0, 
<a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a3c7e5ccf0a567b17833b1e60ba387abf">AST_MODULE_RELOAD_QUEUED</a>, 
<a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a>, 
<a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6">AST_MODULE_RELOAD_ERROR</a>, 
<br />
&#160;&#160;<a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a2a1ae659f41755f987f33586cb43fade">AST_MODULE_RELOAD_IN_PROGRESS</a>, 
<a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ad06be99930a02b142bf370e2627849be">AST_MODULE_RELOAD_UNINITIALIZED</a>, 
<a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aae470b102da613cbd14c611b36e75b11">AST_MODULE_RELOAD_NOT_IMPLEMENTED</a>
<br />
 }<tr class="memdesc:ac9013ad6d9add8a9255568c7db032cb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible return types for <a class="el" href="d3/d96/loader_8c.html#af9e3b4ae730e43312e00fcbc1707588b">ast_module_reload</a>.  <a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ac9013ad6d9add8a9255568c7db032cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab35bc4efd9f79706300965c9d36a0ce5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> { <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5ab106694f06a86a098eb609f4f7bc5782">AST_MODULE_SUPPORT_UNKNOWN</a>, 
<a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, 
<a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a9f8870a5687abe3d9a6b0b3fbc89a800">AST_MODULE_SUPPORT_EXTENDED</a>, 
<a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a29bc2fa1929477c1f28ba6d8094759cd">AST_MODULE_SUPPORT_DEPRECATED</a>
 }</td></tr>
<tr class="separator:ab35bc4efd9f79706300965c9d36a0ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac034ec04e9dd255a0d39bdfcb73113b9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9">ast_module_unload_mode</a> { <a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a10bb7955de423b36c75f645de78d2f39">AST_FORCE_SOFT</a> = 0, 
<a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522">AST_FORCE_FIRM</a> = 1, 
<a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a4fbd520c0fa0b70495fe9dd6aee373b9">AST_FORCE_HARD</a> = 2
 }</td></tr>
<tr class="separator:ac034ec04e9dd255a0d39bdfcb73113b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad93e209757c58beaaf1832031f553878"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ad93e209757c58beaaf1832031f553878">__ast_module_ref</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, const char *file, int line, const char *func)</td></tr>
<tr class="separator:ad93e209757c58beaaf1832031f553878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a401eb9f01aa98f085300275ce9f8b1de"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a401eb9f01aa98f085300275ce9f8b1de">__ast_module_running_ref</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, const char *file, int line, const char *func)</td></tr>
<tr class="separator:a401eb9f01aa98f085300275ce9f8b1de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e706a32aef4126d59d1f4c2b981dc91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a9e706a32aef4126d59d1f4c2b981dc91">__ast_module_shutdown_ref</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, const char *file, int line, const char *func)</td></tr>
<tr class="separator:a9e706a32aef4126d59d1f4c2b981dc91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ae513b9d81eb9faae2c9cd92fc214a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a01ae513b9d81eb9faae2c9cd92fc214a">__ast_module_unref</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, const char *file, int line, const char *func)</td></tr>
<tr class="separator:a01ae513b9d81eb9faae2c9cd92fc214a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad315d50d0a7d61cb9feac19223fff8c0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ad315d50d0a7d61cb9feac19223fff8c0">__ast_module_user_add</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *)</td></tr>
<tr class="separator:ad315d50d0a7d61cb9feac19223fff8c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc270b7358ecf057945a5ddbe3a4d750"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#afc270b7358ecf057945a5ddbe3a4d750">__ast_module_user_hangup_all</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *)</td></tr>
<tr class="separator:afc270b7358ecf057945a5ddbe3a4d750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee5ac94e279928d1d1f7b6aafb62ec7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#aee5ac94e279928d1d1f7b6aafb62ec7a">__ast_module_user_remove</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *, struct <a class="el" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *)</td></tr>
<tr class="separator:aee5ac94e279928d1d1f7b6aafb62ec7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a841766995d4e10ebb3950b10aab97d9e"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a841766995d4e10ebb3950b10aab97d9e">ast_load_resource</a> (const char *resource_name)</td></tr>
<tr class="memdesc:a841766995d4e10ebb3950b10aab97d9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a module.  <a href="#a841766995d4e10ebb3950b10aab97d9e">More...</a><br /></td></tr>
<tr class="separator:a841766995d4e10ebb3950b10aab97d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e5148750fa0ab4ffa54d0fe19c966a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a35e5148750fa0ab4ffa54d0fe19c966a">ast_loader_register</a> (int(*updater)(void))</td></tr>
<tr class="memdesc:a35e5148750fa0ab4ffa54d0fe19c966a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a procedure to be run when modules have been updated.  <a href="#a35e5148750fa0ab4ffa54d0fe19c966a">More...</a><br /></td></tr>
<tr class="separator:a35e5148750fa0ab4ffa54d0fe19c966a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a057c6c9c5266071d7a8a09695555ee25"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a057c6c9c5266071d7a8a09695555ee25">ast_loader_unregister</a> (int(*updater)(void))</td></tr>
<tr class="memdesc:a057c6c9c5266071d7a8a09695555ee25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a procedure to be run when modules are updated.  <a href="#a057c6c9c5266071d7a8a09695555ee25">More...</a><br /></td></tr>
<tr class="separator:a057c6c9c5266071d7a8a09695555ee25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f7e2f25f4d0c60de6cca164232a6d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a15f7e2f25f4d0c60de6cca164232a6d4">ast_module_check</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a15f7e2f25f4d0c60de6cca164232a6d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if module with the name given is loaded.  <a href="#a15f7e2f25f4d0c60de6cca164232a6d4">More...</a><br /></td></tr>
<tr class="separator:a15f7e2f25f4d0c60de6cca164232a6d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9c668b5d436bc9c7c1076a008b9ed1"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a6e9c668b5d436bc9c7c1076a008b9ed1">ast_module_helper</a> (const char *line, const char *<a class="el" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, int pos, int <a class="el" href="../../d4/d88/structstate.html">state</a>, int rpos, enum <a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68">ast_module_helper_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:a6e9c668b5d436bc9c7c1076a008b9ed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Match modules names for the Asterisk cli.  <a href="#a6e9c668b5d436bc9c7c1076a008b9ed1">More...</a><br /></td></tr>
<tr class="separator:a6e9c668b5d436bc9c7c1076a008b9ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10842e2d5bac25543eabaccde49f7aad"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a> (const struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod)</td></tr>
<tr class="memdesc:a10842e2d5bac25543eabaccde49f7aad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of a module.  <a href="#a10842e2d5bac25543eabaccde49f7aad">More...</a><br /></td></tr>
<tr class="separator:a10842e2d5bac25543eabaccde49f7aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b15d5b073cfab9d5b3b204c98865bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a22b15d5b073cfab9d5b3b204c98865bd">ast_module_register</a> (const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *)</td></tr>
<tr class="separator:a22b15d5b073cfab9d5b3b204c98865bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9e3b4ae730e43312e00fcbc1707588b"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#af9e3b4ae730e43312e00fcbc1707588b">ast_module_reload</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:af9e3b4ae730e43312e00fcbc1707588b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reload asterisk modules.  <a href="#af9e3b4ae730e43312e00fcbc1707588b">More...</a><br /></td></tr>
<tr class="separator:af9e3b4ae730e43312e00fcbc1707588b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42f4b88764cb218434ad6fb580d93808"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a42f4b88764cb218434ad6fb580d93808">ast_module_support_level_to_string</a> (enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level)</td></tr>
<tr class="separator:a42f4b88764cb218434ad6fb580d93808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae98c0eda87d842c390783a4968f6c003"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ae98c0eda87d842c390783a4968f6c003">ast_module_unregister</a> (const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *)</td></tr>
<tr class="separator:ae98c0eda87d842c390783a4968f6c003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fd926a7510f3d3fd0d69ae710ec1e89"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a5fd926a7510f3d3fd0d69ae710ec1e89">ast_register_application2</a> (const char *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, int(*<a class="el" href="../../dc/d1d/func__odbc_8c.html#a16177a4992e1094843ceea2fc0d58cb0">execute</a>)(struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *, const char *), const char *<a class="el" href="../../d9/d5e/func__enum_8c.html#a1539fbb78128c8c72e41d1e9d2c09351">synopsis</a>, const char *description, void *mod)</td></tr>
<tr class="memdesc:a5fd926a7510f3d3fd0d69ae710ec1e89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an application.  <a href="#a5fd926a7510f3d3fd0d69ae710ec1e89">More...</a><br /></td></tr>
<tr class="separator:a5fd926a7510f3d3fd0d69ae710ec1e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f6615f305951a0d61adc6e61920c34"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a52f6615f305951a0d61adc6e61920c34">ast_unload_resource</a> (const char *resource_name, enum <a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9">ast_module_unload_mode</a>)</td></tr>
<tr class="memdesc:a52f6615f305951a0d61adc6e61920c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unload a module.  <a href="#a52f6615f305951a0d61adc6e61920c34">More...</a><br /></td></tr>
<tr class="separator:a52f6615f305951a0d61adc6e61920c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2ca15621101154f29748cf1dac3c3cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a> (const char *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:ad2ca15621101154f29748cf1dac3c3cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister an application.  <a href="#ad2ca15621101154f29748cf1dac3c3cf">More...</a><br /></td></tr>
<tr class="separator:ad2ca15621101154f29748cf1dac3c3cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029cc67c86d03d3f0d59b7a2ec0aa936"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a029cc67c86d03d3f0d59b7a2ec0aa936">ast_update_module_list</a> (int(*modentry)(const char *module, const char *description, int <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a2f8d20b887dab5677a21b650895a0dec">usecnt</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *like, enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level), const char *like)</td></tr>
<tr class="memdesc:a029cc67c86d03d3f0d59b7a2ec0aa936"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask for a list of modules, descriptions, use counts and status.  <a href="#a029cc67c86d03d3f0d59b7a2ec0aa936">More...</a><br /></td></tr>
<tr class="separator:a029cc67c86d03d3f0d59b7a2ec0aa936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0395d2e09c87db9db68d119bfb98aa1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ae0395d2e09c87db9db68d119bfb98aa1">ast_update_module_list_condition</a> (int(*modentry)(const char *module, const char *description, int <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a2f8d20b887dab5677a21b650895a0dec">usecnt</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *like, enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level, void *data, const char *condition), const char *like, void *data, const char *condition)</td></tr>
<tr class="memdesc:ae0395d2e09c87db9db68d119bfb98aa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask for a list of modules, descriptions, use counts and status.  <a href="#ae0395d2e09c87db9db68d119bfb98aa1">More...</a><br /></td></tr>
<tr class="separator:ae0395d2e09c87db9db68d119bfb98aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d685667cf74c0a067dece185a7f873"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ad5d685667cf74c0a067dece185a7f873">ast_update_module_list_data</a> (int(*modentry)(const char *module, const char *description, int <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a2f8d20b887dab5677a21b650895a0dec">usecnt</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *like, enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level, void *data), const char *like, void *data)</td></tr>
<tr class="memdesc:ad5d685667cf74c0a067dece185a7f873"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask for a list of modules, descriptions, use counts and status.  <a href="#ad5d685667cf74c0a067dece185a7f873">More...</a><br /></td></tr>
<tr class="separator:ad5d685667cf74c0a067dece185a7f873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28b9e8444e0f9b495cc1b10628b816e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a> (void)</td></tr>
<tr class="memdesc:a28b9e8444e0f9b495cc1b10628b816e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify when usecount has been changed.  <a href="#a28b9e8444e0f9b495cc1b10628b816e8">More...</a><br /></td></tr>
<tr class="separator:a28b9e8444e0f9b495cc1b10628b816e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d16/module_8h.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Asterisk module definitions. </p>
<p>This file contains the definitons for functions Asterisk modules should provide and some other module related functions. </p>

<p class="definition">Definition in file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9d567e7b64d402c1d710b9bd47679cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d567e7b64d402c1d710b9bd47679cd9">&#9670;&nbsp;</a></span>AST_MODULE_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MODULE_CONFIG&#160;&#160;&#160;&quot;modules.conf&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Module configuration file. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00059">59</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02214">loader_config_init()</a>.</p>

</div>
</div>
<a id="a9f4aa0e21486bdbcef428335268690c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f4aa0e21486bdbcef428335268690c9">&#9670;&nbsp;</a></span>AST_MODULE_INFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MODULE_INFO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">keystr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags_to_set, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#a787f82faccb7c1f40a2539a14855601b">desc</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fields...&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00543">543</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

</div>
</div>
<a id="a70ea6b2dde349dfaae4d21d93b9a5683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70ea6b2dde349dfaae4d21d93b9a5683">&#9670;&nbsp;</a></span>AST_MODULE_INFO_STANDARD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MODULE_INFO_STANDARD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">keystr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#a787f82faccb7c1f40a2539a14855601b">desc</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00567">567</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

</div>
</div>
<a id="ae1b913cbf084eca8d020e3765e3bb434"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1b913cbf084eca8d020e3765e3bb434">&#9670;&nbsp;</a></span>AST_MODULE_INFO_STANDARD_DEPRECATED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MODULE_INFO_STANDARD_DEPRECATED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">keystr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#a787f82faccb7c1f40a2539a14855601b">desc</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00583">583</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

</div>
</div>
<a id="ad71b0cf8553451788ab00d1cdd8ac154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad71b0cf8553451788ab00d1cdd8ac154">&#9670;&nbsp;</a></span>AST_MODULE_INFO_STANDARD_EXTENDED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MODULE_INFO_STANDARD_EXTENDED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">keystr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#a787f82faccb7c1f40a2539a14855601b">desc</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00575">575</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

</div>
</div>
<a id="a8dea6491bedba471fc44574d76438577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dea6491bedba471fc44574d76438577">&#9670;&nbsp;</a></span>ast_module_ref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_module_ref</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mod</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#ad93e209757c58beaaf1832031f553878">__ast_module_ref</a>(mod, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hold a reference to the module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>Module to reference </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mod</dd></dl>
<dl class="section note"><dt>Note</dt><dd>A module reference will prevent the module from being unloaded. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00443">443</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00039">__ast_datastore_alloc()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16404">action_dahdishowchannels()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01405">allocate_subscription_tree()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00580">alsa_new()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05829">ast_iax2_new()</a>, <a class="el" href="../../d2/dc0/pjsip__session_8c_source.html#l00090">ast_sip_session_add_supplements()</a>, <a class="el" href="../../d8/dd4/res__srtp_8c_source.html#l00514">ast_srtp_create()</a>, <a class="el" href="../../d2/df4/bridge__builtin__interval__features_8c_source.html#l00148">bridge_builtin_set_limits()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00186">get_lock()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01208">instance_created_observer()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01494">mgcp_new()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01115">mixmonitor_exec()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00416">module_reffed_deps_add()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l01018">moh_alloc()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l00500">moh_files_alloc()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l02700">my_on_hook()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l00311">newpvt()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00130">ooh323c_start_call_thread()</a>, <a class="el" href="../../d3/dac/chan__oss_8c_source.html#l00799">oss_new()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00936">phone_check_exception()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00855">phone_new()</a>, <a class="el" href="../../d8/dd4/res__srtp_8c_source.html#l00679">sdp_crypto_alloc()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03145">sip_create_publication()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02322">sip_handle_cc()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08161">sip_new()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l05371">skinny_new()</a>, and <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00952">smdi_load()</a>.</p>

</div>
</div>
<a id="ad2dd3dce05926913c40b883cc7cff0a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2dd3dce05926913c40b883cc7cff0a8">&#9670;&nbsp;</a></span>ast_module_running_ref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_module_running_ref</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mod</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#a401eb9f01aa98f085300275ce9f8b1de">__ast_module_running_ref</a>(mod, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hold a reference to the module if it is running. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>Module to reference </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mod</td><td>if running </td></tr>
    <tr><td class="paramname">NULL</td><td>if not running</td></tr>
  </table>
  </dd>
</dl>
<p>The returned pointer should be released with ast_module_unref.</p>
<dl class="section note"><dt>Note</dt><dd>A module reference will prevent the module from being unloaded. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a87">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00455">455</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02829">__ast_cli_generator()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00869">__ast_sorcery_object_type_insert_wizard()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l04021">agi_handle_command()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00370">ast_app_exec_sub()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00351">ast_app_expand_sub_args()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02939">ast_cli_command_full()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02937">ast_hook_send_action()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00465">ast_rtp_instance_new()</a>, <a class="el" href="../../d3/d62/timing_8c_source.html#l00122">ast_timer_open()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01215">fax_session_new()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01146">fax_session_reserve()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00511">find_best_technology()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00428">get_filestream()</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l06607">process_message()</a>.</p>

</div>
</div>
<a id="a9967b09817639f2e15c3f074a60b6379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9967b09817639f2e15c3f074a60b6379">&#9670;&nbsp;</a></span>ast_module_shutdown_ref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_module_shutdown_ref</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mod</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#a9e706a32aef4126d59d1f4c2b981dc91">__ast_module_shutdown_ref</a>(mod, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prevent unload of the module before shutdown. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>Module to hold</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This should not be balanced by a call to ast_module_unref. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00464">464</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d43/bucket_8c_source.html#l00277">__ast_bucket_scheme_register()</a>, <a class="el" href="../../d5/def/codec_8c_source.html#l00277">__ast_codec_register_with_format()</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00090">__ast_format_interface_register()</a>, <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00512">load_module()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01678">start_resource()</a>.</p>

</div>
</div>
<a id="a15896c26e51e8162df5eb9a0124c841f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15896c26e51e8162df5eb9a0124c841f">&#9670;&nbsp;</a></span>ast_module_unref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_module_unref</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mod</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#a01ae513b9d81eb9faae2c9cd92fc214a">__ast_module_unref</a>(mod, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release a reference to the module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>Module to release </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a89">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00469">469</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02829">__ast_cli_generator()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00869">__ast_sorcery_object_type_insert_wizard()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16404">action_dahdishowchannels()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l04021">agi_handle_command()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00375">alsa_hangup()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00370">ast_app_exec_sub()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00351">ast_app_expand_sub_args()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02939">ast_cli_command_full()</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">ast_datastore_free()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02937">ast_hook_send_action()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00465">ast_rtp_instance_new()</a>, <a class="el" href="../../d2/dc0/pjsip__session_8c_source.html#l00111">ast_sip_session_remove_supplements()</a>, <a class="el" href="../../d8/dd4/res__srtp_8c_source.html#l00560">ast_srtp_destroy()</a>, <a class="el" href="../../d3/d62/timing_8c_source.html#l00154">ast_timer_close()</a>, <a class="el" href="../../d3/d62/timing_8c_source.html#l00122">ast_timer_open()</a>, <a class="el" href="../../d2/df4/bridge__builtin__interval__features_8c_source.html#l00148">bridge_builtin_set_limits()</a>, <a class="el" href="../../d2/df4/bridge__builtin__interval__features_8c_source.html#l00140">bridge_features_limits_dtor()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00574">bridge_tech_deferred_destroy()</a>, <a class="el" href="../../d5/def/codec_8c_source.html#l00263">codec_dtor()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11068">dahdi_destroy_channel_range()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05992">dahdi_hangup()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l00291">destroy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00658">destroy_bridge()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01096">destroy_session()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01215">fax_session_new()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00383">filestream_destructor()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00511">find_best_technology()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00428">get_filestream()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l03436">iax2_predestroy()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01220">instance_destroying_observer()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00423">instance_destructor()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l01485">local_ast_moh_cleanup()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00142">lock_free()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00902">mgcp_hangup()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01115">mixmonitor_exec()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00709">mixmonitor_thread()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00744">module_destroy()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01182">modules_shutdown()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l02700">my_on_hook()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l00311">newpvt()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02236">onCallCleared()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04117">ooh323_destroy()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01087">ooh323_hangup()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00080">ooh323c_call_thread()</a>, <a class="el" href="../../d3/dac/chan__oss_8c_source.html#l00654">oss_hangup()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00936">phone_check_exception()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00355">phone_hangup()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l06607">process_message()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03133">publication_destroy_fn()</a>, <a class="el" href="../../d8/dd4/res__srtp_8c_source.html#l00641">res_sdp_crypto_dtor()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02244">sip_cc_monitor_destructor()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l07197">sip_hangup()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l04987">skinny_hangup()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00998">smart_bridge_operation()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00224">smdi_interface_destroy()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00762">sorcery_object_wizard_destructor()</a>, and <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01367">subscription_tree_destructor()</a>.</p>

</div>
</div>
<a id="ab941a600dc47b469ab225f140bc0973f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab941a600dc47b469ab225f140bc0973f">&#9670;&nbsp;</a></span>ast_module_user_add</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_module_user_add</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">chan</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#a0ddd2136c9f1f9e8eeda76f2194901d3">__ast_module_user_add</a>(AST_MODULE_SELF, chan)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00426">426</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00549">ast_calendar_register()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01358">canmatch()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01405">exec()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01335">exists()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01381">matchmore()</a>, <a class="el" href="../../df/d83/chan__nbs_8c_source.html#l00193">nbs_new()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l01298">smdi_msg_read()</a>, and <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l01202">smdi_msg_retrieve_read()</a>.</p>

</div>
</div>
<a id="a3878a02fd12ea57e75dbb5a0f131fa2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3878a02fd12ea57e75dbb5a0f131fa2d">&#9670;&nbsp;</a></span>ast_module_user_hangup_all</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_module_user_hangup_all</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#a14cb9c203d9110487fccf21905b903e3">__ast_module_user_hangup_all</a>(AST_MODULE_SELF)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00428">428</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

</div>
</div>
<a id="aac87725d61b6daf4ce7d7b505f1b68c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac87725d61b6daf4ce7d7b505f1b68c9">&#9670;&nbsp;</a></span>ast_module_user_remove</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_module_user_remove</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d8/dbc/structuser.html">user</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d3/d96/loader_8c.html#a14013f16abe2b07476d88bbe088db2c3">__ast_module_user_remove</a>(AST_MODULE_SELF, <a class="el" href="../../d8/dbc/structuser.html">user</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00427">427</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00587">ast_calendar_unregister()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01358">canmatch()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01405">exec()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01335">exists()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01381">matchmore()</a>, <a class="el" href="../../df/d83/chan__nbs_8c_source.html#l00107">nbs_destroy()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l01298">smdi_msg_read()</a>, and <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l01202">smdi_msg_retrieve_read()</a>.</p>

</div>
</div>
<a id="aa47a7223480d23a864cf83fef0f8585e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa47a7223480d23a864cf83fef0f8585e">&#9670;&nbsp;</a></span>ast_register_application</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_register_application</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../dc/d1d/func__odbc_8c.html#a16177a4992e1094843ceea2fc0d58cb0">execute</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/d5e/func__enum_8c.html#a1539fbb78128c8c72e41d1e9d2c09351">synopsis</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">description&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../dd/d16/pbx__app_8c.html#a5fd926a7510f3d3fd0d69ae710ec1e89">ast_register_application2</a>(<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, <a class="el" href="../../dc/d1d/func__odbc_8c.html#a16177a4992e1094843ceea2fc0d58cb0">execute</a>, <a class="el" href="../../d9/d5e/func__enum_8c.html#a1539fbb78128c8c72e41d1e9d2c09351">synopsis</a>, description, AST_MODULE_SELF)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Short name of the application </td></tr>
    <tr><td class="paramname">execute</td><td>a function callback to execute the application. It should return non-zero if the channel needs to be hung up. </td></tr>
    <tr><td class="paramname">synopsis</td><td>a short description (one line synopsis) of the application </td></tr>
    <tr><td class="paramname">description</td><td>long description with all of the details about the use of the application</td></tr>
  </table>
  </dd>
</dl>
<p>This registers an application with Asterisk's internal application list. </p><dl class="section note"><dt>Note</dt><dd>The individual applications themselves are responsible for registering and unregistering and unregistering their own CLI commands.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00610">610</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00633">load_module()</a>.</p>

</div>
</div>
<a id="afba4eb7a910b10969041ae4cd488729d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afba4eb7a910b10969041ae4cd488729d">&#9670;&nbsp;</a></span>ast_register_application_xml</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_register_application_xml</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../dc/d1d/func__odbc_8c.html#a16177a4992e1094843ceea2fc0d58cb0">execute</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d5/d16/module_8h.html#aa47a7223480d23a864cf83fef0f8585e">ast_register_application</a>(<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, <a class="el" href="../../dc/d1d/func__odbc_8c.html#a16177a4992e1094843ceea2fc0d58cb0">execute</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an application using XML documentation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Short name of the application </td></tr>
    <tr><td class="paramname">execute</td><td>a function callback to execute the application. It should return non-zero if the channel needs to be hung up.</td></tr>
  </table>
  </dd>
</dl>
<p>This registers an application with Asterisk's internal application list. </p><dl class="section note"><dt>Note</dt><dd>The individual applications themselves are responsible for registering and unregistering and unregistering their own CLI commands.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00626">626</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l01605">load_module()</a>, and <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00989">load_parking_applications()</a>.</p>

</div>
</div>
<a id="aba2c8d4be709a254658b21a834f8294a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba2c8d4be709a254658b21a834f8294a">&#9670;&nbsp;</a></span>ASTERISK_GPL_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTERISK_GPL_KEY&#160;&#160;&#160;&quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;.  Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option).  In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The text the key() function should return. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00046">46</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/dcf/func__periodic__hook_8c_source.html#l00513">ast_beep_stop()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01740">ast_cel_backend_register()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l09727">ast_manager_event_blob_create()</a>, <a class="el" href="../../d4/d8b/sounds_8c_source.html#l00313">ast_sounds_get_index_for_file()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l12768">chan_misdn_log()</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00450">do_reload()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l11484">find_member_by_queuename_and_interface()</a>, <a class="el" href="../../dd/d18/res__config__mysql_8c_source.html#l01474">handle_cli_realtime_mysql_status()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l01669">handle_cli_realtime_pgsql_status()</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l01605">load_module()</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00119">load_values_config()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l05206">ooh323_convert_hangupcause_h323ToAsterisk()</a>, <a class="el" href="../../dc/d12/res__config__ldap_8c_source.html#l01960">realtime_ldap_status()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02701">reload()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l04617">reload_module()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l03571">unload_module()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l16487">vm_msg_play()</a>.</p>

</div>
</div>
<a id="a0fb39465480454778b4b070505a4eabb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fb39465480454778b4b070505a4eabb">&#9670;&nbsp;</a></span>SCOPED_MODULE_USE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCOPED_MODULE_USE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">module</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *, __self__ ## __LINE__, <a class="el" href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a>(module), <a class="el" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Macro to safely ref and unref the self module for the current scope </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00665">665</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d87/res__ari__events_8c_source.html#l00144">ast_ari_events_event_websocket_ws_established_cb()</a>, <a class="el" href="../../d3/d2a/parking_8c_source.html#l00143">ast_parking_blind_transfer_park()</a>, <a class="el" href="../../d3/d2a/parking_8c_source.html#l00179">ast_parking_is_exten_park()</a>, <a class="el" href="../../d3/d2a/parking_8c_source.html#l00126">ast_parking_park_bridge_channel()</a>, <a class="el" href="../../d3/d2a/parking_8c_source.html#l00162">ast_parking_park_call()</a>, <a class="el" href="../../de/d4c/res__http__websocket_8c_source.html#l00790">ast_websocket_uri_cb()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00524">feature_park_call()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a155a0df9c59e04e305d4a2fa3e35f843"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a155a0df9c59e04e305d4a2fa3e35f843">&#9670;&nbsp;</a></span>ast_module_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843">ast_module_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b"></a>AST_MODFLAG_DEFAULT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c"></a>AST_MODFLAG_GLOBAL_SYMBOLS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223"></a>AST_MODFLAG_LOAD_ORDER&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00314">314</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                      {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a> = 0,</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> = (1 &lt;&lt; 0),</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> = (1 &lt;&lt; 1),</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;};</div><div class="ttc" id="module_8h_html_a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223"><div class="ttname"><a href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00317">module.h:317</a></div></div>
<div class="ttc" id="module_8h_html_a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b"><div class="ttname"><a href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00315">module.h:315</a></div></div>
<div class="ttc" id="module_8h_html_a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c"><div class="ttname"><a href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00316">module.h:316</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af03b737dae4048bd0e3820aadc6b4e68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af03b737dae4048bd0e3820aadc6b4e68">&#9670;&nbsp;</a></span>ast_module_helper_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68">ast_module_helper_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to specify which modules should be returned by ast_module_helper. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af03b737dae4048bd0e3820aadc6b4e68a5aefabfd802a86b13928fb84f12f1fd4"></a>AST_MODULE_HELPER_LOADED&#160;</td><td class="fielddoc"><p>Modules that are loaded by dlopen. </p>
</td></tr>
<tr><td class="fieldname"><a id="af03b737dae4048bd0e3820aadc6b4e68a34b04d5c4f36f36dc6b3568ba00607e0"></a>AST_MODULE_HELPER_RELOAD&#160;</td><td class="fielddoc"><p>Running modules that include a reload callback. </p>
</td></tr>
<tr><td class="fieldname"><a id="af03b737dae4048bd0e3820aadc6b4e68ad80c7e6093e034efcef04c16e909bae4"></a>AST_MODULE_HELPER_LOAD&#160;</td><td class="fielddoc"><p>Modules that can be loaded or started. </p>
</td></tr>
<tr><td class="fieldname"><a id="af03b737dae4048bd0e3820aadc6b4e68a94f5601297965c442e89368ea4056165"></a>AST_MODULE_HELPER_UNLOAD&#160;</td><td class="fielddoc"><p>Modules that can be unloaded. </p>
</td></tr>
<tr><td class="fieldname"><a id="af03b737dae4048bd0e3820aadc6b4e68af2b7a80de6b847c1d09201166128ebdb"></a>AST_MODULE_HELPER_RUNNING&#160;</td><td class="fielddoc"><p>Running modules </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00127">127</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                            {<span class="comment"></span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">   /*! Modules that are loaded by dlopen. */</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a5aefabfd802a86b13928fb84f12f1fd4">AST_MODULE_HELPER_LOADED</a> = 0,<span class="comment"></span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">   /*! Running modules that include a reload callback. */</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a34b04d5c4f36f36dc6b3568ba00607e0">AST_MODULE_HELPER_RELOAD</a> = 1,<span class="comment"></span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">   /*! Modules that can be loaded or started. */</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68ad80c7e6093e034efcef04c16e909bae4">AST_MODULE_HELPER_LOAD</a>,<span class="comment"></span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">   /*! Modules that can be unloaded. */</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a94f5601297965c442e89368ea4056165">AST_MODULE_HELPER_UNLOAD</a>,<span class="comment"></span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">   /*! Running modules */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68af2b7a80de6b847c1d09201166128ebdb">AST_MODULE_HELPER_RUNNING</a>,</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;};</div><div class="ttc" id="module_8h_html_af03b737dae4048bd0e3820aadc6b4e68a34b04d5c4f36f36dc6b3568ba00607e0"><div class="ttname"><a href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a34b04d5c4f36f36dc6b3568ba00607e0">AST_MODULE_HELPER_RELOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00131">module.h:131</a></div></div>
<div class="ttc" id="module_8h_html_af03b737dae4048bd0e3820aadc6b4e68ad80c7e6093e034efcef04c16e909bae4"><div class="ttname"><a href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68ad80c7e6093e034efcef04c16e909bae4">AST_MODULE_HELPER_LOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00133">module.h:133</a></div></div>
<div class="ttc" id="module_8h_html_af03b737dae4048bd0e3820aadc6b4e68a94f5601297965c442e89368ea4056165"><div class="ttname"><a href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a94f5601297965c442e89368ea4056165">AST_MODULE_HELPER_UNLOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00135">module.h:135</a></div></div>
<div class="ttc" id="module_8h_html_af03b737dae4048bd0e3820aadc6b4e68af2b7a80de6b847c1d09201166128ebdb"><div class="ttname"><a href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68af2b7a80de6b847c1d09201166128ebdb">AST_MODULE_HELPER_RUNNING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00137">module.h:137</a></div></div>
<div class="ttc" id="module_8h_html_af03b737dae4048bd0e3820aadc6b4e68a5aefabfd802a86b13928fb84f12f1fd4"><div class="ttname"><a href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a5aefabfd802a86b13928fb84f12f1fd4">AST_MODULE_HELPER_LOADED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00129">module.h:129</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4f734041ffd9d75b07cefb0291e1e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4f734041ffd9d75b07cefb0291e1e58">&#9670;&nbsp;</a></span>ast_module_load_priority</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58">ast_module_load_priority</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58a3d83cb4f000893df1b0de0cbe2a8b523"></a>AST_MODPRI_REALTIME_DEPEND&#160;</td><td class="fielddoc"><p>Dependency for a realtime driver </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58ad75946496d5ee4e43dff6aefa97e4979"></a>AST_MODPRI_REALTIME_DEPEND2&#160;</td><td class="fielddoc"><p>Second level dependency for a realtime driver (func_curl needs res_curl, but is needed by res_config_curl) </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58a8201de64237a41919013d62ae5d6721d"></a>AST_MODPRI_REALTIME_DRIVER&#160;</td><td class="fielddoc"><p>A realtime driver, which provides configuration services for other modules </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58a37c0718af4fc7bf8c860beb730161044"></a>AST_MODPRI_CORE&#160;</td><td class="fielddoc"><p>A core module originally meant to start between preload and load. </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58a43c7c4b75029b2b1f5f8875b3a97aac2"></a>AST_MODPRI_TIMING&#160;</td><td class="fielddoc"><p>Dependency for a channel (MOH needs timing interfaces to be fully loaded) </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58a87717b8c3b913bbbb55297fc169086e0"></a>AST_MODPRI_CHANNEL_DEPEND&#160;</td><td class="fielddoc"><p>Channel driver dependency (may depend upon realtime, e.g. MOH) </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58a34af570c4f482ece06a6b20720d56650"></a>AST_MODPRI_CHANNEL_DRIVER&#160;</td><td class="fielddoc"><p>Channel drivers (provide devicestate) </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58a08d902290b0d6cbffd8e607d5e399a06"></a>AST_MODPRI_APP_DEPEND&#160;</td><td class="fielddoc"><p>Dependency for an application </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58af2d6c20d90a068171cc852484a435980"></a>AST_MODPRI_DEVSTATE_PROVIDER&#160;</td><td class="fielddoc"><p>Applications and other modules that <em>provide</em> devicestate (e.g. meetme) </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58afb3871f44ac2a23edbc1821312afe8a0"></a>AST_MODPRI_DEVSTATE_PLUGIN&#160;</td><td class="fielddoc"><p>Plugin for a module that provides devstate (e.g. res_calendar_*) </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58a26d0ea20d3fa4a502f1724092467ca7f"></a>AST_MODPRI_CDR_DRIVER&#160;</td><td class="fielddoc"><p>CDR or CEL backend </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee"></a>AST_MODPRI_DEFAULT&#160;</td><td class="fielddoc"><p>Modules not otherwise defined (such as most apps) will load here </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4f734041ffd9d75b07cefb0291e1e58ac8f668d27e0baf549e54a5e71da40c13"></a>AST_MODPRI_DEVSTATE_CONSUMER&#160;</td><td class="fielddoc"><p>Certain modules, which consume devstate, need to load after all others (e.g. app_queue) </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00320">320</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                              {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a3d83cb4f000893df1b0de0cbe2a8b523">AST_MODPRI_REALTIME_DEPEND</a> =    10,  <span class="comment">/*!&lt; Dependency for a realtime driver */</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58ad75946496d5ee4e43dff6aefa97e4979">AST_MODPRI_REALTIME_DEPEND2</a> =   20,  <span class="comment">/*!&lt; Second level dependency for a realtime driver (func_curl needs res_curl, but is needed by res_config_curl) */</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a8201de64237a41919013d62ae5d6721d">AST_MODPRI_REALTIME_DRIVER</a> =    30,  <span class="comment">/*!&lt; A realtime driver, which provides configuration services for other modules */</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a37c0718af4fc7bf8c860beb730161044">AST_MODPRI_CORE</a> =               40,  <span class="comment">/*!&lt; A core module originally meant to start between preload and load. */</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a43c7c4b75029b2b1f5f8875b3a97aac2">AST_MODPRI_TIMING</a> =             50,  <span class="comment">/*!&lt; Dependency for a channel (MOH needs timing interfaces to be fully loaded) */</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a87717b8c3b913bbbb55297fc169086e0">AST_MODPRI_CHANNEL_DEPEND</a> =     60,  <span class="comment">/*!&lt; Channel driver dependency (may depend upon realtime, e.g. MOH) */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a34af570c4f482ece06a6b20720d56650">AST_MODPRI_CHANNEL_DRIVER</a> =     70,  <span class="comment">/*!&lt; Channel drivers (provide devicestate) */</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a08d902290b0d6cbffd8e607d5e399a06">AST_MODPRI_APP_DEPEND</a> =         80,  <span class="comment">/*!&lt; Dependency for an application */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58af2d6c20d90a068171cc852484a435980">AST_MODPRI_DEVSTATE_PROVIDER</a> =  90,  <span class="comment">/*!&lt; Applications and other modules that _provide_ devicestate (e.g. meetme) */</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58afb3871f44ac2a23edbc1821312afe8a0">AST_MODPRI_DEVSTATE_PLUGIN</a> =   100,  <span class="comment">/*!&lt; Plugin for a module that provides devstate (e.g. res_calendar_*) */</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a26d0ea20d3fa4a502f1724092467ca7f">AST_MODPRI_CDR_DRIVER</a> =        110,  <span class="comment">/*!&lt; CDR or CEL backend */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a> =           128,  <span class="comment">/*!&lt; Modules not otherwise defined (such as most apps) will load here */</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58ac8f668d27e0baf549e54a5e71da40c13">AST_MODPRI_DEVSTATE_CONSUMER</a> = 150,  <span class="comment">/*!&lt; Certain modules, which consume devstate, need to load after all others (e.g. app_queue) */</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;};</div><div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a34af570c4f482ece06a6b20720d56650"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a34af570c4f482ece06a6b20720d56650">AST_MODPRI_CHANNEL_DRIVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00327">module.h:327</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a37c0718af4fc7bf8c860beb730161044"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a37c0718af4fc7bf8c860beb730161044">AST_MODPRI_CORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00324">module.h:324</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a87717b8c3b913bbbb55297fc169086e0"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a87717b8c3b913bbbb55297fc169086e0">AST_MODPRI_CHANNEL_DEPEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00326">module.h:326</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00332">module.h:332</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a26d0ea20d3fa4a502f1724092467ca7f"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a26d0ea20d3fa4a502f1724092467ca7f">AST_MODPRI_CDR_DRIVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00331">module.h:331</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a3d83cb4f000893df1b0de0cbe2a8b523"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a3d83cb4f000893df1b0de0cbe2a8b523">AST_MODPRI_REALTIME_DEPEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00321">module.h:321</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58ad75946496d5ee4e43dff6aefa97e4979"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58ad75946496d5ee4e43dff6aefa97e4979">AST_MODPRI_REALTIME_DEPEND2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00322">module.h:322</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58ac8f668d27e0baf549e54a5e71da40c13"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58ac8f668d27e0baf549e54a5e71da40c13">AST_MODPRI_DEVSTATE_CONSUMER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00333">module.h:333</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58afb3871f44ac2a23edbc1821312afe8a0"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58afb3871f44ac2a23edbc1821312afe8a0">AST_MODPRI_DEVSTATE_PLUGIN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00330">module.h:330</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a43c7c4b75029b2b1f5f8875b3a97aac2"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a43c7c4b75029b2b1f5f8875b3a97aac2">AST_MODPRI_TIMING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00325">module.h:325</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a08d902290b0d6cbffd8e607d5e399a06"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a08d902290b0d6cbffd8e607d5e399a06">AST_MODPRI_APP_DEPEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00328">module.h:328</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58af2d6c20d90a068171cc852484a435980"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58af2d6c20d90a068171cc852484a435980">AST_MODPRI_DEVSTATE_PROVIDER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00329">module.h:329</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a8201de64237a41919013d62ae5d6721d"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a8201de64237a41919013d62ae5d6721d">AST_MODPRI_REALTIME_DRIVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00323">module.h:323</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adc09474f0ff557e9925b722ee5b952df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc09474f0ff557e9925b722ee5b952df">&#9670;&nbsp;</a></span>ast_module_load_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"></a>AST_MODULE_LOAD_SUCCESS&#160;</td><td class="fielddoc"><p>Module is loaded and configured. </p>
</td></tr>
<tr><td class="fieldname"><a id="adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"></a>AST_MODULE_LOAD_DECLINE&#160;</td><td class="fielddoc"><p>Module has failed to load, may be in an inconsistent state. </p>
<p>This value is used when a module fails to start but does not risk system-wide stability. Declined modules will prevent any other dependent module from starting. </p>
</td></tr>
<tr><td class="fieldname"><a id="adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b"></a>AST_MODULE_LOAD_SKIP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0"></a>AST_MODULE_LOAD_PRIORITY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388"></a>AST_MODULE_LOAD_FAILURE&#160;</td><td class="fielddoc"><p>Module could not be loaded properly. </p>
<p>This return should only be returned by modules for unrecoverable failures that cause the whole system to become unstable. In almost all cases <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a> should be used instead.</p>
<dl class="section warning"><dt>Warning</dt><dd>Returning this code from any module will cause startup to abort. If startup is already completed this code has the same effect as <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>. </dd></dl>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00068">68</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                            {<span class="comment"></span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">   /*! Module is loaded and configured. */</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a> = 0,<span class="comment"></span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">    * \brief Module has failed to load, may be in an inconsistent state.</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">    * This value is used when a module fails to start but does not risk</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">    * system-wide stability.  Declined modules will prevent any other</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">    * dependent module from starting.</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a> = 1,<span class="comment"></span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">   /*! \internal</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">    * \brief Module was skipped for some reason.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">    * \note For loader.c use only. Should never be returned by modules.</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b">AST_MODULE_LOAD_SKIP</a> = 2,<span class="comment"></span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">   /*! \internal</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">    * \brief Module is not loaded yet, but is added to priority list.</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">    * \note For loader.c use only. Should never be returned by modules.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0">AST_MODULE_LOAD_PRIORITY</a> = 3,<span class="comment"></span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">    * \brief Module could not be loaded properly.</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">    * This return should only be returned by modules for unrecoverable</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">    * failures that cause the whole system to become unstable.  In almost</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">    * all cases \ref AST_MODULE_LOAD_DECLINE should be used instead.</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">    * \warning Returning this code from any module will cause startup to abort.</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">    * If startup is already completed this code has the same effect as</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">    * \ref AST_MODULE_LOAD_DECLINE.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a> = -1,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;};</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0">AST_MODULE_LOAD_PRIORITY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00090">module.h:90</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a></div><div class="ttdoc">Module could not be loaded properly. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00102">module.h:102</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b">AST_MODULE_LOAD_SKIP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00084">module.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9013ad6d9add8a9255568c7db032cb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9013ad6d9add8a9255568c7db032cb7">&#9670;&nbsp;</a></span>ast_module_reload_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Possible return types for <a class="el" href="../../d3/d96/loader_8c.html#af9e3b4ae730e43312e00fcbc1707588b">ast_module_reload</a>. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac9013ad6d9add8a9255568c7db032cb7a9696155a2eb5969139965fbc5b8a66ed"></a>AST_MODULE_RELOAD_SUCCESS&#160;</td><td class="fielddoc"><p>The module was reloaded succesfully </p>
</td></tr>
<tr><td class="fieldname"><a id="ac9013ad6d9add8a9255568c7db032cb7a3c7e5ccf0a567b17833b1e60ba387abf"></a>AST_MODULE_RELOAD_QUEUED&#160;</td><td class="fielddoc"><p>The module reload request was queued </p>
</td></tr>
<tr><td class="fieldname"><a id="ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a"></a>AST_MODULE_RELOAD_NOT_FOUND&#160;</td><td class="fielddoc"><p>The requested module was not found </p>
</td></tr>
<tr><td class="fieldname"><a id="ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6"></a>AST_MODULE_RELOAD_ERROR&#160;</td><td class="fielddoc"><p>An error occurred while reloading the module </p>
</td></tr>
<tr><td class="fieldname"><a id="ac9013ad6d9add8a9255568c7db032cb7a2a1ae659f41755f987f33586cb43fade"></a>AST_MODULE_RELOAD_IN_PROGRESS&#160;</td><td class="fielddoc"><p>A module reload request is already in progress </p>
</td></tr>
<tr><td class="fieldname"><a id="ac9013ad6d9add8a9255568c7db032cb7ad06be99930a02b142bf370e2627849be"></a>AST_MODULE_RELOAD_UNINITIALIZED&#160;</td><td class="fielddoc"><p>The module has not been initialized </p>
</td></tr>
<tr><td class="fieldname"><a id="ac9013ad6d9add8a9255568c7db032cb7aae470b102da613cbd14c611b36e75b11"></a>AST_MODULE_RELOAD_NOT_IMPLEMENTED&#160;</td><td class="fielddoc"><p>This module doesn't support reloading </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00109">109</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                              {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a9696155a2eb5969139965fbc5b8a66ed">AST_MODULE_RELOAD_SUCCESS</a> = 0,      <span class="comment">/*!&lt; The module was reloaded succesfully */</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a3c7e5ccf0a567b17833b1e60ba387abf">AST_MODULE_RELOAD_QUEUED</a>,           <span class="comment">/*!&lt; The module reload request was queued */</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a>,        <span class="comment">/*!&lt; The requested module was not found */</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6">AST_MODULE_RELOAD_ERROR</a>,            <span class="comment">/*!&lt; An error occurred while reloading the module */</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a2a1ae659f41755f987f33586cb43fade">AST_MODULE_RELOAD_IN_PROGRESS</a>,      <span class="comment">/*!&lt; A module reload request is already in progress */</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ad06be99930a02b142bf370e2627849be">AST_MODULE_RELOAD_UNINITIALIZED</a>,    <span class="comment">/*!&lt; The module has not been initialized */</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aae470b102da613cbd14c611b36e75b11">AST_MODULE_RELOAD_NOT_IMPLEMENTED</a>,  <span class="comment">/*!&lt; This module doesn&#39;t support reloading */</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;};</div><div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7ad06be99930a02b142bf370e2627849be"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ad06be99930a02b142bf370e2627849be">AST_MODULE_RELOAD_UNINITIALIZED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00115">module.h:115</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00112">module.h:112</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7a3c7e5ccf0a567b17833b1e60ba387abf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a3c7e5ccf0a567b17833b1e60ba387abf">AST_MODULE_RELOAD_QUEUED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00111">module.h:111</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7a9696155a2eb5969139965fbc5b8a66ed"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a9696155a2eb5969139965fbc5b8a66ed">AST_MODULE_RELOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00110">module.h:110</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7a2a1ae659f41755f987f33586cb43fade"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a2a1ae659f41755f987f33586cb43fade">AST_MODULE_RELOAD_IN_PROGRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00114">module.h:114</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6">AST_MODULE_RELOAD_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00113">module.h:113</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7aae470b102da613cbd14c611b36e75b11"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aae470b102da613cbd14c611b36e75b11">AST_MODULE_RELOAD_NOT_IMPLEMENTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00116">module.h:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab35bc4efd9f79706300965c9d36a0ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab35bc4efd9f79706300965c9d36a0ce5">&#9670;&nbsp;</a></span>ast_module_support_level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab35bc4efd9f79706300965c9d36a0ce5ab106694f06a86a098eb609f4f7bc5782"></a>AST_MODULE_SUPPORT_UNKNOWN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15"></a>AST_MODULE_SUPPORT_CORE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35bc4efd9f79706300965c9d36a0ce5a9f8870a5687abe3d9a6b0b3fbc89a800"></a>AST_MODULE_SUPPORT_EXTENDED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35bc4efd9f79706300965c9d36a0ce5a29bc2fa1929477c1f28ba6d8094759cd"></a>AST_MODULE_SUPPORT_DEPRECATED&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00119">119</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                              {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5ab106694f06a86a098eb609f4f7bc5782">AST_MODULE_SUPPORT_UNKNOWN</a>,</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>,</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a9f8870a5687abe3d9a6b0b3fbc89a800">AST_MODULE_SUPPORT_EXTENDED</a>,</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a29bc2fa1929477c1f28ba6d8094759cd">AST_MODULE_SUPPORT_DEPRECATED</a>,</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;};</div><div class="ttc" id="module_8h_html_ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15"><div class="ttname"><a href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00121">module.h:121</a></div></div>
<div class="ttc" id="module_8h_html_ab35bc4efd9f79706300965c9d36a0ce5a9f8870a5687abe3d9a6b0b3fbc89a800"><div class="ttname"><a href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a9f8870a5687abe3d9a6b0b3fbc89a800">AST_MODULE_SUPPORT_EXTENDED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00122">module.h:122</a></div></div>
<div class="ttc" id="module_8h_html_ab35bc4efd9f79706300965c9d36a0ce5a29bc2fa1929477c1f28ba6d8094759cd"><div class="ttname"><a href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a29bc2fa1929477c1f28ba6d8094759cd">AST_MODULE_SUPPORT_DEPRECATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00123">module.h:123</a></div></div>
<div class="ttc" id="module_8h_html_ab35bc4efd9f79706300965c9d36a0ce5ab106694f06a86a098eb609f4f7bc5782"><div class="ttname"><a href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5ab106694f06a86a098eb609f4f7bc5782">AST_MODULE_SUPPORT_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00120">module.h:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac034ec04e9dd255a0d39bdfcb73113b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac034ec04e9dd255a0d39bdfcb73113b9">&#9670;&nbsp;</a></span>ast_module_unload_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9">ast_module_unload_mode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac034ec04e9dd255a0d39bdfcb73113b9a10bb7955de423b36c75f645de78d2f39"></a>AST_FORCE_SOFT&#160;</td><td class="fielddoc"><p>Softly unload a module, only if not in use </p>
</td></tr>
<tr><td class="fieldname"><a id="ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522"></a>AST_FORCE_FIRM&#160;</td><td class="fielddoc"><p>Firmly unload a module, even if in use </p>
</td></tr>
<tr><td class="fieldname"><a id="ac034ec04e9dd255a0d39bdfcb73113b9a4fbd520c0fa0b70495fe9dd6aee373b9"></a>AST_FORCE_HARD&#160;</td><td class="fielddoc"><p>as FIRM, plus dlclose() on the module. Not recommended as it may cause crashes </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00061">61</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                            {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a10bb7955de423b36c75f645de78d2f39">AST_FORCE_SOFT</a> = 0, <span class="comment">/*!&lt; Softly unload a module, only if not in use */</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522">AST_FORCE_FIRM</a> = 1, <span class="comment">/*!&lt; Firmly unload a module, even if in use */</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a4fbd520c0fa0b70495fe9dd6aee373b9">AST_FORCE_HARD</a> = 2, <span class="comment">/*!&lt; as FIRM, plus dlclose() on the module. Not recommended</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">            as it may cause crashes */</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;};</div><div class="ttc" id="module_8h_html_ac034ec04e9dd255a0d39bdfcb73113b9a10bb7955de423b36c75f645de78d2f39"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a10bb7955de423b36c75f645de78d2f39">AST_FORCE_SOFT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00062">module.h:62</a></div></div>
<div class="ttc" id="module_8h_html_ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522">AST_FORCE_FIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00063">module.h:63</a></div></div>
<div class="ttc" id="module_8h_html_ac034ec04e9dd255a0d39bdfcb73113b9a4fbd520c0fa0b70495fe9dd6aee373b9"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a4fbd520c0fa0b70495fe9dd6aee373b9">AST_FORCE_HARD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00064">module.h:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad93e209757c58beaaf1832031f553878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad93e209757c58beaaf1832031f553878">&#9670;&nbsp;</a></span>__ast_module_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* __ast_module_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02698">2698</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00498">__ao2_ref()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02714">__ast_module_running_ref()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l02724">__ast_module_shutdown_ref()</a>.</p>
<div class="fragment"><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;{</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;   <span class="keywordflow">if</span> (!mod) {</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;   }</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>) {</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad72d2e83978a52738059465c1fd10928">__ao2_ref</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>, +1, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func);</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;   }</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>, +1);</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;   <span class="keywordflow">return</span> mod;</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;}</div><div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad72d2e83978a52738059465c1fd10928"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad72d2e83978a52738059465c1fd10928">__ao2_ref</a></div><div class="ttdeci">int __ao2_ref(void *o, int delta, const char *tag, const char *file, int line, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00498">astobj2.c:498</a></div></div>
<div class="ttc" id="structast__module_html_a090ac02c52c0fb7908da14ba853c55ed"><div class="ttname"><a href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ast_module::ref_debug</a></div><div class="ttdeci">void * ref_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00296">loader.c:296</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a401eb9f01aa98f085300275ce9f8b1de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a401eb9f01aa98f085300275ce9f8b1de">&#9670;&nbsp;</a></span>__ast_module_running_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* __ast_module_running_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02714">2714</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l02698">__ast_module_ref()</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>.</p>
<div class="fragment"><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;{</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;   <span class="keywordflow">if</span> (!mod || !mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a>) {</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;   }</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d96/loader_8c.html#ad93e209757c58beaaf1832031f553878">__ast_module_ref</a>(mod, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func);</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;}</div><div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="loader_8c_html_ad93e209757c58beaaf1832031f553878"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ad93e209757c58beaaf1832031f553878">__ast_module_ref</a></div><div class="ttdeci">struct ast_module * __ast_module_ref(struct ast_module *mod, const char *file, int line, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02698">loader.c:2698</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e706a32aef4126d59d1f4c2b981dc91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e706a32aef4126d59d1f4c2b981dc91">&#9670;&nbsp;</a></span>__ast_module_shutdown_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_module_shutdown_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02724">2724</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l02698">__ast_module_ref()</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00324">ast_module::keepuntilshutdown</a>.</p>
<div class="fragment"><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;{</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;   <span class="keywordflow">if</span> (!mod || mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a84a2c52e4b546ee4761dfce7ddeea601">keepuntilshutdown</a>) {</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;   }</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#ad93e209757c58beaaf1832031f553878">__ast_module_ref</a>(mod, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func);</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;   mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a84a2c52e4b546ee4761dfce7ddeea601">keepuntilshutdown</a> = 1;</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__module_html_a84a2c52e4b546ee4761dfce7ddeea601"><div class="ttname"><a href="../../d9/df5/structast__module.html#a84a2c52e4b546ee4761dfce7ddeea601">ast_module::keepuntilshutdown</a></div><div class="ttdeci">unsigned int keepuntilshutdown</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00324">loader.c:324</a></div></div>
<div class="ttc" id="loader_8c_html_ad93e209757c58beaaf1832031f553878"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ad93e209757c58beaaf1832031f553878">__ast_module_ref</a></div><div class="ttdeci">struct ast_module * __ast_module_ref(struct ast_module *mod, const char *file, int line, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02698">loader.c:2698</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a01ae513b9d81eb9faae2c9cd92fc214a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ae513b9d81eb9faae2c9cd92fc214a">&#9670;&nbsp;</a></span>__ast_module_unref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_module_unref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02734">2734</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00498">__ao2_ref()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>
<div class="fragment"><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;{</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;   <span class="keywordflow">if</span> (!mod) {</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;   }</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>) {</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad72d2e83978a52738059465c1fd10928">__ao2_ref</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>, -1, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func);</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;   }</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>, -1);</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;}</div><div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad72d2e83978a52738059465c1fd10928"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad72d2e83978a52738059465c1fd10928">__ao2_ref</a></div><div class="ttdeci">int __ao2_ref(void *o, int delta, const char *tag, const char *file, int line, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00498">astobj2.c:498</a></div></div>
<div class="ttc" id="structast__module_html_a090ac02c52c0fb7908da14ba853c55ed"><div class="ttname"><a href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ast_module::ref_debug</a></div><div class="ttdeci">void * ref_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00296">loader.c:296</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad315d50d0a7d61cb9feac19223fff8c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad315d50d0a7d61cb9feac19223fff8c0">&#9670;&nbsp;</a></span>__ast_module_user_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d98/structast__module__user.html">ast_module_user</a>* __ast_module_user_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00800">800</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00128">ast_module_user::chan</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00302">ast_module::users</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00599">ast_func_read()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00642">ast_func_read2()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00692">ast_func_write()</a>, and <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00471">pbx_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;{</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *u;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   u = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*u));</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;   <span class="keywordflow">if</span> (!u) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   u-&gt;<a class="code" href="../../d4/d98/structast__module__user.html#a84d1435c5b8d387806714ea7079304b7">chan</a> = <a class="code" href="../../d4/d98/structast__module__user.html#a84d1435c5b8d387806714ea7079304b7">chan</a>;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;mod-&gt;users);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;mod-&gt;users, u, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;mod-&gt;users);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;ref_debug) {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(mod-&gt;ref_debug, +1);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   }</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;mod-&gt;usecount, +1);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="keywordflow">return</span> u;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="structast__module__user_html"><div class="ttname"><a href="../../d4/d98/structast__module__user.html">ast_module_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00127">loader.c:127</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__module__user_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d4/d98/structast__module__user.html#a84d1435c5b8d387806714ea7079304b7">ast_module_user::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00128">loader.c:128</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afc270b7358ecf057945a5ddbe3a4d750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc270b7358ecf057945a5ddbe3a4d750">&#9670;&nbsp;</a></span>__ast_module_user_hangup_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_module_user_hangup_all </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00853">853</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02476">ast_softhangup()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01144">AST_SOFTHANGUP_APPUNLOAD</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00128">ast_module_user::chan</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00302">ast_module::users</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01229">ast_unload_resource()</a>.</p>
<div class="fragment"><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;{</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *u;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;mod-&gt;users);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   <span class="keywordflow">while</span> ((u = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;mod-&gt;users, <a class="code" href="../../d3/d96/structentry.html">entry</a>))) {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <span class="keywordflow">if</span> (u-&gt;<a class="code" href="../../d4/d98/structast__module__user.html#a84d1435c5b8d387806714ea7079304b7">chan</a>) {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a>(u-&gt;<a class="code" href="../../d4/d98/structast__module__user.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4aeeafae6abd77156800ec76b0ff7d3867">AST_SOFTHANGUP_APPUNLOAD</a>);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keywordflow">if</span> (mod-&gt;ref_debug) {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(mod-&gt;ref_debug, -1);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;mod-&gt;usecount, -1);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(u);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;   }</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;mod-&gt;users);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="structast__module__user_html"><div class="ttname"><a href="../../d4/d98/structast__module__user.html">ast_module_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00127">loader.c:127</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_ac2d6607253f7e8b272d4e845474eaa9b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a></div><div class="ttdeci">int ast_softhangup(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02476">channel.c:2476</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="structast__module__user_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d4/d98/structast__module__user.html#a84d1435c5b8d387806714ea7079304b7">ast_module_user::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00128">loader.c:128</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4aeeafae6abd77156800ec76b0ff7d3867"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4aeeafae6abd77156800ec76b0ff7d3867">AST_SOFTHANGUP_APPUNLOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01144">channel.h:1144</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aee5ac94e279928d1d1f7b6aafb62ec7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee5ac94e279928d1d1f7b6aafb62ec7a">&#9670;&nbsp;</a></span>__ast_module_user_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_module_user_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00826">826</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00855">AST_LIST_REMOVE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00302">ast_module::users</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00599">ast_func_read()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00642">ast_func_read2()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00692">ast_func_write()</a>, and <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00471">pbx_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   <span class="keywordflow">if</span> (!u) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   }</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;mod-&gt;users);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;   u = <a class="code" href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a>(&amp;mod-&gt;users, u, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;mod-&gt;users);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;   <span class="keywordflow">if</span> (!u) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">       * Was not in the list.  Either a bad pointer or</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">       * __ast_module_user_hangup_all() has been called.</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;   }</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;ref_debug) {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(mod-&gt;ref_debug, -1);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;mod-&gt;usecount, -1);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(u);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa36e72b77f1b80881cd0a9fcca66ce19"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a></div><div class="ttdeci">#define AST_LIST_REMOVE(head, elm, field)</div><div class="ttdoc">Removes a specific entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00855">linkedlists.h:855</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a841766995d4e10ebb3950b10aab97d9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a841766995d4e10ebb3950b10aab97d9e">&#9670;&nbsp;</a></span>ast_load_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a> ast_load_resource </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource_name</td><td>The name of the module to load.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is run by the PBX to load the modules. It performs all loading and initialization tasks. Basically, to load a module, just give it the name of the module and it will do the rest.</p>
<dl class="section return"><dt>Returns</dt><dd>See possible enum values for ast_module_load_result. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01819">1819</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00196">ast_test_suite_event_notify</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">load_resource()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00519">ast_ari_asterisk_load_module()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00240">handle_load()</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l06505">manager_moduleload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;{</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;   res = <a class="code" href="../../d3/d96/loader_8c.html#ab143f0b545c2fe83ebacf96cf896246a">load_resource</a>(resource_name, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0);</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;   <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a>(<span class="stringliteral">&quot;MODULE_LOAD&quot;</span>, <span class="stringliteral">&quot;Message: %s&quot;</span>, resource_name);</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;   }</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;}</div><div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="test_8h_html_a9482d93ea3931853331bdbc745ce7cb4"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a></div><div class="ttdeci">#define ast_test_suite_event_notify(s, f,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00196">test.h:196</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="loader_8c_html_ab143f0b545c2fe83ebacf96cf896246a"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ab143f0b545c2fe83ebacf96cf896246a">load_resource</a></div><div class="ttdeci">static enum ast_module_load_result load_resource(const char *resource_name, unsigned int suppress_logging, struct module_vector *module_priorities, int required, int preload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01763">loader.c:1763</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a35e5148750fa0ab4ffa54d0fe19c966a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e5148750fa0ab4ffa54d0fe19c966a">&#9670;&nbsp;</a></span>ast_loader_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_loader_register </td>
          <td>(</td>
          <td class="paramtype">int(*)(void)&#160;</td>
          <td class="paramname"><em>updater</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a procedure to be run when modules have been updated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">updater</td><td>The function to run when modules have been updated.</td></tr>
  </table>
  </dd>
</dl>
<p>This function adds the given function to a linked list of functions to be run when the modules are updated.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02666">2666</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00625">loadupdate::updater</a>.</p>
<div class="fragment"><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;{</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d70/structloadupdate.html">loadupdate</a> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;   <span class="keywordflow">if</span> (!(tmp = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(*tmp))))</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;   tmp-&gt;<a class="code" href="../../d9/d70/structloadupdate.html#a905a3e31a1324bfa4f518a370018baab">updater</a> = v;</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>);</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>, tmp, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>);</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structloadupdate_html_a905a3e31a1324bfa4f518a370018baab"><div class="ttname"><a href="../../d9/d70/structloadupdate.html#a905a3e31a1324bfa4f518a370018baab">loadupdate::updater</a></div><div class="ttdeci">int(* updater)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00625">loader.c:625</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structupdaters_html"><div class="ttname"><a href="../../d9/daf/structupdaters.html">updaters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00629">loader.c:629</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="structloadupdate_html"><div class="ttname"><a href="../../d9/d70/structloadupdate.html">loadupdate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00624">loader.c:624</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a057c6c9c5266071d7a8a09695555ee25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a057c6c9c5266071d7a8a09695555ee25">&#9670;&nbsp;</a></span>ast_loader_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_loader_unregister </td>
          <td>(</td>
          <td class="paramtype">int(*)(void)&#160;</td>
          <td class="paramname"><em>updater</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a procedure to be run when modules are updated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">updater</td><td>The updater function to unregister.</td></tr>
  </table>
  </dd>
</dl>
<p>This removes the given function from the updater list.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02681">2681</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00625">loadupdate::updater</a>.</p>
<div class="fragment"><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;{</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d70/structloadupdate.html">loadupdate</a> *cur;</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>);</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>, cur, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;<a class="code" href="../../d9/d70/structloadupdate.html#a905a3e31a1324bfa4f518a370018baab">updater</a> == v)  {</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;      }</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;   }</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>);</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;   <span class="keywordflow">return</span> cur ? 0 : -1;</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structloadupdate_html_a905a3e31a1324bfa4f518a370018baab"><div class="ttname"><a href="../../d9/d70/structloadupdate.html#a905a3e31a1324bfa4f518a370018baab">loadupdate::updater</a></div><div class="ttdeci">int(* updater)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00625">loader.c:625</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structupdaters_html"><div class="ttname"><a href="../../d9/daf/structupdaters.html">updaters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00629">loader.c:629</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="structloadupdate_html"><div class="ttname"><a href="../../d9/d70/structloadupdate.html">loadupdate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00624">loader.c:624</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15f7e2f25f4d0c60de6cca164232a6d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15f7e2f25f4d0c60de6cca164232a6d4">&#9670;&nbsp;</a></span>ast_module_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_module_check </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if module with the name given is loaded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Module name, like "chan_sip.so" </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>if true </td></tr>
    <tr><td class="paramname">0</td><td>if false</td></tr>
  </table>
  </dd>
</dl>
<p>Check if module with the name given is loaded. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02653">2653</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00484">ast_ari_asterisk_get_module()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00519">ast_ari_asterisk_load_module()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00584">ast_ari_asterisk_reload_module()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00556">ast_ari_asterisk_unload_module()</a>, <a class="el" href="../../d9/dbe/test__utils_8c_source.html#l00331">AST_TEST_DEFINE()</a>, <a class="el" href="../../d1/d52/func__module_8c_source.html#l00052">ifmodule_read()</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l06470">manager_modulecheck()</a>.</p>
<div class="fragment"><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;{</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur;</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>))</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      <span class="keywordflow">return</span> 0;       <span class="comment">/* FALSE */</span></div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;   cur = <a class="code" href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, 1);</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;   <span class="keywordflow">return</span> (cur != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;}</div><div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="loader_8c_html_a5bfa4f5b3534c7b15263da6bec670e17"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a></div><div class="ttdeci">static struct ast_module * find_resource(const char *resource, int do_lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00937">loader.c:937</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e9c668b5d436bc9c7c1076a008b9ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9c668b5d436bc9c7c1076a008b9ed1">&#9670;&nbsp;</a></span>ast_module_helper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ast_module_helper </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68">ast_module_helper_type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Match modules names for the Asterisk cli. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">line</td><td>Unused by this function, but this should be the line we are matching. </td></tr>
    <tr><td class="paramname">word</td><td>The partial name to match. </td></tr>
    <tr><td class="paramname">pos</td><td>The position the word we are completing is in. </td></tr>
    <tr><td class="paramname">state</td><td>The possible match to return. </td></tr>
    <tr><td class="paramname">rpos</td><td>The position we should be matching. This should be the same as pos. </td></tr>
    <tr><td class="paramname">type</td><td>The type of action that will be performed by CLI.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>possible completion of the partial match. </td></tr>
    <tr><td class="paramname">NULL</td><td>if no matches were found. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01374">1374</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00575">AST_DLLIST_TRAVERSE</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00133">AST_MODULE_HELPER_LOAD</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01361">module_load_helper()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01299">module_matches_helper_type()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00572">handle_debug()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00240">handle_load()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00971">handle_modlist()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00268">handle_reload()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00630">handle_trace()</a>, and <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00808">handle_unload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;{</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;   <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;   <span class="keywordtype">int</span> wordlen = strlen(<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;   <span class="keywordtype">char</span> *ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;   <span class="keywordflow">if</span> (pos != rpos) {</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;   }</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a> == <a class="code" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68ad80c7e6093e034efcef04c16e909bae4">AST_MODULE_HELPER_LOAD</a>) {</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#af868e7e5e85f6170fac291fc9aff9167">module_load_helper</a>(<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>);</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;   }</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#ade039f491385a8ed2ea9668493b03eb9">module_matches_helper_type</a>(mod, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>)) {</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="keywordflow">if</span> (!strncasecmp(<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, wordlen) &amp;&amp; ++which &gt; <a class="code" href="../../d4/d88/structstate.html">state</a>) {</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;         ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      }</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;   }</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="module_8h_html_af03b737dae4048bd0e3820aadc6b4e68ad80c7e6093e034efcef04c16e909bae4"><div class="ttname"><a href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68ad80c7e6093e034efcef04c16e909bae4">AST_MODULE_HELPER_LOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00133">module.h:133</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_aaab7523863202cecf956b74c11d4ee4a"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00575">dlinkedlists.h:575</a></div></div>
<div class="ttc" id="loader_8c_html_ade039f491385a8ed2ea9668493b03eb9"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ade039f491385a8ed2ea9668493b03eb9">module_matches_helper_type</a></div><div class="ttdeci">static int module_matches_helper_type(struct ast_module *mod, enum ast_module_helper_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01299">loader.c:1299</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="loader_8c_html_af868e7e5e85f6170fac291fc9aff9167"><div class="ttname"><a href="../../d3/d96/loader_8c.html#af868e7e5e85f6170fac291fc9aff9167">module_load_helper</a></div><div class="ttdeci">static void module_load_helper(const char *word)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01361">loader.c:1361</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="codecs_2gsm_2inc_2private_8h_html_a0b023cbb2bf7d034c2269d58d7455ac8"><div class="ttname"><a href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a></div><div class="ttdeci">short word</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/codecs_2gsm_2inc_2private_8h_source.html#l00012">codecs/gsm/inc/private.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a10842e2d5bac25543eabaccde49f7aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10842e2d5bac25543eabaccde49f7aad">&#9670;&nbsp;</a></span>ast_module_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_module_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the name of a module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>A pointer to the module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the name of the module </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if mod or mod-&gt;info is NULL </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00615">615</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00350">ast_module_info::name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00328">acf_retrieve_docs()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00103">ast_register_application2()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01906">resource_list_recursive_decline()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01969">start_resource_list()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01010">unload_dynamic_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;{</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;   <span class="keywordflow">if</span> (!mod || !mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;   <span class="keywordflow">return</span> mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__module__info_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">ast_module_info::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00350">module.h:350</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a22b15d5b073cfab9d5b3b204c98865bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22b15d5b073cfab9d5b3b204c98865bd">&#9670;&nbsp;</a></span>ast_module_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_module_register </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00659">659</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00404">ao2_t_alloc_options</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l01088">AST_DLLIST_INSERT_TAIL</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00625">AST_LIST_HEAD_INIT</a>, <a class="el" href="../../d7/d5b/options_8h_source.html#l00135">ast_opt_ref_debug</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01756">ast_std_calloc()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00326">ast_module::builtin</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00364">builtin_module_list</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00309">ast_module::enhances</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00150">loader_ready</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00350">ast_module_info::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00307">ast_module::optional_modules</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00317">ast_module::reffed_deps</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00305">ast_module::requires</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00650">resource_being_loaded</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00342">ast_module_info::self</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00302">ast_module::users</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00157">get_name_from_resource()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l02179">loader_builtin_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#a63792b1ca1cd1436e3667028f8f0285f">loader_ready</a>) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      mod = <a class="code" href="../../d8/d8a/astmm_8h.html#aaa6644de621bccffd4b6d77d4606fa6e">ast_std_calloc</a>(1, <span class="keyword">sizeof</span>(*mod) + strlen(<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name) + 1);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">if</span> (!mod) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;         <span class="comment">/* We haven&#39;t even reached main() yet, if we can&#39;t</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">          * allocate memory at this point just give up. */</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Allocation failure during startup.\n&quot;</span>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;         exit(2);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      strcpy(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name); <span class="comment">/* safe */</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a> = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a835ea305371281793bcda066dec1d1fb">builtin</a> = 1;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <a class="code" href="../../d0/d43/dlinkedlists_8h.html#abaf7e78379c2699dc30ff2845ec9b28b">AST_DLLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#ab7fa704cd26e5ef5affa89a62e9fffd1">builtin_module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="comment">/* ast_module_register for built-in modules is run again during module preload. */</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">    * This lock protects resource_being_loaded as well as the module</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">    * list.  Normally we already have a lock on module_list when we</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">    * begin the load but locking again from here prevents corruption</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">    * if an asterisk module is dlopen&#39;ed from outside the module loader.</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   mod = <a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   <span class="keywordflow">if</span> (!mod) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;   }</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;Registering module %s\n&quot;</span>, <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <span class="comment">/* This tells load_dynamic_module that we&#39;re registered. */</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a> = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/options_8h.html#a1c0008b2469ea80be83559cb31c54050">ast_opt_ref_debug</a>) {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#a7d8e253a1db2dc47ed4af636c3ea89ce">ao2_t_alloc_options</a>(0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca">AST_LIST_HEAD_INIT</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">users</a>);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">requires</a>, 0);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">optional_modules</a>, 0);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">enhances</a>, 0);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a62aae0135470cb1390b8429638b02332">reffed_deps</a>, 0);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#abaf7e78379c2699dc30ff2845ec9b28b">AST_DLLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   <span class="comment">/* give the module a copy of its own handle, for later use in registrations and the like */</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   *((<span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> **) &amp;(<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;self)) = mod;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="preprocessor">#if defined(HAVE_PERMANENT_DLOPEN)</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a835ea305371281793bcda066dec1d1fb">builtin</a> != 1) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <span class="keyword">struct </span>info_list_obj *obj_tmp = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(info_list, <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name,</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">if</span> (!obj_tmp) {</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;         obj_tmp = info_list_obj_alloc(<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name, <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;         <span class="keywordflow">if</span> (obj_tmp) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(info_list, obj_tmp);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj_tmp, -1);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;         }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj_tmp, -1);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;   }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div><div class="ttc" id="loader_8c_html_a63792b1ca1cd1436e3667028f8f0285f"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a63792b1ca1cd1436e3667028f8f0285f">loader_ready</a></div><div class="ttdeci">static unsigned int loader_ready</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00150">loader.c:150</a></div></div>
<div class="ttc" id="structast__module_html_a036f5d6b841eb6c93b9e24425c1bff72"><div class="ttname"><a href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">ast_module::users</a></div><div class="ttdeci">struct module_user_list users</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00302">loader.c:302</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="loader_8c_html_ab7fa704cd26e5ef5affa89a62e9fffd1"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ab7fa704cd26e5ef5affa89a62e9fffd1">builtin_module_list</a></div><div class="ttdeci">static struct module_list builtin_module_list</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00364">loader.c:364</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7d8e253a1db2dc47ed4af636c3ea89ce"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7d8e253a1db2dc47ed4af636c3ea89ce">ao2_t_alloc_options</a></div><div class="ttdeci">#define ao2_t_alloc_options(data_size, destructor_fn, options, debug_msg)</div><div class="ttdoc">Allocate and initialize an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00404">astobj2.h:404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_abaf7e78379c2699dc30ff2845ec9b28b"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#abaf7e78379c2699dc30ff2845ec9b28b">AST_DLLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_DLLIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l01088">dlinkedlists.h:1088</a></div></div>
<div class="ttc" id="structast__module_html_aff7b1c595dc1dd848cec8bd49e65ba5e"><div class="ttname"><a href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">ast_module::enhances</a></div><div class="ttdeci">struct ast_vector_string enhances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00309">loader.c:309</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__module_html_a543acd2e8bdfacdbd5be239958e40614"><div class="ttname"><a href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">ast_module::optional_modules</a></div><div class="ttdeci">struct ast_vector_string optional_modules</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00307">loader.c:307</a></div></div>
<div class="ttc" id="structast__module_html_a48f30df52d1f0c51cc8f7c20b11eec44"><div class="ttname"><a href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">ast_module::requires</a></div><div class="ttdeci">struct ast_vector_string requires</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00305">loader.c:305</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="structast__module_html_a090ac02c52c0fb7908da14ba853c55ed"><div class="ttname"><a href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ast_module::ref_debug</a></div><div class="ttdeci">void * ref_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00296">loader.c:296</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6f42d3bf45cc9af6f794d9d1cf8c45ca"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca">AST_LIST_HEAD_INIT</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00625">linkedlists.h:625</a></div></div>
<div class="ttc" id="loader_8c_html_afed3ca5c75a63241f94a6601b11148bf"><div class="ttname"><a href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a></div><div class="ttdeci">static struct ast_module *volatile resource_being_loaded</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00650">loader.c:650</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astmm_8h_html_aaa6644de621bccffd4b6d77d4606fa6e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#aaa6644de621bccffd4b6d77d4606fa6e">ast_std_calloc</a></div><div class="ttdeci">void * ast_std_calloc(size_t nmemb, size_t size) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01756">astmm.c:1756</a></div></div>
<div class="ttc" id="structast__module_html_a835ea305371281793bcda066dec1d1fb"><div class="ttname"><a href="../../d9/df5/structast__module.html#a835ea305371281793bcda066dec1d1fb">ast_module::builtin</a></div><div class="ttdeci">unsigned int builtin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00326">loader.c:326</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="structast__module_html_a62aae0135470cb1390b8429638b02332"><div class="ttname"><a href="../../d9/df5/structast__module.html#a62aae0135470cb1390b8429638b02332">ast_module::reffed_deps</a></div><div class="ttdeci">struct module_vector reffed_deps</div><div class="ttdoc">Vector holding pointers to modules we have a reference to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00317">loader.c:317</a></div></div>
<div class="ttc" id="options_8h_html_a1c0008b2469ea80be83559cb31c54050"><div class="ttname"><a href="../../d7/d5b/options_8h.html#a1c0008b2469ea80be83559cb31c54050">ast_opt_ref_debug</a></div><div class="ttdeci">#define ast_opt_ref_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00135">options.h:135</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af9e3b4ae730e43312e00fcbc1707588b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9e3b4ae730e43312e00fcbc1707588b">&#9670;&nbsp;</a></span>ast_module_reload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a> ast_module_reload </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reload asterisk modules. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the name of the module to reload</td></tr>
  </table>
  </dd>
</dl>
<p>This function reloads the specified module, or if no modules are specified, it will reload all loaded modules.</p>
<dl class="section note"><dt>Note</dt><dd>Modules are reloaded using their <a class="el" href="../../d0/d29/cdr__mysql_8c.html#ad1982509765f4870f1f63412a53ea668">reload()</a> functions, not unloading them and loading them again.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td><a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a> status of the module load request </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01562">1562</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00151">ast_config_AST_CONFIG_DIR</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00575">AST_DLLIST_TRAVERSE</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l00337">ast_lastreloadtime</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02457">ast_lock_path()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01165">AST_LOCK_SUCCESS</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01166">AST_LOCK_TIMEOUT</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00279">AST_LOG_WARNING</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00113">AST_MODULE_RELOAD_ERROR</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00114">AST_MODULE_RELOAD_IN_PROGRESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00112">AST_MODULE_RELOAD_NOT_FOUND</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00116">AST_MODULE_RELOAD_NOT_IMPLEMENTED</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00111">AST_MODULE_RELOAD_QUEUED</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00110">AST_MODULE_RELOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00115">AST_MODULE_RELOAD_UNINITIALIZED</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00189">ast_mutex_trylock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d7/d5b/options_8h_source.html#l00133">ast_opt_lock_confdir</a>, <a class="el" href="../../df/d0a/io_8c_source.html#l00392">ast_sd_notify()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02473">ast_unlock_path()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00322">ast_module::declined</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00352">ast_module_info::description</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01554">publish_reload_message()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01432">queue_reload_request()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00346">ast_module_info::reload</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00631">reloadlock</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00917">resource_name_baselen()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00928">resource_name_match()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l06358">action_reload()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04102">action_updateconfig()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00584">ast_ari_asterisk_reload_module()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01407">ast_process_pending_reloads()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l02076">handle_cli_moh_reload()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00319">handle_core_reload()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00268">handle_reload()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l06505">manager_moduleload()</a>, and <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03370">monitor_sig_flags()</a>.</p>
<div class="fragment"><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;{</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a> res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a>;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;   <span class="keywordtype">size_t</span> name_baselen = <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> ? <a class="code" href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) : 0;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;   <span class="comment">/* If we aren&#39;t fully booted, we just pretend we reloaded but we queue this</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment">      up to run once we are booted up. */</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#a34b61c392d5cfb81ebdf50ca4880b4aa">modules_loaded</a>) {</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#abc4572014dbb249f18af82933dc40050">queue_reload_request</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a3c7e5ccf0a567b17833b1e60ba387abf">AST_MODULE_RELOAD_QUEUED</a>;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      <span class="keywordflow">goto</span> module_reload_exit;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;   }</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d42/lock_8h.html#a987fc536e8b6a1044689eca873610792">ast_mutex_trylock</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a>)) {</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;The previous reload command didn&#39;t finish yet\n&quot;</span>);</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a2a1ae659f41755f987f33586cb43fade">AST_MODULE_RELOAD_IN_PROGRESS</a>;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <span class="keywordflow">goto</span> module_reload_exit;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;   }</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;   <a class="code" href="../../dc/dac/io_8h.html#ac0cde8a3fde83180d994ad3c95f8bf49">ast_sd_notify</a>(<span class="stringliteral">&quot;RELOAD=1&quot;</span>);</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;   <a class="code" href="../../d7/d5b/options_8h.html#a7cdafc5a121e87659887ffc9abe36760">ast_lastreloadtime</a> = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/options_8h.html#a18ff36366d39024dbfc8b9262b08452a">ast_opt_lock_confdir</a>) {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      <span class="keywordtype">int</span> <span class="keywordflow">try</span>;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      <span class="keywordtype">int</span> lockres;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordflow">try</span> = 1, lockres = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8ca9c0f41302de02bb0130a92669d17333d">AST_LOCK_TIMEOUT</a>; <span class="keywordflow">try</span> &lt; 6 &amp;&amp; (lockres == <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8ca9c0f41302de02bb0130a92669d17333d">AST_LOCK_TIMEOUT</a>); <span class="keywordflow">try</span>++) {</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;         lockres = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a74c57b5a842dcbc15cc991a31f679a13">ast_lock_path</a>(<a class="code" href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a>);</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;         <span class="keywordflow">if</span> (lockres == <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8ca9c0f41302de02bb0130a92669d17333d">AST_LOCK_TIMEOUT</a>) {</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to grab lock on %s, try %d\n&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a>, <span class="keywordflow">try</span>);</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;         }</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      }</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      <span class="keywordflow">if</span> (lockres != <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8ca37bdbc92223520af2a24d5bfd6f561bb">AST_LOCK_SUCCESS</a>) {</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2878d83e36d91850732bad997524e45e">AST_LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot grab lock on %s\n&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a>);</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;         res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6">AST_MODULE_RELOAD_ERROR</a>;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;         <span class="keywordflow">goto</span> module_reload_done;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      }</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;   }</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, cur, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a> = cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> &amp;&amp; <a class="code" href="../../d3/d96/loader_8c.html#a5f72e7e80873f05719c41b557a395143">resource_name_match</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, name_baselen, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>)) {</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      }</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;      <span class="keywordflow">if</span> (!cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> || cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a>) {</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;         <span class="keywordflow">if</span> (res == <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a>) {</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ad06be99930a02b142bf370e2627849be">AST_MODULE_RELOAD_UNINITIALIZED</a>;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;         }</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) {</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;         }</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      }</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      <span class="keywordflow">if</span> (!info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#ab90db509cfd1055638970ca6cfaef729">reload</a>) { <span class="comment">/* cannot be reloaded */</span></div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;         <span class="keywordflow">if</span> (res == <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a>) {</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aae470b102da613cbd14c611b36e75b11">AST_MODULE_RELOAD_NOT_IMPLEMENTED</a>;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;         }</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) {</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;         }</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      }</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Reloading module &#39;%s&#39; (%s)\n&quot;</span>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>);</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <span class="keywordflow">if</span> (info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#ab90db509cfd1055638970ca6cfaef729">reload</a>() == <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>) {</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;         res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a9696155a2eb5969139965fbc5b8a66ed">AST_MODULE_RELOAD_SUCCESS</a>;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res == <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a>) {</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;         res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6">AST_MODULE_RELOAD_ERROR</a>;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      }</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) {</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      }</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;   }</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/options_8h.html#a18ff36366d39024dbfc8b9262b08452a">ast_opt_lock_confdir</a>) {</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af6428878db94a4adf8136850e6a654f5">ast_unlock_path</a>(<a class="code" href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a>);</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;   }</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;module_reload_done:</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a>);</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;   <a class="code" href="../../dc/dac/io_8h.html#ac0cde8a3fde83180d994ad3c95f8bf49">ast_sd_notify</a>(<span class="stringliteral">&quot;READY=1&quot;</span>);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;module_reload_exit:</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#acc7346b80a2ffb5aebaac61ef60e0763">publish_reload_message</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, res);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;}</div><div class="ttc" id="structast__module__info_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_module_info::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00352">module.h:352</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7ad06be99930a02b142bf370e2627849be"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ad06be99930a02b142bf370e2627849be">AST_MODULE_RELOAD_UNINITIALIZED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00115">module.h:115</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a382bf96f47f0b7fa86ae5ed0644b3f8ca37bdbc92223520af2a24d5bfd6f561bb"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8ca37bdbc92223520af2a24d5bfd6f561bb">AST_LOCK_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01165">include/asterisk/app.h:1165</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00112">module.h:112</a></div></div>
<div class="ttc" id="structast__module__info_html"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html">ast_module_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00336">module.h:336</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a></div><div class="ttdeci">ast_module_reload_result</div><div class="ttdoc">Possible return types for ast_module_reload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00109">module.h:109</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="loader_8c_html_acc7346b80a2ffb5aebaac61ef60e0763"><div class="ttname"><a href="../../d3/d96/loader_8c.html#acc7346b80a2ffb5aebaac61ef60e0763">publish_reload_message</a></div><div class="ttdeci">static void publish_reload_message(const char *name, enum ast_module_reload_result result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01554">loader.c:1554</a></div></div>
<div class="ttc" id="logger_8h_html_a2878d83e36d91850732bad997524e45e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a2878d83e36d91850732bad997524e45e">AST_LOG_WARNING</a></div><div class="ttdeci">#define AST_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00279">logger.h:279</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a382bf96f47f0b7fa86ae5ed0644b3f8ca9c0f41302de02bb0130a92669d17333d"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8ca9c0f41302de02bb0130a92669d17333d">AST_LOCK_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01166">include/asterisk/app.h:1166</a></div></div>
<div class="ttc" id="loader_8c_html_a5f72e7e80873f05719c41b557a395143"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5f72e7e80873f05719c41b557a395143">resource_name_match</a></div><div class="ttdeci">static int resource_name_match(const char *name1, size_t baselen1, const char *name2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00928">loader.c:928</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_af6428878db94a4adf8136850e6a654f5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#af6428878db94a4adf8136850e6a654f5">ast_unlock_path</a></div><div class="ttdeci">int ast_unlock_path(const char *path)</div><div class="ttdoc">Unlock a path. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l02473">main/app.c:2473</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a74c57b5a842dcbc15cc991a31f679a13"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a74c57b5a842dcbc15cc991a31f679a13">ast_lock_path</a></div><div class="ttdeci">enum AST_LOCK_RESULT ast_lock_path(const char *path)</div><div class="ttdoc">Lock a filesystem path. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l02457">main/app.c:2457</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="lock_8h_html_a987fc536e8b6a1044689eca873610792"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a987fc536e8b6a1044689eca873610792">ast_mutex_trylock</a></div><div class="ttdeci">#define ast_mutex_trylock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00189">lock.h:189</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_aaab7523863202cecf956b74c11d4ee4a"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00575">dlinkedlists.h:575</a></div></div>
<div class="ttc" id="io_8h_html_ac0cde8a3fde83180d994ad3c95f8bf49"><div class="ttname"><a href="../../dc/dac/io_8h.html#ac0cde8a3fde83180d994ad3c95f8bf49">ast_sd_notify</a></div><div class="ttdeci">int ast_sd_notify(const char *state)</div><div class="ttdoc">a wrapper for sd_notify(): notify systemd of any state changes. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0a/io_8c_source.html#l00392">io.c:392</a></div></div>
<div class="ttc" id="loader_8c_html_a34b61c392d5cfb81ebdf50ca4880b4aa"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a34b61c392d5cfb81ebdf50ca4880b4aa">modules_loaded</a></div><div class="ttdeci">static int modules_loaded</div><div class="ttdoc">Internal flag to indicate all modules have been initially loaded. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00291">loader.c:291</a></div></div>
<div class="ttc" id="options_8h_html_a7cdafc5a121e87659887ffc9abe36760"><div class="ttname"><a href="../../d7/d5b/options_8h.html#a7cdafc5a121e87659887ffc9abe36760">ast_lastreloadtime</a></div><div class="ttdeci">struct timeval ast_lastreloadtime</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l00337">asterisk.c:337</a></div></div>
<div class="ttc" id="structast__module_html_a85ddc5d9a4ffbf82da66e98d8f85977e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">ast_module::declined</a></div><div class="ttdeci">unsigned int declined</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00322">loader.c:322</a></div></div>
<div class="ttc" id="structast__module__info_html_ab90db509cfd1055638970ca6cfaef729"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#ab90db509cfd1055638970ca6cfaef729">ast_module_info::reload</a></div><div class="ttdeci">int(* reload)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00346">module.h:346</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7a3c7e5ccf0a567b17833b1e60ba387abf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a3c7e5ccf0a567b17833b1e60ba387abf">AST_MODULE_RELOAD_QUEUED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00111">module.h:111</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7a9696155a2eb5969139965fbc5b8a66ed"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a9696155a2eb5969139965fbc5b8a66ed">AST_MODULE_RELOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00110">module.h:110</a></div></div>
<div class="ttc" id="paths_8h_html_a7d3836e5581e433c9f5edd30300cc187"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a></div><div class="ttdeci">const char * ast_config_AST_CONFIG_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00151">options.c:151</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7a2a1ae659f41755f987f33586cb43fade"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a2a1ae659f41755f987f33586cb43fade">AST_MODULE_RELOAD_IN_PROGRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00114">module.h:114</a></div></div>
<div class="ttc" id="loader_8c_html_ad50dd3101474993b227de3e651457f15"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a></div><div class="ttdeci">static size_t resource_name_baselen(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00917">loader.c:917</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6">AST_MODULE_RELOAD_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00113">module.h:113</a></div></div>
<div class="ttc" id="loader_8c_html_abc4572014dbb249f18af82933dc40050"><div class="ttname"><a href="../../d3/d96/loader_8c.html#abc4572014dbb249f18af82933dc40050">queue_reload_request</a></div><div class="ttdeci">static void queue_reload_request(const char *module)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01432">loader.c:1432</a></div></div>
<div class="ttc" id="loader_8c_html_a39a4ab22c3e08054d2efe759d8610f12"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a></div><div class="ttdeci">static ast_mutex_t reloadlock</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00631">loader.c:631</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7aae470b102da613cbd14c611b36e75b11"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aae470b102da613cbd14c611b36e75b11">AST_MODULE_RELOAD_NOT_IMPLEMENTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00116">module.h:116</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="options_8h_html_a18ff36366d39024dbfc8b9262b08452a"><div class="ttname"><a href="../../d7/d5b/options_8h.html#a18ff36366d39024dbfc8b9262b08452a">ast_opt_lock_confdir</a></div><div class="ttdeci">#define ast_opt_lock_confdir</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00133">options.h:133</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42f4b88764cb218434ad6fb580d93808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42f4b88764cb218434ad6fb580d93808">&#9670;&nbsp;</a></span>ast_module_support_level_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_module_support_level_to_string </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a>&#160;</td>
          <td class="paramname"><em>support_level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02755">2755</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00459">identify_module()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00863">modlist_modentry()</a>, and <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00410">process_module_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;{</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d96/loader_8c.html#a39bcd1b774605144f6954d7ca4811ec5">support_level_map</a>[<a class="code" href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">support_level</a>];</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;}</div><div class="ttc" id="loader_8c_html_a39bcd1b774605144f6954d7ca4811ec5"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a39bcd1b774605144f6954d7ca4811ec5">support_level_map</a></div><div class="ttdeci">const char * support_level_map[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02748">loader.c:2748</a></div></div>
<div class="ttc" id="structast__module__info_html_a481d25e5ca044221c7179aedff41ea3f"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">ast_module_info::support_level</a></div><div class="ttdeci">enum ast_module_support_level support_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00416">module.h:416</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae98c0eda87d842c390783a4968f6c003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae98c0eda87d842c390783a4968f6c003">&#9670;&nbsp;</a></span>ast_module_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_module_unregister </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00768">768</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00613">ast_cli_unregister_multiple()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00752">AST_DLLIST_REMOVE_CURRENT</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00887">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_BEGIN</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00920">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_END</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00744">module_destroy()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00350">ast_module_info::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00157">get_name_from_resource()</a>.</p>
<div class="fragment"><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;{</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   <span class="comment">/* it is assumed that the users list in the module structure</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment">      will already be empty, or we cannot have gotten to this</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">      point</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a05e53f1c09d4e45309496ce2776d9fe4">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a> == <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;         <a class="code" href="../../d0/d43/dlinkedlists_8h.html#ab06b2888f6ac58baf6005ed8fd0245c6">AST_DLLIST_REMOVE_CURRENT</a>(<a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   }</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#afb668b38499833530e0741be25becd39">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_END</a>;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   <span class="keywordflow">if</span> (mod &amp;&amp; !mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>) {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">       * We are intentionally leaking mod if usecount is not zero.</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">       * This is necessary if the module is being forcefully unloaded.</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">       * In addition module_destroy is not safe to run after exit()</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">       * is called.  ast_module_unregister is run during cleanup of</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">       * the process when libc releases each module&#39;s shared object</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">       * library.</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;Unregistering module %s\n&quot;</span>, <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a95d38865fb6c00613b03a3e130c907bb">module_destroy</a>(mod);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;}</div><div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="loader_8c_html_a95d38865fb6c00613b03a3e130c907bb"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a95d38865fb6c00613b03a3e130c907bb">module_destroy</a></div><div class="ttdeci">static void module_destroy(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00744">loader.c:744</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a05e53f1c09d4e45309496ce2776d9fe4"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a05e53f1c09d4e45309496ce2776d9fe4">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00887">dlinkedlists.h:887</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_ab06b2888f6ac58baf6005ed8fd0245c6"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#ab06b2888f6ac58baf6005ed8fd0245c6">AST_DLLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_DLLIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00752">dlinkedlists.h:752</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_afb668b38499833530e0741be25becd39"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#afb668b38499833530e0741be25becd39">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_END</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00920">dlinkedlists.h:920</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5fd926a7510f3d3fd0d69ae710ec1e89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fd926a7510f3d3fd0d69ae710ec1e89">&#9670;&nbsp;</a></span>ast_register_application2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_register_application2 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *, const char *)&#160;</td>
          <td class="paramname"><em>execute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>synopsis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>description</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Short name of the application </td></tr>
    <tr><td class="paramname">execute</td><td>a function callback to execute the application. It should return non-zero if the channel needs to be hung up. </td></tr>
    <tr><td class="paramname">synopsis</td><td>a short description (one line synopsis) of the application </td></tr>
    <tr><td class="paramname">description</td><td>long description with all of the details about the use of the application </td></tr>
    <tr><td class="paramname">mod</td><td>module this application belongs to</td></tr>
  </table>
  </dd>
</dl>
<p>This registers an application with Asterisk's internal application list. </p><dl class="section note"><dt>Note</dt><dd>The individual applications themselves are responsible for registering and unregistering and unregistering their own CLI commands.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure.</td></tr>
  </table>
  </dd>
</dl>
<p>Register an application. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00103">103</a> of file <a class="el" href="../../dd/d16/pbx__app_8c_source.html">pbx_app.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00053">ast_app::arguments</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00615">ast_module_name()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00609">AST_RWLIST_INSERT_BEFORE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00740">AST_RWLIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d1/d99/xmldoc_8h_source.html#l00032">AST_STATIC_DOC</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d1/d99/xmldoc_8h_source.html#l00031">AST_XML_DOC</a>, <a class="el" href="../../d8/d2f/xmldoc_8c_source.html#l02075">ast_xmldoc_build_arguments()</a>, <a class="el" href="../../d8/d2f/xmldoc_8c_source.html#l02250">ast_xmldoc_build_description()</a>, <a class="el" href="../../d8/d2f/xmldoc_8c_source.html#l01698">ast_xmldoc_build_seealso()</a>, <a class="el" href="../../d8/d2f/xmldoc_8c_source.html#l02227">ast_xmldoc_build_synopsis()</a>, <a class="el" href="../../d8/d2f/xmldoc_8c_source.html#l01253">ast_xmldoc_build_syntax()</a>, <a class="el" href="../../db/d45/term_8h_source.html#l00060">COLOR_BRCYAN</a>, <a class="el" href="../../db/d45/term_8h_source.html#l00068">COLORIZE</a>, <a class="el" href="../../db/d45/term_8h_source.html#l00067">COLORIZE_FMT</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00055">ast_app::docsrc</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00046">ast_app::execute</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00069">pbx_findapp_nolock()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00053">ast_app::seealso</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00053">ast_app::syntax</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d6d/message_8c_source.html#l01730">ast_msg_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01556">load_pbx_builtins()</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01216">load_pbx_variables()</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/da3/structast__app.html">ast_app</a> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/da3/structast__app.html">ast_app</a> *cur;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   <span class="keywordtype">int</span> length;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#ifdef AST_XML_DOCS</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   <span class="keywordtype">char</span> *tmpxml;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   cur = <a class="code" href="../../dd/d16/pbx__app_8c.html#a4a10826617adb483bee152912aae6735">pbx_findapp_nolock</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <span class="keywordflow">if</span> (cur) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Already have an application &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   length = <span class="keyword">sizeof</span>(*tmp) + strlen(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>) + 1;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   <span class="keywordflow">if</span> (!(tmp = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, length))) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(tmp, 128)) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tmp);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   strcpy(tmp-&gt;name, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   tmp-&gt;<a class="code" href="../../d0/da3/structast__app.html#ae79782cc4f9d6bc42b2b563cee0420de">execute</a> = <a class="code" href="../../dc/d1d/func__odbc_8c.html#a16177a4992e1094843ceea2fc0d58cb0">execute</a>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   tmp-&gt;module = mod;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#ifdef AST_XML_DOCS</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   <span class="comment">/* Try to lookup the docs in our XML documentation database */</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#afbb30cae381f627fb08e1acdac926270">synopsis</a>) &amp;&amp; <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/da3/structast__app.html#a539df496300b755673646b442e9eafa4">description</a>)) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="comment">/* load synopsis */</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      tmpxml = <a class="code" href="../../d1/d99/xmldoc_8h.html#ada5725df0394b62d812bc36d3471b702">ast_xmldoc_build_synopsis</a>(<span class="stringliteral">&quot;application&quot;</span>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, <a class="code" href="../../d5/d16/module_8h.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(tmp-&gt;module));</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(tmp, <a class="code" href="../../d0/db6/app__mysql_8c.html#afbb30cae381f627fb08e1acdac926270">synopsis</a>, tmpxml);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tmpxml);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="comment">/* load description */</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      tmpxml = <a class="code" href="../../d1/d99/xmldoc_8h.html#a8f573b7eed021cfcb8c3e7a839c98c73">ast_xmldoc_build_description</a>(<span class="stringliteral">&quot;application&quot;</span>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, <a class="code" href="../../d5/d16/module_8h.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(tmp-&gt;module));</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(tmp, <a class="code" href="../../d0/da3/structast__app.html#a539df496300b755673646b442e9eafa4">description</a>, tmpxml);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tmpxml);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="comment">/* load syntax */</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      tmpxml = <a class="code" href="../../d1/d99/xmldoc_8h.html#a5c52185fee8531c7e071227b4e5b2ae6">ast_xmldoc_build_syntax</a>(<span class="stringliteral">&quot;application&quot;</span>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, <a class="code" href="../../d5/d16/module_8h.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(tmp-&gt;module));</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(tmp, <a class="code" href="../../d0/da3/structast__app.html#ac72ddaf7b92092136fc38629a809c87a">syntax</a>, tmpxml);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tmpxml);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="comment">/* load arguments */</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      tmpxml = <a class="code" href="../../d1/d99/xmldoc_8h.html#a1b4f0eb83fde5ec2ca8357428b10826f">ast_xmldoc_build_arguments</a>(<span class="stringliteral">&quot;application&quot;</span>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, <a class="code" href="../../d5/d16/module_8h.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(tmp-&gt;module));</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(tmp, <a class="code" href="../../d0/da3/structast__app.html#ad3d4ea338fb9552532c6828f6c312c57">arguments</a>, tmpxml);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tmpxml);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="comment">/* load seealso */</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      tmpxml = <a class="code" href="../../d1/d99/xmldoc_8h.html#a5213452e6be61321a64293e54e4b550b">ast_xmldoc_build_seealso</a>(<span class="stringliteral">&quot;application&quot;</span>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, <a class="code" href="../../d5/d16/module_8h.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(tmp-&gt;module));</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(tmp, <a class="code" href="../../d0/da3/structast__app.html#ac07925c5773daffa1e00486fbb9ef495">seealso</a>, tmpxml);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tmpxml);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      tmp-&gt;<a class="code" href="../../d0/da3/structast__app.html#aa871ca3c361d229d4e37edf3c6016cc1">docsrc</a> = <a class="code" href="../../d1/d99/xmldoc_8h.html#a8717a951656993c40bd851ebf50f58e3a24212840b7b1b0e9c1eebc8cfd89ab3e">AST_XML_DOC</a>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(tmp, <a class="code" href="../../d0/db6/app__mysql_8c.html#afbb30cae381f627fb08e1acdac926270">synopsis</a>, <a class="code" href="../../d0/db6/app__mysql_8c.html#afbb30cae381f627fb08e1acdac926270">synopsis</a>);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(tmp, <a class="code" href="../../d0/da3/structast__app.html#a539df496300b755673646b442e9eafa4">description</a>, <a class="code" href="../../d0/da3/structast__app.html#a539df496300b755673646b442e9eafa4">description</a>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">#ifdef AST_XML_DOCS</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      tmp-&gt;<a class="code" href="../../d0/da3/structast__app.html#aa871ca3c361d229d4e37edf3c6016cc1">docsrc</a> = <a class="code" href="../../d1/d99/xmldoc_8h.html#a8717a951656993c40bd851ebf50f58e3a7273ed64a1fd4a93692986eac376124a">AST_STATIC_DOC</a>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   <span class="comment">/* Store in alphabetical order */</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>, cur, list) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">if</span> (strcasecmp(tmp-&gt;name, cur-&gt;name) &lt; 0) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#acf8253a64f9a4e2170454f4bf0559e33">AST_RWLIST_INSERT_BEFORE_CURRENT</a>(tmp, list);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <span class="keywordflow">if</span> (!cur)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>, tmp, list);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Registered application &#39;&quot;</span> <a class="code" href="../../db/d45/term_8h.html#ae640996bf494da50000e83e165c5453e">COLORIZE_FMT</a> <span class="stringliteral">&quot;&#39;\n&quot;</span>, <a class="code" href="../../db/d45/term_8h.html#ae443185677b2d0586ded82d4fcde6992">COLORIZE</a>(<a class="code" href="../../db/d45/term_8h.html#a23aeefae76b2cacc1a6162de88c3fff0">COLOR_BRCYAN</a>, 0, tmp-&gt;name));</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div><div class="ttc" id="app__mysql_8c_html_afbb30cae381f627fb08e1acdac926270"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#afbb30cae381f627fb08e1acdac926270">synopsis</a></div><div class="ttdeci">static const char synopsis[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00064">app_mysql.c:64</a></div></div>
<div class="ttc" id="structast__app_html_ae79782cc4f9d6bc42b2b563cee0420de"><div class="ttname"><a href="../../d0/da3/structast__app.html#ae79782cc4f9d6bc42b2b563cee0420de">ast_app::execute</a></div><div class="ttdeci">int(* execute)(struct ast_channel *chan, const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00046">pbx_app.c:46</a></div></div>
<div class="ttc" id="func__odbc_8c_html_a16177a4992e1094843ceea2fc0d58cb0"><div class="ttname"><a href="../../dc/d1d/func__odbc_8c.html#a16177a4992e1094843ceea2fc0d58cb0">execute</a></div><div class="ttdeci">static SQLHSTMT execute(struct odbc_obj *obj, void *data, int silent)</div><div class="ttdoc">Common execution function for SQL queries. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1d/func__odbc_8c_source.html#l00454">func_odbc.c:454</a></div></div>
<div class="ttc" id="xmldoc_8h_html_a8717a951656993c40bd851ebf50f58e3a7273ed64a1fd4a93692986eac376124a"><div class="ttname"><a href="../../d1/d99/xmldoc_8h.html#a8717a951656993c40bd851ebf50f58e3a7273ed64a1fd4a93692986eac376124a">AST_STATIC_DOC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d99/xmldoc_8h_source.html#l00032">xmldoc.h:32</a></div></div>
<div class="ttc" id="structapps_html"><div class="ttname"><a href="../../d3/d01/structapps.html">apps</a></div><div class="ttdoc">Registered applications container. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00067">pbx_app.c:67</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="xmldoc_8h_html_a8f573b7eed021cfcb8c3e7a839c98c73"><div class="ttname"><a href="../../d1/d99/xmldoc_8h.html#a8f573b7eed021cfcb8c3e7a839c98c73">ast_xmldoc_build_description</a></div><div class="ttdeci">char * ast_xmldoc_build_description(const char *type, const char *name, const char *module)</div><div class="ttdoc">Generate description documentation from XML. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2f/xmldoc_8c_source.html#l02250">xmldoc.c:2250</a></div></div>
<div class="ttc" id="xmldoc_8h_html_a8717a951656993c40bd851ebf50f58e3a24212840b7b1b0e9c1eebc8cfd89ab3e"><div class="ttname"><a href="../../d1/d99/xmldoc_8h.html#a8717a951656993c40bd851ebf50f58e3a24212840b7b1b0e9c1eebc8cfd89ab3e">AST_XML_DOC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d99/xmldoc_8h_source.html#l00031">xmldoc.h:31</a></div></div>
<div class="ttc" id="xmldoc_8h_html_ada5725df0394b62d812bc36d3471b702"><div class="ttname"><a href="../../d1/d99/xmldoc_8h.html#ada5725df0394b62d812bc36d3471b702">ast_xmldoc_build_synopsis</a></div><div class="ttdeci">char * ast_xmldoc_build_synopsis(const char *type, const char *name, const char *module)</div><div class="ttdoc">Generate synopsis documentation from XML. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2f/xmldoc_8c_source.html#l02227">xmldoc.c:2227</a></div></div>
<div class="ttc" id="xmldoc_8h_html_a1b4f0eb83fde5ec2ca8357428b10826f"><div class="ttname"><a href="../../d1/d99/xmldoc_8h.html#a1b4f0eb83fde5ec2ca8357428b10826f">ast_xmldoc_build_arguments</a></div><div class="ttdeci">char * ast_xmldoc_build_arguments(const char *type, const char *name, const char *module)</div><div class="ttdoc">Generate the [arguments] tag based on type of node (&amp;#39;application&amp;#39;, &amp;#39;function&amp;#39; or &amp;#39;agi&amp;#39;) and name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2f/xmldoc_8c_source.html#l02075">xmldoc.c:2075</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="term_8h_html_a23aeefae76b2cacc1a6162de88c3fff0"><div class="ttname"><a href="../../db/d45/term_8h.html#a23aeefae76b2cacc1a6162de88c3fff0">COLOR_BRCYAN</a></div><div class="ttdeci">#define COLOR_BRCYAN</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/term_8h_source.html#l00060">term.h:60</a></div></div>
<div class="ttc" id="term_8h_html_ae443185677b2d0586ded82d4fcde6992"><div class="ttname"><a href="../../db/d45/term_8h.html#ae443185677b2d0586ded82d4fcde6992">COLORIZE</a></div><div class="ttdeci">#define COLORIZE(fg, bg, str)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/term_8h_source.html#l00068">term.h:68</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="term_8h_html_ae640996bf494da50000e83e165c5453e"><div class="ttname"><a href="../../db/d45/term_8h.html#ae640996bf494da50000e83e165c5453e">COLORIZE_FMT</a></div><div class="ttdeci">#define COLORIZE_FMT</div><div class="ttdoc">Shortcut macros for coloring a set of text. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/term_8h_source.html#l00067">term.h:67</a></div></div>
<div class="ttc" id="linkedlists_8h_html_acf8253a64f9a4e2170454f4bf0559e33"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#acf8253a64f9a4e2170454f4bf0559e33">AST_RWLIST_INSERT_BEFORE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_BEFORE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00609">linkedlists.h:609</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="structast__app_html_ac72ddaf7b92092136fc38629a809c87a"><div class="ttname"><a href="../../d0/da3/structast__app.html#ac72ddaf7b92092136fc38629a809c87a">ast_app::syntax</a></div><div class="ttdeci">const ast_string_field syntax</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00053">pbx_app.c:53</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__app_html_aa871ca3c361d229d4e37edf3c6016cc1"><div class="ttname"><a href="../../d0/da3/structast__app.html#aa871ca3c361d229d4e37edf3c6016cc1">ast_app::docsrc</a></div><div class="ttdeci">enum ast_doc_src docsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00055">pbx_app.c:55</a></div></div>
<div class="ttc" id="xmldoc_8h_html_a5c52185fee8531c7e071227b4e5b2ae6"><div class="ttname"><a href="../../d1/d99/xmldoc_8h.html#a5c52185fee8531c7e071227b4e5b2ae6">ast_xmldoc_build_syntax</a></div><div class="ttdeci">char * ast_xmldoc_build_syntax(const char *type, const char *name, const char *module)</div><div class="ttdoc">Get the syntax for a specified application or function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2f/xmldoc_8c_source.html#l01253">xmldoc.c:1253</a></div></div>
<div class="ttc" id="xmldoc_8h_html_a5213452e6be61321a64293e54e4b550b"><div class="ttname"><a href="../../d1/d99/xmldoc_8h.html#a5213452e6be61321a64293e54e4b550b">ast_xmldoc_build_seealso</a></div><div class="ttdeci">char * ast_xmldoc_build_seealso(const char *type, const char *name, const char *module)</div><div class="ttdoc">Parse the &lt;see-also&gt; node content. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2f/xmldoc_8c_source.html#l01698">xmldoc.c:1698</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadda916488b2d151af4426e2f06ad332"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_TAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00740">linkedlists.h:740</a></div></div>
<div class="ttc" id="module_8h_html_a10842e2d5bac25543eabaccde49f7aad"><div class="ttname"><a href="../../d5/d16/module_8h.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a></div><div class="ttdeci">const char * ast_module_name(const struct ast_module *mod)</div><div class="ttdoc">Get the name of a module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00615">loader.c:615</a></div></div>
<div class="ttc" id="structast__app_html"><div class="ttname"><a href="../../d0/da3/structast__app.html">ast_app</a></div><div class="ttdoc">ast_app: A registered application </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00045">pbx_app.c:45</a></div></div>
<div class="ttc" id="structast__app_html_ac07925c5773daffa1e00486fbb9ef495"><div class="ttname"><a href="../../d0/da3/structast__app.html#ac07925c5773daffa1e00486fbb9ef495">ast_app::seealso</a></div><div class="ttdeci">const ast_string_field seealso</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00053">pbx_app.c:53</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a4a10826617adb483bee152912aae6735"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a4a10826617adb483bee152912aae6735">pbx_findapp_nolock</a></div><div class="ttdeci">static struct ast_app * pbx_findapp_nolock(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00069">pbx_app.c:69</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
<div class="ttc" id="structast__app_html_ad3d4ea338fb9552532c6828f6c312c57"><div class="ttname"><a href="../../d0/da3/structast__app.html#ad3d4ea338fb9552532c6828f6c312c57">ast_app::arguments</a></div><div class="ttdeci">const ast_string_field arguments</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00053">pbx_app.c:53</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
<div class="ttc" id="structast__app_html_a539df496300b755673646b442e9eafa4"><div class="ttname"><a href="../../d0/da3/structast__app.html#a539df496300b755673646b442e9eafa4">ast_app::description</a></div><div class="ttdeci">const ast_string_field description</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00053">pbx_app.c:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a52f6615f305951a0d61adc6e61920c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52f6615f305951a0d61adc6e61920c34">&#9670;&nbsp;</a></span>ast_unload_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_unload_resource </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum&#160;</td>
          <td class="paramname"><em>ast_module_unload_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unload a module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource_name</td><td>The name of the module to unload. </td></tr>
    <tr><td class="paramname">ast_module_unload_mode</td><td>The force flag. This should be set using one of the AST_FORCE flags.</td></tr>
  </table>
  </dd>
</dl>
<p>This function unloads a module. It will only unload modules that are not in use (usecount not zero), unless <a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522">AST_FORCE_FIRM</a> or <a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a4fbd520c0fa0b70495fe9dd6aee373b9">AST_FORCE_HARD</a> is specified. Setting <a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522">AST_FORCE_FIRM</a> or <a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a4fbd520c0fa0b70495fe9dd6aee373b9">AST_FORCE_HARD</a> will unload the module regardless of consequences (NOT RECOMMENDED).</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01229">1229</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00853">__ast_module_user_hangup_all()</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00063">AST_FORCE_FIRM</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00196">ast_test_suite_event_notify</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00322">ast_module::declined</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00999">error()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01544">publish_unload_message()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00348">ast_module_info::unload</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01010">unload_dynamic_module()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00556">ast_ari_asterisk_unload_module()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00808">handle_unload()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l06505">manager_moduleload()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01852">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;{</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a> = 0;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   <span class="keywordflow">if</span> (!(mod = <a class="code" href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a>(resource_name, 0))) {</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unload failed, &#39;%s&#39; could not be found\n&quot;</span>, resource_name);</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;   }</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;   <span class="keywordflow">if</span> (!mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> || mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a>) {</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unload failed, &#39;%s&#39; is not loaded.\n&quot;</span>, resource_name);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      error = 1;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;   }</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;   <span class="keywordflow">if</span> (!error &amp;&amp; (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a> &gt; 0)) {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="keywordflow">if</span> (force)</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Warning:  Forcing removal of module &#39;%s&#39; with use count %d\n&quot;</span>,</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            resource_name, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Soft unload failed, &#39;%s&#39; has use count %d\n&quot;</span>, resource_name,</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>);</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;         error = 1;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      }</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;   }</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   <span class="keywordflow">if</span> (!error) {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <span class="comment">/* Request any channels attached to the module to hangup. */</span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a14cb9c203d9110487fccf21905b903e3">__ast_module_user_hangup_all</a>(mod);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Unloading %s\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      res = mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#ad0b80e76c21ce546ae00d081e8b84b48">unload</a>();</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Firm unload failed for %s\n&quot;</span>, resource_name);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;         <span class="keywordflow">if</span> (force &lt;= <a class="code" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522">AST_FORCE_FIRM</a>) {</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            error = 1;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;** Dangerous **: Unloading resource anyway, at user request\n&quot;</span>);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;         }</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <span class="keywordflow">if</span> (!error) {</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment">          * Request hangup on any channels that managed to get attached</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment">          * while we called the module unload function.</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#a14cb9c203d9110487fccf21905b903e3">__ast_module_user_hangup_all</a>(mod);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;         sched_yield();</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      }</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;   }</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;   <span class="keywordflow">if</span> (!error)</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> = mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a> = 0;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   <span class="keywordflow">if</span> (!error) {</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a5e400c9a7efe02d48abcbb6740c88ce5">unload_dynamic_module</a>(mod);</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a>(<span class="stringliteral">&quot;MODULE_UNLOAD&quot;</span>, <span class="stringliteral">&quot;Message: %s&quot;</span>, resource_name);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a03f008201fb4f3527c964224c271cfbc">publish_unload_message</a>(resource_name, <span class="stringliteral">&quot;Success&quot;</span>);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;   }</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;}</div><div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="loader_8c_html_a14cb9c203d9110487fccf21905b903e3"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a14cb9c203d9110487fccf21905b903e3">__ast_module_user_hangup_all</a></div><div class="ttdeci">void __ast_module_user_hangup_all(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00853">loader.c:853</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="loader_8c_html_a03f008201fb4f3527c964224c271cfbc"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a03f008201fb4f3527c964224c271cfbc">publish_unload_message</a></div><div class="ttdeci">static void publish_unload_message(const char *name, const char *status)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01544">loader.c:1544</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="module_8h_html_ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522">AST_FORCE_FIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00063">module.h:63</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="structast__module__info_html_ad0b80e76c21ce546ae00d081e8b84b48"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#ad0b80e76c21ce546ae00d081e8b84b48">ast_module_info::unload</a></div><div class="ttdeci">int(* unload)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00348">module.h:348</a></div></div>
<div class="ttc" id="structast__module_html_a85ddc5d9a4ffbf82da66e98d8f85977e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">ast_module::declined</a></div><div class="ttdeci">unsigned int declined</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00322">loader.c:322</a></div></div>
<div class="ttc" id="test_8h_html_a9482d93ea3931853331bdbc745ce7cb4"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a></div><div class="ttdeci">#define ast_test_suite_event_notify(s, f,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00196">test.h:196</a></div></div>
<div class="ttc" id="loader_8c_html_a5e400c9a7efe02d48abcbb6740c88ce5"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5e400c9a7efe02d48abcbb6740c88ce5">unload_dynamic_module</a></div><div class="ttdeci">static void unload_dynamic_module(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01010">loader.c:1010</a></div></div>
<div class="ttc" id="loader_8c_html_a5bfa4f5b3534c7b15263da6bec670e17"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a></div><div class="ttdeci">static struct ast_module * find_resource(const char *resource, int do_lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00937">loader.c:937</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2ca15621101154f29748cf1dac3c3cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2ca15621101154f29748cf1dac3c3cf">&#9670;&nbsp;</a></span>ast_unregister_application()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_unregister_application </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>name of the application (does not have to be the same string as the one that was registered)</td></tr>
  </table>
  </dd>
</dl>
<p>This unregisters an application from Asterisk's internal application list.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">392</a> of file <a class="el" href="../../dd/d16/pbx__app_8c_source.html">pbx_app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00569">AST_RWLIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l06179">unreference_cached_app()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17540">__unload_module()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l01038">load_module()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01704">message_shutdown()</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l01590">unload_module()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l01006">unload_parking_applications()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01546">unload_pbx_builtins()</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01208">unload_pbx_variables()</a>.</p>
<div class="fragment"><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;{</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/da3/structast__app.html">ast_app</a> *cur;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <span class="keywordtype">int</span> cmp;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   <span class="comment">/* Anticipate need for conlock in unreference_cached_app(), in order to avoid</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">    * possible deadlock with pbx_extension_helper()/pbx_findapp()</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>();</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>, cur, list) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      cmp = strcasecmp(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, cur-&gt;name);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">if</span> (cmp &gt; 0) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="keywordflow">if</span> (!cmp) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;         <span class="comment">/* Found it. */</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;         <a class="code" href="../../db/d94/pbx_8c.html#a0649e18fce3ab1253badc74409de23ea">unreference_cached_app</a>(cur);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a>(list);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Unregistered application &#39;%s&#39;\n&quot;</span>, cur-&gt;name);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(cur);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cur);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="comment">/* Not in container. */</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      cur = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <span class="keywordflow">return</span> cur ? 0 : -1;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div><div class="ttc" id="structapps_html"><div class="ttname"><a href="../../d3/d01/structapps.html">apps</a></div><div class="ttdoc">Registered applications container. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00067">pbx_app.c:67</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="pbx_8h_html_aa2c309331fff0a086ab8e216f803d546"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a></div><div class="ttdeci">int ast_rdlock_contexts(void)</div><div class="ttdoc">Read locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08507">pbx.c:8507</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a02212548652c9eb0f3db38dc4e4bd285"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00569">linkedlists.h:569</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="pbx_8h_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="pbx_8c_html_a0649e18fce3ab1253badc74409de23ea"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a0649e18fce3ab1253badc74409de23ea">unreference_cached_app</a></div><div class="ttdeci">void unreference_cached_app(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06179">pbx.c:6179</a></div></div>
<div class="ttc" id="structast__app_html"><div class="ttname"><a href="../../d0/da3/structast__app.html">ast_app</a></div><div class="ttdoc">ast_app: A registered application </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00045">pbx_app.c:45</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a029cc67c86d03d3f0d59b7a2ec0aa936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a029cc67c86d03d3f0d59b7a2ec0aa936">&#9670;&nbsp;</a></span>ast_update_module_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_update_module_list </td>
          <td>(</td>
          <td class="paramtype">int(*)(const char *module, const char *description, int <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a2f8d20b887dab5677a21b650895a0dec">usecnt</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *like, enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level)&#160;</td>
          <td class="paramname"><em>modentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>like</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ask for a list of modules, descriptions, use counts and status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modentry</td><td>A callback to an updater function. </td></tr>
    <tr><td class="paramname">like</td><td>For each of the modules loaded, modentry will be executed with the resource, description, and usecount values of each particular module.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of modules loaded </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02567">2567</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l02550">alpha_module_list_create()</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00352">ast_module_info::description</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00416">ast_module_info::support_level</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d2b/agent_8c_source.html#l00780">ast_var_Modules()</a>, and <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00971">handle_modlist()</a>.</p>
<div class="fragment"><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;{</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;   <span class="keywordtype">int</span> total_mod_loaded = 0;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;   <span class="keyword">struct </span>module_vector alpha_module_list;</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a>(&amp;alpha_module_list)) {</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;      <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;alpha_module_list); idx++) {</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;alpha_module_list, idx);</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;         total_mod_loaded += modentry(cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>,</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;            cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> ? <span class="stringliteral">&quot;Running&quot;</span> : <span class="stringliteral">&quot;Not Running&quot;</span>, like, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">support_level</a>);</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      }</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;   }</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;alpha_module_list);</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;   <span class="keywordflow">return</span> total_mod_loaded;</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;}</div><div class="ttc" id="structast__module__info_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_module_info::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00352">module.h:352</a></div></div>
<div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="loader_8c_html_af368dd8f1ddb78f8aecdae735f007081"><div class="ttname"><a href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a></div><div class="ttdeci">static int alpha_module_list_create(struct module_vector *alpha_module_list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02550">loader.c:2550</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module__info_html_a481d25e5ca044221c7179aedff41ea3f"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">ast_module_info::support_level</a></div><div class="ttdeci">enum ast_module_support_level support_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00416">module.h:416</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0395d2e09c87db9db68d119bfb98aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0395d2e09c87db9db68d119bfb98aa1">&#9670;&nbsp;</a></span>ast_update_module_list_condition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_update_module_list_condition </td>
          <td>(</td>
          <td class="paramtype">int(*)(const char *module, const char *description, int <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a2f8d20b887dab5677a21b650895a0dec">usecnt</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *like, enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level, void *data, const char *condition)&#160;</td>
          <td class="paramname"><em>modentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>like</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>condition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ask for a list of modules, descriptions, use counts and status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modentry</td><td>A callback to an updater function </td></tr>
    <tr><td class="paramname">like</td><td></td></tr>
    <tr><td class="paramname">data</td><td>Data passed into the callback for manipulation </td></tr>
    <tr><td class="paramname">condition</td><td>The condition to meet</td></tr>
  </table>
  </dd>
</dl>
<p>For each of the modules loaded, modentry will be executed with the resource, description, and usecount values of each particular module.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of conditions met </dd></dl>
<dl class="section since"><dt>Since</dt><dd>13.5.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02622">2622</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l02550">alpha_module_list_create()</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00352">ast_module_info::description</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00416">ast_module_info::support_level</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00484">ast_ari_asterisk_get_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;{</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;   <span class="keywordtype">int</span> conditions_met = 0;</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;   <span class="keyword">struct </span>module_vector alpha_module_list;</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a>(&amp;alpha_module_list)) {</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;      <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;alpha_module_list); idx++) {</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;alpha_module_list, idx);</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;         conditions_met += modentry(cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>,</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;            cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a>? <span class="stringliteral">&quot;Running&quot;</span> : <span class="stringliteral">&quot;Not Running&quot;</span>, like, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">support_level</a>, data,</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;            condition);</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;      }</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;   }</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;alpha_module_list);</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;   <span class="keywordflow">return</span> conditions_met;</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;}</div><div class="ttc" id="structast__module__info_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_module_info::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00352">module.h:352</a></div></div>
<div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="loader_8c_html_af368dd8f1ddb78f8aecdae735f007081"><div class="ttname"><a href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a></div><div class="ttdeci">static int alpha_module_list_create(struct module_vector *alpha_module_list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02550">loader.c:2550</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module__info_html_a481d25e5ca044221c7179aedff41ea3f"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">ast_module_info::support_level</a></div><div class="ttdeci">enum ast_module_support_level support_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00416">module.h:416</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5d685667cf74c0a067dece185a7f873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5d685667cf74c0a067dece185a7f873">&#9670;&nbsp;</a></span>ast_update_module_list_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_update_module_list_data </td>
          <td>(</td>
          <td class="paramtype">int(*)(const char *module, const char *description, int <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a2f8d20b887dab5677a21b650895a0dec">usecnt</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *like, enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level, void *data)&#160;</td>
          <td class="paramname"><em>modentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>like</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ask for a list of modules, descriptions, use counts and status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modentry</td><td>A callback to an updater function </td></tr>
    <tr><td class="paramname">like</td><td></td></tr>
    <tr><td class="paramname">data</td><td>Data passed into the callback for manipulation</td></tr>
  </table>
  </dd>
</dl>
<p>For each of the modules loaded, modentry will be executed with the resource, description, and usecount values of each particular module.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of modules loaded </dd></dl>
<dl class="section since"><dt>Since</dt><dd>13.5.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02594">2594</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l02550">alpha_module_list_create()</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00352">ast_module_info::description</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00416">ast_module_info::support_level</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00429">ast_ari_asterisk_list_modules()</a>.</p>
<div class="fragment"><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;{</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;   <span class="keywordtype">int</span> total_mod_loaded = 0;</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;   <span class="keyword">struct </span>module_vector alpha_module_list;</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a>(&amp;alpha_module_list)) {</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;      <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;alpha_module_list); idx++) {</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;alpha_module_list, idx);</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;         total_mod_loaded += modentry(cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>,</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;            cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a>? <span class="stringliteral">&quot;Running&quot;</span> : <span class="stringliteral">&quot;Not Running&quot;</span>, like, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">support_level</a>, data);</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;      }</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;   }</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;alpha_module_list);</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;   <span class="keywordflow">return</span> total_mod_loaded;</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;}</div><div class="ttc" id="structast__module__info_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_module_info::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00352">module.h:352</a></div></div>
<div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="loader_8c_html_af368dd8f1ddb78f8aecdae735f007081"><div class="ttname"><a href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a></div><div class="ttdeci">static int alpha_module_list_create(struct module_vector *alpha_module_list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02550">loader.c:2550</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module__info_html_a481d25e5ca044221c7179aedff41ea3f"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">ast_module_info::support_level</a></div><div class="ttdeci">enum ast_module_support_level support_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00416">module.h:416</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a28b9e8444e0f9b495cc1b10628b816e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28b9e8444e0f9b495cc1b10628b816e8">&#9670;&nbsp;</a></span>ast_update_use_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_update_use_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify when usecount has been changed. </p>
<p>This function calulates use counts and notifies anyone trying to keep track of them. It should be called whenever your module's usecount changes.</p>
<dl class="section note"><dt>Note</dt><dd>The ast_module_user_* functions take care of calling this function for you. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">2528</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00625">loadupdate::updater</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02698">__ast_module_ref()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02734">__ast_module_unref()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00800">__ast_module_user_add()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00853">__ast_module_user_hangup_all()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00826">__ast_module_user_remove()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01229">ast_unload_resource()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29424">handle_request_do()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01087">ooh323_hangup()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00080">ooh323c_call_thread()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l30793">sip_request_call()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01678">start_resource()</a>, and <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05704">unistim_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;{</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;   <span class="comment">/* Notify any module monitors that the use count for a</span></div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;<span class="comment">      resource has changed */</span></div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d70/structloadupdate.html">loadupdate</a> *m;</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>);</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>, m, <a class="code" href="../../d3/d96/structentry.html">entry</a>)</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      m-&gt;<a class="code" href="../../d9/d70/structloadupdate.html#a905a3e31a1324bfa4f518a370018baab">updater</a>();</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>);</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structloadupdate_html_a905a3e31a1324bfa4f518a370018baab"><div class="ttname"><a href="../../d9/d70/structloadupdate.html#a905a3e31a1324bfa4f518a370018baab">loadupdate::updater</a></div><div class="ttdeci">int(* updater)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00625">loader.c:625</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structupdaters_html"><div class="ttname"><a href="../../d9/daf/structupdaters.html">updaters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00629">loader.c:629</a></div></div>
<div class="ttc" id="structloadupdate_html"><div class="ttname"><a href="../../d9/d70/structloadupdate.html">loadupdate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00624">loader.c:624</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d16/module_8h_source.html#l00540">540</a> of file <a class="el" href="../../d5/d16/module_8h_source.html">module.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:08 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
