<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: bridge_internal.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bridge_internal.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Private Bridging API.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d03/bridge__internal_8h__dep__incl.png" border="0" usemap="#bridge__internal_8hdep" alt=""/></div>
<map name="bridge__internal_8hdep" id="bridge__internal_8hdep">
<area shape="rect" id="node2" href="../../de/d11/app__agent__pool_8c.html" title="Call center agent pool. " alt="" coords="5,80,140,107"/>
<area shape="rect" id="node3" href="../../d0/d95/bridge_8c.html" title="Bridging API. " alt="" coords="164,80,237,107"/>
<area shape="rect" id="node4" href="../../d7/d9b/bridge__basic_8c.html" title="Basic bridge class. It is a subclass of struct ast_bridge. " alt="" coords="261,80,375,107"/>
<area shape="rect" id="node5" href="../../d3/d32/bridge__channel_8c.html" title="Bridging Channel API. " alt="" coords="399,80,530,107"/>
<area shape="rect" id="node6" href="../../d9/dc5/parking__bridge_8c.html" title="Parking Bridge Class. " alt="" coords="555,80,681,107"/>
<area shape="rect" id="node7" href="../../d1/db7/parking__bridge__features_8c.html" title="Parking Bridge DTMF and Interval features. " alt="" coords="706,80,893,107"/>
<area shape="rect" id="node8" href="../../d7/de1/res__stasis__playback_8c.html" title="res_stasis playback support. " alt="" coords="917,80,1077,107"/>
<area shape="rect" id="node9" href="../../d9/de0/stasis__bridge_8c.html" title="Stasis bridge subclass. " alt="" coords="1101,80,1218,107"/>
</map>
</div>
</div>
<p><a href="../../d5/dde/bridge__internal_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adf0e64783980f762008ac238f2dbe715"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dde/bridge__internal_8h.html#adf0e64783980f762008ac238f2dbe715">bridge_alloc</a> (size_t size, const struct <a class="el" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a> *v_table)</td></tr>
<tr class="separator:adf0e64783980f762008ac238f2dbe715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c501242153bbe13d0eda31220637b8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dde/bridge__internal_8h.html#a38c501242153bbe13d0eda31220637b8">bridge_base_init</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, uint32_t capabilities, unsigned int flags, const char *creator, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="memdesc:a38c501242153bbe13d0eda31220637b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the base class of the bridge.  <a href="#a38c501242153bbe13d0eda31220637b8">More...</a><br /></td></tr>
<tr class="separator:a38c501242153bbe13d0eda31220637b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dfc360c4ef5a43d854d75e9b94b58e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dde/bridge__internal_8h.html#a3dfc360c4ef5a43d854d75e9b94b58e1">bridge_dissolve</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, int cause)</td></tr>
<tr class="separator:a3dfc360c4ef5a43d854d75e9b94b58e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ad1b704c3dedf9fbf0bf8c2429561a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dde/bridge__internal_8h.html#a33ad1b704c3dedf9fbf0bf8c2429561a">bridge_do_merge</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *dst_bridge, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *src_bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> **kick_me, unsigned int num_kick, unsigned int optimized)</td></tr>
<tr class="separator:a33ad1b704c3dedf9fbf0bf8c2429561a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad663022ff4700bb2d53afeea24f402d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dde/bridge__internal_8h.html#ad663022ff4700bb2d53afeea24f402d4">bridge_do_move</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *dst_bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, int attempt_recovery, unsigned int optimized)</td></tr>
<tr class="separator:ad663022ff4700bb2d53afeea24f402d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af611fd393ca26b5fd2a8071867470ffc"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dde/bridge__internal_8h.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:af611fd393ca26b5fd2a8071867470ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1af73cc9e9cce0a151dddc8cfae3e4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dde/bridge__internal_8h.html#ae1af73cc9e9cce0a151dddc8cfae3e4b">bridge_merge_inhibit_nolock</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, int <a class="el" href="../../d0/d29/chan__pjsip_8c.html#a4e2e6fb7d874f0d2deddd2ecfc8afb32">request</a>)</td></tr>
<tr class="separator:ae1af73cc9e9cce0a151dddc8cfae3e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f66125893195db451bca7e9d71bd0a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dde/bridge__internal_8h.html#a6f66125893195db451bca7e9d71bd0a5">bridge_reconfigured</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, unsigned int colp_update)</td></tr>
<tr class="separator:a6f66125893195db451bca7e9d71bd0a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8690315fd0d12e16671f9d22eacfa8f0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dde/bridge__internal_8h.html#a8690315fd0d12e16671f9d22eacfa8f0">bridge_register</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a8690315fd0d12e16671f9d22eacfa8f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the new bridge with the system.  <a href="#a8690315fd0d12e16671f9d22eacfa8f0">More...</a><br /></td></tr>
<tr class="separator:a8690315fd0d12e16671f9d22eacfa8f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Private Bridging API. </p>
<p>Functions in this file are intended to be used by the Bridging API, bridge mixing technologies, and bridge sub-classes. Users of bridges that do not fit those three categories should <em>not</em> use the API defined in this file.</p>
<dl class="section author"><dt>Author</dt><dd>Mark Michelson <a href="#" onclick="location.href='mai'+'lto:'+'mmi'+'ch'+'els'+'on'+'@di'+'gi'+'um.'+'co'+'m'; return false;">mmich<span style="display: none;">.nosp@m.</span>elso<span style="display: none;">.nosp@m.</span>n@dig<span style="display: none;">.nosp@m.</span>ium.<span style="display: none;">.nosp@m.</span>com</a></dd></dl>
<p>See Also: </p><ul>
<li><a class="el" href="../../d8/d87/AstCREDITS.html">CREDITS</a> </li>
</ul>

<p class="definition">Definition in file <a class="el" href="../../d5/dde/bridge__internal_8h_source.html">bridge_internal.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="adf0e64783980f762008ac238f2dbe715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf0e64783980f762008ac238f2dbe715">&#9670;&nbsp;</a></span>bridge_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* bridge_alloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a> *&#160;</td>
          <td class="paramname"><em>v_table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l00724">724</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d16/codec_8h_source.html#l00036">AST_MEDIA_TYPE_END</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00157">bridge_manager_request::bridge</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00269">ast_bridge_methods::destroy</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00658">destroy_bridge()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00271">ast_bridge_methods::dissolving</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00279">ast_bridge_methods::get_merge_priority</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00412">ast_bridge::media_types</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00267">ast_bridge_methods::name</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00277">ast_bridge_methods::notify_masquerade</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00275">ast_bridge_methods::pull</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00273">ast_bridge_methods::push</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00359">ast_bridge::v_table</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l00960">ast_bridge_base_new()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01396">bridge_agent_hold_new()</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00456">bridge_parking_new()</a>, and <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00300">bridge_stasis_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;{</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;   <span class="comment">/* Check v_table that all methods are present. */</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   <span class="keywordflow">if</span> (!v_table</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      || !v_table-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      || !v_table-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#abf4c4f9d73d43950e5e1882db332f00b">destroy</a></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      || !v_table-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a5b1a8e69c6546121e0b4dcec16be3373">dissolving</a></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      || !v_table-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">push</a></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      || !v_table-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#adcfc7ef2b1ee5305158a584970ddea65">pull</a></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      || !v_table-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#ab72b2fb844367bda53a258a6059f6290">notify_masquerade</a></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      || !v_table-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#ad74029594a0d1e6b9863ce3f02c82d25">get_merge_priority</a>) {</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Virtual method table for bridge class %s not complete.\n&quot;</span>,</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;         v_table &amp;&amp; v_table-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> ? v_table-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> : <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;   }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;   bridge = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(size, <a class="code" href="../../d0/d95/bridge_8c.html#a99f699e128b44c627baa3587d99a0661">destroy_bridge</a>);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;   <span class="keywordflow">if</span> (!bridge) {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   }</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(bridge, 80)) {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(bridge);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;   }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">v_table</a> = <a class="code" href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">v_table</a>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a19fea4d448628d518b0043b2b17037dd">media_types</a>, <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a412130c13f852573e1e662864d35b55c">AST_MEDIA_TYPE_END</a>);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;   <span class="keywordflow">return</span> bridge;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;}</div><div class="ttc" id="bridge_8c_html_a99f699e128b44c627baa3587d99a0661"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a99f699e128b44c627baa3587d99a0661">destroy_bridge</a></div><div class="ttdeci">static void destroy_bridge(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00658">bridge.c:658</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">ast_bridge_methods::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00267">bridge.h:267</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_a5b1a8e69c6546121e0b4dcec16be3373"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#a5b1a8e69c6546121e0b4dcec16be3373">ast_bridge_methods::dissolving</a></div><div class="ttdeci">ast_bridge_dissolving_fn dissolving</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00271">bridge.h:271</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_ab72b2fb844367bda53a258a6059f6290"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#ab72b2fb844367bda53a258a6059f6290">ast_bridge_methods::notify_masquerade</a></div><div class="ttdeci">ast_bridge_notify_masquerade_fn notify_masquerade</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00277">bridge.h:277</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="structast__bridge_html_a2f11ecc852af02fffecf1411013f0873"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">ast_bridge::v_table</a></div><div class="ttdeci">const struct ast_bridge_methods * v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00359">bridge.h:359</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_ad74029594a0d1e6b9863ce3f02c82d25"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#ad74029594a0d1e6b9863ce3f02c82d25">ast_bridge_methods::get_merge_priority</a></div><div class="ttdeci">ast_bridge_merge_priority_fn get_merge_priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00279">bridge.h:279</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__bridge_html_a19fea4d448628d518b0043b2b17037dd"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a19fea4d448628d518b0043b2b17037dd">ast_bridge::media_types</a></div><div class="ttdeci">struct ast_vector_int media_types</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00412">bridge.h:412</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_adcfc7ef2b1ee5305158a584970ddea65"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#adcfc7ef2b1ee5305158a584970ddea65">ast_bridge_methods::pull</a></div><div class="ttdeci">ast_bridge_pull_channel_fn pull</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00275">bridge.h:275</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_abf4c4f9d73d43950e5e1882db332f00b"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#abf4c4f9d73d43950e5e1882db332f00b">ast_bridge_methods::destroy</a></div><div class="ttdeci">ast_bridge_destructor_fn destroy</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00269">bridge.h:269</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_a60b76bf280f288b3ef3f1facf873b104"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">ast_bridge_methods::push</a></div><div class="ttdeci">ast_bridge_push_channel_fn push</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00273">bridge.h:273</a></div></div>
<div class="ttc" id="codec_8h_html_a0f1467803be2cc40b53765e3df54c212a412130c13f852573e1e662864d35b55c"><div class="ttname"><a href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a412130c13f852573e1e662864d35b55c">AST_MEDIA_TYPE_END</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/codec_8h_source.html#l00036">codec.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a38c501242153bbe13d0eda31220637b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38c501242153bbe13d0eda31220637b8">&#9670;&nbsp;</a></span>bridge_base_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* bridge_base_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>capabilities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>creator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the base class of the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>Bridge to operate upon. (Tolerates a NULL pointer) </td></tr>
    <tr><td class="paramname">capabilities</td><td>The capabilities that we require to be used on the bridge </td></tr>
    <tr><td class="paramname">flags</td><td>Flags that will alter the behavior of the bridge </td></tr>
    <tr><td class="paramname">creator</td><td>Entity that created the bridge (optional) </td></tr>
    <tr><td class="paramname">name</td><td>Name given to the bridge by its creator (optional, requires named creator) </td></tr>
    <tr><td class="paramname">id</td><td>Unique ID given to the bridge by its creator (optional)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">self</td><td>on success </td></tr>
    <tr><td class="paramname">NULL</td><td>on failure, self is already destroyed</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line">bridge = <a class="code" href="../../d5/dde/bridge__internal_8h.html#adf0e64783980f762008ac238f2dbe715">bridge_alloc</a>(<span class="keyword">sizeof</span>(*bridge), &amp;<a class="code" href="../../d4/d56/bridge_8h.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a>);</div><div class="line">bridge = <a class="code" href="../../d5/dde/bridge__internal_8h.html#a38c501242153bbe13d0eda31220637b8">bridge_base_init</a>(bridge, <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509">AST_BRIDGE_CAPABILITY_1TO1MIX</a>, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444aab11deff15a9ae22b58e49e9d6d53e16">AST_BRIDGE_FLAG_DISSOLVE_HANGUP</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div></div><!-- fragment --><p>This creates a no frills two party bridge that will be destroyed once one of the channels hangs up. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l00760">760</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00057">AST_BRIDGE_FLAG_INVISIBLE</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00184">ast_bridge_topic()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../df/da9/uuid_8c_source.html#l00143">ast_uuid_generate_str()</a>, <a class="el" href="../../dd/d1d/uuid_8h_source.html#l00027">AST_UUID_STR_LEN</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00295">bridge_topics_init()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00511">find_best_technology()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l00960">ast_bridge_base_new()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01396">bridge_agent_hold_new()</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00456">bridge_parking_new()</a>, and <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00300">bridge_stasis_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;{</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <span class="keywordtype">char</span> uuid_hold[<a class="code" href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a>];</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <span class="keywordflow">if</span> (!<span class="keyword">self</span>) {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<span class="keywordtype">id</span>)) {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<span class="keyword">self</span>, <a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <a class="code" href="../../dd/d1d/uuid_8h.html#abe6d0b550cd9a54964e7891960d1e5bc">ast_uuid_generate_str</a>(uuid_hold, <a class="code" href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a>);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<span class="keyword">self</span>, <a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, uuid_hold);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   }</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<span class="keyword">self</span>, <a class="code" href="../../d4/d84/structast__bridge.html#a6e62c2774ca18846e6e45057fb8b7a22">creator</a>, <a class="code" href="../../d4/d84/structast__bridge.html#a6e62c2774ca18846e6e45057fb8b7a22">creator</a>);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d84/structast__bridge.html#a6e62c2774ca18846e6e45057fb8b7a22">creator</a>)) {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<span class="keyword">self</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   }</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">feature_flags</a>, flags);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   <span class="keyword">self</span>-&gt;allowed_capabilities = capabilities;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   <span class="keywordflow">if</span> (!(flags &amp; <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444af791f0352f324b81c3eb1adcedc31364">AST_BRIDGE_FLAG_INVISIBLE</a>)) {</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a47e2e9503f7beb080c820edc385d0ca6">bridge_topics_init</a>(<span class="keyword">self</span>) != 0) {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Bridge %s: Could not initialize topics\n&quot;</span>,</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<span class="keyword">self</span>, -1);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      }</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;   }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;   <span class="comment">/* Use our helper function to find the &quot;best&quot; bridge technology. */</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;   <span class="keyword">self</span>-&gt;technology = <a class="code" href="../../d0/d95/bridge_8c.html#a407073589cd8fa355d5772da7f9a6529">find_best_technology</a>(capabilities, <span class="keyword">self</span>);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;   <span class="keywordflow">if</span> (!self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">technology</a>) {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Bridge %s: Could not create class %s.  No technology to support it.\n&quot;</span>,</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;         self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">v_table</a>-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<span class="keyword">self</span>, -1);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;   }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   <span class="comment">/* Pass off the bridge to the technology to manipulate if needed */</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge %s: calling %s technology constructor\n&quot;</span>,</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">technology</a>-&gt;<a class="code" href="../../d1/d04/structast__bridge__technology.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;   <span class="keywordflow">if</span> (self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">technology</a>-&gt;<a class="code" href="../../d1/d04/structast__bridge__technology.html#af2e29d0c7f999e958eb80500c411b374">create</a> &amp;&amp; self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">technology</a>-&gt;<a class="code" href="../../d1/d04/structast__bridge__technology.html#af2e29d0c7f999e958eb80500c411b374">create</a>(<span class="keyword">self</span>)) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Bridge %s: failed to setup bridge technology %s\n&quot;</span>,</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;         self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">technology</a>-&gt;<a class="code" href="../../d1/d04/structast__bridge__technology.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<span class="keyword">self</span>, -1);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   }</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge %s: calling %s technology start\n&quot;</span>,</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">technology</a>-&gt;<a class="code" href="../../d1/d04/structast__bridge__technology.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   <span class="keywordflow">if</span> (self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">technology</a>-&gt;<a class="code" href="../../d1/d04/structast__bridge__technology.html#a6addef84db409d5d7ba250634555c4c8">start</a> &amp;&amp; self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">technology</a>-&gt;<a class="code" href="../../d1/d04/structast__bridge__technology.html#a6addef84db409d5d7ba250634555c4c8">start</a>(<span class="keyword">self</span>)) {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Bridge %s: failed to start bridge technology %s\n&quot;</span>,</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;         self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">technology</a>-&gt;<a class="code" href="../../d1/d04/structast__bridge__technology.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<span class="keyword">self</span>, -1);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;   }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;   <span class="keywordflow">if</span> (!(flags &amp; AST_BRIDGE_FLAG_INVISIBLE)) {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a7bdfd8273bb885f7a65f6f5d8188c915">ast_bridge_topic</a>(<span class="keyword">self</span>)) {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<span class="keyword">self</span>, -1);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      }</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;   <span class="keyword">self</span>-&gt;creationtime = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;   <span class="keywordflow">return</span> <span class="keyword">self</span>;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;}</div><div class="ttc" id="structast__bridge_html_af15c2e8b6df8ce0bf570af18aa890deb"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">ast_bridge::feature_flags</a></div><div class="ttdeci">struct ast_flags feature_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00377">bridge.h:377</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="uuid_8h_html_a127408e53d34dca0c589a099fabf1e13"><div class="ttname"><a href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a></div><div class="ttdeci">#define AST_UUID_STR_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d1d/uuid_8h_source.html#l00027">uuid.h:27</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">ast_bridge_methods::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00267">bridge.h:267</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__bridge__technology_html_a6addef84db409d5d7ba250634555c4c8"><div class="ttname"><a href="../../d1/d04/structast__bridge__technology.html#a6addef84db409d5d7ba250634555c4c8">ast_bridge_technology::start</a></div><div class="ttdeci">int(* start)(struct ast_bridge *bridge)</div><div class="ttdoc">Request a bridge technology instance start operations. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3b/bridge__technology_8h_source.html#l00088">bridge_technology.h:88</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a47e2e9503f7beb080c820edc385d0ca6"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a47e2e9503f7beb080c820edc385d0ca6">bridge_topics_init</a></div><div class="ttdeci">int bridge_topics_init(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00295">stasis_bridges.c:295</a></div></div>
<div class="ttc" id="structast__bridge__technology_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d1/d04/structast__bridge__technology.html#a8f8f80d37794cde9472343e4487ba3eb">ast_bridge_technology::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3b/bridge__technology_8h_source.html#l00063">bridge_technology.h:63</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444af791f0352f324b81c3eb1adcedc31364"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444af791f0352f324b81c3eb1adcedc31364">AST_BRIDGE_FLAG_INVISIBLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00057">bridge_features.h:57</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="bridge_8c_html_a407073589cd8fa355d5772da7f9a6529"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a407073589cd8fa355d5772da7f9a6529">find_best_technology</a></div><div class="ttdeci">static struct ast_bridge_technology * find_best_technology(uint32_t capabilities, struct ast_bridge *bridge)</div><div class="ttdoc">Helper function used to find the &quot;best&quot; bridge technology given specified capabilities. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00511">bridge.c:511</a></div></div>
<div class="ttc" id="structast__bridge_html_aabb60a181a9e98fb31f8666fb4f5d0b8"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">ast_bridge::technology</a></div><div class="ttdeci">struct ast_bridge_technology * technology</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00363">bridge.h:363</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__bridge_html_a2f11ecc852af02fffecf1411013f0873"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">ast_bridge::v_table</a></div><div class="ttdeci">const struct ast_bridge_methods * v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00359">bridge.h:359</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="uuid_8h_html_abe6d0b550cd9a54964e7891960d1e5bc"><div class="ttname"><a href="../../dd/d1d/uuid_8h.html#abe6d0b550cd9a54964e7891960d1e5bc">ast_uuid_generate_str</a></div><div class="ttdeci">char * ast_uuid_generate_str(char *buf, size_t size)</div><div class="ttdoc">Generate a UUID string. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/da9/uuid_8c_source.html#l00143">uuid.c:143</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a7bdfd8273bb885f7a65f6f5d8188c915"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a7bdfd8273bb885f7a65f6f5d8188c915">ast_bridge_topic</a></div><div class="ttdeci">struct stasis_topic * ast_bridge_topic(struct ast_bridge *bridge)</div><div class="ttdoc">A topic which publishes the events for a particular bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00184">stasis_bridges.c:184</a></div></div>
<div class="ttc" id="structast__bridge__technology_html_af2e29d0c7f999e958eb80500c411b374"><div class="ttname"><a href="../../d1/d04/structast__bridge__technology.html#af2e29d0c7f999e958eb80500c411b374">ast_bridge_technology::create</a></div><div class="ttdeci">int(* create)(struct ast_bridge *bridge)</div><div class="ttdoc">Create a bridge technology instance for a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3b/bridge__technology_8h_source.html#l00078">bridge_technology.h:78</a></div></div>
<div class="ttc" id="structast__bridge_html_a6e62c2774ca18846e6e45057fb8b7a22"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a6e62c2774ca18846e6e45057fb8b7a22">ast_bridge::creator</a></div><div class="ttdeci">const ast_string_field creator</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3dfc360c4ef5a43d854d75e9b94b58e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dfc360c4ef5a43d854d75e9b94b58e1">&#9670;&nbsp;</a></span>bridge_dissolve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bridge_dissolve </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cause</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l00319">319</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00314">ast_bridge_channel_leave_bridge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00307">ast_bridge_queue_action()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l00612">ast_cause2str()</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00105">AST_CAUSE_NORMAL_CLEARING</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00127">AST_FRAME_BRIDGE_ACTION</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d9/dfc/bridge__channel__internal_8h_source.html#l00070">BRIDGE_CHANNEL_ACTION_DEFERRED_DISSOLVING</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00066">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00394">ast_bridge::cause</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00398">ast_bridge::dissolved</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02136">bridge_channel_dissolve_check()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00361">bridge_dissolve_check_stolen()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l01443">bridge_reconfigured()</a>.</p>
<div class="fragment"><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;{</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> action = {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      .<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0af36653b08c00f5d824ed6046e9233ef9">AST_FRAME_BRIDGE_ACTION</a>,</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      .subclass.integer = <a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#adadb2f6b306233caecdabcf1a7440b0aad8d415b984f05d05f9295fb6cbee3004">BRIDGE_CHANNEL_ACTION_DEFERRED_DISSOLVING</a>,</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   };</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a9ea77c25c2c57ec45bc6dfdea1c1a228">dissolved</a>) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a9ea77c25c2c57ec45bc6dfdea1c1a228">dissolved</a> = 1;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <span class="keywordflow">if</span> (cause &lt;= 0) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      cause = <a class="code" href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aa4d0ccb9d0904892652f2f258c5ad225">cause</a> = cause;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge %s: dissolving bridge with cause %d(%s)\n&quot;</span>,</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, cause, <a class="code" href="../../d5/d7b/channel_8h.html#abb5f5ff5988e039726f2c0d982342378">ast_cause2str</a>(cause));</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>, bridge_channel, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a>(bridge_channel,</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;         <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, cause);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <span class="comment">/* Must defer dissolving bridge because it is already locked. */</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a4a80435538e9bd93331f54d6aac9201b">ast_bridge_queue_action</a>(bridge, &amp;action);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="bridge__channel__internal_8h_html_adadb2f6b306233caecdabcf1a7440b0aad8d415b984f05d05f9295fb6cbee3004"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#adadb2f6b306233caecdabcf1a7440b0aad8d415b984f05d05f9295fb6cbee3004">BRIDGE_CHANNEL_ACTION_DEFERRED_DISSOLVING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dfc/bridge__channel__internal_8h_source.html#l00070">bridge_channel_internal.h:70</a></div></div>
<div class="ttc" id="structast__bridge_html_a9ea77c25c2c57ec45bc6dfdea1c1a228"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a9ea77c25c2c57ec45bc6dfdea1c1a228">ast_bridge::dissolved</a></div><div class="ttdeci">unsigned int dissolved</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00398">bridge.h:398</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0af36653b08c00f5d824ed6046e9233ef9"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0af36653b08c00f5d824ed6046e9233ef9">AST_FRAME_BRIDGE_ACTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00127">include/asterisk/frame.h:127</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00066">bridge_channel.h:66</a></div></div>
<div class="ttc" id="bridge_8c_html_a4a80435538e9bd93331f54d6aac9201b"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a4a80435538e9bd93331f54d6aac9201b">ast_bridge_queue_action</a></div><div class="ttdeci">int ast_bridge_queue_action(struct ast_bridge *bridge, struct ast_frame *action)</div><div class="ttdoc">Put an action onto the specified bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00307">bridge.c:307</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="causes_8h_html_af2235eb1c27925e4020ce286255d165f"><div class="ttname"><a href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL_CLEARING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00105">causes.h:105</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad58d921ec1c5a6f12be8f94327dd98c0"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a></div><div class="ttdeci">void ast_bridge_channel_leave_bridge(struct ast_bridge_channel *bridge_channel, enum bridge_channel_state new_state, int cause)</div><div class="ttdoc">Set bridge channel state to leave bridge (if not leaving already). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00314">bridge_channel.c:314</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_abb5f5ff5988e039726f2c0d982342378"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abb5f5ff5988e039726f2c0d982342378">ast_cause2str</a></div><div class="ttdeci">const char * ast_cause2str(int state) attribute_pure</div><div class="ttdoc">Gives the string form of a given cause code. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00612">channel.c:612</a></div></div>
<div class="ttc" id="structast__bridge_html_aa4d0ccb9d0904892652f2f258c5ad225"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#aa4d0ccb9d0904892652f2f258c5ad225">ast_bridge::cause</a></div><div class="ttdeci">int cause</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00394">bridge.h:394</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a33ad1b704c3dedf9fbf0bf8c2429561a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33ad1b704c3dedf9fbf0bf8c2429561a">&#9670;&nbsp;</a></span>bridge_do_merge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bridge_do_merge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>dst_bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>src_bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> **&#160;</td>
          <td class="paramname"><em>kick_me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_kick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>optimized</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l02096">2096</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00067">AST_BRIDGE_CHANNEL_FLAG_IMMOVABLE</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00314">ast_bridge_channel_leave_bridge()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00292">ast_bridge_channel_leave_bridge_nolock()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00231">ast_bridge_channel_lock</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00244">ast_bridge_channel_unlock</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03568">ast_bridge_features_remove()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00183">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00460">ast_bridge_publish_merge()</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00105">AST_CAUSE_NORMAL_CLEARING</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00100">ast_bridge_channel::bridge</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02055">bridge_channel_change_bridge()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02178">bridge_channel_internal_pull()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02315">bridge_channel_internal_push()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02070">bridge_channel_moving()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00066">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00062">BRIDGE_CHANNEL_STATE_WAIT</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01443">bridge_reconfigured()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00394">ast_bridge::cause</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00271">ast_bridge_features::feature_flags</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00132">ast_bridge_channel::features</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00089">ast_bridge_channel::state</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01897">bridge_merge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02264">bridge_merge_locked()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02917">try_merge_optimize_out()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l04663">two_bridge_attended_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;{</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Merging bridge %s into bridge %s\n&quot;</span>,</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;      src_bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, dst_bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;   <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a075388377d67766550e9e53761404b99">ast_bridge_publish_merge</a>(dst_bridge, src_bridge);</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;<span class="comment">    * Move channels from src_bridge over to dst_bridge.</span></div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;<span class="comment">    * We must use AST_LIST_TRAVERSE_SAFE_BEGIN() because</span></div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<span class="comment">    * bridge_channel_internal_pull() alters the list we are traversing.</span></div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;src_bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>, bridge_channel, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      <span class="keywordflow">if</span> (bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a871f4f1d537a1cd524ee8c28b623104f">state</a> != <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853">BRIDGE_CHANNEL_STATE_WAIT</a>) {</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;<span class="comment">          * The channel is already leaving let it leave normally because</span></div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;<span class="comment">          * pulling it may delete hooks that should run for this channel.</span></div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      }</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#af15c2e8b6df8ce0bf570af18aa890deb">feature_flags</a>,</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;         <a class="code" href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77a0e985ea384c79e5e35055ecc0ffb2c57">AST_BRIDGE_CHANNEL_FLAG_IMMOVABLE</a>)) {</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;      }</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      <span class="keywordflow">if</span> (kick_me) {</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;         <span class="keywordflow">for</span> (idx = 0; idx &lt; num_kick; ++idx) {</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;            <span class="keywordflow">if</span> (bridge_channel == kick_me[idx]) {</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;               <a class="code" href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a>(bridge_channel,</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                  <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, <a class="code" href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a>);</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;            }</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;         }</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      }</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      <a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#abbcf6b683169c58f6441e3956257c827">bridge_channel_internal_pull</a>(bridge_channel);</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <span class="keywordflow">if</span> (bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a871f4f1d537a1cd524ee8c28b623104f">state</a> != <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853">BRIDGE_CHANNEL_STATE_WAIT</a>) {</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;<span class="comment">          * The channel died as a result of being pulled or it was</span></div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;<span class="comment">          * kicked.  Leave it pointing to the original bridge.</span></div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      }</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      <a class="code" href="../../d0/d95/bridge_8c.html#add13b23d954c41a17ba991217857c953">bridge_channel_moving</a>(bridge_channel, bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>, dst_bridge);</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      <span class="comment">/* Point to new bridge.*/</span></div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <a class="code" href="../../d0/d95/bridge_8c.html#abfc1433d64d6a616081e96845af349e3">bridge_channel_change_bridge</a>(bridge_channel, dst_bridge);</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#a9798f7ecff1382a175d9dfcf1e8334e6">bridge_channel_internal_push</a>(bridge_channel)) {</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;         <a class="code" href="../../d0/d95/bridge_8c.html#a488815ff58d7ea1d8f5e7ce0ef370df5">ast_bridge_features_remove</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>,</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;            <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>);</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;         <a class="code" href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a>(bridge_channel,</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;            <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aa4d0ccb9d0904892652f2f258c5ad225">cause</a>);</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      }</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;   }</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;   <span class="keywordflow">if</span> (kick_me) {</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="comment">       * Now we can kick any channels in the dst_bridge without</span></div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;<span class="comment">       * potentially dissolving the bridge.</span></div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; num_kick; ++idx) {</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;         bridge_channel = kick_me[idx];</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;         <a class="code" href="../../de/d41/bridge__channel_8h.html#aa467e25606c2a21df25c61f139007782">ast_bridge_channel_lock</a>(bridge_channel);</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;         <span class="keywordflow">if</span> (bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a871f4f1d537a1cd524ee8c28b623104f">state</a> == <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853">BRIDGE_CHANNEL_STATE_WAIT</a>) {</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;            <a class="code" href="../../de/d41/bridge__channel_8h.html#ab37a1835212d045dcfe7ef7f25eb5e31">ast_bridge_channel_leave_bridge_nolock</a>(bridge_channel,</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;               <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, <a class="code" href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a>);</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;            <a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#abbcf6b683169c58f6441e3956257c827">bridge_channel_internal_pull</a>(bridge_channel);</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;         }</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;         <a class="code" href="../../de/d41/bridge__channel_8h.html#a483cd10a0ddcca5814298bdb4f153878">ast_bridge_channel_unlock</a>(bridge_channel);</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;      }</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;   }</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a6f66125893195db451bca7e9d71bd0a5">bridge_reconfigured</a>(dst_bridge, !optimized);</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a6f66125893195db451bca7e9d71bd0a5">bridge_reconfigured</a>(src_bridge, !optimized);</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Merged bridge %s into bridge %s\n&quot;</span>,</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      src_bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, dst_bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a65633fdc6178dc8d9f754fda0166d16e"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">ast_bridge_channel::features</a></div><div class="ttdeci">struct ast_bridge_features * features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00132">bridge_channel.h:132</a></div></div>
<div class="ttc" id="bridge_8c_html_abfc1433d64d6a616081e96845af349e3"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#abfc1433d64d6a616081e96845af349e3">bridge_channel_change_bridge</a></div><div class="ttdeci">static void bridge_channel_change_bridge(struct ast_bridge_channel *bridge_channel, struct ast_bridge *new_bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02055">bridge.c:2055</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ab37a1835212d045dcfe7ef7f25eb5e31"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ab37a1835212d045dcfe7ef7f25eb5e31">ast_bridge_channel_leave_bridge_nolock</a></div><div class="ttdeci">void ast_bridge_channel_leave_bridge_nolock(struct ast_bridge_channel *bridge_channel, enum bridge_channel_state new_state, int cause)</div><div class="ttdoc">Set bridge channel state to leave bridge (if not leaving already). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00292">bridge_channel.c:292</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00183">bridge_features.h:183</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a871f4f1d537a1cd524ee8c28b623104f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a871f4f1d537a1cd524ee8c28b623104f">ast_bridge_channel::state</a></div><div class="ttdeci">enum bridge_channel_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00089">bridge_channel.h:89</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00066">bridge_channel.h:66</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">ast_bridge_channel::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdoc">Bridge this channel is participating in. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00100">bridge_channel.h:100</a></div></div>
<div class="ttc" id="bridge__features_8h_html_adb39f3c49f940cca855ef8ae3dfc5f77a0e985ea384c79e5e35055ecc0ffb2c57"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77a0e985ea384c79e5e35055ecc0ffb2c57">AST_BRIDGE_CHANNEL_FLAG_IMMOVABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00067">bridge_features.h:67</a></div></div>
<div class="ttc" id="structast__bridge__features_html_af15c2e8b6df8ce0bf570af18aa890deb"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#af15c2e8b6df8ce0bf570af18aa890deb">ast_bridge_features::feature_flags</a></div><div class="ttdeci">struct ast_flags feature_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00271">bridge_features.h:271</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_aa467e25606c2a21df25c61f139007782"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#aa467e25606c2a21df25c61f139007782">ast_bridge_channel_lock</a></div><div class="ttdeci">#define ast_bridge_channel_lock(bridge_channel)</div><div class="ttdoc">Lock the bridge_channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00231">bridge_channel.h:231</a></div></div>
<div class="ttc" id="causes_8h_html_af2235eb1c27925e4020ce286255d165f"><div class="ttname"><a href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL_CLEARING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00105">causes.h:105</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a483cd10a0ddcca5814298bdb4f153878"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a483cd10a0ddcca5814298bdb4f153878">ast_bridge_channel_unlock</a></div><div class="ttdeci">#define ast_bridge_channel_unlock(bridge_channel)</div><div class="ttdoc">Unlock the bridge_channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00244">bridge_channel.h:244</a></div></div>
<div class="ttc" id="bridge_8c_html_add13b23d954c41a17ba991217857c953"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#add13b23d954c41a17ba991217857c953">bridge_channel_moving</a></div><div class="ttdeci">static void bridge_channel_moving(struct ast_bridge_channel *bridge_channel, struct ast_bridge *src, struct ast_bridge *dst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02070">bridge.c:2070</a></div></div>
<div class="ttc" id="bridge_8c_html_a6f66125893195db451bca7e9d71bd0a5"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a6f66125893195db451bca7e9d71bd0a5">bridge_reconfigured</a></div><div class="ttdeci">void bridge_reconfigured(struct ast_bridge *bridge, unsigned int colp_update)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01443">bridge.c:1443</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad58d921ec1c5a6f12be8f94327dd98c0"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a></div><div class="ttdeci">void ast_bridge_channel_leave_bridge(struct ast_bridge_channel *bridge_channel, enum bridge_channel_state new_state, int cause)</div><div class="ttdoc">Set bridge channel state to leave bridge (if not leaving already). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00314">bridge_channel.c:314</a></div></div>
<div class="ttc" id="structast__bridge_html_aa4d0ccb9d0904892652f2f258c5ad225"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#aa4d0ccb9d0904892652f2f258c5ad225">ast_bridge::cause</a></div><div class="ttdeci">int cause</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00394">bridge.h:394</a></div></div>
<div class="ttc" id="bridge__channel__internal_8h_html_a9798f7ecff1382a175d9dfcf1e8334e6"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#a9798f7ecff1382a175d9dfcf1e8334e6">bridge_channel_internal_push</a></div><div class="ttdeci">int bridge_channel_internal_push(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l02315">bridge_channel.c:2315</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="bridge_8c_html_a488815ff58d7ea1d8f5e7ce0ef370df5"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a488815ff58d7ea1d8f5e7ce0ef370df5">ast_bridge_features_remove</a></div><div class="ttdeci">void ast_bridge_features_remove(struct ast_bridge_features *features, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdoc">Remove marked bridge channel feature hooks. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03568">bridge.c:3568</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853">BRIDGE_CHANNEL_STATE_WAIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00062">bridge_channel.h:62</a></div></div>
<div class="ttc" id="bridge__channel__internal_8h_html_abbcf6b683169c58f6441e3956257c827"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#abbcf6b683169c58f6441e3956257c827">bridge_channel_internal_pull</a></div><div class="ttdeci">void bridge_channel_internal_pull(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l02178">bridge_channel.c:2178</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a075388377d67766550e9e53761404b99"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a075388377d67766550e9e53761404b99">ast_bridge_publish_merge</a></div><div class="ttdeci">void ast_bridge_publish_merge(struct ast_bridge *to, struct ast_bridge *from)</div><div class="ttdoc">Publish a bridge merge. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00460">stasis_bridges.c:460</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad663022ff4700bb2d53afeea24f402d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad663022ff4700bb2d53afeea24f402d4">&#9670;&nbsp;</a></span>bridge_do_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bridge_do_move </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>dst_bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>attempt_recovery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>optimized</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l02362">2362</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00314">ast_bridge_channel_leave_bridge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03568">ast_bridge_features_remove()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00183">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00100">ast_bridge_channel::bridge</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02055">bridge_channel_change_bridge()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02178">bridge_channel_internal_pull()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02315">bridge_channel_internal_push()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02235">bridge_channel_internal_push_full()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02070">bridge_channel_moving()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00792">bridge_channel_settle_owed_events()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00066">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00062">BRIDGE_CHANNEL_STATE_WAIT</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01443">bridge_reconfigured()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00394">ast_bridge::cause</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00132">ast_bridge_channel::features</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00121">ast_bridge_channel::in_bridge</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00089">ast_bridge_channel::state</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00093">ast_bridge_channel::swap</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_move()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02447">bridge_move_locked()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04620">bridge_swap_attended_transfer()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l02793">try_swap_optimize_out()</a>.</p>
<div class="fragment"><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;{</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *orig_bridge;</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;   <span class="keywordtype">int</span> was_in_bridge;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;   <span class="keywordflow">if</span> (bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">swap</a>) {</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Moving %p(%s) into bridge %s swapping with %s\n&quot;</span>,</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;         bridge_channel, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), dst_bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>,</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">swap</a>));</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Moving %p(%s) into bridge %s\n&quot;</span>,</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;         bridge_channel, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), dst_bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;   }</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;   orig_bridge = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>;</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;   was_in_bridge = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#afacf05ff49bf5cd3c7170b3c51943d2e">in_bridge</a>;</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;   <a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#abbcf6b683169c58f6441e3956257c827">bridge_channel_internal_pull</a>(bridge_channel);</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;   <span class="keywordflow">if</span> (bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a871f4f1d537a1cd524ee8c28b623104f">state</a> != <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853">BRIDGE_CHANNEL_STATE_WAIT</a>) {</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;<span class="comment">       * The channel died as a result of being pulled.  Leave it</span></div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;<span class="comment">       * pointing to the original bridge.</span></div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;<span class="comment">       * Clear out the swap channel pointer.  A ref is not held</span></div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;<span class="comment">       * by bridge_channel-&gt;swap at this point.</span></div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;      bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">swap</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;      <a class="code" href="../../d0/d95/bridge_8c.html#a6f66125893195db451bca7e9d71bd0a5">bridge_reconfigured</a>(orig_bridge, 0);</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;   }</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;   <span class="comment">/* Point to new bridge.*/</span></div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(orig_bridge, +1);<span class="comment">/* Keep a ref in case the push fails. */</span></div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#abfc1433d64d6a616081e96845af349e3">bridge_channel_change_bridge</a>(bridge_channel, dst_bridge);</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#add13b23d954c41a17ba991217857c953">bridge_channel_moving</a>(bridge_channel, orig_bridge, dst_bridge);</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#a5c5538e7375dc6d55c8c0efff87a21f8">bridge_channel_internal_push_full</a>(bridge_channel, optimized)) {</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;      <span class="comment">/* Try to put the channel back into the original bridge. */</span></div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;      <a class="code" href="../../d0/d95/bridge_8c.html#a488815ff58d7ea1d8f5e7ce0ef370df5">ast_bridge_features_remove</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>,</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;         <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>);</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      <span class="keywordflow">if</span> (attempt_recovery &amp;&amp; was_in_bridge) {</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;         <span class="comment">/* Point back to original bridge. */</span></div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;         <a class="code" href="../../d0/d95/bridge_8c.html#abfc1433d64d6a616081e96845af349e3">bridge_channel_change_bridge</a>(bridge_channel, orig_bridge);</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#a9798f7ecff1382a175d9dfcf1e8334e6">bridge_channel_internal_push</a>(bridge_channel)) {</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;            <a class="code" href="../../d0/d95/bridge_8c.html#a488815ff58d7ea1d8f5e7ce0ef370df5">ast_bridge_features_remove</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>,</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;               <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>);</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;            <a class="code" href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a>(bridge_channel,</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;               <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aa4d0ccb9d0904892652f2f258c5ad225">cause</a>);</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;         }</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;         <a class="code" href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a>(bridge_channel,</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;            <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aa4d0ccb9d0904892652f2f258c5ad225">cause</a>);</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;         <a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#a47058a18972f43983eb9109737c43229">bridge_channel_settle_owed_events</a>(orig_bridge, bridge_channel);</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;      }</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      res = -1;</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!optimized) {</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;      <a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#a47058a18972f43983eb9109737c43229">bridge_channel_settle_owed_events</a>(orig_bridge, bridge_channel);</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;   }</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a6f66125893195db451bca7e9d71bd0a5">bridge_reconfigured</a>(dst_bridge, !optimized);</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a6f66125893195db451bca7e9d71bd0a5">bridge_reconfigured</a>(orig_bridge, !optimized);</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(orig_bridge, -1);</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a65633fdc6178dc8d9f754fda0166d16e"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">ast_bridge_channel::features</a></div><div class="ttdeci">struct ast_bridge_features * features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00132">bridge_channel.h:132</a></div></div>
<div class="ttc" id="bridge_8c_html_abfc1433d64d6a616081e96845af349e3"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#abfc1433d64d6a616081e96845af349e3">bridge_channel_change_bridge</a></div><div class="ttdeci">static void bridge_channel_change_bridge(struct ast_bridge_channel *bridge_channel, struct ast_bridge *new_bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02055">bridge.c:2055</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00183">bridge_features.h:183</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a871f4f1d537a1cd524ee8c28b623104f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a871f4f1d537a1cd524ee8c28b623104f">ast_bridge_channel::state</a></div><div class="ttdeci">enum bridge_channel_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00089">bridge_channel.h:89</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00066">bridge_channel.h:66</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__channel__internal_8h_html_a47058a18972f43983eb9109737c43229"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#a47058a18972f43983eb9109737c43229">bridge_channel_settle_owed_events</a></div><div class="ttdeci">void bridge_channel_settle_owed_events(struct ast_bridge *orig_bridge, struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00792">bridge_channel.c:792</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">ast_bridge_channel::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdoc">Bridge this channel is participating in. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00100">bridge_channel.h:100</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="bridge_8c_html_add13b23d954c41a17ba991217857c953"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#add13b23d954c41a17ba991217857c953">bridge_channel_moving</a></div><div class="ttdeci">static void bridge_channel_moving(struct ast_bridge_channel *bridge_channel, struct ast_bridge *src, struct ast_bridge *dst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02070">bridge.c:2070</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="bridge__channel__internal_8h_html_a5c5538e7375dc6d55c8c0efff87a21f8"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#a5c5538e7375dc6d55c8c0efff87a21f8">bridge_channel_internal_push_full</a></div><div class="ttdeci">int bridge_channel_internal_push_full(struct ast_bridge_channel *bridge_channel, int optimized)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l02235">bridge_channel.c:2235</a></div></div>
<div class="ttc" id="bridge_8c_html_a6f66125893195db451bca7e9d71bd0a5"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a6f66125893195db451bca7e9d71bd0a5">bridge_reconfigured</a></div><div class="ttdeci">void bridge_reconfigured(struct ast_bridge *bridge, unsigned int colp_update)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01443">bridge.c:1443</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad58d921ec1c5a6f12be8f94327dd98c0"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a></div><div class="ttdeci">void ast_bridge_channel_leave_bridge(struct ast_bridge_channel *bridge_channel, enum bridge_channel_state new_state, int cause)</div><div class="ttdoc">Set bridge channel state to leave bridge (if not leaving already). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00314">bridge_channel.c:314</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_afacf05ff49bf5cd3c7170b3c51943d2e"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#afacf05ff49bf5cd3c7170b3c51943d2e">ast_bridge_channel::in_bridge</a></div><div class="ttdeci">unsigned int in_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00121">bridge_channel.h:121</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a3bf3c4e34892d0033814ab5fec0e006f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">ast_bridge_channel::swap</a></div><div class="ttdeci">struct ast_channel * swap</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00093">bridge_channel.h:93</a></div></div>
<div class="ttc" id="structast__bridge_html_aa4d0ccb9d0904892652f2f258c5ad225"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#aa4d0ccb9d0904892652f2f258c5ad225">ast_bridge::cause</a></div><div class="ttdeci">int cause</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00394">bridge.h:394</a></div></div>
<div class="ttc" id="bridge__channel__internal_8h_html_a9798f7ecff1382a175d9dfcf1e8334e6"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#a9798f7ecff1382a175d9dfcf1e8334e6">bridge_channel_internal_push</a></div><div class="ttdeci">int bridge_channel_internal_push(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l02315">bridge_channel.c:2315</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="bridge_8c_html_a488815ff58d7ea1d8f5e7ce0ef370df5"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a488815ff58d7ea1d8f5e7ce0ef370df5">ast_bridge_features_remove</a></div><div class="ttdeci">void ast_bridge_features_remove(struct ast_bridge_features *features, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdoc">Remove marked bridge channel feature hooks. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03568">bridge.c:3568</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853">BRIDGE_CHANNEL_STATE_WAIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00062">bridge_channel.h:62</a></div></div>
<div class="ttc" id="bridge__channel__internal_8h_html_abbcf6b683169c58f6441e3956257c827"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#abbcf6b683169c58f6441e3956257c827">bridge_channel_internal_pull</a></div><div class="ttdeci">void bridge_channel_internal_pull(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l02178">bridge_channel.c:2178</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af611fd393ca26b5fd2a8071867470ffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af611fd393ca26b5fd2a8071867470ffc">&#9670;&nbsp;</a></span>bridge_find_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a>* bridge_find_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l01469">1469</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l02519">ast_bridge_add_channel()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01667">ast_bridge_join()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02025">ast_bridge_kick()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01482">ast_bridge_notify_masquerade()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01997">ast_bridge_remove()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03068">ast_bridge_suspend()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03089">ast_bridge_unsuspend()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02235">bridge_channel_internal_push_full()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01823">bridge_impart_internal()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01897">bridge_merge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02264">bridge_merge_locked()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02447">bridge_move_locked()</a>, and <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00418">play_uri()</a>.</p>
<div class="fragment"><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;{</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>, bridge_channel, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      <span class="keywordflow">if</span> (bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a> == chan) {</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      }</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;   }</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;   <span class="keywordflow">return</span> bridge_channel;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1af73cc9e9cce0a151dddc8cfae3e4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1af73cc9e9cce0a151dddc8cfae3e4b">&#9670;&nbsp;</a></span>bridge_merge_inhibit_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bridge_merge_inhibit_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03052">3052</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00392">ast_bridge::inhibit_merge</a>, and <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02559">request()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00369">ast_bridge_channel_merge_inhibit()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l03061">ast_bridge_merge_inhibit()</a>.</p>
<div class="fragment"><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;{</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;   <span class="keywordtype">int</span> new_request;</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;   new_request = bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#af005cc77b3514fdc7fb7aba4ba370f50">inhibit_merge</a> + <a class="code" href="../../d0/d29/chan__pjsip_8c.html#a4e2e6fb7d874f0d2deddd2ecfc8afb32">request</a>;</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0 &lt;= new_request);</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#af005cc77b3514fdc7fb7aba4ba370f50">inhibit_merge</a> = new_request;</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;}</div><div class="ttc" id="structast__bridge_html_af005cc77b3514fdc7fb7aba4ba370f50"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#af005cc77b3514fdc7fb7aba4ba370f50">ast_bridge::inhibit_merge</a></div><div class="ttdeci">unsigned int inhibit_merge</div><div class="ttdoc">Count of the active temporary requests to inhibit bridge merges. Zero if merges are allowed...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00392">bridge.h:392</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_a4e2e6fb7d874f0d2deddd2ecfc8afb32"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#a4e2e6fb7d874f0d2deddd2ecfc8afb32">request</a></div><div class="ttdeci">static int request(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02559">chan_pjsip.c:2559</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f66125893195db451bca7e9d71bd0a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f66125893195db451bca7e9d71bd0a5">&#9670;&nbsp;</a></span>bridge_reconfigured()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bridge_reconfigured </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>colp_update</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l01443">1443</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00041">AST_BRIDGE_FLAG_SMART</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00350">ast_bridge_publish_state()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00486">bridge_complete_join()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00319">bridge_dissolve()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00393">bridge_reconfigured_connected_line_update()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01233">check_bridge_play_sounds()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00398">ast_bridge::dissolved</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00377">ast_bridge::feature_flags</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00396">ast_bridge::reconfigured</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01426">set_bridge_peer_vars()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l00998">smart_bridge_operation()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l01482">ast_bridge_notify_masquerade()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02330">bridge_channel_handle_control()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02902">bridge_channel_internal_join()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02808">bridge_channel_wait()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02096">bridge_do_merge()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l02362">bridge_do_move()</a>.</p>
<div class="fragment"><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;{</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;   <span class="keywordflow">if</span> (!bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a41d441063234a215e985a56318a07a6f">reconfigured</a>) {</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;   }</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a41d441063234a215e985a56318a07a6f">reconfigured</a> = 0;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">feature_flags</a>, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b">AST_BRIDGE_FLAG_SMART</a>)</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      &amp;&amp; <a class="code" href="../../d0/d95/bridge_8c.html#a715f970eeab295c92ecc511b2a2d1c0e">smart_bridge_operation</a>(bridge)) {</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="comment">/* Smart bridge failed. */</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <a class="code" href="../../d0/d95/bridge_8c.html#a3dfc360c4ef5a43d854d75e9b94b58e1">bridge_dissolve</a>(bridge, 0);</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;   }</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#ac776f2eff5f02e48a3c6492a6dccd444">bridge_complete_join</a>(bridge);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;   <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a9ea77c25c2c57ec45bc6dfdea1c1a228">dissolved</a>) {</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;   }</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a52be65600729342154b0dae671f1030a">check_bridge_play_sounds</a>(bridge);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#ad6f253ce6ca83c50fd56077f98fcaaf7">set_bridge_peer_vars</a>(bridge);</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;   <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#aa8bd54e09b0c348a3232053e4be9bcfb">ast_bridge_publish_state</a>(bridge);</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;   <span class="keywordflow">if</span> (colp_update) {</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      <a class="code" href="../../d0/d95/bridge_8c.html#aa6c59e682620f50fc028a30c822e083c">bridge_reconfigured_connected_line_update</a>(bridge);</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   }</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;}</div><div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b">AST_BRIDGE_FLAG_SMART</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00041">bridge_features.h:41</a></div></div>
<div class="ttc" id="structast__bridge_html_af15c2e8b6df8ce0bf570af18aa890deb"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">ast_bridge::feature_flags</a></div><div class="ttdeci">struct ast_flags feature_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00377">bridge.h:377</a></div></div>
<div class="ttc" id="bridge_8c_html_a52be65600729342154b0dae671f1030a"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a52be65600729342154b0dae671f1030a">check_bridge_play_sounds</a></div><div class="ttdeci">static void check_bridge_play_sounds(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01233">bridge.c:1233</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="structast__bridge_html_a9ea77c25c2c57ec45bc6dfdea1c1a228"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a9ea77c25c2c57ec45bc6dfdea1c1a228">ast_bridge::dissolved</a></div><div class="ttdeci">unsigned int dissolved</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00398">bridge.h:398</a></div></div>
<div class="ttc" id="structast__bridge_html_a41d441063234a215e985a56318a07a6f"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a41d441063234a215e985a56318a07a6f">ast_bridge::reconfigured</a></div><div class="ttdeci">unsigned int reconfigured</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00396">bridge.h:396</a></div></div>
<div class="ttc" id="bridge_8c_html_ad6f253ce6ca83c50fd56077f98fcaaf7"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#ad6f253ce6ca83c50fd56077f98fcaaf7">set_bridge_peer_vars</a></div><div class="ttdeci">static void set_bridge_peer_vars(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01426">bridge.c:1426</a></div></div>
<div class="ttc" id="bridge_8c_html_a3dfc360c4ef5a43d854d75e9b94b58e1"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a3dfc360c4ef5a43d854d75e9b94b58e1">bridge_dissolve</a></div><div class="ttdeci">void bridge_dissolve(struct ast_bridge *bridge, int cause)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00319">bridge.c:319</a></div></div>
<div class="ttc" id="bridge_8c_html_aa6c59e682620f50fc028a30c822e083c"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aa6c59e682620f50fc028a30c822e083c">bridge_reconfigured_connected_line_update</a></div><div class="ttdeci">static void bridge_reconfigured_connected_line_update(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00393">bridge.c:393</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_aa8bd54e09b0c348a3232053e4be9bcfb"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#aa8bd54e09b0c348a3232053e4be9bcfb">ast_bridge_publish_state</a></div><div class="ttdeci">void ast_bridge_publish_state(struct ast_bridge *bridge)</div><div class="ttdoc">Publish the state of a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00350">stasis_bridges.c:350</a></div></div>
<div class="ttc" id="bridge_8c_html_a715f970eeab295c92ecc511b2a2d1c0e"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a715f970eeab295c92ecc511b2a2d1c0e">smart_bridge_operation</a></div><div class="ttdeci">static int smart_bridge_operation(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00998">bridge.c:998</a></div></div>
<div class="ttc" id="bridge_8c_html_ac776f2eff5f02e48a3c6492a6dccd444"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#ac776f2eff5f02e48a3c6492a6dccd444">bridge_complete_join</a></div><div class="ttdeci">static void bridge_complete_join(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00486">bridge.c:486</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8690315fd0d12e16671f9d22eacfa8f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8690315fd0d12e16671f9d22eacfa8f0">&#9670;&nbsp;</a></span>bridge_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* bridge_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register the new bridge with the system. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>What to register. (Tolerates a NULL pointer)</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *<a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>(uint32_t capabilities, <span class="keywordtype">int</span> flags, uint32 dtmf_features)</div><div class="line">{</div><div class="line">    <span class="keywordtype">void</span> *bridge;</div><div class="line"></div><div class="line">    bridge = <a class="code" href="../../d5/dde/bridge__internal_8h.html#adf0e64783980f762008ac238f2dbe715">bridge_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> ast_bridge_basic), &amp;<a class="code" href="../../d4/d1e/bridge__basic_8h.html#a0cead317de0ed25caffc93f8b30d2860">ast_bridge_basic_v_table</a>);</div><div class="line">    bridge = <a class="code" href="../../d5/dde/bridge__internal_8h.html#a38c501242153bbe13d0eda31220637b8">bridge_base_init</a>(bridge, capabilities, flags);</div><div class="line">    bridge = ast_bridge_basic_init(bridge, dtmf_features);</div><div class="line">    bridge = <a class="code" href="../../d5/dde/bridge__internal_8h.html#a8690315fd0d12e16671f9d22eacfa8f0">bridge_register</a>(bridge);</div><div class="line">    <span class="keywordflow">return</span> bridge;</div><div class="line">}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>This must be done after a bridge constructor has completed setting up the new bridge but before it returns.</dd>
<dd>
After a bridge is registered, <a class="el" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd" title="Destroy a bridge. ">ast_bridge_destroy()</a> must eventually be called to get rid of the bridge.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bridge</td><td>on success. </td></tr>
    <tr><td class="paramname">NULL</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l00709">709</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00350">ast_bridge_publish_state()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00157">bridge_manager_request::bridge</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00400">ast_bridge::construction_completed</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l00960">ast_bridge_base_new()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01396">bridge_agent_hold_new()</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00456">bridge_parking_new()</a>, and <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00300">bridge_stasis_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;{</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   <span class="keywordflow">if</span> (bridge) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#abc1d460759585bcaddb392327e9cc9ea">construction_completed</a> = 1;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#aa8bd54e09b0c348a3232053e4be9bcfb">ast_bridge_publish_state</a>(bridge);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(<a class="code" href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a>, bridge)) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;         <a class="code" href="../../d0/d95/bridge_8c.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(bridge, 0);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;         bridge = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      }</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;   <span class="keywordflow">return</span> bridge;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge_8c_html_a4adad484788bb018b8699eeed2ddfedd"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a></div><div class="ttdeci">int ast_bridge_destroy(struct ast_bridge *bridge, int cause)</div><div class="ttdoc">Destroy a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00970">bridge.c:970</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_aa8bd54e09b0c348a3232053e4be9bcfb"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#aa8bd54e09b0c348a3232053e4be9bcfb">ast_bridge_publish_state</a></div><div class="ttdeci">void ast_bridge_publish_state(struct ast_bridge *bridge)</div><div class="ttdoc">Publish the state of a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00350">stasis_bridges.c:350</a></div></div>
<div class="ttc" id="bridge_8c_html_aaa64e0df7082a1a31b65d0c956bc2534"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a></div><div class="ttdeci">static struct ao2_container * bridges</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00123">bridge.c:123</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge_html_abc1d460759585bcaddb392327e9cc9ea"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#abc1d460759585bcaddb392327e9cc9ea">ast_bridge::construction_completed</a></div><div class="ttdeci">unsigned int construction_completed</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00400">bridge.h:400</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:53 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
