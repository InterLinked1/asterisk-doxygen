<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: time.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">time.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Date/Time utility functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../de/df7/time_8h_source.html">time.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for time.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d14/time_8c__incl.png" border="0" usemap="#time_8c" alt=""/></div>
<map name="time_8c" id="time_8c">
<area shape="rect" id="node4" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="250,80,313,107"/>
<area shape="rect" id="node5" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="5,155,160,181"/>
<area shape="rect" id="node9" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="395,155,541,181"/>
<area shape="rect" id="node6" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="9,229,156,256"/>
</map>
</div>
</div>
<p><a href="../../df/d73/time_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d93/structtime__unit__labels.html">time_unit_labels</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5cbb36cd5d3a25a57c26f166db44a79f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#a5cbb36cd5d3a25a57c26f166db44a79f">MAX_UNIT_LABELS</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a5cbb36cd5d3a25a57c26f166db44a79f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6a18077cd502b3a1fc024f9857144f87"><td class="memItemLeft" align="right" valign="top">struct timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#a6a18077cd502b3a1fc024f9857144f87">ast_time_create</a> (ast_time_t sec, ast_suseconds_t usec)</td></tr>
<tr class="memdesc:a6a18077cd502b3a1fc024f9857144f87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a timeval object initialized to given values.  <a href="#a6a18077cd502b3a1fc024f9857144f87">More...</a><br /></td></tr>
<tr class="separator:a6a18077cd502b3a1fc024f9857144f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7252ab607fc6663ec18b44175e4d80e2"><td class="memItemLeft" align="right" valign="top">struct timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#a7252ab607fc6663ec18b44175e4d80e2">ast_time_create_by_unit</a> (unsigned long <a class="el" href="../../d5/d85/structval.html">val</a>, enum <a class="el" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143e">TIME_UNIT</a> unit)</td></tr>
<tr class="memdesc:a7252ab607fc6663ec18b44175e4d80e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the given unit value, and create a timeval object from it.  <a href="#a7252ab607fc6663ec18b44175e4d80e2">More...</a><br /></td></tr>
<tr class="separator:a7252ab607fc6663ec18b44175e4d80e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa01f844ab005e8a05c75db9be176ecb2"><td class="memItemLeft" align="right" valign="top">struct timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#aa01f844ab005e8a05c75db9be176ecb2">ast_time_create_by_unit_str</a> (unsigned long <a class="el" href="../../d5/d85/structval.html">val</a>, const char *unit)</td></tr>
<tr class="memdesc:aa01f844ab005e8a05c75db9be176ecb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the given unit value, and create a timeval object from it.  <a href="#aa01f844ab005e8a05c75db9be176ecb2">More...</a><br /></td></tr>
<tr class="separator:aa01f844ab005e8a05c75db9be176ecb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050ee3c69d962999f9a3528e012a8c6c"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143e">TIME_UNIT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#a050ee3c69d962999f9a3528e012a8c6c">ast_time_str_to_unit</a> (const char *unit)</td></tr>
<tr class="memdesc:a050ee3c69d962999f9a3528e012a8c6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a string to a time unit enumeration value.  <a href="#a050ee3c69d962999f9a3528e012a8c6c">More...</a><br /></td></tr>
<tr class="separator:a050ee3c69d962999f9a3528e012a8c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f94e5f2c9020d961198b2b875b2429"><td class="memItemLeft" align="right" valign="top">ast_suseconds_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#ab2f94e5f2c9020d961198b2b875b2429">ast_time_tv_to_usec</a> (const struct timeval *tv)</td></tr>
<tr class="memdesc:ab2f94e5f2c9020d961198b2b875b2429"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a timeval structure to microseconds.  <a href="#ab2f94e5f2c9020d961198b2b875b2429">More...</a><br /></td></tr>
<tr class="separator:ab2f94e5f2c9020d961198b2b875b2429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc3ff73b4e2b41f2817c82611e4c3160"><td class="memItemLeft" align="right" valign="top">static struct timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#acc3ff73b4e2b41f2817c82611e4c3160">normalize_and_create</a> (unsigned long usec)</td></tr>
<tr class="memdesc:acc3ff73b4e2b41f2817c82611e4c3160"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a timeval first onverting the given microsecond value into seconds and microseconds.  <a href="#acc3ff73b4e2b41f2817c82611e4c3160">More...</a><br /></td></tr>
<tr class="separator:acc3ff73b4e2b41f2817c82611e4c3160"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a63db90150d7357092912cf14a45c15d0"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#a63db90150d7357092912cf14a45c15d0">day_labels</a> [] = {&quot;d&quot;, &quot;&quot;, &quot;day&quot;}</td></tr>
<tr class="separator:a63db90150d7357092912cf14a45c15d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8fbf9f71057c13fb07b8a06fbad097"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#a7a8fbf9f71057c13fb07b8a06fbad097">hour_labels</a> [] = {&quot;h&quot;, &quot;hr&quot;, &quot;hour&quot;}</td></tr>
<tr class="separator:a7a8fbf9f71057c13fb07b8a06fbad097"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af676ee0a0ab9b7d3040fa6a62145dfaf"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#af676ee0a0ab9b7d3040fa6a62145dfaf">microsecond_labels</a> [] = {&quot;us&quot;, &quot;usec&quot;, &quot;microsecond&quot;}</td></tr>
<tr class="separator:af676ee0a0ab9b7d3040fa6a62145dfaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5225cce2f6dd4d399c600e15ebf4011"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#aa5225cce2f6dd4d399c600e15ebf4011">millisecond_labels</a> [] = {&quot;ms&quot;, &quot;msec&quot;, &quot;millisecond&quot;}</td></tr>
<tr class="separator:aa5225cce2f6dd4d399c600e15ebf4011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8629eee829bb2b483bdc428fc4d34f3b"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#a8629eee829bb2b483bdc428fc4d34f3b">minute_labels</a> [] = {&quot;m&quot;, &quot;<a class="el" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>&quot;, &quot;minute&quot;}</td></tr>
<tr class="separator:a8629eee829bb2b483bdc428fc4d34f3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8751ed35c1c638883ae3745ab2fd4e0"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#ad8751ed35c1c638883ae3745ab2fd4e0">month_labels</a> [] = {&quot;mo&quot;, &quot;mth&quot;, &quot;month&quot;}</td></tr>
<tr class="separator:ad8751ed35c1c638883ae3745ab2fd4e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fabf3327033d96d4c52cc703ce2271e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#a8fabf3327033d96d4c52cc703ce2271e">nanosecond_labels</a> [] = {&quot;ns&quot;, &quot;nsec&quot;, &quot;nanosecond&quot;}</td></tr>
<tr class="separator:a8fabf3327033d96d4c52cc703ce2271e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a542cf7806eb40989ca6ff5ac1518b667"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#a542cf7806eb40989ca6ff5ac1518b667">second_labels</a> [] = {&quot;s&quot;, &quot;sec&quot;, &quot;second&quot;}</td></tr>
<tr class="separator:a542cf7806eb40989ca6ff5ac1518b667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2880993a907b06b1651e1804a805bb9f"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../da/d93/structtime__unit__labels.html">time_unit_labels</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#a2880993a907b06b1651e1804a805bb9f">unit_labels</a> []</td></tr>
<tr class="separator:a2880993a907b06b1651e1804a805bb9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad44f2dac44df1456f5c8bce851289824"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#ad44f2dac44df1456f5c8bce851289824">unit_labels_size</a> = sizeof(<a class="el" href="../../df/d73/time_8c.html#a2880993a907b06b1651e1804a805bb9f">unit_labels</a>) / sizeof(0[<a class="el" href="../../df/d73/time_8c.html#a2880993a907b06b1651e1804a805bb9f">unit_labels</a>])</td></tr>
<tr class="separator:ad44f2dac44df1456f5c8bce851289824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4e8fb8c6a2f50dc7b804a7195eef6dd"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#ac4e8fb8c6a2f50dc7b804a7195eef6dd">week_labels</a> [] = {&quot;w&quot;, &quot;wk&quot;, &quot;week&quot;}</td></tr>
<tr class="separator:ac4e8fb8c6a2f50dc7b804a7195eef6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba62437311622669060b35cb5fa63c8b"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/time_8c.html#aba62437311622669060b35cb5fa63c8b">year_labels</a> [] = {&quot;y&quot;, &quot;yr&quot;, &quot;year&quot;}</td></tr>
<tr class="separator:aba62437311622669060b35cb5fa63c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Date/Time utility functions. </p>

<p class="definition">Definition in file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5cbb36cd5d3a25a57c26f166db44a79f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cbb36cd5d3a25a57c26f166db44a79f">&#9670;&nbsp;</a></span>MAX_UNIT_LABELS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_UNIT_LABELS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00043">43</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d73/time_8c_source.html#l00065">ast_time_str_to_unit()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6a18077cd502b3a1fc024f9857144f87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a18077cd502b3a1fc024f9857144f87">&#9670;&nbsp;</a></span>ast_time_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct timeval ast_time_create </td>
          <td>(</td>
          <td class="paramtype">ast_time_t&#160;</td>
          <td class="paramname"><em>sec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ast_suseconds_t&#160;</td>
          <td class="paramname"><em>usec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a timeval object initialized to given values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sec</td><td>The timeval seconds value </td></tr>
    <tr><td class="paramname">usec</td><td>The timeval microseconds value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A timeval object </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00094">94</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/df7/time_8h_source.html#l00226">ast_tv()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d62/test__time_8c_source.html#l00246">AST_TEST_DEFINE()</a>, <a class="el" href="../../df/d73/time_8c_source.html#l00112">ast_time_create_by_unit()</a>, and <a class="el" href="../../df/d73/time_8c_source.html#l00107">normalize_and_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/df7/time_8h.html#aebf04439f206cc509472ce4b6da48a5a">ast_tv</a>(sec, usec);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div><div class="ttc" id="time_8h_html_aebf04439f206cc509472ce4b6da48a5a"><div class="ttname"><a href="../../de/df7/time_8h.html#aebf04439f206cc509472ce4b6da48a5a">ast_tv</a></div><div class="ttdeci">struct timeval ast_tv(ast_time_t sec, ast_suseconds_t usec)</div><div class="ttdoc">Returns a timeval from sec, usec. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00226">time.h:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7252ab607fc6663ec18b44175e4d80e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7252ab607fc6663ec18b44175e4d80e2">&#9670;&nbsp;</a></span>ast_time_create_by_unit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct timeval ast_time_create_by_unit </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143e">TIME_UNIT</a>&#160;</td>
          <td class="paramname"><em>unit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the given unit value, and create a timeval object from it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The value to convert to a timeval </td></tr>
    <tr><td class="paramname">unit</td><td>The time unit type of val</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A timeval object </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00112">112</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d73/time_8c_source.html#l00094">ast_time_create()</a>, <a class="el" href="../../df/d73/time_8c_source.html#l00107">normalize_and_create()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00251">TIME_UNIT_DAY</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00250">TIME_UNIT_HOUR</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00246">TIME_UNIT_MICROSECOND</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00247">TIME_UNIT_MILLISECOND</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00249">TIME_UNIT_MINUTE</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00253">TIME_UNIT_MONTH</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00245">TIME_UNIT_NANOSECOND</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00248">TIME_UNIT_SECOND</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00252">TIME_UNIT_WEEK</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00254">TIME_UNIT_YEAR</a>, and <a class="el" href="../../df/d73/time_8c_source.html#l00046">time_unit_labels::unit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d62/test__time_8c_source.html#l00166">AST_TEST_DEFINE()</a>, <a class="el" href="../../df/d73/time_8c_source.html#l00142">ast_time_create_by_unit_str()</a>, and <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l07553">drop_packets_data_update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <span class="keywordflow">switch</span> (unit) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143eaff7f6545c68f09a71d73df86d821f34f">TIME_UNIT_NANOSECOND</a>:</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#acc3ff73b4e2b41f2817c82611e4c3160">normalize_and_create</a>(<a class="code" href="../../d5/d85/structval.html">val</a> / 1000);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea41bff20b339e806220e3e62585d8c801">TIME_UNIT_MICROSECOND</a>:</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#acc3ff73b4e2b41f2817c82611e4c3160">normalize_and_create</a>(<a class="code" href="../../d5/d85/structval.html">val</a>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea97c2bfb80ba103aa46b452875bdf8ece">TIME_UNIT_MILLISECOND</a>:</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#acc3ff73b4e2b41f2817c82611e4c3160">normalize_and_create</a>(<a class="code" href="../../d5/d85/structval.html">val</a> * 1000);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea606c2f5aed97644a86d6c0d3a36f0861">TIME_UNIT_SECOND</a>:</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#a6a18077cd502b3a1fc024f9857144f87">ast_time_create</a>(<a class="code" href="../../d5/d85/structval.html">val</a>, 0);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea5ff71acf14bfe1d68597c4c13ecab4db">TIME_UNIT_MINUTE</a>:</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#a6a18077cd502b3a1fc024f9857144f87">ast_time_create</a>(<a class="code" href="../../d5/d85/structval.html">val</a> * 60, 0);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea9a382cfe402f7f6f09b68eff3e1a1337">TIME_UNIT_HOUR</a>:</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#a6a18077cd502b3a1fc024f9857144f87">ast_time_create</a>(<a class="code" href="../../d5/d85/structval.html">val</a> * 3600, 0);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143eadb3056b9d0a7fa9ffbb00774fa6aeba8">TIME_UNIT_DAY</a>:</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#a6a18077cd502b3a1fc024f9857144f87">ast_time_create</a>(<a class="code" href="../../d5/d85/structval.html">val</a> * 86400, 0);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea42add22167e177c9d09c800b669b13b5">TIME_UNIT_WEEK</a>:</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#a6a18077cd502b3a1fc024f9857144f87">ast_time_create</a>(<a class="code" href="../../d5/d85/structval.html">val</a> * 604800, 0);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea1799bd12ce0fb99802d73c6613d077b2">TIME_UNIT_MONTH</a>:</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="comment">/* Using Gregorian mean month - 30.436875 * 86400 */</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#a6a18077cd502b3a1fc024f9857144f87">ast_time_create</a>(<a class="code" href="../../d5/d85/structval.html">val</a> * 2629746, 0);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea94f555c31d4372e8499ec5435872f42f">TIME_UNIT_YEAR</a>:</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="comment">/* Using Gregorian year - 365.2425 * 86400 */</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#a6a18077cd502b3a1fc024f9857144f87">ast_time_create</a>(<a class="code" href="../../d5/d85/structval.html">val</a> * 31556952, 0);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#a6a18077cd502b3a1fc024f9857144f87">ast_time_create</a>(0, 0);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div><div class="ttc" id="time_8h_html_a5da573f3c060cef19a23b3604b18143eadb3056b9d0a7fa9ffbb00774fa6aeba8"><div class="ttname"><a href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143eadb3056b9d0a7fa9ffbb00774fa6aeba8">TIME_UNIT_DAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00251">time.h:251</a></div></div>
<div class="ttc" id="time_8h_html_a5da573f3c060cef19a23b3604b18143ea41bff20b339e806220e3e62585d8c801"><div class="ttname"><a href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea41bff20b339e806220e3e62585d8c801">TIME_UNIT_MICROSECOND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00246">time.h:246</a></div></div>
<div class="ttc" id="time_8h_html_a5da573f3c060cef19a23b3604b18143ea606c2f5aed97644a86d6c0d3a36f0861"><div class="ttname"><a href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea606c2f5aed97644a86d6c0d3a36f0861">TIME_UNIT_SECOND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00248">time.h:248</a></div></div>
<div class="ttc" id="structval_html"><div class="ttname"><a href="../../d5/d85/structval.html">val</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd1/ast__expr2_8c_source.html#l00325">ast_expr2.c:325</a></div></div>
<div class="ttc" id="time_8h_html_a5da573f3c060cef19a23b3604b18143ea5ff71acf14bfe1d68597c4c13ecab4db"><div class="ttname"><a href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea5ff71acf14bfe1d68597c4c13ecab4db">TIME_UNIT_MINUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00249">time.h:249</a></div></div>
<div class="ttc" id="time_8c_html_acc3ff73b4e2b41f2817c82611e4c3160"><div class="ttname"><a href="../../df/d73/time_8c.html#acc3ff73b4e2b41f2817c82611e4c3160">normalize_and_create</a></div><div class="ttdeci">static struct timeval normalize_and_create(unsigned long usec)</div><div class="ttdoc">Create a timeval first onverting the given microsecond value into seconds and microseconds. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d73/time_8c_source.html#l00107">time.c:107</a></div></div>
<div class="ttc" id="time_8h_html_a5da573f3c060cef19a23b3604b18143eaff7f6545c68f09a71d73df86d821f34f"><div class="ttname"><a href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143eaff7f6545c68f09a71d73df86d821f34f">TIME_UNIT_NANOSECOND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00245">time.h:245</a></div></div>
<div class="ttc" id="time_8h_html_a5da573f3c060cef19a23b3604b18143ea94f555c31d4372e8499ec5435872f42f"><div class="ttname"><a href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea94f555c31d4372e8499ec5435872f42f">TIME_UNIT_YEAR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00254">time.h:254</a></div></div>
<div class="ttc" id="time_8h_html_a5da573f3c060cef19a23b3604b18143ea1799bd12ce0fb99802d73c6613d077b2"><div class="ttname"><a href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea1799bd12ce0fb99802d73c6613d077b2">TIME_UNIT_MONTH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00253">time.h:253</a></div></div>
<div class="ttc" id="time_8h_html_a5da573f3c060cef19a23b3604b18143ea97c2bfb80ba103aa46b452875bdf8ece"><div class="ttname"><a href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea97c2bfb80ba103aa46b452875bdf8ece">TIME_UNIT_MILLISECOND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00247">time.h:247</a></div></div>
<div class="ttc" id="time_8h_html_a5da573f3c060cef19a23b3604b18143ea9a382cfe402f7f6f09b68eff3e1a1337"><div class="ttname"><a href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea9a382cfe402f7f6f09b68eff3e1a1337">TIME_UNIT_HOUR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00250">time.h:250</a></div></div>
<div class="ttc" id="time_8h_html_a5da573f3c060cef19a23b3604b18143ea42add22167e177c9d09c800b669b13b5"><div class="ttname"><a href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea42add22167e177c9d09c800b669b13b5">TIME_UNIT_WEEK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00252">time.h:252</a></div></div>
<div class="ttc" id="time_8c_html_a6a18077cd502b3a1fc024f9857144f87"><div class="ttname"><a href="../../df/d73/time_8c.html#a6a18077cd502b3a1fc024f9857144f87">ast_time_create</a></div><div class="ttdeci">struct timeval ast_time_create(ast_time_t sec, ast_suseconds_t usec)</div><div class="ttdoc">Create a timeval object initialized to given values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d73/time_8c_source.html#l00094">time.c:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa01f844ab005e8a05c75db9be176ecb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa01f844ab005e8a05c75db9be176ecb2">&#9670;&nbsp;</a></span>ast_time_create_by_unit_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct timeval ast_time_create_by_unit_str </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>unit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the given unit value, and create a timeval object from it. </p>
<p>This will first attempt to convert the unit from a string to a TIME_UNIT enumeration. If that conversion fails then a zeroed out timeval object is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The value to convert to a timeval </td></tr>
    <tr><td class="paramname">unit</td><td>The time unit type of val</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A timeval object </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00142">142</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d73/time_8c_source.html#l00112">ast_time_create_by_unit()</a>, <a class="el" href="../../df/d73/time_8c_source.html#l00065">ast_time_str_to_unit()</a>, and <a class="el" href="../../df/d73/time_8c_source.html#l00046">time_unit_labels::unit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d62/test__time_8c_source.html#l00206">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l09213">handle_cli_rtp_drop_incoming_packets()</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#a7252ab607fc6663ec18b44175e4d80e2">ast_time_create_by_unit</a>(<a class="code" href="../../d5/d85/structval.html">val</a>, <a class="code" href="../../df/d73/time_8c.html#a050ee3c69d962999f9a3528e012a8c6c">ast_time_str_to_unit</a>(unit));</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div><div class="ttc" id="structval_html"><div class="ttname"><a href="../../d5/d85/structval.html">val</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd1/ast__expr2_8c_source.html#l00325">ast_expr2.c:325</a></div></div>
<div class="ttc" id="time_8c_html_a7252ab607fc6663ec18b44175e4d80e2"><div class="ttname"><a href="../../df/d73/time_8c.html#a7252ab607fc6663ec18b44175e4d80e2">ast_time_create_by_unit</a></div><div class="ttdeci">struct timeval ast_time_create_by_unit(unsigned long val, enum TIME_UNIT unit)</div><div class="ttdoc">Convert the given unit value, and create a timeval object from it. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d73/time_8c_source.html#l00112">time.c:112</a></div></div>
<div class="ttc" id="time_8c_html_a050ee3c69d962999f9a3528e012a8c6c"><div class="ttname"><a href="../../df/d73/time_8c.html#a050ee3c69d962999f9a3528e012a8c6c">ast_time_str_to_unit</a></div><div class="ttdeci">enum TIME_UNIT ast_time_str_to_unit(const char *unit)</div><div class="ttdoc">Convert a string to a time unit enumeration value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d73/time_8c_source.html#l00065">time.c:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a050ee3c69d962999f9a3528e012a8c6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a050ee3c69d962999f9a3528e012a8c6c">&#9670;&nbsp;</a></span>ast_time_str_to_unit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143e">TIME_UNIT</a> ast_time_str_to_unit </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>unit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a string to a time unit enumeration value. </p>
<p>This method attempts to be as flexible, and forgiving as possible when converting. In most cases the algorithm will match on the beginning of up to three strings (short, medium, long form). So that means if the given string at least starts with one of the form values it will match.</p>
<p>For example: us, usec, microsecond will all map to TIME_UNIT_MICROSECOND. So will uss, usecs, miscroseconds, or even microsecondvals</p>
<p>Matching is also not case sensitive.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unit</td><td>The string to map to an enumeration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A time unit enumeration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00065">65</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d73/time_8c_source.html#l00043">MAX_UNIT_LABELS</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00244">TIME_UNIT_ERROR</a>, <a class="el" href="../../df/d73/time_8c_source.html#l00046">time_unit_labels::unit</a>, and <a class="el" href="../../df/d73/time_8c_source.html#l00063">unit_labels_size</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d62/test__time_8c_source.html#l00114">AST_TEST_DEFINE()</a>, and <a class="el" href="../../df/d73/time_8c_source.html#l00142">ast_time_create_by_unit_str()</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   <span class="keywordtype">size_t</span> i, j;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   <span class="keywordflow">if</span> (!unit) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea61255fe986c458b8f65aa843429586ae">TIME_UNIT_ERROR</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../df/d73/time_8c.html#ad44f2dac44df1456f5c8bce851289824">unit_labels_size</a>; ++i) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="../../df/d73/time_8c.html#a5cbb36cd5d3a25a57c26f166db44a79f">MAX_UNIT_LABELS</a>; ++j) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">          * A lazy pluralization check. If the given unit string at least starts</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">          * with a label assume a match.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;         <span class="keywordflow">if</span> (*<a class="code" href="../../df/d73/time_8c.html#a2880993a907b06b1651e1804a805bb9f">unit_labels</a>[i].<a class="code" href="../../d2/d2b/structvalues.html">values</a>[j] &amp;&amp; !strncasecmp(unit, <a class="code" href="../../df/d73/time_8c.html#a2880993a907b06b1651e1804a805bb9f">unit_labels</a>[i].<a class="code" href="../../d2/d2b/structvalues.html">values</a>[j],</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;               strlen(<a class="code" href="../../df/d73/time_8c.html#a2880993a907b06b1651e1804a805bb9f">unit_labels</a>[i].<a class="code" href="../../d2/d2b/structvalues.html">values</a>[j]))) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#a2880993a907b06b1651e1804a805bb9f">unit_labels</a>[i].<a class="code" href="../../da/d93/structtime__unit__labels.html#accb8d4e887574c1ff6eabd5cf1a9c2d9">unit</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;         }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea61255fe986c458b8f65aa843429586ae">TIME_UNIT_ERROR</a>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div><div class="ttc" id="structtime__unit__labels_html_accb8d4e887574c1ff6eabd5cf1a9c2d9"><div class="ttname"><a href="../../da/d93/structtime__unit__labels.html#accb8d4e887574c1ff6eabd5cf1a9c2d9">time_unit_labels::unit</a></div><div class="ttdeci">enum TIME_UNIT unit</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d73/time_8c_source.html#l00046">time.c:46</a></div></div>
<div class="ttc" id="time_8c_html_a5cbb36cd5d3a25a57c26f166db44a79f"><div class="ttname"><a href="../../df/d73/time_8c.html#a5cbb36cd5d3a25a57c26f166db44a79f">MAX_UNIT_LABELS</a></div><div class="ttdeci">#define MAX_UNIT_LABELS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d73/time_8c_source.html#l00043">time.c:43</a></div></div>
<div class="ttc" id="time_8h_html_a5da573f3c060cef19a23b3604b18143ea61255fe986c458b8f65aa843429586ae"><div class="ttname"><a href="../../de/df7/time_8h.html#a5da573f3c060cef19a23b3604b18143ea61255fe986c458b8f65aa843429586ae">TIME_UNIT_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00244">time.h:244</a></div></div>
<div class="ttc" id="time_8c_html_ad44f2dac44df1456f5c8bce851289824"><div class="ttname"><a href="../../df/d73/time_8c.html#ad44f2dac44df1456f5c8bce851289824">unit_labels_size</a></div><div class="ttdeci">const unsigned int unit_labels_size</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d73/time_8c_source.html#l00063">time.c:63</a></div></div>
<div class="ttc" id="structvalues_html"><div class="ttname"><a href="../../d2/d2b/structvalues.html">values</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00066">cdr_sqlite3_custom.c:66</a></div></div>
<div class="ttc" id="time_8c_html_a2880993a907b06b1651e1804a805bb9f"><div class="ttname"><a href="../../df/d73/time_8c.html#a2880993a907b06b1651e1804a805bb9f">unit_labels</a></div><div class="ttdeci">static struct time_unit_labels unit_labels[]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d73/time_8c_source.html#l00050">time.c:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab2f94e5f2c9020d961198b2b875b2429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2f94e5f2c9020d961198b2b875b2429">&#9670;&nbsp;</a></span>ast_time_tv_to_usec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ast_suseconds_t ast_time_tv_to_usec </td>
          <td>(</td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a timeval structure to microseconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tv</td><td>The timeval to convert</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The time in microseconds </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00089">89</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d62/test__time_8c_source.html#l00246">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l07553">drop_packets_data_update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   <span class="keywordflow">return</span> tv-&gt;tv_sec * 1000000 + tv-&gt;tv_usec;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="acc3ff73b4e2b41f2817c82611e4c3160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc3ff73b4e2b41f2817c82611e4c3160">&#9670;&nbsp;</a></span>normalize_and_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct timeval normalize_and_create </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>usec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a timeval first onverting the given microsecond value into seconds and microseconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">usec</td><td>microsecond value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A timeval structure </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00107">107</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d73/time_8c_source.html#l00094">ast_time_create()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d73/time_8c_source.html#l00112">ast_time_create_by_unit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/d73/time_8c.html#a6a18077cd502b3a1fc024f9857144f87">ast_time_create</a>(usec / 1000000, usec % 1000000);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div><div class="ttc" id="time_8c_html_a6a18077cd502b3a1fc024f9857144f87"><div class="ttname"><a href="../../df/d73/time_8c.html#a6a18077cd502b3a1fc024f9857144f87">ast_time_create</a></div><div class="ttdeci">struct timeval ast_time_create(ast_time_t sec, ast_suseconds_t usec)</div><div class="ttdoc">Create a timeval object initialized to given values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d73/time_8c_source.html#l00094">time.c:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a63db90150d7357092912cf14a45c15d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63db90150d7357092912cf14a45c15d0">&#9670;&nbsp;</a></span>day_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* day_labels[] = {&quot;d&quot;, &quot;&quot;, &quot;day&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00038">38</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="a7a8fbf9f71057c13fb07b8a06fbad097"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a8fbf9f71057c13fb07b8a06fbad097">&#9670;&nbsp;</a></span>hour_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* hour_labels[] = {&quot;h&quot;, &quot;hr&quot;, &quot;hour&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00037">37</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="af676ee0a0ab9b7d3040fa6a62145dfaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af676ee0a0ab9b7d3040fa6a62145dfaf">&#9670;&nbsp;</a></span>microsecond_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* microsecond_labels[] = {&quot;us&quot;, &quot;usec&quot;, &quot;microsecond&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00033">33</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="aa5225cce2f6dd4d399c600e15ebf4011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5225cce2f6dd4d399c600e15ebf4011">&#9670;&nbsp;</a></span>millisecond_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* millisecond_labels[] = {&quot;ms&quot;, &quot;msec&quot;, &quot;millisecond&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00034">34</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="a8629eee829bb2b483bdc428fc4d34f3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8629eee829bb2b483bdc428fc4d34f3b">&#9670;&nbsp;</a></span>minute_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* minute_labels[] = {&quot;m&quot;, &quot;<a class="el" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>&quot;, &quot;minute&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00036">36</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="ad8751ed35c1c638883ae3745ab2fd4e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8751ed35c1c638883ae3745ab2fd4e0">&#9670;&nbsp;</a></span>month_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* month_labels[] = {&quot;mo&quot;, &quot;mth&quot;, &quot;month&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00040">40</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="a8fabf3327033d96d4c52cc703ce2271e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fabf3327033d96d4c52cc703ce2271e">&#9670;&nbsp;</a></span>nanosecond_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* nanosecond_labels[] = {&quot;ns&quot;, &quot;nsec&quot;, &quot;nanosecond&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00032">32</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="a542cf7806eb40989ca6ff5ac1518b667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a542cf7806eb40989ca6ff5ac1518b667">&#9670;&nbsp;</a></span>second_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* second_labels[] = {&quot;s&quot;, &quot;sec&quot;, &quot;second&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00035">35</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="a2880993a907b06b1651e1804a805bb9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2880993a907b06b1651e1804a805bb9f">&#9670;&nbsp;</a></span>unit_labels</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/d93/structtime__unit__labels.html">time_unit_labels</a> unit_labels[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00050">50</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="ad44f2dac44df1456f5c8bce851289824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad44f2dac44df1456f5c8bce851289824">&#9670;&nbsp;</a></span>unit_labels_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int unit_labels_size = sizeof(<a class="el" href="../../df/d73/time_8c.html#a2880993a907b06b1651e1804a805bb9f">unit_labels</a>) / sizeof(0[<a class="el" href="../../df/d73/time_8c.html#a2880993a907b06b1651e1804a805bb9f">unit_labels</a>])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00063">63</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d73/time_8c_source.html#l00065">ast_time_str_to_unit()</a>.</p>

</div>
</div>
<a id="ac4e8fb8c6a2f50dc7b804a7195eef6dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4e8fb8c6a2f50dc7b804a7195eef6dd">&#9670;&nbsp;</a></span>week_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* week_labels[] = {&quot;w&quot;, &quot;wk&quot;, &quot;week&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00039">39</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="aba62437311622669060b35cb5fa63c8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba62437311622669060b35cb5fa63c8b">&#9670;&nbsp;</a></span>year_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* year_labels[] = {&quot;y&quot;, &quot;yr&quot;, &quot;year&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d73/time_8c_source.html#l00041">41</a> of file <a class="el" href="../../df/d73/time_8c_source.html">time.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:47:00 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
