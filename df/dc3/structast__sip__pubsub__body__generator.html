<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: ast_sip_pubsub_body_generator Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">ast_sip_pubsub_body_generator Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Pubsub body generator.  
 <a href="../../df/dc3/structast__sip__pubsub__body__generator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html">res_pjsip_pubsub.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ast_sip_pubsub_body_generator:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d07/structast__sip__pubsub__body__generator__coll__graph.png" border="0" usemap="#ast__sip__pubsub__body__generator_coll__map" alt="Collaboration graph"/></div>
<map name="ast__sip__pubsub__body__generator_coll__map" id="ast__sip__pubsub__body__generator_coll__map">
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a385739136e77ae600f5bf6f00bcfebb9"><td class="memItemLeft" align="right" valign="top">void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc3/structast__sip__pubsub__body__generator.html#a385739136e77ae600f5bf6f00bcfebb9">allocate_body</a> )(void *data)</td></tr>
<tr class="memdesc:a385739136e77ae600f5bf6f00bcfebb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">allocate body structure.  <a href="#a385739136e77ae600f5bf6f00bcfebb9">More...</a><br /></td></tr>
<tr class="separator:a385739136e77ae600f5bf6f00bcfebb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35514bc6335d541353cf54c7146e8ce5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc3/structast__sip__pubsub__body__generator.html#a35514bc6335d541353cf54c7146e8ce5">body_type</a></td></tr>
<tr class="separator:a35514bc6335d541353cf54c7146e8ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b12361a3bb7b12cc7729927503209cb"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc3/structast__sip__pubsub__body__generator.html#a3b12361a3bb7b12cc7729927503209cb">destroy_body</a> )(void *body)</td></tr>
<tr class="memdesc:a3b12361a3bb7b12cc7729927503209cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocate resources created for the body.  <a href="#a3b12361a3bb7b12cc7729927503209cb">More...</a><br /></td></tr>
<tr class="separator:a3b12361a3bb7b12cc7729927503209cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9df1ad90af9f1ce1a581f295ef305a5"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc3/structast__sip__pubsub__body__generator.html#ae9df1ad90af9f1ce1a581f295ef305a5">generate_body_content</a> )(void *body, void *data)</td></tr>
<tr class="memdesc:ae9df1ad90af9f1ce1a581f295ef305a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add content to the body of a SIP request.  <a href="#ae9df1ad90af9f1ce1a581f295ef305a5">More...</a><br /></td></tr>
<tr class="separator:ae9df1ad90af9f1ce1a581f295ef305a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af820db3728fdeafb6d1c8ff284ea6cc5"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:a6ee50771ea71fae45af837b709132cd3"><td class="memItemLeft" >&#160;&#160;&#160;struct <a class="el" href="../../df/dc3/structast__sip__pubsub__body__generator.html">ast_sip_pubsub_body_generator</a> *&#160;&#160;&#160;<a class="el" href="../../df/dc3/structast__sip__pubsub__body__generator.html#a6ee50771ea71fae45af837b709132cd3">next</a></td></tr>
<tr class="separator:a6ee50771ea71fae45af837b709132cd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af820db3728fdeafb6d1c8ff284ea6cc5"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc3/structast__sip__pubsub__body__generator.html#af820db3728fdeafb6d1c8ff284ea6cc5">list</a></td></tr>
<tr class="separator:af820db3728fdeafb6d1c8ff284ea6cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb4ae60bbcbce3616fdd7d4238869c91"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc3/structast__sip__pubsub__body__generator.html#abb4ae60bbcbce3616fdd7d4238869c91">subtype</a></td></tr>
<tr class="memdesc:abb4ae60bbcbce3616fdd7d4238869c91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Content subtype In "plain/text", "text" is the subtype.  <a href="#abb4ae60bbcbce3616fdd7d4238869c91">More...</a><br /></td></tr>
<tr class="separator:abb4ae60bbcbce3616fdd7d4238869c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01fdd40c6cfdff735455dee9436346d6"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc3/structast__sip__pubsub__body__generator.html#a01fdd40c6cfdff735455dee9436346d6">to_string</a> )(void *body, struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)</td></tr>
<tr class="memdesc:a01fdd40c6cfdff735455dee9436346d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the body to a string.  <a href="#a01fdd40c6cfdff735455dee9436346d6">More...</a><br /></td></tr>
<tr class="separator:a01fdd40c6cfdff735455dee9436346d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a763fd8db6bba8fbbbc113ca0d61c47c2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc3/structast__sip__pubsub__body__generator.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a></td></tr>
<tr class="memdesc:a763fd8db6bba8fbbbc113ca0d61c47c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Content type In "plain/text", "plain" is the type.  <a href="#a763fd8db6bba8fbbbc113ca0d61c47c2">More...</a><br /></td></tr>
<tr class="separator:a763fd8db6bba8fbbbc113ca0d61c47c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Pubsub body generator. </p>
<p>A body generator is responsible for taking Asterisk content and converting it into a body format to be placed in an outbound SIP NOTIFY or PUBLISH request. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html#l00591">591</a> of file <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html">res_pjsip_pubsub.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a385739136e77ae600f5bf6f00bcfebb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a385739136e77ae600f5bf6f00bcfebb9">&#9670;&nbsp;</a></span>allocate_body</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void*(* allocate_body) (void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allocate body structure. </p>
<p>Body generators will have this method called when a NOTIFY or PUBLISH body needs to be created. The type returned depends on the type of content being produced for the body. The data parameter is provided by the subscription handler and will vary between different event types.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The subscription data provided by the event handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>The allocated body </td></tr>
    <tr><td class="paramname">NULL</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html#l00617">617</a> of file <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html">res_pjsip_pubsub.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03519">ast_sip_pubsub_generate_body_content()</a>.</p>

</div>
</div>
<a id="a35514bc6335d541353cf54c7146e8ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35514bc6335d541353cf54c7146e8ce5">&#9670;&nbsp;</a></span>body_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* body_type</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type of data the body generator takes as input </p>

<p class="definition">Definition at line <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html#l00603">603</a> of file <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html">res_pjsip_pubsub.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03519">ast_sip_pubsub_generate_body_content()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02862">find_body_generator()</a>, and <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00745">subscription_persistence_remove()</a>.</p>

</div>
</div>
<a id="a3b12361a3bb7b12cc7729927503209cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b12361a3bb7b12cc7729927503209cb">&#9670;&nbsp;</a></span>destroy_body</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* destroy_body) (void *body)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocate resources created for the body. </p>
<p>Optional callback to destroy resources allocated for the message body.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>Body to be destroyed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html#l00645">645</a> of file <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html">res_pjsip_pubsub.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03519">ast_sip_pubsub_generate_body_content()</a>.</p>

</div>
</div>
<a id="ae9df1ad90af9f1ce1a581f295ef305a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9df1ad90af9f1ce1a581f295ef305a5">&#9670;&nbsp;</a></span>generate_body_content</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* generate_body_content) (void *body, void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add content to the body of a SIP request. </p>
<p>The body of the request has already been allocated by the body generator's allocate_body callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The body of the SIP request. The type is determined by the content type. </td></tr>
    <tr><td class="paramname">data</td><td>The subscription data used to populate the body. The type is determined by the content type. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html#l00629">629</a> of file <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html">res_pjsip_pubsub.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03519">ast_sip_pubsub_generate_body_content()</a>.</p>

</div>
</div>
<a id="af820db3728fdeafb6d1c8ff284ea6cc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af820db3728fdeafb6d1c8ff284ea6cc5">&#9670;&nbsp;</a></span>list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   list</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03519">ast_sip_pubsub_generate_body_content()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03440">ast_sip_pubsub_register_body_generator()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03485">ast_sip_pubsub_register_body_supplement()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03470">ast_sip_pubsub_unregister_body_generator()</a>, and <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02825">find_body_generator_type_subtype_nolock()</a>.</p>

</div>
</div>
<a id="a6ee50771ea71fae45af837b709132cd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee50771ea71fae45af837b709132cd3">&#9670;&nbsp;</a></span>next</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../df/dc3/structast__sip__pubsub__body__generator.html">ast_sip_pubsub_body_generator</a>* next</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html#l00646">646</a> of file <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html">res_pjsip_pubsub.h</a>.</p>

</div>
</div>
<a id="abb4ae60bbcbce3616fdd7d4238869c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb4ae60bbcbce3616fdd7d4238869c91">&#9670;&nbsp;</a></span>subtype</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* subtype</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Content subtype In "plain/text", "text" is the subtype. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html#l00601">601</a> of file <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html">res_pjsip_pubsub.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03519">ast_sip_pubsub_generate_body_content()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03440">ast_sip_pubsub_register_body_generator()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03514">ast_sip_subscription_get_body_subtype()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02862">find_body_generator()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02849">find_body_generator_accept()</a>, and <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02825">find_body_generator_type_subtype_nolock()</a>.</p>

</div>
</div>
<a id="a01fdd40c6cfdff735455dee9436346d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01fdd40c6cfdff735455dee9436346d6">&#9670;&nbsp;</a></span>to_string</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* to_string) (void *body, struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the body to a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The request body. </td></tr>
    <tr><td class="paramname">str</td><td>The converted string form of the request body </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html#l00636">636</a> of file <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html">res_pjsip_pubsub.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03519">ast_sip_pubsub_generate_body_content()</a>.</p>

</div>
</div>
<a id="a763fd8db6bba8fbbbc113ca0d61c47c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a763fd8db6bba8fbbbc113ca0d61c47c2">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Content type In "plain/text", "plain" is the type. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html#l00596">596</a> of file <a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html">res_pjsip_pubsub.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03519">ast_sip_pubsub_generate_body_content()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03440">ast_sip_pubsub_register_body_generator()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03509">ast_sip_subscription_get_body_type()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02862">find_body_generator()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02825">find_body_generator_type_subtype_nolock()</a>, and <a class="el" href="../../dc/ded/swagger__model_8py_source.html#l00477">Property::load()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="../../dc/db0/res__pjsip__pubsub_8h_source.html">res_pjsip_pubsub.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:47:22 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
