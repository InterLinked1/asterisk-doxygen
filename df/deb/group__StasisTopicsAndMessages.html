<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: Stasis topics, and their messages.</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Stasis topics, and their messages.</div>  </div>
</div><!--header-->
<div class="contents">

<p>This group contains the topics, messages and corresponding message types found within Asterisk.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/df0/structast__channel__blob.html">ast_channel_blob</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blob of data associated with a channel.  <a href="../../db/df0/structast__channel__blob.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing a snapshot of channel state.  <a href="../../dd/dbe/structast__channel__snapshot.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d29/structast__channel__snapshot__base.html">ast_channel_snapshot_base</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing base information for a channel snapshot.  <a href="../../d6/d29/structast__channel__snapshot__base.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d20/structast__channel__snapshot__bridge.html">ast_channel_snapshot_bridge</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing bridge information for a channel snapshot.  <a href="../../da/d20/structast__channel__snapshot__bridge.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/structast__channel__snapshot__caller.html">ast_channel_snapshot_caller</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing caller information for a channel snapshot.  <a href="../../d6/d08/structast__channel__snapshot__caller.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d52/structast__channel__snapshot__connected.html">ast_channel_snapshot_connected</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing connected information for a channel snapshot.  <a href="../../d4/d52/structast__channel__snapshot__connected.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3d/structast__channel__snapshot__dialplan.html">ast_channel_snapshot_dialplan</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing dialplan information for a channel snapshot.  <a href="../../dc/d3d/structast__channel__snapshot__dialplan.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d7a/structast__channel__snapshot__hangup.html">ast_channel_snapshot_hangup</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing hangup information for a channel snapshot.  <a href="../../d4/d7a/structast__channel__snapshot__hangup.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d88/structast__channel__snapshot__peer.html">ast_channel_snapshot_peer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing peer information for a channel snapshot.  <a href="../../d5/d88/structast__channel__snapshot__peer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d33/structast__channel__snapshot__update.html">ast_channel_snapshot_update</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing a change of snapshot of channel state.  <a href="../../da/d33/structast__channel__snapshot__update.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7d/structast__endpoint__blob.html">ast_endpoint_blob</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blob of data associated with an endpoint.  <a href="../../d0/d7d/structast__endpoint__blob.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A snapshot of an endpoint's state.  <a href="../../da/dd1/structast__endpoint__snapshot.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dce/structast__mwi__blob.html">ast_mwi_blob</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object that represents an MWI update with some additional application defined data.  <a href="../../dd/dce/structast__mwi__blob.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d45/structast__mwi__state.html">ast_mwi_state</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The structure that contains MWI state.  <a href="../../d6/d45/structast__mwi__state.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dfa/structstasis__cache__update.html">stasis_cache_update</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache update message.  <a href="../../de/dfa/structstasis__cache__update.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d43/structstasis__subscription__change.html">stasis_subscription_change</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds details about changes to subscriptions for the specified topic.  <a href="../../d5/d43/structstasis__subscription__change.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga0280c402086b9e30df2cfc73494213ac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga0280c402086b9e30df2cfc73494213ac">AST_DEBUG_CATEGORY_DTLS</a>&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gadd41839a7dede33bd5dc1e9a3b41e173">ast_debug_category_dtls_id</a>() /* DTLS <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td></tr>
<tr class="separator:ga0280c402086b9e30df2cfc73494213ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10519e99b222cdb0a209413576e339c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga10519e99b222cdb0a209413576e339c1">AST_DEBUG_CATEGORY_DTLS_PACKET</a>&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8de49f8c81c23a3973b4bbfc5f9da89b">ast_debug_category_dtls_packet_id</a>() /* DTLS packet <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td></tr>
<tr class="separator:ga10519e99b222cdb0a209413576e339c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga848f8deb4762ac97ef5f385b35f1c331"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga848f8deb4762ac97ef5f385b35f1c331">AST_DEBUG_CATEGORY_ICE</a>&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga2def1587d11cae8f25a132531073fe03">ast_debug_category_ice_id</a>() /* ICE <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td></tr>
<tr class="separator:ga848f8deb4762ac97ef5f385b35f1c331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d984785a39ec8bb7eb07b82710f71ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga3d984785a39ec8bb7eb07b82710f71ca">AST_DEBUG_CATEGORY_RTCP</a>&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gac297e0868722424bbf63a22e4179d0e4">ast_debug_category_rtcp_id</a>() /* RTCP <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td></tr>
<tr class="separator:ga3d984785a39ec8bb7eb07b82710f71ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8645a3192b64ca250aae744122a3becf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8645a3192b64ca250aae744122a3becf">AST_DEBUG_CATEGORY_RTCP_PACKET</a>&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga0185509f8e6d3142af9bda551ed4448f">ast_debug_category_rtcp_packet_id</a>() /* RTCP packet <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td></tr>
<tr class="separator:ga8645a3192b64ca250aae744122a3becf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b9f207ccdf3fc8962a40f9691aba606"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8b9f207ccdf3fc8962a40f9691aba606">AST_DEBUG_CATEGORY_RTP</a>&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga42aa0e60fa1c82a53fd1156b14aef793">ast_debug_category_rtp_id</a>() /* <a class="el" href="../../d1/d94/sip_8h.html#ad5ec12ad08cacd2598d873052c72857a">RTP</a> <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td></tr>
<tr class="separator:ga8b9f207ccdf3fc8962a40f9691aba606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf211278fc411964d3153512ffb80298"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaaf211278fc411964d3153512ffb80298">AST_DEBUG_CATEGORY_RTP_PACKET</a>&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga122d01a77f8d60e32d53135e26cccd6a">ast_debug_category_rtp_packet_id</a>() /* <a class="el" href="../../d1/d94/sip_8h.html#ad5ec12ad08cacd2598d873052c72857a">RTP</a> packet <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td></tr>
<tr class="separator:gaaf211278fc411964d3153512ffb80298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9dbe7d005a64dc025289cb8f942bf8d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga9dbe7d005a64dc025289cb8f942bf8d0">ast_debug_dtls</a>(sublevel, ...)&#160;&#160;&#160;<a class="el" href="../../d5/d1f/logger__category_8h.html#ad5e6ac27cd91f510ebbff6d445c42c91">ast_debug_category</a>(sublevel, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga0280c402086b9e30df2cfc73494213ac">AST_DEBUG_CATEGORY_DTLS</a>, __VA_ARGS__)</td></tr>
<tr class="memdesc:ga9dbe7d005a64dc025289cb8f942bf8d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log debug level DTLS information.  <a href="#ga9dbe7d005a64dc025289cb8f942bf8d0">More...</a><br /></td></tr>
<tr class="separator:ga9dbe7d005a64dc025289cb8f942bf8d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4f40b55c340e73c89a641f4407fafd0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaa4f40b55c340e73c89a641f4407fafd0">ast_debug_dtls_packet_is_allowed</a>&#160;&#160;&#160;<a class="el" href="../../d0/d87/logger__category_8c.html#a8d0de4a201ff6ab7068a572aa7e8f75d">ast_debug_category_is_allowed</a>(<a class="el" href="../../d5/d1f/logger__category_8h.html#a1b441edad5de1831924e98abec3bbf57">AST_LOG_CATEGORY_ENABLED</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga10519e99b222cdb0a209413576e339c1">AST_DEBUG_CATEGORY_DTLS_PACKET</a>)</td></tr>
<tr class="separator:gaa4f40b55c340e73c89a641f4407fafd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad9e84526c8d48bd3e980e732dd1f7df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaad9e84526c8d48bd3e980e732dd1f7df">ast_debug_ice</a>(sublevel, ...)&#160;&#160;&#160;<a class="el" href="../../d5/d1f/logger__category_8h.html#ad5e6ac27cd91f510ebbff6d445c42c91">ast_debug_category</a>(sublevel, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga848f8deb4762ac97ef5f385b35f1c331">AST_DEBUG_CATEGORY_ICE</a>, __VA_ARGS__)</td></tr>
<tr class="memdesc:gaad9e84526c8d48bd3e980e732dd1f7df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log debug level ICE information.  <a href="#gaad9e84526c8d48bd3e980e732dd1f7df">More...</a><br /></td></tr>
<tr class="separator:gaad9e84526c8d48bd3e980e732dd1f7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0915be7e2d33217121465cfb689318fd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga0915be7e2d33217121465cfb689318fd">ast_debug_rtcp</a>(sublevel, ...)&#160;&#160;&#160;<a class="el" href="../../d5/d1f/logger__category_8h.html#ad5e6ac27cd91f510ebbff6d445c42c91">ast_debug_category</a>(sublevel, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga3d984785a39ec8bb7eb07b82710f71ca">AST_DEBUG_CATEGORY_RTCP</a>, __VA_ARGS__)</td></tr>
<tr class="memdesc:ga0915be7e2d33217121465cfb689318fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log debug level RTCP information.  <a href="#ga0915be7e2d33217121465cfb689318fd">More...</a><br /></td></tr>
<tr class="separator:ga0915be7e2d33217121465cfb689318fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05b6db9484a21807cf4bcdbbf9539eb7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga05b6db9484a21807cf4bcdbbf9539eb7">ast_debug_rtcp_packet_is_allowed</a>&#160;&#160;&#160;<a class="el" href="../../d0/d87/logger__category_8c.html#a8d0de4a201ff6ab7068a572aa7e8f75d">ast_debug_category_is_allowed</a>(<a class="el" href="../../d5/d1f/logger__category_8h.html#a1b441edad5de1831924e98abec3bbf57">AST_LOG_CATEGORY_ENABLED</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8645a3192b64ca250aae744122a3becf">AST_DEBUG_CATEGORY_RTCP_PACKET</a>)</td></tr>
<tr class="separator:ga05b6db9484a21807cf4bcdbbf9539eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga669fb90e123085584d65608ef87b2fe4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga669fb90e123085584d65608ef87b2fe4">ast_debug_rtp</a>(sublevel, ...)&#160;&#160;&#160;<a class="el" href="../../d5/d1f/logger__category_8h.html#ad5e6ac27cd91f510ebbff6d445c42c91">ast_debug_category</a>(sublevel, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8b9f207ccdf3fc8962a40f9691aba606">AST_DEBUG_CATEGORY_RTP</a>,  __VA_ARGS__)</td></tr>
<tr class="memdesc:ga669fb90e123085584d65608ef87b2fe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log debug level RTP information.  <a href="#ga669fb90e123085584d65608ef87b2fe4">More...</a><br /></td></tr>
<tr class="separator:ga669fb90e123085584d65608ef87b2fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5009aeec1269fecc5f4e04c1c479116d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5009aeec1269fecc5f4e04c1c479116d">ast_debug_rtp_packet_is_allowed</a>&#160;&#160;&#160;<a class="el" href="../../d0/d87/logger__category_8c.html#a8d0de4a201ff6ab7068a572aa7e8f75d">ast_debug_category_is_allowed</a>(<a class="el" href="../../d5/d1f/logger__category_8h.html#a1b441edad5de1831924e98abec3bbf57">AST_LOG_CATEGORY_ENABLED</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaaf211278fc411964d3153512ffb80298">AST_DEBUG_CATEGORY_RTP_PACKET</a>)</td></tr>
<tr class="separator:ga5009aeec1269fecc5f4e04c1c479116d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5be660321553c9f0d14c9d9307efcc84"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5be660321553c9f0d14c9d9307efcc84">AST_LOG_CATEGORY_DTLS</a>&#160;&#160;&#160;&quot;dtls&quot;</td></tr>
<tr class="separator:ga5be660321553c9f0d14c9d9307efcc84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5e7c95bc24a751d7c2c64b43a0d9f87"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gad5e7c95bc24a751d7c2c64b43a0d9f87">AST_LOG_CATEGORY_DTLS_PACKET</a>&#160;&#160;&#160;&quot;dtls_packet&quot;</td></tr>
<tr class="separator:gad5e7c95bc24a751d7c2c64b43a0d9f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga354a7a05dfbbf7392f398f516cd12cd7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga354a7a05dfbbf7392f398f516cd12cd7">AST_LOG_CATEGORY_ICE</a>&#160;&#160;&#160;&quot;ice&quot;</td></tr>
<tr class="separator:ga354a7a05dfbbf7392f398f516cd12cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61285a9e7352a27c4ff117b79cb369ee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga61285a9e7352a27c4ff117b79cb369ee">AST_LOG_CATEGORY_RTCP</a>&#160;&#160;&#160;&quot;rtcp&quot;</td></tr>
<tr class="separator:ga61285a9e7352a27c4ff117b79cb369ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga501ac56386fce3535f67353537a508e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga501ac56386fce3535f67353537a508e7">AST_LOG_CATEGORY_RTCP_PACKET</a>&#160;&#160;&#160;&quot;rtcp_packet&quot;</td></tr>
<tr class="separator:ga501ac56386fce3535f67353537a508e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fadd9ceea8dd8eed05d9d9a544ff007"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7fadd9ceea8dd8eed05d9d9a544ff007">AST_LOG_CATEGORY_RTP</a>&#160;&#160;&#160;&quot;rtp&quot;</td></tr>
<tr class="separator:ga7fadd9ceea8dd8eed05d9d9a544ff007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5ecf12e596867bc22d8df75d2568d96"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaa5ecf12e596867bc22d8df75d2568d96">AST_LOG_CATEGORY_RTP_PACKET</a>&#160;&#160;&#160;&quot;rtp_packet&quot;</td></tr>
<tr class="separator:gaa5ecf12e596867bc22d8df75d2568d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad739ea26c060ff7a2195107b53f9715c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gad739ea26c060ff7a2195107b53f9715c">AST_MAX_MAILBOX_UNIQUEID</a>&#160;&#160;&#160;(<a class="el" href="../../d4/dc5/extconf_8c.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a> + <a class="el" href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a> + 2)</td></tr>
<tr class="separator:gad739ea26c060ff7a2195107b53f9715c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6616af7b6415ff5186c87a0236df462"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gad6616af7b6415ff5186c87a0236df462">STASIS_UMOS_MAX</a>&#160;&#160;&#160;(<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da1f02519f8ea66bad627d5797b0c6b0ce">STASIS_UMOS_ENDPOINT</a> + 1)</td></tr>
<tr class="memdesc:gad6616af7b6415ff5186c87a0236df462"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of snapshot types.  <a href="#gad6616af7b6415ff5186c87a0236df462">More...</a><br /></td></tr>
<tr class="separator:gad6616af7b6415ff5186c87a0236df462"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gae4d6df086e192d70f732e3ce8a5a2210"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gae4d6df086e192d70f732e3ce8a5a2210">ast_channel_snapshot_segment_invalidation</a> { <br />
&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a43850d4e8c313dc3b3a601ac24e5c78e">AST_CHANNEL_SNAPSHOT_INVALIDATE_BRIDGE</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210adba47db1c1d1d9943c11a03d3952e036">AST_CHANNEL_SNAPSHOT_INVALIDATE_DIALPLAN</a> = (1 &lt;&lt; 2), 
<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210ac744bafb6ef5c6a5369e15ef08810016">AST_CHANNEL_SNAPSHOT_INVALIDATE_CONNECTED</a> = (1 &lt;&lt; 3), 
<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a06fc3d57de686a0838563fb1cd0c25d8">AST_CHANNEL_SNAPSHOT_INVALIDATE_CALLER</a> = (1 &lt;&lt; 4), 
<br />
&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a1d4b689e7e54114166e8cd673cf10bc6">AST_CHANNEL_SNAPSHOT_INVALIDATE_HANGUP</a> = (1 &lt;&lt; 5), 
<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a06c65241df5d3643cd5123730331f9da">AST_CHANNEL_SNAPSHOT_INVALIDATE_PEER</a> = (1 &lt;&lt; 6), 
<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a6d702d1212aa14296c16506a65edff5f">AST_CHANNEL_SNAPSHOT_INVALIDATE_BASE</a> = (1 &lt;&lt; 7)
<br />
 }<tr class="memdesc:gae4d6df086e192d70f732e3ce8a5a2210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel snapshot invalidation flags, used to force generation of segments.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#gae4d6df086e192d70f732e3ce8a5a2210">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gae4d6df086e192d70f732e3ce8a5a2210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4cf6fe670f1f46e8db561d407b694d4d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4cf6fe670f1f46e8db561d407b694d4d">stasis_user_multi_object_snapshot_type</a> { <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da679186d0a76e3ed91a98c2289921485a">STASIS_UMOS_CHANNEL</a> = 0, 
<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da30a07e65360c3484148ca1750067fe87">STASIS_UMOS_BRIDGE</a>, 
<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da1f02519f8ea66bad627d5797b0c6b0ce">STASIS_UMOS_ENDPOINT</a>
 }<tr class="memdesc:ga4cf6fe670f1f46e8db561d407b694d4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object type code for multi user object snapshots.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#ga4cf6fe670f1f46e8db561d407b694d4d">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga4cf6fe670f1f46e8db561d407b694d4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga03332d35946786d0689462e58d01467a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga03332d35946786d0689462e58d01467a">ast_channel_agent_login_type</a> (void)</td></tr>
<tr class="memdesc:ga03332d35946786d0689462e58d01467a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for agent login on a channel.  <a href="#ga03332d35946786d0689462e58d01467a">More...</a><br /></td></tr>
<tr class="separator:ga03332d35946786d0689462e58d01467a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55d6d1e96f8f003200274d8756a9398a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga55d6d1e96f8f003200274d8756a9398a">ast_channel_agent_logoff_type</a> (void)</td></tr>
<tr class="memdesc:ga55d6d1e96f8f003200274d8756a9398a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for agent logoff on a channel.  <a href="#ga55d6d1e96f8f003200274d8756a9398a">More...</a><br /></td></tr>
<tr class="separator:ga55d6d1e96f8f003200274d8756a9398a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae23eb2907ce7b59817fc0e47f09abf42"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gae23eb2907ce7b59817fc0e47f09abf42">ast_channel_blob_create</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob)</td></tr>
<tr class="memdesc:gae23eb2907ce7b59817fc0e47f09abf42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="../../db/df0/structast__channel__blob.html">ast_channel_blob</a> message.  <a href="#gae23eb2907ce7b59817fc0e47f09abf42">More...</a><br /></td></tr>
<tr class="separator:gae23eb2907ce7b59817fc0e47f09abf42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe8b123e0c124e44c3bff016591d3f9c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gafe8b123e0c124e44c3bff016591d3f9c">ast_channel_blob_create_from_cache</a> (const char *uniqueid, struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob)</td></tr>
<tr class="memdesc:gafe8b123e0c124e44c3bff016591d3f9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="../../db/df0/structast__channel__blob.html">ast_channel_blob</a> message, pulling channel state from the cache.  <a href="#gafe8b123e0c124e44c3bff016591d3f9c">More...</a><br /></td></tr>
<tr class="separator:gafe8b123e0c124e44c3bff016591d3f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga22135951096d748d6ff98ed45cb25639"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga22135951096d748d6ff98ed45cb25639">ast_channel_cache_all</a> (void)</td></tr>
<tr class="separator:ga22135951096d748d6ff98ed45cb25639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae462040f6444a2a4fc9d2681f49cc99b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gae462040f6444a2a4fc9d2681f49cc99b">ast_channel_cache_by_name</a> (void)</td></tr>
<tr class="memdesc:gae462040f6444a2a4fc9d2681f49cc99b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Secondary channel cache, indexed by name.  <a href="#gae462040f6444a2a4fc9d2681f49cc99b">More...</a><br /></td></tr>
<tr class="separator:gae462040f6444a2a4fc9d2681f49cc99b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82b40d5d80727f7fd39b6d1fbca3131e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga82b40d5d80727f7fd39b6d1fbca3131e">ast_channel_chanspy_start_type</a> (void)</td></tr>
<tr class="memdesc:ga82b40d5d80727f7fd39b6d1fbca3131e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for when a channel starts spying on another channel.  <a href="#ga82b40d5d80727f7fd39b6d1fbca3131e">More...</a><br /></td></tr>
<tr class="separator:ga82b40d5d80727f7fd39b6d1fbca3131e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga689d6e83223f090da8c87e2efd793940"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga689d6e83223f090da8c87e2efd793940">ast_channel_chanspy_stop_type</a> (void)</td></tr>
<tr class="memdesc:ga689d6e83223f090da8c87e2efd793940"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for when a channel stops spying on another channel.  <a href="#ga689d6e83223f090da8c87e2efd793940">More...</a><br /></td></tr>
<tr class="separator:ga689d6e83223f090da8c87e2efd793940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2f12b95a707aaa2e0b9a5840686b081"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf2f12b95a707aaa2e0b9a5840686b081">ast_channel_dial_type</a> (void)</td></tr>
<tr class="memdesc:gaf2f12b95a707aaa2e0b9a5840686b081"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for when a channel dials another channel.  <a href="#gaf2f12b95a707aaa2e0b9a5840686b081">More...</a><br /></td></tr>
<tr class="separator:gaf2f12b95a707aaa2e0b9a5840686b081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9de7fcf34407ccef0f56764ecfa1f7a4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga9de7fcf34407ccef0f56764ecfa1f7a4">ast_channel_dtmf_begin_type</a> (void)</td></tr>
<tr class="memdesc:ga9de7fcf34407ccef0f56764ecfa1f7a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for when DTMF begins on a channel.  <a href="#ga9de7fcf34407ccef0f56764ecfa1f7a4">More...</a><br /></td></tr>
<tr class="separator:ga9de7fcf34407ccef0f56764ecfa1f7a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa247523a680e6e57a3478b7f992ab3a5"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaa247523a680e6e57a3478b7f992ab3a5">ast_channel_dtmf_end_type</a> (void)</td></tr>
<tr class="memdesc:gaa247523a680e6e57a3478b7f992ab3a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for when DTMF ends on a channel.  <a href="#gaa247523a680e6e57a3478b7f992ab3a5">More...</a><br /></td></tr>
<tr class="separator:gaa247523a680e6e57a3478b7f992ab3a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d11307e605e80f977bde354a11d7902"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga6d11307e605e80f977bde354a11d7902">ast_channel_fax_type</a> (void)</td></tr>
<tr class="memdesc:ga6d11307e605e80f977bde354a11d7902"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for a fax operation.  <a href="#ga6d11307e605e80f977bde354a11d7902">More...</a><br /></td></tr>
<tr class="separator:ga6d11307e605e80f977bde354a11d7902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55a45e7abb3232774a1e2d1aceaf3491"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga55a45e7abb3232774a1e2d1aceaf3491">ast_channel_flash_type</a> (void)</td></tr>
<tr class="memdesc:ga55a45e7abb3232774a1e2d1aceaf3491"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for when a hook flash occurs on a channel.  <a href="#ga55a45e7abb3232774a1e2d1aceaf3491">More...</a><br /></td></tr>
<tr class="separator:ga55a45e7abb3232774a1e2d1aceaf3491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe7970bdc59763eaa9c531f0d2318fba"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gafe7970bdc59763eaa9c531f0d2318fba">ast_channel_hangup_handler_type</a> (void)</td></tr>
<tr class="memdesc:gafe7970bdc59763eaa9c531f0d2318fba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for hangup handler related actions.  <a href="#gafe7970bdc59763eaa9c531f0d2318fba">More...</a><br /></td></tr>
<tr class="separator:gafe7970bdc59763eaa9c531f0d2318fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7e251e9a467cda68d93a47184fe0727"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab7e251e9a467cda68d93a47184fe0727">ast_channel_hangup_request_type</a> (void)</td></tr>
<tr class="memdesc:gab7e251e9a467cda68d93a47184fe0727"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for when a hangup is requested on a channel.  <a href="#gab7e251e9a467cda68d93a47184fe0727">More...</a><br /></td></tr>
<tr class="separator:gab7e251e9a467cda68d93a47184fe0727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga624c4bd0bf97a8a1a9e335cb26996f97"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga624c4bd0bf97a8a1a9e335cb26996f97">ast_channel_hold_type</a> (void)</td></tr>
<tr class="memdesc:ga624c4bd0bf97a8a1a9e335cb26996f97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for when a channel is placed on hold.  <a href="#ga624c4bd0bf97a8a1a9e335cb26996f97">More...</a><br /></td></tr>
<tr class="separator:ga624c4bd0bf97a8a1a9e335cb26996f97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga793b849e5b7c9257e92fe30621de5b74"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga793b849e5b7c9257e92fe30621de5b74">ast_channel_masquerade_type</a> (void)</td></tr>
<tr class="memdesc:ga793b849e5b7c9257e92fe30621de5b74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for when a channel is being masqueraded.  <a href="#ga793b849e5b7c9257e92fe30621de5b74">More...</a><br /></td></tr>
<tr class="separator:ga793b849e5b7c9257e92fe30621de5b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a0dd953a7a98de22b02e9748093e9d7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4a0dd953a7a98de22b02e9748093e9d7">ast_channel_mixmonitor_mute_type</a> (void)</td></tr>
<tr class="memdesc:ga4a0dd953a7a98de22b02e9748093e9d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for muting or unmuting mixmonitor on a channel.  <a href="#ga4a0dd953a7a98de22b02e9748093e9d7">More...</a><br /></td></tr>
<tr class="separator:ga4a0dd953a7a98de22b02e9748093e9d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d79ca992d986295b77e209c1de4e9d5"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga1d79ca992d986295b77e209c1de4e9d5">ast_channel_mixmonitor_start_type</a> (void)</td></tr>
<tr class="memdesc:ga1d79ca992d986295b77e209c1de4e9d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for starting mixmonitor on a channel.  <a href="#ga1d79ca992d986295b77e209c1de4e9d5">More...</a><br /></td></tr>
<tr class="separator:ga1d79ca992d986295b77e209c1de4e9d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf301e77203685c2968fb91f7ba6f068"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gacf301e77203685c2968fb91f7ba6f068">ast_channel_mixmonitor_stop_type</a> (void)</td></tr>
<tr class="memdesc:gacf301e77203685c2968fb91f7ba6f068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for stopping mixmonitor on a channel.  <a href="#gacf301e77203685c2968fb91f7ba6f068">More...</a><br /></td></tr>
<tr class="separator:gacf301e77203685c2968fb91f7ba6f068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad76683cb3445474780632ef80af5c778"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gad76683cb3445474780632ef80af5c778">ast_channel_moh_start_type</a> (void)</td></tr>
<tr class="memdesc:gad76683cb3445474780632ef80af5c778"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for starting music on hold on a channel.  <a href="#gad76683cb3445474780632ef80af5c778">More...</a><br /></td></tr>
<tr class="separator:gad76683cb3445474780632ef80af5c778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2de8d798ebdd1b8f1fe783bf9b7a8257"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga2de8d798ebdd1b8f1fe783bf9b7a8257">ast_channel_moh_stop_type</a> (void)</td></tr>
<tr class="memdesc:ga2de8d798ebdd1b8f1fe783bf9b7a8257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for stopping music on hold on a channel.  <a href="#ga2de8d798ebdd1b8f1fe783bf9b7a8257">More...</a><br /></td></tr>
<tr class="separator:ga2de8d798ebdd1b8f1fe783bf9b7a8257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga655bddef1a90d2c392fd5d9e3db7ce91"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga655bddef1a90d2c392fd5d9e3db7ce91">ast_channel_monitor_start_type</a> (void)</td></tr>
<tr class="memdesc:ga655bddef1a90d2c392fd5d9e3db7ce91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for starting monitor on a channel.  <a href="#ga655bddef1a90d2c392fd5d9e3db7ce91">More...</a><br /></td></tr>
<tr class="separator:ga655bddef1a90d2c392fd5d9e3db7ce91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1356cf3d698c9b5d9f2101c1ff4ae243"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga1356cf3d698c9b5d9f2101c1ff4ae243">ast_channel_monitor_stop_type</a> (void)</td></tr>
<tr class="memdesc:ga1356cf3d698c9b5d9f2101c1ff4ae243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for stopping monitor on a channel.  <a href="#ga1356cf3d698c9b5d9f2101c1ff4ae243">More...</a><br /></td></tr>
<tr class="separator:ga1356cf3d698c9b5d9f2101c1ff4ae243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf03b8daa7784a26648db90614add6caa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf03b8daa7784a26648db90614add6caa">ast_channel_publish_blob</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob)</td></tr>
<tr class="memdesc:gaf03b8daa7784a26648db90614add6caa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish a channel blob message.  <a href="#gaf03b8daa7784a26648db90614add6caa">More...</a><br /></td></tr>
<tr class="separator:gaf03b8daa7784a26648db90614add6caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga565fc39c360b014dd5d4054fa72bbae8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga565fc39c360b014dd5d4054fa72bbae8">ast_channel_publish_cached_blob</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob)</td></tr>
<tr class="memdesc:ga565fc39c360b014dd5d4054fa72bbae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish a channel blob message using the latest snapshot from the cache.  <a href="#ga565fc39c360b014dd5d4054fa72bbae8">More...</a><br /></td></tr>
<tr class="separator:ga565fc39c360b014dd5d4054fa72bbae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d446221f9a272b003c4ad660a7e14dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *caller, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *peer, const char *dialstring, const char *dialstatus)</td></tr>
<tr class="memdesc:ga7d446221f9a272b003c4ad660a7e14dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish in the <a class="el" href="../../db/de2/channel__internal__api_8c.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a> or <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga34a3ac59fb8d0c49cbc2cb9b87261d31">ast_channel_topic_all</a> topics a stasis message for the channels involved in a dial operation.  <a href="#ga7d446221f9a272b003c4ad660a7e14dc">More...</a><br /></td></tr>
<tr class="separator:ga7d446221f9a272b003c4ad660a7e14dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf83a1fec8f09a2acf1dc6912207af41a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf83a1fec8f09a2acf1dc6912207af41a">ast_channel_publish_dial_forward</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *caller, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *peer, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *forwarded, const char *dialstring, const char *dialstatus, const char *forward)</td></tr>
<tr class="memdesc:gaf83a1fec8f09a2acf1dc6912207af41a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish in the <a class="el" href="../../db/de2/channel__internal__api_8c.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a> or <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga34a3ac59fb8d0c49cbc2cb9b87261d31">ast_channel_topic_all</a> topics a stasis message for the channels involved in a dial operation that is forwarded.  <a href="#gaf83a1fec8f09a2acf1dc6912207af41a">More...</a><br /></td></tr>
<tr class="separator:gaf83a1fec8f09a2acf1dc6912207af41a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83e4b9493ba37c5052e722fad015503b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga83e4b9493ba37c5052e722fad015503b">ast_channel_publish_final_snapshot</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:ga83e4b9493ba37c5052e722fad015503b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the final channel snapshot for a channel, thus removing it from cache.  <a href="#ga83e4b9493ba37c5052e722fad015503b">More...</a><br /></td></tr>
<tr class="separator:ga83e4b9493ba37c5052e722fad015503b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec5f1aaded97197250e063ed6c7ad857"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaec5f1aaded97197250e063ed6c7ad857">ast_channel_publish_snapshot</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:gaec5f1aaded97197250e063ed6c7ad857"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish a <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> for a channel.  <a href="#gaec5f1aaded97197250e063ed6c7ad857">More...</a><br /></td></tr>
<tr class="separator:gaec5f1aaded97197250e063ed6c7ad857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17518a82a3bc958cfb53d954dc14d630"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga17518a82a3bc958cfb53d954dc14d630">ast_channel_publish_varset</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *variable, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:ga17518a82a3bc958cfb53d954dc14d630"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish a ast_channel_varset for a channel.  <a href="#ga17518a82a3bc958cfb53d954dc14d630">More...</a><br /></td></tr>
<tr class="separator:ga17518a82a3bc958cfb53d954dc14d630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f4919ce97dcdee0a98979ca4de29242"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7f4919ce97dcdee0a98979ca4de29242">ast_channel_snapshot_create</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:ga7f4919ce97dcdee0a98979ca4de29242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a snapshot of the channel state. This is an ao2 object, so <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a> to deallocate.  <a href="#ga7f4919ce97dcdee0a98979ca4de29242">More...</a><br /></td></tr>
<tr class="separator:ga7f4919ce97dcdee0a98979ca4de29242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68c55b443ba97dc157b493aafd05c876"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a> (const char *uniqueid)</td></tr>
<tr class="memdesc:ga68c55b443ba97dc157b493aafd05c876"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the latest <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> from the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> cache. This is an ao2 object, so use <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a> to deallocate.  <a href="#ga68c55b443ba97dc157b493aafd05c876">More...</a><br /></td></tr>
<tr class="separator:ga68c55b443ba97dc157b493aafd05c876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f6ac21322df947f71ae53d0164f5f92"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga9f6ac21322df947f71ae53d0164f5f92">ast_channel_snapshot_get_latest_by_name</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:ga9f6ac21322df947f71ae53d0164f5f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the latest <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> from the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> cache. This is an ao2 object, so use <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a> to deallocate.  <a href="#ga9f6ac21322df947f71ae53d0164f5f92">More...</a><br /></td></tr>
<tr class="separator:ga9f6ac21322df947f71ae53d0164f5f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c533cb6116415f52f137ea431afe9e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5c533cb6116415f52f137ea431afe9e3">ast_channel_snapshot_invalidate_segment</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, enum <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gae4d6df086e192d70f732e3ce8a5a2210">ast_channel_snapshot_segment_invalidation</a> segment)</td></tr>
<tr class="memdesc:ga5c533cb6116415f52f137ea431afe9e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalidate a channel snapshot segment from being reused.  <a href="#ga5c533cb6116415f52f137ea431afe9e3">More...</a><br /></td></tr>
<tr class="separator:ga5c533cb6116415f52f137ea431afe9e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8fb4dbec86956e211c0489112a6de975"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type</a> (void)</td></tr>
<tr class="memdesc:ga8fb4dbec86956e211c0489112a6de975"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for <a class="el" href="../../da/d33/structast__channel__snapshot__update.html">ast_channel_snapshot_update</a>.  <a href="#ga8fb4dbec86956e211c0489112a6de975">More...</a><br /></td></tr>
<tr class="separator:ga8fb4dbec86956e211c0489112a6de975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf195fcf1686408b5e52ad76996653cea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf195fcf1686408b5e52ad76996653cea">ast_channel_stage_snapshot</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:gaf195fcf1686408b5e52ad76996653cea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set flag to indicate channel snapshot is being staged.  <a href="#gaf195fcf1686408b5e52ad76996653cea">More...</a><br /></td></tr>
<tr class="separator:gaf195fcf1686408b5e52ad76996653cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga920b9d3e484257c7e593452a8e36d8d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga920b9d3e484257c7e593452a8e36d8d4">ast_channel_stage_snapshot_done</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:ga920b9d3e484257c7e593452a8e36d8d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear flag to indicate channel snapshot is being staged, and publish snapshot.  <a href="#ga920b9d3e484257c7e593452a8e36d8d4">More...</a><br /></td></tr>
<tr class="separator:ga920b9d3e484257c7e593452a8e36d8d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a951162eff76e5ed28f63d528e385c4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8a951162eff76e5ed28f63d528e385c4">ast_channel_talking_start</a> (void)</td></tr>
<tr class="memdesc:ga8a951162eff76e5ed28f63d528e385c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for a channel starting talking.  <a href="#ga8a951162eff76e5ed28f63d528e385c4">More...</a><br /></td></tr>
<tr class="separator:ga8a951162eff76e5ed28f63d528e385c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3226b5864d04a75f4eeef344ca176f76"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga3226b5864d04a75f4eeef344ca176f76">ast_channel_talking_stop</a> (void)</td></tr>
<tr class="memdesc:ga3226b5864d04a75f4eeef344ca176f76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for a channel stopping talking.  <a href="#ga3226b5864d04a75f4eeef344ca176f76">More...</a><br /></td></tr>
<tr class="separator:ga3226b5864d04a75f4eeef344ca176f76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34a3ac59fb8d0c49cbc2cb9b87261d31"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga34a3ac59fb8d0c49cbc2cb9b87261d31">ast_channel_topic_all</a> (void)</td></tr>
<tr class="memdesc:ga34a3ac59fb8d0c49cbc2cb9b87261d31"><td class="mdescLeft">&#160;</td><td class="mdescRight">A topic which publishes the events for all channels.  <a href="#ga34a3ac59fb8d0c49cbc2cb9b87261d31">More...</a><br /></td></tr>
<tr class="separator:ga34a3ac59fb8d0c49cbc2cb9b87261d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacdff76704ce4ee5c18b5656592886c78"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gacdff76704ce4ee5c18b5656592886c78">ast_channel_unhold_type</a> (void)</td></tr>
<tr class="memdesc:gacdff76704ce4ee5c18b5656592886c78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for when a channel is removed from hold.  <a href="#gacdff76704ce4ee5c18b5656592886c78">More...</a><br /></td></tr>
<tr class="separator:gacdff76704ce4ee5c18b5656592886c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad32bfc3296f7c72a87c6114553940c6f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gad32bfc3296f7c72a87c6114553940c6f">ast_channel_varset_type</a> (void)</td></tr>
<tr class="memdesc:gad32bfc3296f7c72a87c6114553940c6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for when a variable is set on a channel.  <a href="#gad32bfc3296f7c72a87c6114553940c6f">More...</a><br /></td></tr>
<tr class="separator:gad32bfc3296f7c72a87c6114553940c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd41839a7dede33bd5dc1e9a3b41e173"><td class="memItemLeft" align="right" valign="top">uintmax_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gadd41839a7dede33bd5dc1e9a3b41e173">ast_debug_category_dtls_id</a> (void)</td></tr>
<tr class="separator:gadd41839a7dede33bd5dc1e9a3b41e173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8de49f8c81c23a3973b4bbfc5f9da89b"><td class="memItemLeft" align="right" valign="top">uintmax_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8de49f8c81c23a3973b4bbfc5f9da89b">ast_debug_category_dtls_packet_id</a> (void)</td></tr>
<tr class="separator:ga8de49f8c81c23a3973b4bbfc5f9da89b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2def1587d11cae8f25a132531073fe03"><td class="memItemLeft" align="right" valign="top">uintmax_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga2def1587d11cae8f25a132531073fe03">ast_debug_category_ice_id</a> (void)</td></tr>
<tr class="separator:ga2def1587d11cae8f25a132531073fe03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac297e0868722424bbf63a22e4179d0e4"><td class="memItemLeft" align="right" valign="top">uintmax_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gac297e0868722424bbf63a22e4179d0e4">ast_debug_category_rtcp_id</a> (void)</td></tr>
<tr class="separator:gac297e0868722424bbf63a22e4179d0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0185509f8e6d3142af9bda551ed4448f"><td class="memItemLeft" align="right" valign="top">uintmax_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga0185509f8e6d3142af9bda551ed4448f">ast_debug_category_rtcp_packet_id</a> (void)</td></tr>
<tr class="separator:ga0185509f8e6d3142af9bda551ed4448f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42aa0e60fa1c82a53fd1156b14aef793"><td class="memItemLeft" align="right" valign="top">uintmax_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga42aa0e60fa1c82a53fd1156b14aef793">ast_debug_category_rtp_id</a> (void)</td></tr>
<tr class="separator:ga42aa0e60fa1c82a53fd1156b14aef793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga122d01a77f8d60e32d53135e26cccd6a"><td class="memItemLeft" align="right" valign="top">uintmax_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga122d01a77f8d60e32d53135e26cccd6a">ast_debug_category_rtp_packet_id</a> (void)</td></tr>
<tr class="separator:ga122d01a77f8d60e32d53135e26cccd6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab64b4e754207708a20a96e4d4fc5cf3d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab64b4e754207708a20a96e4d4fc5cf3d">ast_endpoint_blob_create</a> (struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *endpoint, struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob)</td></tr>
<tr class="memdesc:gab64b4e754207708a20a96e4d4fc5cf3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="../../d0/d7d/structast__endpoint__blob.html">ast_endpoint_blob</a> message.  <a href="#gab64b4e754207708a20a96e4d4fc5cf3d">More...</a><br /></td></tr>
<tr class="separator:gab64b4e754207708a20a96e4d4fc5cf3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18159008df1e2c2f4d86060386c8b47c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga18159008df1e2c2f4d86060386c8b47c">ast_endpoint_blob_publish</a> (struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *endpoint, struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob)</td></tr>
<tr class="memdesc:ga18159008df1e2c2f4d86060386c8b47c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and publishes a <a class="el" href="../../d0/d7d/structast__endpoint__blob.html">ast_endpoint_blob</a> message.  <a href="#ga18159008df1e2c2f4d86060386c8b47c">More...</a><br /></td></tr>
<tr class="separator:ga18159008df1e2c2f4d86060386c8b47c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga585e6ce87a933360a7c247d7dc101cc0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/d25/structstasis__cache.html">stasis_cache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga585e6ce87a933360a7c247d7dc101cc0">ast_endpoint_cache</a> (void)</td></tr>
<tr class="memdesc:ga585e6ce87a933360a7c247d7dc101cc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backend cache for <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab91de30d8cc5a14abf4c557e4a5c7c5c" title="Cached topic for all endpoint related messages. ">ast_endpoint_topic_all_cached()</a>.  <a href="#ga585e6ce87a933360a7c247d7dc101cc0">More...</a><br /></td></tr>
<tr class="separator:ga585e6ce87a933360a7c247d7dc101cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43f306f19e883f27adf4f416fb5ec2b4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/d65/structstasis__cp__all.html">stasis_cp_all</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga43f306f19e883f27adf4f416fb5ec2b4">ast_endpoint_cache_all</a> (void)</td></tr>
<tr class="separator:ga43f306f19e883f27adf4f416fb5ec2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d2d85d612142c53bd09d580857206a8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type</a> (void)</td></tr>
<tr class="memdesc:ga4d2d85d612142c53bd09d580857206a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for endpoint contact state changes.  <a href="#ga4d2d85d612142c53bd09d580857206a8">More...</a><br /></td></tr>
<tr class="separator:ga4d2d85d612142c53bd09d580857206a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83c4127a98da15ab67e85d7aeabdbfdf"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga83c4127a98da15ab67e85d7aeabdbfdf">ast_endpoint_latest_snapshot</a> (const char *tech, const char *resource)</td></tr>
<tr class="memdesc:ga83c4127a98da15ab67e85d7aeabdbfdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the most recent snapshot for the endpoint with the given name.  <a href="#ga83c4127a98da15ab67e85d7aeabdbfdf">More...</a><br /></td></tr>
<tr class="separator:ga83c4127a98da15ab67e85d7aeabdbfdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3fae27e0558b4372735412393520a82"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf3fae27e0558b4372735412393520a82">ast_endpoint_snapshot_create</a> (struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:gaf3fae27e0558b4372735412393520a82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a snapshot of an endpoint.  <a href="#gaf3fae27e0558b4372735412393520a82">More...</a><br /></td></tr>
<tr class="separator:gaf3fae27e0558b4372735412393520a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf23b8f5195f28ae2044eae71be431433"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type</a> (void)</td></tr>
<tr class="memdesc:gaf23b8f5195f28ae2044eae71be431433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a>.  <a href="#gaf23b8f5195f28ae2044eae71be431433">More...</a><br /></td></tr>
<tr class="separator:gaf23b8f5195f28ae2044eae71be431433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5bef70de71c061b6ef7739d9634ebbb1"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a> (void)</td></tr>
<tr class="memdesc:ga5bef70de71c061b6ef7739d9634ebbb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for endpoint state changes.  <a href="#ga5bef70de71c061b6ef7739d9634ebbb1">More...</a><br /></td></tr>
<tr class="separator:ga5bef70de71c061b6ef7739d9634ebbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga566d4b2133a41b34f8b80de938d82e18"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga566d4b2133a41b34f8b80de938d82e18">ast_endpoint_topic</a> (struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:ga566d4b2133a41b34f8b80de938d82e18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the topic for a specific endpoint.  <a href="#ga566d4b2133a41b34f8b80de938d82e18">More...</a><br /></td></tr>
<tr class="separator:ga566d4b2133a41b34f8b80de938d82e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga194048b419a426601b448dc48c514a17"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga194048b419a426601b448dc48c514a17">ast_endpoint_topic_all</a> (void)</td></tr>
<tr class="memdesc:ga194048b419a426601b448dc48c514a17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Topic for all endpoint releated messages.  <a href="#ga194048b419a426601b448dc48c514a17">More...</a><br /></td></tr>
<tr class="separator:ga194048b419a426601b448dc48c514a17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab91de30d8cc5a14abf4c557e4a5c7c5c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab91de30d8cc5a14abf4c557e4a5c7c5c">ast_endpoint_topic_all_cached</a> (void)</td></tr>
<tr class="memdesc:gab91de30d8cc5a14abf4c557e4a5c7c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cached topic for all endpoint related messages.  <a href="#gab91de30d8cc5a14abf4c557e4a5c7c5c">More...</a><br /></td></tr>
<tr class="separator:gab91de30d8cc5a14abf4c557e4a5c7c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56bc4873f8a6bc6cfa573347abf7560e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga56bc4873f8a6bc6cfa573347abf7560e">ast_endpoint_topic_cached</a> (struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:ga56bc4873f8a6bc6cfa573347abf7560e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the topic for a specific endpoint.  <a href="#ga56bc4873f8a6bc6cfa573347abf7560e">More...</a><br /></td></tr>
<tr class="separator:ga56bc4873f8a6bc6cfa573347abf7560e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a3ff91f86f5f2e7e60571246c8e5873"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga9a3ff91f86f5f2e7e60571246c8e5873">ast_multi_channel_blob_add_channel</a> (struct <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> *obj, const char *role, struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot)</td></tr>
<tr class="memdesc:ga9a3ff91f86f5f2e7e60571246c8e5873"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> to a <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> object.  <a href="#ga9a3ff91f86f5f2e7e60571246c8e5873">More...</a><br /></td></tr>
<tr class="separator:ga9a3ff91f86f5f2e7e60571246c8e5873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe90e356833a3ec8ba6020a39d0689b9"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gafe90e356833a3ec8ba6020a39d0689b9">ast_multi_channel_blob_create</a> (struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob)</td></tr>
<tr class="memdesc:gafe90e356833a3ec8ba6020a39d0689b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> suitable for a <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>.  <a href="#gafe90e356833a3ec8ba6020a39d0689b9">More...</a><br /></td></tr>
<tr class="separator:gafe90e356833a3ec8ba6020a39d0689b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6cf4ef94e11b14625a81ba56f89a183"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gac6cf4ef94e11b14625a81ba56f89a183">ast_multi_channel_blob_get_channel</a> (struct <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> *obj, const char *role)</td></tr>
<tr class="memdesc:gac6cf4ef94e11b14625a81ba56f89a183"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a channel snapshot associated with a specific role from a <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a>.  <a href="#gac6cf4ef94e11b14625a81ba56f89a183">More...</a><br /></td></tr>
<tr class="separator:gac6cf4ef94e11b14625a81ba56f89a183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61fb169e12b7fd0aaf82c3f2ddec5928"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga61fb169e12b7fd0aaf82c3f2ddec5928">ast_multi_channel_blob_get_channels</a> (struct <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> *obj, const char *role)</td></tr>
<tr class="memdesc:ga61fb169e12b7fd0aaf82c3f2ddec5928"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve all channel snapshots associated with a specific role from a <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a>.  <a href="#ga61fb169e12b7fd0aaf82c3f2ddec5928">More...</a><br /></td></tr>
<tr class="separator:ga61fb169e12b7fd0aaf82c3f2ddec5928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54c9b2b1131c872d25a1395882333ae3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga54c9b2b1131c872d25a1395882333ae3">ast_multi_channel_blob_get_json</a> (struct <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> *obj)</td></tr>
<tr class="memdesc:ga54c9b2b1131c872d25a1395882333ae3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the JSON blob from a <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a>. Returned <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> is still owned by <em>obj</em>.  <a href="#ga54c9b2b1131c872d25a1395882333ae3">More...</a><br /></td></tr>
<tr class="separator:ga54c9b2b1131c872d25a1395882333ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f5721e90c221f9808fcedaf013ae56e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga3f5721e90c221f9808fcedaf013ae56e">ast_multi_object_blob_add</a> (struct <a class="el" href="../../d4/d38/structast__multi__object__blob.html">ast_multi_object_blob</a> *multi, enum <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4cf6fe670f1f46e8db561d407b694d4d">stasis_user_multi_object_snapshot_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, void *object)</td></tr>
<tr class="memdesc:ga3f5721e90c221f9808fcedaf013ae56e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an object to a multi object blob previously created.  <a href="#ga3f5721e90c221f9808fcedaf013ae56e">More...</a><br /></td></tr>
<tr class="separator:ga3f5721e90c221f9808fcedaf013ae56e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0679202aea3da62adf0dff0e09a4e07a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d38/structast__multi__object__blob.html">ast_multi_object_blob</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga0679202aea3da62adf0dff0e09a4e07a">ast_multi_object_blob_create</a> (struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob)</td></tr>
<tr class="memdesc:ga0679202aea3da62adf0dff0e09a4e07a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a stasis multi object blob.  <a href="#ga0679202aea3da62adf0dff0e09a4e07a">More...</a><br /></td></tr>
<tr class="separator:ga0679202aea3da62adf0dff0e09a4e07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8fd487c2186f10859ec2619cf26b0907"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fd487c2186f10859ec2619cf26b0907">ast_multi_object_blob_single_channel_publish</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob)</td></tr>
<tr class="memdesc:ga8fd487c2186f10859ec2619cf26b0907"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and publish a stasis message blob on a channel with it's snapshot.  <a href="#ga8fd487c2186f10859ec2619cf26b0907">More...</a><br /></td></tr>
<tr class="separator:ga8fd487c2186f10859ec2619cf26b0907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga903c0022d53e0cac08b7eab6539ab206"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga903c0022d53e0cac08b7eab6539ab206">ast_multi_user_event_type</a> (void)</td></tr>
<tr class="memdesc:ga903c0022d53e0cac08b7eab6539ab206"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for custom user defined events with multi object blobs.  <a href="#ga903c0022d53e0cac08b7eab6539ab206">More...</a><br /></td></tr>
<tr class="separator:ga903c0022d53e0cac08b7eab6539ab206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga728789c28cb77fc6cbf3254aefc7c67a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga728789c28cb77fc6cbf3254aefc7c67a">ast_mwi_blob_create</a> (struct <a class="el" href="../../d6/d45/structast__mwi__state.html">ast_mwi_state</a> *mwi_state, struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *message_type, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob)</td></tr>
<tr class="memdesc:ga728789c28cb77fc6cbf3254aefc7c67a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="../../dd/dce/structast__mwi__blob.html">ast_mwi_blob</a> message.  <a href="#ga728789c28cb77fc6cbf3254aefc7c67a">More...</a><br /></td></tr>
<tr class="separator:ga728789c28cb77fc6cbf3254aefc7c67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f9639be7fcd922d0609b4ba82fc79c8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/d45/structast__mwi__state.html">ast_mwi_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga2f9639be7fcd922d0609b4ba82fc79c8">ast_mwi_create</a> (const char *<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>)</td></tr>
<tr class="memdesc:ga2f9639be7fcd922d0609b4ba82fc79c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="../../d6/d45/structast__mwi__state.html">ast_mwi_state</a> object.  <a href="#ga2f9639be7fcd922d0609b4ba82fc79c8">More...</a><br /></td></tr>
<tr class="separator:ga2f9639be7fcd922d0609b4ba82fc79c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fc6473ab80d2117f1bcb1359721fdce"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/d25/structstasis__cache.html">stasis_cache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7fc6473ab80d2117f1bcb1359721fdce">ast_mwi_state_cache</a> (void)</td></tr>
<tr class="memdesc:ga7fc6473ab80d2117f1bcb1359721fdce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backend cache for <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga986e1047f0c61d683fb0773453363fd7" title="Get the Stasis Message Bus API caching topic for MWI messages. ">ast_mwi_topic_cached()</a>.  <a href="#ga7fc6473ab80d2117f1bcb1359721fdce">More...</a><br /></td></tr>
<tr class="separator:ga7fc6473ab80d2117f1bcb1359721fdce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf226cf2d1a4dbbbf220521d58c05ac0f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf226cf2d1a4dbbbf220521d58c05ac0f">ast_mwi_state_type</a> (void)</td></tr>
<tr class="memdesc:gaf226cf2d1a4dbbbf220521d58c05ac0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> message type for MWI messages.  <a href="#gaf226cf2d1a4dbbbf220521d58c05ac0f">More...</a><br /></td></tr>
<tr class="separator:gaf226cf2d1a4dbbbf220521d58c05ac0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae43ba258ce7f2b5838edbed6bf7dbd8c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gae43ba258ce7f2b5838edbed6bf7dbd8c">ast_mwi_topic</a> (const char *uniqueid)</td></tr>
<tr class="memdesc:gae43ba258ce7f2b5838edbed6bf7dbd8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> topic for MWI messages on a unique ID.  <a href="#gae43ba258ce7f2b5838edbed6bf7dbd8c">More...</a><br /></td></tr>
<tr class="separator:gae43ba258ce7f2b5838edbed6bf7dbd8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga547ae87810e6cd121cea7b3149343366"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga547ae87810e6cd121cea7b3149343366">ast_mwi_topic_all</a> (void)</td></tr>
<tr class="memdesc:ga547ae87810e6cd121cea7b3149343366"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> topic for MWI messages.  <a href="#ga547ae87810e6cd121cea7b3149343366">More...</a><br /></td></tr>
<tr class="separator:ga547ae87810e6cd121cea7b3149343366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga986e1047f0c61d683fb0773453363fd7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga986e1047f0c61d683fb0773453363fd7">ast_mwi_topic_cached</a> (void)</td></tr>
<tr class="memdesc:ga986e1047f0c61d683fb0773453363fd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> caching topic for MWI messages.  <a href="#ga986e1047f0c61d683fb0773453363fd7">More...</a><br /></td></tr>
<tr class="separator:ga986e1047f0c61d683fb0773453363fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03bf52a37253e9ecdc4fadf9747a3497"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga03bf52a37253e9ecdc4fadf9747a3497">ast_mwi_vm_app_type</a> (void)</td></tr>
<tr class="memdesc:ga03bf52a37253e9ecdc4fadf9747a3497"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> message type for voicemail application specific messages.  <a href="#ga03bf52a37253e9ecdc4fadf9747a3497">More...</a><br /></td></tr>
<tr class="separator:ga03bf52a37253e9ecdc4fadf9747a3497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00e84a145ef736ce4134fee75e530113"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga00e84a145ef736ce4134fee75e530113">ast_parked_call_type</a> (void)</td></tr>
<tr class="memdesc:ga00e84a145ef736ce4134fee75e530113"><td class="mdescLeft">&#160;</td><td class="mdescRight">accessor for the parked call stasis message type  <a href="#ga00e84a145ef736ce4134fee75e530113">More...</a><br /></td></tr>
<tr class="separator:ga00e84a145ef736ce4134fee75e530113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4e08da228493c3f9bfc6a2aed507cb4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab4e08da228493c3f9bfc6a2aed507cb4">ast_parking_topic</a> (void)</td></tr>
<tr class="memdesc:gab4e08da228493c3f9bfc6a2aed507cb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">accessor for the parking stasis topic  <a href="#gab4e08da228493c3f9bfc6a2aed507cb4">More...</a><br /></td></tr>
<tr class="separator:gab4e08da228493c3f9bfc6a2aed507cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5693c002c4a23d84da916dbb02d5a5c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab5693c002c4a23d84da916dbb02d5a5c">ast_rtp_convert_stats_json</a> (const struct <a class="el" href="../../d0/db0/structast__rtp__instance__stats.html">ast_rtp_instance_stats</a> *stats)</td></tr>
<tr class="memdesc:gab5693c002c4a23d84da916dbb02d5a5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert given stat instance into json format.  <a href="#gab5693c002c4a23d84da916dbb02d5a5c">More...</a><br /></td></tr>
<tr class="separator:gab5693c002c4a23d84da916dbb02d5a5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85ebb1735a6e9ce14a033b479076aaed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga85ebb1735a6e9ce14a033b479076aaed">ast_rtp_get_rate</a> (const struct <a class="el" href="../../d0/d98/structast__format.html">ast_format</a> *<a class="el" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>)</td></tr>
<tr class="memdesc:ga85ebb1735a6e9ce14a033b479076aaed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the sample rate of a format according to RTP specifications.  <a href="#ga85ebb1735a6e9ce14a033b479076aaed">More...</a><br /></td></tr>
<tr class="separator:ga85ebb1735a6e9ce14a033b479076aaed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbf4ba18d5db2721e5d4d8de22a27886"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gacbf4ba18d5db2721e5d4d8de22a27886">ast_rtp_instance_drop_packets</a> (struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *instance, int num)</td></tr>
<tr class="memdesc:gacbf4ba18d5db2721e5d4d8de22a27886"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the number of packets to drop on RTP read.  <a href="#gacbf4ba18d5db2721e5d4d8de22a27886">More...</a><br /></td></tr>
<tr class="separator:gacbf4ba18d5db2721e5d4d8de22a27886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad193e738ab3f30ba62fb2239823fe47a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gad193e738ab3f30ba62fb2239823fe47a">ast_rtp_instance_get_recv_buffer_count</a> (struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *instance)</td></tr>
<tr class="memdesc:gad193e738ab3f30ba62fb2239823fe47a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current size of the receive buffer.  <a href="#gad193e738ab3f30ba62fb2239823fe47a">More...</a><br /></td></tr>
<tr class="separator:gad193e738ab3f30ba62fb2239823fe47a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32aaf4e901b01797fe9102ad7b5f68c9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga32aaf4e901b01797fe9102ad7b5f68c9">ast_rtp_instance_get_recv_buffer_max</a> (struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *instance)</td></tr>
<tr class="memdesc:ga32aaf4e901b01797fe9102ad7b5f68c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum size of the receive buffer.  <a href="#ga32aaf4e901b01797fe9102ad7b5f68c9">More...</a><br /></td></tr>
<tr class="separator:ga32aaf4e901b01797fe9102ad7b5f68c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14c88045a075be4ca9d217c283502532"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga14c88045a075be4ca9d217c283502532">ast_rtp_instance_get_sdes_received</a> (struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *instance)</td></tr>
<tr class="memdesc:ga14c88045a075be4ca9d217c283502532"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of sdes_received on the test engine.  <a href="#ga14c88045a075be4ca9d217c283502532">More...</a><br /></td></tr>
<tr class="separator:ga14c88045a075be4ca9d217c283502532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac232b87801c254313c80905aa709875b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gac232b87801c254313c80905aa709875b">ast_rtp_instance_get_send_buffer_count</a> (struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *instance)</td></tr>
<tr class="memdesc:gac232b87801c254313c80905aa709875b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current size of the send buffer.  <a href="#gac232b87801c254313c80905aa709875b">More...</a><br /></td></tr>
<tr class="separator:gac232b87801c254313c80905aa709875b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8dcaac6d227860b04c66fc22462789a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gac8dcaac6d227860b04c66fc22462789a">ast_rtp_instance_get_stats_all_json</a> (struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *instance)</td></tr>
<tr class="memdesc:gac8dcaac6d227860b04c66fc22462789a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve statistics about an RTP instance in json format.  <a href="#gac8dcaac6d227860b04c66fc22462789a">More...</a><br /></td></tr>
<tr class="separator:gac8dcaac6d227860b04c66fc22462789a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37f241cedc1f8c75764d407284d7cabb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga37f241cedc1f8c75764d407284d7cabb">ast_rtp_instance_queue_report</a> (struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *instance)</td></tr>
<tr class="memdesc:ga37f241cedc1f8c75764d407284d7cabb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a SR/RR report the next time RTP would be sent.  <a href="#ga37f241cedc1f8c75764d407284d7cabb">More...</a><br /></td></tr>
<tr class="separator:ga37f241cedc1f8c75764d407284d7cabb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga404c7192a06d6519fbf582eed184ef41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga404c7192a06d6519fbf582eed184ef41">ast_rtp_instance_reset_test_engine</a> (struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *instance)</td></tr>
<tr class="memdesc:ga404c7192a06d6519fbf582eed184ef41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets all the fields to default values for the test engine.  <a href="#ga404c7192a06d6519fbf582eed184ef41">More...</a><br /></td></tr>
<tr class="separator:ga404c7192a06d6519fbf582eed184ef41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4355793892bdf43a0a5852220cf0b0d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4355793892bdf43a0a5852220cf0b0d2">ast_rtp_instance_set_schedid</a> (struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *instance, int <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="memdesc:ga4355793892bdf43a0a5852220cf0b0d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the schedid for RTCP.  <a href="#ga4355793892bdf43a0a5852220cf0b0d2">More...</a><br /></td></tr>
<tr class="separator:ga4355793892bdf43a0a5852220cf0b0d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68594e604220e38eb6593972ef9a4da3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga68594e604220e38eb6593972ef9a4da3">ast_rtp_rtcp_received_type</a> (void)</td></tr>
<tr class="memdesc:ga68594e604220e38eb6593972ef9a4da3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for an RTCP message received from some external source.  <a href="#ga68594e604220e38eb6593972ef9a4da3">More...</a><br /></td></tr>
<tr class="separator:ga68594e604220e38eb6593972ef9a4da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1f320e2641058809ef5f0a0e830daf5"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gac1f320e2641058809ef5f0a0e830daf5">ast_rtp_rtcp_sent_type</a> (void)</td></tr>
<tr class="memdesc:gac1f320e2641058809ef5f0a0e830daf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for an RTCP message sent from this Asterisk instance.  <a href="#gac1f320e2641058809ef5f0a0e830daf5">More...</a><br /></td></tr>
<tr class="separator:gac1f320e2641058809ef5f0a0e830daf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7636be9781a3bd85e52ba016e8c432f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gae7636be9781a3bd85e52ba016e8c432f">ast_rtp_topic</a> (void)</td></tr>
<tr class="memdesc:gae7636be9781a3bd85e52ba016e8c432f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> topic for RTP and RTCP related messages  <a href="#gae7636be9781a3bd85e52ba016e8c432f">More...</a><br /></td></tr>
<tr class="separator:gae7636be9781a3bd85e52ba016e8c432f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60caa723cc6cdb79618bc030ecfeba70"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga60caa723cc6cdb79618bc030ecfeba70">mwi_init</a> (void)</td></tr>
<tr class="memdesc:ga60caa723cc6cdb79618bc030ecfeba70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the mwi core.  <a href="#ga60caa723cc6cdb79618bc030ecfeba70">More...</a><br /></td></tr>
<tr class="separator:ga60caa723cc6cdb79618bc030ecfeba70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e2b5addf55fb60e66c4f590652a3649"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5e2b5addf55fb60e66c4f590652a3649">stasis_cache_clear_type</a> (void)</td></tr>
<tr class="memdesc:ga5e2b5addf55fb60e66c4f590652a3649"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for clearing a message from a stasis cache.  <a href="#ga5e2b5addf55fb60e66c4f590652a3649">More...</a><br /></td></tr>
<tr class="separator:ga5e2b5addf55fb60e66c4f590652a3649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5d1a876f8f0cd0562fb5d5f94c06717"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab5d1a876f8f0cd0562fb5d5f94c06717">stasis_cache_update_type</a> (void)</td></tr>
<tr class="memdesc:gab5d1a876f8f0cd0562fb5d5f94c06717"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for cache update messages.  <a href="#gab5d1a876f8f0cd0562fb5d5f94c06717">More...</a><br /></td></tr>
<tr class="separator:gab5d1a876f8f0cd0562fb5d5f94c06717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafae630f05995b59b49dc523a5b9ce757"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gafae630f05995b59b49dc523a5b9ce757">stasis_subscription_change_type</a> (void)</td></tr>
<tr class="memdesc:gafae630f05995b59b49dc523a5b9ce757"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the message type for subscription change notices.  <a href="#gafae630f05995b59b49dc523a5b9ce757">More...</a><br /></td></tr>
<tr class="separator:gafae630f05995b59b49dc523a5b9ce757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5abf633202a5c4e0caec70cf8df00047"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5abf633202a5c4e0caec70cf8df00047">stasis_test_message_create</a> (void)</td></tr>
<tr class="memdesc:ga5abf633202a5c4e0caec70cf8df00047"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a test message.  <a href="#ga5abf633202a5c4e0caec70cf8df00047">More...</a><br /></td></tr>
<tr class="separator:ga5abf633202a5c4e0caec70cf8df00047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0a46c6b720362854b798adef799ce78"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaa0a46c6b720362854b798adef799ce78">stasis_test_message_type</a> (void)</td></tr>
<tr class="memdesc:gaa0a46c6b720362854b798adef799ce78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the type of messages created by <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5abf633202a5c4e0caec70cf8df00047" title="Creates a test message. ">stasis_test_message_create()</a>.  <a href="#gaa0a46c6b720362854b798adef799ce78">More...</a><br /></td></tr>
<tr class="separator:gaa0a46c6b720362854b798adef799ce78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga385248f457748f60f984b484fb76d09e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga385248f457748f60f984b484fb76d09e">__field_mgr</a></td></tr>
<tr class="separator:ga385248f457748f60f984b484fb76d09e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91220444fce3fb48a92017e943bf6232"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga91220444fce3fb48a92017e943bf6232">__field_mgr_pool</a></td></tr>
<tr class="separator:ga91220444fce3fb48a92017e943bf6232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2b8e22df32b99651f727cd9a8dcb9f3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gad2b8e22df32b99651f727cd9a8dcb9f3">blob</a></td></tr>
<tr class="separator:gad2b8e22df32b99651f727cd9a8dcb9f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1d7e6e6eb6d297e62f2d79dbdfaafb4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/d86/structast__eid.html">ast_eid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaa1d7e6e6eb6d297e62f2d79dbdfaafb4">eid</a></td></tr>
<tr class="separator:gaa1d7e6e6eb6d297e62f2d79dbdfaafb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6342aa357329880c14a06738ca544ab1"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/d45/structast__mwi__state.html">ast_mwi_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga6342aa357329880c14a06738ca544ab1">mwi_state</a></td></tr>
<tr class="separator:ga6342aa357329880c14a06738ca544ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70de9f16a229e2c5bf1a973372949d3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga70de9f16a229e2c5bf1a973372949d3e">new_msgs</a></td></tr>
<tr class="separator:ga70de9f16a229e2c5bf1a973372949d3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4369ae7c984aba22ce6d0e92718f2b29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4369ae7c984aba22ce6d0e92718f2b29">old_msgs</a></td></tr>
<tr class="separator:ga4369ae7c984aba22ce6d0e92718f2b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26e335fc4e4c1e8d0023ae9c987ccb4b"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga26e335fc4e4c1e8d0023ae9c987ccb4b">on_subscribe</a> )(const char *<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, struct <a class="el" href="../../de/d41/structast__mwi__subscriber.html">ast_mwi_subscriber</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</td></tr>
<tr class="memdesc:ga26e335fc4e4c1e8d0023ae9c987ccb4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raised when MWI is being subscribed.  <a href="#ga26e335fc4e4c1e8d0023ae9c987ccb4b">More...</a><br /></td></tr>
<tr class="separator:ga26e335fc4e4c1e8d0023ae9c987ccb4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga994ccdc380b0f09c3bddcd6acf0e9cdb"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga994ccdc380b0f09c3bddcd6acf0e9cdb">on_unsubscribe</a> )(const char *<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, struct <a class="el" href="../../de/d41/structast__mwi__subscriber.html">ast_mwi_subscriber</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</td></tr>
<tr class="memdesc:ga994ccdc380b0f09c3bddcd6acf0e9cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raised when MWI is being unsubscribed.  <a href="#ga994ccdc380b0f09c3bddcd6acf0e9cdb">More...</a><br /></td></tr>
<tr class="separator:ga994ccdc380b0f09c3bddcd6acf0e9cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36584c0251e54a7af4892d63f7a28c77"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga36584c0251e54a7af4892d63f7a28c77">snapshot</a></td></tr>
<tr class="separator:ga36584c0251e54a7af4892d63f7a28c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga753c7b39e3284d771f13f513b003d033"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga753c7b39e3284d771f13f513b003d033">uniqueid</a></td></tr>
<tr class="separator:ga753c7b39e3284d771f13f513b003d033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c3f093f91cee667b6ab2d5dfa4f760e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga0c3f093f91cee667b6ab2d5dfa4f760e">urgent_msgs</a></td></tr>
<tr class="separator:ga0c3f093f91cee667b6ab2d5dfa4f760e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This group contains the topics, messages and corresponding message types found within Asterisk. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga0280c402086b9e30df2cfc73494213ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0280c402086b9e30df2cfc73494213ac">&#9670;&nbsp;</a></span>AST_DEBUG_CATEGORY_DTLS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_DEBUG_CATEGORY_DTLS&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gadd41839a7dede33bd5dc1e9a3b41e173">ast_debug_category_dtls_id</a>() /* DTLS <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02850">2850</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l02581">ast_rtp_ice_start_media()</a>.</p>

</div>
</div>
<a id="ga10519e99b222cdb0a209413576e339c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10519e99b222cdb0a209413576e339c1">&#9670;&nbsp;</a></span>AST_DEBUG_CATEGORY_DTLS_PACKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_DEBUG_CATEGORY_DTLS_PACKET&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8de49f8c81c23a3973b4bbfc5f9da89b">ast_debug_category_dtls_packet_id</a>() /* DTLS packet <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02851">2851</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

</div>
</div>
<a id="ga848f8deb4762ac97ef5f385b35f1c331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga848f8deb4762ac97ef5f385b35f1c331">&#9670;&nbsp;</a></span>AST_DEBUG_CATEGORY_ICE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_DEBUG_CATEGORY_ICE&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga2def1587d11cae8f25a132531073fe03">ast_debug_category_ice_id</a>() /* ICE <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02852">2852</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l02581">ast_rtp_ice_start_media()</a>, and <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03522">rtp_add_candidates_to_ice()</a>.</p>

</div>
</div>
<a id="ga3d984785a39ec8bb7eb07b82710f71ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d984785a39ec8bb7eb07b82710f71ca">&#9670;&nbsp;</a></span>AST_DEBUG_CATEGORY_RTCP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_DEBUG_CATEGORY_RTCP&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gac297e0868722424bbf63a22e4179d0e4">ast_debug_category_rtcp_id</a>() /* RTCP <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02848">2848</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

</div>
</div>
<a id="ga8645a3192b64ca250aae744122a3becf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8645a3192b64ca250aae744122a3becf">&#9670;&nbsp;</a></span>AST_DEBUG_CATEGORY_RTCP_PACKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_DEBUG_CATEGORY_RTCP_PACKET&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga0185509f8e6d3142af9bda551ed4448f">ast_debug_category_rtcp_packet_id</a>() /* RTCP packet <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02849">2849</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

</div>
</div>
<a id="ga8b9f207ccdf3fc8962a40f9691aba606"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8b9f207ccdf3fc8962a40f9691aba606">&#9670;&nbsp;</a></span>AST_DEBUG_CATEGORY_RTP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_DEBUG_CATEGORY_RTP&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga42aa0e60fa1c82a53fd1156b14aef793">ast_debug_category_rtp_id</a>() /* <a class="el" href="../../d1/d94/sip_8h.html#ad5ec12ad08cacd2598d873052c72857a">RTP</a> <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02846">2846</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

</div>
</div>
<a id="gaaf211278fc411964d3153512ffb80298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf211278fc411964d3153512ffb80298">&#9670;&nbsp;</a></span>AST_DEBUG_CATEGORY_RTP_PACKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_DEBUG_CATEGORY_RTP_PACKET&#160;&#160;&#160;<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga122d01a77f8d60e32d53135e26cccd6a">ast_debug_category_rtp_packet_id</a>() /* <a class="el" href="../../d1/d94/sip_8h.html#ad5ec12ad08cacd2598d873052c72857a">RTP</a> packet <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> logging category <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02847">2847</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

</div>
</div>
<a id="ga9dbe7d005a64dc025289cb8f942bf8d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9dbe7d005a64dc025289cb8f942bf8d0">&#9670;&nbsp;</a></span>ast_debug_dtls</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_debug_dtls</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sublevel, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d5/d1f/logger__category_8h.html#ad5e6ac27cd91f510ebbff6d445c42c91">ast_debug_category</a>(sublevel, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga0280c402086b9e30df2cfc73494213ac">AST_DEBUG_CATEGORY_DTLS</a>, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log debug level DTLS information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sublevel</td><td>Debug output sublevel (&gt;= 0) </td></tr>
    <tr><td class="paramname">...</td><td>String format and any associated arguments </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02886">2886</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03084">__rtp_recvfrom()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l08938">ast_rtp_bundle()</a>, and <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l02762">rtcp_debug_test_addr()</a>.</p>

</div>
</div>
<a id="gaa4f40b55c340e73c89a641f4407fafd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa4f40b55c340e73c89a641f4407fafd0">&#9670;&nbsp;</a></span>ast_debug_dtls_packet_is_allowed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_debug_dtls_packet_is_allowed&#160;&#160;&#160;<a class="el" href="../../d0/d87/logger__category_8c.html#a8d0de4a201ff6ab7068a572aa7e8f75d">ast_debug_category_is_allowed</a>(<a class="el" href="../../d5/d1f/logger__category_8h.html#a1b441edad5de1831924e98abec3bbf57">AST_LOG_CATEGORY_ENABLED</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga10519e99b222cdb0a209413576e339c1">AST_DEBUG_CATEGORY_DTLS_PACKET</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02890">2890</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

</div>
</div>
<a id="gaad9e84526c8d48bd3e980e732dd1f7df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad9e84526c8d48bd3e980e732dd1f7df">&#9670;&nbsp;</a></span>ast_debug_ice</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_debug_ice</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sublevel, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d5/d1f/logger__category_8h.html#ad5e6ac27cd91f510ebbff6d445c42c91">ast_debug_category</a>(sublevel, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga848f8deb4762ac97ef5f385b35f1c331">AST_DEBUG_CATEGORY_ICE</a>, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log debug level ICE information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sublevel</td><td>Debug output sublevel (&gt;= 0) </td></tr>
    <tr><td class="paramname">...</td><td>String format and any associated arguments </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02898">2898</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l01239">ast_rtp_ice_add_cand()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00821">ast_rtp_ice_add_remote_candidate()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l01734">ast_rtp_ice_change_components()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l01215">ast_rtp_ice_set_role()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l01031">ast_rtp_ice_start()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00891">ast_rtp_ice_stop()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l01577">ast_rtp_ice_turn_request()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l02656">ast_rtp_on_ice_complete()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l02648">ast_rtp_on_valid_pair()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03750">ice_create()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00959">ice_reset_session()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00814">process_ice_attributes()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03522">rtp_add_candidates_to_ice()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03828">rtp_allocate_transport()</a>, and <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03901">rtp_deallocate_transport()</a>.</p>

</div>
</div>
<a id="ga0915be7e2d33217121465cfb689318fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0915be7e2d33217121465cfb689318fd">&#9670;&nbsp;</a></span>ast_debug_rtcp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_debug_rtcp</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sublevel, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d5/d1f/logger__category_8h.html#ad5e6ac27cd91f510ebbff6d445c42c91">ast_debug_category</a>(sublevel, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga3d984785a39ec8bb7eb07b82710f71ca">AST_DEBUG_CATEGORY_RTCP</a>, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log debug level RTCP information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sublevel</td><td>Debug output sublevel (&gt;= 0) </td></tr>
    <tr><td class="paramname">...</td><td>String format and any associated arguments </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02873">2873</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04699">ast_rtcp_generate_compound_prefix()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l06100">ast_rtcp_interpret()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l08303">ast_rtp_prop_set()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l07638">ast_rtp_read()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l08497">ast_rtp_remote_address_set()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l05963">ast_rtp_rtcp_handle_nack()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l07087">rtp_instance_parse_transport_wide_cc()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04891">rtp_raw_write()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l06900">rtp_transport_wide_cc_feedback_produce()</a>, and <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l05222">rtp_write_rtcp_psfb()</a>.</p>

</div>
</div>
<a id="ga05b6db9484a21807cf4bcdbbf9539eb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05b6db9484a21807cf4bcdbbf9539eb7">&#9670;&nbsp;</a></span>ast_debug_rtcp_packet_is_allowed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_debug_rtcp_packet_is_allowed&#160;&#160;&#160;<a class="el" href="../../d0/d87/logger__category_8c.html#a8d0de4a201ff6ab7068a572aa7e8f75d">ast_debug_category_is_allowed</a>(<a class="el" href="../../d5/d1f/logger__category_8h.html#a1b441edad5de1831924e98abec3bbf57">AST_LOG_CATEGORY_ENABLED</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8645a3192b64ca250aae744122a3becf">AST_DEBUG_CATEGORY_RTCP_PACKET</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02877">2877</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l02762">rtcp_debug_test_addr()</a>.</p>

</div>
</div>
<a id="ga669fb90e123085584d65608ef87b2fe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga669fb90e123085584d65608ef87b2fe4">&#9670;&nbsp;</a></span>ast_debug_rtp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_debug_rtp</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sublevel, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d5/d1f/logger__category_8h.html#ad5e6ac27cd91f510ebbff6d445c42c91">ast_debug_category</a>(sublevel, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8b9f207ccdf3fc8962a40f9691aba606">AST_DEBUG_CATEGORY_RTP</a>,  __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log debug level RTP information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sublevel</td><td>Debug output sublevel (&gt;= 0) </td></tr>
    <tr><td class="paramname">...</td><td>String format and any associated arguments </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02860">2860</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04360">ast_rtp_change_source()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04255">ast_rtp_dtmf_end_with_duration()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l07638">ast_rtp_read()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04348">ast_rtp_update_source()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l05289">ast_rtp_write()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l06649">bridge_p2p_rtp_write()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l05463">create_dtmf_frame()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00228">create_rtp()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l05506">process_dtmf_rfc2833()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03828">rtp_allocate_transport()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00105">rtp_check_timeout()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04891">rtp_raw_write()</a>, and <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00071">send_keepalive()</a>.</p>

</div>
</div>
<a id="ga5009aeec1269fecc5f4e04c1c479116d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5009aeec1269fecc5f4e04c1c479116d">&#9670;&nbsp;</a></span>ast_debug_rtp_packet_is_allowed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_debug_rtp_packet_is_allowed&#160;&#160;&#160;<a class="el" href="../../d0/d87/logger__category_8c.html#a8d0de4a201ff6ab7068a572aa7e8f75d">ast_debug_category_is_allowed</a>(<a class="el" href="../../d5/d1f/logger__category_8h.html#a1b441edad5de1831924e98abec3bbf57">AST_LOG_CATEGORY_ENABLED</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaaf211278fc411964d3153512ffb80298">AST_DEBUG_CATEGORY_RTP_PACKET</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02864">2864</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l06100">ast_rtcp_interpret()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l07200">ast_rtp_interpret()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l07638">ast_rtp_read()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l06649">bridge_p2p_rtp_write()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l05724">process_cn_rfc3389()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l05644">process_dtmf_cisco()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l05506">process_dtmf_rfc2833()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l02746">rtp_debug_test_addr()</a>, and <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04891">rtp_raw_write()</a>.</p>

</div>
</div>
<a id="ga5be660321553c9f0d14c9d9307efcc84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5be660321553c9f0d14c9d9307efcc84">&#9670;&nbsp;</a></span>AST_LOG_CATEGORY_DTLS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_LOG_CATEGORY_DTLS&#160;&#160;&#160;&quot;dtls&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02832">2832</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03622">ast_rtp_engine_init()</a>, and <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03585">rtp_engine_shutdown()</a>.</p>

</div>
</div>
<a id="gad5e7c95bc24a751d7c2c64b43a0d9f87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5e7c95bc24a751d7c2c64b43a0d9f87">&#9670;&nbsp;</a></span>AST_LOG_CATEGORY_DTLS_PACKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_LOG_CATEGORY_DTLS_PACKET&#160;&#160;&#160;&quot;dtls_packet&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02834">2834</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03622">ast_rtp_engine_init()</a>, and <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03585">rtp_engine_shutdown()</a>.</p>

</div>
</div>
<a id="ga354a7a05dfbbf7392f398f516cd12cd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga354a7a05dfbbf7392f398f516cd12cd7">&#9670;&nbsp;</a></span>AST_LOG_CATEGORY_ICE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_LOG_CATEGORY_ICE&#160;&#160;&#160;&quot;ice&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02836">2836</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03622">ast_rtp_engine_init()</a>, and <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03585">rtp_engine_shutdown()</a>.</p>

</div>
</div>
<a id="ga61285a9e7352a27c4ff117b79cb369ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61285a9e7352a27c4ff117b79cb369ee">&#9670;&nbsp;</a></span>AST_LOG_CATEGORY_RTCP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_LOG_CATEGORY_RTCP&#160;&#160;&#160;&quot;rtcp&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02828">2828</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03622">ast_rtp_engine_init()</a>, and <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03585">rtp_engine_shutdown()</a>.</p>

</div>
</div>
<a id="ga501ac56386fce3535f67353537a508e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga501ac56386fce3535f67353537a508e7">&#9670;&nbsp;</a></span>AST_LOG_CATEGORY_RTCP_PACKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_LOG_CATEGORY_RTCP_PACKET&#160;&#160;&#160;&quot;rtcp_packet&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02830">2830</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03622">ast_rtp_engine_init()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l09145">handle_cli_rtcp_set_debug()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l09055">rtcp_do_debug_ip()</a>, and <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03585">rtp_engine_shutdown()</a>.</p>

</div>
</div>
<a id="ga7fadd9ceea8dd8eed05d9d9a544ff007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7fadd9ceea8dd8eed05d9d9a544ff007">&#9670;&nbsp;</a></span>AST_LOG_CATEGORY_RTP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_LOG_CATEGORY_RTP&#160;&#160;&#160;&quot;rtp&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02824">2824</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03622">ast_rtp_engine_init()</a>, and <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03585">rtp_engine_shutdown()</a>.</p>

</div>
</div>
<a id="gaa5ecf12e596867bc22d8df75d2568d96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa5ecf12e596867bc22d8df75d2568d96">&#9670;&nbsp;</a></span>AST_LOG_CATEGORY_RTP_PACKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_LOG_CATEGORY_RTP_PACKET&#160;&#160;&#160;&quot;rtp_packet&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l02826">2826</a> of file <a class="el" href="../../d5/dde/rtp__engine_8h_source.html">rtp_engine.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03622">ast_rtp_engine_init()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l09072">handle_cli_rtp_set_debug()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l09038">rtp_do_debug_ip()</a>, and <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03585">rtp_engine_shutdown()</a>.</p>

</div>
</div>
<a id="gad739ea26c060ff7a2195107b53f9715c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad739ea26c060ff7a2195107b53f9715c">&#9670;&nbsp;</a></span>AST_MAX_MAILBOX_UNIQUEID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MAX_MAILBOX_UNIQUEID&#160;&#160;&#160;(<a class="el" href="../../d4/dc5/extconf_8c.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a> + <a class="el" href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a> + 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00574">574</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31631">build_peer()</a>.</p>

</div>
</div>
<a id="gad6616af7b6415ff5186c87a0236df462"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6616af7b6415ff5186c87a0236df462">&#9670;&nbsp;</a></span>STASIS_UMOS_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STASIS_UMOS_MAX&#160;&#160;&#160;(<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da1f02519f8ea66bad627d5797b0c6b0ce">STASIS_UMOS_ENDPOINT</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of snapshot types. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d79/stasis_8h_source.html#l01364">1364</a> of file <a class="el" href="../../dd/d79/stasis_8h_source.html">stasis.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/df4/stasis_8c_source.html#l01975">ast_multi_object_blob_create()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01959">multi_object_blob_dtor()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02096">multi_object_blob_to_ami()</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l02045">multi_user_event_to_json()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gae4d6df086e192d70f732e3ce8a5a2210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4d6df086e192d70f732e3ce8a5a2210">&#9670;&nbsp;</a></span>ast_channel_snapshot_segment_invalidation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gae4d6df086e192d70f732e3ce8a5a2210">ast_channel_snapshot_segment_invalidation</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channel snapshot invalidation flags, used to force generation of segments. </p>
<dl class="section since"><dt>Since</dt><dd>17 </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggae4d6df086e192d70f732e3ce8a5a2210a43850d4e8c313dc3b3a601ac24e5c78e"></a>AST_CHANNEL_SNAPSHOT_INVALIDATE_BRIDGE&#160;</td><td class="fielddoc"><p>Invalidate the bridge segment </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae4d6df086e192d70f732e3ce8a5a2210adba47db1c1d1d9943c11a03d3952e036"></a>AST_CHANNEL_SNAPSHOT_INVALIDATE_DIALPLAN&#160;</td><td class="fielddoc"><p>Invalidate the dialplan segment </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae4d6df086e192d70f732e3ce8a5a2210ac744bafb6ef5c6a5369e15ef08810016"></a>AST_CHANNEL_SNAPSHOT_INVALIDATE_CONNECTED&#160;</td><td class="fielddoc"><p>Invalidate the connected segment </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae4d6df086e192d70f732e3ce8a5a2210a06fc3d57de686a0838563fb1cd0c25d8"></a>AST_CHANNEL_SNAPSHOT_INVALIDATE_CALLER&#160;</td><td class="fielddoc"><p>Invalidate the caller segment </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae4d6df086e192d70f732e3ce8a5a2210a1d4b689e7e54114166e8cd673cf10bc6"></a>AST_CHANNEL_SNAPSHOT_INVALIDATE_HANGUP&#160;</td><td class="fielddoc"><p>Invalidate the hangup segment </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae4d6df086e192d70f732e3ce8a5a2210a06c65241df5d3643cd5123730331f9da"></a>AST_CHANNEL_SNAPSHOT_INVALIDATE_PEER&#160;</td><td class="fielddoc"><p>Invalidate the peer segment </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae4d6df086e192d70f732e3ce8a5a2210a6d702d1212aa14296c16506a65edff5f"></a>AST_CHANNEL_SNAPSHOT_INVALIDATE_BASE&#160;</td><td class="fielddoc"><p>Invalidate the base segment </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00035">35</a> of file <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html">stasis_channels.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                                               {<span class="comment"></span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">   /*! Invalidate the bridge segment */</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a43850d4e8c313dc3b3a601ac24e5c78e">AST_CHANNEL_SNAPSHOT_INVALIDATE_BRIDGE</a> = (1 &lt;&lt; 1),<span class="comment"></span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">   /*! Invalidate the dialplan segment */</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210adba47db1c1d1d9943c11a03d3952e036">AST_CHANNEL_SNAPSHOT_INVALIDATE_DIALPLAN</a> = (1 &lt;&lt; 2),<span class="comment"></span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">   /*! Invalidate the connected segment */</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210ac744bafb6ef5c6a5369e15ef08810016">AST_CHANNEL_SNAPSHOT_INVALIDATE_CONNECTED</a> = (1 &lt;&lt; 3),<span class="comment"></span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">   /*! Invalidate the caller segment */</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a06fc3d57de686a0838563fb1cd0c25d8">AST_CHANNEL_SNAPSHOT_INVALIDATE_CALLER</a> = (1 &lt;&lt; 4),<span class="comment"></span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">   /*! Invalidate the hangup segment */</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a1d4b689e7e54114166e8cd673cf10bc6">AST_CHANNEL_SNAPSHOT_INVALIDATE_HANGUP</a> = (1 &lt;&lt; 5),<span class="comment"></span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">   /*! Invalidate the peer segment */</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a06c65241df5d3643cd5123730331f9da">AST_CHANNEL_SNAPSHOT_INVALIDATE_PEER</a> = (1 &lt;&lt; 6),<span class="comment"></span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">   /*! Invalidate the base segment */</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a6d702d1212aa14296c16506a65edff5f">AST_CHANNEL_SNAPSHOT_INVALIDATE_BASE</a> = (1 &lt;&lt; 7),</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;};</div><div class="ttc" id="group__StasisTopicsAndMessages_html_ggae4d6df086e192d70f732e3ce8a5a2210a43850d4e8c313dc3b3a601ac24e5c78e"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a43850d4e8c313dc3b3a601ac24e5c78e">AST_CHANNEL_SNAPSHOT_INVALIDATE_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00037">stasis_channels.h:37</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ggae4d6df086e192d70f732e3ce8a5a2210a1d4b689e7e54114166e8cd673cf10bc6"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a1d4b689e7e54114166e8cd673cf10bc6">AST_CHANNEL_SNAPSHOT_INVALIDATE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00045">stasis_channels.h:45</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ggae4d6df086e192d70f732e3ce8a5a2210ac744bafb6ef5c6a5369e15ef08810016"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210ac744bafb6ef5c6a5369e15ef08810016">AST_CHANNEL_SNAPSHOT_INVALIDATE_CONNECTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00041">stasis_channels.h:41</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ggae4d6df086e192d70f732e3ce8a5a2210a06fc3d57de686a0838563fb1cd0c25d8"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a06fc3d57de686a0838563fb1cd0c25d8">AST_CHANNEL_SNAPSHOT_INVALIDATE_CALLER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00043">stasis_channels.h:43</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ggae4d6df086e192d70f732e3ce8a5a2210a6d702d1212aa14296c16506a65edff5f"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a6d702d1212aa14296c16506a65edff5f">AST_CHANNEL_SNAPSHOT_INVALIDATE_BASE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00049">stasis_channels.h:49</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ggae4d6df086e192d70f732e3ce8a5a2210adba47db1c1d1d9943c11a03d3952e036"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210adba47db1c1d1d9943c11a03d3952e036">AST_CHANNEL_SNAPSHOT_INVALIDATE_DIALPLAN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00039">stasis_channels.h:39</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ggae4d6df086e192d70f732e3ce8a5a2210a06c65241df5d3643cd5123730331f9da"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a06c65241df5d3643cd5123730331f9da">AST_CHANNEL_SNAPSHOT_INVALIDATE_PEER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00047">stasis_channels.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga4cf6fe670f1f46e8db561d407b694d4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4cf6fe670f1f46e8db561d407b694d4d">&#9670;&nbsp;</a></span>stasis_user_multi_object_snapshot_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4cf6fe670f1f46e8db561d407b694d4d">stasis_user_multi_object_snapshot_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object type code for multi user object snapshots. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga4cf6fe670f1f46e8db561d407b694d4da679186d0a76e3ed91a98c2289921485a"></a>STASIS_UMOS_CHANNEL&#160;</td><td class="fielddoc"><p>Channel Snapshots </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4cf6fe670f1f46e8db561d407b694d4da30a07e65360c3484148ca1750067fe87"></a>STASIS_UMOS_BRIDGE&#160;</td><td class="fielddoc"><p>Bridge Snapshots </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4cf6fe670f1f46e8db561d407b694d4da1f02519f8ea66bad627d5797b0c6b0ce"></a>STASIS_UMOS_ENDPOINT&#160;</td><td class="fielddoc"><p>Endpoint Snapshots </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dd/d79/stasis_8h_source.html#l01357">1357</a> of file <a class="el" href="../../dd/d79/stasis_8h_source.html">stasis.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                                            {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da679186d0a76e3ed91a98c2289921485a">STASIS_UMOS_CHANNEL</a> = 0,     <span class="comment">/*!&lt; Channel Snapshots */</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da30a07e65360c3484148ca1750067fe87">STASIS_UMOS_BRIDGE</a>,          <span class="comment">/*!&lt; Bridge Snapshots */</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da1f02519f8ea66bad627d5797b0c6b0ce">STASIS_UMOS_ENDPOINT</a>,        <span class="comment">/*!&lt; Endpoint Snapshots */</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;};</div><div class="ttc" id="group__StasisTopicsAndMessages_html_gga4cf6fe670f1f46e8db561d407b694d4da30a07e65360c3484148ca1750067fe87"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da30a07e65360c3484148ca1750067fe87">STASIS_UMOS_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01359">stasis.h:1359</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gga4cf6fe670f1f46e8db561d407b694d4da679186d0a76e3ed91a98c2289921485a"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da679186d0a76e3ed91a98c2289921485a">STASIS_UMOS_CHANNEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01358">stasis.h:1358</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gga4cf6fe670f1f46e8db561d407b694d4da1f02519f8ea66bad627d5797b0c6b0ce"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da1f02519f8ea66bad627d5797b0c6b0ce">STASIS_UMOS_ENDPOINT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01360">stasis.h:1360</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga03332d35946786d0689462e58d01467a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03332d35946786d0689462e58d01467a">&#9670;&nbsp;</a></span>ast_channel_agent_login_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_agent_login_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for agent login on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>18.0.0 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l11324">load_module()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l05895">queue_agent_cb()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01439">send_agent_login()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga55d6d1e96f8f003200274d8756a9398a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55d6d1e96f8f003200274d8756a9398a">&#9670;&nbsp;</a></span>ast_channel_agent_logoff_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_agent_logoff_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for agent logoff on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l11324">load_module()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l05895">queue_agent_cb()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01454">send_agent_logoff()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="gae23eb2907ce7b59817fc0e47f09abf42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae23eb2907ce7b59817fc0e47f09abf42">&#9670;&nbsp;</a></span>ast_channel_blob_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>* ast_channel_blob_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="../../db/df0/structast__channel__blob.html">ast_channel_blob</a> message. </p>
<dl class="section since"><dt>Since</dt><dd>12 The given <em>blob</em> should be treated as immutable and not modified after it is put into the message.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>chan is locked</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel blob is associated with, or <code>NULL</code> for global/all channels. </td></tr>
    <tr><td class="paramname">type</td><td>Message type for this blob. </td></tr>
    <tr><td class="paramname">blob</td><td>JSON object representing the data, or <code>NULL</code> for no data. If <code>NULL</code>, <a class="el" href="../../d4/d05/json_8h.html#a8055cb3a9f4d7d5842826e6157ae00db" title="Get the JSON null value. ">ast_json_null()</a> is put into the object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../db/df0/structast__channel__blob.html">ast_channel_blob</a> message. </dd>
<dd>
<code>NULL</code> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00788">788</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01648">ast_channel_snapshot()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00745">create_channel_blob_message()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01083">app_send_end_msg()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01135">ast_channel_publish_blob()</a>, <a class="el" href="../../d4/dbd/test__stasis__channels_8c_source.html#l00053">AST_TEST_DEFINE()</a>, and <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01343">meetme_stasis_generate_msg()</a>.</p>
<div class="fragment"><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;{</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   <span class="keywordflow">if</span> (!type) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;   }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;   snapshot = chan ? <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a070a71f73f7b63af6d8c78c536b6fafb">ast_channel_snapshot</a>(chan)) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   msg = <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a02ce2e0eb621c0e63de27aaeaa1898f2">create_channel_blob_message</a>(snapshot, type, blob);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(snapshot);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   <span class="keywordflow">return</span> msg;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div><div class="ttc" id="channel_8h_html_a070a71f73f7b63af6d8c78c536b6fafb"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a070a71f73f7b63af6d8c78c536b6fafb">ast_channel_snapshot</a></div><div class="ttdeci">struct ast_channel_snapshot * ast_channel_snapshot(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01648">channel_internal_api.c:1648</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a></div><div class="ttdoc">Structure representing a snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00145">stasis_channels.h:145</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a02ce2e0eb621c0e63de27aaeaa1898f2"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a02ce2e0eb621c0e63de27aaeaa1898f2">create_channel_blob_message</a></div><div class="ttdeci">static struct stasis_message * create_channel_blob_message(struct ast_channel_snapshot *snapshot, struct stasis_message_type *type, struct ast_json *blob)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00745">stasis_channels.c:745</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gafe8b123e0c124e44c3bff016591d3f9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe8b123e0c124e44c3bff016591d3f9c">&#9670;&nbsp;</a></span>ast_channel_blob_create_from_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>* ast_channel_blob_create_from_cache </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uniqueid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="../../db/df0/structast__channel__blob.html">ast_channel_blob</a> message, pulling channel state from the cache. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uniqueid</td><td>Uniqueid of the channel. </td></tr>
    <tr><td class="paramname">type</td><td>Message type for this blob. </td></tr>
    <tr><td class="paramname">blob</td><td>JSON object representing the data, or <code>NULL</code> for no data. If <code>NULL</code>, <a class="el" href="../../d4/d05/json_8h.html#a8055cb3a9f4d7d5842826e6157ae00db" title="Get the JSON null value. ">ast_json_null()</a> is put into the object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../db/df0/structast__channel__blob.html">ast_channel_blob</a> message. </dd>
<dd>
<code>NULL</code> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00771">771</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00903">ast_channel_snapshot_get_latest()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00745">create_channel_blob_message()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dc9/cel_8c_source.html#l01666">ast_cel_publish_event()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01120">ast_channel_publish_cached_blob()</a>, <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00305">ast_monitor_start()</a>, <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00461">ast_monitor_stop()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01406">manager_mute_mixmonitor()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01115">mixmonitor_exec()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l00239">moh_post_start()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l00264">moh_post_stop()</a>, <a class="el" href="../../df/dde/app__fax_8c_source.html#l00206">phase_e_handler()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">playback_publish()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00217">recording_publish()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01407">report_fax_status()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02018">report_receive_fax_status()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02527">report_send_fax_status()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01257">stop_mixmonitor_full()</a>, and <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00159">talk_detect_audiohook_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;{</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   <span class="keywordflow">if</span> (!type) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   }</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   snapshot = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a>(channel_id);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   msg = <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a02ce2e0eb621c0e63de27aaeaa1898f2">create_channel_blob_message</a>(snapshot, type, blob);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(snapshot);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   <span class="keywordflow">return</span> msg;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;}</div><div class="ttc" id="structast__channel__snapshot_html"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a></div><div class="ttdoc">Structure representing a snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00145">stasis_channels.h:145</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a02ce2e0eb621c0e63de27aaeaa1898f2"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a02ce2e0eb621c0e63de27aaeaa1898f2">create_channel_blob_message</a></div><div class="ttdeci">static struct stasis_message * create_channel_blob_message(struct ast_channel_snapshot *snapshot, struct stasis_message_type *type, struct ast_json *blob)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00745">stasis_channels.c:745</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga68c55b443ba97dc157b493aafd05c876"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a></div><div class="ttdeci">struct ast_channel_snapshot * ast_channel_snapshot_get_latest(const char *uniqueid)</div><div class="ttdoc">Obtain the latest ast_channel_snapshot from the Stasis Message Bus API cache. This is an ao2 object...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00903">stasis_channels.c:903</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga22135951096d748d6ff98ed45cb25639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga22135951096d748d6ff98ed45cb25639">&#9670;&nbsp;</a></span>ast_channel_cache_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_channel_cache_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00123">123</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00956">ast_ari_channels_list()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l01830">ast_complete_channels()</a>, and <a class="el" href="../../df/d8d/channels_8c_source.html#l00130">channels_scrape_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#aaf65252850301d8e4d6864b644944749">channel_cache</a>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_aaf65252850301d8e4d6864b644944749"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#aaf65252850301d8e4d6864b644944749">channel_cache</a></div><div class="ttdeci">static struct ao2_container * channel_cache</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00120">stasis_channels.c:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gae462040f6444a2a4fc9d2681f49cc99b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae462040f6444a2a4fc9d2681f49cc99b">&#9670;&nbsp;</a></span>ast_channel_cache_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_channel_cache_by_name </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Secondary channel cache, indexed by name. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Cache</td><td>of <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00133">133</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l06390">action_coreshowchannels()</a>, <a class="el" href="../../d9/d6d/cli__commands_8c_source.html#l00196">get_container()</a>, and <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l01067">handle_chanlist()</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#a52c276aa22bdd7c123bb167b01b86b8e">channel_cache_by_name</a>);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a52c276aa22bdd7c123bb167b01b86b8e"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a52c276aa22bdd7c123bb167b01b86b8e">channel_cache_by_name</a></div><div class="ttdeci">static struct ao2_container * channel_cache_by_name</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00121">stasis_channels.c:121</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga82b40d5d80727f7fd39b6d1fbca3131e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga82b40d5d80727f7fd39b6d1fbca3131e">&#9670;&nbsp;</a></span>ast_channel_chanspy_start_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_chanspy_start_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for when a channel starts spying on another channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00565">publish_chanspy_message()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga689d6e83223f090da8c87e2efd793940"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga689d6e83223f090da8c87e2efd793940">&#9670;&nbsp;</a></span>ast_channel_chanspy_stop_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_chanspy_stop_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for when a channel stops spying on another channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00565">publish_chanspy_message()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="gaf2f12b95a707aaa2e0b9a5840686b081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2f12b95a707aaa2e0b9a5840686b081">&#9670;&nbsp;</a></span>ast_channel_dial_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_dial_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for when a channel dials another channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00602">ast_channel_publish_dial_internal()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01500">create_routes()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l04522">load_module()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00347">sub_default_handler()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga9de7fcf34407ccef0f56764ecfa1f7a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9de7fcf34407ccef0f56764ecfa1f7a4">&#9670;&nbsp;</a></span>ast_channel_dtmf_begin_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_dtmf_begin_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for when DTMF begins on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03378">send_dtmf_begin_event()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="gaa247523a680e6e57a3478b7f992ab3a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa247523a680e6e57a3478b7f992ab3a5">&#9670;&nbsp;</a></span>ast_channel_dtmf_end_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_dtmf_end_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for when DTMF ends on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03394">send_dtmf_end_event()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga6d11307e605e80f977bde354a11d7902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d11307e605e80f977bde354a11d7902">&#9670;&nbsp;</a></span>ast_channel_fax_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_fax_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for a fax operation. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../df/dde/app__fax_8c_source.html#l00206">phase_e_handler()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01407">report_fax_status()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02018">report_receive_fax_status()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02527">report_send_fax_status()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga55a45e7abb3232774a1e2d1aceaf3491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55a45e7abb3232774a1e2d1aceaf3491">&#9670;&nbsp;</a></span>ast_channel_flash_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_flash_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for when a hook flash occurs on a channel. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03411">send_flash_event()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="gafe7970bdc59763eaa9c531f0d2318fba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe7970bdc59763eaa9c531f0d2318fba">&#9670;&nbsp;</a></span>ast_channel_hangup_handler_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_hangup_handler_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for hangup handler related actions. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00044">publish_hangup_handler_message()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="gab7e251e9a467cda68d93a47184fe0727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7e251e9a467cda68d93a47184fe0727">&#9670;&nbsp;</a></span>ast_channel_hangup_request_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_hangup_request_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for when a hangup is requested on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l01150">ast_queue_hangup()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01166">ast_queue_hangup_with_cause()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02476">ast_softhangup()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06514">setup_stasis_subs()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga624c4bd0bf97a8a1a9e335cb26996f97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga624c4bd0bf97a8a1a9e335cb26996f97">&#9670;&nbsp;</a></span>ast_channel_hold_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_hold_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for when a channel is placed on hold. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01167">ast_bridge_channel_write_hold()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01191">ast_queue_hold()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../dd/d7d/func__holdintercept_8c_source.html#l00108">hold_intercept_framehook()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga793b849e5b7c9257e92fe30621de5b74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga793b849e5b7c9257e92fe30621de5b74">&#9670;&nbsp;</a></span>ast_channel_masquerade_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_masquerade_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for when a channel is being masqueraded. </p>
<dl class="section since"><dt>Since</dt><dd>16 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l10867">ast_channel_move()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06514">setup_stasis_subs()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga4a0dd953a7a98de22b02e9748093e9d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a0dd953a7a98de22b02e9748093e9d7">&#9670;&nbsp;</a></span>ast_channel_mixmonitor_mute_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_mixmonitor_mute_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for muting or unmuting mixmonitor on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>18 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01406">manager_mute_mixmonitor()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga1d79ca992d986295b77e209c1de4e9d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d79ca992d986295b77e209c1de4e9d5">&#9670;&nbsp;</a></span>ast_channel_mixmonitor_start_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_mixmonitor_start_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for starting mixmonitor on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>18 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01115">mixmonitor_exec()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="gacf301e77203685c2968fb91f7ba6f068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf301e77203685c2968fb91f7ba6f068">&#9670;&nbsp;</a></span>ast_channel_mixmonitor_stop_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_mixmonitor_stop_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for stopping mixmonitor on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>18 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01257">stop_mixmonitor_full()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="gad76683cb3445474780632ef80af5c778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad76683cb3445474780632ef80af5c778">&#9670;&nbsp;</a></span>ast_channel_moh_start_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_moh_start_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for starting music on hold on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l00239">moh_post_start()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga2de8d798ebdd1b8f1fe783bf9b7a8257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2de8d798ebdd1b8f1fe783bf9b7a8257">&#9670;&nbsp;</a></span>ast_channel_moh_stop_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_moh_stop_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for stopping music on hold on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l00264">moh_post_stop()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga655bddef1a90d2c392fd5d9e3db7ce91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga655bddef1a90d2c392fd5d9e3db7ce91">&#9670;&nbsp;</a></span>ast_channel_monitor_start_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_monitor_start_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for starting monitor on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00305">ast_monitor_start()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga1356cf3d698c9b5d9f2101c1ff4ae243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1356cf3d698c9b5d9f2101c1ff4ae243">&#9670;&nbsp;</a></span>ast_channel_monitor_stop_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_monitor_stop_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for stopping monitor on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00461">ast_monitor_stop()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="gaf03b8daa7784a26648db90614add6caa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf03b8daa7784a26648db90614add6caa">&#9670;&nbsp;</a></span>ast_channel_publish_blob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_publish_blob </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish a channel blob message. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>chan is locked</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel publishing the blob. </td></tr>
    <tr><td class="paramname">type</td><td>Type of stasis message. </td></tr>
    <tr><td class="paramname">blob</td><td>The blob being published. (NULL if no blob)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This will use the current snapshot on the channel and will not generate a new one.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01135">1135</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00788">ast_channel_blob_create()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01502">ast_channel_topic()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00248">ast_json_null()</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l10867">ast_channel_move()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01150">ast_channel_publish_varset()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01150">ast_queue_hangup()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01166">ast_queue_hangup_with_cause()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01191">ast_queue_hold()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01216">ast_queue_unhold()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02476">ast_softhangup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01772">publish_dahdichannel()</a>, <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00044">publish_hangup_handler_message()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01439">send_agent_login()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01454">send_agent_logoff()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03378">send_dtmf_begin_event()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03394">send_dtmf_end_event()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03411">send_flash_event()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29879">send_session_timeout()</a>.</p>
<div class="fragment"><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;{</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="code" href="../../d8/d9e/structmessage.html">message</a>;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;   <span class="keywordflow">if</span> (!blob) {</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      blob = <a class="code" href="../../d4/d05/json_8h.html#a8055cb3a9f4d7d5842826e6157ae00db">ast_json_null</a>();</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;   }</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;   message = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gae23eb2907ce7b59817fc0e47f09abf42">ast_channel_blob_create</a>(chan, type, blob);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;   <span class="keywordflow">if</span> (message) {</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a>(chan), message);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(message, -1);</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;   }</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="json_8h_html_a8055cb3a9f4d7d5842826e6157ae00db"><div class="ttname"><a href="../../d4/d05/json_8h.html#a8055cb3a9f4d7d5842826e6157ae00db">ast_json_null</a></div><div class="ttdeci">struct ast_json * ast_json_null(void)</div><div class="ttdoc">Get the JSON null value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00248">json.c:248</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_afdeaf9abb1aecc715313a4f62c1cf9c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a></div><div class="ttdeci">struct stasis_topic * ast_channel_topic(struct ast_channel *chan)</div><div class="ttdoc">A topic which publishes the events for a particular channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01502">channel_internal_api.c:1502</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gae23eb2907ce7b59817fc0e47f09abf42"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gae23eb2907ce7b59817fc0e47f09abf42">ast_channel_blob_create</a></div><div class="ttdeci">struct stasis_message * ast_channel_blob_create(struct ast_channel *chan, struct stasis_message_type *type, struct ast_json *blob)</div><div class="ttdoc">Creates a ast_channel_blob message. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00788">stasis_channels.c:788</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga565fc39c360b014dd5d4054fa72bbae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga565fc39c360b014dd5d4054fa72bbae8">&#9670;&nbsp;</a></span>ast_channel_publish_cached_blob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_publish_cached_blob </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish a channel blob message using the latest snapshot from the cache. </p>
<dl class="section since"><dt>Since</dt><dd>12.4.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel publishing the blob. </td></tr>
    <tr><td class="paramname">type</td><td>Type of stasis message. </td></tr>
    <tr><td class="paramname">blob</td><td>The blob being published. (NULL if no blob)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>As this only accesses the uniqueid and topic of the channel - neither of which should ever be changed on a channel anyhow - a channel does not have to be locked when calling this function.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01120">1120</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00771">ast_channel_blob_create_from_cache()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01502">ast_channel_topic()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00248">ast_json_null()</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/de9/res__agi_8c_source.html#l04021">agi_handle_command()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01167">ast_bridge_channel_write_hold()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01193">ast_bridge_channel_write_unhold()</a>, <a class="el" href="../../dd/d7d/func__holdintercept_8c_source.html#l00108">hold_intercept_framehook()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03832">join_queue()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l01787">launch_asyncagi()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04151">leave_queue()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l04010">publish_async_exec_end()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04808">record_abandoned()</a>.</p>
<div class="fragment"><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;{</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="code" href="../../d8/d9e/structmessage.html">message</a>;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   <span class="keywordflow">if</span> (!blob) {</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      blob = <a class="code" href="../../d4/d05/json_8h.html#a8055cb3a9f4d7d5842826e6157ae00db">ast_json_null</a>();</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;   }</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;   message = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gafe8b123e0c124e44c3bff016591d3f9c">ast_channel_blob_create_from_cache</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan), type, blob);</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;   <span class="keywordflow">if</span> (message) {</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a>(chan), message);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(message, -1);</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;   }</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="json_8h_html_a8055cb3a9f4d7d5842826e6157ae00db"><div class="ttname"><a href="../../d4/d05/json_8h.html#a8055cb3a9f4d7d5842826e6157ae00db">ast_json_null</a></div><div class="ttdeci">struct ast_json * ast_json_null(void)</div><div class="ttdoc">Get the JSON null value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00248">json.c:248</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="channel_8h_html_afdeaf9abb1aecc715313a4f62c1cf9c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a></div><div class="ttdeci">struct stasis_topic * ast_channel_topic(struct ast_channel *chan)</div><div class="ttdoc">A topic which publishes the events for a particular channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01502">channel_internal_api.c:1502</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gafe8b123e0c124e44c3bff016591d3f9c"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gafe8b123e0c124e44c3bff016591d3f9c">ast_channel_blob_create_from_cache</a></div><div class="ttdeci">struct stasis_message * ast_channel_blob_create_from_cache(const char *channel_id, struct stasis_message_type *type, struct ast_json *blob)</div><div class="ttdoc">Create a ast_channel_blob message, pulling channel state from the cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00771">stasis_channels.c:771</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7d446221f9a272b003c4ad660a7e14dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d446221f9a272b003c4ad660a7e14dc">&#9670;&nbsp;</a></span>ast_channel_publish_dial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_publish_dial </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dialstatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish in the <a class="el" href="../../db/de2/channel__internal__api_8c.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a> or <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga34a3ac59fb8d0c49cbc2cb9b87261d31">ast_channel_topic_all</a> topics a stasis message for the channels involved in a dial operation. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">caller</td><td>The channel performing the dial operation </td></tr>
    <tr><td class="paramname">peer</td><td>The channel being dialed </td></tr>
    <tr><td class="paramname">dialstring</td><td>When beginning a dial, the information passed to the dialing application </td></tr>
    <tr><td class="paramname">dialstatus</td><td>The current status of the dial operation (NULL if no status is known) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">739</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00689">ast_channel_publish_dial_forward()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01628">app_control_dial()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00535">AST_TEST_DEFINE()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00451">begin_dial_channel()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02608">bridge_handle_trip()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l00930">do_forward()</a>, <a class="el" href="../../dd/d55/app__followme_8c_source.html#l01033">findmeexec()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00582">handle_frame()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04250">hangupcalls()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00770">monitor_dial()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01146">publish_dial_end_event()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04478">ring_entry()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06722">try_calling()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01202">wait_for_answer()</a>, and <a class="el" href="../../dd/d55/app__followme_8c_source.html#l00644">wait_for_winner()</a>.</p>
<div class="fragment"><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;{</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf83a1fec8f09a2acf1dc6912207af41a">ast_channel_publish_dial_forward</a>(caller, peer, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, dialstring, dialstatus, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf83a1fec8f09a2acf1dc6912207af41a"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf83a1fec8f09a2acf1dc6912207af41a">ast_channel_publish_dial_forward</a></div><div class="ttdeci">void ast_channel_publish_dial_forward(struct ast_channel *caller, struct ast_channel *peer, struct ast_channel *forwarded, const char *dialstring, const char *dialstatus, const char *forward)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00689">stasis_channels.c:689</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf83a1fec8f09a2acf1dc6912207af41a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf83a1fec8f09a2acf1dc6912207af41a">&#9670;&nbsp;</a></span>ast_channel_publish_dial_forward()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_publish_dial_forward </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>forwarded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dialstatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>forward</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish in the <a class="el" href="../../db/de2/channel__internal__api_8c.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a> or <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga34a3ac59fb8d0c49cbc2cb9b87261d31">ast_channel_topic_all</a> topics a stasis message for the channels involved in a dial operation that is forwarded. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">caller</td><td>The channel performing the dial operation </td></tr>
    <tr><td class="paramname">peer</td><td>The channel being dialed </td></tr>
    <tr><td class="paramname">forwarded</td><td>The channel created as a result of the call forwarding </td></tr>
    <tr><td class="paramname">dialstring</td><td>The information passed to the dialing application when beginning a dial </td></tr>
    <tr><td class="paramname">dialstatus</td><td>The current status of the dial operation </td></tr>
    <tr><td class="paramname">forward</td><td>The call forward string provided by the dialed channel </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00689">689</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00602">ast_channel_publish_dial_internal()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02947">ast_channel_trylock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l02081">remove_dial_masquerade()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l02100">remove_dial_masquerade_caller()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l02002">set_dial_masquerade()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02608">bridge_handle_trip()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l00930">do_forward()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00501">handle_call_forward()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04937">wait_for_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;{</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(peer != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <span class="comment">/* XXX With an early bridge the below dial masquerade datastore code could, theoretically,</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">    * go away as the act of changing the channel during dialing would be done using the bridge</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">    * API itself and not a masquerade.</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   <span class="keywordflow">if</span> (caller) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">       * Lock two or three channels.</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">       * We need to hold the locks to hold off a potential masquerade</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">       * messing up the stasis dial event ordering.</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <span class="keywordflow">for</span> (;; <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(caller), sched_yield()) {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(caller);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a>(peer)) {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;         }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;         <span class="keywordflow">if</span> (forwarded &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a>(forwarded)) {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(peer);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;         }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(dialstatus)) {</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;         <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a24ab8d0c3f0c2d703345989f1136033e">set_dial_masquerade</a>(caller, peer, dialstring);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;         <a class="code" href="../../dc/d2b/stasis__channels_8c.html#abc3f0a7d4d2a3b09cc67b9e7cbd94a94">remove_dial_masquerade</a>(peer);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      }</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a524fe6236bd1c814f2efd3fff39d50b9">ast_channel_publish_dial_internal</a>(caller, peer, forwarded, dialstring, dialstatus,</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      forward);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   <span class="keywordflow">if</span> (caller) {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keywordflow">if</span> (forwarded) {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(forwarded);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(peer);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a83095041bd99be45f60bc4ca980594a5">remove_dial_masquerade_caller</a>(caller);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(caller);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a83095041bd99be45f60bc4ca980594a5"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a83095041bd99be45f60bc4ca980594a5">remove_dial_masquerade_caller</a></div><div class="ttdeci">static void remove_dial_masquerade_caller(struct ast_channel *caller)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l02100">stasis_channels.c:2100</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a24ab8d0c3f0c2d703345989f1136033e"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a24ab8d0c3f0c2d703345989f1136033e">set_dial_masquerade</a></div><div class="ttdeci">static int set_dial_masquerade(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l02002">stasis_channels.c:2002</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a524fe6236bd1c814f2efd3fff39d50b9"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a524fe6236bd1c814f2efd3fff39d50b9">ast_channel_publish_dial_internal</a></div><div class="ttdeci">static void ast_channel_publish_dial_internal(struct ast_channel *caller, struct ast_channel *peer, struct ast_channel *forwarded, const char *dialstring, const char *dialstatus, const char *forward)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00602">stasis_channels.c:602</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_abc3f0a7d4d2a3b09cc67b9e7cbd94a94"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#abc3f0a7d4d2a3b09cc67b9e7cbd94a94">remove_dial_masquerade</a></div><div class="ttdeci">static void remove_dial_masquerade(struct ast_channel *peer)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l02081">stasis_channels.c:2081</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a7dc0d696d897c864c6f41a3a1795c82e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a></div><div class="ttdeci">#define ast_channel_trylock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02947">channel.h:2947</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga83e4b9493ba37c5052e722fad015503b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83e4b9493ba37c5052e722fad015503b">&#9670;&nbsp;</a></span>ast_channel_publish_final_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_publish_final_snapshot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the final channel snapshot for a channel, thus removing it from cache. </p>
<dl class="section since"><dt>Since</dt><dd>17 </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>chan is locked</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel to send the final channel snapshot for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This will also remove the cached snapshot from the channel itself </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00917">917</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01598">ao2_unlink</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01653">ast_channel_snapshot_set()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01502">ast_channel_topic()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00566">channel_snapshot_update_create()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00174">ast_channel_snapshot_update::old_snapshot</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message_create()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>, and <a class="el" href="../../d0/d89/codec__g726_8c_source.html#l00367">update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l02192">ast_channel_destructor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;{</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d33/structast__channel__snapshot__update.html">ast_channel_snapshot_update</a> *<a class="code" href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="code" href="../../d8/d9e/structmessage.html">message</a>;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type</a>()) {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;   }</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   update = <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a9794668c725dbba3814e12f3f5f39329">channel_snapshot_update_create</a>(chan);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   <span class="keywordflow">if</span> (!update) {</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;   }</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   message = <a class="code" href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type</a>(), update);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <span class="comment">/* In the success path message holds a reference to update so it will be valid</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment">    * for the lifetime of this function until the end.</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(update, -1);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;   <span class="keywordflow">if</span> (!message) {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   }</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#aaf65252850301d8e4d6864b644944749">channel_cache</a>, update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#a894e311c723d5b9288ec025689ae373f">old_snapshot</a>);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#a52c276aa22bdd7c123bb167b01b86b8e">channel_cache_by_name</a>, update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#a894e311c723d5b9288ec025689ae373f">old_snapshot</a>);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a532f0057ca9145addd69127eb8862b28">ast_channel_snapshot_set</a>(chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a>(chan), message);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(message, -1);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;}</div><div class="ttc" id="channel_8h_html_a532f0057ca9145addd69127eb8862b28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a532f0057ca9145addd69127eb8862b28">ast_channel_snapshot_set</a></div><div class="ttdeci">void ast_channel_snapshot_set(struct ast_channel *chan, struct ast_channel_snapshot *snapshot)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01653">channel_internal_api.c:1653</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="codec__g726_8c_html_a8c58a1d1fd9436ff5145385d3ef7a430"><div class="ttname"><a href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a></div><div class="ttdeci">static void update(int code_size, int y, int wi, int fi, int dq, int sr, int dqsez, struct g726_state *state_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d89/codec__g726_8c_source.html#l00367">codec_g726.c:367</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__channel__snapshot__update_html"><div class="ttname"><a href="../../da/d33/structast__channel__snapshot__update.html">ast_channel_snapshot_update</a></div><div class="ttdoc">Structure representing a change of snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00173">stasis_channels.h:173</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a52c276aa22bdd7c123bb167b01b86b8e"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a52c276aa22bdd7c123bb167b01b86b8e">channel_cache_by_name</a></div><div class="ttdeci">static struct ao2_container * channel_cache_by_name</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00121">stasis_channels.c:121</a></div></div>
<div class="ttc" id="channel_8h_html_afdeaf9abb1aecc715313a4f62c1cf9c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a></div><div class="ttdeci">struct stasis_topic * ast_channel_topic(struct ast_channel *chan)</div><div class="ttdoc">A topic which publishes the events for a particular channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01502">channel_internal_api.c:1502</a></div></div>
<div class="ttc" id="astobj2_8h_html_a64f51be4bee35c38dbe59b0a788b5ce8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a></div><div class="ttdeci">#define ao2_unlink(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01598">astobj2.h:1598</a></div></div>
<div class="ttc" id="stasis_8h_html_a72a06fdaec039fdfb5f36892e725f9ec"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a></div><div class="ttdeci">struct stasis_message * stasis_message_create(struct stasis_message_type *type, void *data)</div><div class="ttdoc">Create a new message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message.c:174</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a9794668c725dbba3814e12f3f5f39329"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a9794668c725dbba3814e12f3f5f39329">channel_snapshot_update_create</a></div><div class="ttdeci">static struct ast_channel_snapshot_update * channel_snapshot_update_create(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00566">stasis_channels.c:566</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga8fb4dbec86956e211c0489112a6de975"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_snapshot_type(void)</div><div class="ttdoc">Message type for ast_channel_snapshot_update. </div></div>
<div class="ttc" id="structast__channel__snapshot__update_html_a894e311c723d5b9288ec025689ae373f"><div class="ttname"><a href="../../da/d33/structast__channel__snapshot__update.html#a894e311c723d5b9288ec025689ae373f">ast_channel_snapshot_update::old_snapshot</a></div><div class="ttdeci">struct ast_channel_snapshot * old_snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00174">stasis_channels.h:174</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_aaf65252850301d8e4d6864b644944749"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#aaf65252850301d8e4d6864b644944749">channel_cache</a></div><div class="ttdeci">static struct ao2_container * channel_cache</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00120">stasis_channels.c:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaec5f1aaded97197250e063ed6c7ad857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec5f1aaded97197250e063ed6c7ad857">&#9670;&nbsp;</a></span>ast_channel_publish_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_publish_snapshot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish a <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> for a channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>chan is locked</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to publish. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01055">1055</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01572">ao2_link_flags</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01622">ao2_unlink_flags</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00720">ao2_wrlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01659">ast_channel_snapshot_segment_flags()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01653">ast_channel_snapshot_set()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01502">ast_channel_topic()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00077">ast_clear_flag</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01051">AST_FLAG_SNAPSHOT_STAGE</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00196">AST_FLAGS_ALL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00566">channel_snapshot_update_create()</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00175">ast_channel_snapshot_update::new_snapshot</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00174">ast_channel_snapshot_update::old_snapshot</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message_create()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>, and <a class="el" href="../../d0/d89/codec__g726_8c_source.html#l00367">update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00411">ast_channel_amaflags_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01244">ast_channel_internal_bridge_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01404">ast_channel_internal_copy_linkedid()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01150">ast_channel_publish_varset()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07472">ast_channel_set_caller_event()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08404">ast_channel_set_connected_line()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01043">ast_channel_stage_snapshot_done()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07434">ast_set_callerid()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07486">ast_setstate()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02120">AST_TEST_DEFINE()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06952">channel_do_masquerade()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l00930">do_forward()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02181">onCallEstablished()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00471">pbx_exec()</a>, and <a class="el" href="../../d2/d2c/pbx__realtime_8c_source.html#l00309">realtime_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;{</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d33/structast__channel__snapshot__update.html">ast_channel_snapshot_update</a> *<a class="code" href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a>;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="code" href="../../d8/d9e/structmessage.html">message</a>;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type</a>()) {</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;   }</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a337e8daae5bac4e9e0601410e1e8577f">AST_FLAG_SNAPSHOT_STAGE</a>)) {</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;   }</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   update = <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a9794668c725dbba3814e12f3f5f39329">channel_snapshot_update_create</a>(chan);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;   <span class="keywordflow">if</span> (!update) {</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;   }</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;   <span class="comment">/* If an old snapshot exists and is the same as this newly created one don&#39;t bother</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">    * raising a message as it hasn&#39;t changed.</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;   <span class="keywordflow">if</span> (update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#a894e311c723d5b9288ec025689ae373f">old_snapshot</a> &amp;&amp; !memcmp(update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#a894e311c723d5b9288ec025689ae373f">old_snapshot</a>, update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#aab7bdfa0efe2821d545c39d3a67fec38">new_snapshot</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a>))) {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(update, -1);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;   }</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;   message = <a class="code" href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type</a>(), update);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;   <span class="comment">/* In the success path message holds a reference to update so it will be valid</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">    * for the lifetime of this function until the end.</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(update, -1);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;   <span class="keywordflow">if</span> (!message) {</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;   }</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;   <span class="comment">/* We lock these ourselves so that the update is atomic and there isn&#39;t time where a</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">    * snapshot is not in the cache.</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#aaf65252850301d8e4d6864b644944749">channel_cache</a>);</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;   <span class="keywordflow">if</span> (update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#a894e311c723d5b9288ec025689ae373f">old_snapshot</a>) {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a77df7775a2a8b6cbef307e211dbf045c">ao2_unlink_flags</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#aaf65252850301d8e4d6864b644944749">channel_cache</a>, update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#a894e311c723d5b9288ec025689ae373f">old_snapshot</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;   }</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#aaf65252850301d8e4d6864b644944749">channel_cache</a>, update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#aab7bdfa0efe2821d545c39d3a67fec38">new_snapshot</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#aaf65252850301d8e4d6864b644944749">channel_cache</a>);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;   <span class="comment">/* The same applies here. */</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#a52c276aa22bdd7c123bb167b01b86b8e">channel_cache_by_name</a>);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;   <span class="keywordflow">if</span> (update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#a894e311c723d5b9288ec025689ae373f">old_snapshot</a>) {</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a77df7775a2a8b6cbef307e211dbf045c">ao2_unlink_flags</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#a52c276aa22bdd7c123bb167b01b86b8e">channel_cache_by_name</a>, update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#a894e311c723d5b9288ec025689ae373f">old_snapshot</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;   }</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#a52c276aa22bdd7c123bb167b01b86b8e">channel_cache_by_name</a>, update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#aab7bdfa0efe2821d545c39d3a67fec38">new_snapshot</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#a52c276aa22bdd7c123bb167b01b86b8e">channel_cache_by_name</a>);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a532f0057ca9145addd69127eb8862b28">ast_channel_snapshot_set</a>(chan, update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#aab7bdfa0efe2821d545c39d3a67fec38">new_snapshot</a>);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;   <span class="comment">/* As this is now the new snapshot any existing invalidated segments have been</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment">    * created fresh and are up to date.</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac53c766578be61738c20d8ccd4f097ed">ast_channel_snapshot_segment_flags</a>(chan), <a class="code" href="../../d5/d60/utils_8h.html#afb8683b4d96960d7a82a86a974a57599">AST_FLAGS_ALL</a>);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a>(chan) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a>(chan), message);</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(message, -1);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div><div class="ttc" id="channel_8h_html_a532f0057ca9145addd69127eb8862b28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a532f0057ca9145addd69127eb8862b28">ast_channel_snapshot_set</a></div><div class="ttdeci">void ast_channel_snapshot_set(struct ast_channel *chan, struct ast_channel_snapshot *snapshot)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01653">channel_internal_api.c:1653</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="codec__g726_8c_html_a8c58a1d1fd9436ff5145385d3ef7a430"><div class="ttname"><a href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a></div><div class="ttdeci">static void update(int code_size, int y, int wi, int fi, int dq, int sr, int dqsez, struct g726_state *state_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d89/codec__g726_8c_source.html#l00367">codec_g726.c:367</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a></div><div class="ttdoc">Structure representing a snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00145">stasis_channels.h:145</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7ce8563daf84a18540a86504d165b444"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a></div><div class="ttdeci">#define ao2_link_flags(container, obj, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01572">astobj2.h:1572</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3498e30d6154a052e7b64b7a96da8b4b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a></div><div class="ttdeci">#define ao2_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00720">astobj2.h:720</a></div></div>
<div class="ttc" id="structast__channel__snapshot__update_html"><div class="ttname"><a href="../../da/d33/structast__channel__snapshot__update.html">ast_channel_snapshot_update</a></div><div class="ttdoc">Structure representing a change of snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00173">stasis_channels.h:173</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a337e8daae5bac4e9e0601410e1e8577f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a337e8daae5bac4e9e0601410e1e8577f">AST_FLAG_SNAPSHOT_STAGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01051">channel.h:1051</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a52c276aa22bdd7c123bb167b01b86b8e"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a52c276aa22bdd7c123bb167b01b86b8e">channel_cache_by_name</a></div><div class="ttdeci">static struct ao2_container * channel_cache_by_name</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00121">stasis_channels.c:121</a></div></div>
<div class="ttc" id="channel_8h_html_afdeaf9abb1aecc715313a4f62c1cf9c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a></div><div class="ttdeci">struct stasis_topic * ast_channel_topic(struct ast_channel *chan)</div><div class="ttdoc">A topic which publishes the events for a particular channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01502">channel_internal_api.c:1502</a></div></div>
<div class="ttc" id="stasis_8h_html_a72a06fdaec039fdfb5f36892e725f9ec"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a></div><div class="ttdeci">struct stasis_message * stasis_message_create(struct stasis_message_type *type, void *data)</div><div class="ttdoc">Create a new message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message.c:174</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a9794668c725dbba3814e12f3f5f39329"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a9794668c725dbba3814e12f3f5f39329">channel_snapshot_update_create</a></div><div class="ttdeci">static struct ast_channel_snapshot_update * channel_snapshot_update_create(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00566">stasis_channels.c:566</a></div></div>
<div class="ttc" id="utils_8h_html_afb8683b4d96960d7a82a86a974a57599"><div class="ttname"><a href="../../d5/d60/utils_8h.html#afb8683b4d96960d7a82a86a974a57599">AST_FLAGS_ALL</a></div><div class="ttdeci">#define AST_FLAGS_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00196">utils.h:196</a></div></div>
<div class="ttc" id="structast__channel__snapshot__update_html_aab7bdfa0efe2821d545c39d3a67fec38"><div class="ttname"><a href="../../da/d33/structast__channel__snapshot__update.html#aab7bdfa0efe2821d545c39d3a67fec38">ast_channel_snapshot_update::new_snapshot</a></div><div class="ttdeci">struct ast_channel_snapshot * new_snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00175">stasis_channels.h:175</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga8fb4dbec86956e211c0489112a6de975"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_snapshot_type(void)</div><div class="ttdoc">Message type for ast_channel_snapshot_update. </div></div>
<div class="ttc" id="structast__channel__snapshot__update_html_a894e311c723d5b9288ec025689ae373f"><div class="ttname"><a href="../../da/d33/structast__channel__snapshot__update.html#a894e311c723d5b9288ec025689ae373f">ast_channel_snapshot_update::old_snapshot</a></div><div class="ttdeci">struct ast_channel_snapshot * old_snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00174">stasis_channels.h:174</a></div></div>
<div class="ttc" id="utils_8h_html_a7b260320610a09017a9416398acd0a70"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a></div><div class="ttdeci">#define ast_clear_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00077">utils.h:77</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_aaf65252850301d8e4d6864b644944749"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#aaf65252850301d8e4d6864b644944749">channel_cache</a></div><div class="ttdeci">static struct ao2_container * channel_cache</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00120">stasis_channels.c:120</a></div></div>
<div class="ttc" id="astobj2_8h_html_a77df7775a2a8b6cbef307e211dbf045c"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a77df7775a2a8b6cbef307e211dbf045c">ao2_unlink_flags</a></div><div class="ttdeci">#define ao2_unlink_flags(container, obj, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01622">astobj2.h:1622</a></div></div>
<div class="ttc" id="channel_8h_html_ac53c766578be61738c20d8ccd4f097ed"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac53c766578be61738c20d8ccd4f097ed">ast_channel_snapshot_segment_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_snapshot_segment_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01659">channel_internal_api.c:1659</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga17518a82a3bc958cfb53d954dc14d630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17518a82a3bc958cfb53d954dc14d630">&#9670;&nbsp;</a></span>ast_channel_publish_varset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_publish_varset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>variable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish a ast_channel_varset for a channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>chan is locked</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to publish the event for, or <code>NULL</code> for 'none'. </td></tr>
    <tr><td class="paramname">variable</td><td>Name of the variable being set </td></tr>
    <tr><td class="paramname">value</td><td>Value. </td></tr>
  </table>
  </dd>
</dl>
<p>If there are manager variables, force a cache update </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01150">1150</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07957">ast_channel_has_manager_vars()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01135">ast_channel_publish_blob()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01055">ast_channel_publish_snapshot()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gad32bfc3296f7c72a87c6114553940c6f">ast_channel_varset_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l06866">ast_channel_inherit_variables()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00870">ast_unreal_call_setup()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00260">frame_set_var()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, and <a class="el" href="../../d1/d3f/func__global_8c_source.html#l00209">shared_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;{</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *blob;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;   blob = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: s}&quot;</span>,</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;              <span class="stringliteral">&quot;variable&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>,</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;              <span class="stringliteral">&quot;value&quot;</span>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;   <span class="keywordflow">if</span> (!blob) {</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error creating message\n&quot;</span>);</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;   }</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment">   /*! If there are manager variables, force a cache update */</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;   <span class="keywordflow">if</span> (chan &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#ab0286d19e506f9557c567e7e3a076b2f">ast_channel_has_manager_vars</a>()) {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaec5f1aaded97197250e063ed6c7ad857">ast_channel_publish_snapshot</a>(chan);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;   }</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;   <span class="comment">/* This function is NULL safe for global variables */</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf03b8daa7784a26648db90614add6caa">ast_channel_publish_blob</a>(chan, <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gad32bfc3296f7c72a87c6114553940c6f">ast_channel_varset_type</a>(), blob);</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(blob);</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gad32bfc3296f7c72a87c6114553940c6f"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gad32bfc3296f7c72a87c6114553940c6f">ast_channel_varset_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_varset_type(void)</div><div class="ttdoc">Message type for when a variable is set on a channel. </div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="channel_8h_html_ab0286d19e506f9557c567e7e3a076b2f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab0286d19e506f9557c567e7e3a076b2f">ast_channel_has_manager_vars</a></div><div class="ttdeci">int ast_channel_has_manager_vars(void)</div><div class="ttdoc">Return whether or not any manager variables have been set. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07957">channel.c:7957</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaec5f1aaded97197250e063ed6c7ad857"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaec5f1aaded97197250e063ed6c7ad857">ast_channel_publish_snapshot</a></div><div class="ttdeci">void ast_channel_publish_snapshot(struct ast_channel *chan)</div><div class="ttdoc">Publish a ast_channel_snapshot for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01055">stasis_channels.c:1055</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf03b8daa7784a26648db90614add6caa"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf03b8daa7784a26648db90614add6caa">ast_channel_publish_blob</a></div><div class="ttdeci">void ast_channel_publish_blob(struct ast_channel *chan, struct stasis_message_type *type, struct ast_json *blob)</div><div class="ttdoc">Publish a channel blob message. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01135">stasis_channels.c:1135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7f4919ce97dcdee0a98979ca4de29242"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f4919ce97dcdee0a98979ca4de29242">&#9670;&nbsp;</a></span>ast_channel_snapshot_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a>* ast_channel_snapshot_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a snapshot of the channel state. This is an ao2 object, so <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a> to deallocate. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>chan is locked</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel from which to generate a snapshot</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">pointer</td><td>on success (must be unreffed) </td></tr>
    <tr><td class="paramname">NULL</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00451">451</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00154">ast_channel_snapshot::amaflags</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00406">ao2_alloc_options</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00158">ast_channel_snapshot::ari_vars</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00406">ast_channel_amaflags()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08090">ast_channel_get_ari_vars()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08085">ast_channel_get_manager_vars()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01648">ast_channel_snapshot()</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00049">AST_CHANNEL_SNAPSHOT_INVALIDATE_BASE</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00037">AST_CHANNEL_SNAPSHOT_INVALIDATE_BRIDGE</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00039">AST_CHANNEL_SNAPSHOT_INVALIDATE_DIALPLAN</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00045">AST_CHANNEL_SNAPSHOT_INVALIDATE_HANGUP</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00047">AST_CHANNEL_SNAPSHOT_INVALIDATE_PEER</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01659">ast_channel_snapshot_segment_flags()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00997">ast_channel_softhangup_internal_flag()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00769">ast_channel_tech()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00084">ast_copy_flags</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00146">ast_channel_snapshot::base</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00150">ast_channel_snapshot::bridge</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00148">ast_channel_snapshot::caller</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00266">channel_snapshot_base_create()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00378">channel_snapshot_bridge_create()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00321">channel_snapshot_caller_create()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00358">channel_snapshot_connected_create()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00407">channel_snapshot_dialplan_create()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00244">channel_snapshot_dtor()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00435">channel_snapshot_hangup_create()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00294">channel_snapshot_peer_create()</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00149">ast_channel_snapshot::connected</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00151">ast_channel_snapshot::dialplan</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00155">ast_channel_snapshot::flags</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00152">ast_channel_snapshot::hangup</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00157">ast_channel_snapshot::manager_vars</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00147">ast_channel_snapshot::peer</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00156">ast_channel_snapshot::softhangup_flags</a>, and <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00153">ast_channel_snapshot::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02527">action_agents()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01772">append_expected_event()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00602">ast_channel_publish_dial_internal()</a>, <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00302">ast_do_pickup()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02010">ast_multi_object_blob_single_channel_publish()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01616">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00566">channel_snapshot_update_create()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00603">parked_call_app_exec()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00178">parked_call_payload_from_failure()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00192">parked_call_payload_from_parked_user()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02201">queue_publish_multi_channel_blob()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01057">send_start_msg()</a>.</p>
<div class="fragment"><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;{</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *old_snapshot;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   <span class="comment">/* no snapshots for dummy channels */</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(chan)) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   snapshot = <a class="code" href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a>(<span class="keyword">sizeof</span>(*snapshot), <a class="code" href="../../dc/d2b/stasis__channels_8c.html#aa67afabd2d1756aa9785c5954e52f4ee">channel_snapshot_dtor</a>,</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   <span class="keywordflow">if</span> (!snapshot) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   old_snapshot = <a class="code" href="../../d5/d7b/channel_8h.html#a070a71f73f7b63af6d8c78c536b6fafb">ast_channel_snapshot</a>(chan);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <span class="comment">/* Channels automatically have all segments invalidated on them initially so a check for an old</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">    * snapshot existing before usage is not done here, as it can not happen. If the stored snapshot</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">    * on the channel is updated as a result of this then all segments marked as invalidated will be</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">    * cleared.</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac53c766578be61738c20d8ccd4f097ed">ast_channel_snapshot_segment_flags</a>(chan), <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a6d702d1212aa14296c16506a65edff5f">AST_CHANNEL_SNAPSHOT_INVALIDATE_BASE</a>)) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="comment">/* The base information has changed so update our snapshot */</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a> = <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a067c1fefac61e5f1959566d0f292d3b6">channel_snapshot_base_create</a>(chan);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="keywordflow">if</span> (!snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(snapshot, -1);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(old_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac53c766578be61738c20d8ccd4f097ed">ast_channel_snapshot_segment_flags</a>(chan), <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a06c65241df5d3643cd5123730331f9da">AST_CHANNEL_SNAPSHOT_INVALIDATE_PEER</a>)) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="comment">/* The peer information has changed so update our snapshot */</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a91ff51905af3f89b6aab38f42d08adea">peer</a> = <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a3382b20a9c165df56992c0d2a129631c">channel_snapshot_peer_create</a>(chan);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordflow">if</span> (!snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a91ff51905af3f89b6aab38f42d08adea">peer</a>) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(snapshot, -1);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a91ff51905af3f89b6aab38f42d08adea">peer</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(old_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a91ff51905af3f89b6aab38f42d08adea">peer</a>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;   }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   <span class="comment">/* Unfortunately both caller and connected information do not have an enforced contract with</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">    * the channel API. This has allowed consumers to directly get the caller or connected structure</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">    * and manipulate it. Until such time as there is an enforced contract (which is being tracked under</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">    * ASTERISK-28164) they are each regenerated every time a channel snapshot is created.</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ae7248b764758e655df26036dd6b8f4d7">caller</a> = <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a0eda0b9de14d9b6cd0c6c67feb658ccb">channel_snapshot_caller_create</a>(chan);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <span class="keywordflow">if</span> (!snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ae7248b764758e655df26036dd6b8f4d7">caller</a>) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(snapshot, -1);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a1f895854819a5ddf9ff2d2931a875a83">connected</a> = <a class="code" href="../../dc/d2b/stasis__channels_8c.html#ad3f59c4ac9801acf837d9bd4bd6fa47f">channel_snapshot_connected_create</a>(chan);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <span class="keywordflow">if</span> (!snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a1f895854819a5ddf9ff2d2931a875a83">connected</a>) {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(snapshot, -1);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac53c766578be61738c20d8ccd4f097ed">ast_channel_snapshot_segment_flags</a>(chan), <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a43850d4e8c313dc3b3a601ac24e5c78e">AST_CHANNEL_SNAPSHOT_INVALIDATE_BRIDGE</a>)) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="comment">/* The bridge has changed so update our snapshot */</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a9c0a621242a8915244954e5a273c8cf7">bridge</a> = <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a8e5c9b32064b67f79554f36771a6e983">channel_snapshot_bridge_create</a>(chan);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordflow">if</span> (!snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a9c0a621242a8915244954e5a273c8cf7">bridge</a>) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(snapshot, -1);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a9c0a621242a8915244954e5a273c8cf7">bridge</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(old_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a9c0a621242a8915244954e5a273c8cf7">bridge</a>);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac53c766578be61738c20d8ccd4f097ed">ast_channel_snapshot_segment_flags</a>(chan), <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210adba47db1c1d1d9943c11a03d3952e036">AST_CHANNEL_SNAPSHOT_INVALIDATE_DIALPLAN</a>)) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="comment">/* The dialplan information has changed so update our snapshot */</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">dialplan</a> = <a class="code" href="../../dc/d2b/stasis__channels_8c.html#af608d04a729235f728e7999448b34e83">channel_snapshot_dialplan_create</a>(chan);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">if</span> (!snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">dialplan</a>) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(snapshot, -1);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">dialplan</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(old_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">dialplan</a>);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac53c766578be61738c20d8ccd4f097ed">ast_channel_snapshot_segment_flags</a>(chan), <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a1d4b689e7e54114166e8cd673cf10bc6">AST_CHANNEL_SNAPSHOT_INVALIDATE_HANGUP</a>)) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="comment">/* The hangup information has changed so update our snapshot */</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#af8a29cb15ed6c5226ac2064afbf9ae55">hangup</a> = <a class="code" href="../../dc/d2b/stasis__channels_8c.html#ab0a5ca77ab1b2af29da24306c76a6b41">channel_snapshot_hangup_create</a>(chan);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordflow">if</span> (!snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#af8a29cb15ed6c5226ac2064afbf9ae55">hangup</a>) {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(snapshot, -1);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#af8a29cb15ed6c5226ac2064afbf9ae55">hangup</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(old_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#af8a29cb15ed6c5226ac2064afbf9ae55">hangup</a>);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab772a54f7effa7ab06616e36ae30988a">state</a> = <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ad2cfb0f821c065261382a9298bb5a16b">amaflags</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a938863dd527bbcac399636661623baf9">ast_channel_amaflags</a>(chan);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab9da1c7265610eff83ed6146f104dc6f">ast_copy_flags</a>(&amp;snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#aec78000b2897c094f68ed72559e18acd">flags</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan), 0xFFFFFFFF);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#acd7e028035da37eabb4e2dd1ca495f0c">softhangup_flags</a>, <a class="code" href="../../d5/d7b/channel_8h.html#adac99999f1e55833e7f903979d67b48b">ast_channel_softhangup_internal_flag</a>(chan));</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="comment">/* These have to be recreated as they may have changed, unfortunately */</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a2abcf024fa648c9ff9753c2b66040af2">manager_vars</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a5f72bc09af81d17c4ecebf77cea38508">ast_channel_get_manager_vars</a>(chan);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;   snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a52f6f913bcf77d6c6cc59460c9bfccc1">ari_vars</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a1c6e57f04f1e4d23dcd27c2bac717aa0">ast_channel_get_ari_vars</a>(chan);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   <span class="keywordflow">return</span> snapshot;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;}</div><div class="ttc" id="structast__channel__snapshot_html_ab6103ad1bbc12922f93c0526204573cf"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">ast_channel_snapshot::base</a></div><div class="ttdeci">struct ast_channel_snapshot_base * base</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00146">stasis_channels.h:146</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_ab0a5ca77ab1b2af29da24306c76a6b41"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#ab0a5ca77ab1b2af29da24306c76a6b41">channel_snapshot_hangup_create</a></div><div class="ttdeci">static struct ast_channel_snapshot_hangup * channel_snapshot_hangup_create(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00435">stasis_channels.c:435</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_a5f72bc09af81d17c4ecebf77cea38508"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a5f72bc09af81d17c4ecebf77cea38508">ast_channel_get_manager_vars</a></div><div class="ttdeci">struct varshead * ast_channel_get_manager_vars(struct ast_channel *chan)</div><div class="ttdoc">Gets the variables for a given channel, as specified by ast_channel_set_manager_vars(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08085">channel.c:8085</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_af608d04a729235f728e7999448b34e83"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#af608d04a729235f728e7999448b34e83">channel_snapshot_dialplan_create</a></div><div class="ttdeci">static struct ast_channel_snapshot_dialplan * channel_snapshot_dialplan_create(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00407">stasis_channels.c:407</a></div></div>
<div class="ttc" id="channel_8h_html_a070a71f73f7b63af6d8c78c536b6fafb"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a070a71f73f7b63af6d8c78c536b6fafb">ast_channel_snapshot</a></div><div class="ttdeci">struct ast_channel_snapshot * ast_channel_snapshot(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01648">channel_internal_api.c:1648</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a></div><div class="ttdoc">Structure representing a snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00145">stasis_channels.h:145</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ggae4d6df086e192d70f732e3ce8a5a2210a43850d4e8c313dc3b3a601ac24e5c78e"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a43850d4e8c313dc3b3a601ac24e5c78e">AST_CHANNEL_SNAPSHOT_INVALIDATE_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00037">stasis_channels.h:37</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ggae4d6df086e192d70f732e3ce8a5a2210a1d4b689e7e54114166e8cd673cf10bc6"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a1d4b689e7e54114166e8cd673cf10bc6">AST_CHANNEL_SNAPSHOT_INVALIDATE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00045">stasis_channels.h:45</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab3c44e28d661616129b7819069effe61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a></div><div class="ttdeci">#define ao2_alloc_options(data_size, destructor_fn, options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00406">astobj2.h:406</a></div></div>
<div class="ttc" id="utils_8h_html_ab9da1c7265610eff83ed6146f104dc6f"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab9da1c7265610eff83ed6146f104dc6f">ast_copy_flags</a></div><div class="ttdeci">#define ast_copy_flags(dest, src, flagz)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00084">utils.h:84</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a067c1fefac61e5f1959566d0f292d3b6"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a067c1fefac61e5f1959566d0f292d3b6">channel_snapshot_base_create</a></div><div class="ttdeci">static struct ast_channel_snapshot_base * channel_snapshot_base_create(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00266">stasis_channels.c:266</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_a5be1fb9b43b051b087f6952b6346909a"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">ast_channel_snapshot::dialplan</a></div><div class="ttdeci">struct ast_channel_snapshot_dialplan * dialplan</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00151">stasis_channels.h:151</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_a52f6f913bcf77d6c6cc59460c9bfccc1"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#a52f6f913bcf77d6c6cc59460c9bfccc1">ast_channel_snapshot::ari_vars</a></div><div class="ttdeci">struct varshead * ari_vars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00158">stasis_channels.h:158</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_a1c6e57f04f1e4d23dcd27c2bac717aa0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1c6e57f04f1e4d23dcd27c2bac717aa0">ast_channel_get_ari_vars</a></div><div class="ttdeci">struct varshead * ast_channel_get_ari_vars(struct ast_channel *chan)</div><div class="ttdoc">Gets the variables for a given channel, as specified by ast_channel_set_ari_vars(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08090">channel.c:8090</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_af8a29cb15ed6c5226ac2064afbf9ae55"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#af8a29cb15ed6c5226ac2064afbf9ae55">ast_channel_snapshot::hangup</a></div><div class="ttdeci">struct ast_channel_snapshot_hangup * hangup</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00152">stasis_channels.h:152</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a8e5c9b32064b67f79554f36771a6e983"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a8e5c9b32064b67f79554f36771a6e983">channel_snapshot_bridge_create</a></div><div class="ttdeci">static struct ast_channel_snapshot_bridge * channel_snapshot_bridge_create(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00378">stasis_channels.c:378</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ggae4d6df086e192d70f732e3ce8a5a2210a6d702d1212aa14296c16506a65edff5f"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a6d702d1212aa14296c16506a65edff5f">AST_CHANNEL_SNAPSHOT_INVALIDATE_BASE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00049">stasis_channels.h:49</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_ae7248b764758e655df26036dd6b8f4d7"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ae7248b764758e655df26036dd6b8f4d7">ast_channel_snapshot::caller</a></div><div class="ttdeci">struct ast_channel_snapshot_caller * caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00148">stasis_channels.h:148</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_acd7e028035da37eabb4e2dd1ca495f0c"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#acd7e028035da37eabb4e2dd1ca495f0c">ast_channel_snapshot::softhangup_flags</a></div><div class="ttdeci">struct ast_flags softhangup_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00156">stasis_channels.h:156</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ggae4d6df086e192d70f732e3ce8a5a2210adba47db1c1d1d9943c11a03d3952e036"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210adba47db1c1d1d9943c11a03d3952e036">AST_CHANNEL_SNAPSHOT_INVALIDATE_DIALPLAN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00039">stasis_channels.h:39</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_a2abcf024fa648c9ff9753c2b66040af2"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#a2abcf024fa648c9ff9753c2b66040af2">ast_channel_snapshot::manager_vars</a></div><div class="ttdeci">struct varshead * manager_vars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00157">stasis_channels.h:157</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a3382b20a9c165df56992c0d2a129631c"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a3382b20a9c165df56992c0d2a129631c">channel_snapshot_peer_create</a></div><div class="ttdeci">static struct ast_channel_snapshot_peer * channel_snapshot_peer_create(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00294">stasis_channels.c:294</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_ad2cfb0f821c065261382a9298bb5a16b"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ad2cfb0f821c065261382a9298bb5a16b">ast_channel_snapshot::amaflags</a></div><div class="ttdeci">int amaflags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00154">stasis_channels.h:154</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_ab772a54f7effa7ab06616e36ae30988a"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ab772a54f7effa7ab06616e36ae30988a">ast_channel_snapshot::state</a></div><div class="ttdeci">enum ast_channel_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00153">stasis_channels.h:153</a></div></div>
<div class="ttc" id="channel_8h_html_adac99999f1e55833e7f903979d67b48b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#adac99999f1e55833e7f903979d67b48b">ast_channel_softhangup_internal_flag</a></div><div class="ttdeci">int ast_channel_softhangup_internal_flag(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00997">channel_internal_api.c:997</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_ad3f59c4ac9801acf837d9bd4bd6fa47f"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#ad3f59c4ac9801acf837d9bd4bd6fa47f">channel_snapshot_connected_create</a></div><div class="ttdeci">static struct ast_channel_snapshot_connected * channel_snapshot_connected_create(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00358">stasis_channels.c:358</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_aec78000b2897c094f68ed72559e18acd"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#aec78000b2897c094f68ed72559e18acd">ast_channel_snapshot::flags</a></div><div class="ttdeci">struct ast_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00155">stasis_channels.h:155</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_a9c0a621242a8915244954e5a273c8cf7"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#a9c0a621242a8915244954e5a273c8cf7">ast_channel_snapshot::bridge</a></div><div class="ttdeci">struct ast_channel_snapshot_bridge * bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00150">stasis_channels.h:150</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ggae4d6df086e192d70f732e3ce8a5a2210a06c65241df5d3643cd5123730331f9da"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ggae4d6df086e192d70f732e3ce8a5a2210a06c65241df5d3643cd5123730331f9da">AST_CHANNEL_SNAPSHOT_INVALIDATE_PEER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00047">stasis_channels.h:47</a></div></div>
<div class="ttc" id="channel_8h_html_ac53c766578be61738c20d8ccd4f097ed"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac53c766578be61738c20d8ccd4f097ed">ast_channel_snapshot_segment_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_snapshot_segment_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01659">channel_internal_api.c:1659</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_aa67afabd2d1756aa9785c5954e52f4ee"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#aa67afabd2d1756aa9785c5954e52f4ee">channel_snapshot_dtor</a></div><div class="ttdeci">static void channel_snapshot_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00244">stasis_channels.c:244</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_a91ff51905af3f89b6aab38f42d08adea"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#a91ff51905af3f89b6aab38f42d08adea">ast_channel_snapshot::peer</a></div><div class="ttdeci">struct ast_channel_snapshot_peer * peer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00147">stasis_channels.h:147</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a0eda0b9de14d9b6cd0c6c67feb658ccb"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a0eda0b9de14d9b6cd0c6c67feb658ccb">channel_snapshot_caller_create</a></div><div class="ttdeci">static struct ast_channel_snapshot_caller * channel_snapshot_caller_create(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00321">stasis_channels.c:321</a></div></div>
<div class="ttc" id="channel_8h_html_a938863dd527bbcac399636661623baf9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a938863dd527bbcac399636661623baf9">ast_channel_amaflags</a></div><div class="ttdeci">enum ama_flags ast_channel_amaflags(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00406">channel_internal_api.c:406</a></div></div>
<div class="ttc" id="channel_8h_html_af5dee96d4dcc88a95fce391c22d4d21f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_channel_tech(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00769">channel_internal_api.c:769</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_a1f895854819a5ddf9ff2d2931a875a83"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#a1f895854819a5ddf9ff2d2931a875a83">ast_channel_snapshot::connected</a></div><div class="ttdeci">struct ast_channel_snapshot_connected * connected</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00149">stasis_channels.h:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga68c55b443ba97dc157b493aafd05c876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68c55b443ba97dc157b493aafd05c876">&#9670;&nbsp;</a></span>ast_channel_snapshot_get_latest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a>* ast_channel_snapshot_get_latest </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uniqueid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain the latest <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> from the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> cache. This is an ao2 object, so use <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a> to deallocate. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unique_id</td><td>The channel's unique ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td><a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> on success </td></tr>
    <tr><td class="paramname">NULL</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00903">903</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/dc4/test__cel_8c_source.html#l00314">__test_cel_generate_peer_str()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03821">action_confbridgelist_item()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01063">ari_channels_handle_originate_with_id()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01572">ari_channels_handle_snoop_channel()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01778">ast_ari_channels_create()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00888">ast_ari_channels_get()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00276">ast_ari_channels_redirect()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01313">ast_attended_transfer_message_add_app()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01330">ast_attended_transfer_message_add_link()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01226">ast_attended_transfer_message_create()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00929">ast_blind_transfer_message_create()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00500">ast_bridge_blob_create()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04477">ast_bridge_transfer_blind()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00771">ast_channel_blob_create_from_cache()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00602">ast_channel_publish_dial_internal()</a>, <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00302">ast_do_pickup()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03485">ast_rtp_publish_rtcp_message()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01523">ast_sip_for_each_channel_snapshot()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04178">blind_transfer_bridge()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00760">bridge_channel_snapshot_pair_init()</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05140">bridge_show_specific_print_channel()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00142">bridge_stasis_push_peek()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01009">cel_generate_peer_str()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l01174">chan_pjsip_devicestate()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02245">channel_id_sanitizer()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01159">channel_replaced_cb()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00414">conf_send_event_to_participants()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00092">find_channel_control()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04662">generate_status()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06206">handle_attended_transfer()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06146">handle_blind_transfer()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06398">handle_hangup()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00362">local_channel_optimization_blob()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00390">local_optimization_started_cb()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00169">mwi_state_create_message()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l01811">notify_new_message()</a>, <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00544">pack_channel_into_message()</a>, <a class="el" href="../../dd/da3/res__stasis__snoop_8c_source.html#l00113">publish_chanspy_message()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00540">publish_local_bridge_message()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00522">send_bridge_info_item_cb()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00860">stasis_app_control_get_snapshot()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02095">stasis_app_user_event()</a>, and <a class="el" href="../../db/dc4/test__cel_8c_source.html#l00364">test_cel_generate_peer_str()</a>.</p>
<div class="fragment"><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;{</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(uniqueid));</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#aaf65252850301d8e4d6864b644944749">channel_cache</a>, uniqueid, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_aaf65252850301d8e4d6864b644944749"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#aaf65252850301d8e4d6864b644944749">channel_cache</a></div><div class="ttdeci">static struct ao2_container * channel_cache</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00120">stasis_channels.c:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga9f6ac21322df947f71ae53d0164f5f92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f6ac21322df947f71ae53d0164f5f92">&#9670;&nbsp;</a></span>ast_channel_snapshot_get_latest_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a>* ast_channel_snapshot_get_latest_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain the latest <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> from the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> cache. This is an ao2 object, so use <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a> to deallocate. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The channel's name</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td><a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> on success </td></tr>
    <tr><td class="paramname">NULL</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00910">910</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6d/cli__commands_8c_source.html#l00242">cli_channel_retrieve_by_id()</a>, and <a class="el" href="../../dd/de9/res__agi_8c_source.html#l03179">handle_channelstatus()</a>.</p>
<div class="fragment"><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;{</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>));</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../dc/d2b/stasis__channels_8c.html#a52c276aa22bdd7c123bb167b01b86b8e">channel_cache_by_name</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a52c276aa22bdd7c123bb167b01b86b8e"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a52c276aa22bdd7c123bb167b01b86b8e">channel_cache_by_name</a></div><div class="ttdeci">static struct ao2_container * channel_cache_by_name</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00121">stasis_channels.c:121</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5c533cb6116415f52f137ea431afe9e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c533cb6116415f52f137ea431afe9e3">&#9670;&nbsp;</a></span>ast_channel_snapshot_invalidate_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_snapshot_invalidate_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gae4d6df086e192d70f732e3ce8a5a2210">ast_channel_snapshot_segment_invalidation</a>&#160;</td>
          <td class="paramname"><em>segment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invalidate a channel snapshot segment from being reused. </p>
<dl class="section since"><dt>Since</dt><dd>17 </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>chan is locked</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to invalidate the segment on. </td></tr>
    <tr><td class="paramname">segment</td><td>The segment to invalidate. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01049">1049</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01659">ast_channel_snapshot_segment_flags()</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00321">ast_channel_appl_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00944">ast_channel_caller_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00949">ast_channel_connected_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00348">ast_channel_context_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00980">ast_channel_creationtime_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00338">ast_channel_data_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00954">ast_channel_dialed_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00357">ast_channel_exten_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00431">ast_channel_hangupcause_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01244">ast_channel_internal_bridge_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01404">ast_channel_internal_copy_linkedid()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00448">ast_channel_priority_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00959">ast_channel_redirecting_set()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07459">ast_channel_set_caller()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07472">ast_channel_set_caller_event()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08404">ast_channel_set_connected_line()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l09215">ast_channel_set_redirecting()</a>, and <a class="el" href="../../d2/d2c/pbx__realtime_8c_source.html#l00309">realtime_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;{</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac53c766578be61738c20d8ccd4f097ed">ast_channel_snapshot_segment_flags</a>(chan), segment);</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;}</div><div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_ac53c766578be61738c20d8ccd4f097ed"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac53c766578be61738c20d8ccd4f097ed">ast_channel_snapshot_segment_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_snapshot_segment_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01659">channel_internal_api.c:1659</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8fb4dbec86956e211c0489112a6de975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8fb4dbec86956e211c0489112a6de975">&#9670;&nbsp;</a></span>ast_channel_snapshot_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_snapshot_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for <a class="el" href="../../da/d33/structast__channel__snapshot__update.html">ast_channel_snapshot_update</a>. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Message</td><td>type for <a class="el" href="../../da/d33/structast__channel__snapshot__update.html">ast_channel_snapshot_update</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00917">ast_channel_publish_final_snapshot()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01055">ast_channel_publish_snapshot()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00206">AST_TEST_DEFINE()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01500">create_routes()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00214">endpoint_internal_create()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l04522">load_module()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../d2/d2c/pbx__realtime_8c_source.html#l00309">realtime_exec()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="gaf195fcf1686408b5e52ad76996653cea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf195fcf1686408b5e52ad76996653cea">&#9670;&nbsp;</a></span>ast_channel_stage_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_stage_snapshot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set flag to indicate channel snapshot is being staged. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>chan is locked</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel being staged. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01038">1038</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01051">AST_FLAG_SNAPSHOT_STAGE</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l00739">__ast_channel_alloc_ap()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06066">__ast_request_and_dial()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00580">alsa_new()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01939">ast_ari_channels_dial()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01242">ast_bridge_vars_set()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05988">ast_call_forward()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05829">ast_iax2_new()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02500">ast_rtp_instance_set_stats_vars()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00870">ast_unreal_call_setup()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00332">begin_dial_prerun()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00547">chan_pjsip_new()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02433">common_recall_channel_setup()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l00423">console_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02174">end_bridge_callback()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00768">jingle_new()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01494">mgcp_new()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07755">pbx_outgoing_attempt()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l07197">sip_hangup()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08161">sip_new()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l05371">skinny_new()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05704">unistim_new()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01202">wait_for_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;{</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a337e8daae5bac4e9e0601410e1e8577f">AST_FLAG_SNAPSHOT_STAGE</a>);</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;}</div><div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a337e8daae5bac4e9e0601410e1e8577f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a337e8daae5bac4e9e0601410e1e8577f">AST_FLAG_SNAPSHOT_STAGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01051">channel.h:1051</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga920b9d3e484257c7e593452a8e36d8d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga920b9d3e484257c7e593452a8e36d8d4">&#9670;&nbsp;</a></span>ast_channel_stage_snapshot_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_stage_snapshot_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear flag to indicate channel snapshot is being staged, and publish snapshot. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>chan is locked</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel being staged. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01043">1043</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01055">ast_channel_publish_snapshot()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00077">ast_clear_flag</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l01051">AST_FLAG_SNAPSHOT_STAGE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l00739">__ast_channel_alloc_ap()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06066">__ast_request_and_dial()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00580">alsa_new()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01939">ast_ari_channels_dial()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01242">ast_bridge_vars_set()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05988">ast_call_forward()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05829">ast_iax2_new()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02500">ast_rtp_instance_set_stats_vars()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00870">ast_unreal_call_setup()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00332">begin_dial_prerun()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00547">chan_pjsip_new()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02433">common_recall_channel_setup()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l00423">console_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02174">end_bridge_callback()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00768">jingle_new()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01494">mgcp_new()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07755">pbx_outgoing_attempt()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l07197">sip_hangup()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08161">sip_new()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l05371">skinny_new()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05704">unistim_new()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01202">wait_for_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;{</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a337e8daae5bac4e9e0601410e1e8577f">AST_FLAG_SNAPSHOT_STAGE</a>);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaec5f1aaded97197250e063ed6c7ad857">ast_channel_publish_snapshot</a>(chan);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;}</div><div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a337e8daae5bac4e9e0601410e1e8577f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a337e8daae5bac4e9e0601410e1e8577f">AST_FLAG_SNAPSHOT_STAGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01051">channel.h:1051</a></div></div>
<div class="ttc" id="utils_8h_html_a7b260320610a09017a9416398acd0a70"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a></div><div class="ttdeci">#define ast_clear_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00077">utils.h:77</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaec5f1aaded97197250e063ed6c7ad857"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaec5f1aaded97197250e063ed6c7ad857">ast_channel_publish_snapshot</a></div><div class="ttdeci">void ast_channel_publish_snapshot(struct ast_channel *chan)</div><div class="ttdoc">Publish a ast_channel_snapshot for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01055">stasis_channels.c:1055</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8a951162eff76e5ed28f63d528e385c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a951162eff76e5ed28f63d528e385c4">&#9670;&nbsp;</a></span>ast_channel_talking_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_talking_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for a channel starting talking. </p>
<dl class="section since"><dt>Since</dt><dd>12.4.0 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00159">talk_detect_audiohook_cb()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga3226b5864d04a75f4eeef344ca176f76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3226b5864d04a75f4eeef344ca176f76">&#9670;&nbsp;</a></span>ast_channel_talking_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_talking_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for a channel stopping talking. </p>
<dl class="section since"><dt>Since</dt><dd>12.4.0 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00159">talk_detect_audiohook_cb()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="ga34a3ac59fb8d0c49cbc2cb9b87261d31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga34a3ac59fb8d0c49cbc2cb9b87261d31">&#9670;&nbsp;</a></span>ast_channel_topic_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_channel_topic_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A topic which publishes the events for all channels. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Topic</td><td>for all channel events. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00128">128</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00119">channel_topic_all</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01527">ast_channel_internal_setup_topics()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01502">ast_channel_topic()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l04314">create_subscriptions()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00136">forwards_create_channel()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l11324">load_module()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00721">manager_confbridge_init()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01157">meetme_stasis_init()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00586">publish_message_for_channel_topics()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06514">setup_stasis_subs()</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a7dfc35a0a6c6b6048fe4535fdafb1d5a">channel_topic_all</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="ttc" id="stasis__channels_8c_html_a7dfc35a0a6c6b6048fe4535fdafb1d5a"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a7dfc35a0a6c6b6048fe4535fdafb1d5a">channel_topic_all</a></div><div class="ttdeci">static struct stasis_topic * channel_topic_all</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00119">stasis_channels.c:119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gacdff76704ce4ee5c18b5656592886c78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacdff76704ce4ee5c18b5656592886c78">&#9670;&nbsp;</a></span>ast_channel_unhold_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_unhold_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for when a channel is removed from hold. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01193">ast_bridge_channel_write_unhold()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01216">ast_queue_unhold()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../dd/d7d/func__holdintercept_8c_source.html#l00108">hold_intercept_framehook()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels_init()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="gad32bfc3296f7c72a87c6114553940c6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad32bfc3296f7c72a87c6114553940c6f">&#9670;&nbsp;</a></span>ast_channel_varset_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_channel_varset_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for when a variable is set on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01150">ast_channel_publish_varset()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01666">ast_stasis_channels_init()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01630">stasis_channels_cleanup()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>.</p>

</div>
</div>
<a id="gadd41839a7dede33bd5dc1e9a3b41e173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd41839a7dede33bd5dc1e9a3b41e173">&#9670;&nbsp;</a></span>ast_debug_category_dtls_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintmax_t ast_debug_category_dtls_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03566">3566</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03564">debug_category_dtls_id</a>.</p>
<div class="fragment"><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;{</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/dbe/rtp__engine_8c.html#aa934032800e623e98f0c0dd039e503a9">debug_category_dtls_id</a>;</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;}</div><div class="ttc" id="rtp__engine_8c_html_aa934032800e623e98f0c0dd039e503a9"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#aa934032800e623e98f0c0dd039e503a9">debug_category_dtls_id</a></div><div class="ttdeci">static uintmax_t debug_category_dtls_id</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l03564">rtp_engine.c:3564</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8de49f8c81c23a3973b4bbfc5f9da89b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8de49f8c81c23a3973b4bbfc5f9da89b">&#9670;&nbsp;</a></span>ast_debug_category_dtls_packet_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintmax_t ast_debug_category_dtls_packet_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03573">3573</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03571">debug_category_dtls_packet_id</a>.</p>
<div class="fragment"><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;{</div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/dbe/rtp__engine_8c.html#a2c5fb9f96675106e960e9c96b7f65ad1">debug_category_dtls_packet_id</a>;</div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;}</div><div class="ttc" id="rtp__engine_8c_html_a2c5fb9f96675106e960e9c96b7f65ad1"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a2c5fb9f96675106e960e9c96b7f65ad1">debug_category_dtls_packet_id</a></div><div class="ttdeci">static uintmax_t debug_category_dtls_packet_id</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l03571">rtp_engine.c:3571</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga2def1587d11cae8f25a132531073fe03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2def1587d11cae8f25a132531073fe03">&#9670;&nbsp;</a></span>ast_debug_category_ice_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintmax_t ast_debug_category_ice_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03580">3580</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03578">debug_category_ice_id</a>.</p>
<div class="fragment"><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;{</div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/dbe/rtp__engine_8c.html#a780f0265a52bd60c73dae5de67dbe12c">debug_category_ice_id</a>;</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;}</div><div class="ttc" id="rtp__engine_8c_html_a780f0265a52bd60c73dae5de67dbe12c"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a780f0265a52bd60c73dae5de67dbe12c">debug_category_ice_id</a></div><div class="ttdeci">static uintmax_t debug_category_ice_id</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l03578">rtp_engine.c:3578</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gac297e0868722424bbf63a22e4179d0e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac297e0868722424bbf63a22e4179d0e4">&#9670;&nbsp;</a></span>ast_debug_category_rtcp_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintmax_t ast_debug_category_rtcp_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03552">3552</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03550">debug_category_rtcp_id</a>.</p>
<div class="fragment"><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;{</div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/dbe/rtp__engine_8c.html#a43e7acee5296994d8dab0cb6d1bd4bc1">debug_category_rtcp_id</a>;</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;}</div><div class="ttc" id="rtp__engine_8c_html_a43e7acee5296994d8dab0cb6d1bd4bc1"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a43e7acee5296994d8dab0cb6d1bd4bc1">debug_category_rtcp_id</a></div><div class="ttdeci">static uintmax_t debug_category_rtcp_id</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l03550">rtp_engine.c:3550</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga0185509f8e6d3142af9bda551ed4448f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0185509f8e6d3142af9bda551ed4448f">&#9670;&nbsp;</a></span>ast_debug_category_rtcp_packet_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintmax_t ast_debug_category_rtcp_packet_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03559">3559</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03557">debug_category_rtcp_packet_id</a>.</p>
<div class="fragment"><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;{</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/dbe/rtp__engine_8c.html#a714c07488215920fd58af23fae732e84">debug_category_rtcp_packet_id</a>;</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;}</div><div class="ttc" id="rtp__engine_8c_html_a714c07488215920fd58af23fae732e84"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a714c07488215920fd58af23fae732e84">debug_category_rtcp_packet_id</a></div><div class="ttdeci">static uintmax_t debug_category_rtcp_packet_id</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l03557">rtp_engine.c:3557</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga42aa0e60fa1c82a53fd1156b14aef793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42aa0e60fa1c82a53fd1156b14aef793">&#9670;&nbsp;</a></span>ast_debug_category_rtp_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintmax_t ast_debug_category_rtp_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03538">3538</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03536">debug_category_rtp_id</a>.</p>
<div class="fragment"><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;{</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/dbe/rtp__engine_8c.html#a8f48f5dcf1c94c6fe194d1c6c8d5e153">debug_category_rtp_id</a>;</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;}</div><div class="ttc" id="rtp__engine_8c_html_a8f48f5dcf1c94c6fe194d1c6c8d5e153"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a8f48f5dcf1c94c6fe194d1c6c8d5e153">debug_category_rtp_id</a></div><div class="ttdeci">static uintmax_t debug_category_rtp_id</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l03536">rtp_engine.c:3536</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga122d01a77f8d60e32d53135e26cccd6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga122d01a77f8d60e32d53135e26cccd6a">&#9670;&nbsp;</a></span>ast_debug_category_rtp_packet_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintmax_t ast_debug_category_rtp_packet_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03545">3545</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03543">debug_category_rtp_packet_id</a>.</p>
<div class="fragment"><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;{</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/dbe/rtp__engine_8c.html#aa2c5cde089c8208c01148d63c51c24cd">debug_category_rtp_packet_id</a>;</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;}</div><div class="ttc" id="rtp__engine_8c_html_aa2c5cde089c8208c01148d63c51c24cd"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#aa2c5cde089c8208c01148d63c51c24cd">debug_category_rtp_packet_id</a></div><div class="ttdeci">static uintmax_t debug_category_rtp_packet_id</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l03543">rtp_engine.c:3543</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gab64b4e754207708a20a96e4d4fc5cf3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab64b4e754207708a20a96e4d4fc5cf3d">&#9670;&nbsp;</a></span>ast_endpoint_blob_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>* ast_endpoint_blob_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="../../d0/d7d/structast__endpoint__blob.html">ast_endpoint_blob</a> message. </p>
<dl class="section since"><dt>Since</dt><dd>12 The given <em>blob</em> should be treated as immutable and not modified after it is put into the message.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>Endpoint blob is associated with. </td></tr>
    <tr><td class="paramname">type</td><td>Message type for this blob. </td></tr>
    <tr><td class="paramname">blob</td><td>JSON object representing the data, or <code>NULL</code> for no data. If <code>NULL</code>, <a class="el" href="../../d4/d05/json_8h.html#a8055cb3a9f4d7d5842826e6157ae00db" title="Get the JSON null value. ">ast_json_null()</a> is put into the object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d0/d7d/structast__endpoint__blob.html">ast_endpoint_blob</a> message. </dd>
<dd>
<code>NULL</code> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00293">293</a> of file <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html">stasis_endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00445">ast_endpoint_snapshot_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00248">ast_json_null()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00067">ast_json_ref()</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00078">ast_endpoint_blob::blob</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00286">endpoint_blob_dtor()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00077">ast_endpoint_blob::snapshot</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message_create()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00325">ast_endpoint_blob_publish()</a>.</p>
<div class="fragment"><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;{</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__endpoint__blob.html">ast_endpoint_blob</a> *obj;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <span class="keywordflow">if</span> (!type) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   <span class="keywordflow">if</span> (!blob) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      blob = <a class="code" href="../../d4/d05/json_8h.html#a8055cb3a9f4d7d5842826e6157ae00db">ast_json_null</a>();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <span class="keywordflow">if</span> (!(obj = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*obj), <a class="code" href="../../d3/daf/stasis__endpoints_8c.html#a57995b7c5b8832bf9b8e154d170ad334">endpoint_blob_dtor</a>))) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;   <span class="keywordflow">if</span> (endpoint) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="keywordflow">if</span> (!(obj-&gt;<a class="code" href="../../d0/d7d/structast__endpoint__blob.html#a1bf40feb428310e18e6432c0eb7f9fc9">snapshot</a> = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf3fae27e0558b4372735412393520a82">ast_endpoint_snapshot_create</a>(endpoint))) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   obj-&gt;<a class="code" href="../../d0/d7d/structast__endpoint__blob.html#ad2b8e22df32b99651f727cd9a8dcb9f3">blob</a> = <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(blob);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   msg = <a class="code" href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a>(type, obj);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keywordflow">return</span> msg;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div><div class="ttc" id="json_8h_html_a0ca956b7df20127f7e38993c3c06cb2c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a></div><div class="ttdeci">struct ast_json * ast_json_ref(struct ast_json *value)</div><div class="ttdoc">Increase refcount on value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00067">json.c:67</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf3fae27e0558b4372735412393520a82"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf3fae27e0558b4372735412393520a82">ast_endpoint_snapshot_create</a></div><div class="ttdeci">struct ast_endpoint_snapshot * ast_endpoint_snapshot_create(struct ast_endpoint *endpoint)</div><div class="ttdoc">Create a snapshot of an endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00445">main/endpoints.c:445</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__endpoint__blob_html"><div class="ttname"><a href="../../d0/d7d/structast__endpoint__blob.html">ast_endpoint_blob</a></div><div class="ttdoc">Blob of data associated with an endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00076">stasis_endpoints.h:76</a></div></div>
<div class="ttc" id="json_8h_html_a8055cb3a9f4d7d5842826e6157ae00db"><div class="ttname"><a href="../../d4/d05/json_8h.html#a8055cb3a9f4d7d5842826e6157ae00db">ast_json_null</a></div><div class="ttdeci">struct ast_json * ast_json_null(void)</div><div class="ttdoc">Get the JSON null value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00248">json.c:248</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="stasis_8h_html_a72a06fdaec039fdfb5f36892e725f9ec"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a></div><div class="ttdeci">struct stasis_message * stasis_message_create(struct stasis_message_type *type, void *data)</div><div class="ttdoc">Create a new message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message.c:174</a></div></div>
<div class="ttc" id="structast__endpoint__blob_html_ad2b8e22df32b99651f727cd9a8dcb9f3"><div class="ttname"><a href="../../d0/d7d/structast__endpoint__blob.html#ad2b8e22df32b99651f727cd9a8dcb9f3">ast_endpoint_blob::blob</a></div><div class="ttdeci">struct ast_json * blob</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00078">stasis_endpoints.h:78</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structast__endpoint__blob_html_a1bf40feb428310e18e6432c0eb7f9fc9"><div class="ttname"><a href="../../d0/d7d/structast__endpoint__blob.html#a1bf40feb428310e18e6432c0eb7f9fc9">ast_endpoint_blob::snapshot</a></div><div class="ttdeci">struct ast_endpoint_snapshot * snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00077">stasis_endpoints.h:77</a></div></div>
<div class="ttc" id="stasis__endpoints_8c_html_a57995b7c5b8832bf9b8e154d170ad334"><div class="ttname"><a href="../../d3/daf/stasis__endpoints_8c.html#a57995b7c5b8832bf9b8e154d170ad334">endpoint_blob_dtor</a></div><div class="ttdeci">static void endpoint_blob_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00286">stasis_endpoints.c:286</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga18159008df1e2c2f4d86060386c8b47c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18159008df1e2c2f4d86060386c8b47c">&#9670;&nbsp;</a></span>ast_endpoint_blob_publish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_endpoint_blob_publish </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and publishes a <a class="el" href="../../d0/d7d/structast__endpoint__blob.html">ast_endpoint_blob</a> message. </p>
<dl class="section since"><dt>Since</dt><dd>12 The given <em>blob</em> should be treated as immutable and not modified after it is put into the message.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>Endpoint blob is associated with. </td></tr>
    <tr><td class="paramname">type</td><td>Message type for this blob. </td></tr>
    <tr><td class="paramname">blob</td><td>JSON object representing the data, or <code>NULL</code> for no data. If <code>NULL</code>, <a class="el" href="../../d4/d05/json_8h.html#a8055cb3a9f4d7d5842826e6157ae00db" title="Get the JSON null value. ">ast_json_null()</a> is put into the object. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00325">325</a> of file <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html">stasis_endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00293">ast_endpoint_blob_create()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00093">ast_endpoint_topic()</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08898">__expire_registry()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12317">__iax2_poke_noanswer()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01386">ast_sip_persistent_endpoint_publish_contact_state()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01329">ast_sip_persistent_endpoint_update_state()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16646">expire_register()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l24962">handle_response_peerpoke()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16961">parse_register_contact()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l17861">register_verify()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l30523">sip_poke_noanswer()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l02258">skinny_register()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07466">skinny_session_cleanup()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10083">socket_process_helper()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l08748">unload_module()</a>, and <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09002">update_registry()</a>.</p>
<div class="fragment"><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;{</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="code" href="../../d8/d9e/structmessage.html">message</a>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   <span class="keywordflow">if</span> (!blob) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   message = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gab64b4e754207708a20a96e4d4fc5cf3d">ast_endpoint_blob_create</a>(endpoint, type, blob);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <span class="keywordflow">if</span> (message) {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga566d4b2133a41b34f8b80de938d82e18">ast_endpoint_topic</a>(endpoint), message);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(message, -1);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gab64b4e754207708a20a96e4d4fc5cf3d"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gab64b4e754207708a20a96e4d4fc5cf3d">ast_endpoint_blob_create</a></div><div class="ttdeci">struct stasis_message * ast_endpoint_blob_create(struct ast_endpoint *endpoint, struct stasis_message_type *type, struct ast_json *blob)</div><div class="ttdoc">Creates a ast_endpoint_blob message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00293">stasis_endpoints.c:293</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga566d4b2133a41b34f8b80de938d82e18"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga566d4b2133a41b34f8b80de938d82e18">ast_endpoint_topic</a></div><div class="ttdeci">struct stasis_topic * ast_endpoint_topic(struct ast_endpoint *endpoint)</div><div class="ttdoc">Returns the topic for a specific endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00093">main/endpoints.c:93</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga585e6ce87a933360a7c247d7dc101cc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga585e6ce87a933360a7c247d7dc101cc0">&#9670;&nbsp;</a></span>ast_endpoint_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d25/structstasis__cache.html">stasis_cache</a>* ast_endpoint_cache </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backend cache for <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab91de30d8cc5a14abf4c557e4a5c7c5c" title="Cached topic for all endpoint related messages. ">ast_endpoint_topic_all_cached()</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>Cache of <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a>. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00111">111</a> of file <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html">stasis_endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00118">stasis_cp_all_cache()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00037">ast_ari_endpoints_list()</a>, <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00085">ast_ari_endpoints_list_by_tech()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00341">ast_endpoint_latest_snapshot()</a>, <a class="el" href="../../d6/d2c/res_2prometheus_2endpoints_8c_source.html#l00097">endpoints_scrape_cb()</a>, <a class="el" href="../../d6/d6a/res__endpoint__stats_8c_source.html#l00115">load_module()</a>, and <a class="el" href="../../d6/d6a/res__endpoint__stats_8c_source.html#l00134">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d8f/stasis__cache__pattern_8h.html#a40b1eea46e0bb6f647d68a5f7196610f">stasis_cp_all_cache</a>(<a class="code" href="../../d3/daf/stasis__endpoints_8c.html#aa6721cc690d76957fd6f29d700bd6c0d">endpoint_cache_all</a>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="ttc" id="stasis__cache__pattern_8h_html_a40b1eea46e0bb6f647d68a5f7196610f"><div class="ttname"><a href="../../d3/d8f/stasis__cache__pattern_8h.html#a40b1eea46e0bb6f647d68a5f7196610f">stasis_cp_all_cache</a></div><div class="ttdeci">struct stasis_cache * stasis_cp_all_cache(struct stasis_cp_all *all)</div><div class="ttdoc">Get the cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00118">stasis_cache_pattern.c:118</a></div></div>
<div class="ttc" id="stasis__endpoints_8c_html_aa6721cc690d76957fd6f29d700bd6c0d"><div class="ttname"><a href="../../d3/daf/stasis__endpoints_8c.html#aa6721cc690d76957fd6f29d700bd6c0d">endpoint_cache_all</a></div><div class="ttdeci">static struct stasis_cp_all * endpoint_cache_all</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00104">stasis_endpoints.c:104</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga43f306f19e883f27adf4f416fb5ec2b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43f306f19e883f27adf4f416fb5ec2b4">&#9670;&nbsp;</a></span>ast_endpoint_cache_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d65/structstasis__cp__all.html">stasis_cp_all</a>* ast_endpoint_cache_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00106">106</a> of file <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html">stasis_endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00104">endpoint_cache_all</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00214">endpoint_internal_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/daf/stasis__endpoints_8c.html#aa6721cc690d76957fd6f29d700bd6c0d">endpoint_cache_all</a>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="ttc" id="stasis__endpoints_8c_html_aa6721cc690d76957fd6f29d700bd6c0d"><div class="ttname"><a href="../../d3/daf/stasis__endpoints_8c.html#aa6721cc690d76957fd6f29d700bd6c0d">endpoint_cache_all</a></div><div class="ttdeci">static struct stasis_cp_all * endpoint_cache_all</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00104">stasis_endpoints.c:104</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga4d2d85d612142c53bd09d580857206a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d2d85d612142c53bd09d580857206a8">&#9670;&nbsp;</a></span>ast_endpoint_contact_state_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_endpoint_contact_state_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for endpoint contact state changes. </p>
<dl class="section since"><dt>Since</dt><dd>13.5 </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00458">ast_endpoint_stasis_init()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01386">ast_sip_persistent_endpoint_publish_contact_state()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00237">contactstatus_to_json()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00448">endpoints_stasis_cleanup()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00199">forwards_create_endpoint()</a>, and <a class="el" href="../../df/d10/manager__endpoints_8c_source.html#l00052">manager_endpoints_init()</a>.</p>

</div>
</div>
<a id="ga83c4127a98da15ab67e85d7aeabdbfdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83c4127a98da15ab67e85d7aeabdbfdf">&#9670;&nbsp;</a></span>ast_endpoint_latest_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a>* ast_endpoint_latest_snapshot </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tech</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the most recent snapshot for the endpoint with the given name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tech</td><td>Name of the endpoint's technology. </td></tr>
    <tr><td class="paramname">resource</td><td>Resource name of the endpoint. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Snapshot of the endpoint with the given name. </dd>
<dd>
<code>NULL</code> if endpoint is not found, or on error. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00341">341</a> of file <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html">stasis_endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00269">ast_asprintf</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00111">ast_endpoint_cache()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01183">ast_tech_to_upper()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00686">stasis_cache_get()</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message_data()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00153">ast_ari_endpoints_get()</a>, <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00276">ast_ari_endpoints_send_message_to_endpoint()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01515">ast_sip_get_endpoint_snapshot()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l01174">chan_pjsip_devicestate()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00584">message_received_handler()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02095">stasis_app_user_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *snapshot;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a>(&amp;<span class="keywordtype">id</span>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#a6379def8cefd9afdea29d5ed673cf8a0">tech</a>);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a>(&amp;<span class="keywordtype">id</span>, <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#a6379def8cefd9afdea29d5ed673cf8a0">tech</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>) {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a3d00ecafdea681595d840862538266c3">ast_tech_to_upper</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   msg = <a class="code" href="../../dd/d79/stasis_8h.html#ab3da17290725793258020b83f56e4df6">stasis_cache_get</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga585e6ce87a933360a7c247d7dc101cc0">ast_endpoint_cache</a>(), <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type</a>(), <span class="keywordtype">id</span>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <span class="keywordflow">if</span> (!msg) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;   snapshot = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(msg);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(snapshot != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(snapshot, +1);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(msg, -1);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   <span class="keywordflow">return</span> snapshot;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="ttc" id="group__StasisTopicsAndMessages_html_gaf23b8f5195f28ae2044eae71be431433"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_snapshot_type(void)</div><div class="ttdoc">Message type for ast_endpoint_snapshot. </div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ada667b6f84a08e6848cb37c5ffb94a5f"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a></div><div class="ttdeci">#define ast_asprintf(ret, fmt,...)</div><div class="ttdoc">A wrapper for asprintf() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00269">astmm.h:269</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a></div><div class="ttdoc">A snapshot of an endpoint&amp;#39;s state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00048">stasis_endpoints.h:48</a></div></div>
<div class="ttc" id="strings_8h_html_a3d00ecafdea681595d840862538266c3"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a3d00ecafdea681595d840862538266c3">ast_tech_to_upper</a></div><div class="ttdeci">char * ast_tech_to_upper(char *dev_str)</div><div class="ttdoc">Convert the tech portion of a device string to upper case. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01183">strings.h:1183</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_a6379def8cefd9afdea29d5ed673cf8a0"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#a6379def8cefd9afdea29d5ed673cf8a0">ast_endpoint_snapshot::tech</a></div><div class="ttdeci">const ast_string_field tech</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00053">stasis_endpoints.h:53</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="stasis_8h_html_ab3da17290725793258020b83f56e4df6"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ab3da17290725793258020b83f56e4df6">stasis_cache_get</a></div><div class="ttdeci">struct stasis_message * stasis_cache_get(struct stasis_cache *cache, struct stasis_message_type *type, const char *id)</div><div class="ttdoc">Retrieve an item from the cache for the ast_eid_default entity. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da9/stasis__cache_8c_source.html#l00686">stasis_cache.c:686</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga585e6ce87a933360a7c247d7dc101cc0"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga585e6ce87a933360a7c247d7dc101cc0">ast_endpoint_cache</a></div><div class="ttdeci">struct stasis_cache * ast_endpoint_cache(void)</div><div class="ttdoc">Backend cache for ast_endpoint_topic_all_cached(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00111">stasis_endpoints.c:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf3fae27e0558b4372735412393520a82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf3fae27e0558b4372735412393520a82">&#9670;&nbsp;</a></span>ast_endpoint_snapshot_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a>* ast_endpoint_snapshot_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a snapshot of an endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>Endpoint to snap a shot of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Snapshot of the endpoint. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00445">445</a> of file <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html">main/endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00406">ao2_alloc_options</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00550">ast_string_field_build</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00065">ast_endpoint_snapshot::channel_ids</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00074">ast_endpoint::channel_ids</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00431">endpoint_snapshot_dtor()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00061">ast_endpoint_snapshot::max_channels</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00068">ast_endpoint::max_channels</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00063">ast_endpoint_snapshot::num_channels</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00059">ast_endpoint::resource</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00056">ast_endpoint_snapshot::state</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00061">ast_endpoint::state</a>, and <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00059">ast_endpoint::tech</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00293">ast_endpoint_blob_create()</a>, <a class="el" href="../../da/d81/test__endpoints_8c_source.html#l00075">AST_TEST_DEFINE()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00334">create_endpoint_snapshot_message()</a>, and <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00122">endpoint_publish_snapshot()</a>.</p>
<div class="fragment"><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *snapshot;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <span class="keywordtype">int</span> channel_count;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   <span class="keywordtype">void</span> *obj;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, endpoint);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(endpoint != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(endpoint-&gt;<a class="code" href="../../d4/df2/structast__endpoint.html#ae2dfc8e2aac2a8f3eed1f3bf8054e358">resource</a>));</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   channel_count = <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(endpoint-&gt;<a class="code" href="../../d4/df2/structast__endpoint.html#a00099e4dc585aec5fee1006d07c3bfde">channel_ids</a>);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   snapshot = <a class="code" href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a>(</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keyword">sizeof</span>(*snapshot) + channel_count * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *),</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <a class="code" href="../../d7/d4b/main_2endpoints_8c.html#af4e5ba825a4d78723ecc9401eb06c6c9">endpoint_snapshot_dtor</a>,</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   <span class="keywordflow">if</span> (!snapshot || <a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(snapshot, 80) != 0) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(snapshot);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a8b9f4347fc72720cc5cead952b54abe9">ast_string_field_build</a>(snapshot, <span class="keywordtype">id</span>, <span class="stringliteral">&quot;%s/%s&quot;</span>, endpoint-&gt;<a class="code" href="../../d4/df2/structast__endpoint.html#a6379def8cefd9afdea29d5ed673cf8a0">tech</a>,</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      endpoint-&gt;<a class="code" href="../../d4/df2/structast__endpoint.html#ae2dfc8e2aac2a8f3eed1f3bf8054e358">resource</a>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(snapshot, tech, endpoint-&gt;<a class="code" href="../../d4/df2/structast__endpoint.html#a6379def8cefd9afdea29d5ed673cf8a0">tech</a>);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(snapshot, resource, endpoint-&gt;<a class="code" href="../../d4/df2/structast__endpoint.html#ae2dfc8e2aac2a8f3eed1f3bf8054e358">resource</a>);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#a6d02593144c6c3fd9f222fce483d8a65">state</a> = endpoint-&gt;<a class="code" href="../../d4/df2/structast__endpoint.html#a6d02593144c6c3fd9f222fce483d8a65">state</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#ade80a1307c60b56d040abb38337e2168">max_channels</a> = endpoint-&gt;<a class="code" href="../../d4/df2/structast__endpoint.html#ade80a1307c60b56d040abb38337e2168">max_channels</a>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(endpoint-&gt;<a class="code" href="../../d4/df2/structast__endpoint.html#a00099e4dc585aec5fee1006d07c3bfde">channel_ids</a>, 0);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <span class="keywordflow">while</span> ((obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="comment">/* The reference is kept so the channel id does not go away until the snapshot is gone */</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#af8f1f95df0b0112b6e33a612c577df63">channel_ids</a>[snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#a3ebe4beb37744670619a1fb1cb609d91">num_channels</a>++] = obj;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   }</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="keywordflow">return</span> snapshot;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="structast__endpoint_html_a00099e4dc585aec5fee1006d07c3bfde"><div class="ttname"><a href="../../d4/df2/structast__endpoint.html#a00099e4dc585aec5fee1006d07c3bfde">ast_endpoint::channel_ids</a></div><div class="ttdeci">struct ao2_container * channel_ids</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00074">main/endpoints.c:74</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab3c44e28d661616129b7819069effe61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a></div><div class="ttdeci">#define ao2_alloc_options(data_size, destructor_fn, options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00406">astobj2.h:406</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structast__endpoint_html_ae2dfc8e2aac2a8f3eed1f3bf8054e358"><div class="ttname"><a href="../../d4/df2/structast__endpoint.html#ae2dfc8e2aac2a8f3eed1f3bf8054e358">ast_endpoint::resource</a></div><div class="ttdeci">const ast_string_field resource</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00059">main/endpoints.c:59</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="main_2endpoints_8c_html_af4e5ba825a4d78723ecc9401eb06c6c9"><div class="ttname"><a href="../../d7/d4b/main_2endpoints_8c.html#af4e5ba825a4d78723ecc9401eb06c6c9">endpoint_snapshot_dtor</a></div><div class="ttdeci">static void endpoint_snapshot_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00431">main/endpoints.c:431</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_a3ebe4beb37744670619a1fb1cb609d91"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#a3ebe4beb37744670619a1fb1cb609d91">ast_endpoint_snapshot::num_channels</a></div><div class="ttdeci">int num_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00063">stasis_endpoints.h:63</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a></div><div class="ttdoc">A snapshot of an endpoint&amp;#39;s state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00048">stasis_endpoints.h:48</a></div></div>
<div class="ttc" id="structast__endpoint_html_a6d02593144c6c3fd9f222fce483d8a65"><div class="ttname"><a href="../../d4/df2/structast__endpoint.html#a6d02593144c6c3fd9f222fce483d8a65">ast_endpoint::state</a></div><div class="ttdeci">enum ast_endpoint_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00061">main/endpoints.c:61</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structast__endpoint_html_a6379def8cefd9afdea29d5ed673cf8a0"><div class="ttname"><a href="../../d4/df2/structast__endpoint.html#a6379def8cefd9afdea29d5ed673cf8a0">ast_endpoint::tech</a></div><div class="ttdeci">const ast_string_field tech</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00059">main/endpoints.c:59</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_ade80a1307c60b56d040abb38337e2168"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#ade80a1307c60b56d040abb38337e2168">ast_endpoint_snapshot::max_channels</a></div><div class="ttdeci">int max_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00061">stasis_endpoints.h:61</a></div></div>
<div class="ttc" id="stringfields_8h_html_a8b9f4347fc72720cc5cead952b54abe9"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a8b9f4347fc72720cc5cead952b54abe9">ast_string_field_build</a></div><div class="ttdeci">#define ast_string_field_build(x, field, fmt, args...)</div><div class="ttdoc">Set a field to a complex (built) value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00550">stringfields.h:550</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_af8f1f95df0b0112b6e33a612c577df63"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#af8f1f95df0b0112b6e33a612c577df63">ast_endpoint_snapshot::channel_ids</a></div><div class="ttdeci">char * channel_ids[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00065">stasis_endpoints.h:65</a></div></div>
<div class="ttc" id="structast__endpoint_html_ade80a1307c60b56d040abb38337e2168"><div class="ttname"><a href="../../d4/df2/structast__endpoint.html#ade80a1307c60b56d040abb38337e2168">ast_endpoint::max_channels</a></div><div class="ttdeci">int max_channels</div><div class="ttdoc">Max channels for this endpoint. -1 means unlimited or unknown. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00068">main/endpoints.c:68</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_a6d02593144c6c3fd9f222fce483d8a65"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#a6d02593144c6c3fd9f222fce483d8a65">ast_endpoint_snapshot::state</a></div><div class="ttdeci">enum ast_endpoint_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00056">stasis_endpoints.h:56</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf23b8f5195f28ae2044eae71be431433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf23b8f5195f28ae2044eae71be431433">&#9670;&nbsp;</a></span>ast_endpoint_snapshot_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_endpoint_snapshot_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a>. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>, <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00037">ast_ari_endpoints_list()</a>, <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00085">ast_ari_endpoints_list_by_tech()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00341">ast_endpoint_latest_snapshot()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00458">ast_endpoint_stasis_init()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00121">ast_endpoint_topic_all_cached()</a>, <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00070">AST_TEST_DEFINE()</a>, <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00048">cache_update()</a>, <a class="el" href="../../d6/d6a/res__endpoint__stats_8c_source.html#l00078">cache_update_cb()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00334">create_endpoint_snapshot_message()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00214">endpoint_internal_create()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00122">endpoint_publish_snapshot()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00384">endpoint_snapshot_get_id()</a>, <a class="el" href="../../d6/d2c/res_2prometheus_2endpoints_8c_source.html#l00097">endpoints_scrape_cb()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00448">endpoints_stasis_cleanup()</a>, <a class="el" href="../../d6/d6a/res__endpoint__stats_8c_source.html#l00115">load_module()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00628">sub_endpoint_update_handler()</a>, and <a class="el" href="../../d6/d6a/res__endpoint__stats_8c_source.html#l00134">unload_module()</a>.</p>

</div>
</div>
<a id="ga5bef70de71c061b6ef7739d9634ebbb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5bef70de71c061b6ef7739d9634ebbb1">&#9670;&nbsp;</a></span>ast_endpoint_state_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_endpoint_state_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for endpoint state changes. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08898">__expire_registry()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12317">__iax2_poke_noanswer()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00458">ast_endpoint_stasis_init()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01329">ast_sip_persistent_endpoint_update_state()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00448">endpoints_stasis_cleanup()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16646">expire_register()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00199">forwards_create_endpoint()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l24962">handle_response_peerpoke()</a>, <a class="el" href="../../df/d10/manager__endpoints_8c_source.html#l00052">manager_endpoints_init()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16961">parse_register_contact()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00163">peerstatus_to_json()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l17861">register_verify()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l30523">sip_poke_noanswer()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l02258">skinny_register()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07466">skinny_session_cleanup()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10083">socket_process_helper()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l08748">unload_module()</a>, and <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09002">update_registry()</a>.</p>

</div>
</div>
<a id="ga566d4b2133a41b34f8b80de938d82e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga566d4b2133a41b34f8b80de938d82e18">&#9670;&nbsp;</a></span>ast_endpoint_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_endpoint_topic </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the topic for a specific endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>The endpoint. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The topic for the given endpoint. </dd>
<dd>
<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga194048b419a426601b448dc48c514a17" title="Topic for all endpoint releated messages. ">ast_endpoint_topic_all()</a> if endpoint is <code>NULL</code>. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00093">93</a> of file <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html">main/endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00116">ast_endpoint_topic_all()</a>, <a class="el" href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00205">stasis_cp_single_topic()</a>, and <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00070">ast_endpoint::topics</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01511">ast_channel_forward_endpoint()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00325">ast_endpoint_blob_publish()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00350">ast_endpoint_shutdown()</a>, <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00070">AST_TEST_DEFINE()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00214">endpoint_internal_create()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00122">endpoint_publish_snapshot()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00199">forwards_create_endpoint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   <span class="keywordflow">if</span> (!endpoint) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga194048b419a426601b448dc48c514a17">ast_endpoint_topic_all</a>();</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d8f/stasis__cache__pattern_8h.html#a03eedec7ea8b0e95fcec188f18cbe6f0">stasis_cp_single_topic</a>(endpoint-&gt;<a class="code" href="../../d4/df2/structast__endpoint.html#a40bd93a4f1e068d01d79a1ff6599017c">topics</a>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div><div class="ttc" id="stasis__cache__pattern_8h_html_a03eedec7ea8b0e95fcec188f18cbe6f0"><div class="ttname"><a href="../../d3/d8f/stasis__cache__pattern_8h.html#a03eedec7ea8b0e95fcec188f18cbe6f0">stasis_cp_single_topic</a></div><div class="ttdeci">struct stasis_topic * stasis_cp_single_topic(struct stasis_cp_single *one)</div><div class="ttdoc">Get the topic for this instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00205">stasis_cache_pattern.c:205</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga194048b419a426601b448dc48c514a17"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga194048b419a426601b448dc48c514a17">ast_endpoint_topic_all</a></div><div class="ttdeci">struct stasis_topic * ast_endpoint_topic_all(void)</div><div class="ttdoc">Topic for all endpoint releated messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00116">stasis_endpoints.c:116</a></div></div>
<div class="ttc" id="structast__endpoint_html_a40bd93a4f1e068d01d79a1ff6599017c"><div class="ttname"><a href="../../d4/df2/structast__endpoint.html#a40bd93a4f1e068d01d79a1ff6599017c">ast_endpoint::topics</a></div><div class="ttdeci">struct stasis_cp_single * topics</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00070">main/endpoints.c:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga194048b419a426601b448dc48c514a17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga194048b419a426601b448dc48c514a17">&#9670;&nbsp;</a></span>ast_endpoint_topic_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_endpoint_topic_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Topic for all endpoint releated messages. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00116">116</a> of file <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html">stasis_endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00101">stasis_cp_all_topic()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00093">ast_endpoint_topic()</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d8f/stasis__cache__pattern_8h.html#ac7c62b681c503de42d2625ed65899e46">stasis_cp_all_topic</a>(<a class="code" href="../../d3/daf/stasis__endpoints_8c.html#aa6721cc690d76957fd6f29d700bd6c0d">endpoint_cache_all</a>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div><div class="ttc" id="stasis__endpoints_8c_html_aa6721cc690d76957fd6f29d700bd6c0d"><div class="ttname"><a href="../../d3/daf/stasis__endpoints_8c.html#aa6721cc690d76957fd6f29d700bd6c0d">endpoint_cache_all</a></div><div class="ttdeci">static struct stasis_cp_all * endpoint_cache_all</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00104">stasis_endpoints.c:104</a></div></div>
<div class="ttc" id="stasis__cache__pattern_8h_html_ac7c62b681c503de42d2625ed65899e46"><div class="ttname"><a href="../../d3/d8f/stasis__cache__pattern_8h.html#ac7c62b681c503de42d2625ed65899e46">stasis_cp_all_topic</a></div><div class="ttdeci">struct stasis_topic * stasis_cp_all_topic(struct stasis_cp_all *all)</div><div class="ttdoc">Get the aggregate topic. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00101">stasis_cache_pattern.c:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gab91de30d8cc5a14abf4c557e4a5c7c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab91de30d8cc5a14abf4c557e4a5c7c5c">&#9670;&nbsp;</a></span>ast_endpoint_topic_all_cached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_endpoint_topic_all_cached </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cached topic for all endpoint related messages. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00121">121</a> of file <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html">stasis_endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type()</a>, <a class="el" href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00109">stasis_cp_all_topic_cached()</a>, and <a class="el" href="../../d3/daf/stasis__endpoints_8c.html#a0bf583b3773881c21a31393404fd5d17">STASIS_MESSAGE_TYPE_DEFN()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00101">ast_endpoint_topic_cached()</a>, <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00126">AST_TEST_DEFINE()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00199">forwards_create_endpoint()</a>, <a class="el" href="../../d6/d6a/res__endpoint__stats_8c_source.html#l00115">load_module()</a>, and <a class="el" href="../../df/d10/manager__endpoints_8c_source.html#l00052">manager_endpoints_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d8f/stasis__cache__pattern_8h.html#ad9e12990f490370e26122d709f0ffaa7">stasis_cp_all_topic_cached</a>(<a class="code" href="../../d3/daf/stasis__endpoints_8c.html#aa6721cc690d76957fd6f29d700bd6c0d">endpoint_cache_all</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div><div class="ttc" id="stasis__cache__pattern_8h_html_ad9e12990f490370e26122d709f0ffaa7"><div class="ttname"><a href="../../d3/d8f/stasis__cache__pattern_8h.html#ad9e12990f490370e26122d709f0ffaa7">stasis_cp_all_topic_cached</a></div><div class="ttdeci">struct stasis_topic * stasis_cp_all_topic_cached(struct stasis_cp_all *all)</div><div class="ttdoc">Get the caching topic. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00109">stasis_cache_pattern.c:109</a></div></div>
<div class="ttc" id="stasis__endpoints_8c_html_aa6721cc690d76957fd6f29d700bd6c0d"><div class="ttname"><a href="../../d3/daf/stasis__endpoints_8c.html#aa6721cc690d76957fd6f29d700bd6c0d">endpoint_cache_all</a></div><div class="ttdeci">static struct stasis_cp_all * endpoint_cache_all</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00104">stasis_endpoints.c:104</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga56bc4873f8a6bc6cfa573347abf7560e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56bc4873f8a6bc6cfa573347abf7560e">&#9670;&nbsp;</a></span>ast_endpoint_topic_cached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_endpoint_topic_cached </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the topic for a specific endpoint. </p>
<p><a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> messages are replaced with <a class="el" href="../../de/dfa/structstasis__cache__update.html">stasis_cache_update</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>The endpoint. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The topic for the given endpoint. </dd>
<dd>
<a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga194048b419a426601b448dc48c514a17" title="Topic for all endpoint releated messages. ">ast_endpoint_topic_all()</a> if endpoint is <code>NULL</code>. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00101">101</a> of file <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html">main/endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00121">ast_endpoint_topic_all_cached()</a>, <a class="el" href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00213">stasis_cp_single_topic_cached()</a>, and <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00070">ast_endpoint::topics</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00199">forwards_create_endpoint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;   <span class="keywordflow">if</span> (!endpoint) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gab91de30d8cc5a14abf4c557e4a5c7c5c">ast_endpoint_topic_all_cached</a>();</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d8f/stasis__cache__pattern_8h.html#ae5e83b16a1cd556eb431d1c3aeb8f771">stasis_cp_single_topic_cached</a>(endpoint-&gt;<a class="code" href="../../d4/df2/structast__endpoint.html#a40bd93a4f1e068d01d79a1ff6599017c">topics</a>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="ttc" id="stasis__cache__pattern_8h_html_ae5e83b16a1cd556eb431d1c3aeb8f771"><div class="ttname"><a href="../../d3/d8f/stasis__cache__pattern_8h.html#ae5e83b16a1cd556eb431d1c3aeb8f771">stasis_cp_single_topic_cached</a></div><div class="ttdeci">struct stasis_topic * stasis_cp_single_topic_cached(struct stasis_cp_single *one)</div><div class="ttdoc">Get the caching topic for this instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00213">stasis_cache_pattern.c:213</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gab91de30d8cc5a14abf4c557e4a5c7c5c"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gab91de30d8cc5a14abf4c557e4a5c7c5c">ast_endpoint_topic_all_cached</a></div><div class="ttdeci">struct stasis_topic * ast_endpoint_topic_all_cached(void)</div><div class="ttdoc">Cached topic for all endpoint related messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00121">stasis_endpoints.c:121</a></div></div>
<div class="ttc" id="structast__endpoint_html_a40bd93a4f1e068d01d79a1ff6599017c"><div class="ttname"><a href="../../d4/df2/structast__endpoint.html#a40bd93a4f1e068d01d79a1ff6599017c">ast_endpoint::topics</a></div><div class="ttdeci">struct stasis_cp_single * topics</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00070">main/endpoints.c:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga9a3ff91f86f5f2e7e60571246c8e5873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a3ff91f86f5f2e7e60571246c8e5873">&#9670;&nbsp;</a></span>ast_multi_channel_blob_add_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_multi_channel_blob_add_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> to a <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> object. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This will increase the reference count by 1 for the channel snapshot. It is assumed that the <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> will own a reference to the object.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> object that will reference the snapshot </td></tr>
    <tr><td class="paramname">role</td><td>A <em>role</em> that the snapshot has in the multi channel relationship </td></tr>
    <tr><td class="paramname">snapshot</td><td>The <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> being added to the <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> object </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00956">956</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00406">ao2_alloc_options</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00949">channel_role_snapshot_dtor()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00812">ast_multi_channel_blob::channel_snapshots</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00807">channel_role_snapshot::role</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00806">channel_role_snapshot::snapshot</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00602">ast_channel_publish_dial_internal()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01616">AST_TEST_DEFINE()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00362">local_channel_optimization_blob()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00390">local_optimization_started_cb()</a>, <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00544">pack_channel_into_message()</a>, <a class="el" href="../../dd/da3/res__stasis__snoop_8c_source.html#l00113">publish_chanspy_message()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00540">publish_local_bridge_message()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02166">queue_publish_multi_channel_snapshot_blob()</a>, and <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00278">send_call_pickup_stasis_message()</a>.</p>
<div class="fragment"><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;{</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dc8/structchannel__role__snapshot.html">channel_role_snapshot</a> *role_snapshot;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;   <span class="keywordtype">int</span> role_len = strlen(<a class="code" href="../../dd/dc8/structchannel__role__snapshot.html#a18b3a5fe2bdb685d185ca60545dd3b10">role</a>) + 1;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;   <span class="keywordflow">if</span> (!obj || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../dd/dc8/structchannel__role__snapshot.html#a18b3a5fe2bdb685d185ca60545dd3b10">role</a>) || !snapshot) {</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   }</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;   role_snapshot = <a class="code" href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a>(<span class="keyword">sizeof</span>(*role_snapshot) + role_len,</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a9d379167011a61ad558a54af8902d281">channel_role_snapshot_dtor</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   <span class="keywordflow">if</span> (!role_snapshot) {</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   }</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(role_snapshot-&gt;<a class="code" href="../../dd/dc8/structchannel__role__snapshot.html#a18b3a5fe2bdb685d185ca60545dd3b10">role</a>, <a class="code" href="../../dd/dc8/structchannel__role__snapshot.html#a18b3a5fe2bdb685d185ca60545dd3b10">role</a>, role_len);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   role_snapshot-&gt;<a class="code" href="../../dd/dc8/structchannel__role__snapshot.html#a36584c0251e54a7af4892d63f7a28c77">snapshot</a> = <a class="code" href="../../dd/dc8/structchannel__role__snapshot.html#a36584c0251e54a7af4892d63f7a28c77">snapshot</a>;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(role_snapshot-&gt;<a class="code" href="../../dd/dc8/structchannel__role__snapshot.html#a36584c0251e54a7af4892d63f7a28c77">snapshot</a>, +1);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(obj-&gt;<a class="code" href="../../df/dcb/structast__multi__channel__blob.html#aef9700b5a35e7bf49329f916e3f4f84d">channel_snapshots</a>, role_snapshot);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(role_snapshot, -1);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab3c44e28d661616129b7819069effe61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a></div><div class="ttdeci">#define ao2_alloc_options(data_size, destructor_fn, options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00406">astobj2.h:406</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a9d379167011a61ad558a54af8902d281"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a9d379167011a61ad558a54af8902d281">channel_role_snapshot_dtor</a></div><div class="ttdeci">static void channel_role_snapshot_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00949">stasis_channels.c:949</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structchannel__role__snapshot_html_a36584c0251e54a7af4892d63f7a28c77"><div class="ttname"><a href="../../dd/dc8/structchannel__role__snapshot.html#a36584c0251e54a7af4892d63f7a28c77">channel_role_snapshot::snapshot</a></div><div class="ttdeci">struct ast_channel_snapshot * snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00806">stasis_channels.c:806</a></div></div>
<div class="ttc" id="structast__multi__channel__blob_html_aef9700b5a35e7bf49329f916e3f4f84d"><div class="ttname"><a href="../../df/dcb/structast__multi__channel__blob.html#aef9700b5a35e7bf49329f916e3f4f84d">ast_multi_channel_blob::channel_snapshots</a></div><div class="ttdeci">struct ao2_container * channel_snapshots</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00812">stasis_channels.c:812</a></div></div>
<div class="ttc" id="structchannel__role__snapshot_html_a18b3a5fe2bdb685d185ca60545dd3b10"><div class="ttname"><a href="../../dd/dc8/structchannel__role__snapshot.html#a18b3a5fe2bdb685d185ca60545dd3b10">channel_role_snapshot::role</a></div><div class="ttdeci">char role[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00807">stasis_channels.c:807</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structchannel__role__snapshot_html"><div class="ttname"><a href="../../dd/dc8/structchannel__role__snapshot.html">channel_role_snapshot</a></div><div class="ttdoc">A channel snapshot wrapper object used in ast_multi_channel_blob objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00805">stasis_channels.c:805</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gafe90e356833a3ec8ba6020a39d0689b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe90e356833a3ec8ba6020a39d0689b9">&#9670;&nbsp;</a></span>ast_multi_channel_blob_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a>* ast_multi_channel_blob_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>blob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> suitable for a <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>. </p>
<dl class="section since"><dt>Since</dt><dd>12 The given <em>blob</em> should be treated as immutable and not modified after it is put into the message.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blob</td><td>The JSON blob that defines the data of this <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> object </dd>
<dd>
<code>NULL</code> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00881">881</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00067">ast_json_ref()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00813">ast_multi_channel_blob::blob</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00820">channel_role_cmp_cb()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00850">channel_role_hash_cb()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00812">ast_multi_channel_blob::channel_snapshots</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00873">multi_channel_blob_dtor()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00117">NUM_MULTI_CHANNEL_BLOB_BUCKETS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00602">ast_channel_publish_dial_internal()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01616">AST_TEST_DEFINE()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00362">local_channel_optimization_blob()</a>, <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00565">publish_chanspy_message()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00540">publish_local_bridge_message()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02166">queue_publish_multi_channel_snapshot_blob()</a>, and <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00278">send_call_pickup_stasis_message()</a>.</p>
<div class="fragment"><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;{</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> *obj;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(blob != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   obj = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*obj), <a class="code" href="../../dc/d2b/stasis__channels_8c.html#aec5246f2dd27eee3dda0381e70e18c81">multi_channel_blob_dtor</a>);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   }</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   obj-&gt;<a class="code" href="../../df/dcb/structast__multi__channel__blob.html#aef9700b5a35e7bf49329f916e3f4f84d">channel_snapshots</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0,</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a56d53bc04a8d59a698708f7f42f5f102">NUM_MULTI_CHANNEL_BLOB_BUCKETS</a>, <a class="code" href="../../dc/d2b/stasis__channels_8c.html#ae417a19e8611a9cc645cfa2bffa018d7">channel_role_hash_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a2c5bd56bf0e0c0f04815a059bc57d47a">channel_role_cmp_cb</a>);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;   <span class="keywordflow">if</span> (!obj-&gt;<a class="code" href="../../df/dcb/structast__multi__channel__blob.html#aef9700b5a35e7bf49329f916e3f4f84d">channel_snapshots</a>) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   obj-&gt;<a class="code" href="../../df/dcb/structast__multi__channel__blob.html#ad2b8e22df32b99651f727cd9a8dcb9f3">blob</a> = <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(blob);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   <span class="keywordflow">return</span> obj;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div><div class="ttc" id="stasis__channels_8c_html_aec5246f2dd27eee3dda0381e70e18c81"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#aec5246f2dd27eee3dda0381e70e18c81">multi_channel_blob_dtor</a></div><div class="ttdeci">static void multi_channel_blob_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00873">stasis_channels.c:873</a></div></div>
<div class="ttc" id="json_8h_html_a0ca956b7df20127f7e38993c3c06cb2c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a></div><div class="ttdeci">struct ast_json * ast_json_ref(struct ast_json *value)</div><div class="ttdoc">Increase refcount on value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00067">json.c:67</a></div></div>
<div class="ttc" id="structast__multi__channel__blob_html_ad2b8e22df32b99651f727cd9a8dcb9f3"><div class="ttname"><a href="../../df/dcb/structast__multi__channel__blob.html#ad2b8e22df32b99651f727cd9a8dcb9f3">ast_multi_channel_blob::blob</a></div><div class="ttdeci">struct ast_json * blob</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00813">stasis_channels.c:813</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a2c5bd56bf0e0c0f04815a059bc57d47a"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a2c5bd56bf0e0c0f04815a059bc57d47a">channel_role_cmp_cb</a></div><div class="ttdeci">static int channel_role_cmp_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00820">stasis_channels.c:820</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a56d53bc04a8d59a698708f7f42f5f102"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a56d53bc04a8d59a698708f7f42f5f102">NUM_MULTI_CHANNEL_BLOB_BUCKETS</a></div><div class="ttdeci">#define NUM_MULTI_CHANNEL_BLOB_BUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00117">stasis_channels.c:117</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_ae417a19e8611a9cc645cfa2bffa018d7"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#ae417a19e8611a9cc645cfa2bffa018d7">channel_role_hash_cb</a></div><div class="ttdeci">static int channel_role_hash_cb(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00850">stasis_channels.c:850</a></div></div>
<div class="ttc" id="structast__multi__channel__blob_html_aef9700b5a35e7bf49329f916e3f4f84d"><div class="ttname"><a href="../../df/dcb/structast__multi__channel__blob.html#aef9700b5a35e7bf49329f916e3f4f84d">ast_multi_channel_blob::channel_snapshots</a></div><div class="ttdeci">struct ao2_container * channel_snapshots</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00812">stasis_channels.c:812</a></div></div>
<div class="ttc" id="structast__multi__channel__blob_html"><div class="ttname"><a href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a></div><div class="ttdoc">A multi channel blob data structure for multi_channel_blob stasis messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00811">stasis_channels.c:811</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gac6cf4ef94e11b14625a81ba56f89a183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac6cf4ef94e11b14625a81ba56f89a183">&#9670;&nbsp;</a></span>ast_multi_channel_blob_get_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a>* ast_multi_channel_blob_get_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a channel snapshot associated with a specific role from a <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a>. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The reference count of the <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> returned from this function is not changed. The caller of this function does not own the reference to the snapshot.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> containing the channel snapshot to retrieve </td></tr>
    <tr><td class="paramname">role</td><td>The role associated with the channel snapshot</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00977">977</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00812">ast_multi_channel_blob::channel_snapshots</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00806">channel_role_snapshot::snapshot</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/dbd/test__stasis__channels_8c_source.html#l00176">AST_TEST_DEFINE()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00318">call_forwarded_handler()</a>, <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00246">call_pickup_to_ami()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01229">cel_dial_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01392">cel_local_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01368">cel_pickup_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00842">channel_chanspy_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00807">channel_chanspy_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01194">channel_dial_cb()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01433">dial_to_json()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02105">handle_dial_message()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06281">handle_local_optimization_begin()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06333">handle_local_optimization_end()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00463">local_message_to_ami()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02084">queue_multi_channel_to_ami()</a>.</p>
<div class="fragment"><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;{</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dc8/structchannel__role__snapshot.html">channel_role_snapshot</a> *role_snapshot;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   <span class="keywordflow">if</span> (!obj || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(role)) {</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;   role_snapshot = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(obj-&gt;<a class="code" href="../../df/dcb/structast__multi__channel__blob.html#aef9700b5a35e7bf49329f916e3f4f84d">channel_snapshots</a>, role, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   <span class="comment">/* Note that this function does not increase the ref count on snapshot */</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;   <span class="keywordflow">if</span> (!role_snapshot) {</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   }</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   snapshot = role_snapshot-&gt;<a class="code" href="../../dd/dc8/structchannel__role__snapshot.html#a36584c0251e54a7af4892d63f7a28c77">snapshot</a>;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(role_snapshot, -1);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   <span class="keywordflow">return</span> snapshot;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a></div><div class="ttdoc">Structure representing a snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00145">stasis_channels.h:145</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structchannel__role__snapshot_html_a36584c0251e54a7af4892d63f7a28c77"><div class="ttname"><a href="../../dd/dc8/structchannel__role__snapshot.html#a36584c0251e54a7af4892d63f7a28c77">channel_role_snapshot::snapshot</a></div><div class="ttdeci">struct ast_channel_snapshot * snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00806">stasis_channels.c:806</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structast__multi__channel__blob_html_aef9700b5a35e7bf49329f916e3f4f84d"><div class="ttname"><a href="../../df/dcb/structast__multi__channel__blob.html#aef9700b5a35e7bf49329f916e3f4f84d">ast_multi_channel_blob::channel_snapshots</a></div><div class="ttdeci">struct ao2_container * channel_snapshots</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00812">stasis_channels.c:812</a></div></div>
<div class="ttc" id="structchannel__role__snapshot_html"><div class="ttname"><a href="../../dd/dc8/structchannel__role__snapshot.html">channel_role_snapshot</a></div><div class="ttdoc">A channel snapshot wrapper object used in ast_multi_channel_blob objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00805">stasis_channels.c:805</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga61fb169e12b7fd0aaf82c3f2ddec5928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61fb169e12b7fd0aaf82c3f2ddec5928">&#9670;&nbsp;</a></span>ast_multi_channel_blob_get_channels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_multi_channel_blob_get_channels </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve all channel snapshots associated with a specific role from a <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a>. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Because this function returns an <a class="el" href="../../d2/da9/structao2__container.html" title="Generic container type. ">ao2_container</a> (hashed by channel name) of all channel snapshots that matched the passed in role, the reference of the snapshots is increased by this function. The caller of this function must release the reference to the snapshots by disposing of the container appropriately.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> containing the channel snapshots to retrieve </td></tr>
    <tr><td class="paramname">role</td><td>The role associated with the channel snapshots</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>container containing all <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> objects matching the role on success. </td></tr>
    <tr><td class="paramname">NULL</td><td>on error or not found for the role specified </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00995">995</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00820">channel_role_cmp_cb()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00165">channel_snapshot_cmp_cb()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00142">channel_snapshot_hash_cb()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00812">ast_multi_channel_blob::channel_snapshots</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00117">NUM_MULTI_CHANNEL_BLOB_BUCKETS</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00806">channel_role_snapshot::snapshot</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/dbd/test__stasis__channels_8c_source.html#l00176">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;{</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *ret_container;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> *it_role_snapshots;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dc8/structchannel__role__snapshot.html">channel_role_snapshot</a> *role_snapshot;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;   <span class="keywordtype">char</span> *arg;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;   <span class="keywordflow">if</span> (!obj || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../dd/dc8/structchannel__role__snapshot.html#a18b3a5fe2bdb685d185ca60545dd3b10">role</a>)) {</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   ret_container = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0,</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a56d53bc04a8d59a698708f7f42f5f102">NUM_MULTI_CHANNEL_BLOB_BUCKETS</a>,</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <a class="code" href="../../dc/d2b/stasis__channels_8c.html#adb588575e284f4757b01cd2ddec6d342">channel_snapshot_hash_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a28d87373f5bf92c913d3b9a333e8dae6">channel_snapshot_cmp_cb</a>);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   <span class="keywordflow">if</span> (!ret_container) {</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   }</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;   arg = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../dd/dc8/structchannel__role__snapshot.html#a18b3a5fe2bdb685d185ca60545dd3b10">role</a>);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;   it_role_snapshots = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(obj-&gt;<a class="code" href="../../df/dcb/structast__multi__channel__blob.html#aef9700b5a35e7bf49329f916e3f4f84d">channel_snapshots</a>,</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>, <a class="code" href="../../dc/d2b/stasis__channels_8c.html#a2c5bd56bf0e0c0f04815a059bc57d47a">channel_role_cmp_cb</a>, arg);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;   <span class="keywordflow">if</span> (!it_role_snapshots) {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(ret_container, -1);</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;   <span class="keywordflow">while</span> ((role_snapshot = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(it_role_snapshots))) {</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(ret_container, role_snapshot-&gt;<a class="code" href="../../dd/dc8/structchannel__role__snapshot.html#a36584c0251e54a7af4892d63f7a28c77">snapshot</a>);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(role_snapshot, -1);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;   }</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(it_role_snapshots);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;   <span class="keywordflow">return</span> ret_container;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a2c5bd56bf0e0c0f04815a059bc57d47a"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a2c5bd56bf0e0c0f04815a059bc57d47a">channel_role_cmp_cb</a></div><div class="ttdeci">static int channel_role_cmp_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00820">stasis_channels.c:820</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a56d53bc04a8d59a698708f7f42f5f102"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a56d53bc04a8d59a698708f7f42f5f102">NUM_MULTI_CHANNEL_BLOB_BUCKETS</a></div><div class="ttdeci">#define NUM_MULTI_CHANNEL_BLOB_BUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00117">stasis_channels.c:117</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_a28d87373f5bf92c913d3b9a333e8dae6"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#a28d87373f5bf92c913d3b9a333e8dae6">channel_snapshot_cmp_cb</a></div><div class="ttdeci">static int channel_snapshot_cmp_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00165">stasis_channels.c:165</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="stasis__channels_8c_html_adb588575e284f4757b01cd2ddec6d342"><div class="ttname"><a href="../../dc/d2b/stasis__channels_8c.html#adb588575e284f4757b01cd2ddec6d342">channel_snapshot_hash_cb</a></div><div class="ttdeci">static int channel_snapshot_hash_cb(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00142">stasis_channels.c:142</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="structchannel__role__snapshot_html_a36584c0251e54a7af4892d63f7a28c77"><div class="ttname"><a href="../../dd/dc8/structchannel__role__snapshot.html#a36584c0251e54a7af4892d63f7a28c77">channel_role_snapshot::snapshot</a></div><div class="ttdeci">struct ast_channel_snapshot * snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00806">stasis_channels.c:806</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structast__multi__channel__blob_html_aef9700b5a35e7bf49329f916e3f4f84d"><div class="ttname"><a href="../../df/dcb/structast__multi__channel__blob.html#aef9700b5a35e7bf49329f916e3f4f84d">ast_multi_channel_blob::channel_snapshots</a></div><div class="ttdeci">struct ao2_container * channel_snapshots</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00812">stasis_channels.c:812</a></div></div>
<div class="ttc" id="structchannel__role__snapshot_html_a18b3a5fe2bdb685d185ca60545dd3b10"><div class="ttname"><a href="../../dd/dc8/structchannel__role__snapshot.html#a18b3a5fe2bdb685d185ca60545dd3b10">channel_role_snapshot::role</a></div><div class="ttdeci">char role[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00807">stasis_channels.c:807</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="structchannel__role__snapshot_html"><div class="ttname"><a href="../../dd/dc8/structchannel__role__snapshot.html">channel_role_snapshot</a></div><div class="ttdoc">A channel snapshot wrapper object used in ast_multi_channel_blob objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00805">stasis_channels.c:805</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga54c9b2b1131c872d25a1395882333ae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga54c9b2b1131c872d25a1395882333ae3">&#9670;&nbsp;</a></span>ast_multi_channel_blob_get_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* ast_multi_channel_blob_get_json </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the JSON blob from a <a class="el" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a>. Returned <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> is still owned by <em>obj</em>. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Channel blob object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Type field value from the blob. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01030">1030</a> of file <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html">stasis_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00813">ast_multi_channel_blob::blob</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/dbd/test__stasis__channels_8c_source.html#l00148">AST_TEST_DEFINE()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01194">channel_dial_cb()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01433">dial_to_json()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l00880">get_blob_variable()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02105">handle_dial_message()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06281">handle_local_optimization_begin()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06333">handle_local_optimization_end()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00463">local_message_to_ami()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02084">queue_multi_channel_to_ami()</a>.</p>
<div class="fragment"><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;{</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;   }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;   <span class="keywordflow">return</span> obj-&gt;<a class="code" href="../../df/dcb/structast__multi__channel__blob.html#ad2b8e22df32b99651f727cd9a8dcb9f3">blob</a>;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;}</div><div class="ttc" id="structast__multi__channel__blob_html_ad2b8e22df32b99651f727cd9a8dcb9f3"><div class="ttname"><a href="../../df/dcb/structast__multi__channel__blob.html#ad2b8e22df32b99651f727cd9a8dcb9f3">ast_multi_channel_blob::blob</a></div><div class="ttdeci">struct ast_json * blob</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00813">stasis_channels.c:813</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga3f5721e90c221f9808fcedaf013ae56e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f5721e90c221f9808fcedaf013ae56e">&#9670;&nbsp;</a></span>ast_multi_object_blob_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_multi_object_blob_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d38/structast__multi__object__blob.html">ast_multi_object_blob</a> *&#160;</td>
          <td class="paramname"><em>multi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4cf6fe670f1f46e8db561d407b694d4d">stasis_user_multi_object_snapshot_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an object to a multi object blob previously created. </p>
<dl class="section since"><dt>Since</dt><dd>12.3.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">multi</td><td>The multi object blob previously created </td></tr>
    <tr><td class="paramname">type</td><td>Type code for the object such as channel, bridge, etc. </td></tr>
    <tr><td class="paramname">object</td><td>Snapshot object of the type supplied to typename</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing</dd></dl>
<p>Add an object to a multi object blob previously created. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/df4/stasis_8c_source.html#l02001">2001</a> of file <a class="el" href="../../d0/df4/stasis_8c_source.html">stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, and <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/df4/stasis_8c_source.html#l02010">ast_multi_object_blob_single_channel_publish()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02095">stasis_app_user_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;{</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;   <span class="keywordflow">if</span> (!multi || !<span class="keywordtype">object</span> || <a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(&amp;multi-&gt;snapshots[<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>], <span class="keywordtype">object</span>)) {</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(<span class="keywordtype">object</span>);</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;   }</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga0679202aea3da62adf0dff0e09a4e07a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0679202aea3da62adf0dff0e09a4e07a">&#9670;&nbsp;</a></span>ast_multi_object_blob_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d38/structast__multi__object__blob.html">ast_multi_object_blob</a>* ast_multi_object_blob_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>blob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a stasis multi object blob. </p>
<dl class="section since"><dt>Since</dt><dd>12.3.0</dd></dl>
<p>Multi object blob can store a combination of arbitrary json values (the blob) and also snapshots of various other system objects (such as channels, bridges, etc) for delivery through a stasis message. The multi object blob is first created, then optionally objects are added to it, before being attached to a message and delivered to stasis topic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blob</td><td>Json blob</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>When used for an ast_multi_user_event_type message, the json blob should contain at minimum {eventname: name}.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ast_multi_object_blob*</td><td>if succeeded </td></tr>
    <tr><td class="paramname">NULL</td><td>if creation failed</td></tr>
  </table>
  </dd>
</dl>
<p>Create a stasis multi object blob. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/df4/stasis_8c_source.html#l01975">1975</a> of file <a class="el" href="../../d0/df4/stasis_8c_source.html">stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00067">ast_json_ref()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01951">ast_multi_object_blob::blob</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01959">multi_object_blob_dtor()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l01364">STASIS_UMOS_MAX</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/df4/stasis_8c_source.html#l02010">ast_multi_object_blob_single_channel_publish()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02095">stasis_app_user_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;{</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d38/structast__multi__object__blob.html">ast_multi_object_blob</a> *multi;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(blob != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;   multi = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*multi), <a class="code" href="../../d0/df4/stasis_8c.html#a76471c8c470fe17bf2d9c66080039d8a">multi_object_blob_dtor</a>);</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;   <span class="keywordflow">if</span> (!multi) {</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;   }</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;   <span class="keywordflow">for</span> (type = 0; type &lt; <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gad6616af7b6415ff5186c87a0236df462">STASIS_UMOS_MAX</a>; ++<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;multi-&gt;snapshots[type], 0)) {</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(multi, -1);</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      }</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;   }</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;   multi-&gt;<a class="code" href="../../d4/d38/structast__multi__object__blob.html#ad2b8e22df32b99651f727cd9a8dcb9f3">blob</a> = <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(blob);</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;   <span class="keywordflow">return</span> multi;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="json_8h_html_a0ca956b7df20127f7e38993c3c06cb2c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a></div><div class="ttdeci">struct ast_json * ast_json_ref(struct ast_json *value)</div><div class="ttdoc">Increase refcount on value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00067">json.c:67</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gad6616af7b6415ff5186c87a0236df462"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gad6616af7b6415ff5186c87a0236df462">STASIS_UMOS_MAX</a></div><div class="ttdeci">#define STASIS_UMOS_MAX</div><div class="ttdoc">Number of snapshot types. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01364">stasis.h:1364</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="structast__multi__object__blob_html"><div class="ttname"><a href="../../d4/d38/structast__multi__object__blob.html">ast_multi_object_blob</a></div><div class="ttdoc">A multi object blob data structure to carry user event stasis messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01950">stasis.c:1950</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="stasis_8c_html_a76471c8c470fe17bf2d9c66080039d8a"><div class="ttname"><a href="../../d0/df4/stasis_8c.html#a76471c8c470fe17bf2d9c66080039d8a">multi_object_blob_dtor</a></div><div class="ttdeci">static void multi_object_blob_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01959">stasis.c:1959</a></div></div>
<div class="ttc" id="structast__multi__object__blob_html_ad2b8e22df32b99651f727cd9a8dcb9f3"><div class="ttname"><a href="../../d4/d38/structast__multi__object__blob.html#ad2b8e22df32b99651f727cd9a8dcb9f3">ast_multi_object_blob::blob</a></div><div class="ttdeci">struct ast_json * blob</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01951">stasis.c:1951</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8fd487c2186f10859ec2619cf26b0907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8fd487c2186f10859ec2619cf26b0907">&#9670;&nbsp;</a></span>ast_multi_object_blob_single_channel_publish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_multi_object_blob_single_channel_publish </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create and publish a stasis message blob on a channel with it's snapshot. </p>
<dl class="section since"><dt>Since</dt><dd>12.3.0</dd></dl>
<p>For compatibility with app_userevent, this creates a multi object blob message, attaches the channel snapshot to it, and publishes it to the channel's topic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel to snapshot and publish event to </td></tr>
    <tr><td class="paramname">type</td><td>The message type </td></tr>
    <tr><td class="paramname">blob</td><td>A json blob to publish with the snapshot</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing</dd></dl>
<p>Create and publish a stasis message blob on a channel with it's snapshot. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/df4/stasis_8c_source.html#l02010">2010</a> of file <a class="el" href="../../d0/df4/stasis_8c_source.html">stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00451">ast_channel_snapshot_create()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01502">ast_channel_topic()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02001">ast_multi_object_blob_add()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01975">ast_multi_object_blob_create()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message_create()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>, and <a class="el" href="../../dd/d79/stasis_8h_source.html#l01358">STASIS_UMOS_CHANNEL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/da5/app__userevent_8c_source.html#l00072">userevent_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;{</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="code" href="../../d8/d9e/structmessage.html">message</a>;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *channel_snapshot;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d38/structast__multi__object__blob.html">ast_multi_object_blob</a> *multi;</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;   <span class="keywordflow">if</span> (!type) {</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;   }</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;   multi = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga0679202aea3da62adf0dff0e09a4e07a">ast_multi_object_blob_create</a>(blob);</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;   <span class="keywordflow">if</span> (!multi) {</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;   }</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;   channel_snapshot = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7f4919ce97dcdee0a98979ca4de29242">ast_channel_snapshot_create</a>(chan);</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;   <span class="keywordflow">if</span> (!channel_snapshot) {</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(multi, -1);</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;   }</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;   <span class="comment">/* this call steals the channel_snapshot reference */</span></div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga3f5721e90c221f9808fcedaf013ae56e">ast_multi_object_blob_add</a>(multi, <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da679186d0a76e3ed91a98c2289921485a">STASIS_UMOS_CHANNEL</a>, channel_snapshot);</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;   message = <a class="code" href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a>(type, multi);</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(multi, -1);</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;   <span class="keywordflow">if</span> (message) {</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;      <span class="comment">/* app_userevent still publishes to channel */</span></div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;      <a class="code" href="../../d0/df4/stasis_8c.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a>(chan), message);</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(message, -1);</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;   }</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga0679202aea3da62adf0dff0e09a4e07a"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga0679202aea3da62adf0dff0e09a4e07a">ast_multi_object_blob_create</a></div><div class="ttdeci">struct ast_multi_object_blob * ast_multi_object_blob_create(struct ast_json *blob)</div><div class="ttdoc">Create a stasis user event multi object blob. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01975">stasis.c:1975</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a></div><div class="ttdoc">Structure representing a snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00145">stasis_channels.h:145</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7f4919ce97dcdee0a98979ca4de29242"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7f4919ce97dcdee0a98979ca4de29242">ast_channel_snapshot_create</a></div><div class="ttdeci">struct ast_channel_snapshot * ast_channel_snapshot_create(struct ast_channel *chan)</div><div class="ttdoc">Generate a snapshot of the channel state. This is an ao2 object, so ao2_cleanup() to deallocate...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00451">stasis_channels.c:451</a></div></div>
<div class="ttc" id="structast__multi__object__blob_html"><div class="ttname"><a href="../../d4/d38/structast__multi__object__blob.html">ast_multi_object_blob</a></div><div class="ttdoc">A multi object blob data structure to carry user event stasis messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01950">stasis.c:1950</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_afdeaf9abb1aecc715313a4f62c1cf9c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a></div><div class="ttdeci">struct stasis_topic * ast_channel_topic(struct ast_channel *chan)</div><div class="ttdoc">A topic which publishes the events for a particular channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01502">channel_internal_api.c:1502</a></div></div>
<div class="ttc" id="stasis_8h_html_a72a06fdaec039fdfb5f36892e725f9ec"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a></div><div class="ttdeci">struct stasis_message * stasis_message_create(struct stasis_message_type *type, void *data)</div><div class="ttdoc">Create a new message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message.c:174</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga3f5721e90c221f9808fcedaf013ae56e"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga3f5721e90c221f9808fcedaf013ae56e">ast_multi_object_blob_add</a></div><div class="ttdeci">void ast_multi_object_blob_add(struct ast_multi_object_blob *multi, enum stasis_user_multi_object_snapshot_type type, void *object)</div><div class="ttdoc">Add an object (snapshot) to the blob. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l02001">stasis.c:2001</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gga4cf6fe670f1f46e8db561d407b694d4da679186d0a76e3ed91a98c2289921485a"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da679186d0a76e3ed91a98c2289921485a">STASIS_UMOS_CHANNEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01358">stasis.h:1358</a></div></div>
<div class="ttc" id="stasis_8c_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../d0/df4/stasis_8c.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga903c0022d53e0cac08b7eab6539ab206"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga903c0022d53e0cac08b7eab6539ab206">&#9670;&nbsp;</a></span>ast_multi_user_event_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_multi_user_event_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for custom user defined events with multi object blobs. </p>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> for user event </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12.3.0 </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d0/df4/stasis_8c_source.html#l02304">declined_handler()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02095">stasis_app_user_event()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l03042">stasis_cleanup()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l03061">stasis_init()</a>, and <a class="el" href="../../d4/da5/app__userevent_8c_source.html#l00072">userevent_exec()</a>.</p>

</div>
</div>
<a id="ga728789c28cb77fc6cbf3254aefc7c67a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga728789c28cb77fc6cbf3254aefc7c67a">&#9670;&nbsp;</a></span>ast_mwi_blob_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>* ast_mwi_blob_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d45/structast__mwi__state.html">ast_mwi_state</a> *&#160;</td>
          <td class="paramname"><em>mwi_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>message_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="../../dd/dce/structast__mwi__blob.html">ast_mwi_blob</a> message. </p>
<dl class="section since"><dt>Since</dt><dd>12 The <em>blob</em> JSON object requires a <code>"type"</code> field describing the blob. It should also be treated as immutable and not modified after it is put into the message.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mwi_state</td><td>MWI state associated with the update </td></tr>
    <tr><td class="paramname">message_type</td><td>The type of message to create </td></tr>
    <tr><td class="paramname">blob</td><td>JSON object representing the data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../dd/dce/structast__mwi__blob.html">ast_mwi_blob</a> message. </dd>
<dd>
<code>NULL</code> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/db4/mwi_8c_source.html#l00462">462</a> of file <a class="el" href="../../d6/db4/mwi_8c_source.html">mwi.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00067">ast_json_ref()</a>, <a class="el" href="../../dc/d33/mwi_8h_source.html#l00475">ast_mwi_blob::blob</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00454">mwi_blob_dtor()</a>, <a class="el" href="../../dc/d33/mwi_8h_source.html#l00474">ast_mwi_blob::mwi_state</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message_create()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l01811">notify_new_message()</a>.</p>
<div class="fragment"><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;{</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dce/structast__mwi__blob.html">ast_mwi_blob</a> *obj;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(blob != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <span class="keywordflow">if</span> (!message_type) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   obj = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*obj), <a class="code" href="../../d6/db4/mwi_8c.html#ac5e5043e21c3c62e9817af95eaf68cca">mwi_blob_dtor</a>);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   obj-&gt;<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga6342aa357329880c14a06738ca544ab1">mwi_state</a> = mwi_state;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj-&gt;<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga6342aa357329880c14a06738ca544ab1">mwi_state</a>, +1);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   obj-&gt;<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gad2b8e22df32b99651f727cd9a8dcb9f3">blob</a> = <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(blob);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="comment">/* This is not a normal MWI event.  Only used by the MinivmNotify app. */</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   msg = <a class="code" href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a>(message_type, obj);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   <span class="keywordflow">return</span> msg;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div><div class="ttc" id="group__StasisTopicsAndMessages_html_ga6342aa357329880c14a06738ca544ab1"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga6342aa357329880c14a06738ca544ab1">ast_mwi_blob::mwi_state</a></div><div class="ttdeci">struct ast_mwi_state * mwi_state</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/mwi_8h_source.html#l00474">mwi.h:474</a></div></div>
<div class="ttc" id="json_8h_html_a0ca956b7df20127f7e38993c3c06cb2c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a></div><div class="ttdeci">struct ast_json * ast_json_ref(struct ast_json *value)</div><div class="ttdoc">Increase refcount on value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00067">json.c:67</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gad2b8e22df32b99651f727cd9a8dcb9f3"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gad2b8e22df32b99651f727cd9a8dcb9f3">ast_mwi_blob::blob</a></div><div class="ttdeci">struct ast_json * blob</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/mwi_8h_source.html#l00475">mwi.h:475</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="mwi_8c_html_ac5e5043e21c3c62e9817af95eaf68cca"><div class="ttname"><a href="../../d6/db4/mwi_8c.html#ac5e5043e21c3c62e9817af95eaf68cca">mwi_blob_dtor</a></div><div class="ttdeci">static void mwi_blob_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00454">mwi.c:454</a></div></div>
<div class="ttc" id="stasis_8h_html_a72a06fdaec039fdfb5f36892e725f9ec"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a></div><div class="ttdeci">struct stasis_message * stasis_message_create(struct stasis_message_type *type, void *data)</div><div class="ttdoc">Create a new message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message.c:174</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structast__mwi__blob_html"><div class="ttname"><a href="../../dd/dce/structast__mwi__blob.html">ast_mwi_blob</a></div><div class="ttdoc">Object that represents an MWI update with some additional application defined data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/mwi_8h_source.html#l00473">mwi.h:473</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga2f9639be7fcd922d0609b4ba82fc79c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2f9639be7fcd922d0609b4ba82fc79c8">&#9670;&nbsp;</a></span>ast_mwi_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d45/structast__mwi__state.html">ast_mwi_state</a>* ast_mwi_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mailbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="../../d6/d45/structast__mwi__state.html">ast_mwi_state</a> object. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>The mailbox identifier string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The context this mailbox resides in (NULL or "" if only using mailbox)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/db4/mwi_8c_source.html#l00148">148</a> of file <a class="el" href="../../d6/db4/mwi_8c_source.html">mwi.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/db4/mwi_8c_source.html#l00105">mwi_create_state()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l01811">notify_new_message()</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/db4/mwi_8c.html#a1aaa6c0984c9877f007a47ffbfadbd79">mwi_create_state</a>(<a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, 0, 0, 0);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div><div class="ttc" id="mwi_8c_html_a1aaa6c0984c9877f007a47ffbfadbd79"><div class="ttname"><a href="../../d6/db4/mwi_8c.html#a1aaa6c0984c9877f007a47ffbfadbd79">mwi_create_state</a></div><div class="ttdeci">static struct ast_mwi_state * mwi_create_state(const char *mailbox, const char *context, int urgent_msgs, int new_msgs, int old_msgs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00105">mwi.c:105</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a6b49cafa2a3d359a2e865992f551874a"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a></div><div class="ttdeci">static char mailbox[AST_MAX_MAILBOX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00204">chan_mgcp.c:204</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7fc6473ab80d2117f1bcb1359721fdce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7fc6473ab80d2117f1bcb1359721fdce">&#9670;&nbsp;</a></span>ast_mwi_state_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d25/structstasis__cache.html">stasis_cache</a>* ast_mwi_state_cache </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backend cache for <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga986e1047f0c61d683fb0773453363fd7" title="Get the Stasis Message Bus API caching topic for MWI messages. ">ast_mwi_topic_cached()</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Cache</td><td>of <a class="el" href="../../d6/d45/structast__mwi__state.html">ast_mwi_state</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/db4/mwi_8c_source.html#l00090">90</a> of file <a class="el" href="../../d6/db4/mwi_8c_source.html">mwi.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/db4/mwi_8c_source.html#l00033">mwi_state_cache</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/db4/mwi_8c_source.html#l00399">ast_delete_mwi_state_full()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00650">asterisk_publication_mwi_refresh()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00401">asterisk_start_mwi_publishing()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29726">get_cached_mwi()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05033">has_voicemail()</a>, <a class="el" href="../../d2/dd0/res__mwi__devstate_8c_source.html#l00071">load_module()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05675">unistim_send_mwi_to_peer()</a>, and <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09002">update_registry()</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/db4/mwi_8c.html#a6acc9ce6397f1be6b4e6793ff1859b88">mwi_state_cache</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="ttc" id="mwi_8c_html_a6acc9ce6397f1be6b4e6793ff1859b88"><div class="ttname"><a href="../../d6/db4/mwi_8c.html#a6acc9ce6397f1be6b4e6793ff1859b88">mwi_state_cache</a></div><div class="ttdeci">static struct stasis_cache * mwi_state_cache</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00033">mwi.c:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf226cf2d1a4dbbbf220521d58c05ac0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf226cf2d1a4dbbbf220521d58c05ac0f">&#9670;&nbsp;</a></span>ast_mwi_state_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_mwi_state_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> message type for MWI messages. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>message type structure for MWI messages </td></tr>
    <tr><td class="paramname">NULL</td><td>on error </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d6/db4/mwi_8c_source.html#l00399">ast_delete_mwi_state_full()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00230">ast_mwi_subscribe_pool()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00232">asterisk_publisher_mwistate_cb()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00401">asterisk_start_mwi_publishing()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29726">get_cached_mwi()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05033">has_voicemail()</a>, <a class="el" href="../../d2/dd0/res__mwi__devstate_8c_source.html#l00071">load_module()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00153">manager_mwi_init()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00491">mwi_cleanup()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l17528">mwi_event_cb()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00502">mwi_init()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01156">mwi_stasis_cb()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00169">mwi_state_create_message()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00441">mwi_state_get_id()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00038">mwi_to_event()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00086">mwi_update_cb()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05675">unistim_send_mwi_to_peer()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09002">update_registry()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01588">xmpp_init_event_distribution()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01336">xmpp_pubsub_mwi_cb()</a>.</p>

</div>
</div>
<a id="gae43ba258ce7f2b5838edbed6bf7dbd8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae43ba258ce7f2b5838edbed6bf7dbd8c">&#9670;&nbsp;</a></span>ast_mwi_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_mwi_topic </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uniqueid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> topic for MWI messages on a unique ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uniqueid</td><td>The unique id for which to get the topic </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>topic structure for MWI messages for a given uniqueid </td></tr>
    <tr><td class="paramname">NULL</td><td>if it failed to be found or allocated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/db4/mwi_8c_source.html#l00100">100</a> of file <a class="el" href="../../d6/db4/mwi_8c_source.html">mwi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d1d/stasis__state_8c_source.html#l00369">stasis_state_topic()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l01811">notify_new_message()</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d96/stasis__state_8h.html#a4096e710d5f849bf345dde006d269548">stasis_state_topic</a>(<a class="code" href="../../d6/db4/mwi_8c.html#a527bd68e0bbd91f85683a01f37ca9e31">mwi_state_manager</a>, uniqueid);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="ttc" id="mwi_8c_html_a527bd68e0bbd91f85683a01f37ca9e31"><div class="ttname"><a href="../../d6/db4/mwi_8c.html#a527bd68e0bbd91f85683a01f37ca9e31">mwi_state_manager</a></div><div class="ttdeci">static struct stasis_state_manager * mwi_state_manager</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00032">mwi.c:32</a></div></div>
<div class="ttc" id="stasis__state_8h_html_a4096e710d5f849bf345dde006d269548"><div class="ttname"><a href="../../d1/d96/stasis__state_8h.html#a4096e710d5f849bf345dde006d269548">stasis_state_topic</a></div><div class="ttdeci">struct stasis_topic * stasis_state_topic(struct stasis_state_manager *manager, const char *id)</div><div class="ttdoc">Retrieve a managed topic creating one if not currently managed. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1d/stasis__state_8c_source.html#l00369">stasis_state.c:369</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga547ae87810e6cd121cea7b3149343366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga547ae87810e6cd121cea7b3149343366">&#9670;&nbsp;</a></span>ast_mwi_topic_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_mwi_topic_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> topic for MWI messages. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>topic structure for MWI messages </td></tr>
    <tr><td class="paramname">NULL</td><td>if it has not been allocated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/db4/mwi_8c_source.html#l00085">85</a> of file <a class="el" href="../../d6/db4/mwi_8c_source.html">mwi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d1d/stasis__state_8c_source.html#l00364">stasis_state_all_topic()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00401">asterisk_start_mwi_publishing()</a>, <a class="el" href="../../d2/dd0/res__mwi__devstate_8c_source.html#l00071">load_module()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00153">manager_mwi_init()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00502">mwi_init()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01588">xmpp_init_event_distribution()</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d96/stasis__state_8h.html#af3ba55cdf54059b5767c05fe34da9b32">stasis_state_all_topic</a>(<a class="code" href="../../d6/db4/mwi_8c.html#a527bd68e0bbd91f85683a01f37ca9e31">mwi_state_manager</a>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div><div class="ttc" id="mwi_8c_html_a527bd68e0bbd91f85683a01f37ca9e31"><div class="ttname"><a href="../../d6/db4/mwi_8c.html#a527bd68e0bbd91f85683a01f37ca9e31">mwi_state_manager</a></div><div class="ttdeci">static struct stasis_state_manager * mwi_state_manager</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00032">mwi.c:32</a></div></div>
<div class="ttc" id="stasis__state_8h_html_af3ba55cdf54059b5767c05fe34da9b32"><div class="ttname"><a href="../../d1/d96/stasis__state_8h.html#af3ba55cdf54059b5767c05fe34da9b32">stasis_state_all_topic</a></div><div class="ttdeci">struct stasis_topic * stasis_state_all_topic(struct stasis_state_manager *manager)</div><div class="ttdoc">Retrieve the manager&amp;#39;s topic (the topic that all state topics get forwarded to) </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1d/stasis__state_8c_source.html#l00364">stasis_state.c:364</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga986e1047f0c61d683fb0773453363fd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga986e1047f0c61d683fb0773453363fd7">&#9670;&nbsp;</a></span>ast_mwi_topic_cached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_mwi_topic_cached </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> caching topic for MWI messages. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>caching topic structure for MWI messages </td></tr>
    <tr><td class="paramname">NULL</td><td>if it has not been allocated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/db4/mwi_8c_source.html#l00095">95</a> of file <a class="el" href="../../d6/db4/mwi_8c_source.html">mwi.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00085">stasis_caching_get_topic()</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d79/stasis_8h.html#a60b3b41b59f3894b40f5630524347d62">stasis_caching_get_topic</a>(<a class="code" href="../../d6/db4/mwi_8c.html#a3bfb570c400349a7e48c8e073ec16fd7">mwi_topic_cached</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div><div class="ttc" id="mwi_8c_html_a3bfb570c400349a7e48c8e073ec16fd7"><div class="ttname"><a href="../../d6/db4/mwi_8c.html#a3bfb570c400349a7e48c8e073ec16fd7">mwi_topic_cached</a></div><div class="ttdeci">static struct stasis_caching_topic * mwi_topic_cached</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00034">mwi.c:34</a></div></div>
<div class="ttc" id="stasis_8h_html_a60b3b41b59f3894b40f5630524347d62"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a60b3b41b59f3894b40f5630524347d62">stasis_caching_get_topic</a></div><div class="ttdeci">struct stasis_topic * stasis_caching_get_topic(struct stasis_caching_topic *caching_topic)</div><div class="ttdoc">Returns the topic of cached events from a caching topics. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da9/stasis__cache_8c_source.html#l00085">stasis_cache.c:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga03bf52a37253e9ecdc4fadf9747a3497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03bf52a37253e9ecdc4fadf9747a3497">&#9670;&nbsp;</a></span>ast_mwi_vm_app_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_mwi_vm_app_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> message type for voicemail application specific messages. </p>
<p>This message type exists for those messages a voicemail application may wish to send that have no logical relationship with other voicemail applications. Voicemail apps that use this message type must pass a <a class="el" href="../../dd/dce/structast__mwi__blob.html">ast_mwi_blob</a>. Any extraneous information in the JSON blob must be packed as key/value pair tuples of strings.</p>
<p>At least one key/value tuple must have a key value of "Event".</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td><a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> for voicemail application specific messages </td></tr>
    <tr><td class="paramname">NULL</td><td>on error </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00153">manager_mwi_init()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00491">mwi_cleanup()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00502">mwi_init()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00038">mwi_to_event()</a>, and <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l01811">notify_new_message()</a>.</p>

</div>
</div>
<a id="ga00e84a145ef736ce4134fee75e530113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00e84a145ef736ce4134fee75e530113">&#9670;&nbsp;</a></span>ast_parked_call_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_parked_call_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>accessor for the parked call stasis message type </p>
<dl class="section since"><dt>Since</dt><dd>12</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if the parking topic hasn't been created or has been canceled </td></tr>
    <tr><td class="paramname">a</td><td>pointer to the parked call message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d3/d2a/parking_8c_source.html#l00053">ast_parking_stasis_init()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00174">create_parked_subscription_full()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01500">create_routes()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l04522">load_module()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00892">park_and_announce_app_exec()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00859">park_announce_update_cb()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00158">parker_update_cb()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00677">parking_event_cb()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00685">parking_manager_enable_stasis()</a>, <a class="el" href="../../d3/d2a/parking_8c_source.html#l00046">parking_stasis_cleanup()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00617">publish_parked_call()</a>, and <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00595">publish_parked_call_failure()</a>.</p>

</div>
</div>
<a id="gab4e08da228493c3f9bfc6a2aed507cb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab4e08da228493c3f9bfc6a2aed507cb4">&#9670;&nbsp;</a></span>ast_parking_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_parking_topic </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>accessor for the parking stasis topic </p>
<dl class="section since"><dt>Since</dt><dd>12</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if the parking topic hasn't been created or has been disabled </td></tr>
    <tr><td class="paramname">a</td><td>pointer to the parking topic </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d2a/parking_8c_source.html#l00067">67</a> of file <a class="el" href="../../d3/d2a/parking_8c_source.html">parking.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d2a/parking_8c_source.html#l00041">parking_topic</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00174">create_parked_subscription_full()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l04314">create_subscriptions()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00892">park_and_announce_app_exec()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00685">parking_manager_enable_stasis()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00617">publish_parked_call()</a>, and <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00595">publish_parked_call_failure()</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d2a/parking_8c.html#a2dc802fe7920ab2cd69143a4a9bd11f8">parking_topic</a>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div><div class="ttc" id="parking_8c_html_a2dc802fe7920ab2cd69143a4a9bd11f8"><div class="ttname"><a href="../../d3/d2a/parking_8c.html#a2dc802fe7920ab2cd69143a4a9bd11f8">parking_topic</a></div><div class="ttdeci">static struct stasis_topic * parking_topic</div><div class="ttdoc">Topic for parking lots. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2a/parking_8c_source.html#l00041">parking.c:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gab5693c002c4a23d84da916dbb02d5a5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5693c002c4a23d84da916dbb02d5a5c">&#9670;&nbsp;</a></span>ast_rtp_convert_stats_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* ast_rtp_convert_stats_json </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/db0/structast__rtp__instance__stats.html">ast_rtp_instance_stats</a> *&#160;</td>
          <td class="paramname"><em>stats</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert given stat instance into json format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stats</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>json format stat </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03956">3956</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d98/json_8c_source.html#l00317">ast_json_integer_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00389">ast_json_object_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00404">ast_json_object_set()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00332">ast_json_real_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00268">ast_json_string_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00426">ast_rtp_instance_stats::channel_uniqueid</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00384">ast_rtp_instance_stats::local_maxjitter</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00404">ast_rtp_instance_stats::local_maxrxploss</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00386">ast_rtp_instance_stats::local_minjitter</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00406">ast_rtp_instance_stats::local_minrxploss</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00388">ast_rtp_instance_stats::local_normdevjitter</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00408">ast_rtp_instance_stats::local_normdevrxploss</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00422">ast_rtp_instance_stats::local_ssrc</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00390">ast_rtp_instance_stats::local_stdevjitter</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00410">ast_rtp_instance_stats::local_stdevrxploss</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00414">ast_rtp_instance_stats::maxrtt</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00416">ast_rtp_instance_stats::minrtt</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00418">ast_rtp_instance_stats::normdevrtt</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00376">ast_rtp_instance_stats::remote_maxjitter</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00396">ast_rtp_instance_stats::remote_maxrxploss</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00378">ast_rtp_instance_stats::remote_minjitter</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00398">ast_rtp_instance_stats::remote_minrxploss</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00380">ast_rtp_instance_stats::remote_normdevjitter</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00400">ast_rtp_instance_stats::remote_normdevrxploss</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00424">ast_rtp_instance_stats::remote_ssrc</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00382">ast_rtp_instance_stats::remote_stdevjitter</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00402">ast_rtp_instance_stats::remote_stdevrxploss</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00412">ast_rtp_instance_stats::rtt</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00370">ast_rtp_instance_stats::rxcount</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00374">ast_rtp_instance_stats::rxjitter</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00430">ast_rtp_instance_stats::rxoctetcount</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00394">ast_rtp_instance_stats::rxploss</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00288">SET_AST_JSON_OBJ</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00420">ast_rtp_instance_stats::stdevrtt</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00368">ast_rtp_instance_stats::txcount</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00372">ast_rtp_instance_stats::txjitter</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00428">ast_rtp_instance_stats::txoctetcount</a>, and <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00392">ast_rtp_instance_stats::txploss</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l04019">ast_rtp_instance_get_stats_all_json()</a>.</p>
<div class="fragment"><div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;{</div><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *j_res;</div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;   <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;   j_res = <a class="code" href="../../d4/d05/json_8h.html#a5892d6cd943e00556180fcf15d30788e">ast_json_object_create</a>();</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;   <span class="keywordflow">if</span> (!j_res) {</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;   }</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;</div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;   <span class="comment">/* set mandatory items */</span></div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;   ret = <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(j_res, <span class="stringliteral">&quot;txcount&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a887918839240a36d118b4e1cb46a4de9">txcount</a>));</div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;   ret |= <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(j_res, <span class="stringliteral">&quot;rxcount&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a066dafb1cdc02b25e6c2329ef7e7a810">rxcount</a>));</div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;   ret |= <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(j_res, <span class="stringliteral">&quot;txploss&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a934ff2437b6705676a1f8fb9223e8e9b">txploss</a>));</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;   ret |= <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(j_res, <span class="stringliteral">&quot;rxploss&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a754403af0ba6403237fadb9b6294ca5f">rxploss</a>));</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;</div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;   ret |= <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(j_res, <span class="stringliteral">&quot;local_ssrc&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a345269c0d57add15c919b781d140e011">local_ssrc</a>));</div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;   ret |= <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(j_res, <span class="stringliteral">&quot;remote_ssrc&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a052c95f741f3e25e6ab9217a01affb53">remote_ssrc</a>));</div><div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;</div><div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;   ret |= <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(j_res, <span class="stringliteral">&quot;txoctetcount&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#aed963fd645cea41f8f9a7dd144810204">txoctetcount</a>));</div><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;   ret |= <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(j_res, <span class="stringliteral">&quot;rxoctetcount&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a6755911cdc9335fc23089602dbbcd048">rxoctetcount</a>));</div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;</div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;   ret |= <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(j_res, <span class="stringliteral">&quot;channel_uniqueid&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#aeedb7802e580cf4c11d7af4c16ce04bd">channel_uniqueid</a>));</div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;   <span class="keywordflow">if</span> (ret) {</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not create rtp statistics info. channel: %s\n&quot;</span>, stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#aeedb7802e580cf4c11d7af4c16ce04bd">channel_uniqueid</a>);</div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(j_res);</div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;   }</div><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;</div><div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;   <span class="comment">/* set other items */</span></div><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;txjitter&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#aadfdc9692fcc3eb56f7c94f089db163b">txjitter</a>));</div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;rxjitter&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a80552fd3f7f852d51e944dc4105da800">rxjitter</a>));</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;remote_maxjitter&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#aad58a04a0dc44700d786791b27fc40b6">remote_maxjitter</a>));</div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;remote_minjitter&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a21f3d3372a6100f94cc23e62886131ba">remote_minjitter</a>));</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;remote_normdevjitter&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#ad742aaf83d710b381c462677919a8617">remote_normdevjitter</a>));</div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;remote_stdevjitter&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#aff4ec25e589bed0b47f2fa58e9b020f2">remote_stdevjitter</a>));</div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;</div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;local_maxjitter&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#adbaefd95043efe7b49f3190ffeff40fb">local_maxjitter</a>));</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;local_minjitter&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a7f3a0b0d420584f13574e0741c4f96ab">local_minjitter</a>));</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;local_normdevjitter&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a3f7aced2b7c50be99b2b27c36f1c3557">local_normdevjitter</a>));</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;local_stdevjitter&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#ac0a16b9afb840b589358fec8953ba092">local_stdevjitter</a>));</div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;</div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;remote_maxrxploss&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#aa102598d55cb66a61cece8e3033e5352">remote_maxrxploss</a>));</div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;remote_minrxploss&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a3a851bbeea9961c987cbc8d3d3a365bd">remote_minrxploss</a>));</div><div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;remote_normdevrxploss&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a8f7c0fb630cef59062f987730a17df71">remote_normdevrxploss</a>));</div><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;remote_stdevrxploss&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a21f14570a0860de7863be4f0f16e8e4b">remote_stdevrxploss</a>));</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;</div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;local_maxrxploss&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a6c8b04702bbcf8c030d6c16e27e7bd1c">local_maxrxploss</a>));</div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;local_minrxploss&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a2c14b23dc2a76aa9ae9a9de210527eb4">local_minrxploss</a>));</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;local_normdevrxploss&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a63bee783a421d71165058889b433a9ab">local_normdevrxploss</a>));</div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;local_stdevrxploss&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a9dc97ff0394d0d099c6291451e07ea73">local_stdevrxploss</a>));</div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;</div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;rtt&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#abc953dca5930a67736d6cd8f72353794">rtt</a>));</div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;maxrtt&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#ad9e0112e5a3834937c4f84604c175ba6">maxrtt</a>));</div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;minrtt&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#aa5e4ba49724f6bb86be553f4c823b510">minrtt</a>));</div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;normdevrtt&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a41960a911bf90300e198a29deac4a02f">normdevrtt</a>));</div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;   <a class="code" href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a>(j_res, <span class="stringliteral">&quot;stdevrtt&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a>(stats-&gt;<a class="code" href="../../d0/db0/structast__rtp__instance__stats.html#a484c5279646a0804e4beba6b3f0828c9">stdevrtt</a>));</div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;</div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;   <span class="keywordflow">return</span> j_res;</div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;}</div><div class="ttc" id="structast__rtp__instance__stats_html_a63bee783a421d71165058889b433a9ab"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a63bee783a421d71165058889b433a9ab">ast_rtp_instance_stats::local_normdevrxploss</a></div><div class="ttdeci">double local_normdevrxploss</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00408">rtp_engine.h:408</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a2c14b23dc2a76aa9ae9a9de210527eb4"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a2c14b23dc2a76aa9ae9a9de210527eb4">ast_rtp_instance_stats::local_minrxploss</a></div><div class="ttdeci">double local_minrxploss</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00406">rtp_engine.h:406</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a7f3a0b0d420584f13574e0741c4f96ab"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a7f3a0b0d420584f13574e0741c4f96ab">ast_rtp_instance_stats::local_minjitter</a></div><div class="ttdeci">double local_minjitter</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00386">rtp_engine.h:386</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_ad742aaf83d710b381c462677919a8617"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#ad742aaf83d710b381c462677919a8617">ast_rtp_instance_stats::remote_normdevjitter</a></div><div class="ttdeci">double remote_normdevjitter</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00380">rtp_engine.h:380</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a41960a911bf90300e198a29deac4a02f"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a41960a911bf90300e198a29deac4a02f">ast_rtp_instance_stats::normdevrtt</a></div><div class="ttdeci">double normdevrtt</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00418">rtp_engine.h:418</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a6c8b04702bbcf8c030d6c16e27e7bd1c"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a6c8b04702bbcf8c030d6c16e27e7bd1c">ast_rtp_instance_stats::local_maxrxploss</a></div><div class="ttdeci">double local_maxrxploss</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00404">rtp_engine.h:404</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_aff4ec25e589bed0b47f2fa58e9b020f2"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#aff4ec25e589bed0b47f2fa58e9b020f2">ast_rtp_instance_stats::remote_stdevjitter</a></div><div class="ttdeci">double remote_stdevjitter</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00382">rtp_engine.h:382</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a887918839240a36d118b4e1cb46a4de9"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a887918839240a36d118b4e1cb46a4de9">ast_rtp_instance_stats::txcount</a></div><div class="ttdeci">unsigned int txcount</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00368">rtp_engine.h:368</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a754403af0ba6403237fadb9b6294ca5f"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a754403af0ba6403237fadb9b6294ca5f">ast_rtp_instance_stats::rxploss</a></div><div class="ttdeci">unsigned int rxploss</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00394">rtp_engine.h:394</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_abc953dca5930a67736d6cd8f72353794"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#abc953dca5930a67736d6cd8f72353794">ast_rtp_instance_stats::rtt</a></div><div class="ttdeci">double rtt</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00412">rtp_engine.h:412</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a21f3d3372a6100f94cc23e62886131ba"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a21f3d3372a6100f94cc23e62886131ba">ast_rtp_instance_stats::remote_minjitter</a></div><div class="ttdeci">double remote_minjitter</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00378">rtp_engine.h:378</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a484c5279646a0804e4beba6b3f0828c9"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a484c5279646a0804e4beba6b3f0828c9">ast_rtp_instance_stats::stdevrtt</a></div><div class="ttdeci">double stdevrtt</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00420">rtp_engine.h:420</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_aa5e4ba49724f6bb86be553f4c823b510"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#aa5e4ba49724f6bb86be553f4c823b510">ast_rtp_instance_stats::minrtt</a></div><div class="ttdeci">double minrtt</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00416">rtp_engine.h:416</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="json_8h_html_abc8b563c172cfaffa2b555195990f729"><div class="ttname"><a href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a></div><div class="ttdeci">int ast_json_object_set(struct ast_json *object, const char *key, struct ast_json *value)</div><div class="ttdoc">Set a field in a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00404">json.c:404</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_aad58a04a0dc44700d786791b27fc40b6"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#aad58a04a0dc44700d786791b27fc40b6">ast_rtp_instance_stats::remote_maxjitter</a></div><div class="ttdeci">double remote_maxjitter</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00376">rtp_engine.h:376</a></div></div>
<div class="ttc" id="json_8h_html_adc52f8d76b7fdd0c8d12987981fd5bf5"><div class="ttname"><a href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a></div><div class="ttdeci">struct ast_json * ast_json_string_create(const char *value)</div><div class="ttdoc">Construct a JSON string from value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00268">json.c:268</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_aeedb7802e580cf4c11d7af4c16ce04bd"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#aeedb7802e580cf4c11d7af4c16ce04bd">ast_rtp_instance_stats::channel_uniqueid</a></div><div class="ttdeci">char channel_uniqueid[MAX_CHANNEL_ID]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00426">rtp_engine.h:426</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a9dc97ff0394d0d099c6291451e07ea73"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a9dc97ff0394d0d099c6291451e07ea73">ast_rtp_instance_stats::local_stdevrxploss</a></div><div class="ttdeci">double local_stdevrxploss</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00410">rtp_engine.h:410</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_adbaefd95043efe7b49f3190ffeff40fb"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#adbaefd95043efe7b49f3190ffeff40fb">ast_rtp_instance_stats::local_maxjitter</a></div><div class="ttdeci">double local_maxjitter</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00384">rtp_engine.h:384</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_aed963fd645cea41f8f9a7dd144810204"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#aed963fd645cea41f8f9a7dd144810204">ast_rtp_instance_stats::txoctetcount</a></div><div class="ttdeci">unsigned int txoctetcount</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00428">rtp_engine.h:428</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a8f7c0fb630cef59062f987730a17df71"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a8f7c0fb630cef59062f987730a17df71">ast_rtp_instance_stats::remote_normdevrxploss</a></div><div class="ttdeci">double remote_normdevrxploss</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00400">rtp_engine.h:400</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a066dafb1cdc02b25e6c2329ef7e7a810"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a066dafb1cdc02b25e6c2329ef7e7a810">ast_rtp_instance_stats::rxcount</a></div><div class="ttdeci">unsigned int rxcount</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00370">rtp_engine.h:370</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_aa102598d55cb66a61cece8e3033e5352"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#aa102598d55cb66a61cece8e3033e5352">ast_rtp_instance_stats::remote_maxrxploss</a></div><div class="ttdeci">double remote_maxrxploss</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00396">rtp_engine.h:396</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_ad9e0112e5a3834937c4f84604c175ba6"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#ad9e0112e5a3834937c4f84604c175ba6">ast_rtp_instance_stats::maxrtt</a></div><div class="ttdeci">double maxrtt</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00414">rtp_engine.h:414</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a6755911cdc9335fc23089602dbbcd048"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a6755911cdc9335fc23089602dbbcd048">ast_rtp_instance_stats::rxoctetcount</a></div><div class="ttdeci">unsigned int rxoctetcount</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00430">rtp_engine.h:430</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a345269c0d57add15c919b781d140e011"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a345269c0d57add15c919b781d140e011">ast_rtp_instance_stats::local_ssrc</a></div><div class="ttdeci">unsigned int local_ssrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00422">rtp_engine.h:422</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a934ff2437b6705676a1f8fb9223e8e9b"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a934ff2437b6705676a1f8fb9223e8e9b">ast_rtp_instance_stats::txploss</a></div><div class="ttdeci">unsigned int txploss</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00392">rtp_engine.h:392</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_aadfdc9692fcc3eb56f7c94f089db163b"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#aadfdc9692fcc3eb56f7c94f089db163b">ast_rtp_instance_stats::txjitter</a></div><div class="ttdeci">double txjitter</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00372">rtp_engine.h:372</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_ac0a16b9afb840b589358fec8953ba092"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#ac0a16b9afb840b589358fec8953ba092">ast_rtp_instance_stats::local_stdevjitter</a></div><div class="ttdeci">double local_stdevjitter</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00390">rtp_engine.h:390</a></div></div>
<div class="ttc" id="json_8h_html_a5892d6cd943e00556180fcf15d30788e"><div class="ttname"><a href="../../d4/d05/json_8h.html#a5892d6cd943e00556180fcf15d30788e">ast_json_object_create</a></div><div class="ttdeci">struct ast_json * ast_json_object_create(void)</div><div class="ttdoc">Create a new JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00389">json.c:389</a></div></div>
<div class="ttc" id="json_8h_html_a57efd086a0c219f41fc3f6ef20cd004d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a57efd086a0c219f41fc3f6ef20cd004d">ast_json_real_create</a></div><div class="ttdeci">struct ast_json * ast_json_real_create(double value)</div><div class="ttdoc">Create a JSON real number. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00332">json.c:332</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a3a851bbeea9961c987cbc8d3d3a365bd"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a3a851bbeea9961c987cbc8d3d3a365bd">ast_rtp_instance_stats::remote_minrxploss</a></div><div class="ttdeci">double remote_minrxploss</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00398">rtp_engine.h:398</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a21f14570a0860de7863be4f0f16e8e4b"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a21f14570a0860de7863be4f0f16e8e4b">ast_rtp_instance_stats::remote_stdevrxploss</a></div><div class="ttdeci">double remote_stdevrxploss</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00402">rtp_engine.h:402</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a3f7aced2b7c50be99b2b27c36f1c3557"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a3f7aced2b7c50be99b2b27c36f1c3557">ast_rtp_instance_stats::local_normdevjitter</a></div><div class="ttdeci">double local_normdevjitter</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00388">rtp_engine.h:388</a></div></div>
<div class="ttc" id="rtp__engine_8c_html_a5196c36c9cff35c1551933b7a0e7b7ac"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a5196c36c9cff35c1551933b7a0e7b7ac">SET_AST_JSON_OBJ</a></div><div class="ttdeci">#define SET_AST_JSON_OBJ(target, name, obj)</div><div class="ttdoc">Set given json object into target with name. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00288">rtp_engine.c:288</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a80552fd3f7f852d51e944dc4105da800"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a80552fd3f7f852d51e944dc4105da800">ast_rtp_instance_stats::rxjitter</a></div><div class="ttdeci">double rxjitter</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00374">rtp_engine.h:374</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html_a052c95f741f3e25e6ab9217a01affb53"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html#a052c95f741f3e25e6ab9217a01affb53">ast_rtp_instance_stats::remote_ssrc</a></div><div class="ttdeci">unsigned int remote_ssrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00424">rtp_engine.h:424</a></div></div>
<div class="ttc" id="json_8h_html_ac13f0f415f198c5a341017195933356f"><div class="ttname"><a href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a></div><div class="ttdeci">struct ast_json * ast_json_integer_create(intmax_t value)</div><div class="ttdoc">Create a JSON integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00317">json.c:317</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga85ebb1735a6e9ce14a033b479076aaed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85ebb1735a6e9ce14a033b479076aaed">&#9670;&nbsp;</a></span>ast_rtp_get_rate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_rtp_get_rate </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d98/structast__format.html">ast_format</a> *&#160;</td>
          <td class="paramname"><em>format</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the sample rate of a format according to RTP specifications. </p>
<dl class="section since"><dt>Since</dt><dd>16.7.0 </dd>
<dd>
17.1.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>The media format</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>sample rate </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l04030">4030</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/da6/format_8c_source.html#l00201">ast_format_cmp()</a>, <a class="el" href="../../d0/d0a/format_8h_source.html#l00036">AST_FORMAT_CMP_EQUAL</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00111">ast_format_g722</a>, and <a class="el" href="../../de/da6/format_8c_source.html#l00379">ast_format_get_sample_rate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04579">ast_rtcp_calculate_sr_rr_statistics()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04491">ast_rtcp_generate_report()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04255">ast_rtp_dtmf_end_with_duration()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l07200">ast_rtp_interpret()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l05413">calc_rxstamp()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00915">jitterbuffer_frame_get_ntp_timestamp()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l05644">process_dtmf_cisco()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l05506">process_dtmf_rfc2833()</a>, and <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04891">rtp_raw_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;{</div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;   <span class="comment">/* For those wondering: due to a fluke in RFC publication, G.722 is advertised</span></div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;<span class="comment">    * as having a sample rate of 8kHz, while implementations must know that its</span></div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;<span class="comment">    * real rate is 16kHz. Seriously.</span></div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(format, <a class="code" href="../../db/d1c/format__cache_8h.html#ad02ea989608ad5180d04cb0c4e75294c">ast_format_g722</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) ? 8000 : (int)<a class="code" href="../../d0/d0a/format_8h.html#a499e920008f775eebadd958a42e85862">ast_format_get_sample_rate</a>(format);</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;}</div><div class="ttc" id="format_8h_html_a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/format_8h_source.html#l00036">format.h:36</a></div></div>
<div class="ttc" id="format__cache_8h_html_ad02ea989608ad5180d04cb0c4e75294c"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#ad02ea989608ad5180d04cb0c4e75294c">ast_format_g722</a></div><div class="ttdeci">struct ast_format * ast_format_g722</div><div class="ttdoc">Built-in cached g722 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00111">format_cache.c:111</a></div></div>
<div class="ttc" id="format_8h_html_a738c58eca291b71de4422e95bff27400"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a></div><div class="ttdeci">enum ast_format_cmp_res ast_format_cmp(const struct ast_format *format1, const struct ast_format *format2)</div><div class="ttdoc">Compare two formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00201">format.c:201</a></div></div>
<div class="ttc" id="format_8h_html_a499e920008f775eebadd958a42e85862"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a499e920008f775eebadd958a42e85862">ast_format_get_sample_rate</a></div><div class="ttdeci">unsigned int ast_format_get_sample_rate(const struct ast_format *format)</div><div class="ttdoc">Get the sample rate of a media format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00379">format.c:379</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gacbf4ba18d5db2721e5d4d8de22a27886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacbf4ba18d5db2721e5d4d8de22a27886">&#9670;&nbsp;</a></span>ast_rtp_instance_drop_packets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_rtp_instance_drop_packets </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the number of packets to drop on RTP read. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The RTP instance </td></tr>
    <tr><td class="paramname">num</td><td>The number of packets to drop </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03905">3905</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02901">ast_rtp_instance_get_test()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00597">ast_rtp_engine_test::packets_to_drop</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d98/test__res__rtp_8c_source.html#l00171">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;{</div><div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a> *<a class="code" href="../../d8/d89/structtest.html">test</a> = <a class="code" href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a>(instance);</div><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;</div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;   <span class="keywordflow">if</span> (!test) {</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;There is no test engine set up!\n&quot;</span>);</div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;   }</div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;   test-&gt;<a class="code" href="../../d5/d98/structast__rtp__engine__test.html#a8dbf2df25a080792f44380cdf628916f">packets_to_drop</a> = num;</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;}</div><div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html_a8dbf2df25a080792f44380cdf628916f"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html#a8dbf2df25a080792f44380cdf628916f">ast_rtp_engine_test::packets_to_drop</a></div><div class="ttdeci">int packets_to_drop</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00597">rtp_engine.h:597</a></div></div>
<div class="ttc" id="rtp__engine_8c_html_a368880aa0afe3ee532508eff1ba26882"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a></div><div class="ttdeci">struct ast_rtp_engine_test * ast_rtp_instance_get_test(struct ast_rtp_instance *instance)</div><div class="ttdoc">Obtain a pointer to the test callbacks on an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02901">rtp_engine.c:2901</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a></div><div class="ttdoc">Structure that represents the test functionality for res_rtp_asterisk unit tests. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00595">rtp_engine.h:595</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gad193e738ab3f30ba62fb2239823fe47a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad193e738ab3f30ba62fb2239823fe47a">&#9670;&nbsp;</a></span>ast_rtp_instance_get_recv_buffer_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t ast_rtp_instance_get_recv_buffer_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current size of the receive buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The RTP instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>recv_buffer size if it exists, else 0 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03857">3857</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02901">ast_rtp_instance_get_test()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00603">ast_rtp_engine_test::recv_buffer_count</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d98/test__res__rtp_8c_source.html#l00133">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;{</div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;   <span class="keywordtype">size_t</span> res;</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a> *<a class="code" href="../../d8/d89/structtest.html">test</a> = <a class="code" href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a>(instance);</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;   <span class="keywordflow">if</span> (!test) {</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;There is no test engine set up!\n&quot;</span>);</div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;   }</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(instance);</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;   res = test-&gt;<a class="code" href="../../d5/d98/structast__rtp__engine__test.html#a127ffa9479d12a8d665bbd42ba2dee18">recv_buffer_count</a>(instance);</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(instance);</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html_a127ffa9479d12a8d665bbd42ba2dee18"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html#a127ffa9479d12a8d665bbd42ba2dee18">ast_rtp_engine_test::recv_buffer_count</a></div><div class="ttdeci">size_t(* recv_buffer_count)(struct ast_rtp_instance *instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00603">rtp_engine.h:603</a></div></div>
<div class="ttc" id="rtp__engine_8c_html_a368880aa0afe3ee532508eff1ba26882"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a></div><div class="ttdeci">struct ast_rtp_engine_test * ast_rtp_instance_get_test(struct ast_rtp_instance *instance)</div><div class="ttdoc">Obtain a pointer to the test callbacks on an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02901">rtp_engine.c:2901</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a></div><div class="ttdoc">Structure that represents the test functionality for res_rtp_asterisk unit tests. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00595">rtp_engine.h:595</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga32aaf4e901b01797fe9102ad7b5f68c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga32aaf4e901b01797fe9102ad7b5f68c9">&#9670;&nbsp;</a></span>ast_rtp_instance_get_recv_buffer_max()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t ast_rtp_instance_get_recv_buffer_max </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the maximum size of the receive buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The RTP instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>recv_buffer max size if it exists, else 0 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03840">3840</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02901">ast_rtp_instance_get_test()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00605">ast_rtp_engine_test::recv_buffer_max</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d98/test__res__rtp_8c_source.html#l00171">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;{</div><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;   <span class="keywordtype">size_t</span> res;</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a> *<a class="code" href="../../d8/d89/structtest.html">test</a> = <a class="code" href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a>(instance);</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;   <span class="keywordflow">if</span> (!test) {</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;There is no test engine set up!\n&quot;</span>);</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;   }</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;</div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(instance);</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;   res = test-&gt;<a class="code" href="../../d5/d98/structast__rtp__engine__test.html#acd325c74d3b143cce624aa96f8a82eb0">recv_buffer_max</a>(instance);</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(instance);</div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="rtp__engine_8c_html_a368880aa0afe3ee532508eff1ba26882"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a></div><div class="ttdeci">struct ast_rtp_engine_test * ast_rtp_instance_get_test(struct ast_rtp_instance *instance)</div><div class="ttdoc">Obtain a pointer to the test callbacks on an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02901">rtp_engine.c:2901</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a></div><div class="ttdoc">Structure that represents the test functionality for res_rtp_asterisk unit tests. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00595">rtp_engine.h:595</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html_acd325c74d3b143cce624aa96f8a82eb0"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html#acd325c74d3b143cce624aa96f8a82eb0">ast_rtp_engine_test::recv_buffer_max</a></div><div class="ttdeci">size_t(* recv_buffer_max)(struct ast_rtp_instance *instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00605">rtp_engine.h:605</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga14c88045a075be4ca9d217c283502532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga14c88045a075be4ca9d217c283502532">&#9670;&nbsp;</a></span>ast_rtp_instance_get_sdes_received()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_rtp_instance_get_sdes_received </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the value of sdes_received on the test engine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The RTP instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>if sdes_received, else 0 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03929">3929</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02901">ast_rtp_instance_get_test()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00601">ast_rtp_engine_test::sdes_received</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d98/test__res__rtp_8c_source.html#l00410">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;{</div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a> *<a class="code" href="../../d8/d89/structtest.html">test</a> = <a class="code" href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a>(instance);</div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;</div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;   <span class="keywordflow">if</span> (!test) {</div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;There is no test engine set up!\n&quot;</span>);</div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;   }</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;   <span class="keywordflow">return</span> test-&gt;<a class="code" href="../../d5/d98/structast__rtp__engine__test.html#ad499ee617ec9d9be0f4bc339742a07e7">sdes_received</a>;</div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;}</div><div class="ttc" id="structast__rtp__engine__test_html_ad499ee617ec9d9be0f4bc339742a07e7"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html#ad499ee617ec9d9be0f4bc339742a07e7">ast_rtp_engine_test::sdes_received</a></div><div class="ttdeci">int sdes_received</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00601">rtp_engine.h:601</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="rtp__engine_8c_html_a368880aa0afe3ee532508eff1ba26882"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a></div><div class="ttdeci">struct ast_rtp_engine_test * ast_rtp_instance_get_test(struct ast_rtp_instance *instance)</div><div class="ttdoc">Obtain a pointer to the test callbacks on an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02901">rtp_engine.c:2901</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a></div><div class="ttdoc">Structure that represents the test functionality for res_rtp_asterisk unit tests. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00595">rtp_engine.h:595</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gac232b87801c254313c80905aa709875b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac232b87801c254313c80905aa709875b">&#9670;&nbsp;</a></span>ast_rtp_instance_get_send_buffer_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t ast_rtp_instance_get_send_buffer_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current size of the send buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The RTP instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>send_buffer size if it exists, else 0 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03874">3874</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02901">ast_rtp_instance_get_test()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00607">ast_rtp_engine_test::send_buffer_count</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d98/test__res__rtp_8c_source.html#l00133">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;{</div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;   <span class="keywordtype">size_t</span> res;</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a> *<a class="code" href="../../d8/d89/structtest.html">test</a> = <a class="code" href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a>(instance);</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;</div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;   <span class="keywordflow">if</span> (!test) {</div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;There is no test engine set up!\n&quot;</span>);</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;   }</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(instance);</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;   res = test-&gt;<a class="code" href="../../d5/d98/structast__rtp__engine__test.html#a22a297cd8a09d7ffd6f092bf6dc22eee">send_buffer_count</a>(instance);</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(instance);</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html_a22a297cd8a09d7ffd6f092bf6dc22eee"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html#a22a297cd8a09d7ffd6f092bf6dc22eee">ast_rtp_engine_test::send_buffer_count</a></div><div class="ttdeci">size_t(* send_buffer_count)(struct ast_rtp_instance *instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00607">rtp_engine.h:607</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="rtp__engine_8c_html_a368880aa0afe3ee532508eff1ba26882"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a></div><div class="ttdeci">struct ast_rtp_engine_test * ast_rtp_instance_get_test(struct ast_rtp_instance *instance)</div><div class="ttdoc">Obtain a pointer to the test callbacks on an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02901">rtp_engine.c:2901</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a></div><div class="ttdoc">Structure that represents the test functionality for res_rtp_asterisk unit tests. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00595">rtp_engine.h:595</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gac8dcaac6d227860b04c66fc22462789a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8dcaac6d227860b04c66fc22462789a">&#9670;&nbsp;</a></span>ast_rtp_instance_get_stats_all_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* ast_rtp_instance_get_stats_all_json </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve statistics about an RTP instance in json format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">json</td><td>object of stats </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l04019">4019</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03956">ast_rtp_convert_stats_json()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02446">ast_rtp_instance_get_stats()</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00182">AST_RTP_INSTANCE_STAT_ALL</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l02028">ast_ari_channels_rtpstatistics()</a>.</p>
<div class="fragment"><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;{</div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/db0/structast__rtp__instance__stats.html">ast_rtp_instance_stats</a> stats = {0,};</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/dbe/rtp__engine_8c.html#a82a029e03affad8a6e1b322c0b9fe2c3">ast_rtp_instance_get_stats</a>(instance, &amp;stats, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a52d18270f48752558c84d7760c82378faf8772548ca3d011625888eb38c4511e4">AST_RTP_INSTANCE_STAT_ALL</a>)) {</div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;   }</div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;</div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gab5693c002c4a23d84da916dbb02d5a5c">ast_rtp_convert_stats_json</a>(&amp;stats);</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;}</div><div class="ttc" id="rtp__engine_8h_html_a52d18270f48752558c84d7760c82378faf8772548ca3d011625888eb38c4511e4"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a52d18270f48752558c84d7760c82378faf8772548ca3d011625888eb38c4511e4">AST_RTP_INSTANCE_STAT_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00182">rtp_engine.h:182</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="rtp__engine_8c_html_a82a029e03affad8a6e1b322c0b9fe2c3"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a82a029e03affad8a6e1b322c0b9fe2c3">ast_rtp_instance_get_stats</a></div><div class="ttdeci">int ast_rtp_instance_get_stats(struct ast_rtp_instance *instance, struct ast_rtp_instance_stats *stats, enum ast_rtp_instance_stat stat)</div><div class="ttdoc">Retrieve statistics about an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02446">rtp_engine.c:2446</a></div></div>
<div class="ttc" id="structast__rtp__instance__stats_html"><div class="ttname"><a href="../../d0/db0/structast__rtp__instance__stats.html">ast_rtp_instance_stats</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00366">rtp_engine.h:366</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gab5693c002c4a23d84da916dbb02d5a5c"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gab5693c002c4a23d84da916dbb02d5a5c">ast_rtp_convert_stats_json</a></div><div class="ttdeci">struct ast_json * ast_rtp_convert_stats_json(const struct ast_rtp_instance_stats *stats)</div><div class="ttdoc">Convert given stat instance into json format. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l03956">rtp_engine.c:3956</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga37f241cedc1f8c75764d407284d7cabb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37f241cedc1f8c75764d407284d7cabb">&#9670;&nbsp;</a></span>ast_rtp_instance_queue_report()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_rtp_instance_queue_report </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a SR/RR report the next time RTP would be sent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The RTP instance </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03917">3917</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02901">ast_rtp_instance_get_test()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00599">ast_rtp_engine_test::send_report</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d98/test__res__rtp_8c_source.html#l00266">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;{</div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a> *<a class="code" href="../../d8/d89/structtest.html">test</a> = <a class="code" href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a>(instance);</div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;   <span class="keywordflow">if</span> (!test) {</div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;There is no test engine set up!\n&quot;</span>);</div><div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;   }</div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;   test-&gt;<a class="code" href="../../d5/d98/structast__rtp__engine__test.html#a9ed17e77f1720e944b2e0a6870e7b1c0">send_report</a> = 1;</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;}</div><div class="ttc" id="structast__rtp__engine__test_html_a9ed17e77f1720e944b2e0a6870e7b1c0"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html#a9ed17e77f1720e944b2e0a6870e7b1c0">ast_rtp_engine_test::send_report</a></div><div class="ttdeci">int send_report</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00599">rtp_engine.h:599</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="rtp__engine_8c_html_a368880aa0afe3ee532508eff1ba26882"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a></div><div class="ttdeci">struct ast_rtp_engine_test * ast_rtp_instance_get_test(struct ast_rtp_instance *instance)</div><div class="ttdoc">Obtain a pointer to the test callbacks on an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02901">rtp_engine.c:2901</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a></div><div class="ttdoc">Structure that represents the test functionality for res_rtp_asterisk unit tests. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00595">rtp_engine.h:595</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga404c7192a06d6519fbf582eed184ef41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga404c7192a06d6519fbf582eed184ef41">&#9670;&nbsp;</a></span>ast_rtp_instance_reset_test_engine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_rtp_instance_reset_test_engine </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets all the fields to default values for the test engine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The RTP instance </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03941">3941</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02901">ast_rtp_instance_get_test()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00597">ast_rtp_engine_test::packets_to_drop</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00601">ast_rtp_engine_test::sdes_received</a>, and <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00599">ast_rtp_engine_test::send_report</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d98/test__res__rtp_8c_source.html#l00053">test_init_rtp_instances()</a>.</p>
<div class="fragment"><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;{</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a> *<a class="code" href="../../d8/d89/structtest.html">test</a> = <a class="code" href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a>(instance);</div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;</div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;   <span class="keywordflow">if</span> (!test) {</div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;There is no test engine set up!\n&quot;</span>);</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;   }</div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;</div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;   test-&gt;<a class="code" href="../../d5/d98/structast__rtp__engine__test.html#a8dbf2df25a080792f44380cdf628916f">packets_to_drop</a> = 0;</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;   test-&gt;<a class="code" href="../../d5/d98/structast__rtp__engine__test.html#a9ed17e77f1720e944b2e0a6870e7b1c0">send_report</a> = 0;</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;   test-&gt;<a class="code" href="../../d5/d98/structast__rtp__engine__test.html#ad499ee617ec9d9be0f4bc339742a07e7">sdes_received</a> = 0;</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;}</div><div class="ttc" id="structast__rtp__engine__test_html_ad499ee617ec9d9be0f4bc339742a07e7"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html#ad499ee617ec9d9be0f4bc339742a07e7">ast_rtp_engine_test::sdes_received</a></div><div class="ttdeci">int sdes_received</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00601">rtp_engine.h:601</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html_a9ed17e77f1720e944b2e0a6870e7b1c0"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html#a9ed17e77f1720e944b2e0a6870e7b1c0">ast_rtp_engine_test::send_report</a></div><div class="ttdeci">int send_report</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00599">rtp_engine.h:599</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html_a8dbf2df25a080792f44380cdf628916f"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html#a8dbf2df25a080792f44380cdf628916f">ast_rtp_engine_test::packets_to_drop</a></div><div class="ttdeci">int packets_to_drop</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00597">rtp_engine.h:597</a></div></div>
<div class="ttc" id="rtp__engine_8c_html_a368880aa0afe3ee532508eff1ba26882"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a></div><div class="ttdeci">struct ast_rtp_engine_test * ast_rtp_instance_get_test(struct ast_rtp_instance *instance)</div><div class="ttdoc">Obtain a pointer to the test callbacks on an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02901">rtp_engine.c:2901</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a></div><div class="ttdoc">Structure that represents the test functionality for res_rtp_asterisk unit tests. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00595">rtp_engine.h:595</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga4355793892bdf43a0a5852220cf0b0d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4355793892bdf43a0a5852220cf0b0d2">&#9670;&nbsp;</a></span>ast_rtp_instance_set_schedid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_rtp_instance_set_schedid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the schedid for RTCP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The RTP instance </td></tr>
    <tr><td class="paramname">id</td><td>The number to set schedid to </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03891">3891</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02901">ast_rtp_instance_get_test()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00609">ast_rtp_engine_test::set_schedid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d98/test__res__rtp_8c_source.html#l00346">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;{</div><div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a> *<a class="code" href="../../d8/d89/structtest.html">test</a> = <a class="code" href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a>(instance);</div><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;</div><div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;   <span class="keywordflow">if</span> (!test) {</div><div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;There is no test engine set up!\n&quot;</span>);</div><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;   }</div><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;</div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(instance);</div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;   test-&gt;<a class="code" href="../../d5/d98/structast__rtp__engine__test.html#a630ea1ce30dc302ad4e7189bfaa4ae1c">set_schedid</a>(instance, <span class="keywordtype">id</span>);</div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(instance);</div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="rtp__engine_8c_html_a368880aa0afe3ee532508eff1ba26882"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a368880aa0afe3ee532508eff1ba26882">ast_rtp_instance_get_test</a></div><div class="ttdeci">struct ast_rtp_engine_test * ast_rtp_instance_get_test(struct ast_rtp_instance *instance)</div><div class="ttdoc">Obtain a pointer to the test callbacks on an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02901">rtp_engine.c:2901</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html_a630ea1ce30dc302ad4e7189bfaa4ae1c"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html#a630ea1ce30dc302ad4e7189bfaa4ae1c">ast_rtp_engine_test::set_schedid</a></div><div class="ttdeci">void(* set_schedid)(struct ast_rtp_instance *instance, int id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00609">rtp_engine.h:609</a></div></div>
<div class="ttc" id="structast__rtp__engine__test_html"><div class="ttname"><a href="../../d5/d98/structast__rtp__engine__test.html">ast_rtp_engine_test</a></div><div class="ttdoc">Structure that represents the test functionality for res_rtp_asterisk unit tests. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00595">rtp_engine.h:595</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga68594e604220e38eb6593972ef9a4da3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68594e604220e38eb6593972ef9a4da3">&#9670;&nbsp;</a></span>ast_rtp_rtcp_received_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_rtp_rtcp_received_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for an RTCP message received from some external source. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l06100">ast_rtcp_interpret()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03622">ast_rtp_engine_init()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03485">ast_rtp_publish_rtcp_message()</a>, <a class="el" href="../../d4/d8f/res__hep__rtcp_8c_source.html#l00158">load_module()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03297">rtcp_report_to_ami()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03585">rtp_engine_shutdown()</a>, and <a class="el" href="../../d4/d8f/res__hep__rtcp_8c_source.html#l00148">rtp_topic_handler()</a>.</p>

</div>
</div>
<a id="gac1f320e2641058809ef5f0a0e830daf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1f320e2641058809ef5f0a0e830daf5">&#9670;&nbsp;</a></span>ast_rtp_rtcp_sent_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_rtp_rtcp_sent_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for an RTCP message sent from this Asterisk instance. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>stasis message type </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04579">ast_rtcp_calculate_sr_rr_statistics()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03622">ast_rtp_engine_init()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03485">ast_rtp_publish_rtcp_message()</a>, <a class="el" href="../../d4/d8f/res__hep__rtcp_8c_source.html#l00158">load_module()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03585">rtp_engine_shutdown()</a>, and <a class="el" href="../../d4/d8f/res__hep__rtcp_8c_source.html#l00148">rtp_topic_handler()</a>.</p>

</div>
</div>
<a id="gae7636be9781a3bd85e52ba016e8c432f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7636be9781a3bd85e52ba016e8c432f">&#9670;&nbsp;</a></span>ast_rtp_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_rtp_topic </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> topic for RTP and RTCP related messages </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td><a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> topic </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03531">3531</a> of file <a class="el" href="../../da/dbe/rtp__engine_8c_source.html">rtp_engine.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00278">rtp_topic</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03485">ast_rtp_publish_rtcp_message()</a>, <a class="el" href="../../d4/d8f/res__hep__rtcp_8c_source.html#l00158">load_module()</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l09053">manager_subscriptions_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;{</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/dbe/rtp__engine_8c.html#a48d78c6056c1d46bd4b8630fdcd9ba2f">rtp_topic</a>;</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;}</div><div class="ttc" id="rtp__engine_8c_html_a48d78c6056c1d46bd4b8630fdcd9ba2f"><div class="ttname"><a href="../../da/dbe/rtp__engine_8c.html#a48d78c6056c1d46bd4b8630fdcd9ba2f">rtp_topic</a></div><div class="ttdeci">static struct stasis_topic * rtp_topic</div><div class="ttdoc">Stasis Message Bus API topic for RTP related messages </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00278">rtp_engine.c:278</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga60caa723cc6cdb79618bc030ecfeba70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga60caa723cc6cdb79618bc030ecfeba70">&#9670;&nbsp;</a></span>mwi_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mwi_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the mwi core. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>13.27.0 </dd>
<dd>
16.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/db4/mwi_8c_source.html#l00502">502</a> of file <a class="el" href="../../d6/db4/mwi_8c_source.html">mwi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf226cf2d1a4dbbbf220521d58c05ac0f">ast_mwi_state_type()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00085">ast_mwi_topic_all()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga03bf52a37253e9ecdc4fadf9747a3497">ast_mwi_vm_app_type()</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00019">ast_register_cleanup()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00491">mwi_cleanup()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00441">mwi_state_get_id()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00360">stasis_cache_create()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00948">stasis_caching_topic_create()</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l01501">STASIS_MESSAGE_TYPE_INIT</a>, and <a class="el" href="../../dc/d1d/stasis__state_8c_source.html#l00324">stasis_state_manager_create()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03947">asterisk_daemon()</a>.</p>
<div class="fragment"><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;{</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   <a class="code" href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a>(<a class="code" href="../../d6/db4/mwi_8c.html#a8aec7c3edbbcf6e1244cf7b6c48ac46a">mwi_cleanup</a>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf226cf2d1a4dbbbf220521d58c05ac0f">ast_mwi_state_type</a>) != 0) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga03bf52a37253e9ecdc4fadf9747a3497">ast_mwi_vm_app_type</a>) != 0) {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   <a class="code" href="../../d6/db4/mwi_8c.html#a527bd68e0bbd91f85683a01f37ca9e31">mwi_state_manager</a> = <a class="code" href="../../d1/d96/stasis__state_8h.html#a1e620ce0dace97fda1d99361dda73c9b">stasis_state_manager_create</a>(<span class="stringliteral">&quot;mwi:all&quot;</span>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/db4/mwi_8c.html#a527bd68e0bbd91f85683a01f37ca9e31">mwi_state_manager</a>) {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   <a class="code" href="../../d6/db4/mwi_8c.html#a6acc9ce6397f1be6b4e6793ff1859b88">mwi_state_cache</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a64035c0f7317db2590817a173d268ff1">stasis_cache_create</a>(<a class="code" href="../../d6/db4/mwi_8c.html#a4556de3c4d575a8058f2869114885a20">mwi_state_get_id</a>);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/db4/mwi_8c.html#a6acc9ce6397f1be6b4e6793ff1859b88">mwi_state_cache</a>) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   <a class="code" href="../../d6/db4/mwi_8c.html#a3bfb570c400349a7e48c8e073ec16fd7">mwi_topic_cached</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a4290101180caea800a0461017a167120">stasis_caching_topic_create</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga547ae87810e6cd121cea7b3149343366">ast_mwi_topic_all</a>(), <a class="code" href="../../d6/db4/mwi_8c.html#a6acc9ce6397f1be6b4e6793ff1859b88">mwi_state_cache</a>);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/db4/mwi_8c.html#a3bfb570c400349a7e48c8e073ec16fd7">mwi_topic_cached</a>) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}</div><div class="ttc" id="stasis_8h_html_a70cd046d8e3fd50de5c51aecb2830d2a"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a></div><div class="ttdeci">#define STASIS_MESSAGE_TYPE_INIT(name)</div><div class="ttdoc">Boiler-plate messaging macro for initializing message types. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01501">stasis.h:1501</a></div></div>
<div class="ttc" id="stasis_8h_html_a4290101180caea800a0461017a167120"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a4290101180caea800a0461017a167120">stasis_caching_topic_create</a></div><div class="ttdeci">struct stasis_caching_topic * stasis_caching_topic_create(struct stasis_topic *original_topic, struct stasis_cache *cache)</div><div class="ttdoc">Create a topic which monitors and caches messages from another topic. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da9/stasis__cache_8c_source.html#l00948">stasis_cache.c:948</a></div></div>
<div class="ttc" id="mwi_8c_html_a6acc9ce6397f1be6b4e6793ff1859b88"><div class="ttname"><a href="../../d6/db4/mwi_8c.html#a6acc9ce6397f1be6b4e6793ff1859b88">mwi_state_cache</a></div><div class="ttdeci">static struct stasis_cache * mwi_state_cache</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00033">mwi.c:33</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga547ae87810e6cd121cea7b3149343366"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga547ae87810e6cd121cea7b3149343366">ast_mwi_topic_all</a></div><div class="ttdeci">struct stasis_topic * ast_mwi_topic_all(void)</div><div class="ttdoc">Get the Stasis Message Bus API topic for MWI messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00085">mwi.c:85</a></div></div>
<div class="ttc" id="stasis__state_8h_html_a1e620ce0dace97fda1d99361dda73c9b"><div class="ttname"><a href="../../d1/d96/stasis__state_8h.html#a1e620ce0dace97fda1d99361dda73c9b">stasis_state_manager_create</a></div><div class="ttdeci">struct stasis_state_manager * stasis_state_manager_create(const char *topic_name)</div><div class="ttdoc">Create a stasis state manager. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1d/stasis__state_8c_source.html#l00324">stasis_state.c:324</a></div></div>
<div class="ttc" id="mwi_8c_html_a527bd68e0bbd91f85683a01f37ca9e31"><div class="ttname"><a href="../../d6/db4/mwi_8c.html#a527bd68e0bbd91f85683a01f37ca9e31">mwi_state_manager</a></div><div class="ttdeci">static struct stasis_state_manager * mwi_state_manager</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00032">mwi.c:32</a></div></div>
<div class="ttc" id="asterisk_8h_html_a412442e1beffe5bec07ed2e9ea72afc3"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a></div><div class="ttdeci">int ast_register_cleanup(void(*func)(void))</div><div class="ttdoc">Register a function to be executed before Asterisk gracefully exits. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00019">clicompat.c:19</a></div></div>
<div class="ttc" id="mwi_8c_html_a4556de3c4d575a8058f2869114885a20"><div class="ttname"><a href="../../d6/db4/mwi_8c.html#a4556de3c4d575a8058f2869114885a20">mwi_state_get_id</a></div><div class="ttdeci">static const char * mwi_state_get_id(struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00441">mwi.c:441</a></div></div>
<div class="ttc" id="mwi_8c_html_a8aec7c3edbbcf6e1244cf7b6c48ac46a"><div class="ttname"><a href="../../d6/db4/mwi_8c.html#a8aec7c3edbbcf6e1244cf7b6c48ac46a">mwi_cleanup</a></div><div class="ttdeci">static void mwi_cleanup(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00491">mwi.c:491</a></div></div>
<div class="ttc" id="mwi_8c_html_a3bfb570c400349a7e48c8e073ec16fd7"><div class="ttname"><a href="../../d6/db4/mwi_8c.html#a3bfb570c400349a7e48c8e073ec16fd7">mwi_topic_cached</a></div><div class="ttdeci">static struct stasis_caching_topic * mwi_topic_cached</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00034">mwi.c:34</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf226cf2d1a4dbbbf220521d58c05ac0f"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf226cf2d1a4dbbbf220521d58c05ac0f">ast_mwi_state_type</a></div><div class="ttdeci">struct stasis_message_type * ast_mwi_state_type(void)</div><div class="ttdoc">Get the Stasis Message Bus API message type for MWI messages. </div></div>
<div class="ttc" id="stasis_8h_html_a64035c0f7317db2590817a173d268ff1"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a64035c0f7317db2590817a173d268ff1">stasis_cache_create</a></div><div class="ttdeci">struct stasis_cache * stasis_cache_create(snapshot_get_id id_fn)</div><div class="ttdoc">Create a cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da9/stasis__cache_8c_source.html#l00360">stasis_cache.c:360</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga03bf52a37253e9ecdc4fadf9747a3497"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga03bf52a37253e9ecdc4fadf9747a3497">ast_mwi_vm_app_type</a></div><div class="ttdeci">struct stasis_message_type * ast_mwi_vm_app_type(void)</div><div class="ttdoc">Get the Stasis Message Bus API message type for voicemail application specific messages. </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5e2b5addf55fb60e66c4f590652a3649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e2b5addf55fb60e66c4f590652a3649">&#9670;&nbsp;</a></span>stasis_cache_clear_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* stasis_cache_clear_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for clearing a message from a stasis cache. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00833">caching_topic_exec()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l01002">stasis_cache_cleanup()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00778">stasis_cache_clear_create()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00757">stasis_cache_dump_all()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l01008">stasis_cache_init()</a>, and <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00090">stasis_caching_accept_message_type()</a>.</p>

</div>
</div>
<a id="gab5d1a876f8f0cd0562fb5d5f94c06717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5d1a876f8f0cd0562fb5d5f94c06717">&#9670;&nbsp;</a></span>stasis_cache_update_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* stasis_cache_update_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message type for cache update messages. </p>
<dl class="section return"><dt>Returns</dt><dd>Message type for cache update messages. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00511">AST_TEST_DEFINE()</a>, <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00048">cache_update()</a>, <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00155">find_route()</a>, <a class="el" href="../../d6/d6a/res__endpoint__stats_8c_source.html#l00115">load_module()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l01002">stasis_cache_cleanup()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00757">stasis_cache_dump_all()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l01008">stasis_cache_init()</a>, <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00336">stasis_message_router_add_cache_update()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00628">sub_endpoint_update_handler()</a>, and <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00795">update_create()</a>.</p>

</div>
</div>
<a id="gafae630f05995b59b49dc523a5b9ce757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafae630f05995b59b49dc523a5b9ce757">&#9670;&nbsp;</a></span>stasis_subscription_change_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* stasis_subscription_change_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the message type for subscription change notices. </p>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> for subscription change notices </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28499">add_peer_mwi_subs()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00511">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00322">asterisk_start_devicestate_publishing()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00401">asterisk_start_mwi_publishing()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00833">caching_topic_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02791">cc_generic_agent_start_monitoring()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00204">consumer_exec()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00226">consumer_exec_sync()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l02080">create_message_types()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00174">create_parked_subscription_full()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00214">endpoint_internal_create()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00108">message_sink_cb()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00140">mwi_stasis_subscription_alloc()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00441">mwi_state_get_id()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00892">park_and_announce_app_exec()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00625">refer_blind_callback()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01648">send_subscription_subscribe()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01676">send_subscription_unsubscribe()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00090">stasis_caching_accept_message_type()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l03042">stasis_cleanup()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l03061">stasis_init()</a>, <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00207">stasis_message_router_create_internal()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01176">stasis_subscription_final_message()</a>, <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00360">subscribe_device_state()</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l00756">subscription_invoke()</a>.</p>

</div>
</div>
<a id="ga5abf633202a5c4e0caec70cf8df00047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5abf633202a5c4e0caec70cf8df00047">&#9670;&nbsp;</a></span>stasis_test_message_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>* stasis_test_message_create </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a test message. </p>

<p class="definition">Definition at line <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00236">236</a> of file <a class="el" href="../../da/dca/res__stasis__test_8c_source.html">res_stasis_test.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00129">stasis_message::data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message_create()</a>, and <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaa0a46c6b720362854b798adef799ce78">stasis_test_message_type()</a>.</p>
<div class="fragment"><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keywordtype">void</span> *, data, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaa0a46c6b720362854b798adef799ce78">stasis_test_message_type</a>()) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <span class="comment">/* We just need the unique pointer; don&#39;t care what&#39;s in it */</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   data = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="keywordflow">if</span> (!data) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaa0a46c6b720362854b798adef799ce78">stasis_test_message_type</a>(), data);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div><div class="ttc" id="group__StasisTopicsAndMessages_html_gaa0a46c6b720362854b798adef799ce78"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaa0a46c6b720362854b798adef799ce78">stasis_test_message_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_test_message_type(void)</div><div class="ttdoc">Gets the type of messages created by stasis_test_message_create(). </div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="stasis_8h_html_a72a06fdaec039fdfb5f36892e725f9ec"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a></div><div class="ttdeci">struct stasis_message * stasis_message_create(struct stasis_message_type *type, void *data)</div><div class="ttdoc">Create a new message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message.c:174</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaa0a46c6b720362854b798adef799ce78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0a46c6b720362854b798adef799ce78">&#9670;&nbsp;</a></span>stasis_test_message_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* stasis_test_message_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the type of messages created by <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5abf633202a5c4e0caec70cf8df00047" title="Creates a test message. ">stasis_test_message_create()</a>. </p>

<p class="reference">Referenced by <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00259">load_module()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00236">stasis_test_message_create()</a>, and <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00253">unload_module()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga385248f457748f60f984b484fb76d09e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga385248f457748f60f984b484fb76d09e">&#9670;&nbsp;</a></span>__field_mgr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> __field_mgr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00460">460</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

</div>
</div>
<a id="ga91220444fce3fb48a92017e943bf6232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91220444fce3fb48a92017e943bf6232">&#9670;&nbsp;</a></span>__field_mgr_pool</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a>* __field_mgr_pool</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00460">460</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

</div>
</div>
<a id="gad2b8e22df32b99651f727cd9a8dcb9f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2b8e22df32b99651f727cd9a8dcb9f3">&#9670;&nbsp;</a></span>blob</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* blob</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>JSON blob of data </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00475">475</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/db4/mwi_8c_source.html#l00462">ast_mwi_blob_create()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00055">mwi_app_event_cb()</a>, and <a class="el" href="../../d6/db4/mwi_8c_source.html#l00454">mwi_blob_dtor()</a>.</p>

</div>
</div>
<a id="gaa1d7e6e6eb6d297e62f2d79dbdfaafb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1d7e6e6eb6d297e62f2d79dbdfaafb4">&#9670;&nbsp;</a></span>eid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d86/structast__eid.html">ast_eid</a> eid</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The EID of the server where this message originated </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00465">465</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00232">asterisk_publisher_mwistate_cb()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00169">mwi_state_create_message()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00038">mwi_to_event()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01336">xmpp_pubsub_mwi_cb()</a>.</p>

</div>
</div>
<a id="ga6342aa357329880c14a06738ca544ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6342aa357329880c14a06738ca544ab1">&#9670;&nbsp;</a></span>mwi_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d45/structast__mwi__state.html">ast_mwi_state</a>* mwi_state</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MWI state </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00474">474</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/db4/mwi_8c_source.html#l00462">ast_mwi_blob_create()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00055">mwi_app_event_cb()</a>, and <a class="el" href="../../d6/db4/mwi_8c_source.html#l00454">mwi_blob_dtor()</a>.</p>

</div>
</div>
<a id="ga70de9f16a229e2c5bf1a973372949d3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70de9f16a229e2c5bf1a973372949d3e">&#9670;&nbsp;</a></span>new_msgs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int new_msgs</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The current number of new messages for this mailbox </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00461">461</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00232">asterisk_publisher_mwistate_cb()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29726">get_cached_mwi()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00326">get_message_count()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05033">has_voicemail()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00105">mwi_create_state()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l03554">mwi_event_cb()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00138">mwi_retrieve_then_create_state()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00038">mwi_to_event()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00086">mwi_update_cb()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13049">poll_subscribed_mailbox()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05675">unistim_send_mwi_to_peer()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09002">update_registry()</a>, <a class="el" href="../../dd/de5/test__mwi_8c_source.html#l00081">validate_data()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01336">xmpp_pubsub_mwi_cb()</a>.</p>

</div>
</div>
<a id="ga4369ae7c984aba22ce6d0e92718f2b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4369ae7c984aba22ce6d0e92718f2b29">&#9670;&nbsp;</a></span>old_msgs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int old_msgs</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The current number of old messages for this mailbox </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00462">462</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00232">asterisk_publisher_mwistate_cb()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29726">get_cached_mwi()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00326">get_message_count()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00105">mwi_create_state()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00138">mwi_retrieve_then_create_state()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00038">mwi_to_event()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00086">mwi_update_cb()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13049">poll_subscribed_mailbox()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09002">update_registry()</a>, <a class="el" href="../../dd/de5/test__mwi_8c_source.html#l00081">validate_data()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01336">xmpp_pubsub_mwi_cb()</a>.</p>

</div>
</div>
<a id="ga26e335fc4e4c1e8d0023ae9c987ccb4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26e335fc4e4c1e8d0023ae9c987ccb4b">&#9670;&nbsp;</a></span>on_subscribe</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* on_subscribe) (const char *<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, struct <a class="el" href="../../de/d41/structast__mwi__subscriber.html">ast_mwi_subscriber</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Raised when MWI is being subscribed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mailbox</td><td>The mailbox id subscribed </td></tr>
    <tr><td class="paramname">sub</td><td>The subscriber subscribed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00259">259</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

</div>
</div>
<a id="ga994ccdc380b0f09c3bddcd6acf0e9cdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga994ccdc380b0f09c3bddcd6acf0e9cdb">&#9670;&nbsp;</a></span>on_unsubscribe</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* on_unsubscribe) (const char *<a class="el" href="../../d0/dd6/chan__mgcp_8c.html#a6b49cafa2a3d359a2e865992f551874a">mailbox</a>, struct <a class="el" href="../../de/d41/structast__mwi__subscriber.html">ast_mwi_subscriber</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Raised when MWI is being unsubscribed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mailbox</td><td>The mailbox id being unsubscribed </td></tr>
    <tr><td class="paramname">sub</td><td>The subscriber to unsubscribe </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00267">267</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

</div>
</div>
<a id="ga36584c0251e54a7af4892d63f7a28c77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36584c0251e54a7af4892d63f7a28c77">&#9670;&nbsp;</a></span>snapshot</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a>* snapshot</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If applicable, a snapshot of the channel that caused this MWI change </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00464">464</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00055">mwi_app_event_cb()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00169">mwi_state_create_message()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00077">mwi_state_dtor()</a>, and <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00086">mwi_update_cb()</a>.</p>

</div>
</div>
<a id="ga753c7b39e3284d771f13f513b003d033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga753c7b39e3284d771f13f513b003d033">&#9670;&nbsp;</a></span>uniqueid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a> uniqueid</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unique identifier for this mailbox </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00460">460</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/db4/mwi_8c_source.html#l00399">ast_delete_mwi_state_full()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00370">ast_mwi_publish_by_mailbox()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00232">asterisk_publisher_mwistate_cb()</a>, <a class="el" href="../../dd/de5/test__mwi_8c_source.html#l00271">explicit_publish_cb()</a>, <a class="el" href="../../dd/de5/test__mwi_8c_source.html#l00104">handle_validate()</a>, <a class="el" href="../../dd/de5/test__mwi_8c_source.html#l00252">implicit_publish_cb()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13344">manager_match_mailbox()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13074">mb_poll_thread()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00055">mwi_app_event_cb()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00105">mwi_create_state()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13144">mwi_handle_unsubscribe2()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00441">mwi_state_get_id()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00038">mwi_to_event()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00086">mwi_update_cb()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13049">poll_subscribed_mailbox()</a>, <a class="el" href="../../dd/de5/test__mwi_8c_source.html#l00081">validate_data()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01336">xmpp_pubsub_mwi_cb()</a>.</p>

</div>
</div>
<a id="ga0c3f093f91cee667b6ab2d5dfa4f760e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c3f093f91cee667b6ab2d5dfa4f760e">&#9670;&nbsp;</a></span>urgent_msgs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int urgent_msgs</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The current number of urgent messages for this mailbox </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d33/mwi_8h_source.html#l00466">466</a> of file <a class="el" href="../../dc/d33/mwi_8h_source.html">mwi.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/db4/mwi_8c_source.html#l00105">mwi_create_state()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00138">mwi_retrieve_then_create_state()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13049">poll_subscribed_mailbox()</a>, and <a class="el" href="../../dd/de5/test__mwi_8c_source.html#l00081">validate_data()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:47:15 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
