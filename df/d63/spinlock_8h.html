<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: spinlock.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">spinlock.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Spin Locks.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;pthread.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d4/dd1/compiler_8h_source.html">asterisk/compiler.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for spinlock.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d54/spinlock_8h__incl.png" border="0" usemap="#spinlock_8h" alt=""/></div>
<map name="spinlock_8h" id="spinlock_8h">
<area shape="rect" id="node3" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="113,80,256,107"/>
</map>
</div>
</div>
<p><a href="../../df/d63/spinlock_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a570a105d98efeaeff18707e9de620a8f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d63/spinlock_8h.html#a570a105d98efeaeff18707e9de620a8f">AST_SPINLOCK_TYPE</a>&#160;&#160;&#160;<a class="el" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a082137f46b89f5b02eaa4ab76537c181">AST_SPINLOCK_TYPE_PTHREAD_MUTEX</a></td></tr>
<tr class="memdesc:a570a105d98efeaeff18707e9de620a8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation using GCC Atomics.  <a href="#a570a105d98efeaeff18707e9de620a8f">More...</a><br /></td></tr>
<tr class="separator:a570a105d98efeaeff18707e9de620a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e0af71c6c5e353f0f0dc33b8a4b986"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d63/spinlock_8h.html#a43e0af71c6c5e353f0f0dc33b8a4b986">AST_SPINLOCK_TYPE_LABEL</a>&#160;&#160;&#160;&quot;pthread_mutex&quot;</td></tr>
<tr class="separator:a43e0af71c6c5e353f0f0dc33b8a4b986"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a945dfefa70e53c19474fcf571095ea8a"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d4/dc5/extconf_8c.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d63/spinlock_8h.html#a945dfefa70e53c19474fcf571095ea8a">ast_spinlock_t</a></td></tr>
<tr class="separator:a945dfefa70e53c19474fcf571095ea8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aad98c683fc79f2f03c33675dc744b423"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423">ast_spinlock_type</a> { <br />
&#160;&#160;<a class="el" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a521ea76f029e6278e1b0797ece054154">AST_SPINLOCK_TYPE_GCC_ATOMICS</a>, 
<a class="el" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a4c2187cc56534bda94e899bf76875582">AST_SPINLOCK_TYPE_GAS_X86</a>, 
<a class="el" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a7463aa529412137c6a598befefa5b6fc">AST_SPINLOCK_TYPE_GAS_ARM</a>, 
<a class="el" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a2cdb54fad7e5fd09dba5e788f0c6dd44">AST_SPINLOCK_TYPE_GAS_SPARC</a>, 
<br />
&#160;&#160;<a class="el" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a0c315184b5639e5f9d4e6475baa93eef">AST_SPINLOCK_TYPE_OSX_ATOMICS</a>, 
<a class="el" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a64152e6f8353a55ead1a453f92b48ea9">AST_SPINLOCK_TYPE_PTHREAD_SPINLOCK</a>, 
<a class="el" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a082137f46b89f5b02eaa4ab76537c181">AST_SPINLOCK_TYPE_PTHREAD_MUTEX</a>
<br />
 }<tr class="memdesc:aad98c683fc79f2f03c33675dc744b423"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spinlock Implementation Types.  <a href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:aad98c683fc79f2f03c33675dc744b423"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa587664c05815961a2f4177a27705d00"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d63/spinlock_8h.html#aa587664c05815961a2f4177a27705d00">ast_spinlock_destroy</a> (<a class="el" href="../../df/d63/spinlock_8h.html#a945dfefa70e53c19474fcf571095ea8a">ast_spinlock_t</a> *<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)</td></tr>
<tr class="memdesc:aa587664c05815961a2f4177a27705d00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a spin lock.  <a href="#aa587664c05815961a2f4177a27705d00">More...</a><br /></td></tr>
<tr class="separator:aa587664c05815961a2f4177a27705d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02ec2ca08a958711b8716e87df230ef"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d63/spinlock_8h.html#ac02ec2ca08a958711b8716e87df230ef">ast_spinlock_init</a> (<a class="el" href="../../df/d63/spinlock_8h.html#a945dfefa70e53c19474fcf571095ea8a">ast_spinlock_t</a> *<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)</td></tr>
<tr class="memdesc:ac02ec2ca08a958711b8716e87df230ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a spin lock.  <a href="#ac02ec2ca08a958711b8716e87df230ef">More...</a><br /></td></tr>
<tr class="separator:ac02ec2ca08a958711b8716e87df230ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a207f1d1b4ff5be0d06ca2d2d5f8e965d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d63/spinlock_8h.html#a207f1d1b4ff5be0d06ca2d2d5f8e965d">ast_spinlock_lock</a> (<a class="el" href="../../df/d63/spinlock_8h.html#a945dfefa70e53c19474fcf571095ea8a">ast_spinlock_t</a> *<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)</td></tr>
<tr class="memdesc:a207f1d1b4ff5be0d06ca2d2d5f8e965d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock a spin lock.  <a href="#a207f1d1b4ff5be0d06ca2d2d5f8e965d">More...</a><br /></td></tr>
<tr class="separator:a207f1d1b4ff5be0d06ca2d2d5f8e965d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3198552475e7a057af03f7e45800d19a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d63/spinlock_8h.html#a3198552475e7a057af03f7e45800d19a">ast_spinlock_trylock</a> (<a class="el" href="../../df/d63/spinlock_8h.html#a945dfefa70e53c19474fcf571095ea8a">ast_spinlock_t</a> *<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)</td></tr>
<tr class="memdesc:a3198552475e7a057af03f7e45800d19a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to lock a spin lock.  <a href="#a3198552475e7a057af03f7e45800d19a">More...</a><br /></td></tr>
<tr class="separator:a3198552475e7a057af03f7e45800d19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8902c0918a220798fe523f2c2eb1353c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d63/spinlock_8h.html#a8902c0918a220798fe523f2c2eb1353c">ast_spinlock_unlock</a> (<a class="el" href="../../df/d63/spinlock_8h.html#a945dfefa70e53c19474fcf571095ea8a">ast_spinlock_t</a> *<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)</td></tr>
<tr class="memdesc:a8902c0918a220798fe523f2c2eb1353c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock a spin lock.  <a href="#a8902c0918a220798fe523f2c2eb1353c">More...</a><br /></td></tr>
<tr class="separator:a8902c0918a220798fe523f2c2eb1353c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Spin Locks. </p>
<p>In some atomic operation circumstances the __atomic calls are not quite flexible enough but a full fledged mutex or rwlock is too expensive.</p>
<p>Spin locks should be used only for protecting short blocks of critical code such as simple compares and assignments. Operations that may block, hold a lock, or cause the thread to give up it's timeslice should NEVER be attempted in a spin lock.</p>
<p>Because spinlocks must be as lightweight as possible, there are no recursion or deadlock checks. </p>

<p class="definition">Definition in file <a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a570a105d98efeaeff18707e9de620a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a570a105d98efeaeff18707e9de620a8f">&#9670;&nbsp;</a></span>AST_SPINLOCK_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_SPINLOCK_TYPE&#160;&#160;&#160;<a class="el" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a082137f46b89f5b02eaa4ab76537c181">AST_SPINLOCK_TYPE_PTHREAD_MUTEX</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation using GCC Atomics. </p>
<p>Specifically, __sync_lock_test_and_set is used to atomically set/unset the lock variable.</p>
<p>Most recent gcc implementations support this method and it's performance is equal to or better than the assembly implementations hence it is the most preferred implementation on all platforms.</p>
<p>Implementation using x86 Assembly</p>
<p>For x86 implementations that don't support gcc atomics, this is the next best method.</p>
<p>Implementation using ARM Assembly</p>
<p>For ARM implementations that don't support gcc atomics, this is the next best method.</p>
<p>Implementation using Sparc Assembly</p>
<p>For Sparc implementations that don't support gcc atomics, this is the next best method.</p>
<p>Implementation using pthread_spinlock</p>
<p>pthread_spinlocks are not supported on all platforms but if for some reason none of the previous implementations are available, it can be used with reasonable performance.</p>
<p>Implementation using OSX Atomics</p>
<p>The Darwin/Mac OSX platform has its own atomics implementation but it uses more kernel time than GCC atomics and x86 assembly. It is included as an unlikely fallback.</p>
<p>Implementation using pthread_mutex</p>
<p>pthread_mutex is supported on all platforms but it is also the worst performing. It is included as an unlikely fallback. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d63/spinlock_8h_source.html#l00405">405</a> of file <a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>.</p>

</div>
</div>
<a id="a43e0af71c6c5e353f0f0dc33b8a4b986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43e0af71c6c5e353f0f0dc33b8a4b986">&#9670;&nbsp;</a></span>AST_SPINLOCK_TYPE_LABEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_SPINLOCK_TYPE_LABEL&#160;&#160;&#160;&quot;pthread_mutex&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d63/spinlock_8h_source.html#l00406">406</a> of file <a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a945dfefa70e53c19474fcf571095ea8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a945dfefa70e53c19474fcf571095ea8a">&#9670;&nbsp;</a></span>ast_spinlock_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d4/dc5/extconf_8c.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a> <a class="el" href="../../df/d63/spinlock_8h.html#a945dfefa70e53c19474fcf571095ea8a">ast_spinlock_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d63/spinlock_8h_source.html#l00407">407</a> of file <a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aad98c683fc79f2f03c33675dc744b423"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad98c683fc79f2f03c33675dc744b423">&#9670;&nbsp;</a></span>ast_spinlock_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423">ast_spinlock_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Spinlock Implementation Types. </p>
<p>Not all implementations will be available on all platforms. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aad98c683fc79f2f03c33675dc744b423a521ea76f029e6278e1b0797ece054154"></a>AST_SPINLOCK_TYPE_GCC_ATOMICS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aad98c683fc79f2f03c33675dc744b423a4c2187cc56534bda94e899bf76875582"></a>AST_SPINLOCK_TYPE_GAS_X86&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aad98c683fc79f2f03c33675dc744b423a7463aa529412137c6a598befefa5b6fc"></a>AST_SPINLOCK_TYPE_GAS_ARM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aad98c683fc79f2f03c33675dc744b423a2cdb54fad7e5fd09dba5e788f0c6dd44"></a>AST_SPINLOCK_TYPE_GAS_SPARC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aad98c683fc79f2f03c33675dc744b423a0c315184b5639e5f9d4e6475baa93eef"></a>AST_SPINLOCK_TYPE_OSX_ATOMICS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aad98c683fc79f2f03c33675dc744b423a64152e6f8353a55ead1a453f92b48ea9"></a>AST_SPINLOCK_TYPE_PTHREAD_SPINLOCK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aad98c683fc79f2f03c33675dc744b423a082137f46b89f5b02eaa4ab76537c181"></a>AST_SPINLOCK_TYPE_PTHREAD_MUTEX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../df/d63/spinlock_8h_source.html#l00047">47</a> of file <a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                       {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;   <a class="code" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a521ea76f029e6278e1b0797ece054154">AST_SPINLOCK_TYPE_GCC_ATOMICS</a>,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   <a class="code" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a4c2187cc56534bda94e899bf76875582">AST_SPINLOCK_TYPE_GAS_X86</a>,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;   <a class="code" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a7463aa529412137c6a598befefa5b6fc">AST_SPINLOCK_TYPE_GAS_ARM</a>,</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   <a class="code" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a2cdb54fad7e5fd09dba5e788f0c6dd44">AST_SPINLOCK_TYPE_GAS_SPARC</a>,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   <a class="code" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a0c315184b5639e5f9d4e6475baa93eef">AST_SPINLOCK_TYPE_OSX_ATOMICS</a>,</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   <a class="code" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a64152e6f8353a55ead1a453f92b48ea9">AST_SPINLOCK_TYPE_PTHREAD_SPINLOCK</a>,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;   <a class="code" href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a082137f46b89f5b02eaa4ab76537c181">AST_SPINLOCK_TYPE_PTHREAD_MUTEX</a>,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;};</div><div class="ttc" id="spinlock_8h_html_aad98c683fc79f2f03c33675dc744b423a7463aa529412137c6a598befefa5b6fc"><div class="ttname"><a href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a7463aa529412137c6a598befefa5b6fc">AST_SPINLOCK_TYPE_GAS_ARM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d63/spinlock_8h_source.html#l00050">spinlock.h:50</a></div></div>
<div class="ttc" id="spinlock_8h_html_aad98c683fc79f2f03c33675dc744b423a4c2187cc56534bda94e899bf76875582"><div class="ttname"><a href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a4c2187cc56534bda94e899bf76875582">AST_SPINLOCK_TYPE_GAS_X86</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d63/spinlock_8h_source.html#l00049">spinlock.h:49</a></div></div>
<div class="ttc" id="spinlock_8h_html_aad98c683fc79f2f03c33675dc744b423a64152e6f8353a55ead1a453f92b48ea9"><div class="ttname"><a href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a64152e6f8353a55ead1a453f92b48ea9">AST_SPINLOCK_TYPE_PTHREAD_SPINLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d63/spinlock_8h_source.html#l00053">spinlock.h:53</a></div></div>
<div class="ttc" id="spinlock_8h_html_aad98c683fc79f2f03c33675dc744b423a521ea76f029e6278e1b0797ece054154"><div class="ttname"><a href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a521ea76f029e6278e1b0797ece054154">AST_SPINLOCK_TYPE_GCC_ATOMICS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d63/spinlock_8h_source.html#l00048">spinlock.h:48</a></div></div>
<div class="ttc" id="spinlock_8h_html_aad98c683fc79f2f03c33675dc744b423a0c315184b5639e5f9d4e6475baa93eef"><div class="ttname"><a href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a0c315184b5639e5f9d4e6475baa93eef">AST_SPINLOCK_TYPE_OSX_ATOMICS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d63/spinlock_8h_source.html#l00052">spinlock.h:52</a></div></div>
<div class="ttc" id="spinlock_8h_html_aad98c683fc79f2f03c33675dc744b423a082137f46b89f5b02eaa4ab76537c181"><div class="ttname"><a href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a082137f46b89f5b02eaa4ab76537c181">AST_SPINLOCK_TYPE_PTHREAD_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d63/spinlock_8h_source.html#l00054">spinlock.h:54</a></div></div>
<div class="ttc" id="spinlock_8h_html_aad98c683fc79f2f03c33675dc744b423a2cdb54fad7e5fd09dba5e788f0c6dd44"><div class="ttname"><a href="../../df/d63/spinlock_8h.html#aad98c683fc79f2f03c33675dc744b423a2cdb54fad7e5fd09dba5e788f0c6dd44">AST_SPINLOCK_TYPE_GAS_SPARC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d63/spinlock_8h_source.html#l00051">spinlock.h:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa587664c05815961a2f4177a27705d00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa587664c05815961a2f4177a27705d00">&#9670;&nbsp;</a></span>ast_spinlock_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> int ast_spinlock_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d63/spinlock_8h.html#a945dfefa70e53c19474fcf571095ea8a">ast_spinlock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy a spin lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>Address of the lock </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">other</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d63/spinlock_8h_source.html#l00430">430</a> of file <a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>.</p>

<p class="reference">References <a class="el" href="../../df/d63/spinlock_8h_source.html#l00409">ast_spinlock_init()</a>, <a class="el" href="../../df/d63/spinlock_8h_source.html#l00415">ast_spinlock_lock()</a>, <a class="el" href="../../df/d63/spinlock_8h_source.html#l00420">ast_spinlock_trylock()</a>, <a class="el" href="../../df/d63/spinlock_8h_source.html#l00425">ast_spinlock_unlock()</a>, <a class="el" href="../../d4/dd1/compiler_8h_source.html#l00029">force_inline</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00627">pthread_mutex_destroy</a>.</p>
<div class="fragment"><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;{</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#abda856b9d567d956a04e1dd3139acc40">pthread_mutex_destroy</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;}</div><div class="ttc" id="lock_8h_html_abda856b9d567d956a04e1dd3139acc40"><div class="ttname"><a href="../../dd/d42/lock_8h.html#abda856b9d567d956a04e1dd3139acc40">pthread_mutex_destroy</a></div><div class="ttdeci">#define pthread_mutex_destroy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00627">lock.h:627</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac02ec2ca08a958711b8716e87df230ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac02ec2ca08a958711b8716e87df230ef">&#9670;&nbsp;</a></span>ast_spinlock_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> int ast_spinlock_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d63/spinlock_8h.html#a945dfefa70e53c19474fcf571095ea8a">ast_spinlock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize a spin lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>Address of the lock </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">other</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d63/spinlock_8h_source.html#l00409">409</a> of file <a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00626">pthread_mutex_init</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d63/spinlock_8h_source.html#l00430">ast_spinlock_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ad7693eb0c23d9649f82992b785ddbe4e">pthread_mutex_init</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div><div class="ttc" id="lock_8h_html_ad7693eb0c23d9649f82992b785ddbe4e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ad7693eb0c23d9649f82992b785ddbe4e">pthread_mutex_init</a></div><div class="ttdeci">#define pthread_mutex_init</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00626">lock.h:626</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a207f1d1b4ff5be0d06ca2d2d5f8e965d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a207f1d1b4ff5be0d06ca2d2d5f8e965d">&#9670;&nbsp;</a></span>ast_spinlock_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> int ast_spinlock_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d63/spinlock_8h.html#a945dfefa70e53c19474fcf571095ea8a">ast_spinlock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock a spin lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>Address of the lock </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">other</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d63/spinlock_8h_source.html#l00415">415</a> of file <a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">pthread_mutex_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d63/spinlock_8h_source.html#l00430">ast_spinlock_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;{</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div><div class="ttc" id="lock_8h_html_a6ef26f63d38c1d8cdf05a15b6b368c24"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a></div><div class="ttdeci">#define pthread_mutex_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00623">lock.h:623</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3198552475e7a057af03f7e45800d19a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3198552475e7a057af03f7e45800d19a">&#9670;&nbsp;</a></span>ast_spinlock_trylock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> int ast_spinlock_trylock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d63/spinlock_8h.html#a945dfefa70e53c19474fcf571095ea8a">ast_spinlock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to lock a spin lock. </p>
<p>Attempt to gain a lock. Return immediately regardless of result.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>Address of the lock </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">other</td><td>Lock was not obtained </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d63/spinlock_8h_source.html#l00420">420</a> of file <a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00625">pthread_mutex_trylock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d63/spinlock_8h_source.html#l00430">ast_spinlock_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;{</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#a482c9379812cdb921e5876b3d5061449">pthread_mutex_trylock</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div><div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a482c9379812cdb921e5876b3d5061449"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a482c9379812cdb921e5876b3d5061449">pthread_mutex_trylock</a></div><div class="ttdeci">#define pthread_mutex_trylock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00625">lock.h:625</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8902c0918a220798fe523f2c2eb1353c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8902c0918a220798fe523f2c2eb1353c">&#9670;&nbsp;</a></span>ast_spinlock_unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> int ast_spinlock_unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d63/spinlock_8h.html#a945dfefa70e53c19474fcf571095ea8a">ast_spinlock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unlock a spin lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>Address of the lock </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">other</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d63/spinlock_8h_source.html#l00425">425</a> of file <a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d63/spinlock_8h_source.html#l00430">ast_spinlock_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div><div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_ab417dd049910b852a43732c15e8dcaf2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a></div><div class="ttdeci">#define pthread_mutex_unlock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00624">lock.h:624</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:48 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
