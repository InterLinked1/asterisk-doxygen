<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: hashtab.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">hashtab.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>code to implement generic hash tables  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html">asterisk/frame.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d45/term_8h_source.html">asterisk/term.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d7d/threadstorage_8h_source.html">asterisk/threadstorage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d90/linkedlists_8h_source.html">asterisk/linkedlists.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/da0/hashtab_8h_source.html">asterisk/hashtab.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for hashtab.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dc1/hashtab_8c__incl.png" border="0" usemap="#hashtab_8c" alt=""/></div>
<map name="hashtab_8c" id="hashtab_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="70,229,154,256"/>
<area shape="rect" id="node16" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1554,528,1668,555"/>
<area shape="rect" id="node25" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="512,229,638,256"/>
<area shape="rect" id="node28" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1228,453,1378,480"/>
<area shape="rect" id="node29" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1354,80,1492,107"/>
<area shape="rect" id="node31" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1878,229,1992,256"/>
<area shape="rect" id="node34" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="2011,379,2190,405"/>
<area shape="rect" id="node48" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="2284,229,2386,256"/>
<area shape="rect" id="node49" href="../../db/d45/term_8h.html" title="Handy terminal functions for vt* terms. " alt="" coords="2613,80,2732,107"/>
<area shape="rect" id="node50" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="1064,453,1204,480"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1076,677,1231,704"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="902,453,1040,480"/>
<area shape="rect" id="node14" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="118,304,253,331"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="1080,752,1227,779"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="865,603,1008,629"/>
<area shape="rect" id="node18" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1721,603,1784,629"/>
<area shape="rect" id="node20" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="2027,677,2174,704"/>
<area shape="rect" id="node23" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="1546,603,1697,629"/>
<area shape="rect" id="node24" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1860,603,1986,629"/>
<area shape="rect" id="node26" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="379,304,510,331"/>
<area shape="rect" id="node27" href="../../d1/d84/endian_8h.html" title="Asterisk architecture endianess compatibility definitions. " alt="" coords="584,304,715,331"/>
<area shape="rect" id="node30" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1863,155,2007,181"/>
<area shape="rect" id="node32" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2228,304,2386,331"/>
<area shape="rect" id="node35" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1598,379,1733,405"/>
<area shape="rect" id="node36" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="329,229,488,256"/>
<area shape="rect" id="node37" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="678,155,842,181"/>
<area shape="rect" id="node38" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="1099,379,1246,405"/>
<area shape="rect" id="node39" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="2082,155,2209,181"/>
<area shape="rect" id="node40" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="867,155,974,181"/>
<area shape="rect" id="node41" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1321,379,1472,405"/>
<area shape="rect" id="node42" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="998,155,1160,181"/>
<area shape="rect" id="node43" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="59,155,230,181"/>
<area shape="rect" id="node44" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="254,155,370,181"/>
<area shape="rect" id="node45" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="496,155,654,181"/>
<area shape="rect" id="node46" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1663,155,1788,181"/>
<area shape="rect" id="node47" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1184,155,1334,181"/>
<area shape="rect" id="node33" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="2023,304,2154,331"/>
</map>
</div>
</div>
<p><a href="../../df/d35/hashtab_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac5ab16a11881f6dab61516c77720d546"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#ac5ab16a11881f6dab61516c77720d546">ast_hashtab_resize</a>(tab)&#160;&#160;&#160;<a class="el" href="../../df/d35/hashtab_8c.html#a92f47a8b3d4b16e6a470d1da23d6d93e">_ast_hashtab_resize</a>(tab, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td></tr>
<tr class="separator:ac5ab16a11881f6dab61516c77720d546"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afb11bdd8c5241a50ce9973608098982a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#afb11bdd8c5241a50ce9973608098982a">_ast_hashtab_create</a> (int initial_buckets, int(*<a class="el" href="../../d0/de2/app__directory_8c.html#adf773af7f5d8ca288a3a68fc3659d95c">compare</a>)(const void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, const void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>), int(*resize)(struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *), int(*newsize)(struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab), unsigned int(*hash)(const void *obj), int do_locking, const char *file, int lineno, const char *function)</td></tr>
<tr class="memdesc:afb11bdd8c5241a50ce9973608098982a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the hashtable list.  <a href="#afb11bdd8c5241a50ce9973608098982a">More...</a><br /></td></tr>
<tr class="separator:afb11bdd8c5241a50ce9973608098982a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1a8cf6abecbdc4737182d87204af0aa"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#ae1a8cf6abecbdc4737182d87204af0aa">_ast_hashtab_dup</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, void *(*obj_dup_func)(const void *obj), const char *file, int lineno, const char *func)</td></tr>
<tr class="memdesc:ae1a8cf6abecbdc4737182d87204af0aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a copy of the hash table.  <a href="#ae1a8cf6abecbdc4737182d87204af0aa">More...</a><br /></td></tr>
<tr class="separator:ae1a8cf6abecbdc4737182d87204af0aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad96aa428d1485941c25ffb384f2310ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#ad96aa428d1485941c25ffb384f2310ae">_ast_hashtab_insert_immediate</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, const void *obj, const char *file, int lineno, const char *func)</td></tr>
<tr class="memdesc:ad96aa428d1485941c25ffb384f2310ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert without checking.  <a href="#ad96aa428d1485941c25ffb384f2310ae">More...</a><br /></td></tr>
<tr class="separator:ad96aa428d1485941c25ffb384f2310ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a994331250f4b5d3c703733d0eb41b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a13a994331250f4b5d3c703733d0eb41b">_ast_hashtab_insert_immediate_bucket</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, const void *obj, unsigned int h, const char *file, int lineno, const char *func)</td></tr>
<tr class="memdesc:a13a994331250f4b5d3c703733d0eb41b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert without checking, hashing or locking.  <a href="#a13a994331250f4b5d3c703733d0eb41b">More...</a><br /></td></tr>
<tr class="separator:a13a994331250f4b5d3c703733d0eb41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d0fa36cf553f74f9c283e93503d9cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a85d0fa36cf553f74f9c283e93503d9cf">_ast_hashtab_insert_safe</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, const void *obj, const char *file, int lineno, const char *func)</td></tr>
<tr class="memdesc:a85d0fa36cf553f74f9c283e93503d9cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check and insert new object only if it is not there.  <a href="#a85d0fa36cf553f74f9c283e93503d9cf">More...</a><br /></td></tr>
<tr class="separator:a85d0fa36cf553f74f9c283e93503d9cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f47a8b3d4b16e6a470d1da23d6d93e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a92f47a8b3d4b16e6a470d1da23d6d93e">_ast_hashtab_resize</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, const char *file, int lineno, const char *func)</td></tr>
<tr class="separator:a92f47a8b3d4b16e6a470d1da23d6d93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf28fefdd187c26f1ce758b412b9b11"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d3/d2e/structast__hashtab__iter.html">ast_hashtab_iter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a1bf28fefdd187c26f1ce758b412b9b11">_ast_hashtab_start_traversal</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, const char *file, int lineno, const char *func)</td></tr>
<tr class="memdesc:a1bf28fefdd187c26f1ce758b412b9b11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives an iterator to hastable.  <a href="#a1bf28fefdd187c26f1ce758b412b9b11">More...</a><br /></td></tr>
<tr class="separator:a1bf28fefdd187c26f1ce758b412b9b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a772e7fd753628c8fc3fc3be07a03957d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d3/d2e/structast__hashtab__iter.html">ast_hashtab_iter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a772e7fd753628c8fc3fc3be07a03957d">_ast_hashtab_start_write_traversal</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, const char *file, int lineno, const char *func)</td></tr>
<tr class="memdesc:a772e7fd753628c8fc3fc3be07a03957d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives an iterator to hastable.  <a href="#a772e7fd753628c8fc3fc3be07a03957d">More...</a><br /></td></tr>
<tr class="separator:a772e7fd753628c8fc3fc3be07a03957d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2042c599c685acc02d267e9a4c906af"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#af2042c599c685acc02d267e9a4c906af">ast_hashtab_capacity</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="memdesc:af2042c599c685acc02d267e9a4c906af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the bucket array in the hashtab.  <a href="#af2042c599c685acc02d267e9a4c906af">More...</a><br /></td></tr>
<tr class="separator:af2042c599c685acc02d267e9a4c906af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d02fdad6e9d1d15946a028a52851f2b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a5d02fdad6e9d1d15946a028a52851f2b">ast_hashtab_compare_ints</a> (const void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, const void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td></tr>
<tr class="memdesc:a5d02fdad6e9d1d15946a028a52851f2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two integers for equality.  <a href="#a5d02fdad6e9d1d15946a028a52851f2b">More...</a><br /></td></tr>
<tr class="separator:a5d02fdad6e9d1d15946a028a52851f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae179496ae1f9bbfd5608faa4a8d53310"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#ae179496ae1f9bbfd5608faa4a8d53310">ast_hashtab_compare_shorts</a> (const void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, const void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td></tr>
<tr class="memdesc:ae179496ae1f9bbfd5608faa4a8d53310"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two shorts for equality.  <a href="#ae179496ae1f9bbfd5608faa4a8d53310">More...</a><br /></td></tr>
<tr class="separator:ae179496ae1f9bbfd5608faa4a8d53310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ab6cf47bb9ae77f1c2db2b515c1628"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a86ab6cf47bb9ae77f1c2db2b515c1628">ast_hashtab_compare_strings</a> (const void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, const void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td></tr>
<tr class="memdesc:a86ab6cf47bb9ae77f1c2db2b515c1628"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two strings for equality.  <a href="#a86ab6cf47bb9ae77f1c2db2b515c1628">More...</a><br /></td></tr>
<tr class="separator:a86ab6cf47bb9ae77f1c2db2b515c1628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a944f4df390d07aead023abdcf4b7fc2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a944f4df390d07aead023abdcf4b7fc2e">ast_hashtab_compare_strings_nocase</a> (const void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, const void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td></tr>
<tr class="memdesc:a944f4df390d07aead023abdcf4b7fc2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two strings for equality, ignoring case.  <a href="#a944f4df390d07aead023abdcf4b7fc2e">More...</a><br /></td></tr>
<tr class="separator:a944f4df390d07aead023abdcf4b7fc2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6103589badf8d9440a0cece2802c4c3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a6103589badf8d9440a0cece2802c4c3a">ast_hashtab_destroy</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, void(*objdestroyfunc)(void *obj))</td></tr>
<tr class="memdesc:a6103589badf8d9440a0cece2802c4c3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This func will free the hash table and all its memory.  <a href="#a6103589badf8d9440a0cece2802c4c3a">More...</a><br /></td></tr>
<tr class="separator:a6103589badf8d9440a0cece2802c4c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d63b8b43b3d64700f5e4224c9a707d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a2d63b8b43b3d64700f5e4224c9a707d3">ast_hashtab_destroylock</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="memdesc:a2d63b8b43b3d64700f5e4224c9a707d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this before you destroy the table.  <a href="#a2d63b8b43b3d64700f5e4224c9a707d3">More...</a><br /></td></tr>
<tr class="separator:a2d63b8b43b3d64700f5e4224c9a707d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c804e9bfc8355c25197187f0c6d0265"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a9c804e9bfc8355c25197187f0c6d0265">ast_hashtab_end_traversal</a> (struct <a class="el" href="../../d3/d2e/structast__hashtab__iter.html">ast_hashtab_iter</a> *it)</td></tr>
<tr class="memdesc:a9c804e9bfc8355c25197187f0c6d0265"><td class="mdescLeft">&#160;</td><td class="mdescRight">end the traversal, free the iterator, unlock if necc.  <a href="#a9c804e9bfc8355c25197187f0c6d0265">More...</a><br /></td></tr>
<tr class="separator:a9c804e9bfc8355c25197187f0c6d0265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52333d2a29053dce852f8a2d35ca421"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#ae52333d2a29053dce852f8a2d35ca421">ast_hashtab_get_stats</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, int *biggest_bucket_size, int *resize_count, int *num_objects, int *num_buckets)</td></tr>
<tr class="memdesc:ae52333d2a29053dce852f8a2d35ca421"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns key stats for the table.  <a href="#ae52333d2a29053dce852f8a2d35ca421">More...</a><br /></td></tr>
<tr class="separator:ae52333d2a29053dce852f8a2d35ca421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde347625b8fa97770889dbfca223f05"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#afde347625b8fa97770889dbfca223f05">ast_hashtab_hash_int</a> (const int x)</td></tr>
<tr class="separator:afde347625b8fa97770889dbfca223f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929b126fcbea935302155c72313bf645"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a929b126fcbea935302155c72313bf645">ast_hashtab_hash_short</a> (const short x)</td></tr>
<tr class="separator:a929b126fcbea935302155c72313bf645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8904cce564fd39de28b566bb8c261eb"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#af8904cce564fd39de28b566bb8c261eb">ast_hashtab_hash_string</a> (const void *obj)</td></tr>
<tr class="memdesc:af8904cce564fd39de28b566bb8c261eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hashes a string to a number.  <a href="#af8904cce564fd39de28b566bb8c261eb">More...</a><br /></td></tr>
<tr class="separator:af8904cce564fd39de28b566bb8c261eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09610a365395d3d7b1a8ce18fc6e5b2c"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a09610a365395d3d7b1a8ce18fc6e5b2c">ast_hashtab_hash_string_nocase</a> (const void *obj)</td></tr>
<tr class="memdesc:a09610a365395d3d7b1a8ce18fc6e5b2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hashes a string to a number ignoring case.  <a href="#a09610a365395d3d7b1a8ce18fc6e5b2c">More...</a><br /></td></tr>
<tr class="separator:a09610a365395d3d7b1a8ce18fc6e5b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab39dc11651e79b5ac59e15a1be73e81f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#ab39dc11651e79b5ac59e15a1be73e81f">ast_hashtab_hash_string_sax</a> (const void *obj)</td></tr>
<tr class="memdesc:ab39dc11651e79b5ac59e15a1be73e81f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hashes a string to a number using a modified Shift-And-XOR algorithm.  <a href="#ab39dc11651e79b5ac59e15a1be73e81f">More...</a><br /></td></tr>
<tr class="separator:ab39dc11651e79b5ac59e15a1be73e81f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f5e362aad984cbed2a1ece67717869"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#af8f5e362aad984cbed2a1ece67717869">ast_hashtab_initlock</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="memdesc:af8f5e362aad984cbed2a1ece67717869"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this after you create the table to init the lock.  <a href="#af8f5e362aad984cbed2a1ece67717869">More...</a><br /></td></tr>
<tr class="separator:af8f5e362aad984cbed2a1ece67717869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b1f7bc201afd020f6270378173bb79"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a78b1f7bc201afd020f6270378173bb79">ast_hashtab_lookup</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, const void *obj)</td></tr>
<tr class="memdesc:a78b1f7bc201afd020f6270378173bb79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup this object in the hash table.  <a href="#a78b1f7bc201afd020f6270378173bb79">More...</a><br /></td></tr>
<tr class="separator:a78b1f7bc201afd020f6270378173bb79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af629a9b97b7c185c9f0d691088e24fe9"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#af629a9b97b7c185c9f0d691088e24fe9">ast_hashtab_lookup_bucket</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, const void *obj, unsigned int *bucket)</td></tr>
<tr class="memdesc:af629a9b97b7c185c9f0d691088e24fe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to ast_hashtab_lookup but sets h to the key hash value if the lookup fails.  <a href="#af629a9b97b7c185c9f0d691088e24fe9">More...</a><br /></td></tr>
<tr class="separator:af629a9b97b7c185c9f0d691088e24fe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8bea126883ca6d3df972eb50110933a"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#aa8bea126883ca6d3df972eb50110933a">ast_hashtab_lookup_internal</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, const void *obj, unsigned int h)</td></tr>
<tr class="separator:aa8bea126883ca6d3df972eb50110933a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55e8dcfd056731bcdf275dee3dbad20"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#ad55e8dcfd056731bcdf275dee3dbad20">ast_hashtab_lookup_with_hash</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, const void *obj, unsigned int hashval)</td></tr>
<tr class="memdesc:ad55e8dcfd056731bcdf275dee3dbad20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this if have the hash val for the object.  <a href="#ad55e8dcfd056731bcdf275dee3dbad20">More...</a><br /></td></tr>
<tr class="separator:ad55e8dcfd056731bcdf275dee3dbad20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a743bfd52a8c9eb5d939ff5944758d846"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a743bfd52a8c9eb5d939ff5944758d846">ast_hashtab_newsize_java</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="memdesc:a743bfd52a8c9eb5d939ff5944758d846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a prime number roughly 2x the current table size.  <a href="#a743bfd52a8c9eb5d939ff5944758d846">More...</a><br /></td></tr>
<tr class="separator:a743bfd52a8c9eb5d939ff5944758d846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c96afbac0ae8e85362cf5d64f05d350"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a9c96afbac0ae8e85362cf5d64f05d350">ast_hashtab_newsize_none</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="memdesc:a9c96afbac0ae8e85362cf5d64f05d350"><td class="mdescLeft">&#160;</td><td class="mdescRight">always return current size &ndash; no resizing  <a href="#a9c96afbac0ae8e85362cf5d64f05d350">More...</a><br /></td></tr>
<tr class="separator:a9c96afbac0ae8e85362cf5d64f05d350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7c44d4b109e42af1ad35c72979af131"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#ac7c44d4b109e42af1ad35c72979af131">ast_hashtab_newsize_tight</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="separator:ac7c44d4b109e42af1ad35c72979af131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43983b6169e9a0f9af48cca5cf9d3197"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a43983b6169e9a0f9af48cca5cf9d3197">ast_hashtab_next</a> (struct <a class="el" href="../../d3/d2e/structast__hashtab__iter.html">ast_hashtab_iter</a> *it)</td></tr>
<tr class="memdesc:a43983b6169e9a0f9af48cca5cf9d3197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the next object in the list, advances iter one step returns null on end of traversal.  <a href="#a43983b6169e9a0f9af48cca5cf9d3197">More...</a><br /></td></tr>
<tr class="separator:a43983b6169e9a0f9af48cca5cf9d3197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56846aff6af7e13e3cffc9d21594fb40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a56846aff6af7e13e3cffc9d21594fb40">ast_hashtab_rdlock</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="memdesc:a56846aff6af7e13e3cffc9d21594fb40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a read-lock on the table &ndash; don't change anything!  <a href="#a56846aff6af7e13e3cffc9d21594fb40">More...</a><br /></td></tr>
<tr class="separator:a56846aff6af7e13e3cffc9d21594fb40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86729040ecad330864abfa0e2b2c0af1"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a86729040ecad330864abfa0e2b2c0af1">ast_hashtab_remove_object_internal</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, struct <a class="el" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>, int h)</td></tr>
<tr class="separator:a86729040ecad330864abfa0e2b2c0af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a313b62d20344c2c85461dd4ed893017c"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a313b62d20344c2c85461dd4ed893017c">ast_hashtab_remove_object_via_lookup</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, void *obj)</td></tr>
<tr class="memdesc:a313b62d20344c2c85461dd4ed893017c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks up the object, removes the corresponding bucket.  <a href="#a313b62d20344c2c85461dd4ed893017c">More...</a><br /></td></tr>
<tr class="separator:a313b62d20344c2c85461dd4ed893017c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ee24c838111389b9781324364f8c00"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#ad7ee24c838111389b9781324364f8c00">ast_hashtab_remove_object_via_lookup_nolock</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, void *obj)</td></tr>
<tr class="memdesc:ad7ee24c838111389b9781324364f8c00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks up the object, removes the corresponding bucket.  <a href="#ad7ee24c838111389b9781324364f8c00">More...</a><br /></td></tr>
<tr class="separator:ad7ee24c838111389b9781324364f8c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71bd19ff2f6fad1cf5e01f9b8cad6f66"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a71bd19ff2f6fad1cf5e01f9b8cad6f66">ast_hashtab_remove_this_object</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, void *obj)</td></tr>
<tr class="memdesc:a71bd19ff2f6fad1cf5e01f9b8cad6f66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hash the object and then compare ptrs in bucket list instead of calling the compare routine, will remove the bucket.  <a href="#a71bd19ff2f6fad1cf5e01f9b8cad6f66">More...</a><br /></td></tr>
<tr class="separator:a71bd19ff2f6fad1cf5e01f9b8cad6f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ca6365402722ebda78f20c9245b1fe"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#ae9ca6365402722ebda78f20c9245b1fe">ast_hashtab_remove_this_object_nolock</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab, void *obj)</td></tr>
<tr class="memdesc:ae9ca6365402722ebda78f20c9245b1fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hash the object and then compare ptrs in bucket list instead of calling the compare routine, will remove the bucket.  <a href="#ae9ca6365402722ebda78f20c9245b1fe">More...</a><br /></td></tr>
<tr class="separator:ae9ca6365402722ebda78f20c9245b1fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef63906caa0b965e9c8d8561600038e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#aef63906caa0b965e9c8d8561600038e9">ast_hashtab_resize_java</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="memdesc:aef63906caa0b965e9c8d8561600038e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if a table resize should occur using the Java algorithm (if the table load factor is 75% or higher).  <a href="#aef63906caa0b965e9c8d8561600038e9">More...</a><br /></td></tr>
<tr class="separator:aef63906caa0b965e9c8d8561600038e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b890f1277ab38f3b14b4fab1e311d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#af9b890f1277ab38f3b14b4fab1e311d3">ast_hashtab_resize_none</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="memdesc:af9b890f1277ab38f3b14b4fab1e311d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Effectively disables resizing by always returning 0, regardless of of load factor.  <a href="#af9b890f1277ab38f3b14b4fab1e311d3">More...</a><br /></td></tr>
<tr class="separator:af9b890f1277ab38f3b14b4fab1e311d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1c8c01df7f3a22daaf5b220dbd6eb5c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#ad1c8c01df7f3a22daaf5b220dbd6eb5c">ast_hashtab_resize_tight</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="memdesc:ad1c8c01df7f3a22daaf5b220dbd6eb5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Causes a resize whenever the number of elements stored in the table exceeds the number of buckets in the table.  <a href="#ad1c8c01df7f3a22daaf5b220dbd6eb5c">More...</a><br /></td></tr>
<tr class="separator:ad1c8c01df7f3a22daaf5b220dbd6eb5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3452d3a8bca5b4f2611bb96b7a44f31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#ac3452d3a8bca5b4f2611bb96b7a44f31">ast_hashtab_size</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="memdesc:ac3452d3a8bca5b4f2611bb96b7a44f31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of elements stored in the hashtab.  <a href="#ac3452d3a8bca5b4f2611bb96b7a44f31">More...</a><br /></td></tr>
<tr class="separator:ac3452d3a8bca5b4f2611bb96b7a44f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0075220de774384c45e3cf3906d51110"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a0075220de774384c45e3cf3906d51110">ast_hashtab_unlock</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="memdesc:a0075220de774384c45e3cf3906d51110"><td class="mdescLeft">&#160;</td><td class="mdescRight">release a read- or write- lock.  <a href="#a0075220de774384c45e3cf3906d51110">More...</a><br /></td></tr>
<tr class="separator:a0075220de774384c45e3cf3906d51110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2afda46f84d0aec79d91155b6981800a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a2afda46f84d0aec79d91155b6981800a">ast_hashtab_wrlock</a> (struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)</td></tr>
<tr class="memdesc:a2afda46f84d0aec79d91155b6981800a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a write-lock on the table.  <a href="#a2afda46f84d0aec79d91155b6981800a">More...</a><br /></td></tr>
<tr class="separator:a2afda46f84d0aec79d91155b6981800a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a1018cc569eb65a6b29fab0a8481c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a76a1018cc569eb65a6b29fab0a8481c1">ast_is_prime</a> (int num)</td></tr>
<tr class="memdesc:a76a1018cc569eb65a6b29fab0a8481c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if the specified number is prime.  <a href="#a76a1018cc569eb65a6b29fab0a8481c1">More...</a><br /></td></tr>
<tr class="separator:a76a1018cc569eb65a6b29fab0a8481c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a70cc0111c648216070a8415fe6d133"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#a0a70cc0111c648216070a8415fe6d133">tlist_add_head</a> (struct <a class="el" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> **head, struct <a class="el" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *<a class="el" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>)</td></tr>
<tr class="separator:a0a70cc0111c648216070a8415fe6d133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea5c0d1395a2a9a8e5287a37b0b8c7c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d35/hashtab_8c.html#acea5c0d1395a2a9a8e5287a37b0b8c7c">tlist_del_item</a> (struct <a class="el" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> **head, struct <a class="el" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *<a class="el" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>)</td></tr>
<tr class="separator:acea5c0d1395a2a9a8e5287a37b0b8c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>code to implement generic hash tables </p>
<dl class="section author"><dt>Author</dt><dd>Steve Murphy <a href="#" onclick="location.href='mai'+'lto:'+'mur'+'f@'+'dig'+'iu'+'m.c'+'om'; return false;">murf@<span style="display: none;">.nosp@m.</span>digi<span style="display: none;">.nosp@m.</span>um.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ac5ab16a11881f6dab61516c77720d546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5ab16a11881f6dab61516c77720d546">&#9670;&nbsp;</a></span>ast_hashtab_resize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_hashtab_resize</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tab</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../df/d35/hashtab_8c.html#a92f47a8b3d4b16e6a470d1da23d6d93e">_ast_hashtab_resize</a>(tab, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00045">45</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00425">_ast_hashtab_insert_immediate_bucket()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="afb11bdd8c5241a50ce9973608098982a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb11bdd8c5241a50ce9973608098982a">&#9670;&nbsp;</a></span>_ast_hashtab_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a>* _ast_hashtab_create </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>initial_buckets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(const void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, const void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)&#160;</td>
          <td class="paramname"><em>compare</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *)&#160;</td>
          <td class="paramname"><em>resize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *tab)&#160;</td>
          <td class="paramname"><em>newsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int(*)(const void *obj)&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>do_locking</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the hashtable list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initial_buckets</td><td>starting number of buckets </td></tr>
    <tr><td class="paramname">compare</td><td>a func ptr to compare two elements in the hash &ndash; cannot be null </td></tr>
    <tr><td class="paramname">resize</td><td>a func ptr to decide if the table needs to be resized, a NULL ptr here will cause a default to be used </td></tr>
    <tr><td class="paramname">newsize</td><td>a func ptr that returns a new size of the array. A NULL will cause a default to be used </td></tr>
    <tr><td class="paramname">hash</td><td>a func ptr to do the hashing </td></tr>
    <tr><td class="paramname">do_locking</td><td>use locks to guarantee safety of iterators/insertion/deletion &ndash; real simpleminded right now </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00216">216</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/db0/astmm_8c_source.html#l01635">__ast_calloc()</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00085">ast_hashtab::array</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00127">ast_hashtab_newsize_java()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00084">ast_hashtab_resize_java()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00101">ast_is_prime()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00222">ast_rwlock_init</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00088">ast_hashtab::compare</a>, <a class="el" href="../../d0/de2/app__directory_8c_source.html#l00188">compare()</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00092">ast_hashtab::hash</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00090">ast_hashtab::newsize</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00091">ast_hashtab::resize</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *ht;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   ht = <a class="code" href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a>(1, <span class="keyword">sizeof</span>(*ht), <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, <span class="keyword">function</span>);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="keywordflow">if</span> (!ht) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="keywordflow">while</span> (!<a class="code" href="../../df/d35/hashtab_8c.html#a76a1018cc569eb65a6b29fab0a8481c1">ast_is_prime</a>(initial_buckets)) <span class="comment">/* make sure this is prime */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      initial_buckets++;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a>(initial_buckets, <span class="keyword">sizeof</span>(*(ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>)),</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, <span class="keyword">function</span>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <span class="keywordflow">if</span> (!ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(ht);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a> = initial_buckets;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a49d687f2b067679439f0de8eeb623ff7">compare</a> = <a class="code" href="../../d0/de2/app__directory_8c.html#adf773af7f5d8ca288a3a68fc3659d95c">compare</a>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a5d5d1eb7a3c6027203c045bd38a3bfbd">resize</a> = <a class="code" href="../../d0/d4a/structast__hashtab.html#a5d5d1eb7a3c6027203c045bd38a3bfbd">resize</a>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a384ddd8946117becc9634a686bce76d3">newsize</a> = <a class="code" href="../../d0/d4a/structast__hashtab.html#a384ddd8946117becc9634a686bce76d3">newsize</a>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">hash</a> = <a class="code" href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">hash</a>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a> = <a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a9b07039db138693d1ebe02c3e99ddcab">ast_rwlock_init</a>(&amp;ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   <span class="keywordflow">if</span> (!ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a5d5d1eb7a3c6027203c045bd38a3bfbd">resize</a>)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a5d5d1eb7a3c6027203c045bd38a3bfbd">resize</a> = <a class="code" href="../../df/d35/hashtab_8c.html#aef63906caa0b965e9c8d8561600038e9">ast_hashtab_resize_java</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <span class="keywordflow">if</span> (!ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a384ddd8946117becc9634a686bce76d3">newsize</a>)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a384ddd8946117becc9634a686bce76d3">newsize</a> = <a class="code" href="../../df/d35/hashtab_8c.html#a743bfd52a8c9eb5d939ff5944758d846">ast_hashtab_newsize_java</a>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <span class="keywordflow">return</span> ht;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div><div class="ttc" id="astmm_8h_html_aacec2637e88f8663d609047874c6661b"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a></div><div class="ttdeci">void * __ast_calloc(size_t nmemb, size_t size, const char *file, int lineno, const char *func) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01635">astmm.c:1635</a></div></div>
<div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="hashtab_8c_html_aef63906caa0b965e9c8d8561600038e9"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#aef63906caa0b965e9c8d8561600038e9">ast_hashtab_resize_java</a></div><div class="ttdeci">int ast_hashtab_resize_java(struct ast_hashtab *tab)</div><div class="ttdoc">Determines if a table resize should occur using the Java algorithm (if the table load factor is 75% o...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00084">hashtab.c:84</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
<div class="ttc" id="hashtab_8c_html_a76a1018cc569eb65a6b29fab0a8481c1"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#a76a1018cc569eb65a6b29fab0a8481c1">ast_is_prime</a></div><div class="ttdeci">int ast_is_prime(int num)</div><div class="ttdoc">Determines if the specified number is prime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00101">hashtab.c:101</a></div></div>
<div class="ttc" id="hashtab_8c_html_a743bfd52a8c9eb5d939ff5944758d846"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#a743bfd52a8c9eb5d939ff5944758d846">ast_hashtab_newsize_java</a></div><div class="ttdeci">int ast_hashtab_newsize_java(struct ast_hashtab *tab)</div><div class="ttdoc">Create a prime number roughly 2x the current table size. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00127">hashtab.c:127</a></div></div>
<div class="ttc" id="structast__hashtab_html_ad4a34c85bbad8598fd1e6cf37608d370"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">ast_hashtab::array</a></div><div class="ttdeci">struct ast_hashtab_bucket ** array</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00085">hashtab.h:85</a></div></div>
<div class="ttc" id="structast__hashtab_html_a49d687f2b067679439f0de8eeb623ff7"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a49d687f2b067679439f0de8eeb623ff7">ast_hashtab::compare</a></div><div class="ttdeci">int(* compare)(const void *a, const void *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00088">hashtab.h:88</a></div></div>
<div class="ttc" id="lock_8h_html_a9b07039db138693d1ebe02c3e99ddcab"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a9b07039db138693d1ebe02c3e99ddcab">ast_rwlock_init</a></div><div class="ttdeci">#define ast_rwlock_init(rwlock)</div><div class="ttdoc">wrapper for rwlock with tracking enabled </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00222">lock.h:222</a></div></div>
<div class="ttc" id="structast__hashtab_html"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00083">hashtab.h:83</a></div></div>
<div class="ttc" id="structast__hashtab_html_a5d5d1eb7a3c6027203c045bd38a3bfbd"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a5d5d1eb7a3c6027203c045bd38a3bfbd">ast_hashtab::resize</a></div><div class="ttdeci">int(* resize)(struct ast_hashtab *tab)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00091">hashtab.h:91</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__hashtab_html_aa878a76bc05e383bfdb938690a28843e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">ast_hashtab::hash</a></div><div class="ttdeci">unsigned int(* hash)(const void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00092">hashtab.h:92</a></div></div>
<div class="ttc" id="app__directory_8c_html_adf773af7f5d8ca288a3a68fc3659d95c"><div class="ttname"><a href="../../d0/de2/app__directory_8c.html#adf773af7f5d8ca288a3a68fc3659d95c">compare</a></div><div class="ttdeci">static int compare(const char *text, const char *template)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/de2/app__directory_8c_source.html#l00188">app_directory.c:188</a></div></div>
<div class="ttc" id="structast__hashtab_html_a384ddd8946117becc9634a686bce76d3"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a384ddd8946117becc9634a686bce76d3">ast_hashtab::newsize</a></div><div class="ttdeci">int(* newsize)(struct ast_hashtab *tab)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00090">hashtab.h:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1a8cf6abecbdc4737182d87204af0aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1a8cf6abecbdc4737182d87204af0aa">&#9670;&nbsp;</a></span>_ast_hashtab_dup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a>* _ast_hashtab_dup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *(*)(const void *obj)&#160;</td>
          <td class="paramname"><em>obj_dup_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a copy of the hash table. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00261">261</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/db0/astmm_8c_source.html#l01635">__ast_calloc()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00425">_ast_hashtab_insert_immediate_bucket()</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00085">ast_hashtab::array</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00222">ast_rwlock_init</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00088">ast_hashtab::compare</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00092">ast_hashtab::hash</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00090">ast_hashtab::newsize</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00077">ast_hashtab_bucket::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00076">ast_hashtab_bucket::object</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00091">ast_hashtab::resize</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;{</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *ht;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   ht = <a class="code" href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a>(1, <span class="keyword">sizeof</span>(*ht), <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keywordflow">if</span> (!ht) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a>(tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>, <span class="keyword">sizeof</span>(*(ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>)),</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <span class="keywordflow">if</span> (!ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(ht);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a> = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a49d687f2b067679439f0de8eeb623ff7">compare</a> = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a49d687f2b067679439f0de8eeb623ff7">compare</a>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a5d5d1eb7a3c6027203c045bd38a3bfbd">resize</a> = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a5d5d1eb7a3c6027203c045bd38a3bfbd">resize</a>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a384ddd8946117becc9634a686bce76d3">newsize</a> = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a384ddd8946117becc9634a686bce76d3">newsize</a>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">hash</a> = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">hash</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a> = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="keywordflow">if</span> (ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a9b07039db138693d1ebe02c3e99ddcab">ast_rwlock_init</a>(&amp;ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   <span class="comment">/* now, dup the objects in the buckets and get them into the table */</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   <span class="comment">/* the fast way is to use the existing array index, and not have to hash</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">      the objects again */</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; ht-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>; i++) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a> = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[i];</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keywordflow">while</span> (b) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;         <span class="keywordtype">void</span> *newobj = (*obj_dup_func)(b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;         <span class="keywordflow">if</span> (newobj) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <a class="code" href="../../df/d35/hashtab_8c.html#a13a994331250f4b5d3c703733d0eb41b">_ast_hashtab_insert_immediate_bucket</a>(ht, newobj, i, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;         }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;         b = b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   <span class="keywordflow">return</span> ht;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div><div class="ttc" id="astmm_8h_html_aacec2637e88f8663d609047874c6661b"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a></div><div class="ttdeci">void * __ast_calloc(size_t nmemb, size_t size, const char *file, int lineno, const char *func) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01635">astmm.c:1635</a></div></div>
<div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00074">hashtab.h:74</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
<div class="ttc" id="structast__hashtab_html_ad4a34c85bbad8598fd1e6cf37608d370"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">ast_hashtab::array</a></div><div class="ttdeci">struct ast_hashtab_bucket ** array</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00085">hashtab.h:85</a></div></div>
<div class="ttc" id="structast__hashtab_html_a49d687f2b067679439f0de8eeb623ff7"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a49d687f2b067679439f0de8eeb623ff7">ast_hashtab::compare</a></div><div class="ttdeci">int(* compare)(const void *a, const void *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00088">hashtab.h:88</a></div></div>
<div class="ttc" id="lock_8h_html_a9b07039db138693d1ebe02c3e99ddcab"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a9b07039db138693d1ebe02c3e99ddcab">ast_rwlock_init</a></div><div class="ttdeci">#define ast_rwlock_init(rwlock)</div><div class="ttdoc">wrapper for rwlock with tracking enabled </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00222">lock.h:222</a></div></div>
<div class="ttc" id="structast__hashtab_html"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00083">hashtab.h:83</a></div></div>
<div class="ttc" id="structast__hashtab_html_a5d5d1eb7a3c6027203c045bd38a3bfbd"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a5d5d1eb7a3c6027203c045bd38a3bfbd">ast_hashtab::resize</a></div><div class="ttdeci">int(* resize)(struct ast_hashtab *tab)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00091">hashtab.h:91</a></div></div>
<div class="ttc" id="hashtab_8c_html_a13a994331250f4b5d3c703733d0eb41b"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#a13a994331250f4b5d3c703733d0eb41b">_ast_hashtab_insert_immediate_bucket</a></div><div class="ttdeci">int _ast_hashtab_insert_immediate_bucket(struct ast_hashtab *tab, const void *obj, unsigned int h, const char *file, int lineno, const char *func)</div><div class="ttdoc">Insert without checking, hashing or locking. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00425">hashtab.c:425</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__hashtab_html_aa878a76bc05e383bfdb938690a28843e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">ast_hashtab::hash</a></div><div class="ttdeci">unsigned int(* hash)(const void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00092">hashtab.h:92</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_ac4fffd2513f3061cbd51acf5381177c8"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">ast_hashtab_bucket::object</a></div><div class="ttdeci">const void * object</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00076">hashtab.h:76</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_a277291f5bb0f819abb0f739591ccd961"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">ast_hashtab_bucket::next</a></div><div class="ttdeci">struct ast_hashtab_bucket * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00077">hashtab.h:77</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a025ede890af287961d3a98d0e634a62b"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a></div><div class="ttdeci">static struct test_val b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">test_linkedlists.c:47</a></div></div>
<div class="ttc" id="structast__hashtab_html_a384ddd8946117becc9634a686bce76d3"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a384ddd8946117becc9634a686bce76d3">ast_hashtab::newsize</a></div><div class="ttdeci">int(* newsize)(struct ast_hashtab *tab)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00090">hashtab.h:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad96aa428d1485941c25ffb384f2310ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad96aa428d1485941c25ffb384f2310ae">&#9670;&nbsp;</a></span>_ast_hashtab_insert_immediate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _ast_hashtab_insert_immediate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert without checking. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tab</td><td></td></tr>
    <tr><td class="paramname">obj</td><td>Normally, you'd insert "safely" by checking to see if the element is already there; in this case, you must already have checked. If an element is already in the hashtable, that matches this one, most likely this one will be found first. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>will force a resize if the resize func returns 1 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>on success </td></tr>
    <tr><td class="paramname">0</td><td>if there's a problem </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00404">404</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d35/hashtab_8c_source.html#l00425">_ast_hashtab_insert_immediate_bucket()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00092">ast_hashtab::hash</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;{</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> h;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <span class="keywordtype">int</span> res=0;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <span class="keywordflow">if</span> (!tab || !obj)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   h = (*tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">hash</a>)(obj) % tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   res = <a class="code" href="../../df/d35/hashtab_8c.html#a13a994331250f4b5d3c703733d0eb41b">_ast_hashtab_insert_immediate_bucket</a>(tab, obj, h, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
<div class="ttc" id="hashtab_8c_html_a13a994331250f4b5d3c703733d0eb41b"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#a13a994331250f4b5d3c703733d0eb41b">_ast_hashtab_insert_immediate_bucket</a></div><div class="ttdeci">int _ast_hashtab_insert_immediate_bucket(struct ast_hashtab *tab, const void *obj, unsigned int h, const char *file, int lineno, const char *func)</div><div class="ttdoc">Insert without checking, hashing or locking. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00425">hashtab.c:425</a></div></div>
<div class="ttc" id="structast__hashtab_html_aa878a76bc05e383bfdb938690a28843e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">ast_hashtab::hash</a></div><div class="ttdeci">unsigned int(* hash)(const void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00092">hashtab.h:92</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a13a994331250f4b5d3c703733d0eb41b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13a994331250f4b5d3c703733d0eb41b">&#9670;&nbsp;</a></span>_ast_hashtab_insert_immediate_bucket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _ast_hashtab_insert_immediate_bucket </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert without checking, hashing or locking. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tab</td><td></td></tr>
    <tr><td class="paramname">obj</td><td></td></tr>
    <tr><td class="paramname">h</td><td>hashed index value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Will force a resize if the resize func returns 1 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>on success </td></tr>
    <tr><td class="paramname">0</td><td>if there's a problem </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00425">425</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/db0/astmm_8c_source.html#l01635">__ast_calloc()</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00085">ast_hashtab::array</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00045">ast_hashtab_resize</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">b</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00095">ast_hashtab::hash_tab_elements</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00096">ast_hashtab::largest_bucket_size</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00077">ast_hashtab_bucket::next</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00076">ast_hashtab_bucket::object</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00078">ast_hashtab_bucket::prev</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00091">ast_hashtab::resize</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00086">ast_hashtab::tlist</a>, and <a class="el" href="../../df/d35/hashtab_8c_source.html#l00320">tlist_add_head()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00261">_ast_hashtab_dup()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00404">_ast_hashtab_insert_immediate()</a>, and <a class="el" href="../../df/d35/hashtab_8c_source.html#l00460">_ast_hashtab_insert_safe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   <span class="keywordflow">if</span> (!tab || !obj)</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <span class="keywordflow">for</span> (c = 0, b = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[h]; b; b= b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>)</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      c++;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   <span class="keywordflow">if</span> (c + 1 &gt; tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad7e3544b53e89218feb557a33730eef2">largest_bucket_size</a>)</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad7e3544b53e89218feb557a33730eef2">largest_bucket_size</a> = c + 1;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   b = <a class="code" href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a>(1, <span class="keyword">sizeof</span>(*b), <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="keywordflow">if</span> (!b) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a> = obj;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a> = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[h];</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[h] = <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   <span class="keywordflow">if</span> (b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>)</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#af0ab45e37ae5f4c9a984ecea99ec9be4">prev</a> = <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   <a class="code" href="../../df/d35/hashtab_8c.html#a0a70cc0111c648216070a8415fe6d133">tlist_add_head</a>(&amp;(tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">tlist</a>), b);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">hash_tab_elements</a>++;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   <span class="keywordflow">if</span> ((*tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a5d5d1eb7a3c6027203c045bd38a3bfbd">resize</a>)(tab))</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <a class="code" href="../../df/d35/hashtab_8c.html#ac5ab16a11881f6dab61516c77720d546">ast_hashtab_resize</a>(tab);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div><div class="ttc" id="astmm_8h_html_aacec2637e88f8663d609047874c6661b"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a></div><div class="ttdeci">void * __ast_calloc(size_t nmemb, size_t size, const char *file, int lineno, const char *func) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01635">astmm.c:1635</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00074">hashtab.h:74</a></div></div>
<div class="ttc" id="structast__hashtab_html_ad7e3544b53e89218feb557a33730eef2"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ad7e3544b53e89218feb557a33730eef2">ast_hashtab::largest_bucket_size</a></div><div class="ttdeci">int largest_bucket_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00096">hashtab.h:96</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_af0ab45e37ae5f4c9a984ecea99ec9be4"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#af0ab45e37ae5f4c9a984ecea99ec9be4">ast_hashtab_bucket::prev</a></div><div class="ttdeci">struct ast_hashtab_bucket * prev</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00078">hashtab.h:78</a></div></div>
<div class="ttc" id="hashtab_8c_html_ac5ab16a11881f6dab61516c77720d546"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#ac5ab16a11881f6dab61516c77720d546">ast_hashtab_resize</a></div><div class="ttdeci">#define ast_hashtab_resize(tab)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00045">hashtab.c:45</a></div></div>
<div class="ttc" id="structast__hashtab_html_ad4a34c85bbad8598fd1e6cf37608d370"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">ast_hashtab::array</a></div><div class="ttdeci">struct ast_hashtab_bucket ** array</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00085">hashtab.h:85</a></div></div>
<div class="ttc" id="hashtab_8c_html_a0a70cc0111c648216070a8415fe6d133"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#a0a70cc0111c648216070a8415fe6d133">tlist_add_head</a></div><div class="ttdeci">static void tlist_add_head(struct ast_hashtab_bucket **head, struct ast_hashtab_bucket *item)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00320">hashtab.c:320</a></div></div>
<div class="ttc" id="structast__hashtab_html_a5d5d1eb7a3c6027203c045bd38a3bfbd"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a5d5d1eb7a3c6027203c045bd38a3bfbd">ast_hashtab::resize</a></div><div class="ttdeci">int(* resize)(struct ast_hashtab *tab)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00091">hashtab.h:91</a></div></div>
<div class="ttc" id="structast__hashtab_html_abc3c4c519a852f85284868cb68c8a44e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">ast_hashtab::tlist</a></div><div class="ttdeci">struct ast_hashtab_bucket * tlist</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00086">hashtab.h:86</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_ac4fffd2513f3061cbd51acf5381177c8"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">ast_hashtab_bucket::object</a></div><div class="ttdeci">const void * object</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00076">hashtab.h:76</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_a277291f5bb0f819abb0f739591ccd961"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">ast_hashtab_bucket::next</a></div><div class="ttdeci">struct ast_hashtab_bucket * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00077">hashtab.h:77</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a025ede890af287961d3a98d0e634a62b"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a></div><div class="ttdeci">static struct test_val b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">test_linkedlists.c:47</a></div></div>
<div class="ttc" id="structast__hashtab_html_a46bc973b99fd63faabcf465499d58167"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">ast_hashtab::hash_tab_elements</a></div><div class="ttdeci">int hash_tab_elements</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00095">hashtab.h:95</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a85d0fa36cf553f74f9c283e93503d9cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85d0fa36cf553f74f9c283e93503d9cf">&#9670;&nbsp;</a></span>_ast_hashtab_insert_safe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _ast_hashtab_insert_safe </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check and insert new object only if it is not there. </p>
<dl class="section note"><dt>Note</dt><dd>Will force a resize if the resize func returns 1 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>on success </td></tr>
    <tr><td class="paramname">0</td><td>if there's a problem, or it's already there. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00460">460</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d35/hashtab_8c_source.html#l00425">_ast_hashtab_insert_immediate_bucket()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00531">ast_hashtab_lookup_bucket()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;{</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   <span class="comment">/* check to see if the element is already there; insert only if</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">      it is not there. */</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   <span class="comment">/* will force a resize if the resize func returns 1 */</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   <span class="comment">/* returns 1 on success, 0 if there&#39;s a problem, or it&#39;s already there. */</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bucket = 0;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/d35/hashtab_8c.html#af629a9b97b7c185c9f0d691088e24fe9">ast_hashtab_lookup_bucket</a>(tab, obj, &amp;bucket)) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <span class="keywordtype">int</span> ret2 = <a class="code" href="../../df/d35/hashtab_8c.html#a13a994331250f4b5d3c703733d0eb41b">_ast_hashtab_insert_immediate_bucket</a>(tab, obj, bucket, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="keywordflow">return</span> ret2;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
<div class="ttc" id="hashtab_8c_html_a13a994331250f4b5d3c703733d0eb41b"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#a13a994331250f4b5d3c703733d0eb41b">_ast_hashtab_insert_immediate_bucket</a></div><div class="ttdeci">int _ast_hashtab_insert_immediate_bucket(struct ast_hashtab *tab, const void *obj, unsigned int h, const char *file, int lineno, const char *func)</div><div class="ttdoc">Insert without checking, hashing or locking. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00425">hashtab.c:425</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
<div class="ttc" id="hashtab_8c_html_af629a9b97b7c185c9f0d691088e24fe9"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#af629a9b97b7c185c9f0d691088e24fe9">ast_hashtab_lookup_bucket</a></div><div class="ttdeci">void * ast_hashtab_lookup_bucket(struct ast_hashtab *tab, const void *obj, unsigned int *bucket)</div><div class="ttdoc">Similar to ast_hashtab_lookup but sets h to the key hash value if the lookup fails. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00531">hashtab.c:531</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a92f47a8b3d4b16e6a470d1da23d6d93e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f47a8b3d4b16e6a470d1da23d6d93e">&#9670;&nbsp;</a></span>_ast_hashtab_resize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _ast_hashtab_resize </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00591">591</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/db0/astmm_8c_source.html#l01635">__ast_calloc()</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00085">ast_hashtab::array</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">b</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00092">ast_hashtab::hash</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00096">ast_hashtab::largest_bucket_size</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00090">ast_hashtab::newsize</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00077">ast_hashtab_bucket::next</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00076">ast_hashtab_bucket::object</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00078">ast_hashtab_bucket::prev</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00097">ast_hashtab::resize_count</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00086">ast_hashtab::tlist</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00079">ast_hashtab_bucket::tnext</a>.</p>
<div class="fragment"><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;{</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;   <span class="comment">/* this function is called either internally, when the resize func returns 1, or</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">      externally by the user to force a resize of the hash table */</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   <span class="keywordtype">int</span> newsize = (*tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a384ddd8946117becc9634a686bce76d3">newsize</a>)(tab), i, <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> h;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>,*bn;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   <span class="comment">/* Since we keep a DLL of all the buckets in tlist,</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">      all we have to do is free the array, malloc a new one,</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">      and then go thru the tlist array and reassign them into</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">      the bucket arrayj.</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>; i++) { <span class="comment">/* don&#39;t absolutely have to do this, but</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">                                 why leave ptrs laying around */</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[i] = 0; <span class="comment">/* erase old ptrs */</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a>(newsize, <span class="keyword">sizeof</span>(*(tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>)), <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   <span class="keywordflow">if</span> (!tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>) {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   }</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <span class="comment">/* now sort the buckets into their rightful new slots */</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#aca6c133e85271118b482d523974fca7e">resize_count</a>++;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;   tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a> = newsize;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;   tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad7e3544b53e89218feb557a33730eef2">largest_bucket_size</a> = 0;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   <span class="keywordflow">for</span> (b = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">tlist</a>; b; b = bn) {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#af0ab45e37ae5f4c9a984ecea99ec9be4">prev</a> = 0;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      bn = b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      h = (*tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">hash</a>)(b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a>) % tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a> = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[h];</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keywordflow">if</span> (b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>)</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;         b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#af0ab45e37ae5f4c9a984ecea99ec9be4">prev</a> = <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[h] = <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;   }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   <span class="comment">/* recalc the largest bucket size */</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>; i++) {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordflow">for</span> (c = 0, b = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[i]; b; b = b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>)</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;         c++;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="keywordflow">if</span> (c &gt; tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad7e3544b53e89218feb557a33730eef2">largest_bucket_size</a>)</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;         tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad7e3544b53e89218feb557a33730eef2">largest_bucket_size</a> = <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   }</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;}</div><div class="ttc" id="astmm_8h_html_aacec2637e88f8663d609047874c6661b"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a></div><div class="ttdeci">void * __ast_calloc(size_t nmemb, size_t size, const char *file, int lineno, const char *func) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01635">astmm.c:1635</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_ad3f87b9bd48bdc73946d7f5c48d3f00a"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">ast_hashtab_bucket::tnext</a></div><div class="ttdeci">struct ast_hashtab_bucket * tnext</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00079">hashtab.h:79</a></div></div>
<div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00074">hashtab.h:74</a></div></div>
<div class="ttc" id="structast__hashtab_html_ad7e3544b53e89218feb557a33730eef2"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ad7e3544b53e89218feb557a33730eef2">ast_hashtab::largest_bucket_size</a></div><div class="ttdeci">int largest_bucket_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00096">hashtab.h:96</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__hashtab_html_aca6c133e85271118b482d523974fca7e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#aca6c133e85271118b482d523974fca7e">ast_hashtab::resize_count</a></div><div class="ttdeci">int resize_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00097">hashtab.h:97</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_af0ab45e37ae5f4c9a984ecea99ec9be4"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#af0ab45e37ae5f4c9a984ecea99ec9be4">ast_hashtab_bucket::prev</a></div><div class="ttdeci">struct ast_hashtab_bucket * prev</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00078">hashtab.h:78</a></div></div>
<div class="ttc" id="structast__hashtab_html_ad4a34c85bbad8598fd1e6cf37608d370"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">ast_hashtab::array</a></div><div class="ttdeci">struct ast_hashtab_bucket ** array</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00085">hashtab.h:85</a></div></div>
<div class="ttc" id="structast__hashtab_html_abc3c4c519a852f85284868cb68c8a44e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">ast_hashtab::tlist</a></div><div class="ttdeci">struct ast_hashtab_bucket * tlist</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00086">hashtab.h:86</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__hashtab_html_aa878a76bc05e383bfdb938690a28843e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">ast_hashtab::hash</a></div><div class="ttdeci">unsigned int(* hash)(const void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00092">hashtab.h:92</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_ac4fffd2513f3061cbd51acf5381177c8"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">ast_hashtab_bucket::object</a></div><div class="ttdeci">const void * object</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00076">hashtab.h:76</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_a277291f5bb0f819abb0f739591ccd961"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">ast_hashtab_bucket::next</a></div><div class="ttdeci">struct ast_hashtab_bucket * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00077">hashtab.h:77</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a025ede890af287961d3a98d0e634a62b"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a></div><div class="ttdeci">static struct test_val b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">test_linkedlists.c:47</a></div></div>
<div class="ttc" id="structast__hashtab_html_a384ddd8946117becc9634a686bce76d3"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a384ddd8946117becc9634a686bce76d3">ast_hashtab::newsize</a></div><div class="ttdeci">int(* newsize)(struct ast_hashtab *tab)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00090">hashtab.h:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1bf28fefdd187c26f1ce758b412b9b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bf28fefdd187c26f1ce758b412b9b11">&#9670;&nbsp;</a></span>_ast_hashtab_start_traversal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/d2e/structast__hashtab__iter.html">ast_hashtab_iter</a>* _ast_hashtab_start_traversal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gives an iterator to hastable. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00637">637</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/db0/astmm_8c_source.html#l01635">__ast_calloc()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00108">ast_hashtab_iter::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00107">ast_hashtab_iter::tab</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00086">ast_hashtab::tlist</a>.</p>
<div class="fragment"><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;{</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   <span class="comment">/* returns an iterator */</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d2e/structast__hashtab__iter.html">ast_hashtab_iter</a> *it;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;   it = <a class="code" href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a>(1, <span class="keyword">sizeof</span>(*it), <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   <span class="keywordflow">if</span> (!it) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;   it-&gt;<a class="code" href="../../d3/d2e/structast__hashtab__iter.html#a277291f5bb0f819abb0f739591ccd961">next</a> = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">tlist</a>;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   it-&gt;<a class="code" href="../../d3/d2e/structast__hashtab__iter.html#a544ff1295545c4490180d179a5482f20">tab</a> = <a class="code" href="../../d3/d2e/structast__hashtab__iter.html#a544ff1295545c4490180d179a5482f20">tab</a>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   <span class="keywordflow">return</span> it;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="astmm_8h_html_aacec2637e88f8663d609047874c6661b"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a></div><div class="ttdeci">void * __ast_calloc(size_t nmemb, size_t size, const char *file, int lineno, const char *func) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01635">astmm.c:1635</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__hashtab__iter_html_a277291f5bb0f819abb0f739591ccd961"><div class="ttname"><a href="../../d3/d2e/structast__hashtab__iter.html#a277291f5bb0f819abb0f739591ccd961">ast_hashtab_iter::next</a></div><div class="ttdeci">struct ast_hashtab_bucket * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00108">hashtab.h:108</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
<div class="ttc" id="structast__hashtab__iter_html_a544ff1295545c4490180d179a5482f20"><div class="ttname"><a href="../../d3/d2e/structast__hashtab__iter.html#a544ff1295545c4490180d179a5482f20">ast_hashtab_iter::tab</a></div><div class="ttdeci">struct ast_hashtab * tab</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00107">hashtab.h:107</a></div></div>
<div class="ttc" id="structast__hashtab_html_abc3c4c519a852f85284868cb68c8a44e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">ast_hashtab::tlist</a></div><div class="ttdeci">struct ast_hashtab_bucket * tlist</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00086">hashtab.h:86</a></div></div>
<div class="ttc" id="structast__hashtab__iter_html"><div class="ttname"><a href="../../d3/d2e/structast__hashtab__iter.html">ast_hashtab_iter</a></div><div class="ttdoc">an iterator for traversing the buckets </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00105">hashtab.h:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a772e7fd753628c8fc3fc3be07a03957d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a772e7fd753628c8fc3fc3be07a03957d">&#9670;&nbsp;</a></span>_ast_hashtab_start_write_traversal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/d2e/structast__hashtab__iter.html">ast_hashtab_iter</a>* _ast_hashtab_start_write_traversal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gives an iterator to hastable. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00656">656</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/db0/astmm_8c_source.html#l01635">__ast_calloc()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00108">ast_hashtab_iter::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00107">ast_hashtab_iter::tab</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00086">ast_hashtab::tlist</a>.</p>
<div class="fragment"><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;{</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;   <span class="comment">/* returns an iterator */</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d2e/structast__hashtab__iter.html">ast_hashtab_iter</a> *it;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   it = <a class="code" href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a>(1, <span class="keyword">sizeof</span>(*it), <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;   <span class="keywordflow">if</span> (!it) {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   it-&gt;<a class="code" href="../../d3/d2e/structast__hashtab__iter.html#a277291f5bb0f819abb0f739591ccd961">next</a> = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">tlist</a>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   it-&gt;<a class="code" href="../../d3/d2e/structast__hashtab__iter.html#a544ff1295545c4490180d179a5482f20">tab</a> = <a class="code" href="../../d3/d2e/structast__hashtab__iter.html#a544ff1295545c4490180d179a5482f20">tab</a>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   <span class="keywordflow">return</span> it;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;}</div><div class="ttc" id="astmm_8h_html_aacec2637e88f8663d609047874c6661b"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a></div><div class="ttdeci">void * __ast_calloc(size_t nmemb, size_t size, const char *file, int lineno, const char *func) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01635">astmm.c:1635</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__hashtab__iter_html_a277291f5bb0f819abb0f739591ccd961"><div class="ttname"><a href="../../d3/d2e/structast__hashtab__iter.html#a277291f5bb0f819abb0f739591ccd961">ast_hashtab_iter::next</a></div><div class="ttdeci">struct ast_hashtab_bucket * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00108">hashtab.h:108</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
<div class="ttc" id="structast__hashtab__iter_html_a544ff1295545c4490180d179a5482f20"><div class="ttname"><a href="../../d3/d2e/structast__hashtab__iter.html#a544ff1295545c4490180d179a5482f20">ast_hashtab_iter::tab</a></div><div class="ttdeci">struct ast_hashtab * tab</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00107">hashtab.h:107</a></div></div>
<div class="ttc" id="structast__hashtab_html_abc3c4c519a852f85284868cb68c8a44e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">ast_hashtab::tlist</a></div><div class="ttdeci">struct ast_hashtab_bucket * tlist</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00086">hashtab.h:86</a></div></div>
<div class="ttc" id="structast__hashtab__iter_html"><div class="ttname"><a href="../../d3/d2e/structast__hashtab__iter.html">ast_hashtab_iter</a></div><div class="ttdoc">an iterator for traversing the buckets </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00105">hashtab.h:105</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2042c599c685acc02d267e9a4c906af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2042c599c685acc02d267e9a4c906af">&#9670;&nbsp;</a></span>ast_hashtab_capacity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_capacity </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of the bucket array in the hashtab. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00583">583</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>.</p>
<div class="fragment"><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;{</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;   <span class="keywordflow">return</span> tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d02fdad6e9d1d15946a028a52851f2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d02fdad6e9d1d15946a028a52851f2b">&#9670;&nbsp;</a></span>ast_hashtab_compare_ints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_compare_ints </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compares two integers for equality. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>an integer pointer (int *) </td></tr>
    <tr><td class="paramname">b</td><td>an integer pointer (int *) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the integers pointed to are equal </td></tr>
    <tr><td class="paramname">1</td><td>if a is greater than b </td></tr>
    <tr><td class="paramname">-1</td><td>if a is less than b </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00062">62</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;   <span class="keywordtype">int</span> ai = *((<span class="keywordtype">int</span> *) <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <span class="keywordtype">int</span> bi = *((<span class="keywordtype">int</span> *) <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   <span class="keywordflow">if</span> (ai &lt; bi)</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;   <span class="keywordflow">return</span> !(ai == bi);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div><div class="ttc" id="test__linkedlists_8c_html_a025ede890af287961d3a98d0e634a62b"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a></div><div class="ttdeci">static struct test_val b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">test_linkedlists.c:47</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a13dd15487fee89a002d17ef3aff62d02"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></div><div class="ttdeci">static struct test_val a</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00046">test_linkedlists.c:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae179496ae1f9bbfd5608faa4a8d53310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae179496ae1f9bbfd5608faa4a8d53310">&#9670;&nbsp;</a></span>ast_hashtab_compare_shorts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_compare_shorts </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compares two shorts for equality. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a short pointer (short *) </td></tr>
    <tr><td class="paramname">b</td><td>a short pointer (short *) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the shorts pointed to are equal </td></tr>
    <tr><td class="paramname">1</td><td>if a is greater than b </td></tr>
    <tr><td class="paramname">-1</td><td>if a is less than b </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00073">73</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">bs</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   <span class="keywordtype">short</span> as = *((<span class="keywordtype">short</span> *) <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   <span class="keywordtype">short</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a88c495844317f74c013aace5bfe64d02">bs</a> = *((<span class="keywordtype">short</span> *) <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <span class="keywordflow">if</span> (as &lt; bs)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   <span class="keywordflow">return</span> !(as == <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a88c495844317f74c013aace5bfe64d02">bs</a>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_a88c495844317f74c013aace5bfe64d02"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a88c495844317f74c013aace5bfe64d02">bs</a></div><div class="ttdeci">char * bs</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a025ede890af287961d3a98d0e634a62b"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a></div><div class="ttdeci">static struct test_val b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">test_linkedlists.c:47</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a13dd15487fee89a002d17ef3aff62d02"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></div><div class="ttdeci">static struct test_val a</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00046">test_linkedlists.c:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a86ab6cf47bb9ae77f1c2db2b515c1628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86ab6cf47bb9ae77f1c2db2b515c1628">&#9670;&nbsp;</a></span>ast_hashtab_compare_strings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_compare_strings </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compares two strings for equality. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a character string </td></tr>
    <tr><td class="paramname">b</td><td>a character string </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the strings match </td></tr>
    <tr><td class="paramname">&lt;0</td><td>if string a is less than string b </td></tr>
    <tr><td class="paramname">&gt;0</td><td>if string a is greather than string b </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00052">52</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;   <span class="keywordflow">return</span> strcmp(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div><div class="ttc" id="test__linkedlists_8c_html_a025ede890af287961d3a98d0e634a62b"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a></div><div class="ttdeci">static struct test_val b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">test_linkedlists.c:47</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a13dd15487fee89a002d17ef3aff62d02"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></div><div class="ttdeci">static struct test_val a</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00046">test_linkedlists.c:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a944f4df390d07aead023abdcf4b7fc2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a944f4df390d07aead023abdcf4b7fc2e">&#9670;&nbsp;</a></span>ast_hashtab_compare_strings_nocase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_compare_strings_nocase </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compares two strings for equality, ignoring case. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a character string </td></tr>
    <tr><td class="paramname">b</td><td>a character string </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the strings match </td></tr>
    <tr><td class="paramname">&lt;0</td><td>if string a is less than string b </td></tr>
    <tr><td class="paramname">&gt;0</td><td>if string a is greather than string b </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00057">57</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d90/test__hashtab__thrash_8c_source.html#l00227">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;   <span class="keywordflow">return</span> strcasecmp(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div><div class="ttc" id="test__linkedlists_8c_html_a025ede890af287961d3a98d0e634a62b"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a></div><div class="ttdeci">static struct test_val b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">test_linkedlists.c:47</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a13dd15487fee89a002d17ef3aff62d02"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></div><div class="ttdeci">static struct test_val a</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00046">test_linkedlists.c:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6103589badf8d9440a0cece2802c4c3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6103589badf8d9440a0cece2802c4c3a">&#9670;&nbsp;</a></span>ast_hashtab_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_hashtab_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *obj)&#160;</td>
          <td class="paramname"><em>objdestroyfunc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This func will free the hash table and all its memory. </p>
<dl class="section note"><dt>Note</dt><dd>It doesn't touch the objects stored in it, unless you specify a destroy func; it will call that func for each object in the hashtab, remove all the objects, and then free the hashtab itself. If no destroyfunc is specified then the routine will assume you will free it yourself. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tab</td><td></td></tr>
    <tr><td class="paramname">objdestroyfunc</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00363">363</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00085">ast_hashtab::array</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00231">ast_rwlock_destroy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00076">ast_hashtab_bucket::object</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00086">ast_hashtab::tlist</a>, and <a class="el" href="../../df/d35/hashtab_8c_source.html#l00305">tlist_del_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08050">__ast_internal_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06468">ast_merge_contexts_and_delete()</a>, <a class="el" href="../../de/d90/test__hashtab__thrash_8c_source.html#l00227">AST_TEST_DEFINE()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04678">destroy_exten()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l08909">pbx_shutdown()</a>.</p>
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <span class="comment">/* this func will free the hash table and all its memory. It</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">      doesn&#39;t touch the objects stored in it */</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <span class="keywordflow">if</span> (tab) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;         <span class="comment">/* go thru and destroy the buckets */</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *t;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;         <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;         <span class="keywordflow">while</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">tlist</a>) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            t = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">tlist</a>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">if</span> (t-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a> &amp;&amp; objdestroyfunc) {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;               <span class="comment">/* I cast this because I&#39;m not going to MOD it, I&#39;m going to DESTROY</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">                * it.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">                */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;               (*objdestroyfunc)((<span class="keywordtype">void</span> *) t-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a>);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <a class="code" href="../../df/d35/hashtab_8c.html#acea5c0d1395a2a9a8e5287a37b0b8c7c">tlist_del_item</a>(&amp;(tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">tlist</a>), tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">tlist</a>);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(t);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;         }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>; i++) {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="comment">/* Not totally necessary, but best to destroy old pointers */</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[i] = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;         }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>) {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ab1d35b9611e8b5143ec695ead1b5d8d1">ast_rwlock_destroy</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tab);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;   }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00074">hashtab.h:74</a></div></div>
<div class="ttc" id="lock_8h_html_ab1d35b9611e8b5143ec695ead1b5d8d1"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab1d35b9611e8b5143ec695ead1b5d8d1">ast_rwlock_destroy</a></div><div class="ttdeci">#define ast_rwlock_destroy(rwlock)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00231">lock.h:231</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
<div class="ttc" id="structast__hashtab_html_ad4a34c85bbad8598fd1e6cf37608d370"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">ast_hashtab::array</a></div><div class="ttdeci">struct ast_hashtab_bucket ** array</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00085">hashtab.h:85</a></div></div>
<div class="ttc" id="hashtab_8c_html_acea5c0d1395a2a9a8e5287a37b0b8c7c"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#acea5c0d1395a2a9a8e5287a37b0b8c7c">tlist_del_item</a></div><div class="ttdeci">static void tlist_del_item(struct ast_hashtab_bucket **head, struct ast_hashtab_bucket *item)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00305">hashtab.c:305</a></div></div>
<div class="ttc" id="structast__hashtab_html_abc3c4c519a852f85284868cb68c8a44e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">ast_hashtab::tlist</a></div><div class="ttdeci">struct ast_hashtab_bucket * tlist</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00086">hashtab.h:86</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_ac4fffd2513f3061cbd51acf5381177c8"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">ast_hashtab_bucket::object</a></div><div class="ttdeci">const void * object</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00076">hashtab.h:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d63b8b43b3d64700f5e4224c9a707d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d63b8b43b3d64700f5e4224c9a707d3">&#9670;&nbsp;</a></span>ast_hashtab_destroylock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_hashtab_destroylock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this before you destroy the table. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00353">353</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00231">ast_rwlock_destroy</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;{</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab1d35b9611e8b5143ec695ead1b5d8d1">ast_rwlock_destroy</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div><div class="ttc" id="lock_8h_html_ab1d35b9611e8b5143ec695ead1b5d8d1"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab1d35b9611e8b5143ec695ead1b5d8d1">ast_rwlock_destroy</a></div><div class="ttdeci">#define ast_rwlock_destroy(rwlock)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00231">lock.h:231</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c804e9bfc8355c25197187f0c6d0265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c804e9bfc8355c25197187f0c6d0265">&#9670;&nbsp;</a></span>ast_hashtab_end_traversal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_hashtab_end_traversal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d2e/structast__hashtab__iter.html">ast_hashtab_iter</a> *&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>end the traversal, free the iterator, unlock if necc. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00674">674</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00107">ast_hashtab_iter::tab</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06468">ast_merge_contexts_and_delete()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06369">context_merge()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06332">context_table_create_autohints()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l01756">create_match_char_tree()</a>, and <a class="el" href="../../de/d90/test__hashtab__thrash_8c_source.html#l00188">hash_test_count()</a>.</p>
<div class="fragment"><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;{</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   <span class="keywordflow">if</span> (!it)</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   <span class="keywordflow">if</span> (it-&gt;<a class="code" href="../../d3/d2e/structast__hashtab__iter.html#a544ff1295545c4490180d179a5482f20">tab</a>-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;it-&gt;<a class="code" href="../../d3/d2e/structast__hashtab__iter.html#a544ff1295545c4490180d179a5482f20">tab</a>-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(it);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
<div class="ttc" id="structast__hashtab__iter_html_a544ff1295545c4490180d179a5482f20"><div class="ttname"><a href="../../d3/d2e/structast__hashtab__iter.html#a544ff1295545c4490180d179a5482f20">ast_hashtab_iter::tab</a></div><div class="ttdeci">struct ast_hashtab * tab</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00107">hashtab.h:107</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae52333d2a29053dce852f8a2d35ca421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae52333d2a29053dce852f8a2d35ca421">&#9670;&nbsp;</a></span>ast_hashtab_get_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_hashtab_get_stats </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>biggest_bucket_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>resize_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>num_objects</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>num_buckets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns key stats for the table. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00563">563</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00095">ast_hashtab::hash_tab_elements</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00096">ast_hashtab::largest_bucket_size</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00097">ast_hashtab::resize_count</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l01756">create_match_char_tree()</a>.</p>
<div class="fragment"><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;{</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   <span class="comment">/* returns key stats for the table */</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   *biggest_bucket_size = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad7e3544b53e89218feb557a33730eef2">largest_bucket_size</a>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   *resize_count = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#aca6c133e85271118b482d523974fca7e">resize_count</a>;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   *num_objects = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">hash_tab_elements</a>;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   *num_buckets = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="structast__hashtab_html_ad7e3544b53e89218feb557a33730eef2"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ad7e3544b53e89218feb557a33730eef2">ast_hashtab::largest_bucket_size</a></div><div class="ttdeci">int largest_bucket_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00096">hashtab.h:96</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="structast__hashtab_html_aca6c133e85271118b482d523974fca7e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#aca6c133e85271118b482d523974fca7e">ast_hashtab::resize_count</a></div><div class="ttdeci">int resize_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00097">hashtab.h:97</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
<div class="ttc" id="structast__hashtab_html_a46bc973b99fd63faabcf465499d58167"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">ast_hashtab::hash_tab_elements</a></div><div class="ttdeci">int hash_tab_elements</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00095">hashtab.h:95</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afde347625b8fa97770889dbfca223f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afde347625b8fa97770889dbfca223f05">&#9670;&nbsp;</a></span>ast_hashtab_hash_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_hashtab_hash_int </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00205">205</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l00751">hashtab_hash_priority()</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <span class="keywordflow">return</span> x;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a929b126fcbea935302155c72313bf645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929b126fcbea935302155c72313bf645">&#9670;&nbsp;</a></span>ast_hashtab_hash_short()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_hashtab_hash_short </td>
          <td>(</td>
          <td class="paramtype">const short&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00210">210</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;{</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   <span class="comment">/* hmmmm.... modulus is best &lt; 65535 !! */</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <span class="keywordflow">return</span> x;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="af8904cce564fd39de28b566bb8c261eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8904cce564fd39de28b566bb8c261eb">&#9670;&nbsp;</a></span>ast_hashtab_hash_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_hashtab_hash_string </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hashes a string to a number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>the string to hash </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Integer hash of the specified string </dd></dl>
<dl class="section see"><dt>See also</dt><dd>ast_hashtable_hash_string_nocase </dd>
<dd>
<a class="el" href="../../d6/da0/hashtab_8h.html#ab39dc11651e79b5ac59e15a1be73e81f" title="Hashes a string to a number using a modified Shift-And-XOR algorithm. ">ast_hashtab_hash_string_sax</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>A modulus will be applied to the return value of this function </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00153">153</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00968">total</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l00735">ast_hashtab_hash_contexts()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00206">cache_entry_compute_hash()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00741">hashtab_hash_extens()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00757">hashtab_hash_labels()</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00056">stasis_message_type_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) obj;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   <span class="keywordflow">for</span> (total = 0; *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>; str++) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a> = <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      total &lt;&lt;= 1; <span class="comment">/* multiply by 2 */</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      total += <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>; <span class="comment">/* multiply by 3 */</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      total &lt;&lt;= 2; <span class="comment">/* multiply by 12 */</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      total += <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>; <span class="comment">/* multiply by 13 */</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      total += ((<span class="keywordtype">unsigned</span> int)(*str));</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div><div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ac7af894858cf396a219d632f40afdc8d"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a></div><div class="ttdeci">static int total</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00968">res_adsi.c:968</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a09610a365395d3d7b1a8ce18fc6e5b2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09610a365395d3d7b1a8ce18fc6e5b2c">&#9670;&nbsp;</a></span>ast_hashtab_hash_string_nocase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_hashtab_hash_string_nocase </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hashes a string to a number ignoring case. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>the string to hash </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Integer hash of the specified string </dd></dl>
<dl class="section see"><dt>See also</dt><dd>ast_hashtable_hash_string </dd>
<dd>
<a class="el" href="../../d6/da0/hashtab_8h.html#ab39dc11651e79b5ac59e15a1be73e81f" title="Hashes a string to a number using a modified Shift-And-XOR algorithm. ">ast_hashtab_hash_string_sax</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>A modulus will be applied to the return value of this function </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00181">181</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00968">total</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d90/test__hashtab__thrash_8c_source.html#l00227">AST_TEST_DEFINE()</a>, and <a class="el" href="../../dc/dc0/test__astobj2__thrash_8c_source.html#l00231">hash_string()</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = obj;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   <span class="keywordflow">for</span> (total = 0; *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>; str++) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a> = <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> charval = toupper(*str);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="comment">/* hopefully, the following is faster than multiplication by 7 */</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="comment">/* why do I go to this bother? A good compiler will do this</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">         anyway, if I say total *= 13 */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="comment">/* BTW, tried *= 7, and it doesn&#39;t do as well in spreading things around! */</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      total &lt;&lt;= 1; <span class="comment">/* multiply by 2 */</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      total += <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>; <span class="comment">/* multiply by 3 */</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      total &lt;&lt;= 2; <span class="comment">/* multiply by 12 */</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      total += <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>; <span class="comment">/* multiply by 13 */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      total += (charval);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div><div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ac7af894858cf396a219d632f40afdc8d"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a></div><div class="ttdeci">static int total</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00968">res_adsi.c:968</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab39dc11651e79b5ac59e15a1be73e81f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab39dc11651e79b5ac59e15a1be73e81f">&#9670;&nbsp;</a></span>ast_hashtab_hash_string_sax()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_hashtab_hash_string_sax </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hashes a string to a number using a modified Shift-And-XOR algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>the string to hash </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Integer has of the specified string </dd></dl>
<dl class="section see"><dt>See also</dt><dd>ast_hastable_hash_string </dd>
<dd>
ast_hastable_hash_string_nocase </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00170">170</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00968">total</a>.</p>
<div class="fragment"><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;{</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = obj;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a> = 0, <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = 0;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <span class="keywordflow">while</span> ((<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = *str++))</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      total ^= (total &lt;&lt; 5) + (total &gt;&gt; 2) + (total &lt;&lt; 10) + <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div><div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ac7af894858cf396a219d632f40afdc8d"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a></div><div class="ttdeci">static int total</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00968">res_adsi.c:968</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af8f5e362aad984cbed2a1ece67717869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8f5e362aad984cbed2a1ece67717869">&#9670;&nbsp;</a></span>ast_hashtab_initlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_hashtab_initlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this after you create the table to init the lock. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00348">348</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00222">ast_rwlock_init</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a9b07039db138693d1ebe02c3e99ddcab">ast_rwlock_init</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="lock_8h_html_a9b07039db138693d1ebe02c3e99ddcab"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a9b07039db138693d1ebe02c3e99ddcab">ast_rwlock_init</a></div><div class="ttdeci">#define ast_rwlock_init(rwlock)</div><div class="ttdoc">wrapper for rwlock with tracking enabled </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00222">lock.h:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a78b1f7bc201afd020f6270378173bb79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b1f7bc201afd020f6270378173bb79">&#9670;&nbsp;</a></span>ast_hashtab_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_hashtab_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lookup this object in the hash table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tab</td><td></td></tr>
    <tr><td class="paramname">obj</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>ptr if found </td></tr>
    <tr><td class="paramname">NULL</td><td>if not found </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00486">486</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d35/hashtab_8c_source.html#l00549">ast_hashtab_lookup_internal()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00092">ast_hashtab::hash</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l07325">ast_add_extension2_lockopt()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02443">ast_context_find()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04987">ast_context_remove_extension_callerid2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06369">context_merge()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04804">find_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>, <a class="el" href="../../de/d90/test__hashtab__thrash_8c_source.html#l00118">hash_test_lookup()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l02485">pbx_find_extension()</a>.</p>
<div class="fragment"><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;{</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   <span class="comment">/* lookup this object in the hash table. return a ptr if found, or NULL if not */</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> h;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   <span class="keywordtype">void</span> *ret;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <span class="keywordflow">if</span> (!tab || !obj)</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   h = (*tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">hash</a>)(obj) % tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   ret = <a class="code" href="../../df/d35/hashtab_8c.html#aa8bea126883ca6d3df972eb50110933a">ast_hashtab_lookup_internal</a>(tab,obj,h);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="hashtab_8c_html_aa8bea126883ca6d3df972eb50110933a"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#aa8bea126883ca6d3df972eb50110933a">ast_hashtab_lookup_internal</a></div><div class="ttdeci">static void * ast_hashtab_lookup_internal(struct ast_hashtab *tab, const void *obj, unsigned int h)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00549">hashtab.c:549</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
<div class="ttc" id="structast__hashtab_html_aa878a76bc05e383bfdb938690a28843e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">ast_hashtab::hash</a></div><div class="ttdeci">unsigned int(* hash)(const void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00092">hashtab.h:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af629a9b97b7c185c9f0d691088e24fe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af629a9b97b7c185c9f0d691088e24fe9">&#9670;&nbsp;</a></span>ast_hashtab_lookup_bucket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_hashtab_lookup_bucket </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Similar to ast_hashtab_lookup but sets h to the key hash value if the lookup fails. </p>
<dl class="section note"><dt>Note</dt><dd>This has the modulus applied, and will not be useful for long term storage if the table is resizable. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00531">531</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d35/hashtab_8c_source.html#l00549">ast_hashtab_lookup_internal()</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00092">ast_hashtab::hash</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00460">_ast_hashtab_insert_safe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;{</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   <span class="comment">/* lookup this object in the hash table. return a ptr if found, or NULL if not */</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> h;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;   <span class="keywordtype">void</span> *ret;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;   <span class="keywordflow">if</span> (!tab || !obj)</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   h = (*tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">hash</a>)(obj) % tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   ret = <a class="code" href="../../df/d35/hashtab_8c.html#aa8bea126883ca6d3df972eb50110933a">ast_hashtab_lookup_internal</a>(tab,obj,h);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   *bucket = h;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="hashtab_8c_html_aa8bea126883ca6d3df972eb50110933a"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#aa8bea126883ca6d3df972eb50110933a">ast_hashtab_lookup_internal</a></div><div class="ttdeci">static void * ast_hashtab_lookup_internal(struct ast_hashtab *tab, const void *obj, unsigned int h)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00549">hashtab.c:549</a></div></div>
<div class="ttc" id="structast__hashtab_html_aa878a76bc05e383bfdb938690a28843e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">ast_hashtab::hash</a></div><div class="ttdeci">unsigned int(* hash)(const void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00092">hashtab.h:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa8bea126883ca6d3df972eb50110933a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8bea126883ca6d3df972eb50110933a">&#9670;&nbsp;</a></span>ast_hashtab_lookup_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * ast_hashtab_lookup_internal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00549">549</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00085">ast_hashtab::array</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">b</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00088">ast_hashtab::compare</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00077">ast_hashtab_bucket::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00076">ast_hashtab_bucket::object</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00486">ast_hashtab_lookup()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00531">ast_hashtab_lookup_bucket()</a>, and <a class="el" href="../../df/d35/hashtab_8c_source.html#l00509">ast_hashtab_lookup_with_hash()</a>.</p>
<div class="fragment"><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;{</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;   <span class="keywordflow">for</span> (b = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[h]; b; b = b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>) {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">if</span> (!(*tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a49d687f2b067679439f0de8eeb623ff7">compare</a>)(obj,b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a>)) {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;         <span class="comment">/* I can&#39;t touch obj in this func, but the outside world is welcome to */</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;         <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*) b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      }</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div><div class="ttc" id="structast__hashtab__bucket_html"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00074">hashtab.h:74</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__hashtab_html_ad4a34c85bbad8598fd1e6cf37608d370"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">ast_hashtab::array</a></div><div class="ttdeci">struct ast_hashtab_bucket ** array</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00085">hashtab.h:85</a></div></div>
<div class="ttc" id="structast__hashtab_html_a49d687f2b067679439f0de8eeb623ff7"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a49d687f2b067679439f0de8eeb623ff7">ast_hashtab::compare</a></div><div class="ttdeci">int(* compare)(const void *a, const void *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00088">hashtab.h:88</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_ac4fffd2513f3061cbd51acf5381177c8"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">ast_hashtab_bucket::object</a></div><div class="ttdeci">const void * object</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00076">hashtab.h:76</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_a277291f5bb0f819abb0f739591ccd961"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">ast_hashtab_bucket::next</a></div><div class="ttdeci">struct ast_hashtab_bucket * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00077">hashtab.h:77</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a025ede890af287961d3a98d0e634a62b"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a></div><div class="ttdeci">static struct test_val b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">test_linkedlists.c:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad55e8dcfd056731bcdf275dee3dbad20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad55e8dcfd056731bcdf275dee3dbad20">&#9670;&nbsp;</a></span>ast_hashtab_lookup_with_hash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_hashtab_lookup_with_hash </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>hashval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this if have the hash val for the object. </p>
<dl class="section note"><dt>Note</dt><dd>This and avoid the recalc of the hash (the modulus (table_size) is not applied) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00509">509</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d35/hashtab_8c_source.html#l00549">ast_hashtab_lookup_internal()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   <span class="comment">/* lookup this object in the hash table. return a ptr if found, or NULL if not */</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> h;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   <span class="keywordtype">void</span> *ret;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   <span class="keywordflow">if</span> (!tab || !obj)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   h = hashval % tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   ret = <a class="code" href="../../df/d35/hashtab_8c.html#aa8bea126883ca6d3df972eb50110933a">ast_hashtab_lookup_internal</a>(tab,obj,h);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="hashtab_8c_html_aa8bea126883ca6d3df972eb50110933a"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#aa8bea126883ca6d3df972eb50110933a">ast_hashtab_lookup_internal</a></div><div class="ttdeci">static void * ast_hashtab_lookup_internal(struct ast_hashtab *tab, const void *obj, unsigned int h)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00549">hashtab.c:549</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a743bfd52a8c9eb5d939ff5944758d846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a743bfd52a8c9eb5d939ff5944758d846">&#9670;&nbsp;</a></span>ast_hashtab_newsize_java()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_newsize_java </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a prime number roughly 2x the current table size. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00127">127</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d35/hashtab_8c_source.html#l00101">ast_is_prime()</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00216">_ast_hashtab_create()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07325">ast_add_extension2_lockopt()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../de/d90/test__hashtab__thrash_8c_source.html#l00227">AST_TEST_DEFINE()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00987">lua_register_hints()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00929">lua_register_switches()</a>, and <a class="el" href="../../de/d23/pbx__ael_8c_source.html#l00146">pbx_load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   <span class="keywordtype">int</span> i = (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a> &lt;&lt; 1); <span class="comment">/* multiply by two */</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <span class="keywordflow">while</span> (!<a class="code" href="../../df/d35/hashtab_8c.html#a76a1018cc569eb65a6b29fab0a8481c1">ast_is_prime</a>(i))</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      i++;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <span class="keywordflow">return</span> i;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="hashtab_8c_html_a76a1018cc569eb65a6b29fab0a8481c1"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#a76a1018cc569eb65a6b29fab0a8481c1">ast_is_prime</a></div><div class="ttdeci">int ast_is_prime(int num)</div><div class="ttdoc">Determines if the specified number is prime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00101">hashtab.c:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c96afbac0ae8e85362cf5d64f05d350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c96afbac0ae8e85362cf5d64f05d350">&#9670;&nbsp;</a></span>ast_hashtab_newsize_none()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_newsize_none </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>always return current size &ndash; no resizing </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00148">148</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   <span class="keywordflow">return</span> tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac7c44d4b109e42af1ad35c72979af131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7c44d4b109e42af1ad35c72979af131">&#9670;&nbsp;</a></span>ast_hashtab_newsize_tight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_newsize_tight </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00137">137</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d35/hashtab_8c_source.html#l00101">ast_is_prime()</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   <span class="keywordtype">int</span> x = (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a> &lt;&lt; 1);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   <span class="keywordtype">int</span> i = (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a> + x);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   <span class="keywordflow">while</span> (!<a class="code" href="../../df/d35/hashtab_8c.html#a76a1018cc569eb65a6b29fab0a8481c1">ast_is_prime</a>(i))</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      i++;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   <span class="keywordflow">return</span> i;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="hashtab_8c_html_a76a1018cc569eb65a6b29fab0a8481c1"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#a76a1018cc569eb65a6b29fab0a8481c1">ast_is_prime</a></div><div class="ttdeci">int ast_is_prime(int num)</div><div class="ttdoc">Determines if the specified number is prime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00101">hashtab.c:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a43983b6169e9a0f9af48cca5cf9d3197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43983b6169e9a0f9af48cca5cf9d3197">&#9670;&nbsp;</a></span>ast_hashtab_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_hashtab_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d2e/structast__hashtab__iter.html">ast_hashtab_iter</a> *&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the next object in the list, advances iter one step returns null on end of traversal. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00683">683</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00108">ast_hashtab_iter::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00076">ast_hashtab_bucket::object</a>, <a class="el" href="../../db/d37/hsearch_8c_source.html#l00050">retval</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00079">ast_hashtab_bucket::tnext</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06468">ast_merge_contexts_and_delete()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06369">context_merge()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06332">context_table_create_autohints()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l01756">create_match_char_tree()</a>, and <a class="el" href="../../de/d90/test__hashtab__thrash_8c_source.html#l00188">hash_test_count()</a>.</p>
<div class="fragment"><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;{</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   <span class="comment">/* returns the next object in the list, advances iter one step */</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *<a class="code" href="../../db/d37/hsearch_8c.html#ad0f0f85b3cab490a81baa02c4b9edf45">retval</a>;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   <span class="keywordflow">if</span> (it &amp;&amp; it-&gt;<a class="code" href="../../d3/d2e/structast__hashtab__iter.html#a277291f5bb0f819abb0f739591ccd961">next</a>) { <span class="comment">/* there&#39;s a next in the bucket list */</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      retval = it-&gt;<a class="code" href="../../d3/d2e/structast__hashtab__iter.html#a277291f5bb0f819abb0f739591ccd961">next</a>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      it-&gt;<a class="code" href="../../d3/d2e/structast__hashtab__iter.html#a277291f5bb0f819abb0f739591ccd961">next</a> = retval-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a>;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *) retval-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div><div class="ttc" id="structast__hashtab__bucket_html_ad3f87b9bd48bdc73946d7f5c48d3f00a"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">ast_hashtab_bucket::tnext</a></div><div class="ttdeci">struct ast_hashtab_bucket * tnext</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00079">hashtab.h:79</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00074">hashtab.h:74</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__hashtab__iter_html_a277291f5bb0f819abb0f739591ccd961"><div class="ttname"><a href="../../d3/d2e/structast__hashtab__iter.html#a277291f5bb0f819abb0f739591ccd961">ast_hashtab_iter::next</a></div><div class="ttdeci">struct ast_hashtab_bucket * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00108">hashtab.h:108</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_ac4fffd2513f3061cbd51acf5381177c8"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">ast_hashtab_bucket::object</a></div><div class="ttdeci">const void * object</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00076">hashtab.h:76</a></div></div>
<div class="ttc" id="hsearch_8c_html_ad0f0f85b3cab490a81baa02c4b9edf45"><div class="ttname"><a href="../../db/d37/hsearch_8c.html#ad0f0f85b3cab490a81baa02c4b9edf45">retval</a></div><div class="ttdeci">static ENTRY retval</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d37/hsearch_8c_source.html#l00050">hsearch.c:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a56846aff6af7e13e3cffc9d21594fb40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56846aff6af7e13e3cffc9d21594fb40">&#9670;&nbsp;</a></span>ast_hashtab_rdlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_hashtab_rdlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request a read-lock on the table &ndash; don't change anything! </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00343">343</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a86729040ecad330864abfa0e2b2c0af1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86729040ecad330864abfa0e2b2c0af1">&#9670;&nbsp;</a></span>ast_hashtab_remove_object_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* ast_hashtab_remove_object_internal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00697">697</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00085">ast_hashtab::array</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00095">ast_hashtab::hash_tab_elements</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00077">ast_hashtab_bucket::next</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00076">ast_hashtab_bucket::object</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00078">ast_hashtab_bucket::prev</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00086">ast_hashtab::tlist</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00305">tlist_del_item()</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00079">ast_hashtab_bucket::tnext</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00080">ast_hashtab_bucket::tprev</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00765">ast_hashtab_remove_object_via_lookup_nolock()</a>, and <a class="el" href="../../df/d35/hashtab_8c_source.html#l00810">ast_hashtab_remove_this_object_nolock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;{</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">void</span> *obj2;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   <span class="keywordflow">if</span> (b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#af0ab45e37ae5f4c9a984ecea99ec9be4">prev</a>)</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#af0ab45e37ae5f4c9a984ecea99ec9be4">prev</a>-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a> = b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[h] = b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   <span class="keywordflow">if</span> (b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>)</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#af0ab45e37ae5f4c9a984ecea99ec9be4">prev</a> = b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#af0ab45e37ae5f4c9a984ecea99ec9be4">prev</a>;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   <a class="code" href="../../df/d35/hashtab_8c.html#acea5c0d1395a2a9a8e5287a37b0b8c7c">tlist_del_item</a>(&amp;(tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">tlist</a>), b);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   obj2 = b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a>;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a> = b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a> = (<span class="keywordtype">void</span>*)2;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(b); <span class="comment">/* free up the hashbucket */</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;   tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">hash_tab_elements</a>--;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <span class="keywordtype">int</span> c2;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *b2;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="comment">/* do a little checking */</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <span class="keywordflow">for</span> (c2 = 0, b2 = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">tlist</a>; b2; b2 = b2-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a>) {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;         c2++;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">if</span> (c2 != tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">hash_tab_elements</a>) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;         printf(<span class="stringliteral">&quot;Hey! we didn&#39;t delete right! there are %d elements in the list, and we expected %d\n&quot;</span>,</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;               c2, tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">hash_tab_elements</a>);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordflow">for</span> (c2 = 0, b2 = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">tlist</a>; b2; b2 = b2-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a>) {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> obj3 = (<span class="keywordtype">unsigned</span> long) obj2;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> b3 = (<span class="keywordtype">unsigned</span> long) b;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;         <span class="keywordflow">if</span> (b2-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a> == obj2)</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            printf(<span class="stringliteral">&quot;Hey-- you&#39;ve still got a bucket pointing at ht_element %x\n&quot;</span>, obj3);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;         <span class="keywordflow">if</span> (b2-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a> == b)</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            printf(<span class="stringliteral">&quot;Hey-- you&#39;ve still got a bucket with next ptr pointing to deleted bucket %x\n&quot;</span>, b3);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;         <span class="keywordflow">if</span> (b2-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#af0ab45e37ae5f4c9a984ecea99ec9be4">prev</a> == b)</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            printf(<span class="stringliteral">&quot;Hey-- you&#39;ve still got a bucket with prev ptr pointing to deleted bucket %x\n&quot;</span>, b3);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;         <span class="keywordflow">if</span> (b2-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a6c8449130d6e42faf1a1879c8f78304a">tprev</a> == b)</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            printf(<span class="stringliteral">&quot;Hey-- you&#39;ve still got a bucket with tprev ptr pointing to deleted bucket %x\n&quot;</span>, b3);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;         <span class="keywordflow">if</span> (b2-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a> == b)</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            printf(<span class="stringliteral">&quot;Hey-- you&#39;ve still got a bucket with tnext ptr pointing to deleted bucket %x\n&quot;</span>, b3);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;   }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;   <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *) obj2; <span class="comment">/* inside this code, the obj&#39;s are untouchable, but outside, they aren&#39;t */</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;}</div><div class="ttc" id="structast__hashtab__bucket_html_ad3f87b9bd48bdc73946d7f5c48d3f00a"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">ast_hashtab_bucket::tnext</a></div><div class="ttdeci">struct ast_hashtab_bucket * tnext</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00079">hashtab.h:79</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00074">hashtab.h:74</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_a6c8449130d6e42faf1a1879c8f78304a"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#a6c8449130d6e42faf1a1879c8f78304a">ast_hashtab_bucket::tprev</a></div><div class="ttdeci">struct ast_hashtab_bucket * tprev</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00080">hashtab.h:80</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_af0ab45e37ae5f4c9a984ecea99ec9be4"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#af0ab45e37ae5f4c9a984ecea99ec9be4">ast_hashtab_bucket::prev</a></div><div class="ttdeci">struct ast_hashtab_bucket * prev</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00078">hashtab.h:78</a></div></div>
<div class="ttc" id="structast__hashtab_html_ad4a34c85bbad8598fd1e6cf37608d370"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">ast_hashtab::array</a></div><div class="ttdeci">struct ast_hashtab_bucket ** array</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00085">hashtab.h:85</a></div></div>
<div class="ttc" id="hashtab_8c_html_acea5c0d1395a2a9a8e5287a37b0b8c7c"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#acea5c0d1395a2a9a8e5287a37b0b8c7c">tlist_del_item</a></div><div class="ttdeci">static void tlist_del_item(struct ast_hashtab_bucket **head, struct ast_hashtab_bucket *item)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00305">hashtab.c:305</a></div></div>
<div class="ttc" id="structast__hashtab_html_abc3c4c519a852f85284868cb68c8a44e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#abc3c4c519a852f85284868cb68c8a44e">ast_hashtab::tlist</a></div><div class="ttdeci">struct ast_hashtab_bucket * tlist</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00086">hashtab.h:86</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_ac4fffd2513f3061cbd51acf5381177c8"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">ast_hashtab_bucket::object</a></div><div class="ttdeci">const void * object</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00076">hashtab.h:76</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_a277291f5bb0f819abb0f739591ccd961"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">ast_hashtab_bucket::next</a></div><div class="ttdeci">struct ast_hashtab_bucket * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00077">hashtab.h:77</a></div></div>
<div class="ttc" id="structast__hashtab_html_a46bc973b99fd63faabcf465499d58167"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">ast_hashtab::hash_tab_elements</a></div><div class="ttdeci">int hash_tab_elements</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00095">hashtab.h:95</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a313b62d20344c2c85461dd4ed893017c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a313b62d20344c2c85461dd4ed893017c">&#9670;&nbsp;</a></span>ast_hashtab_remove_object_via_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_hashtab_remove_object_via_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Looks up the object, removes the corresponding bucket. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00746">746</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d35/hashtab_8c_source.html#l00765">ast_hashtab_remove_object_via_lookup_nolock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l07109">add_priority()</a>, and <a class="el" href="../../de/d90/test__hashtab__thrash_8c_source.html#l00159">hash_test_shrink()</a>.</p>
<div class="fragment"><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;{</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;   <span class="comment">/* looks up the object; removes the corresponding bucket */</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">void</span> *obj2;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;   <span class="keywordflow">if</span> (!tab || !obj)</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;   obj2 = <a class="code" href="../../df/d35/hashtab_8c.html#ad7ee24c838111389b9781324364f8c00">ast_hashtab_remove_object_via_lookup_nolock</a>(tab,obj);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)obj2;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
<div class="ttc" id="hashtab_8c_html_ad7ee24c838111389b9781324364f8c00"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#ad7ee24c838111389b9781324364f8c00">ast_hashtab_remove_object_via_lookup_nolock</a></div><div class="ttdeci">void * ast_hashtab_remove_object_via_lookup_nolock(struct ast_hashtab *tab, void *obj)</div><div class="ttdoc">Looks up the object, removes the corresponding bucket. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00765">hashtab.c:765</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7ee24c838111389b9781324364f8c00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7ee24c838111389b9781324364f8c00">&#9670;&nbsp;</a></span>ast_hashtab_remove_object_via_lookup_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_hashtab_remove_object_via_lookup_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Looks up the object, removes the corresponding bucket. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00765">765</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00085">ast_hashtab::array</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00697">ast_hashtab_remove_object_internal()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">b</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00088">ast_hashtab::compare</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00092">ast_hashtab::hash</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00077">ast_hashtab_bucket::next</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00076">ast_hashtab_bucket::object</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00746">ast_hashtab_remove_object_via_lookup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;{</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   <span class="comment">/* looks up the object; removes the corresponding bucket */</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> h;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;   <span class="keywordflow">if</span> (!tab || !obj)</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;   h = (*tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">hash</a>)(obj) % tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   <span class="keywordflow">for</span> (b = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[h]; b; b = b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>) {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">if</span> (!(*tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a49d687f2b067679439f0de8eeb623ff7">compare</a>)(obj, b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a>)) {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;         <span class="keyword">const</span> <span class="keywordtype">void</span> *obj2;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;         obj2 = <a class="code" href="../../df/d35/hashtab_8c.html#a86729040ecad330864abfa0e2b2c0af1">ast_hashtab_remove_object_internal</a>(tab, b, h);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;         <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *) obj2; <span class="comment">/* inside this code, the obj&#39;s are untouchable, but outside, they aren&#39;t */</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00074">hashtab.h:74</a></div></div>
<div class="ttc" id="structast__hashtab_html_ad4a34c85bbad8598fd1e6cf37608d370"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">ast_hashtab::array</a></div><div class="ttdeci">struct ast_hashtab_bucket ** array</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00085">hashtab.h:85</a></div></div>
<div class="ttc" id="structast__hashtab_html_a49d687f2b067679439f0de8eeb623ff7"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a49d687f2b067679439f0de8eeb623ff7">ast_hashtab::compare</a></div><div class="ttdeci">int(* compare)(const void *a, const void *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00088">hashtab.h:88</a></div></div>
<div class="ttc" id="hashtab_8c_html_a86729040ecad330864abfa0e2b2c0af1"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#a86729040ecad330864abfa0e2b2c0af1">ast_hashtab_remove_object_internal</a></div><div class="ttdeci">static void * ast_hashtab_remove_object_internal(struct ast_hashtab *tab, struct ast_hashtab_bucket *b, int h)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00697">hashtab.c:697</a></div></div>
<div class="ttc" id="structast__hashtab_html_aa878a76bc05e383bfdb938690a28843e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">ast_hashtab::hash</a></div><div class="ttdeci">unsigned int(* hash)(const void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00092">hashtab.h:92</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_ac4fffd2513f3061cbd51acf5381177c8"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">ast_hashtab_bucket::object</a></div><div class="ttdeci">const void * object</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00076">hashtab.h:76</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_a277291f5bb0f819abb0f739591ccd961"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">ast_hashtab_bucket::next</a></div><div class="ttdeci">struct ast_hashtab_bucket * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00077">hashtab.h:77</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a025ede890af287961d3a98d0e634a62b"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a></div><div class="ttdeci">static struct test_val b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">test_linkedlists.c:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a71bd19ff2f6fad1cf5e01f9b8cad6f66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71bd19ff2f6fad1cf5e01f9b8cad6f66">&#9670;&nbsp;</a></span>ast_hashtab_remove_this_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_hashtab_remove_this_object </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hash the object and then compare ptrs in bucket list instead of calling the compare routine, will remove the bucket. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00789">789</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d35/hashtab_8c_source.html#l00810">ast_hashtab_remove_this_object_nolock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00099">ast_hashtab::do_locking</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07325">ast_add_extension2_lockopt()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l04987">ast_context_remove_extension_callerid2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;{</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;   <span class="comment">/* looks up the object by hash and then comparing pts in bucket list instead of</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">      calling the compare routine; removes the bucket -- a slightly cheaper operation */</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;   <span class="comment">/* looks up the object; removes the corresponding bucket */</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">void</span> *obj2;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;   <span class="keywordflow">if</span> (!tab || !obj)</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   obj2 = <a class="code" href="../../df/d35/hashtab_8c.html#ae9ca6365402722ebda78f20c9245b1fe">ast_hashtab_remove_this_object_nolock</a>(tab,obj);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">do_locking</a>)</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)obj2;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;}</div><div class="ttc" id="hashtab_8c_html_ae9ca6365402722ebda78f20c9245b1fe"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#ae9ca6365402722ebda78f20c9245b1fe">ast_hashtab_remove_this_object_nolock</a></div><div class="ttdeci">void * ast_hashtab_remove_this_object_nolock(struct ast_hashtab *tab, void *obj)</div><div class="ttdoc">Hash the object and then compare ptrs in bucket list instead of calling the compare routine...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00810">hashtab.c:810</a></div></div>
<div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="structast__hashtab_html_ac53417dd5a9c9583bdacc986bb861c60"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ac53417dd5a9c9583bdacc986bb861c60">ast_hashtab::do_locking</a></div><div class="ttdeci">int do_locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00099">hashtab.h:99</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9ca6365402722ebda78f20c9245b1fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9ca6365402722ebda78f20c9245b1fe">&#9670;&nbsp;</a></span>ast_hashtab_remove_this_object_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_hashtab_remove_this_object_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hash the object and then compare ptrs in bucket list instead of calling the compare routine, will remove the bucket. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00810">810</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00085">ast_hashtab::array</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00697">ast_hashtab_remove_object_internal()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">b</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00092">ast_hashtab::hash</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00077">ast_hashtab_bucket::next</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00076">ast_hashtab_bucket::object</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00789">ast_hashtab_remove_this_object()</a>.</p>
<div class="fragment"><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;{</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   <span class="comment">/* looks up the object by hash and then comparing pts in bucket list instead of</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">      calling the compare routine; removes the bucket -- a slightly cheaper operation */</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   <span class="comment">/* looks up the object; removes the corresponding bucket */</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> h;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;   <span class="keywordflow">if</span> (!tab || !obj)</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   h = (*tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">hash</a>)(obj) % tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <span class="keywordflow">for</span> (b = tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">array</a>[h]; b; b = b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">next</a>) {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keywordflow">if</span> (obj == b-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">object</a>) {</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;         <span class="keyword">const</span> <span class="keywordtype">void</span> *obj2;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;         obj2 = <a class="code" href="../../df/d35/hashtab_8c.html#a86729040ecad330864abfa0e2b2c0af1">ast_hashtab_remove_object_internal</a>(tab, b, h);</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;         <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *) obj2; <span class="comment">/* inside this code, the obj&#39;s are untouchable, but outside, they aren&#39;t */</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   }</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00074">hashtab.h:74</a></div></div>
<div class="ttc" id="structast__hashtab_html_ad4a34c85bbad8598fd1e6cf37608d370"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ad4a34c85bbad8598fd1e6cf37608d370">ast_hashtab::array</a></div><div class="ttdeci">struct ast_hashtab_bucket ** array</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00085">hashtab.h:85</a></div></div>
<div class="ttc" id="hashtab_8c_html_a86729040ecad330864abfa0e2b2c0af1"><div class="ttname"><a href="../../df/d35/hashtab_8c.html#a86729040ecad330864abfa0e2b2c0af1">ast_hashtab_remove_object_internal</a></div><div class="ttdeci">static void * ast_hashtab_remove_object_internal(struct ast_hashtab *tab, struct ast_hashtab_bucket *b, int h)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00697">hashtab.c:697</a></div></div>
<div class="ttc" id="structast__hashtab_html_aa878a76bc05e383bfdb938690a28843e"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#aa878a76bc05e383bfdb938690a28843e">ast_hashtab::hash</a></div><div class="ttdeci">unsigned int(* hash)(const void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00092">hashtab.h:92</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_ac4fffd2513f3061cbd51acf5381177c8"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ac4fffd2513f3061cbd51acf5381177c8">ast_hashtab_bucket::object</a></div><div class="ttdeci">const void * object</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00076">hashtab.h:76</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_a277291f5bb0f819abb0f739591ccd961"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#a277291f5bb0f819abb0f739591ccd961">ast_hashtab_bucket::next</a></div><div class="ttdeci">struct ast_hashtab_bucket * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00077">hashtab.h:77</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a025ede890af287961d3a98d0e634a62b"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a></div><div class="ttdeci">static struct test_val b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">test_linkedlists.c:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aef63906caa0b965e9c8d8561600038e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef63906caa0b965e9c8d8561600038e9">&#9670;&nbsp;</a></span>ast_hashtab_resize_java()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_resize_java </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines if a table resize should occur using the Java algorithm (if the table load factor is 75% or higher). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tab</td><td>the hash table to operate on </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the table load factor is less than or equal to 75% </td></tr>
    <tr><td class="paramname">1</td><td>if the table load factor is greater than 75% </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00084">84</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00095">ast_hashtab::hash_tab_elements</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00216">_ast_hashtab_create()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07325">ast_add_extension2_lockopt()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../de/d90/test__hashtab__thrash_8c_source.html#l00227">AST_TEST_DEFINE()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00987">lua_register_hints()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00929">lua_register_switches()</a>, and <a class="el" href="../../de/d23/pbx__ael_8c_source.html#l00146">pbx_load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;{</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   <span class="keywordtype">double</span> loadfactor = (double) tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">hash_tab_elements</a> / (<span class="keywordtype">double</span>) tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;   <span class="keywordflow">return</span> (loadfactor &gt; 0.75);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="structast__hashtab_html_a46bc973b99fd63faabcf465499d58167"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">ast_hashtab::hash_tab_elements</a></div><div class="ttdeci">int hash_tab_elements</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00095">hashtab.h:95</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af9b890f1277ab38f3b14b4fab1e311d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9b890f1277ab38f3b14b4fab1e311d3">&#9670;&nbsp;</a></span>ast_hashtab_resize_none()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_resize_none </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Effectively disables resizing by always returning 0, regardless of of load factor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tab</td><td>the hash table to operate on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 is always returned </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00096">96</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ad1c8c01df7f3a22daaf5b220dbd6eb5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1c8c01df7f3a22daaf5b220dbd6eb5c">&#9670;&nbsp;</a></span>ast_hashtab_resize_tight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_resize_tight </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Causes a resize whenever the number of elements stored in the table exceeds the number of buckets in the table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tab</td><td>the hash table to operate on </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the number of elements in the table is less than or equal to the number of buckets </td></tr>
    <tr><td class="paramname">1</td><td>if the number of elements in the table exceeds the number of buckets </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00091">91</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00095">ast_hashtab::hash_tab_elements</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00094">ast_hashtab::hash_tab_size</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   <span class="keywordflow">return</span> (tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">hash_tab_elements</a> &gt; tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">hash_tab_size</a>); <span class="comment">/* this is quicker than division */</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_a65e874326c71bc3cc8009f6899ca4eb6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a65e874326c71bc3cc8009f6899ca4eb6">ast_hashtab::hash_tab_size</a></div><div class="ttdeci">int hash_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00094">hashtab.h:94</a></div></div>
<div class="ttc" id="structast__hashtab_html_a46bc973b99fd63faabcf465499d58167"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">ast_hashtab::hash_tab_elements</a></div><div class="ttdeci">int hash_tab_elements</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00095">hashtab.h:95</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3452d3a8bca5b4f2611bb96b7a44f31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3452d3a8bca5b4f2611bb96b7a44f31">&#9670;&nbsp;</a></span>ast_hashtab_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of elements stored in the hashtab. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00577">577</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00095">ast_hashtab::hash_tab_elements</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04987">ast_context_remove_extension_callerid2()</a>, and <a class="el" href="../../de/d90/test__hashtab__thrash_8c_source.html#l00227">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;{</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   <span class="keywordflow">return</span> tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">hash_tab_elements</a>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_a46bc973b99fd63faabcf465499d58167"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#a46bc973b99fd63faabcf465499d58167">ast_hashtab::hash_tab_elements</a></div><div class="ttdeci">int hash_tab_elements</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00095">hashtab.h:95</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0075220de774384c45e3cf3906d51110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0075220de774384c45e3cf3906d51110">&#9670;&nbsp;</a></span>ast_hashtab_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_hashtab_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>release a read- or write- lock. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00358">358</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2afda46f84d0aec79d91155b6981800a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2afda46f84d0aec79d91155b6981800a">&#9670;&nbsp;</a></span>ast_hashtab_wrlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_hashtab_wrlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request a write-lock on the table. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00338">338</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00101">ast_hashtab::lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;tab-&gt;<a class="code" href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div><div class="ttc" id="structast__hashtab_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d0/d4a/structast__hashtab.html#ace4e0066a5b24f84b90536e9906619f6">ast_hashtab::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00101">hashtab.h:101</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a76a1018cc569eb65a6b29fab0a8481c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76a1018cc569eb65a6b29fab0a8481c1">&#9670;&nbsp;</a></span>ast_is_prime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_is_prime </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines if the specified number is prime. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>the number to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the number is not prime </td></tr>
    <tr><td class="paramname">1</td><td>if the number is prime </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00101">101</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00216">_ast_hashtab_create()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00127">ast_hashtab_newsize_java()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00137">ast_hashtab_newsize_tight()</a>, and <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00316">sorcery_config_internal_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;   <span class="keywordtype">int</span> tnum, limit;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <span class="keywordflow">if</span> (!(num &amp; 0x1)) <span class="comment">/* even number -- not prime */</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <span class="comment">/* Loop through ODD numbers starting with 3 */</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   tnum = 3;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   limit = num;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <span class="keywordflow">while</span> (tnum &lt; limit) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordflow">if</span> (!(num % tnum))</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="comment">/* really, we only need to check sqrt(num) numbers */</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      limit = num / tnum;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <span class="comment">/* we only check odd numbers */</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      tnum = tnum + 2;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="comment">/* if we made it through the loop, the number is a prime */</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a0a70cc0111c648216070a8415fe6d133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a70cc0111c648216070a8415fe6d133">&#9670;&nbsp;</a></span>tlist_add_head()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tlist_add_head </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> **&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00320">320</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d4f/test__config_8c_source.html#l01463">item</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00079">ast_hashtab_bucket::tnext</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00080">ast_hashtab_bucket::tprev</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00425">_ast_hashtab_insert_immediate_bucket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;{</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keywordflow">if</span> (*head) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      item-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a> = *head;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      item-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a6c8449130d6e42faf1a1879c8f78304a">tprev</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      (*head)-&gt;tprev = <a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      *head = <a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="comment">/* the list is empty */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      *head = <a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      item-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a6c8449130d6e42faf1a1879c8f78304a">tprev</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      item-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div><div class="ttc" id="structast__hashtab__bucket_html_ad3f87b9bd48bdc73946d7f5c48d3f00a"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">ast_hashtab_bucket::tnext</a></div><div class="ttdeci">struct ast_hashtab_bucket * tnext</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00079">hashtab.h:79</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_a6c8449130d6e42faf1a1879c8f78304a"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#a6c8449130d6e42faf1a1879c8f78304a">ast_hashtab_bucket::tprev</a></div><div class="ttdeci">struct ast_hashtab_bucket * tprev</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00080">hashtab.h:80</a></div></div>
<div class="ttc" id="test__config_8c_html_aecdc7cbd5dfa76493c0212caa55d706c"><div class="ttname"><a href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a></div><div class="ttdeci">static struct aco_type item</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4f/test__config_8c_source.html#l01463">test_config.c:1463</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acea5c0d1395a2a9a8e5287a37b0b8c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acea5c0d1395a2a9a8e5287a37b0b8c7c">&#9670;&nbsp;</a></span>tlist_del_item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tlist_del_item </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> **&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dc7/structast__hashtab__bucket.html">ast_hashtab_bucket</a> *&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d35/hashtab_8c_source.html#l00305">305</a> of file <a class="el" href="../../df/d35/hashtab_8c_source.html">hashtab.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00079">ast_hashtab_bucket::tnext</a>, and <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00080">ast_hashtab_bucket::tprev</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00363">ast_hashtab_destroy()</a>, and <a class="el" href="../../df/d35/hashtab_8c_source.html#l00697">ast_hashtab_remove_object_internal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   <span class="comment">/* item had better be in the list! or suffer the weirdness that occurs, later! */</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   <span class="keywordflow">if</span> (*head == item) { <span class="comment">/* first item in the list */</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      *head = item-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keywordflow">if</span> (item-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a>)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;         item-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a>-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a6c8449130d6e42faf1a1879c8f78304a">tprev</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="comment">/* short circuit stuff */</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      item-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a6c8449130d6e42faf1a1879c8f78304a">tprev</a>-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a> = item-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">if</span> (item-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a>)</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;         item-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">tnext</a>-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a6c8449130d6e42faf1a1879c8f78304a">tprev</a> = item-&gt;<a class="code" href="../../d5/dc7/structast__hashtab__bucket.html#a6c8449130d6e42faf1a1879c8f78304a">tprev</a>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div><div class="ttc" id="structast__hashtab__bucket_html_ad3f87b9bd48bdc73946d7f5c48d3f00a"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#ad3f87b9bd48bdc73946d7f5c48d3f00a">ast_hashtab_bucket::tnext</a></div><div class="ttdeci">struct ast_hashtab_bucket * tnext</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00079">hashtab.h:79</a></div></div>
<div class="ttc" id="structast__hashtab__bucket_html_a6c8449130d6e42faf1a1879c8f78304a"><div class="ttname"><a href="../../d5/dc7/structast__hashtab__bucket.html#a6c8449130d6e42faf1a1879c8f78304a">ast_hashtab_bucket::tprev</a></div><div class="ttdeci">struct ast_hashtab_bucket * tprev</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00080">hashtab.h:80</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:45:59 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
