<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: adsi.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">adsi.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>ADSI Support (built upon Caller*ID)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/de2/adsi_8h_source.html">asterisk/adsi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for adsi.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d0d/adsi_8c__incl.png" border="0" usemap="#adsi_8c" alt=""/></div>
<map name="adsi_8c" id="adsi_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="790,80,874,107"/>
<area shape="rect" id="node22" href="../../df/de2/adsi_8h.html" title="ADSI Support (built upon Caller*ID) " alt="" coords="1796,80,1911,107"/>
<area shape="rect" id="node25" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1433,80,1546,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1755,304,1910,331"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="684,155,821,181"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="845,155,980,181"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="1759,379,1906,405"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1180,229,1322,256"/>
<area shape="rect" id="node23" href="../../de/d47/callerid_8h.html" title="CallerID (and other GR30) management and generation Includes code and algorithms from the Zapata libr..." alt="" coords="2014,155,2147,181"/>
<area shape="rect" id="node24" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="2030,229,2160,256"/>
<area shape="rect" id="node27" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1692,155,1754,181"/>
<area shape="rect" id="node29" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1536,229,1683,256"/>
<area shape="rect" id="node32" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="1414,155,1565,181"/>
<area shape="rect" id="node33" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1806,155,1933,181"/>
<area shape="rect" id="node34" href="../../d7/d5b/options_8h.html" title="Options provided by main asterisk program. " alt="" coords="1870,229,2005,256"/>
</map>
</div>
</div>
<p><a href="../../de/d78/adsi_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae053c0d0d34986cdafa06dab80d836b9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#ae053c0d0d34986cdafa06dab80d836b9">ast_adsi_available</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:ae053c0d0d34986cdafa06dab80d836b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns non-zero if Channel does or might support ADSI.  <a href="#ae053c0d0d34986cdafa06dab80d836b9">More...</a><br /></td></tr>
<tr class="separator:ae053c0d0d34986cdafa06dab80d836b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a664d01277c0ae1f12abbe6806ffcaccc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a664d01277c0ae1f12abbe6806ffcaccc">ast_adsi_begin_download</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, char *<a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, unsigned char *fdn, unsigned char *sec, int <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a>)</td></tr>
<tr class="separator:a664d01277c0ae1f12abbe6806ffcaccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30425e48827f742b97a71d424ec7f1b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a30425e48827f742b97a71d424ec7f1b3">ast_adsi_channel_restore</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a30425e48827f742b97a71d424ec7f1b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a755d8a80c0104d24060b02470fff53be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a755d8a80c0104d24060b02470fff53be">ast_adsi_clear_screen</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="separator:a755d8a80c0104d24060b02470fff53be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3268a390e925b05f56f649cf60ae244"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#ae3268a390e925b05f56f649cf60ae244">ast_adsi_clear_soft_keys</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="separator:ae3268a390e925b05f56f649cf60ae244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7424d849e6ead4f8be772290d9eabf58"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a7424d849e6ead4f8be772290d9eabf58">ast_adsi_connect_session</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, unsigned char *fdn, int ver)</td></tr>
<tr class="memdesc:a7424d849e6ead4f8be772290d9eabf58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects an ADSI Display Session.  <a href="#a7424d849e6ead4f8be772290d9eabf58">More...</a><br /></td></tr>
<tr class="separator:a7424d849e6ead4f8be772290d9eabf58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392cb4fb1c98045c30589b62edb127ca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a392cb4fb1c98045c30589b62edb127ca">ast_adsi_data_mode</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="memdesc:a392cb4fb1c98045c30589b62edb127ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts CPE in data mode.  <a href="#a392cb4fb1c98045c30589b62edb127ca">More...</a><br /></td></tr>
<tr class="separator:a392cb4fb1c98045c30589b62edb127ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae60ab8ff1532978d62d4ad0f4d73ccaa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#ae60ab8ff1532978d62d4ad0f4d73ccaa">ast_adsi_disconnect_session</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="memdesc:ae60ab8ff1532978d62d4ad0f4d73ccaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects a running session.  <a href="#ae60ab8ff1532978d62d4ad0f4d73ccaa">More...</a><br /></td></tr>
<tr class="separator:ae60ab8ff1532978d62d4ad0f4d73ccaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a093a3e70337056f4bb6a2b965127cb34"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a093a3e70337056f4bb6a2b965127cb34">ast_adsi_display</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int page, int line, int just, int wrap, char *col1, char *col2)</td></tr>
<tr class="memdesc:a093a3e70337056f4bb6a2b965127cb34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a line of info into the display.  <a href="#a093a3e70337056f4bb6a2b965127cb34">More...</a><br /></td></tr>
<tr class="separator:a093a3e70337056f4bb6a2b965127cb34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b1b68c66ed816b0ff8879d7df1b33d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a21b1b68c66ed816b0ff8879d7df1b33d">ast_adsi_download_connect</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, char *<a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, unsigned char *fdn, unsigned char *sec, int ver)</td></tr>
<tr class="memdesc:a21b1b68c66ed816b0ff8879d7df1b33d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin an ADSI script download.  <a href="#a21b1b68c66ed816b0ff8879d7df1b33d">More...</a><br /></td></tr>
<tr class="separator:a21b1b68c66ed816b0ff8879d7df1b33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcf83d43ae50c9f89365699d8974c7b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#adcf83d43ae50c9f89365699d8974c7b7">ast_adsi_download_disconnect</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="memdesc:adcf83d43ae50c9f89365699d8974c7b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects (and hopefully saves) a downloaded script.  <a href="#adcf83d43ae50c9f89365699d8974c7b7">More...</a><br /></td></tr>
<tr class="separator:adcf83d43ae50c9f89365699d8974c7b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc50da4e3e25e75245268963ecc5fcd0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#acc50da4e3e25e75245268963ecc5fcd0">ast_adsi_end_download</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:acc50da4e3e25e75245268963ecc5fcd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4e02f1e9652cbdba8175a5f651f4b54"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#ac4e02f1e9652cbdba8175a5f651f4b54">ast_adsi_get_cpeid</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned char *cpeid, int voice)</td></tr>
<tr class="separator:ac4e02f1e9652cbdba8175a5f651f4b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a1b795cf4380233ea33ff69398dcd2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#ad0a1b795cf4380233ea33ff69398dcd2">ast_adsi_get_cpeinfo</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, int *width, int *height, int *buttons, int voice)</td></tr>
<tr class="separator:ad0a1b795cf4380233ea33ff69398dcd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbaf47d66d63f4844a68ddfa8209e73e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#abbaf47d66d63f4844a68ddfa8209e73e">ast_adsi_input_control</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int page, int line, int display, int <a class="el" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>, int just)</td></tr>
<tr class="memdesc:abbaf47d66d63f4844a68ddfa8209e73e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set input information.  <a href="#abbaf47d66d63f4844a68ddfa8209e73e">More...</a><br /></td></tr>
<tr class="separator:abbaf47d66d63f4844a68ddfa8209e73e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1207eca69705174ac9cdcc71d49fb2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#ac1207eca69705174ac9cdcc71d49fb2f">ast_adsi_input_format</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int num, int dir, int wrap, char *format1, char *format2)</td></tr>
<tr class="memdesc:ac1207eca69705174ac9cdcc71d49fb2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set input format.  <a href="#ac1207eca69705174ac9cdcc71d49fb2f">More...</a><br /></td></tr>
<tr class="separator:ac1207eca69705174ac9cdcc71d49fb2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8875b715787b34237f48b5b4235f5672"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a8875b715787b34237f48b5b4235f5672">ast_adsi_install_funcs</a> (const struct <a class="el" href="../../d1/d41/structadsi__funcs.html">adsi_funcs</a> *funcs)</td></tr>
<tr class="separator:a8875b715787b34237f48b5b4235f5672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac80689408529c01f75cb698fc2e407fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#ac80689408529c01f75cb698fc2e407fb">ast_adsi_load_session</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned char *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, int ver, int data)</td></tr>
<tr class="memdesc:ac80689408529c01f75cb698fc2e407fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if scripts for a given app are already loaded. Version may be -1, if any version is okay, or 0-255 for a specific version.  <a href="#ac80689408529c01f75cb698fc2e407fb">More...</a><br /></td></tr>
<tr class="separator:ac80689408529c01f75cb698fc2e407fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21fe6b189347ac24dbcd134c03fcddf6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a21fe6b189347ac24dbcd134c03fcddf6">ast_adsi_load_soft_key</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int key, const char *llabel, const char *slabel, char *ret, int data)</td></tr>
<tr class="memdesc:a21fe6b189347ac24dbcd134c03fcddf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates "load soft key" parameters.  <a href="#a21fe6b189347ac24dbcd134c03fcddf6">More...</a><br /></td></tr>
<tr class="separator:a21fe6b189347ac24dbcd134c03fcddf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52fbf5d1495c8e8d013f71d4b5c4af0e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a52fbf5d1495c8e8d013f71d4b5c4af0e">ast_adsi_print</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, char **<a class="el" href="../../df/d58/structlines.html">lines</a>, int *align, int voice)</td></tr>
<tr class="memdesc:a52fbf5d1495c8e8d013f71d4b5c4af0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display some stuff on the screen.  <a href="#a52fbf5d1495c8e8d013f71d4b5c4af0e">More...</a><br /></td></tr>
<tr class="separator:a52fbf5d1495c8e8d013f71d4b5c4af0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b8607f63f8c897ad816208975df417"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a69b8607f63f8c897ad816208975df417">ast_adsi_query_cpeid</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="separator:a69b8607f63f8c897ad816208975df417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59daf62d46345f631427dff2e400de32"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a59daf62d46345f631427dff2e400de32">ast_adsi_query_cpeinfo</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="separator:a59daf62d46345f631427dff2e400de32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae43688d88a91adb73e4162320dcd3ebc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#ae43688d88a91adb73e4162320dcd3ebc">ast_adsi_read_encoded_dtmf</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int maxlen)</td></tr>
<tr class="separator:ae43688d88a91adb73e4162320dcd3ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9091dd77412994b2a87c5b30dfb8f6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#ae9091dd77412994b2a87c5b30dfb8f6a">ast_adsi_set_keys</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, unsigned char *<a class="el" href="../../d2/df1/structkeys.html">keys</a>)</td></tr>
<tr class="memdesc:ae9091dd77412994b2a87c5b30dfb8f6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set which soft keys should be displayed.  <a href="#ae9091dd77412994b2a87c5b30dfb8f6a">More...</a><br /></td></tr>
<tr class="separator:ae9091dd77412994b2a87c5b30dfb8f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb25cc4c49eef004a59d4488fbb3b53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a7fb25cc4c49eef004a59d4488fbb3b53">ast_adsi_set_line</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int page, int line)</td></tr>
<tr class="memdesc:a7fb25cc4c49eef004a59d4488fbb3b53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current line and page.  <a href="#a7fb25cc4c49eef004a59d4488fbb3b53">More...</a><br /></td></tr>
<tr class="separator:a7fb25cc4c49eef004a59d4488fbb3b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3d9f4346bcdf8a8ff8b2c6ca2212949"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#ae3d9f4346bcdf8a8ff8b2c6ca2212949">ast_adsi_transmit_message</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned char *msg, int msglen, int msgtype)</td></tr>
<tr class="separator:ae3d9f4346bcdf8a8ff8b2c6ca2212949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d93600daac8201634ef68e50ef9c5c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a08d93600daac8201634ef68e50ef9c5c">ast_adsi_transmit_message_full</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned char *msg, int msglen, int msgtype, int dowait)</td></tr>
<tr class="separator:a08d93600daac8201634ef68e50ef9c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cd092c7df03685491cb6f7c145654cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a4cd092c7df03685491cb6f7c145654cd">ast_adsi_unload_session</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a4cd092c7df03685491cb6f7c145654cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd73d8f8989dfd9ec9f751dcd40bc62"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#aecd73d8f8989dfd9ec9f751dcd40bc62">ast_adsi_voice_mode</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int when)</td></tr>
<tr class="memdesc:aecd73d8f8989dfd9ec9f751dcd40bc62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts CPE in voice mode.  <a href="#aecd73d8f8989dfd9ec9f751dcd40bc62">More...</a><br /></td></tr>
<tr class="separator:aecd73d8f8989dfd9ec9f751dcd40bc62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6ff79ccdb1acc9063217ab9d28ba4f88"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a6ff79ccdb1acc9063217ab9d28ba4f88">current_adsi_version</a> = <a class="el" href="../../df/de2/adsi_8h.html#a8a5bc1bdf37e8987bdc504378eb7127c">AST_ADSI_VERSION</a></td></tr>
<tr class="separator:a6ff79ccdb1acc9063217ab9d28ba4f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6819a50a220209655c5fb5e1c4ab532e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a> = { PTHREAD_RWLOCK_INITIALIZER , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td></tr>
<tr class="separator:a6819a50a220209655c5fb5e1c4ab532e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa01590fd12150605e07307b8fed77828"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d1/d41/structadsi__funcs.html">adsi_funcs</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></td></tr>
<tr class="separator:aa01590fd12150605e07307b8fed77828"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ADSI Support (built upon Caller*ID) </p>

<p class="definition">Definition in file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae053c0d0d34986cdafa06dab80d836b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae053c0d0d34986cdafa06dab80d836b9">&#9670;&nbsp;</a></span>ast_adsi_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_available </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns non-zero if Channel does or might support ADSI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to check </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00263">263</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00368">adsi_funcs::available</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07448">adsi_begin()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07644">adsi_delete()</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l01573">adsi_exec()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07513">adsi_folders()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07799">adsi_goodbye()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07465">adsi_login()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07542">adsi_message()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07491">adsi_password()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07696">adsi_status()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07743">adsi_status2()</a>, <a class="el" href="../../d9/dbe/test__utils_8c_source.html#l00331">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10646">vm_newuser_setup()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10744">vm_options()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10888">vm_tempgreeting()</a>.</p>
<div class="fragment"><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#accc1d0a14f6c448c210f821006feb175">available</a>) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#accc1d0a14f6c448c210f821006feb175">available</a>(chan);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="structadsi__funcs_html_accc1d0a14f6c448c210f821006feb175"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#accc1d0a14f6c448c210f821006feb175">adsi_funcs::available</a></div><div class="ttdeci">int(* available)(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00368">adsi.h:368</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a664d01277c0ae1f12abbe6806ffcaccc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a664d01277c0ae1f12abbe6806ffcaccc">&#9670;&nbsp;</a></span>ast_adsi_begin_download()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_begin_download </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>fdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>sec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00032">32</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00347">adsi_funcs::begin_download</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07319">adsi_load_vmail()</a>, and <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l01462">adsi_prog()</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a62ca6d48cbc238068e4ef42407870b6e">begin_download</a>) {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a62ca6d48cbc238068e4ef42407870b6e">begin_download</a>(chan, <a class="code" href="../../d5/dfe/chan__sip_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, fdn, sec, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a81b4b1c3c855fb371e7723b473f1ee78">version</a>);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;   }</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="chan__sip_8c_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d5/dfe/chan__sip_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dfe/chan__sip_8c_source.html#l00949">chan_sip.c:949</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a62ca6d48cbc238068e4ef42407870b6e"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a62ca6d48cbc238068e4ef42407870b6e">adsi_funcs::begin_download</a></div><div class="ttdeci">int(* begin_download)(struct ast_channel *chan, char *service, unsigned char *fdn, unsigned char *sec, int version)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00347">adsi.h:347</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a81b4b1c3c855fb371e7723b473f1ee78"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a81b4b1c3c855fb371e7723b473f1ee78">version</a></div><div class="ttdeci">static char version[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00391">chan_ooh323.c:391</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a30425e48827f742b97a71d424ec7f1b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30425e48827f742b97a71d424ec7f1b3">&#9670;&nbsp;</a></span>ast_adsi_channel_restore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_channel_restore </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restore ADSI initialization (for applications that play with ADSI and want to restore it to normal. If you touch "INFO" then you have to use the ast_adsi_channel_init again instead. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to restore</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success (or adsi unavailable) </td></tr>
    <tr><td class="paramname">-1</td><td>on hangup </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00054">54</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00349">adsi_funcs::channel_restore</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a35cec92f8ac9638205b604ad8bba9fcf">channel_restore</a>) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a35cec92f8ac9638205b604ad8bba9fcf">channel_restore</a>(chan);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a35cec92f8ac9638205b604ad8bba9fcf"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a35cec92f8ac9638205b604ad8bba9fcf">adsi_funcs::channel_restore</a></div><div class="ttdeci">int(* channel_restore)(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00349">adsi.h:349</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a755d8a80c0104d24060b02470fff53be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a755d8a80c0104d24060b02470fff53be">&#9670;&nbsp;</a></span>ast_adsi_clear_screen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_clear_screen </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00241">241</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00366">adsi_funcs::clear_screen</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a2111dab58882e12164855e151119589f">clear_screen</a>) {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a2111dab58882e12164855e151119589f">clear_screen</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a2111dab58882e12164855e151119589f"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a2111dab58882e12164855e151119589f">adsi_funcs::clear_screen</a></div><div class="ttdeci">int(* clear_screen)(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00366">adsi.h:366</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae3268a390e925b05f56f649cf60ae244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3268a390e925b05f56f649cf60ae244">&#9670;&nbsp;</a></span>ast_adsi_clear_soft_keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_clear_soft_keys </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00230">230</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00365">adsi_funcs::clear_soft_keys</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;{</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a42586f0274a7d4b7afff7ddf87f438c0">clear_soft_keys</a>) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a42586f0274a7d4b7afff7ddf87f438c0">clear_soft_keys</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a42586f0274a7d4b7afff7ddf87f438c0"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a42586f0274a7d4b7afff7ddf87f438c0">adsi_funcs::clear_soft_keys</a></div><div class="ttdeci">int(* clear_soft_keys)(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00365">adsi.h:365</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7424d849e6ead4f8be772290d9eabf58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7424d849e6ead4f8be772290d9eabf58">&#9670;&nbsp;</a></span>ast_adsi_connect_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_connect_session </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>fdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connects an ADSI Display Session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Character buffer to create parameter in (must have at least 256 free) </td></tr>
    <tr><td class="paramname">fdn</td><td>Optional 4 byte Feature Download Number (for loading soft keys) </td></tr>
    <tr><td class="paramname">ver</td><td>Optional version number (0-255, or -1 to omit)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of bytes added to buffer </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00131">131</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00356">adsi_funcs::connect_session</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a8b883816522053857b4c308563f338b7">connect_session</a>) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a8b883816522053857b4c308563f338b7">connect_session</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, fdn, ver);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a8b883816522053857b4c308563f338b7"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a8b883816522053857b4c308563f338b7">adsi_funcs::connect_session</a></div><div class="ttdeci">int(* connect_session)(unsigned char *buf, unsigned char *fdn, int ver)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00356">adsi.h:356</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a392cb4fb1c98045c30589b62edb127ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a392cb4fb1c98045c30589b62edb127ca">&#9670;&nbsp;</a></span>ast_adsi_data_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_data_mode </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts CPE in data mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Character buffer to create parameter in (must have at least 256 free)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of bytes added to buffer </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00219">219</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00364">adsi_funcs::data_mode</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07319">adsi_load_vmail()</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#aa93ee3d5f831320d4792d6f19c3b71bb">data_mode</a>) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#aa93ee3d5f831320d4792d6f19c3b71bb">data_mode</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structadsi__funcs_html_aa93ee3d5f831320d4792d6f19c3b71bb"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#aa93ee3d5f831320d4792d6f19c3b71bb">adsi_funcs::data_mode</a></div><div class="ttdeci">int(* data_mode)(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00364">adsi.h:364</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae60ab8ff1532978d62d4ad0f4d73ccaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae60ab8ff1532978d62d4ad0f4d73ccaa">&#9670;&nbsp;</a></span>ast_adsi_disconnect_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_disconnect_session </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnects a running session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Character buffer to create parameter in (must have at least 256 free)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of bytes added to buffer </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00197">197</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00362">adsi_funcs::disconnect_session</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a4a99640ad4f7a1054f69fd5d7ec417eb">disconnect_session</a>) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a4a99640ad4f7a1054f69fd5d7ec417eb">disconnect_session</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a4a99640ad4f7a1054f69fd5d7ec417eb"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a4a99640ad4f7a1054f69fd5d7ec417eb">adsi_funcs::disconnect_session</a></div><div class="ttdeci">int(* disconnect_session)(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00362">adsi.h:362</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a093a3e70337056f4bb6a2b965127cb34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a093a3e70337056f4bb6a2b965127cb34">&#9670;&nbsp;</a></span>ast_adsi_display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_display </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>just</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wrap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>col1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>col2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a line of info into the display. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Character buffer to create parameter in (must have at least 256 free) </td></tr>
    <tr><td class="paramname">page</td><td>Page to load (ADSI_COMM_PAGE or ADSI_INFO_PAGE) </td></tr>
    <tr><td class="paramname">line</td><td>Line number to load (1-4 for Comm page, 1-33 for info page) </td></tr>
    <tr><td class="paramname">just</td><td>Line justification (ADSI_JUST_LEFT, ADSI_JUST_RIGHT, ADSI_JUST_CENT, ADSI_JUST_IND) </td></tr>
    <tr><td class="paramname">wrap</td><td>Wrap (1 = yes, 0 = no) </td></tr>
    <tr><td class="paramname">col1</td><td>Text to place in first column </td></tr>
    <tr><td class="paramname">col2</td><td>Text to place in second column</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of bytes added to buffer </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00274">274</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00369">adsi_funcs::display</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07513">adsi_folders()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07799">adsi_goodbye()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07319">adsi_load_vmail()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07465">adsi_login()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07311">adsi_logo()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07542">adsi_message()</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l01462">adsi_prog()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07696">adsi_status()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07743">adsi_status2()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10646">vm_newuser_setup()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10744">vm_options()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10888">vm_tempgreeting()</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;{</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a712e1515e2ebebbd5f524b30f8457baf">display</a>) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a712e1515e2ebebbd5f524b30f8457baf">display</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, page, line, just, wrap, col1, col2);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a712e1515e2ebebbd5f524b30f8457baf"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a712e1515e2ebebbd5f524b30f8457baf">adsi_funcs::display</a></div><div class="ttdeci">int(* display)(unsigned char *buf, int page, int line, int just, int wrap, char *col1, char *col2)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00369">adsi.h:369</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a21b1b68c66ed816b0ff8879d7df1b33d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b1b68c66ed816b0ff8879d7df1b33d">&#9670;&nbsp;</a></span>ast_adsi_download_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_download_connect </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>fdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>sec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin an ADSI script download. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Character buffer to create parameter in (must have at least 256 free) </td></tr>
    <tr><td class="paramname">service</td><td>a 1-18 byte name of the feature </td></tr>
    <tr><td class="paramname">fdn</td><td>4 byte Feature Download Number (for loading soft keys) </td></tr>
    <tr><td class="paramname">sec</td><td>4 byte vendor security code </td></tr>
    <tr><td class="paramname">ver</td><td>version number (0-255, or -1 to omit)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of bytes added to buffer </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00186">186</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00361">adsi_funcs::download_connect</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a82a362caf2e21edc586358343f310423">download_connect</a>) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a82a362caf2e21edc586358343f310423">download_connect</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d5/dfe/chan__sip_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, fdn, sec, ver);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a82a362caf2e21edc586358343f310423"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a82a362caf2e21edc586358343f310423">adsi_funcs::download_connect</a></div><div class="ttdeci">int(* download_connect)(unsigned char *buf, char *service, unsigned char *fdn, unsigned char *sec, int ver)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00361">adsi.h:361</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="chan__sip_8c_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d5/dfe/chan__sip_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dfe/chan__sip_8c_source.html#l00949">chan_sip.c:949</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adcf83d43ae50c9f89365699d8974c7b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcf83d43ae50c9f89365699d8974c7b7">&#9670;&nbsp;</a></span>ast_adsi_download_disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_download_disconnect </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnects (and hopefully saves) a downloaded script. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Character buffer to create parameter in (must have at least 256 free)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of bytes added to buffer </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00208">208</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00363">adsi_funcs::download_disconnect</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07319">adsi_load_vmail()</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;{</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a6e58c8f327932a16945f3256560911cb">download_disconnect</a>) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a6e58c8f327932a16945f3256560911cb">download_disconnect</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a6e58c8f327932a16945f3256560911cb"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a6e58c8f327932a16945f3256560911cb">adsi_funcs::download_disconnect</a></div><div class="ttdeci">int(* download_disconnect)(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00363">adsi.h:363</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acc50da4e3e25e75245268963ecc5fcd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc50da4e3e25e75245268963ecc5fcd0">&#9670;&nbsp;</a></span>ast_adsi_end_download()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_end_download </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00043">43</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00348">adsi_funcs::end_download</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07319">adsi_load_vmail()</a>, and <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l01462">adsi_prog()</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#aa45cb65fbd893b337316563b53ddeb70">end_download</a>) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#aa45cb65fbd893b337316563b53ddeb70">end_download</a>(chan);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="structadsi__funcs_html_aa45cb65fbd893b337316563b53ddeb70"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#aa45cb65fbd893b337316563b53ddeb70">adsi_funcs::end_download</a></div><div class="ttdeci">int(* end_download)(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00348">adsi.h:348</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4e02f1e9652cbdba8175a5f651f4b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4e02f1e9652cbdba8175a5f651f4b54">&#9670;&nbsp;</a></span>ast_adsi_get_cpeid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_get_cpeid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cpeid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>voice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get CPE ID from an attached ADSI compatible CPE. Returns 1 on success, storing 4 bytes of CPE ID at buf or -1 on hangup, or 0 if there was no hangup but it failed to find the device ID. Returns to voice mode if "voice" is non-zero. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00164">164</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00359">adsi_funcs::get_cpeid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d7b/app__getcpeid_8c_source.html#l00067">cpeid_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#aa73670b51cf76d0674c2bd82b48b1d43">get_cpeid</a>) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#aa73670b51cf76d0674c2bd82b48b1d43">get_cpeid</a>(chan, cpeid, voice);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;   }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="structadsi__funcs_html_aa73670b51cf76d0674c2bd82b48b1d43"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#aa73670b51cf76d0674c2bd82b48b1d43">adsi_funcs::get_cpeid</a></div><div class="ttdeci">int(* get_cpeid)(struct ast_channel *chan, unsigned char *cpeid, int voice)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00359">adsi.h:359</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0a1b795cf4380233ea33ff69398dcd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0a1b795cf4380233ea33ff69398dcd2">&#9670;&nbsp;</a></span>ast_adsi_get_cpeinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_get_cpeinfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>buttons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>voice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00175">175</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00360">adsi_funcs::get_cpeinfo</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d7b/app__getcpeid_8c_source.html#l00067">cpeid_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a966f2ce898d6a9cb98ceb368179af6bb">get_cpeinfo</a>) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a966f2ce898d6a9cb98ceb368179af6bb">get_cpeinfo</a>(chan, width, height, buttons, voice);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a966f2ce898d6a9cb98ceb368179af6bb"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a966f2ce898d6a9cb98ceb368179af6bb">adsi_funcs::get_cpeinfo</a></div><div class="ttdeci">int(* get_cpeinfo)(struct ast_channel *chan, int *width, int *height, int *buttons, int voice)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00360">adsi.h:360</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abbaf47d66d63f4844a68ddfa8209e73e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbaf47d66d63f4844a68ddfa8209e73e">&#9670;&nbsp;</a></span>ast_adsi_input_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_input_control </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>display</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>just</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set input information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Character buffer to create parameter in (must have at least 256 free) </td></tr>
    <tr><td class="paramname">page</td><td>Which page to input on (ADSI_COMM_PAGE or ADSI_INFO_PAGE) </td></tr>
    <tr><td class="paramname">line</td><td>Line number to input on </td></tr>
    <tr><td class="paramname">display</td><td>Set to zero to obscure input, or 1 to leave visible </td></tr>
    <tr><td class="paramname">format</td><td>Format number to use (0-7) </td></tr>
    <tr><td class="paramname">just</td><td>Justification (left, right center, indent)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of bytes added to buffer </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00318">318</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00373">adsi_funcs::input_control</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07465">adsi_login()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07491">adsi_password()</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#af43ef323127ed2c30b015aa72a87ebc5">input_control</a>) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#af43ef323127ed2c30b015aa72a87ebc5">input_control</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, page, line, display, <a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>, just);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="structadsi__funcs_html_af43ef323127ed2c30b015aa72a87ebc5"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#af43ef323127ed2c30b015aa72a87ebc5">adsi_funcs::input_control</a></div><div class="ttdeci">int(* input_control)(unsigned char *buf, int page, int line, int display, int format, int just)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00373">adsi.h:373</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a98f5e70e98f6dc48e3c5ba316066d540"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a></div><div class="ttdeci">static snd_pcm_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00102">chan_alsa.c:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1207eca69705174ac9cdcc71d49fb2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1207eca69705174ac9cdcc71d49fb2f">&#9670;&nbsp;</a></span>ast_adsi_input_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_input_format </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wrap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>format1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>format2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set input format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Character buffer to create parameter in (must have at least 256 free) </td></tr>
    <tr><td class="paramname">num</td><td>Which format we are setting </td></tr>
    <tr><td class="paramname">dir</td><td>Which direction (ADSI_DIR_FROM_LEFT or ADSI_DIR_FROM_RIGHT) </td></tr>
    <tr><td class="paramname">wrap</td><td>Set to 1 to permit line wrap, or 0 if not </td></tr>
    <tr><td class="paramname">format1</td><td>Format for column 1 </td></tr>
    <tr><td class="paramname">format2</td><td>Format for column 2</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of bytes added to buffer </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00329">329</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00374">adsi_funcs::input_format</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07465">adsi_login()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07491">adsi_password()</a>.</p>
<div class="fragment"><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;{</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#abaafc9ba0d58828a4a167d1aa151c5f2">input_format</a>) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#abaafc9ba0d58828a4a167d1aa151c5f2">input_format</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, num, dir, wrap, format1, format2);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structadsi__funcs_html_abaafc9ba0d58828a4a167d1aa151c5f2"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#abaafc9ba0d58828a4a167d1aa151c5f2">adsi_funcs::input_format</a></div><div class="ttdeci">int(* input_format)(unsigned char *buf, int num, int dir, int wrap, char *format1, char *format2)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00374">adsi.h:374</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8875b715787b34237f48b5b4235f5672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8875b715787b34237f48b5b4235f5672">&#9670;&nbsp;</a></span>ast_adsi_install_funcs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_adsi_install_funcs </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d1/d41/structadsi__funcs.html">adsi_funcs</a> *&#160;</td>
          <td class="paramname"><em>funcs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00340">340</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00029">current_adsi_version</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00346">adsi_funcs::version</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01196">load_module()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01203">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;{</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <span class="keywordflow">if</span> (funcs &amp;&amp; funcs-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a5408ac5df4c170828874e1b10b4c35a0">version</a> &lt; <a class="code" href="../../de/d78/adsi_8c.html#a6ff79ccdb1acc9063217ab9d28ba4f88">current_adsi_version</a>) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot install ADSI function pointers due to version mismatch.&quot;</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="stringliteral">&quot;Ours: %d, Theirs: %u\n&quot;</span>, <a class="code" href="../../de/d78/adsi_8c.html#a6ff79ccdb1acc9063217ab9d28ba4f88">current_adsi_version</a>, funcs-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a5408ac5df4c170828874e1b10b4c35a0">version</a>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;   }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> = funcs;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div><div class="ttc" id="adsi_8c_html_a6ff79ccdb1acc9063217ab9d28ba4f88"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6ff79ccdb1acc9063217ab9d28ba4f88">current_adsi_version</a></div><div class="ttdeci">static const int current_adsi_version</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00029">adsi.c:29</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a5408ac5df4c170828874e1b10b4c35a0"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a5408ac5df4c170828874e1b10b4c35a0">adsi_funcs::version</a></div><div class="ttdeci">unsigned int version</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00346">adsi.h:346</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac80689408529c01f75cb698fc2e407fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac80689408529c01f75cb698fc2e407fb">&#9670;&nbsp;</a></span>ast_adsi_load_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_load_session </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if scripts for a given app are already loaded. Version may be -1, if any version is okay, or 0-255 for a specific version. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to test for loaded app </td></tr>
    <tr><td class="paramname">app</td><td>Four character app name (must be unique to your application) </td></tr>
    <tr><td class="paramname">ver</td><td>optional version number </td></tr>
    <tr><td class="paramname">data</td><td>Non-zero if you want to be put in data mode</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if scripts is not loaded or not an ADSI CPE </td></tr>
    <tr><td class="paramname">-1</td><td>on hangup </td></tr>
    <tr><td class="paramname">1</td><td>if script already loaded. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00076">76</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00351">adsi_funcs::load_session</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07448">adsi_begin()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07319">adsi_load_vmail()</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l01462">adsi_prog()</a>, and <a class="el" href="../../dc/d7b/app__getcpeid_8c_source.html#l00067">cpeid_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a2121a1b3a0fd00bb226e35ff7a652944">load_session</a>) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a2121a1b3a0fd00bb226e35ff7a652944">load_session</a>(chan, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, ver, data);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a2121a1b3a0fd00bb226e35ff7a652944"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a2121a1b3a0fd00bb226e35ff7a652944">adsi_funcs::load_session</a></div><div class="ttdeci">int(* load_session)(struct ast_channel *chan, unsigned char *app, int ver, int data)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00351">adsi.h:351</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a21fe6b189347ac24dbcd134c03fcddf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21fe6b189347ac24dbcd134c03fcddf6">&#9670;&nbsp;</a></span>ast_adsi_load_soft_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_load_soft_key </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>llabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>slabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates "load soft key" parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Character buffer to create parameter in (must have at least 256 free) </td></tr>
    <tr><td class="paramname">key</td><td>Key code from 2 to 33, for which key we are loading </td></tr>
    <tr><td class="paramname">llabel</td><td>Long label for key (1-18 bytes) </td></tr>
    <tr><td class="paramname">slabel</td><td>Short label for key (1-7 bytes) </td></tr>
    <tr><td class="paramname">ret</td><td>Optional return sequence (NULL for none) </td></tr>
    <tr><td class="paramname">data</td><td>whether to put CPE in data mode before sending digits</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of bytes added to buffer </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00296">296</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00371">adsi_funcs::load_soft_key</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07319">adsi_load_vmail()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07465">adsi_login()</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;{</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#ac8eb27b7083e5e4a1306b9c8f3ed972b">load_soft_key</a>) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#ac8eb27b7083e5e4a1306b9c8f3ed972b">load_soft_key</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, key, llabel, slabel, ret, data);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
<div class="ttc" id="structadsi__funcs_html_ac8eb27b7083e5e4a1306b9c8f3ed972b"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#ac8eb27b7083e5e4a1306b9c8f3ed972b">adsi_funcs::load_soft_key</a></div><div class="ttdeci">int(* load_soft_key)(unsigned char *buf, int key, const char *llabel, const char *slabel, char *ret, int data)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00371">adsi.h:371</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a52fbf5d1495c8e8d013f71d4b5c4af0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52fbf5d1495c8e8d013f71d4b5c4af0e">&#9670;&nbsp;</a></span>ast_adsi_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_print </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>lines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>align</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>voice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display some stuff on the screen. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to display on </td></tr>
    <tr><td class="paramname">lines</td><td>NULL-terminated list of things to print (no more than 4 recommended) </td></tr>
    <tr><td class="paramname">align</td><td>list of alignments to use (ADSI_JUST_LEFT, ADSI_JUST_RIGHT, ADSI_JUST_CEN, etc..) </td></tr>
    <tr><td class="paramname">voice</td><td>whether to jump into voice mode when finished</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success (or adsi unavailable) </td></tr>
    <tr><td class="paramname">-1</td><td>on hangup </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00065">65</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00350">adsi_funcs::print</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d7b/app__getcpeid_8c_source.html#l00056">cpeid_setstatus()</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a8c71fd0049bea9c8ba1f2394c60888d0">print</a>) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a8c71fd0049bea9c8ba1f2394c60888d0">print</a>(chan, <a class="code" href="../../df/d58/structlines.html">lines</a>, align, voice);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a8c71fd0049bea9c8ba1f2394c60888d0"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a8c71fd0049bea9c8ba1f2394c60888d0">adsi_funcs::print</a></div><div class="ttdeci">int(* print)(struct ast_channel *chan, char **lines, int *align, int voice)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00350">adsi.h:350</a></div></div>
<div class="ttc" id="structlines_html"><div class="ttname"><a href="../../df/d58/structlines.html">lines</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01499">chan_skinny.c:1499</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a69b8607f63f8c897ad816208975df417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69b8607f63f8c897ad816208975df417">&#9670;&nbsp;</a></span>ast_adsi_query_cpeid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_query_cpeid </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Build Query CPE ID of equipment. Returns number of bytes added to message </p>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00142">142</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00357">adsi_funcs::query_cpeid</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a0d877d37dfc250f8d0f88a0fe7036ab4">query_cpeid</a>) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a0d877d37dfc250f8d0f88a0fe7036ab4">query_cpeid</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a0d877d37dfc250f8d0f88a0fe7036ab4"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a0d877d37dfc250f8d0f88a0fe7036ab4">adsi_funcs::query_cpeid</a></div><div class="ttdeci">int(* query_cpeid)(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00357">adsi.h:357</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a59daf62d46345f631427dff2e400de32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59daf62d46345f631427dff2e400de32">&#9670;&nbsp;</a></span>ast_adsi_query_cpeinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_query_cpeinfo </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00153">153</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00358">adsi_funcs::query_cpeinfo</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a25e8d5dafc7a2be07263955a96914364">query_cpeinfo</a>) {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a25e8d5dafc7a2be07263955a96914364">query_cpeinfo</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a25e8d5dafc7a2be07263955a96914364"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a25e8d5dafc7a2be07263955a96914364">adsi_funcs::query_cpeinfo</a></div><div class="ttdeci">int(* query_cpeinfo)(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00358">adsi.h:358</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae43688d88a91adb73e4162320dcd3ebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae43688d88a91adb73e4162320dcd3ebc">&#9670;&nbsp;</a></span>ast_adsi_read_encoded_dtmf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_read_encoded_dtmf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read some encoded DTMF data. Returns number of bytes received </p>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00120">120</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00355">adsi_funcs::read_encoded_dtmf</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a4ce95792376a029b549e587914d6ee35">read_encoded_dtmf</a>) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a4ce95792376a029b549e587914d6ee35">read_encoded_dtmf</a>(chan, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, maxlen);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a4ce95792376a029b549e587914d6ee35"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a4ce95792376a029b549e587914d6ee35">adsi_funcs::read_encoded_dtmf</a></div><div class="ttdeci">int(* read_encoded_dtmf)(struct ast_channel *chan, unsigned char *buf, int maxlen)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00355">adsi.h:355</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9091dd77412994b2a87c5b30dfb8f6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9091dd77412994b2a87c5b30dfb8f6a">&#9670;&nbsp;</a></span>ast_adsi_set_keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_set_keys </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>keys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set which soft keys should be displayed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Character buffer to create parameter in (must have at least 256 free) </td></tr>
    <tr><td class="paramname">keys</td><td>Array of 8 unsigned chars with the key numbers, may be OR'd with ADSI_KEY_HILITE But remember, the last two keys aren't real keys, they're for scrolling</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of bytes added to buffer </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00307">307</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00372">adsi_funcs::set_keys</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07644">adsi_delete()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07513">adsi_folders()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07465">adsi_login()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07542">adsi_message()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07491">adsi_password()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07696">adsi_status()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07743">adsi_status2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;{</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#abbf25525d92b92c22c8f4d8f001718f3">set_keys</a>) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#abbf25525d92b92c22c8f4d8f001718f3">set_keys</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d2/df1/structkeys.html">keys</a>);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
<div class="ttc" id="structkeys_html"><div class="ttname"><a href="../../d2/df1/structkeys.html">keys</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbb/res__crypto_8c_source.html#l00094">res_crypto.c:94</a></div></div>
<div class="ttc" id="structadsi__funcs_html_abbf25525d92b92c22c8f4d8f001718f3"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#abbf25525d92b92c22c8f4d8f001718f3">adsi_funcs::set_keys</a></div><div class="ttdeci">int(* set_keys)(unsigned char *buf, unsigned char *keys)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00372">adsi.h:372</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7fb25cc4c49eef004a59d4488fbb3b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb25cc4c49eef004a59d4488fbb3b53">&#9670;&nbsp;</a></span>ast_adsi_set_line()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_set_line </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the current line and page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Character buffer to create parameter in (must have at least 256 free) </td></tr>
    <tr><td class="paramname">page</td><td>Which page (ADSI_COMM_PAGE or ADSI_INFO_PAGE) </td></tr>
    <tr><td class="paramname">line</td><td>Line number (1-33 for info page, 1-4 for comm page)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of bytes added to buffer </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00285">285</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00370">adsi_funcs::set_line</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07513">adsi_folders()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07799">adsi_goodbye()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07319">adsi_load_vmail()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07465">adsi_login()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07542">adsi_message()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07491">adsi_password()</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l01462">adsi_prog()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07696">adsi_status()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07743">adsi_status2()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10646">vm_newuser_setup()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10744">vm_options()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10888">vm_tempgreeting()</a>.</p>
<div class="fragment"><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#aac45390fbf60b9ca49ac48aa10d3bbe2">set_line</a>) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#aac45390fbf60b9ca49ac48aa10d3bbe2">set_line</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, page, line);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
<div class="ttc" id="structadsi__funcs_html_aac45390fbf60b9ca49ac48aa10d3bbe2"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#aac45390fbf60b9ca49ac48aa10d3bbe2">adsi_funcs::set_line</a></div><div class="ttdeci">int(* set_line)(unsigned char *buf, int page, int line)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00370">adsi.h:370</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae3d9f4346bcdf8a8ff8b2c6ca2212949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3d9f4346bcdf8a8ff8b2c6ca2212949">&#9670;&nbsp;</a></span>ast_adsi_transmit_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_transmit_message </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msglen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00098">98</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00353">adsi_funcs::transmit_message</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07644">adsi_delete()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07513">adsi_folders()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07799">adsi_goodbye()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07319">adsi_load_vmail()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07465">adsi_login()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07542">adsi_message()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07491">adsi_password()</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l01462">adsi_prog()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07696">adsi_status()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07743">adsi_status2()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10646">vm_newuser_setup()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10744">vm_options()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10888">vm_tempgreeting()</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#afeca224f8fdfa451f6a0c5c086ec8e9e">transmit_message</a>) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#afeca224f8fdfa451f6a0c5c086ec8e9e">transmit_message</a>(chan, msg, msglen, msgtype);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="structadsi__funcs_html_afeca224f8fdfa451f6a0c5c086ec8e9e"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#afeca224f8fdfa451f6a0c5c086ec8e9e">adsi_funcs::transmit_message</a></div><div class="ttdeci">int(* transmit_message)(struct ast_channel *chan, unsigned char *msg, int msglen, int msgtype)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00353">adsi.h:353</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08d93600daac8201634ef68e50ef9c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08d93600daac8201634ef68e50ef9c5c">&#9670;&nbsp;</a></span>ast_adsi_transmit_message_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_transmit_message_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msglen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dowait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00109">109</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00354">adsi_funcs::transmit_message_full</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a660e4d7998f2e5d08fb84f9a08079e17">transmit_message_full</a>) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a660e4d7998f2e5d08fb84f9a08079e17">transmit_message_full</a>(chan, msg, msglen, msgtype, dowait);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a660e4d7998f2e5d08fb84f9a08079e17"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a660e4d7998f2e5d08fb84f9a08079e17">adsi_funcs::transmit_message_full</a></div><div class="ttdeci">int(* transmit_message_full)(struct ast_channel *chan, unsigned char *msg, int msglen, int msgtype, int dowait)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00354">adsi.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4cd092c7df03685491cb6f7c145654cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cd092c7df03685491cb6f7c145654cd">&#9670;&nbsp;</a></span>ast_adsi_unload_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_unload_session </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00087">87</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00352">adsi_funcs::unload_session</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l01462">adsi_prog()</a>, <a class="el" href="../../dc/d7b/app__getcpeid_8c_source.html#l00067">cpeid_exec()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l11503">vm_execmain()</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a4b954774acf06d465e210812b08d6a2c">unload_session</a>) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#a4b954774acf06d465e210812b08d6a2c">unload_session</a>(chan);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="structadsi__funcs_html_a4b954774acf06d465e210812b08d6a2c"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#a4b954774acf06d465e210812b08d6a2c">adsi_funcs::unload_session</a></div><div class="ttdeci">int(* unload_session)(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00352">adsi.h:352</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aecd73d8f8989dfd9ec9f751dcd40bc62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecd73d8f8989dfd9ec9f751dcd40bc62">&#9670;&nbsp;</a></span>ast_adsi_voice_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_adsi_voice_mode </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>when</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts CPE in voice mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Character buffer to create parameter in (must have at least 256 free) </td></tr>
    <tr><td class="paramname">when</td><td>(a time in seconds) to make the switch</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of bytes added to buffer </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00252">252</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">func_lock</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00367">adsi_funcs::voice_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07644">adsi_delete()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07513">adsi_folders()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07799">adsi_goodbye()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07319">adsi_load_vmail()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07465">adsi_login()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07542">adsi_message()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07491">adsi_password()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07696">adsi_status()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07743">adsi_status2()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10646">vm_newuser_setup()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10744">vm_options()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10888">vm_tempgreeting()</a>.</p>
<div class="fragment"><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;{</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a> &amp;&amp; <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#af65eb99a7943984313641af821852a42">voice_mode</a>) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      res = <a class="code" href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a>-&gt;<a class="code" href="../../d1/d41/structadsi__funcs.html#af65eb99a7943984313641af821852a42">voice_mode</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, when);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a>);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div><div class="ttc" id="structadsi__funcs_html_af65eb99a7943984313641af821852a42"><div class="ttname"><a href="../../d1/d41/structadsi__funcs.html#af65eb99a7943984313641af821852a42">adsi_funcs::voice_mode</a></div><div class="ttdeci">int(* voice_mode)(unsigned char *buf, int when)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00367">adsi.h:367</a></div></div>
<div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="adsi_8c_html_a6819a50a220209655c5fb5e1c4ab532e"><div class="ttname"><a href="../../de/d78/adsi_8c.html#a6819a50a220209655c5fb5e1c4ab532e">func_lock</a></div><div class="ttdeci">static ast_rwlock_t func_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00030">adsi.c:30</a></div></div>
<div class="ttc" id="adsi_8c_html_aa01590fd12150605e07307b8fed77828"><div class="ttname"><a href="../../de/d78/adsi_8c.html#aa01590fd12150605e07307b8fed77828">installed_funcs</a></div><div class="ttdeci">static const struct adsi_funcs * installed_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00028">adsi.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6ff79ccdb1acc9063217ab9d28ba4f88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ff79ccdb1acc9063217ab9d28ba4f88">&#9670;&nbsp;</a></span>current_adsi_version</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int current_adsi_version = <a class="el" href="../../df/de2/adsi_8h.html#a8a5bc1bdf37e8987bdc504378eb7127c">AST_ADSI_VERSION</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00029">29</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d78/adsi_8c_source.html#l00340">ast_adsi_install_funcs()</a>.</p>

</div>
</div>
<a id="a6819a50a220209655c5fb5e1c4ab532e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6819a50a220209655c5fb5e1c4ab532e">&#9670;&nbsp;</a></span>func_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> func_lock = { PTHREAD_RWLOCK_INITIALIZER , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00030">30</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d78/adsi_8c_source.html#l00263">ast_adsi_available()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00032">ast_adsi_begin_download()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00054">ast_adsi_channel_restore()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00241">ast_adsi_clear_screen()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00230">ast_adsi_clear_soft_keys()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00131">ast_adsi_connect_session()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00219">ast_adsi_data_mode()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00197">ast_adsi_disconnect_session()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00274">ast_adsi_display()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00186">ast_adsi_download_connect()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00208">ast_adsi_download_disconnect()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00043">ast_adsi_end_download()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00164">ast_adsi_get_cpeid()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00175">ast_adsi_get_cpeinfo()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00318">ast_adsi_input_control()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00329">ast_adsi_input_format()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00340">ast_adsi_install_funcs()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00076">ast_adsi_load_session()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00296">ast_adsi_load_soft_key()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00065">ast_adsi_print()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00142">ast_adsi_query_cpeid()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00153">ast_adsi_query_cpeinfo()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00120">ast_adsi_read_encoded_dtmf()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00307">ast_adsi_set_keys()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00285">ast_adsi_set_line()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00098">ast_adsi_transmit_message()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00109">ast_adsi_transmit_message_full()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00087">ast_adsi_unload_session()</a>, and <a class="el" href="../../de/d78/adsi_8c_source.html#l00252">ast_adsi_voice_mode()</a>.</p>

</div>
</div>
<a id="aa01590fd12150605e07307b8fed77828"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa01590fd12150605e07307b8fed77828">&#9670;&nbsp;</a></span>installed_funcs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d1/d41/structadsi__funcs.html">adsi_funcs</a>* installed_funcs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d78/adsi_8c_source.html#l00028">28</a> of file <a class="el" href="../../de/d78/adsi_8c_source.html">adsi.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:25 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
