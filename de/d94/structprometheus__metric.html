<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: prometheus_metric Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">prometheus_metric Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An actual, honest to god, metric.  
 <a href="../../de/d94/structprometheus__metric.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for prometheus_metric:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d2b/structprometheus__metric__coll__graph.png" border="0" usemap="#prometheus__metric_coll__map" alt="Collaboration graph"/></div>
<map name="prometheus__metric_coll__map" id="prometheus__metric_coll__map">
<area shape="rect" id="node2" href="../../d8/dc5/structast__mutex__info.html" title="Structure for mutex and tracking information. " alt="" coords="53,184,173,211"/>
<area shape="rect" id="node3" href="../../d6/d11/structast__lock__track__flags.html" title="ast_lock_track_flags" alt="" coords="5,95,156,121"/>
<area shape="rect" id="node4" href="../../d0/de9/structast__lock__track.html" title="Lock tracking information. " alt="" coords="180,95,293,121"/>
<area shape="rect" id="node5" href="../../dd/d95/structast__bt.html" title="ast_bt" alt="" coords="205,5,268,32"/>
<area shape="rect" id="node6" href="../../d5/d5b/structprometheus__label.html" title="A label that further defines a metric. " alt="" coords="197,184,335,211"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:aa794b1bff0439ba630beb00ef1e37f58"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d0/db1/res__prometheus_8h.html#af1732dbbefdac1b3c42ff4e86a9998be">prometheus_metric_allocation_strategy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d94/structprometheus__metric.html#aa794b1bff0439ba630beb00ef1e37f58">allocation_strategy</a></td></tr>
<tr class="memdesc:aa794b1bff0439ba630beb00ef1e37f58"><td class="mdescLeft">&#160;</td><td class="mdescRight">How this metric was allocated.  <a href="#aa794b1bff0439ba630beb00ef1e37f58">More...</a><br /></td></tr>
<tr class="separator:aa794b1bff0439ba630beb00ef1e37f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae58ab8ab7bd9df1dfbe5b715284ed572"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:ac6a7d03ec23cd7045892233995fe51d7"><td class="memItemLeft" >&#160;&#160;&#160;struct <a class="el" href="../../de/d94/structprometheus__metric.html">prometheus_metric</a> *&#160;&#160;&#160;<a class="el" href="../../de/d94/structprometheus__metric.html#ac6a7d03ec23cd7045892233995fe51d7">first</a></td></tr>
<tr class="separator:ac6a7d03ec23cd7045892233995fe51d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a868c8dc8ed33a11d2f8608100670da37"><td class="memItemLeft" >&#160;&#160;&#160;struct <a class="el" href="../../de/d94/structprometheus__metric.html">prometheus_metric</a> *&#160;&#160;&#160;<a class="el" href="../../de/d94/structprometheus__metric.html#a868c8dc8ed33a11d2f8608100670da37">last</a></td></tr>
<tr class="separator:a868c8dc8ed33a11d2f8608100670da37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae58ab8ab7bd9df1dfbe5b715284ed572"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d94/structprometheus__metric.html#ae58ab8ab7bd9df1dfbe5b715284ed572">children</a></td></tr>
<tr class="memdesc:ae58ab8ab7bd9df1dfbe5b715284ed572"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of children metrics.  <a href="#ae58ab8ab7bd9df1dfbe5b715284ed572">More...</a><br /></td></tr>
<tr class="separator:ae58ab8ab7bd9df1dfbe5b715284ed572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f45d72543fc617ec0bb71e17db6b3bf"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:aa61375f4f5f0c68a0c916871f7629fa8"><td class="memItemLeft" >&#160;&#160;&#160;struct <a class="el" href="../../de/d94/structprometheus__metric.html">prometheus_metric</a> *&#160;&#160;&#160;<a class="el" href="../../de/d94/structprometheus__metric.html#aa61375f4f5f0c68a0c916871f7629fa8">next</a></td></tr>
<tr class="separator:aa61375f4f5f0c68a0c916871f7629fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f45d72543fc617ec0bb71e17db6b3bf"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d94/structprometheus__metric.html#a9f45d72543fc617ec0bb71e17db6b3bf">entry</a></td></tr>
<tr class="separator:a9f45d72543fc617ec0bb71e17db6b3bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a0c038284d1c128450fa59842c2fea"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d94/structprometheus__metric.html#a70a0c038284d1c128450fa59842c2fea">get_metric_value</a> )(struct <a class="el" href="../../de/d94/structprometheus__metric.html">prometheus_metric</a> *metric)</td></tr>
<tr class="separator:a70a0c038284d1c128450fa59842c2fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ec84b4d1c84a2d1af0c0de9ea5b86f"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d94/structprometheus__metric.html#ad7ec84b4d1c84a2d1af0c0de9ea5b86f">help</a></td></tr>
<tr class="memdesc:ad7ec84b4d1c84a2d1af0c0de9ea5b86f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to a static string defining this metric's help text.  <a href="#ad7ec84b4d1c84a2d1af0c0de9ea5b86f">More...</a><br /></td></tr>
<tr class="separator:ad7ec84b4d1c84a2d1af0c0de9ea5b86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c2c891e92a03115c64177cb09bc96b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d5/d5b/structprometheus__label.html">prometheus_label</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d94/structprometheus__metric.html#a66c2c891e92a03115c64177cb09bc96b">labels</a> [<a class="el" href="../../d0/db1/res__prometheus_8h.html#ab0a3c3feb485592fc9c07a801a0560af">PROMETHEUS_MAX_LABELS</a>]</td></tr>
<tr class="memdesc:a66c2c891e92a03115c64177cb09bc96b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The metric's labels.  <a href="#a66c2c891e92a03115c64177cb09bc96b">More...</a><br /></td></tr>
<tr class="separator:a66c2c891e92a03115c64177cb09bc96b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf04f66344e3fb0a6f6a69bf39d19902"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d94/structprometheus__metric.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></td></tr>
<tr class="memdesc:adf04f66344e3fb0a6f6a69bf39d19902"><td class="mdescLeft">&#160;</td><td class="mdescRight">A lock protecting the metric <code>value</code>.  <a href="#adf04f66344e3fb0a6f6a69bf39d19902">More...</a><br /></td></tr>
<tr class="separator:adf04f66344e3fb0a6f6a69bf39d19902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11962b292869f13ae7f8c28f99b800fa"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d94/structprometheus__metric.html#a11962b292869f13ae7f8c28f99b800fa">name</a> [<a class="el" href="../../d0/db1/res__prometheus_8h.html#aa5154944020c0abb0d229eafec9d2cfc">PROMETHEUS_MAX_NAME_LENGTH</a>]</td></tr>
<tr class="memdesc:a11962b292869f13ae7f8c28f99b800fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Our metric name.  <a href="#a11962b292869f13ae7f8c28f99b800fa">More...</a><br /></td></tr>
<tr class="separator:a11962b292869f13ae7f8c28f99b800fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeefacacbfc41d8efd691e0fd6babeb38"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d0/db1/res__prometheus_8h.html#a3499408dda4e539634c332c797651932">prometheus_metric_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d94/structprometheus__metric.html#aeefacacbfc41d8efd691e0fd6babeb38">type</a></td></tr>
<tr class="memdesc:aeefacacbfc41d8efd691e0fd6babeb38"><td class="mdescLeft">&#160;</td><td class="mdescRight">What type of metric we are.  <a href="#aeefacacbfc41d8efd691e0fd6babeb38">More...</a><br /></td></tr>
<tr class="separator:aeefacacbfc41d8efd691e0fd6babeb38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c1e3dcbc35f789a9e9ff7bfbf468b1"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d94/structprometheus__metric.html#ae0c1e3dcbc35f789a9e9ff7bfbf468b1">value</a> [<a class="el" href="../../d0/db1/res__prometheus_8h.html#ac47cc1ae517b84bc55e61cca6a0bbd70">PROMETHEUS_MAX_VALUE_LENGTH</a>]</td></tr>
<tr class="memdesc:ae0c1e3dcbc35f789a9e9ff7bfbf468b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current value.  <a href="#ae0c1e3dcbc35f789a9e9ff7bfbf468b1">More...</a><br /></td></tr>
<tr class="separator:ae0c1e3dcbc35f789a9e9ff7bfbf468b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An actual, honest to god, metric. </p>
<p>A bit of effort has gone into making this structure as efficient as we possibly can. Given that a <em>lot</em> of metrics can theoretically be dumped out, and that Asterisk attempts to be a "real-time" system, we want this process to be as efficient as possible. Countering that is the ridiculous flexibility that Prometheus allows for (and, to an extent, wants) - namely the notion of families of metrics delineated by their labels.</p>
<p>In order to balance this, metrics have arrays of labels. While this makes for a very large struct (such that loading one of these into memory is probably going to blow your cache), you will at least get the whole thing, since you're going to need those labels to figure out what you're looking like.</p>
<p>A hierarchy of metrics occurs when all metrics have the same <code>name</code>, but different labels.</p>
<p>We manage the hierarchy by allowing a metric to maintain their own list of related metrics. When metrics are registered (/c prometheus_metric_register), the function will automatically determine the hierarchy and place them into the appropriate lists. When you are creating metrics on the fly in a callback (<code>prometheus_callback_register</code>), you have to manage this hierarchy yourself, and only print out the first metric in a chain.</p>
<p>Note that <b>EVERYTHING</b> in a metric is immutable once registered, save for its value. Modifying the hierarchy, labels, name, help, whatever is going to result in a "bad time", and is also expressly against Prometheus law. (Don't get your liver eaten.) </p>

<p class="definition">Definition at line <a class="el" href="../../d0/db1/res__prometheus_8h_source.html#l00196">196</a> of file <a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="aa794b1bff0439ba630beb00ef1e37f58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa794b1bff0439ba630beb00ef1e37f58">&#9670;&nbsp;</a></span>allocation_strategy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d0/db1/res__prometheus_8h.html#af1732dbbefdac1b3c42ff4e86a9998be">prometheus_metric_allocation_strategy</a> allocation_strategy</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How this metric was allocated. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/db1/res__prometheus_8h_source.html#l00204">204</a> of file <a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00422">prometheus_metric_create()</a>, and <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00392">prometheus_metric_free()</a>.</p>

</div>
</div>
<a id="ae58ab8ab7bd9df1dfbe5b715284ed572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae58ab8ab7bd9df1dfbe5b715284ed572">&#9670;&nbsp;</a></span>children</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   children</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A list of children metrics. </p>
<p>Children metrics have the same name but different label.</p>
<p>Registration of a metric will automatically nest the metrics; otherwise they are treated independently.</p>
<p>The help of the first metric in a chain of related metrics is the only one that will be printed.</p>
<p>For metrics output during a callback, the handler is responsible for managing the children. For metrics that are registered, the registration automatically nests the metrics. </p>

<p class="reference">Referenced by <a class="el" href="../../d6/d80/test__res__prometheus_8c_source.html#l00354">AST_TEST_DEFINE()</a>, <a class="el" href="../../df/d8d/channels_8c_source.html#l00130">channels_scrape_cb()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00392">prometheus_metric_free()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00287">prometheus_metric_register()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00521">prometheus_metric_to_string()</a>, and <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00334">prometheus_metric_unregister()</a>.</p>

</div>
</div>
<a id="a9f45d72543fc617ec0bb71e17db6b3bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f45d72543fc617ec0bb71e17db6b3bf">&#9670;&nbsp;</a></span>entry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   <a class="el" href="../../d3/d96/structentry.html">entry</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac6a7d03ec23cd7045892233995fe51d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6a7d03ec23cd7045892233995fe51d7">&#9670;&nbsp;</a></span>first</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../de/d94/structprometheus__metric.html">prometheus_metric</a>* first</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/db1/res__prometheus_8h_source.html#l00253">253</a> of file <a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>.</p>

</div>
</div>
<a id="a70a0c038284d1c128450fa59842c2fea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a0c038284d1c128450fa59842c2fea">&#9670;&nbsp;</a></span>get_metric_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(*  get_metric_value) (struct <a class="el" href="../../de/d94/structprometheus__metric.html">prometheus_metric</a> *metric)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/db1/res__prometheus_8h_source.html#l00237">237</a> of file <a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d8d/channels_8c_source.html#l00130">channels_scrape_cb()</a>, and <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00563">scrape_metrics()</a>.</p>

</div>
</div>
<a id="ad7ec84b4d1c84a2d1af0c0de9ea5b86f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7ec84b4d1c84a2d1af0c0de9ea5b86f">&#9670;&nbsp;</a></span>help</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* help</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to a static string defining this metric's help text. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/db1/res__prometheus_8h_source.html#l00214">214</a> of file <a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00078">bridges_scrape_cb()</a>, <a class="el" href="../../df/d8d/channels_8c_source.html#l00130">channels_scrape_cb()</a>, <a class="el" href="../../d6/d2c/res_2prometheus_2endpoints_8c_source.html#l00097">endpoints_scrape_cb()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00422">prometheus_metric_create()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00521">prometheus_metric_to_string()</a>, and <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00267">registry_message_cb()</a>.</p>

</div>
</div>
<a id="a66c2c891e92a03115c64177cb09bc96b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66c2c891e92a03115c64177cb09bc96b">&#9670;&nbsp;</a></span>labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d5/d5b/structprometheus__label.html">prometheus_label</a> labels[<a class="el" href="../../d0/db1/res__prometheus_8h.html#ab0a3c3feb485592fc9c07a801a0560af">PROMETHEUS_MAX_LABELS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The metric's labels. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/db1/res__prometheus_8h_source.html#l00222">222</a> of file <a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00252">prometheus_metric_cmp()</a>, and <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00485">prometheus_metric_full_to_string()</a>.</p>

</div>
</div>
<a id="a868c8dc8ed33a11d2f8608100670da37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a868c8dc8ed33a11d2f8608100670da37">&#9670;&nbsp;</a></span>last</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../de/d94/structprometheus__metric.html">prometheus_metric</a>* last</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/db1/res__prometheus_8h_source.html#l00253">253</a> of file <a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>.</p>

</div>
</div>
<a id="adf04f66344e3fb0a6f6a69bf39d19902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf04f66344e3fb0a6f6a69bf39d19902">&#9670;&nbsp;</a></span>lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> lock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A lock protecting the metric <code>value</code>. </p>
<dl class="section note"><dt>Note</dt><dd>The metric must be locked prior to updating its value! </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/db1/res__prometheus_8h_source.html#l00210">210</a> of file <a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00422">prometheus_metric_create()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00392">prometheus_metric_free()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00267">registry_message_cb()</a>, and <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00563">scrape_metrics()</a>.</p>

</div>
</div>
<a id="a11962b292869f13ae7f8c28f99b800fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11962b292869f13ae7f8c28f99b800fa">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char name[<a class="el" href="../../d0/db1/res__prometheus_8h.html#aa5154944020c0abb0d229eafec9d2cfc">PROMETHEUS_MAX_NAME_LENGTH</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Our metric name. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/db1/res__prometheus_8h_source.html#l00218">218</a> of file <a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/ddd/asterisk__processor_8py_source.html#l00101">PathSegment::get_child()</a>, <a class="el" href="../../dc/ded/swagger__model_8py_source.html#l00283">Parameter::load()</a>, <a class="el" href="../../dc/ded/swagger__model_8py_source.html#l00338">SwaggerType::load()</a>, <a class="el" href="../../dc/ded/swagger__model_8py_source.html#l00477">Property::load()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00252">prometheus_metric_cmp()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00422">prometheus_metric_create()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00485">prometheus_metric_full_to_string()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00287">prometheus_metric_register()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00521">prometheus_metric_to_string()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00334">prometheus_metric_unregister()</a>, and <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00267">registry_message_cb()</a>.</p>

</div>
</div>
<a id="aa61375f4f5f0c68a0c916871f7629fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa61375f4f5f0c68a0c916871f7629fa8">&#9670;&nbsp;</a></span>next</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../de/d94/structprometheus__metric.html">prometheus_metric</a>* next</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/db1/res__prometheus_8h_source.html#l00254">254</a> of file <a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>.</p>

</div>
</div>
<a id="aeefacacbfc41d8efd691e0fd6babeb38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeefacacbfc41d8efd691e0fd6babeb38">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d0/db1/res__prometheus_8h.html#a3499408dda4e539634c332c797651932">prometheus_metric_type</a> type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>What type of metric we are. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/db1/res__prometheus_8h_source.html#l00200">200</a> of file <a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00078">bridges_scrape_cb()</a>, <a class="el" href="../../df/d8d/channels_8c_source.html#l00130">channels_scrape_cb()</a>, <a class="el" href="../../d6/d2c/res_2prometheus_2endpoints_8c_source.html#l00097">endpoints_scrape_cb()</a>, <a class="el" href="../../dc/ded/swagger__model_8py_source.html#l00477">Property::load()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00452">prometheus_counter_create()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00439">prometheus_gauge_create()</a>, and <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00521">prometheus_metric_to_string()</a>.</p>

</div>
</div>
<a id="ae0c1e3dcbc35f789a9e9ff7bfbf468b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0c1e3dcbc35f789a9e9ff7bfbf468b1">&#9670;&nbsp;</a></span>value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char value[<a class="el" href="../../d0/db1/res__prometheus_8h.html#ac47cc1ae517b84bc55e61cca6a0bbd70">PROMETHEUS_MAX_VALUE_LENGTH</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The current value. </p>
<p>If <code>get_metric_value</code> is set, this value is ignored until the callback happens </p>

<p class="definition">Definition at line <a class="el" href="../../d0/db1/res__prometheus_8h_source.html#l00230">230</a> of file <a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d80/test__res__prometheus_8c_source.html#l00117">AST_TEST_DEFINE()</a>, <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00078">bridges_scrape_cb()</a>, <a class="el" href="../../df/d8d/channels_8c_source.html#l00130">channels_scrape_cb()</a>, <a class="el" href="../../d6/d2c/res_2prometheus_2endpoints_8c_source.html#l00097">endpoints_scrape_cb()</a>, <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00042">get_bridge_channel_count()</a>, <a class="el" href="../../df/d8d/channels_8c_source.html#l00057">get_channel_duration()</a>, <a class="el" href="../../df/d8d/channels_8c_source.html#l00045">get_channel_state()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00188">get_core_uptime_cb()</a>, <a class="el" href="../../df/d8d/channels_8c_source.html#l00100">get_current_call_count()</a>, <a class="el" href="../../d6/d2c/res_2prometheus_2endpoints_8c_source.html#l00056">get_endpoint_channel_count()</a>, <a class="el" href="../../d6/d2c/res_2prometheus_2endpoints_8c_source.html#l00044">get_endpoint_state()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00196">get_last_reload_cb()</a>, <a class="el" href="../../df/d8d/channels_8c_source.html#l00095">get_total_call_count()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00593">http_callback()</a>, <a class="el" href="../../d6/d80/test__res__prometheus_8c_source.html#l00112">metric_values_get_counter_value_cb()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00701">prometheus_last_scrape_duration_get()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00485">prometheus_metric_full_to_string()</a>, and <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00267">registry_message_cb()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="../../d0/db1/res__prometheus_8h_source.html">res_prometheus.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:47:28 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
