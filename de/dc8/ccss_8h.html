<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: ccss.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ccss.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Call Completion Supplementary Services API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d90/linkedlists_8h_source.html">asterisk/linkedlists.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/da2/devicestate_8h_source.html">asterisk/devicestate.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ccss.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/de6/ccss_8h__incl.png" border="0" usemap="#ccss_8h" alt=""/></div>
<map name="ccss_8h" id="ccss_8h">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="870,229,954,256"/>
<area shape="rect" id="node22" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1341,80,1491,107"/>
<area shape="rect" id="node31" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="1113,80,1276,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1512,379,1667,405"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="762,304,899,331"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="603,304,738,331"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="1516,453,1663,480"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1345,379,1487,405"/>
<area shape="rect" id="node23" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1670,229,1783,256"/>
<area shape="rect" id="node25" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1454,304,1517,331"/>
<area shape="rect" id="node26" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1944,379,2091,405"/>
<area shape="rect" id="node29" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="1778,304,1929,331"/>
<area shape="rect" id="node30" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1251,304,1378,331"/>
<area shape="rect" id="node32" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="1001,155,1172,181"/>
<area shape="rect" id="node33" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1247,155,1361,181"/>
<area shape="rect" id="node34" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="1235,229,1373,256"/>
<area shape="rect" id="node35" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="1397,229,1544,256"/>
<area shape="rect" id="node36" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1945,229,2103,256"/>
<area shape="rect" id="node37" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1029,229,1160,256"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd7/ccss_8h__dep__incl.png" border="0" usemap="#ccss_8hdep" alt=""/></div>
<map name="ccss_8hdep" id="ccss_8hdep">
<area shape="rect" id="node2" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="2697,80,2781,107"/>
<area shape="rect" id="node25" href="../../d9/d12/app__dial_8c.html" title="dial() &amp; retrydial() &#45; Trivial application to dial a channel and send an URL on answer ..." alt="" coords="119,229,205,256"/>
<area shape="rect" id="node35" href="../../d1/d97/chan__dahdi_8c.html" title="DAHDI for Pseudo TDM. " alt="" coords="691,229,798,256"/>
<area shape="rect" id="node36" href="../../d5/dfe/chan__sip_8c.html" title="Implementation of Session Initiation Protocol. " alt="" coords="5,229,95,256"/>
<area shape="rect" id="node37" href="../../d9/d97/func__callcompletion_8c.html" title="Call Completion Supplementary Services implementation. " alt="" coords="4345,229,4504,256"/>
<area shape="rect" id="node38" href="../../d3/d5a/ccss_8c.html" title="Call Completion Supplementary Services implementation. " alt="" coords="4529,229,4590,256"/>
<area shape="rect" id="node50" href="../../d7/d6c/sig__pri_8h.html" title="Interface header for PRI signaling module. " alt="" coords="4790,155,4865,181"/>
<area shape="rect" id="node3" href="../../d0/db6/app__mysql_8c.html" title="MYSQL dialplan application. " alt="" coords="4079,229,4181,256"/>
<area shape="rect" id="node4" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="4298,155,4351,181"/>
<area shape="rect" id="node5" href="../../d0/d29/cdr__mysql_8c.html" title="MySQL CDR backend. " alt="" coords="4614,229,4713,256"/>
<area shape="rect" id="node6" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="2441,155,2499,181"/>
<area shape="rect" id="node7" href="../../d3/d51/chan__mobile_8c.html" title="Bluetooth Mobile Device channel driver. " alt="" coords="4206,229,4321,256"/>
<area shape="rect" id="node8" href="../../d3/d45/chan__ooh323_8h.html" title="chan_ooh323.h" alt="" coords="230,229,350,256"/>
<area shape="rect" id="node9" href="../../db/d62/app__adsiprog_8c.html" title="Program Asterisk ADSI Scripts into phone. " alt="" coords="1165,229,1284,256"/>
<area shape="rect" id="node10" href="../../de/d11/app__agent__pool_8c.html" title="Call center agent pool. " alt="" coords="532,229,667,256"/>
<area shape="rect" id="node11" href="../../dc/d5c/app__alarmreceiver_8c.html" title="Central Station Alarm receiver for Ademco Contact ID. " alt="" coords="1308,229,1459,256"/>
<area shape="rect" id="node12" href="../../d2/d48/app__amd_8c.html" title="Answering machine detection. " alt="" coords="1483,229,1577,256"/>
<area shape="rect" id="node13" href="../../d0/df4/app__attended__transfer_8c.html" title="Attended transfer by caller channel. " alt="" coords="1601,229,1779,256"/>
<area shape="rect" id="node14" href="../../d6/d0f/app__authenticate_8c.html" title="Execute arbitrary authenticate commands. " alt="" coords="1804,229,1949,256"/>
<area shape="rect" id="node15" href="../../d7/d7c/app__blind__transfer_8c.html" title="Blind transfer by caller channel. " alt="" coords="1973,229,2124,256"/>
<area shape="rect" id="node16" href="../../dc/d22/app__bridgewait_8c.html" title="Application to place the channel into a holding Bridge. " alt="" coords="1012,229,1141,256"/>
<area shape="rect" id="node17" href="../../d2/d43/app__chanisavail_8c.html" title="Check if Channel is Available. " alt="" coords="2148,229,2283,256"/>
<area shape="rect" id="node18" href="../../d7/d1b/app__channelredirect_8c.html" title="ChannelRedirect application. " alt="" coords="2507,229,2670,256"/>
<area shape="rect" id="node19" href="../../dc/d04/app__chanspy_8c.html" title="ChanSpy: Listen in on any channel. " alt="" coords="873,229,987,256"/>
<area shape="rect" id="node20" href="../../d0/dcf/app__confbridge_8c.html" title="Conference Bridge application. " alt="" coords="2366,379,2497,405"/>
<area shape="rect" id="node21" href="../../dc/d4e/stasis__bridges_8h.html" title="stasis_bridges.h" alt="" coords="2307,229,2433,256"/>
<area shape="rect" id="node22" href="../../d4/de3/confbridge_8h.html" title="confbridge.h" alt="" coords="4787,304,4889,331"/>
<area shape="rect" id="node23" href="../../d3/d3a/app__dahdiras_8c.html" title="Execute an ISDN RAS. " alt="" coords="2695,229,2813,256"/>
<area shape="rect" id="node24" href="../../dc/dc4/app__db_8c.html" title="Database access functions. " alt="" coords="2837,229,2917,256"/>
<area shape="rect" id="node26" href="../../d9/db1/app__directed__pickup_8c.html" title="Directed Call Pickup Support. " alt="" coords="2941,229,3105,256"/>
<area shape="rect" id="node27" href="../../d4/d7e/app__disa_8c.html" title="DISA – Direct Inward System Access Application. " alt="" coords="3130,229,3221,256"/>
<area shape="rect" id="node28" href="../../dc/dc1/app__dtmfstore_8c.html" title="Technology independent asynchronous DTMF collection. " alt="" coords="3245,229,3372,256"/>
<area shape="rect" id="node29" href="../../d2/ddd/app__dumpchan_8c.html" title="Application to dump channel variables. " alt="" coords="3396,229,3528,256"/>
<area shape="rect" id="node30" href="../../d9/d7c/app__exec_8c.html" title="Exec application. " alt="" coords="3552,229,3647,256"/>
<area shape="rect" id="node31" href="../../de/d26/app__externalivr_8c.html" title="External IVR application interface. " alt="" coords="3671,229,3802,256"/>
<area shape="rect" id="node32" href="../../df/dde/app__fax_8c.html" title="app_fax.c" alt="" coords="425,229,507,256"/>
<area shape="rect" id="node33" href="../../d5/dd6/app__festival_8c.html" title="Connect to festival. " alt="" coords="3826,229,3935,256"/>
<area shape="rect" id="node34" href="../../d0/dd8/app__flash_8c.html" title="App to flash a DAHDI trunk. " alt="" coords="3960,229,4055,256"/>
<area shape="rect" id="node39" href="../../d5/da1/udptl_8h.html" title="UDPTL support for T.38. " alt="" coords="271,155,338,181"/>
<area shape="rect" id="node40" href="../../d9/d4a/stasis__channels_8h.html" title="stasis_channels.h" alt="" coords="413,155,548,181"/>
<area shape="rect" id="node41" href="../../dd/d18/res__config__mysql_8c.html" title="MySQL CDR backend. " alt="" coords="3056,155,3199,181"/>
<area shape="rect" id="node42" href="../../dc/d7a/bridge__features_8h.html" title="Channel Bridging API. " alt="" coords="4631,155,4765,181"/>
<area shape="rect" id="node43" href="../../d9/daa/app__audiosocket_8c.html" title="AudioSocket application – transmit and receive audio through a TCP socket. " alt="" coords="3223,155,3365,181"/>
<area shape="rect" id="node44" href="../../d8/d6e/app__bridgeaddchan_8c.html" title="Application to place the channel into an existing Bridge. " alt="" coords="3389,155,3548,181"/>
<area shape="rect" id="node45" href="../../db/dce/say_8h.html" title="Say numbers and dates (maybe words one day too) " alt="" coords="919,155,973,181"/>
<area shape="rect" id="node46" href="../../d1/da0/app__cdr_8c.html" title="Applications connected with CDR engine. " alt="" coords="3573,155,3655,181"/>
<area shape="rect" id="node47" href="../../d6/df5/app__celgenuserevent_8c.html" title="Generate User&#45;Defined CEL event. " alt="" coords="3679,155,3850,181"/>
<area shape="rect" id="node48" href="../../d6/db3/aoc_8h.html" title="Generic Advice of Charge encode and decode routines. " alt="" coords="139,155,196,181"/>
<area shape="rect" id="node49" href="../../d4/de3/app__echo_8c.html" title="Echo application – play back what you hear to evaluate latency. " alt="" coords="3875,155,3969,181"/>
</map>
</div>
</div>
<p><a href="../../de/dc8/ccss_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d58/structast__cc__interface.html">ast_cc_interface</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure with information about an outbound interface.  <a href="../../d5/d58/structast__cc__interface.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callbacks defined by CC monitors.  <a href="../../d0/d66/structast__cc__monitor__callbacks.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1419c77d2c40064d442ae794175ca879"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a1419c77d2c40064d442ae794175ca879">ast_cc_config_params_init</a>()&#160;&#160;&#160;<a class="el" href="../../d3/d5a/ccss_8c.html#a93c8c152fe5019f97666b4b123eddb5d">__ast_cc_config_params_init</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__)</td></tr>
<tr class="memdesc:a1419c77d2c40064d442ae794175ca879"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and initialize an <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> structure.  <a href="#a1419c77d2c40064d442ae794175ca879">More...</a><br /></td></tr>
<tr class="separator:a1419c77d2c40064d442ae794175ca879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c00e4618fa5ece215682cf02519ab55"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a1c00e4618fa5ece215682cf02519ab55">AST_CC_GENERIC_MONITOR_TYPE</a>&#160;&#160;&#160;&quot;generic&quot;</td></tr>
<tr class="separator:a1c00e4618fa5ece215682cf02519ab55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3af118c4ad58da15d5b752b155e6fb1a"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a3af118c4ad58da15d5b752b155e6fb1a">ast_cc_callback_fn</a>) (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params, const char *monitor_type, const char *const device_name, const char *const dialstring, void *private_data)</td></tr>
<tr class="memdesc:a3af118c4ad58da15d5b752b155e6fb1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback made from ast_cc_callback for certain channel types.  <a href="#a3af118c4ad58da15d5b752b155e6fb1a">More...</a><br /></td></tr>
<tr class="separator:a3af118c4ad58da15d5b752b155e6fb1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab4abe51a3cf7a84be8a5d0a2e06f1a92"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#ab4abe51a3cf7a84be8a5d0a2e06f1a92">ast_cc_agent_flags</a> { <a class="el" href="../../de/dc8/ccss_8h.html#ab4abe51a3cf7a84be8a5d0a2e06f1a92a6ac7ee135b3c410dc5f9fcbec384ef16">AST_CC_AGENT_SKIP_OFFER</a> = (1 &lt;&lt; 0)
 }<tr class="memdesc:ab4abe51a3cf7a84be8a5d0a2e06f1a92"><td class="mdescLeft">&#160;</td><td class="mdescRight">agent flags that can alter core behavior  <a href="../../de/dc8/ccss_8h.html#ab4abe51a3cf7a84be8a5d0a2e06f1a92">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ab4abe51a3cf7a84be8a5d0a2e06f1a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa160e8c9504bf8c772a07b37a491e8f8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a> { <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c">AST_CC_AGENT_NEVER</a>, 
<a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce">AST_CC_AGENT_NATIVE</a>, 
<a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a>
 }<tr class="memdesc:aa160e8c9504bf8c772a07b37a491e8f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The various possibilities for cc_agent_policy values.  <a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:aa160e8c9504bf8c772a07b37a491e8f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc7abb083c6d920fc6ed652f1b3e40f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40f">ast_cc_agent_response_reason</a> { <a class="el" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fa2c35ce5050e874998baefd43036f10f4">AST_CC_AGENT_RESPONSE_SUCCESS</a>, 
<a class="el" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fa1f46b662ae0b626724d2c8d90143c93a">AST_CC_AGENT_RESPONSE_FAILURE_INVALID</a>, 
<a class="el" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fafd230e8ed54f4d0d5158d571eeb57e3c">AST_CC_AGENT_RESPONSE_FAILURE_TOO_MANY</a>
 }</td></tr>
<tr class="separator:a4dc7abb083c6d920fc6ed652f1b3e40f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba1f9c278d0afcd4792c017807417c31"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31">ast_cc_monitor_class</a> { <a class="el" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a>, 
<a class="el" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31a55ff9826d41e4cd89174a86ab3bd3733">AST_CC_EXTENSION_MONITOR</a>
 }</td></tr>
<tr class="separator:aba1f9c278d0afcd4792c017807417c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a078a59bc29f1ace8486ab9ecb774c4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a> { <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a302a65a5fc7468b6b96af0ec39eedae2">AST_CC_MONITOR_NEVER</a>, 
<a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a8f6c86645c00c1789fec227c20bfa66e">AST_CC_MONITOR_NATIVE</a>, 
<a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05">AST_CC_MONITOR_GENERIC</a>, 
<a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77">AST_CC_MONITOR_ALWAYS</a>
 }<tr class="memdesc:a9a078a59bc29f1ace8486ab9ecb774c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The various possibilities for cc_monitor_policy values.  <a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a9a078a59bc29f1ace8486ab9ecb774c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50c1ff8b0de8119431904e2ce0064530"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a> { <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530aa9c4c6035dbb586ac72385084df5c16a">AST_CC_NONE</a>, 
<a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a>, 
<a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530aec12fa6bbd080be709806e28f8bade1e">AST_CC_CCNR</a>, 
<a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a3242b57514a2c81b6f9edd33ddef1f1a">AST_CC_CCNL</a>
 }</td></tr>
<tr class="separator:a50c1ff8b0de8119431904e2ce0064530"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a93c8c152fe5019f97666b4b123eddb5d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a93c8c152fe5019f97666b4b123eddb5d">__ast_cc_config_params_init</a> (const char *file, int line, const char *function)</td></tr>
<tr class="memdesc:a93c8c152fe5019f97666b4b123eddb5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and initialize an <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> structure.  <a href="#a93c8c152fe5019f97666b4b123eddb5d">More...</a><br /></td></tr>
<tr class="separator:a93c8c152fe5019f97666b4b123eddb5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a037cc988c277a5a296ad1af1fb05f5a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a037cc988c277a5a296ad1af1fb05f5a4">ast_cc_agent_accept_request</a> (int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:a037cc988c277a5a296ad1af1fb05f5a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept inbound CC request.  <a href="#a037cc988c277a5a296ad1af1fb05f5a4">More...</a><br /></td></tr>
<tr class="separator:a037cc988c277a5a296ad1af1fb05f5a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a717c8b12205435084874c2f833d8a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#ac9a717c8b12205435084874c2f833d8a">ast_cc_agent_callback</a> (int flags, <a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a> *function, void *arg, const char *const <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:ac9a717c8b12205435084874c2f833d8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call a callback on all agents of a specific type.  <a href="#ac9a717c8b12205435084874c2f833d8a">More...</a><br /></td></tr>
<tr class="separator:ac9a717c8b12205435084874c2f833d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2a5064d0e089814ba93dc2aefacdd09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#ac2a5064d0e089814ba93dc2aefacdd09">ast_cc_agent_caller_available</a> (int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:ac2a5064d0e089814ba93dc2aefacdd09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that a previously unavailable caller has become available.  <a href="#ac2a5064d0e089814ba93dc2aefacdd09">More...</a><br /></td></tr>
<tr class="separator:ac2a5064d0e089814ba93dc2aefacdd09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a815b8982e8b9183a38a2e2c785d155"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a0a815b8982e8b9183a38a2e2c785d155">ast_cc_agent_caller_busy</a> (int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:a0a815b8982e8b9183a38a2e2c785d155"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the caller is busy.  <a href="#a0a815b8982e8b9183a38a2e2c785d155">More...</a><br /></td></tr>
<tr class="separator:a0a815b8982e8b9183a38a2e2c785d155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d36b7a6c430c9a9d9a773745db94354"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a6d36b7a6c430c9a9d9a773745db94354">ast_cc_agent_recalling</a> (int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:a6d36b7a6c430c9a9d9a773745db94354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the CC core that a caller is currently recalling.  <a href="#a6d36b7a6c430c9a9d9a773745db94354">More...</a><br /></td></tr>
<tr class="separator:a6d36b7a6c430c9a9d9a773745db94354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6645437018e01782a83ada2ff4735c7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a6645437018e01782a83ada2ff4735c7a">ast_cc_agent_register</a> (const struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:a6645437018e01782a83ada2ff4735c7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a set of agent callbacks with the core.  <a href="#a6645437018e01782a83ada2ff4735c7a">More...</a><br /></td></tr>
<tr class="separator:a6645437018e01782a83ada2ff4735c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac943e39777b9c5ac58c4b4802b7347c6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#ac943e39777b9c5ac58c4b4802b7347c6">ast_cc_agent_set_interfaces_chanvar</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:ac943e39777b9c5ac58c4b4802b7347c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the first level CC_INTERFACES channel variable for a channel.  <a href="#ac943e39777b9c5ac58c4b4802b7347c6">More...</a><br /></td></tr>
<tr class="separator:ac943e39777b9c5ac58c4b4802b7347c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdc7eb3bf93834fe45f72829ff9abe16"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#acdc7eb3bf93834fe45f72829ff9abe16">ast_cc_agent_status_response</a> (int core_id, enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> devstate)</td></tr>
<tr class="memdesc:acdc7eb3bf93834fe45f72829ff9abe16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response with a caller's current status.  <a href="#acdc7eb3bf93834fe45f72829ff9abe16">More...</a><br /></td></tr>
<tr class="separator:acdc7eb3bf93834fe45f72829ff9abe16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad888baaa4d37a6197c2712bc1756d963"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#ad888baaa4d37a6197c2712bc1756d963">ast_cc_agent_unregister</a> (const struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:ad888baaa4d37a6197c2712bc1756d963"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a set of agent callbacks with the core.  <a href="#ad888baaa4d37a6197c2712bc1756d963">More...</a><br /></td></tr>
<tr class="separator:ad888baaa4d37a6197c2712bc1756d963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01932a0cf8fdb65d6225199cef522cf1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a01932a0cf8fdb65d6225199cef522cf1">ast_cc_available_timer_expire</a> (const void *data)</td></tr>
<tr class="memdesc:a01932a0cf8fdb65d6225199cef522cf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduler callback for available timer expiration.  <a href="#a01932a0cf8fdb65d6225199cef522cf1">More...</a><br /></td></tr>
<tr class="separator:a01932a0cf8fdb65d6225199cef522cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950699e580ab7fc1f96db1a6608fcdf4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a950699e580ab7fc1f96db1a6608fcdf4">ast_cc_build_frame</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params, const char *monitor_type, const char *const device_name, const char *const dialstring, enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a> <a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, void *private_data, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame)</td></tr>
<tr class="memdesc:a950699e580ab7fc1f96db1a6608fcdf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a CC Control frame.  <a href="#a950699e580ab7fc1f96db1a6608fcdf4">More...</a><br /></td></tr>
<tr class="separator:a950699e580ab7fc1f96db1a6608fcdf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91369860e89c9870c37953794ea09718"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a91369860e89c9870c37953794ea09718">ast_cc_busy_interface</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *inbound, struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params, const char *monitor_type, const char *const device_name, const char *const dialstring, void *private_data)</td></tr>
<tr class="memdesc:a91369860e89c9870c37953794ea09718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback made from ast_cc_callback for certain channel types.  <a href="#a91369860e89c9870c37953794ea09718">More...</a><br /></td></tr>
<tr class="separator:a91369860e89c9870c37953794ea09718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e72bd5c0ba81e0d0c8873f059c01723"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a0e72bd5c0ba81e0d0c8873f059c01723">ast_cc_call_failed</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *incoming, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../de/dcd/structoutgoing.html">outgoing</a>, const char *const dialstring)</td></tr>
<tr class="memdesc:a0e72bd5c0ba81e0d0c8873f059c01723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make CCBS available in the case that ast_call fails.  <a href="#a0e72bd5c0ba81e0d0c8873f059c01723">More...</a><br /></td></tr>
<tr class="separator:a0e72bd5c0ba81e0d0c8873f059c01723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd6a5b3b5af842446bcb3b37483724f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#acd6a5b3b5af842446bcb3b37483724f1">ast_cc_call_init</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, int *ignore_cc)</td></tr>
<tr class="memdesc:acd6a5b3b5af842446bcb3b37483724f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the CC process on a call.  <a href="#acd6a5b3b5af842446bcb3b37483724f1">More...</a><br /></td></tr>
<tr class="separator:acd6a5b3b5af842446bcb3b37483724f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1af698fa1f6cd07579b79380445c715"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#af1af698fa1f6cd07579b79380445c715">ast_cc_callback</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *inbound, const char *const tech, const char *const dest, <a class="el" href="../../de/dc8/ccss_8h.html#a3af118c4ad58da15d5b752b155e6fb1a">ast_cc_callback_fn</a> callback)</td></tr>
<tr class="memdesc:af1af698fa1f6cd07579b79380445c715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a callback for potential matching destinations.  <a href="#af1af698fa1f6cd07579b79380445c715">More...</a><br /></td></tr>
<tr class="separator:af1af698fa1f6cd07579b79380445c715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7519355934a0aeb6972fd450cc693aac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a7519355934a0aeb6972fd450cc693aac">ast_cc_completed</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:a7519355934a0aeb6972fd450cc693aac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate recall has been acknowledged.  <a href="#a7519355934a0aeb6972fd450cc693aac">More...</a><br /></td></tr>
<tr class="separator:a7519355934a0aeb6972fd450cc693aac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a239279c104563561034f7988b78ae685"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a239279c104563561034f7988b78ae685">ast_cc_config_params_destroy</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *params)</td></tr>
<tr class="memdesc:a239279c104563561034f7988b78ae685"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free memory from CCSS configuration params.  <a href="#a239279c104563561034f7988b78ae685">More...</a><br /></td></tr>
<tr class="separator:a239279c104563561034f7988b78ae685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f6f8fffb6cf0856d5cf953c5f51b74b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a6f6f8fffb6cf0856d5cf953c5f51b74b">ast_cc_copy_config_params</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *dest, const struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *src)</td></tr>
<tr class="memdesc:a6f6f8fffb6cf0856d5cf953c5f51b74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy CCSS configuration parameters from one structure to another  <a href="#a6f6f8fffb6cf0856d5cf953c5f51b74b">More...</a><br /></td></tr>
<tr class="separator:a6f6f8fffb6cf0856d5cf953c5f51b74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b0902e07ba1de026cb801654758ef9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a59b0902e07ba1de026cb801654758ef9">ast_cc_default_config_params</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *params)</td></tr>
<tr class="memdesc:a59b0902e07ba1de026cb801654758ef9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the specified CC config params to default values.  <a href="#a59b0902e07ba1de026cb801654758ef9">More...</a><br /></td></tr>
<tr class="separator:a59b0902e07ba1de026cb801654758ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa870fead699aa352308ba4da3f6502cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#aa870fead699aa352308ba4da3f6502cb">ast_cc_extension_monitor_add_dialstring</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *incoming, const char *const dialstring, const char *const device_name)</td></tr>
<tr class="memdesc:aa870fead699aa352308ba4da3f6502cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a child dialstring to an extension monitor.  <a href="#aa870fead699aa352308ba4da3f6502cb">More...</a><br /></td></tr>
<tr class="separator:aa870fead699aa352308ba4da3f6502cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25ea527a36ed77fcba9eb1eba0b4186"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a> (int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:ad25ea527a36ed77fcba9eb1eba0b4186"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate failure has occurred.  <a href="#ad25ea527a36ed77fcba9eb1eba0b4186">More...</a><br /></td></tr>
<tr class="separator:ad25ea527a36ed77fcba9eb1eba0b4186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78031bab9c298a15d07a5f30ed0c3df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#af78031bab9c298a15d07a5f30ed0c3df">ast_cc_get_current_core_id</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:af78031bab9c298a15d07a5f30ed0c3df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the core id for the current call.  <a href="#af78031bab9c298a15d07a5f30ed0c3df">More...</a><br /></td></tr>
<tr class="separator:af78031bab9c298a15d07a5f30ed0c3df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d18d9e83ba249ca1e5f23c537f2535"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a05d18d9e83ba249ca1e5f23c537f2535">ast_cc_get_monitor_by_recall_core_id</a> (const int core_id, const char *const device_name)</td></tr>
<tr class="memdesc:a05d18d9e83ba249ca1e5f23c537f2535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the associated monitor given the device name and core_id.  <a href="#a05d18d9e83ba249ca1e5f23c537f2535">More...</a><br /></td></tr>
<tr class="separator:a05d18d9e83ba249ca1e5f23c537f2535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5e7c37a42b9e313c6225b2a26bdd054"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#ac5e7c37a42b9e313c6225b2a26bdd054">ast_cc_get_param</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *params, const char *const <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t buf_len)</td></tr>
<tr class="memdesc:ac5e7c37a42b9e313c6225b2a26bdd054"><td class="mdescLeft">&#160;</td><td class="mdescRight">get a CCSS configuration parameter, given its name  <a href="#ac5e7c37a42b9e313c6225b2a26bdd054">More...</a><br /></td></tr>
<tr class="separator:ac5e7c37a42b9e313c6225b2a26bdd054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89ac9652211fbeb5b4725635c518dc7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#af89ac9652211fbeb5b4725635c518dc7">ast_cc_is_config_param</a> (const char *const <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:af89ac9652211fbeb5b4725635c518dc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this a CCSS configuration parameter?  <a href="#af89ac9652211fbeb5b4725635c518dc7">More...</a><br /></td></tr>
<tr class="separator:af89ac9652211fbeb5b4725635c518dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd3a95509d01b9ed748148277b753f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a2fd3a95509d01b9ed748148277b753f6">ast_cc_is_recall</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, int *core_id, const char *const monitor_type)</td></tr>
<tr class="memdesc:a2fd3a95509d01b9ed748148277b753f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decide if a call to a particular channel is a CC recall.  <a href="#a2fd3a95509d01b9ed748148277b753f6">More...</a><br /></td></tr>
<tr class="separator:a2fd3a95509d01b9ed748148277b753f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f831cfaba759c6073f1940c9b81e2a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a8f831cfaba759c6073f1940c9b81e2a9">ast_cc_monitor_callee_available</a> (const int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:a8f831cfaba759c6073f1940c9b81e2a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alert the core that a device being monitored has become available.  <a href="#a8f831cfaba759c6073f1940c9b81e2a9">More...</a><br /></td></tr>
<tr class="separator:a8f831cfaba759c6073f1940c9b81e2a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b924db79cc74e212c0f11b978bdcacd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a8b924db79cc74e212c0f11b978bdcacd">ast_cc_monitor_count</a> (const char *const <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *const <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:a8b924db79cc74e212c0f11b978bdcacd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of outstanding CC requests to a specific device.  <a href="#a8b924db79cc74e212c0f11b978bdcacd">More...</a><br /></td></tr>
<tr class="separator:a8b924db79cc74e212c0f11b978bdcacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad179ffd63f6ff74454f58c58d7248368"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#ad179ffd63f6ff74454f58c58d7248368">ast_cc_monitor_failed</a> (int core_id, const char *const monitor_name, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:ad179ffd63f6ff74454f58c58d7248368"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that a failure has occurred on a specific monitor.  <a href="#ad179ffd63f6ff74454f58c58d7248368">More...</a><br /></td></tr>
<tr class="separator:ad179ffd63f6ff74454f58c58d7248368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1400673f64bff290fb66d7c2bd8b7830"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a1400673f64bff290fb66d7c2bd8b7830">ast_cc_monitor_party_b_free</a> (int core_id)</td></tr>
<tr class="memdesc:a1400673f64bff290fb66d7c2bd8b7830"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alert a caller that though the callee has become free, the caller himself is not and may not call back.  <a href="#a1400673f64bff290fb66d7c2bd8b7830">More...</a><br /></td></tr>
<tr class="separator:a1400673f64bff290fb66d7c2bd8b7830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c61c03681638d2b04390f4201e2320"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a21c61c03681638d2b04390f4201e2320">ast_cc_monitor_register</a> (const struct <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:a21c61c03681638d2b04390f4201e2320"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a set of monitor callbacks with the core.  <a href="#a21c61c03681638d2b04390f4201e2320">More...</a><br /></td></tr>
<tr class="separator:a21c61c03681638d2b04390f4201e2320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64d38b6c2631ece08ca6f32620e02635"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a64d38b6c2631ece08ca6f32620e02635">ast_cc_monitor_request_acked</a> (int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:a64d38b6c2631ece08ca6f32620e02635"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that an outbound entity has accepted our CC request.  <a href="#a64d38b6c2631ece08ca6f32620e02635">More...</a><br /></td></tr>
<tr class="separator:a64d38b6c2631ece08ca6f32620e02635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98e261f13321084b4ed0c1bd0d4ec70e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a98e261f13321084b4ed0c1bd0d4ec70e">ast_cc_monitor_status_request</a> (int core_id)</td></tr>
<tr class="memdesc:a98e261f13321084b4ed0c1bd0d4ec70e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the status of a caller or callers.  <a href="#a98e261f13321084b4ed0c1bd0d4ec70e">More...</a><br /></td></tr>
<tr class="separator:a98e261f13321084b4ed0c1bd0d4ec70e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ccff7da399d534b7ac4eee20fb25ae7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a3ccff7da399d534b7ac4eee20fb25ae7">ast_cc_monitor_stop_ringing</a> (int core_id)</td></tr>
<tr class="memdesc:a3ccff7da399d534b7ac4eee20fb25ae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alert a caller to stop ringing.  <a href="#a3ccff7da399d534b7ac4eee20fb25ae7">More...</a><br /></td></tr>
<tr class="separator:a3ccff7da399d534b7ac4eee20fb25ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefbdf8c3c2642f5ff99b3110b2b6066"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#aaefbdf8c3c2642f5ff99b3110b2b6066">ast_cc_monitor_unregister</a> (const struct <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:aaefbdf8c3c2642f5ff99b3110b2b6066"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a set of monitor callbacks with the core.  <a href="#aaefbdf8c3c2642f5ff99b3110b2b6066">More...</a><br /></td></tr>
<tr class="separator:aaefbdf8c3c2642f5ff99b3110b2b6066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ddce85b8dc1ffed466880d7f2a92a2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a4ddce85b8dc1ffed466880d7f2a92a2a">ast_cc_offer</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *caller_chan)</td></tr>
<tr class="memdesc:a4ddce85b8dc1ffed466880d7f2a92a2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offer CC to a caller.  <a href="#a4ddce85b8dc1ffed466880d7f2a92a2a">More...</a><br /></td></tr>
<tr class="separator:a4ddce85b8dc1ffed466880d7f2a92a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1570706dee0c4c88406d96f47f166d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#ae1570706dee0c4c88406d96f47f166d3">ast_cc_request_is_within_limits</a> (void)</td></tr>
<tr class="memdesc:ae1570706dee0c4c88406d96f47f166d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the incoming CC request is within the bounds set by the cc_max_requests configuration option.  <a href="#ae1570706dee0c4c88406d96f47f166d3">More...</a><br /></td></tr>
<tr class="separator:ae1570706dee0c4c88406d96f47f166d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff385fab8f65af97b5c6434dfdf2188d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#aff385fab8f65af97b5c6434dfdf2188d">ast_cc_set_param</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *params, const char *const <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:aff385fab8f65af97b5c6434dfdf2188d"><td class="mdescLeft">&#160;</td><td class="mdescRight">set a CCSS configuration parameter, given its name  <a href="#aff385fab8f65af97b5c6434dfdf2188d">More...</a><br /></td></tr>
<tr class="separator:aff385fab8f65af97b5c6434dfdf2188d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46199282e56a1def66a4f406e64e1690"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a46199282e56a1def66a4f406e64e1690">ast_get_cc_agent_dialstring</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a46199282e56a1def66a4f406e64e1690"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_agent_dialstring.  <a href="#a46199282e56a1def66a4f406e64e1690">More...</a><br /></td></tr>
<tr class="separator:a46199282e56a1def66a4f406e64e1690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9973d81440cb95d7ca720ef1e331c5cd"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a9973d81440cb95d7ca720ef1e331c5cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_agent_policy.  <a href="#a9973d81440cb95d7ca720ef1e331c5cd">More...</a><br /></td></tr>
<tr class="separator:a9973d81440cb95d7ca720ef1e331c5cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b7a459ee48682680795c741e748c086"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a7b7a459ee48682680795c741e748c086">ast_get_cc_callback_macro</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a7b7a459ee48682680795c741e748c086"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of the callback_macro.  <a href="#a7b7a459ee48682680795c741e748c086">More...</a><br /></td></tr>
<tr class="separator:a7b7a459ee48682680795c741e748c086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acccfe3f2b9de8a7009e02e2972ca6be5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#acccfe3f2b9de8a7009e02e2972ca6be5">ast_get_cc_callback_sub</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:acccfe3f2b9de8a7009e02e2972ca6be5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of the callback subroutine.  <a href="#acccfe3f2b9de8a7009e02e2972ca6be5">More...</a><br /></td></tr>
<tr class="separator:acccfe3f2b9de8a7009e02e2972ca6be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff8c9d10dfd21673fe3dd8177cc0769"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a8ff8c9d10dfd21673fe3dd8177cc0769">ast_get_cc_max_agents</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a8ff8c9d10dfd21673fe3dd8177cc0769"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_max_agents.  <a href="#a8ff8c9d10dfd21673fe3dd8177cc0769">More...</a><br /></td></tr>
<tr class="separator:a8ff8c9d10dfd21673fe3dd8177cc0769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b3862d5a0cd857a5c49c3b83d9fad7"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#ab3b3862d5a0cd857a5c49c3b83d9fad7">ast_get_cc_max_monitors</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:ab3b3862d5a0cd857a5c49c3b83d9fad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_max_monitors.  <a href="#ab3b3862d5a0cd857a5c49c3b83d9fad7">More...</a><br /></td></tr>
<tr class="separator:ab3b3862d5a0cd857a5c49c3b83d9fad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafed4bcde7e857db88ca60471e709a55"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#aafed4bcde7e857db88ca60471e709a55">ast_get_cc_monitor_policy</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:aafed4bcde7e857db88ca60471e709a55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_monitor_policy.  <a href="#aafed4bcde7e857db88ca60471e709a55">More...</a><br /></td></tr>
<tr class="separator:aafed4bcde7e857db88ca60471e709a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38cd4e661213322b65b7660a8b50027c"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a38cd4e661213322b65b7660a8b50027c">ast_get_cc_offer_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a38cd4e661213322b65b7660a8b50027c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_offer_timer.  <a href="#a38cd4e661213322b65b7660a8b50027c">More...</a><br /></td></tr>
<tr class="separator:a38cd4e661213322b65b7660a8b50027c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a017388f7e4b902e8caac6458e586f47a"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a017388f7e4b902e8caac6458e586f47a">ast_get_cc_recall_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a017388f7e4b902e8caac6458e586f47a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_recall_timer.  <a href="#a017388f7e4b902e8caac6458e586f47a">More...</a><br /></td></tr>
<tr class="separator:a017388f7e4b902e8caac6458e586f47a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d377a378c28013504d3b2f4a335764"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a76d377a378c28013504d3b2f4a335764">ast_get_ccbs_available_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a76d377a378c28013504d3b2f4a335764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ccbs_available_timer.  <a href="#a76d377a378c28013504d3b2f4a335764">More...</a><br /></td></tr>
<tr class="separator:a76d377a378c28013504d3b2f4a335764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c56a61357eecdf10b801914b367f59f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a8c56a61357eecdf10b801914b367f59f">ast_get_ccnr_available_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a8c56a61357eecdf10b801914b367f59f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ccnr_available_timer.  <a href="#a8c56a61357eecdf10b801914b367f59f">More...</a><br /></td></tr>
<tr class="separator:a8c56a61357eecdf10b801914b367f59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fdb7f0c8ccf479ea573a08e66693da1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a2fdb7f0c8ccf479ea573a08e66693da1">ast_handle_cc_control_frame</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *inbound, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *outbound, void *frame_data)</td></tr>
<tr class="memdesc:a2fdb7f0c8ccf479ea573a08e66693da1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Properly react to a CC control frame.  <a href="#a2fdb7f0c8ccf479ea573a08e66693da1">More...</a><br /></td></tr>
<tr class="separator:a2fdb7f0c8ccf479ea573a08e66693da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29bd22ae74dbfefbcb8bec022cf2f173"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a29bd22ae74dbfefbcb8bec022cf2f173">ast_ignore_cc</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a29bd22ae74dbfefbcb8bec022cf2f173"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the channel to ignore further CC activity.  <a href="#a29bd22ae74dbfefbcb8bec022cf2f173">More...</a><br /></td></tr>
<tr class="separator:a29bd22ae74dbfefbcb8bec022cf2f173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac83e01d7016c2eca52aa5748e91e1cd9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#ac83e01d7016c2eca52aa5748e91e1cd9">ast_queue_cc_frame</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *const monitor_type, const char *const dialstring, enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a> <a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, void *private_data)</td></tr>
<tr class="memdesc:ac83e01d7016c2eca52aa5748e91e1cd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue an AST_CONTROL_CC frame.  <a href="#ac83e01d7016c2eca52aa5748e91e1cd9">More...</a><br /></td></tr>
<tr class="separator:ac83e01d7016c2eca52aa5748e91e1cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6818b647740d8b4db35e00d35eea051b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a6818b647740d8b4db35e00d35eea051b">ast_set_cc_agent_dialstring</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, const char *const <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a6818b647740d8b4db35e00d35eea051b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_agent_dialstring.  <a href="#a6818b647740d8b4db35e00d35eea051b">More...</a><br /></td></tr>
<tr class="separator:a6818b647740d8b4db35e00d35eea051b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0548ae937919c6a5a39fedf977a68aad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a0548ae937919c6a5a39fedf977a68aad">ast_set_cc_agent_policy</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a> <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a0548ae937919c6a5a39fedf977a68aad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_agent_policy.  <a href="#a0548ae937919c6a5a39fedf977a68aad">More...</a><br /></td></tr>
<tr class="separator:a0548ae937919c6a5a39fedf977a68aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63ef8af3638a4314ad5b34e44fddef29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a63ef8af3638a4314ad5b34e44fddef29">ast_set_cc_callback_macro</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, const char *const <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a63ef8af3638a4314ad5b34e44fddef29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the callback_macro name.  <a href="#a63ef8af3638a4314ad5b34e44fddef29">More...</a><br /></td></tr>
<tr class="separator:a63ef8af3638a4314ad5b34e44fddef29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e542a0dc94efc308fa4ebfb44ea1334"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a4e542a0dc94efc308fa4ebfb44ea1334">ast_set_cc_callback_sub</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, const char *const <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a4e542a0dc94efc308fa4ebfb44ea1334"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the callback subroutine name.  <a href="#a4e542a0dc94efc308fa4ebfb44ea1334">More...</a><br /></td></tr>
<tr class="separator:a4e542a0dc94efc308fa4ebfb44ea1334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b06671059cd5d6600917d1c028452f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a96b06671059cd5d6600917d1c028452f">ast_set_cc_interfaces_chanvar</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *const <a class="el" href="../../d0/d5a/structextension.html">extension</a>)</td></tr>
<tr class="memdesc:a96b06671059cd5d6600917d1c028452f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the CC_INTERFACES channel variable for a channel using an.  <a href="#a96b06671059cd5d6600917d1c028452f">More...</a><br /></td></tr>
<tr class="separator:a96b06671059cd5d6600917d1c028452f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710f0f5e8e10406417579d2a553865d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a710f0f5e8e10406417579d2a553865d4">ast_set_cc_max_agents</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a710f0f5e8e10406417579d2a553865d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_max_agents.  <a href="#a710f0f5e8e10406417579d2a553865d4">More...</a><br /></td></tr>
<tr class="separator:a710f0f5e8e10406417579d2a553865d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1150342e53b603c8af4f65468a4b21ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a1150342e53b603c8af4f65468a4b21ae">ast_set_cc_max_monitors</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a1150342e53b603c8af4f65468a4b21ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_max_monitors.  <a href="#a1150342e53b603c8af4f65468a4b21ae">More...</a><br /></td></tr>
<tr class="separator:a1150342e53b603c8af4f65468a4b21ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936cee61a1b12185670b60b87e275247"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a936cee61a1b12185670b60b87e275247">ast_set_cc_monitor_policy</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a> <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a936cee61a1b12185670b60b87e275247"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_monitor_policy.  <a href="#a936cee61a1b12185670b60b87e275247">More...</a><br /></td></tr>
<tr class="separator:a936cee61a1b12185670b60b87e275247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dfcd270d2c3a496e414254026c74037"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a6dfcd270d2c3a496e414254026c74037">ast_set_cc_offer_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a6dfcd270d2c3a496e414254026c74037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_offer_timer.  <a href="#a6dfcd270d2c3a496e414254026c74037">More...</a><br /></td></tr>
<tr class="separator:a6dfcd270d2c3a496e414254026c74037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952db7996fc34fb7c527d550ac31aa2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a952db7996fc34fb7c527d550ac31aa2d">ast_set_cc_recall_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a952db7996fc34fb7c527d550ac31aa2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_recall_timer.  <a href="#a952db7996fc34fb7c527d550ac31aa2d">More...</a><br /></td></tr>
<tr class="separator:a952db7996fc34fb7c527d550ac31aa2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2960d62931ad8f57b39caa99a7fbde48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a2960d62931ad8f57b39caa99a7fbde48">ast_set_ccbs_available_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a2960d62931ad8f57b39caa99a7fbde48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the ccbs_available_timer.  <a href="#a2960d62931ad8f57b39caa99a7fbde48">More...</a><br /></td></tr>
<tr class="separator:a2960d62931ad8f57b39caa99a7fbde48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c769b1f90df2ee4cbc79464c922d9d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a8c769b1f90df2ee4cbc79464c922d9d5">ast_set_ccnr_available_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a8c769b1f90df2ee4cbc79464c922d9d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the ccnr_available_timer.  <a href="#a8c769b1f90df2ee4cbc79464c922d9d5">More...</a><br /></td></tr>
<tr class="separator:a8c769b1f90df2ee4cbc79464c922d9d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d7883a7ab60e13e2697fccb74ed5d8d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/ccss_8h.html#a3d7883a7ab60e13e2697fccb74ed5d8d">ast_setup_cc_recall_datastore</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const int core_id)</td></tr>
<tr class="memdesc:a3d7883a7ab60e13e2697fccb74ed5d8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a CC recall datastore on a channel.  <a href="#a3d7883a7ab60e13e2697fccb74ed5d8d">More...</a><br /></td></tr>
<tr class="separator:a3d7883a7ab60e13e2697fccb74ed5d8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Call Completion Supplementary Services API. </p>
<dl class="section author"><dt>Author</dt><dd>Mark Michelson <a href="#" onclick="location.href='mai'+'lto:'+'mmi'+'ch'+'els'+'on'+'@di'+'gi'+'um.'+'co'+'m'; return false;">mmich<span style="display: none;">.nosp@m.</span>elso<span style="display: none;">.nosp@m.</span>n@dig<span style="display: none;">.nosp@m.</span>ium.<span style="display: none;">.nosp@m.</span>com</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1419c77d2c40064d442ae794175ca879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1419c77d2c40064d442ae794175ca879">&#9670;&nbsp;</a></span>ast_cc_config_params_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_cc_config_params_init</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d3/d5a/ccss_8c.html#a93c8c152fe5019f97666b4b123eddb5d">__ast_cc_config_params_init</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and initialize an <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> structure. </p>
<dl class="section note"><dt>Note</dt><dd>Reasonable default values are chosen for the parameters upon allocation.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Unable to allocate the structure </td></tr>
    <tr><td class="paramname">non-NULL</td><td>A pointer to the newly allocated and initialized structure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00135">135</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08942">__sip_alloc()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10652">ast_channel_cc_params_init()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13058">available()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31631">build_peer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02250">cc_device_monitor_init()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10629">channel_cc_params_copy()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l00869">dahdi_chan_conf_default()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13266">duplicate_pseudo()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l12095">mkintf()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31550">temp_peer()</a>.</p>

</div>
</div>
<a id="a1c00e4618fa5ece215682cf02519ab55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c00e4618fa5ece215682cf02519ab55">&#9670;&nbsp;</a></span>AST_CC_GENERIC_MONITOR_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_CC_GENERIC_MONITOR_TYPE&#160;&#160;&#160;&quot;generic&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It is recommended that monitors use a pointer to an <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2" title="Type of monitor the callbacks belong to. ">ast_cc_monitor_callbacks::type</a> when creating an AST_CONTROL_CC frame. Since the generic monitor callbacks are opaque and channel drivers will wish to use that, this string is made globally available for all to use </p>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00489">489</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l00987">analog_call()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04199">ast_cc_call_failed()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13729">dahdi_cc_callback()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02322">sip_handle_cc()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a3af118c4ad58da15d5b752b155e6fb1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3af118c4ad58da15d5b752b155e6fb1a">&#9670;&nbsp;</a></span>ast_cc_callback_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ast_cc_callback_fn) (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params, const char *monitor_type, const char *const device_name, const char *const dialstring, void *private_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback made from ast_cc_callback for certain channel types. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>A channel involved in the call. What we want is on a datastore on both incoming and outgoing so either may be provided </td></tr>
    <tr><td class="paramname">cc_params</td><td>The CC configuration parameters for the outbound target </td></tr>
    <tr><td class="paramname">monitor_type</td><td>The type of monitor to use when CC is requested </td></tr>
    <tr><td class="paramname">device_name</td><td>The name of the outbound target device. </td></tr>
    <tr><td class="paramname">dialstring</td><td>The dial string used when calling this specific interface </td></tr>
    <tr><td class="paramname">private_data</td><td>If a native monitor is being used, and some channel-driver-specific private data has been allocated, then this parameter should contain a pointer to that data. If using a generic monitor, this parameter should remain NULL. Note that if this function should fail at some point, it is the responsibility of the caller to free the private data upon return.</td></tr>
  </table>
  </dd>
</dl>
<p>For channel types that fail ast_request when the device is busy, we call into the channel driver with ast_cc_callback. This is the callback that is called in that case for each device found which could have been returned by ast_request.</p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l01602">1602</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ab4abe51a3cf7a84be8a5d0a2e06f1a92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4abe51a3cf7a84be8a5d0a2e06f1a92">&#9670;&nbsp;</a></span>ast_cc_agent_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc8/ccss_8h.html#ab4abe51a3cf7a84be8a5d0a2e06f1a92">ast_cc_agent_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>agent flags that can alter core behavior </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab4abe51a3cf7a84be8a5d0a2e06f1a92a6ac7ee135b3c410dc5f9fcbec384ef16"></a>AST_CC_AGENT_SKIP_OFFER&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00059">59</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                        {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   <span class="comment">/* Some agent types allow for a caller to</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">    * request CC without reaching the CC_CALLER_OFFERED</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">    * state. In other words, the caller can request</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">    * CC while he is still on the phone from the failed</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">    * call. The generic agent is an agent which allows</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">    * for this behavior.</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#ab4abe51a3cf7a84be8a5d0a2e06f1a92a6ac7ee135b3c410dc5f9fcbec384ef16">AST_CC_AGENT_SKIP_OFFER</a> = (1 &lt;&lt; 0),</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;};</div><div class="ttc" id="ccss_8h_html_ab4abe51a3cf7a84be8a5d0a2e06f1a92a6ac7ee135b3c410dc5f9fcbec384ef16"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#ab4abe51a3cf7a84be8a5d0a2e06f1a92a6ac7ee135b3c410dc5f9fcbec384ef16">AST_CC_AGENT_SKIP_OFFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00067">ccss.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa160e8c9504bf8c772a07b37a491e8f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa160e8c9504bf8c772a07b37a491e8f8">&#9670;&nbsp;</a></span>ast_cc_agent_policies</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The various possibilities for cc_agent_policy values. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c"></a>AST_CC_AGENT_NEVER&#160;</td><td class="fielddoc"><p>Never offer CCSS to the caller </p>
</td></tr>
<tr><td class="fieldname"><a id="aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce"></a>AST_CC_AGENT_NATIVE&#160;</td><td class="fielddoc"><p>Offer CCSS using native signaling </p>
</td></tr>
<tr><td class="fieldname"><a id="aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e"></a>AST_CC_AGENT_GENERIC&#160;</td><td class="fielddoc"><p>Use generic agent for caller </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00047">47</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                           {<span class="comment"></span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">   /*! Never offer CCSS to the caller */</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c">AST_CC_AGENT_NEVER</a>,<span class="comment"></span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">   /*! Offer CCSS using native signaling */</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce">AST_CC_AGENT_NATIVE</a>,<span class="comment"></span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">   /*! Use generic agent for caller */</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a>,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;};</div><div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c">AST_CC_AGENT_NEVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00049">ccss.h:49</a></div></div>
<div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce">AST_CC_AGENT_NATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00051">ccss.h:51</a></div></div>
<div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00053">ccss.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4dc7abb083c6d920fc6ed652f1b3e40f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dc7abb083c6d920fc6ed652f1b3e40f">&#9670;&nbsp;</a></span>ast_cc_agent_response_reason</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40f">ast_cc_agent_response_reason</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4dc7abb083c6d920fc6ed652f1b3e40fa2c35ce5050e874998baefd43036f10f4"></a>AST_CC_AGENT_RESPONSE_SUCCESS&#160;</td><td class="fielddoc"><p>CC request accepted </p>
</td></tr>
<tr><td class="fieldname"><a id="a4dc7abb083c6d920fc6ed652f1b3e40fa1f46b662ae0b626724d2c8d90143c93a"></a>AST_CC_AGENT_RESPONSE_FAILURE_INVALID&#160;</td><td class="fielddoc"><p>CC request not allowed at this time. Invalid state transition. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4dc7abb083c6d920fc6ed652f1b3e40fafd230e8ed54f4d0d5158d571eeb57e3c"></a>AST_CC_AGENT_RESPONSE_FAILURE_TOO_MANY&#160;</td><td class="fielddoc"><p>Too many CC requests in the system. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00878">878</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                                  {<span class="comment"></span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">   /*! CC request accepted */</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fa2c35ce5050e874998baefd43036f10f4">AST_CC_AGENT_RESPONSE_SUCCESS</a>,<span class="comment"></span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">   /*! CC request not allowed at this time. Invalid state transition. */</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fa1f46b662ae0b626724d2c8d90143c93a">AST_CC_AGENT_RESPONSE_FAILURE_INVALID</a>,<span class="comment"></span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">   /*! Too many CC requests in the system. */</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fafd230e8ed54f4d0d5158d571eeb57e3c">AST_CC_AGENT_RESPONSE_FAILURE_TOO_MANY</a>,</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;};</div><div class="ttc" id="ccss_8h_html_a4dc7abb083c6d920fc6ed652f1b3e40fa1f46b662ae0b626724d2c8d90143c93a"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fa1f46b662ae0b626724d2c8d90143c93a">AST_CC_AGENT_RESPONSE_FAILURE_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00882">ccss.h:882</a></div></div>
<div class="ttc" id="ccss_8h_html_a4dc7abb083c6d920fc6ed652f1b3e40fa2c35ce5050e874998baefd43036f10f4"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fa2c35ce5050e874998baefd43036f10f4">AST_CC_AGENT_RESPONSE_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00880">ccss.h:880</a></div></div>
<div class="ttc" id="ccss_8h_html_a4dc7abb083c6d920fc6ed652f1b3e40fafd230e8ed54f4d0d5158d571eeb57e3c"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fafd230e8ed54f4d0d5158d571eeb57e3c">AST_CC_AGENT_RESPONSE_FAILURE_TOO_MANY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00884">ccss.h:884</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aba1f9c278d0afcd4792c017807417c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba1f9c278d0afcd4792c017807417c31">&#9670;&nbsp;</a></span>ast_cc_monitor_class</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31">ast_cc_monitor_class</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to determine which type of monitor an ast_cc_device_monitor is. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e"></a>AST_CC_DEVICE_MONITOR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aba1f9c278d0afcd4792c017807417c31a55ff9826d41e4cd89174a86ab3bd3733"></a>AST_CC_EXTENSION_MONITOR&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00496">496</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                          {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a>,</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31a55ff9826d41e4cd89174a86ab3bd3733">AST_CC_EXTENSION_MONITOR</a>,</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;};</div><div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31a55ff9826d41e4cd89174a86ab3bd3733"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31a55ff9826d41e4cd89174a86ab3bd3733">AST_CC_EXTENSION_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00498">ccss.h:498</a></div></div>
<div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00497">ccss.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a078a59bc29f1ace8486ab9ecb774c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a078a59bc29f1ace8486ab9ecb774c4">&#9670;&nbsp;</a></span>ast_cc_monitor_policies</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The various possibilities for cc_monitor_policy values. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9a078a59bc29f1ace8486ab9ecb774c4a302a65a5fc7468b6b96af0ec39eedae2"></a>AST_CC_MONITOR_NEVER&#160;</td><td class="fielddoc"><p>Never accept CCSS offers from callee </p>
</td></tr>
<tr><td class="fieldname"><a id="a9a078a59bc29f1ace8486ab9ecb774c4a8f6c86645c00c1789fec227c20bfa66e"></a>AST_CC_MONITOR_NATIVE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05"></a>AST_CC_MONITOR_GENERIC&#160;</td><td class="fielddoc"><p>Always use CCSS generic monitor for callee Note that if callee offers CCSS natively, we still will use a generic CCSS monitor if this is set </p>
</td></tr>
<tr><td class="fieldname"><a id="a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77"></a>AST_CC_MONITOR_ALWAYS&#160;</td><td class="fielddoc"><p>Accept native CCSS offers, but if no offer is present, use a generic CCSS monitor </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00074">74</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                             {<span class="comment"></span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">   /*! Never accept CCSS offers from callee */</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a302a65a5fc7468b6b96af0ec39eedae2">AST_CC_MONITOR_NEVER</a>,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   <span class="comment">/* CCSS only available if callee offers it through signaling */</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a8f6c86645c00c1789fec227c20bfa66e">AST_CC_MONITOR_NATIVE</a>,<span class="comment"></span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">   /*! Always use CCSS generic monitor for callee</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">    * Note that if callee offers CCSS natively, we still</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">    * will use a generic CCSS monitor if this is set</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05">AST_CC_MONITOR_GENERIC</a>,<span class="comment"></span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">   /*! Accept native CCSS offers, but if no offer is present,</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">    * use a generic CCSS monitor</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77">AST_CC_MONITOR_ALWAYS</a>,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;};</div><div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4a8f6c86645c00c1789fec227c20bfa66e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a8f6c86645c00c1789fec227c20bfa66e">AST_CC_MONITOR_NATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00078">ccss.h:78</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4a302a65a5fc7468b6b96af0ec39eedae2"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a302a65a5fc7468b6b96af0ec39eedae2">AST_CC_MONITOR_NEVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00076">ccss.h:76</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77">AST_CC_MONITOR_ALWAYS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00087">ccss.h:87</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05">AST_CC_MONITOR_GENERIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00083">ccss.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a50c1ff8b0de8119431904e2ce0064530"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50c1ff8b0de8119431904e2ce0064530">&#9670;&nbsp;</a></span>ast_cc_service_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a50c1ff8b0de8119431904e2ce0064530aa9c4c6035dbb586ac72385084df5c16a"></a>AST_CC_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2"></a>AST_CC_CCBS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a50c1ff8b0de8119431904e2ce0064530aec12fa6bbd080be709806e28f8bade1e"></a>AST_CC_CCNR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a50c1ff8b0de8119431904e2ce0064530a3242b57514a2c81b6f9edd33ddef1f1a"></a>AST_CC_CCNL&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00032">32</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                         {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;   <span class="comment">/* No Service available/requested */</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530aa9c4c6035dbb586ac72385084df5c16a">AST_CC_NONE</a>,</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;   <span class="comment">/* Call Completion Busy Subscriber */</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a>,</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;   <span class="comment">/* Call Completion No Response */</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530aec12fa6bbd080be709806e28f8bade1e">AST_CC_CCNR</a>,</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;   <span class="comment">/* Call Completion Not Logged In (currently SIP only) */</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;   <a class="code" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a3242b57514a2c81b6f9edd33ddef1f1a">AST_CC_CCNL</a>,</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;};</div><div class="ttc" id="ccss_8h_html_a50c1ff8b0de8119431904e2ce0064530a3242b57514a2c81b6f9edd33ddef1f1a"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a3242b57514a2c81b6f9edd33ddef1f1a">AST_CC_CCNL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00040">ccss.h:40</a></div></div>
<div class="ttc" id="ccss_8h_html_a50c1ff8b0de8119431904e2ce0064530aa9c4c6035dbb586ac72385084df5c16a"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530aa9c4c6035dbb586ac72385084df5c16a">AST_CC_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00034">ccss.h:34</a></div></div>
<div class="ttc" id="ccss_8h_html_a50c1ff8b0de8119431904e2ce0064530aec12fa6bbd080be709806e28f8bade1e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530aec12fa6bbd080be709806e28f8bade1e">AST_CC_CCNR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00038">ccss.h:38</a></div></div>
<div class="ttc" id="ccss_8h_html_a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00036">ccss.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a93c8c152fe5019f97666b4b123eddb5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93c8c152fe5019f97666b4b123eddb5d">&#9670;&nbsp;</a></span>__ast_cc_config_params_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a>* __ast_cc_config_params_init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and initialize an <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> structure. </p>
<dl class="section note"><dt>Note</dt><dd>Reasonable default values are chosen for the parameters upon allocation.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Unable to allocate the structure </td></tr>
    <tr><td class="paramname">non-NULL</td><td>A pointer to the newly allocated and initialized structure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00681">681</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/db0/astmm_8c_source.html#l01660">__ast_malloc()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00676">ast_cc_default_config_params()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;{</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *params = <a class="code" href="../../d8/d8a/astmm_8h.html#a23de3e26f727701bbd3d350e43547071">__ast_malloc</a>(<span class="keyword">sizeof</span>(*params), <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, <span class="keyword">function</span>);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   <span class="keywordflow">if</span> (!params) {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a59b0902e07ba1de026cb801654758ef9">ast_cc_default_config_params</a>(params);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   <span class="keywordflow">return</span> params;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__config__params_html"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00161">ccss.c:161</a></div></div>
<div class="ttc" id="ccss_8c_html_a59b0902e07ba1de026cb801654758ef9"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a59b0902e07ba1de026cb801654758ef9">ast_cc_default_config_params</a></div><div class="ttdeci">void ast_cc_default_config_params(struct ast_cc_config_params *params)</div><div class="ttdoc">Set the specified CC config params to default values. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00676">ccss.c:676</a></div></div>
<div class="ttc" id="astmm_8h_html_a23de3e26f727701bbd3d350e43547071"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a23de3e26f727701bbd3d350e43547071">__ast_malloc</a></div><div class="ttdeci">void * __ast_malloc(size_t size, const char *file, int lineno, const char *func) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01660">astmm.c:1660</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a037cc988c277a5a296ad1af1fb05f5a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a037cc988c277a5a296ad1af1fb05f5a4">&#9670;&nbsp;</a></span>ast_cc_agent_accept_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_accept_request </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept inbound CC request. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When a caller requests CC, this function should be called to let the core know that the request has been accepted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>core_id of the CC transaction </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03776">3776</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00188">CC_CALLER_REQUESTED</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">ccreq_exec()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28516">handle_cc_subscribe()</a>.</p>
<div class="fragment"><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;{</div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;   va_list ap;</div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;</div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a>, core_id, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;   va_end(ap);</div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00188">ccss.c:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9a717c8b12205435084874c2f833d8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9a717c8b12205435084874c2f833d8a">&#9670;&nbsp;</a></span>ast_cc_agent_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a>* ast_cc_agent_callback </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a> *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call a callback on all agents of a specific type. </p>
<p>Since the container of CC core instances is private, and so are the items which the container contains, we have to provide an ao2_callback-like method so that a specific agent may be found or so that an operation can be made on all agents of a particular type. The first three arguments should be familiar to anyone who has used ao2_callback. The final argument is the type of agent you wish to have the callback called on.</p>
<dl class="section note"><dt>Note</dt><dd>Since agents are refcounted, and this function returns a reference to the agent, it is imperative that you decrement the refcount of the agent once you have finished using it.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td><a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> search flags </td></tr>
    <tr><td class="paramname">function</td><td>an ao2 callback function to call </td></tr>
    <tr><td class="paramname">arg</td><td>the argument to the callback function </td></tr>
    <tr><td class="paramname">type</td><td>The type of agents to call the callback on </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00456">456</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01714">ao2_t_callback</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00444">cc_agent_callback_helper()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00439">cc_callback_helper::function</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01848">find_sip_cc_agent_by_notify_uri()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01878">find_sip_cc_agent_by_original_callid()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01863">find_sip_cc_agent_by_subscribe_uri()</a>.</p>
<div class="fragment"><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;{</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d03/structcc__callback__helper.html">cc_callback_helper</a> helper = {.<a class="code" href="../../d2/d03/structcc__callback__helper.html#ab9f76a5a7de35c9b687ea3a24e4932b9">function</a> = <span class="keyword">function</span>, .args = <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, .type = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>};</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   <span class="keywordflow">if</span> ((core_instance = <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, flags, <a class="code" href="../../d3/d5a/ccss_8c.html#add9aed8b82215b7ee6ccdc8ce4104641">cc_agent_callback_helper</a>, &amp;helper,</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;               <span class="stringliteral">&quot;Calling provided agent callback function&quot;</span>))) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent = <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>, <span class="stringliteral">&quot;An outside entity needs the agent&quot;</span>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;agent callback done with the core_instance&quot;</span>);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keywordflow">return</span> agent;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structcc__callback__helper_html"><div class="ttname"><a href="../../d2/d03/structcc__callback__helper.html">cc_callback_helper</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00438">ccss.c:438</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="structcc__callback__helper_html_ab9f76a5a7de35c9b687ea3a24e4932b9"><div class="ttname"><a href="../../d2/d03/structcc__callback__helper.html#ab9f76a5a7de35c9b687ea3a24e4932b9">cc_callback_helper::function</a></div><div class="ttdeci">ao2_callback_fn * function</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00439">ccss.c:439</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aeca960ec22a1d0384f6e285b25df8501"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a></div><div class="ttdeci">#define ao2_t_callback(c, flags, cb_fn, arg, tag)</div><div class="ttdoc">ao2_callback() is a generic function that applies cb_fn() to all objects in a container, as described below. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01714">astobj2.h:1714</a></div></div>
<div class="ttc" id="ccss_8c_html_add9aed8b82215b7ee6ccdc8ce4104641"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#add9aed8b82215b7ee6ccdc8ce4104641">cc_agent_callback_helper</a></div><div class="ttdeci">static int cc_agent_callback_helper(void *obj, void *args, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00444">ccss.c:444</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="structast__cc__agent_html"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00844">ccss.h:844</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac2a5064d0e089814ba93dc2aefacdd09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2a5064d0e089814ba93dc2aefacdd09">&#9670;&nbsp;</a></span>ast_cc_agent_caller_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_caller_available </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that a previously unavailable caller has become available. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>If a monitor is suspended due to a caller becoming unavailable, then this function should be called to indicate that the caller has become available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>core_id of the CC transaction </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03820">3820</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00191">CC_ACTIVE</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28201">cc_esc_publish_handler()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02761">generic_agent_devstate_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;{</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;   va_list ap;</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;</div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a>, <a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;   va_end(ap);</div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00191">ccss.c:191</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a815b8982e8b9183a38a2e2c785d155"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a815b8982e8b9183a38a2e2c785d155">&#9670;&nbsp;</a></span>ast_cc_agent_caller_busy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_caller_busy </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that the caller is busy. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When the callee makes it known that he is available, the core will let the caller's channel driver know that it may attempt to let the caller know to attempt a recall. If the channel driver can detect, though, that the caller is busy, then the channel driver should call this function to let the CC core know.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>core_id of the CC transaction </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03809">3809</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00198">CC_CALLER_BUSY</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28201">cc_esc_publish_handler()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02895">cc_generic_agent_recall()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01977">sip_cc_agent_recall()</a>.</p>
<div class="fragment"><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;{</div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;   va_list ap;</div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;</div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a>, <a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;   va_end(ap);</div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00198">ccss.c:198</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d36b7a6c430c9a9d9a773745db94354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d36b7a6c430c9a9d9a773745db94354">&#9670;&nbsp;</a></span>ast_cc_agent_recalling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_recalling </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tell the CC core that a caller is currently recalling. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>The main purpose of this is so that the core can alert the monitor to stop its available timer since the caller has begun its recall phase.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>core_id of the CC transaction </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03831">3831</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00202">CC_RECALLING</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18508">get_destination()</a>.</p>
<div class="fragment"><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;{</div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;   va_list ap;</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;</div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3">CC_RECALLING</a>, <a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;   va_end(ap);</div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3">CC_RECALLING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00202">ccss.c:202</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6645437018e01782a83ada2ff4735c7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6645437018e01782a83ada2ff4735c7a">&#9670;&nbsp;</a></span>ast_cc_agent_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_register </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a set of agent callbacks with the core. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>This is made so that at agent creation time, the proper callbacks may be installed and the proper .init callback may be called for the monitor to establish private data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>The callbacks used by the agent implementation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully registered </td></tr>
    <tr><td class="paramname">-1</td><td>Failure to register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01239">1239</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00740">AST_RWLIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01234">cc_agent_backend::callbacks</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01233">cc_agent_backend::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;{</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db0/structcc__agent__backend.html">cc_agent_backend</a> *backend = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*backend));</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;   <span class="keywordflow">if</span> (!backend) {</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;   }</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   backend-&gt;<a class="code" href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a> = <a class="code" href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>);</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>, backend, <a class="code" href="../../d3/db0/structcc__agent__backend.html#abf8469d5339faebc8de86ee298bcc999">next</a>);</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structcc__agent__backend_html_abf8469d5339faebc8de86ee298bcc999"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html#abf8469d5339faebc8de86ee298bcc999">cc_agent_backend::next</a></div><div class="ttdeci">struct cc_agent_backend * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01233">ccss.c:1233</a></div></div>
<div class="ttc" id="structcc__agent__backend_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">cc_agent_backend::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01234">ccss.c:1234</a></div></div>
<div class="ttc" id="structcc__agent__backends_html"><div class="ttname"><a href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01237">ccss.c:1237</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structcc__agent__backend_html"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html">cc_agent_backend</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01232">ccss.c:1232</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadda916488b2d151af4426e2f06ad332"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_TAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00740">linkedlists.h:740</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac943e39777b9c5ac58c4b4802b7347c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac943e39777b9c5ac58c4b4802b7347c6">&#9670;&nbsp;</a></span>ast_cc_agent_set_interfaces_chanvar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_set_interfaces_chanvar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the first level CC_INTERFACES channel variable for a channel. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Implementers of protocol-specific CC agents should call this function after calling ast_setup_cc_recall_datastore.</dd>
<dd>
This function will lock the channel as well as the list of monitors stored on the channel's CC recall datastore, though neither are held at the same time. Callers of this function should be aware of potential lock ordering problems that may arise.</dd></dl>
<p>The CC_INTERFACES channel variable will have the interfaces that should be called back for a specific PBX instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel to set the CC_INTERFACES variable on </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03631">3631</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03588">build_cc_interfaces_chanvar()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03375">cc_recall_ds_data::interface_tree</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l26347">handle_request_invite()</a>.</p>
<div class="fragment"><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;{</div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *recall_datastore;</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *interface_tree;</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_data;</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(64);</div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;   <span class="keywordtype">int</span> core_id;</div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;</div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;   <span class="keywordflow">if</span> (!str) {</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;   }</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;   <span class="keywordflow">if</span> (!(recall_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;   }</div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;   recall_data = recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;   interface_tree = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>;</div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;   core_id = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;</div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(interface_tree);</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;   monitor = <a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(interface_tree);</div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5cf8fc60553e1a20322b76a5405d120d">build_cc_interfaces_chanvar</a>(monitor, &amp;str);</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_INTERFACES&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str));</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: CC_INTERFACES set to %s\n&quot;</span>,</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;         core_id, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str));</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="ccss_8c_html_a010707a1d95ff32920705c9320a94bcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info recall_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03399">ccss.c:3399</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a5cf8fc60553e1a20322b76a5405d120d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5cf8fc60553e1a20322b76a5405d120d">build_cc_interfaces_chanvar</a></div><div class="ttdeci">static void build_cc_interfaces_chanvar(struct ast_cc_monitor *starting_point, struct ast_str **str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03588">ccss.c:3588</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">cc_recall_ds_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03372">ccss.c:3372</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="structcc__monitor__tree_html"><div class="ttname"><a href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a></div><div class="ttdoc">The &quot;tree&quot; of interfaces that is dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00324">ccss.c:324</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">cc_recall_ds_data::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03375">ccss.c:3375</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acdc7eb3bf93834fe45f72829ff9abe16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdc7eb3bf93834fe45f72829ff9abe16">&#9670;&nbsp;</a></span>ast_cc_agent_status_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_status_response </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>&#160;</td>
          <td class="paramname"><em>devstate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Response with a caller's current status. </p>
<p>When an ISDN PTMP monitor requests the caller's status, the agent must respond to the request using this function. For simplicity it is recommended that the devstate parameter be one of AST_DEVICE_INUSE or AST_DEVICE_NOT_INUSE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>The core ID of the CC transaction </td></tr>
    <tr><td class="paramname">devstate</td><td>The current state of the caller to which the agent pertains </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully responded with our status </td></tr>
    <tr><td class="paramname">-1</td><td>Failed to respond with our status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04093">4093</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04072">cc_status_response()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04068">cc_status_response_args::core_instance</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04069">cc_status_response_args::devstate</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02743">cc_generic_agent_status_request()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01961">sip_cc_agent_status_request()</a>.</p>
<div class="fragment"><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;{</div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d57/structcc__status__response__args.html">cc_status_response_args</a> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>;</div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;   args = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*args));</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;   <span class="keywordflow">if</span> (!args) {</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;   }</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;   core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(args);</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;   }</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;</div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;   args-&gt;<a class="code" href="../../d8/d57/structcc__status__response__args.html#ad75ab26f830035a35504015f37a40b28">core_instance</a> = core_instance;</div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;   args-&gt;<a class="code" href="../../d8/d57/structcc__status__response__args.html#a1b46e6ee7b5c070d8ec3b45f5bc49a92">devstate</a> = devstate;</div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;</div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;   res = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#af4946d230e74993b20fa566bf8834742">cc_status_response</a>, args);</div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core instance. ast_taskprocessor_push failed&quot;</span>);</div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(args);</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;   }</div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="ccss_8c_html_af4946d230e74993b20fa566bf8834742"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af4946d230e74993b20fa566bf8834742">cc_status_response</a></div><div class="ttdeci">static int cc_status_response(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04072">ccss.c:4072</a></div></div>
<div class="ttc" id="structcc__status__response__args_html"><div class="ttname"><a href="../../d8/d57/structcc__status__response__args.html">cc_status_response_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04067">ccss.c:4067</a></div></div>
<div class="ttc" id="structcc__status__response__args_html_ad75ab26f830035a35504015f37a40b28"><div class="ttname"><a href="../../d8/d57/structcc__status__response__args.html#ad75ab26f830035a35504015f37a40b28">cc_status_response_args::core_instance</a></div><div class="ttdeci">struct cc_core_instance * core_instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04068">ccss.c:4068</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="structcc__status__response__args_html_a1b46e6ee7b5c070d8ec3b45f5bc49a92"><div class="ttname"><a href="../../d8/d57/structcc__status__response__args.html#a1b46e6ee7b5c070d8ec3b45f5bc49a92">cc_status_response_args::devstate</a></div><div class="ttdeci">enum ast_device_state devstate</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04069">ccss.c:4069</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad888baaa4d37a6197c2712bc1756d963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad888baaa4d37a6197c2712bc1756d963">&#9670;&nbsp;</a></span>ast_cc_agent_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_agent_unregister </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a set of agent callbacks with the core. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>If a module which makes use of a CC agent is unloaded, then it may unregister its agent callbacks with the core.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>The callbacks used by the agent implementation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully unregistered </td></tr>
    <tr><td class="paramname">-1</td><td>Failure to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01254">1254</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00569">AST_RWLIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01234">cc_agent_backend::callbacks</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01233">cc_agent_backend::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17540">__unload_module()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04623">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;{</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db0/structcc__agent__backend.html">cc_agent_backend</a> *backend;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>, backend, <a class="code" href="../../d3/db0/structcc__agent__backend.html#abf8469d5339faebc8de86ee298bcc999">next</a>) {</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <span class="keywordflow">if</span> (backend-&gt;<a class="code" href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a> == callbacks) {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a>(<a class="code" href="../../d3/db0/structcc__agent__backend.html#abf8469d5339faebc8de86ee298bcc999">next</a>);</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(backend);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      }</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;   }</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structcc__agent__backend_html_abf8469d5339faebc8de86ee298bcc999"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html#abf8469d5339faebc8de86ee298bcc999">cc_agent_backend::next</a></div><div class="ttdeci">struct cc_agent_backend * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01233">ccss.c:1233</a></div></div>
<div class="ttc" id="structcc__agent__backend_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">cc_agent_backend::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01234">ccss.c:1234</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a02212548652c9eb0f3db38dc4e4bd285"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00569">linkedlists.h:569</a></div></div>
<div class="ttc" id="structcc__agent__backends_html"><div class="ttname"><a href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01237">ccss.c:1237</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structcc__agent__backend_html"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html">cc_agent_backend</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01232">ccss.c:1232</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a01932a0cf8fdb65d6225199cef522cf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01932a0cf8fdb65d6225199cef522cf1">&#9670;&nbsp;</a></span>ast_cc_available_timer_expire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_available_timer_expire </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scheduler callback for available timer expiration. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>When arming the available timer from within a device monitor, you MUST use this function as the callback for the scheduler.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A reference to the CC monitor on which the timer was running. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01509">1509</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03941">ast_cc_monitor_failed()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00547">ast_cc_monitor::available_timer_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00528">ast_cc_monitor::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02102">sip_cc_monitor_request_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;{</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a> = (<span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *) data;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">available_timer_id</a> = -1;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#ad179ffd63f6ff74454f58c58d7248368">ast_cc_monitor_failed</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, <span class="stringliteral">&quot;Available timer expired for monitor&quot;</span>);</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Unref reference from scheduler\n&quot;</span>);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="ccss_8c_html_ad179ffd63f6ff74454f58c58d7248368"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad179ffd63f6ff74454f58c58d7248368">ast_cc_monitor_failed</a></div><div class="ttdeci">int ast_cc_monitor_failed(int core_id, const char *const monitor_name, const char *const debug,...)</div><div class="ttdoc">Indicate that a failure has occurred on a specific monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03941">ccss.c:3941</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad914ac9074b19cbe0c220113b3cdc65f"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">ast_cc_monitor::available_timer_id</a></div><div class="ttdeci">int available_timer_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00547">ccss.h:547</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a950699e580ab7fc1f96db1a6608fcdf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a950699e580ab7fc1f96db1a6608fcdf4">&#9670;&nbsp;</a></span>ast_cc_build_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_build_frame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>cc_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>monitor_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>device_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a>&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a CC Control frame. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>chan_dahdi is weird. It doesn't seem to actually queue frames when it needs to tell an application something. Instead it wakes up, tells the application that it has data ready, and then based on set flags, creates the proper frame type. For chan_dahdi, we provide this function. It provides us the data we need, and we'll make its frame for it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">chan</td><td>A channel involved in the call. What we want is on a datastore on both incoming and outgoing so either may be provided </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">cc_params</td><td>The CC configuration parameters for the outbound target </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">monitor_type</td><td>The type of monitor to use when CC is requested </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">device_name</td><td>The name of the outbound target device. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dialstring</td><td>The dial string used when calling this specific interface </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">service</td><td>What kind of CC service is being offered. (CCBS/CCNR/etc...) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">private_data</td><td>If a native monitor is being used, and some channel-driver-specific private data has been allocated, then this parameter should contain a pointer to that data. If using a generic monitor, this parameter should remain NULL. Note that if this function should fail at some point, it is the responsibility of the caller to free the private data upon return. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">frame</td><td>The frame we will be returning to the caller. It is vital that ast_frame_free be called on this frame since the payload will be allocated on the heap. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Failure. At some point there was a failure. Do not attempt to use the frame in this case. </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04176">4176</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00302">AST_CONTROL_CC</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00235">AST_MALLOCD_DATA</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04121">cc_build_payload()</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">ast_frame::datalen</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00175">ast_frame::mallocd</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::ptr</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04149">ast_queue_cc_frame()</a>.</p>
<div class="fragment"><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;{</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> *payload = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*payload));</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;</div><div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;   <span class="keywordflow">if</span> (!payload) {</div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;   }</div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a>(chan, cc_params, <a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">dialstring</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>, payload)) {</div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;      <span class="comment">/* Something screwed up, we can&#39;t make a frame with this */</span></div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(payload);</div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;   }</div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;   frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a>;</div><div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;   frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a">AST_CONTROL_CC</a>;</div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;   frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a> = payload;</div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;   frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a> = <span class="keyword">sizeof</span>(*payload);</div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;   frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aed16590d48f41d89f31e0cf347f5cd99">mallocd</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a700f5f786d7e5a985387e5ce40c47a6a">AST_MALLOCD_DATA</a>;</div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;}</div><div class="ttc" id="structcc__control__payload_html"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a></div><div class="ttdoc">The payload for an AST_CONTROL_CC frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00222">ccss.c:222</a></div></div>
<div class="ttc" id="structcc__control__payload_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">cc_control_payload::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Private data allocated by the callee. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00257">ccss.c:257</a></div></div>
<div class="ttc" id="structast__frame_html_add9af9569af79ec26dd741fb226b38ba"><div class="ttname"><a href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ast_frame::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">include/asterisk/frame.h:183</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a700f5f786d7e5a985387e5ce40c47a6a"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a700f5f786d7e5a985387e5ce40c47a6a">AST_MALLOCD_DATA</a></div><div class="ttdeci">#define AST_MALLOCD_DATA</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00235">include/asterisk/frame.h:235</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="ccss_8c_html_a7447e0ec99379a5b9fe22924166eaffa"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a></div><div class="ttdeci">static int cc_build_payload(struct ast_channel *chan, struct ast_cc_config_params *cc_params, const char *monitor_type, const char *const device_name, const char *dialstring, enum ast_cc_service_type service, void *private_data, struct cc_control_payload *payload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04121">ccss.c:4121</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a2ea75e3f4fd722a2b68bd2bac608a2d3"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">cc_control_payload::device_name</a></div><div class="ttdeci">char device_name[AST_CHANNEL_NAME]</div><div class="ttdoc">Name of device to be monitored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00293">ccss.c:293</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a">AST_CONTROL_CC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00302">include/asterisk/frame.h:302</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a7db03a99f804d3d6a75a07b2d02ea399"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">cc_control_payload::dialstring</a></div><div class="ttdeci">char dialstring[AST_CHANNEL_NAME]</div><div class="ttdoc">Recall dialstring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00305">ccss.c:305</a></div></div>
<div class="ttc" id="structast__frame_html_ad67e07841d1233e596e6f822a3c81f6b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">ast_frame::datalen</a></div><div class="ttdeci">int datalen</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">include/asterisk/frame.h:171</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__frame_html_aed16590d48f41d89f31e0cf347f5cd99"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aed16590d48f41d89f31e0cf347f5cd99">ast_frame::mallocd</a></div><div class="ttdeci">int mallocd</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00175">include/asterisk/frame.h:175</a></div></div>
<div class="ttc" id="structast__frame_html_a4027905f872af30d910929b07e261ca5"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a></div><div class="ttdeci">union ast_frame::@263 data</div></div>
<div class="ttc" id="structcc__control__payload_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">cc_control_payload::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor to allocate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00240">ccss.c:240</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="ccss_8c_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00383">ccss.c:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a91369860e89c9870c37953794ea09718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91369860e89c9870c37953794ea09718">&#9670;&nbsp;</a></span>ast_cc_busy_interface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_busy_interface </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>inbound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>cc_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>monitor_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>device_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback made from ast_cc_callback for certain channel types. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inbound</td><td>Incoming asterisk channel. </td></tr>
    <tr><td class="paramname">cc_params</td><td>The CC configuration parameters for the outbound target </td></tr>
    <tr><td class="paramname">monitor_type</td><td>The type of monitor to use when CC is requested </td></tr>
    <tr><td class="paramname">device_name</td><td>The name of the outbound target device. </td></tr>
    <tr><td class="paramname">dialstring</td><td>The dial string used when calling this specific interface </td></tr>
    <tr><td class="paramname">private_data</td><td>If a native monitor is being used, and some channel-driver-specific private data has been allocated, then this parameter should contain a pointer to that data. If using a generic monitor, this parameter should remain NULL. Note that if this function should fail at some point, it is the responsibility of the caller to free the private data upon return.</td></tr>
  </table>
  </dd>
</dl>
<p>For channel types that fail ast_request when the device is busy, we call into the channel driver with ast_cc_callback. This is the callback that is called in that case for each device found which could have been returned by ast_request.</p>
<p>This function creates a CC control frame payload, simulating the act of reading it from the nonexistent outgoing channel's frame queue. We then handle this simulated frame just as we would a normal CC frame which had actually been queued by the channel driver. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04232">4232</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00036">AST_CC_CCBS</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02216">call_destructor_with_no_monitor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04121">cc_build_payload()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;{</div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> payload;</div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a>(inbound, cc_params, <a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">dialstring</a>, <a class="code" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>, &amp;payload)) {</div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;      <span class="comment">/* Something screwed up. Don&#39;t try to handle this payload */</span></div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a>(<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;   }</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a2fdb7f0c8ccf479ea573a08e66693da1">ast_handle_cc_control_frame</a>(inbound, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;payload);</div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;}</div><div class="ttc" id="structcc__control__payload_html"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a></div><div class="ttdoc">The payload for an AST_CONTROL_CC frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00222">ccss.c:222</a></div></div>
<div class="ttc" id="structcc__control__payload_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">cc_control_payload::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Private data allocated by the callee. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00257">ccss.c:257</a></div></div>
<div class="ttc" id="ccss_8c_html_ad39ed21a94e1c1b887370e1bb8160737"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a></div><div class="ttdeci">static void call_destructor_with_no_monitor(const char *const monitor_type, void *private_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02216">ccss.c:2216</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="ccss_8c_html_a7447e0ec99379a5b9fe22924166eaffa"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a></div><div class="ttdeci">static int cc_build_payload(struct ast_channel *chan, struct ast_cc_config_params *cc_params, const char *monitor_type, const char *const device_name, const char *dialstring, enum ast_cc_service_type service, void *private_data, struct cc_control_payload *payload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04121">ccss.c:4121</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a2ea75e3f4fd722a2b68bd2bac608a2d3"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">cc_control_payload::device_name</a></div><div class="ttdeci">char device_name[AST_CHANNEL_NAME]</div><div class="ttdoc">Name of device to be monitored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00293">ccss.c:293</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a7db03a99f804d3d6a75a07b2d02ea399"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">cc_control_payload::dialstring</a></div><div class="ttdeci">char dialstring[AST_CHANNEL_NAME]</div><div class="ttdoc">Recall dialstring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00305">ccss.c:305</a></div></div>
<div class="ttc" id="ccss_8c_html_a2fdb7f0c8ccf479ea573a08e66693da1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a2fdb7f0c8ccf479ea573a08e66693da1">ast_handle_cc_control_frame</a></div><div class="ttdeci">void ast_handle_cc_control_frame(struct ast_channel *inbound, struct ast_channel *outbound, void *frame_data)</div><div class="ttdoc">Properly react to a CC control frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02316">ccss.c:2316</a></div></div>
<div class="ttc" id="ccss_8h_html_a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00036">ccss.h:36</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">cc_control_payload::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor to allocate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00240">ccss.c:240</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e72bd5c0ba81e0d0c8873f059c01723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e72bd5c0ba81e0d0c8873f059c01723">&#9670;&nbsp;</a></span>ast_cc_call_failed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_call_failed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>incoming</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>outgoing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dialstring</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make CCBS available in the case that ast_call fails. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 In some situations, notably if a call-limit is reached in SIP, ast_call will fail due to Asterisk's knowing that the desired device is currently busy. In such a situation, CCBS should be made available to the caller.</dd></dl>
<p>One caveat is that this may only be used if generic monitoring is being used. The reason is that since Asterisk determined that the device was busy without actually placing a call to it, the far end will have no idea what call we are requesting call completion for if we were to send a call completion request. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04199">4199</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/da3/causes_8h_source.html#l00148">AST_CAUSE_BUSY</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00152">AST_CAUSE_CONGESTION</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00036">AST_CC_CCBS</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00489">AST_CC_GENERIC_MONITOR_TYPE</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00083">AST_CC_MONITOR_GENERIC</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10675">ast_channel_get_cc_config_params()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10697">ast_channel_get_device_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00427">ast_channel_hangupcause()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00172">AST_CHANNEL_NAME</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00883">ast_get_cc_monitor_policy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04121">cc_build_payload()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00293">cc_control_payload::device_name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;{</div><div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>[<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>];</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> payload;</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params;</div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;</div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#aa04afa262d7e1b211ee32d17c949a275">ast_channel_hangupcause</a>(outgoing) != <a class="code" href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a> &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#aa04afa262d7e1b211ee32d17c949a275">ast_channel_hangupcause</a>(outgoing) != <a class="code" href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a>) {</div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;      <span class="comment">/* It doesn&#39;t make sense to try to offer CCBS to the caller if the reason for ast_call</span></div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;<span class="comment">       * failing is something other than busy or congestion</span></div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;   }</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;</div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;   cc_params = <a class="code" href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a>(outgoing);</div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;   <span class="keywordflow">if</span> (!cc_params) {</div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;   }</div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#aafed4bcde7e857db88ca60471e709a55">ast_get_cc_monitor_policy</a>(cc_params) != <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05">AST_CC_MONITOR_GENERIC</a>) {</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;      <span class="comment">/* This sort of CCBS only works if using generic CC. For native, we would end up sending</span></div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;<span class="comment">       * a CC request for a non-existent call. The far end will reject this every time</span></div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;   }</div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;</div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a>(outgoing, device_name, <span class="keyword">sizeof</span>(device_name));</div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a>(outgoing, cc_params, <a class="code" href="../../de/dc8/ccss_8h.html#a1c00e4618fa5ece215682cf02519ab55">AST_CC_GENERIC_MONITOR_TYPE</a>, device_name,</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;      dialstring, <a class="code" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;payload)) {</div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;      <span class="comment">/* Something screwed up, we can&#39;t make a frame with this */</span></div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;   }</div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a2fdb7f0c8ccf479ea573a08e66693da1">ast_handle_cc_control_frame</a>(incoming, outgoing, &amp;payload);</div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;}</div><div class="ttc" id="structcc__control__payload_html"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a></div><div class="ttdoc">The payload for an AST_CONTROL_CC frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00222">ccss.c:222</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="ccss_8c_html_a7447e0ec99379a5b9fe22924166eaffa"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a></div><div class="ttdeci">static int cc_build_payload(struct ast_channel *chan, struct ast_cc_config_params *cc_params, const char *monitor_type, const char *const device_name, const char *dialstring, enum ast_cc_service_type service, void *private_data, struct cc_control_payload *payload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04121">ccss.c:4121</a></div></div>
<div class="ttc" id="channel_8h_html_a7df9da0e99e443d7ae13dc07bbc57dcd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a></div><div class="ttdeci">struct ast_cc_config_params * ast_channel_get_cc_config_params(struct ast_channel *chan)</div><div class="ttdoc">Get the CCSS parameters from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10675">channel.c:10675</a></div></div>
<div class="ttc" id="ccss_8c_html_aafed4bcde7e857db88ca60471e709a55"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aafed4bcde7e857db88ca60471e709a55">ast_get_cc_monitor_policy</a></div><div class="ttdeci">enum ast_cc_monitor_policies ast_get_cc_monitor_policy(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_monitor_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00883">ccss.c:883</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a2ea75e3f4fd722a2b68bd2bac608a2d3"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">cc_control_payload::device_name</a></div><div class="ttdeci">char device_name[AST_CHANNEL_NAME]</div><div class="ttdoc">Name of device to be monitored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00293">ccss.c:293</a></div></div>
<div class="ttc" id="ccss_8c_html_a2fdb7f0c8ccf479ea573a08e66693da1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a2fdb7f0c8ccf479ea573a08e66693da1">ast_handle_cc_control_frame</a></div><div class="ttdeci">void ast_handle_cc_control_frame(struct ast_channel *inbound, struct ast_channel *outbound, void *frame_data)</div><div class="ttdoc">Properly react to a CC control frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02316">ccss.c:2316</a></div></div>
<div class="ttc" id="ccss_8h_html_a1c00e4618fa5ece215682cf02519ab55"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a1c00e4618fa5ece215682cf02519ab55">AST_CC_GENERIC_MONITOR_TYPE</a></div><div class="ttdeci">#define AST_CC_GENERIC_MONITOR_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00489">ccss.h:489</a></div></div>
<div class="ttc" id="ccss_8h_html_a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00036">ccss.h:36</a></div></div>
<div class="ttc" id="channel_8h_html_ab57c278099ea5f8d7cedbb41eba58b56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a></div><div class="ttdeci">#define AST_CHANNEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00172">channel.h:172</a></div></div>
<div class="ttc" id="structast__cc__config__params_html"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00161">ccss.c:161</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05">AST_CC_MONITOR_GENERIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00083">ccss.h:83</a></div></div>
<div class="ttc" id="channel_8h_html_aa04afa262d7e1b211ee32d17c949a275"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa04afa262d7e1b211ee32d17c949a275">ast_channel_hangupcause</a></div><div class="ttdeci">int ast_channel_hangupcause(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00427">channel_internal_api.c:427</a></div></div>
<div class="ttc" id="causes_8h_html_ae009c193522491f7de7ea28b23f20868"><div class="ttname"><a href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a></div><div class="ttdeci">#define AST_CAUSE_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00148">causes.h:148</a></div></div>
<div class="ttc" id="channel_8h_html_a1677fd1f6e2cab646aeb76db8a044c2e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a></div><div class="ttdeci">int ast_channel_get_device_name(struct ast_channel *chan, char *device_name, size_t name_buffer_length)</div><div class="ttdoc">Get a device name given its channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10697">channel.c:10697</a></div></div>
<div class="ttc" id="causes_8h_html_a0a35518d7b448a53da368cf57f354fba"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a></div><div class="ttdeci">#define AST_CAUSE_CONGESTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00152">causes.h:152</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acd6a5b3b5af842446bcb3b37483724f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd6a5b3b5af842446bcb3b37483724f1">&#9670;&nbsp;</a></span>ast_cc_call_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_call_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ignore_cc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the CC process on a call. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>Whenever a CC-capable application, such as Dial, wishes to engage in CC activity, it initiates the process by calling this function. If the CC core should discover that a previous application has called ast_ignore_cc on this channel or a "parent" channel, then the value of the ignore_cc integer passed in will be set nonzero.</p>
<p>The ignore_cc parameter is a convenience parameter. It can save an application the trouble of trying to call CC APIs when it knows that it should just ignore further attempts at CC actions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">chan</td><td>The inbound channel calling the CC-capable application. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ignore_cc</td><td>Will be set non-zero if no further CC actions need to be taken </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02409">2409</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00049">AST_CC_AGENT_NEVER</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10675">ast_channel_get_cc_config_params()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00362">ast_channel_macrocontext()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00370">ast_channel_macroexten()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00866">ast_get_cc_agent_policy()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02089">cc_extension_monitor_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">cc_interfaces_datastore_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00528">ast_cc_monitor::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01911">dialed_cc_interfaces::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01902">dialed_cc_interfaces::dial_parent_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00519">ast_cc_monitor::id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01917">dialed_cc_interfaces::ignore</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01929">dialed_cc_interfaces::interface_tree</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00065">interfaces</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;{</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;   <span class="comment">/* There are three situations to deal with here:</span></div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;<span class="comment">    * 1. The channel does not have a dialed_cc_interfaces datastore on</span></div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;<span class="comment">    * it. This means that this is the first time that Dial has</span></div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;<span class="comment">    * been called. We need to create/initialize the datastore.</span></div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="comment">    * 2. The channel does have a cc_interface datastore on it and</span></div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;<span class="comment">    * the &quot;ignore&quot; indicator is 0. This means that a Local channel</span></div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;<span class="comment">    * was called by a &quot;parent&quot; dial. We can check the datastore&#39;s</span></div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;<span class="comment">    * parent field to see who the root of this particular dial tree</span></div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;<span class="comment">    * is.</span></div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;<span class="comment">    * 3. The channel does have a cc_interface datastore on it and</span></div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;<span class="comment">    * the &quot;ignore&quot; indicator is 1. This means that a second Dial call</span></div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;<span class="comment">    * is being made from an extension. In this case, we do not</span></div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;<span class="comment">    * want to make any additions/modifications to the datastore. We</span></div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;<span class="comment">    * will instead set a flag to indicate that CCSS is completely</span></div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;<span class="comment">    * disabled for this Dial attempt.</span></div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *cc_interfaces_datastore;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *<a class="code" href="../../de/da6/format_8c.html#aee2fba7980369f8155b71b5cc8d120eb">interfaces</a>;</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params;</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;   cc_params = <a class="code" href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a>(chan);</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;   <span class="keywordflow">if</span> (!cc_params) {</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;   }</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a>(cc_params) == <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c">AST_CC_AGENT_NEVER</a>) {</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;      <span class="comment">/* We can&#39;t offer CC to this caller anyway, so don&#39;t bother with CC on this call</span></div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;      *ignore_cc = 1;</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Agent policy for %s is &#39;never&#39;. CC not possible\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;   }</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;   <span class="keywordflow">if</span> (!(cc_interfaces_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;      <span class="comment">/* Situation 1 has occurred */</span></div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#abf022f971019ecf7103cf5fe31c98717">cc_interfaces_datastore_init</a>(chan);</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;   }</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;   interfaces = cc_interfaces_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;   <span class="keywordflow">if</span> (interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">ignore</a>) {</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;      <span class="comment">/* Situation 3 has occurred */</span></div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;      *ignore_cc = 1;</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Datastore is present with ignore flag set. Ignoring CC offers on this call\n&quot;</span>);</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;   }</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;   <span class="comment">/* Situation 2 has occurred */</span></div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;   <span class="keywordflow">if</span> (!(monitor = <a class="code" href="../../d3/d5a/ccss_8c.html#ad16f4359507449ab2cf18b521d898415">cc_extension_monitor_init</a>(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac967e3cfb7640aa743eb1c4811d46be0">ast_channel_macroexten</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chan)),</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chan)), interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dial_parent_id</a>))) {</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;   }</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(monitor, <span class="stringliteral">&quot;monitor tree&#39;s reference to the monitor&quot;</span>);</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>, monitor, next);</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;   interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dial_parent_id</a> = monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a>;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Unref monitor&#39;s allocation reference&quot;</span>);</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;}</div><div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c">AST_CC_AGENT_NEVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00049">ccss.h:49</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ab7ce6f462afaf105224b0ca772a33c43"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">ast_cc_monitor::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00519">ccss.h:519</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="ccss_8c_html_ad16f4359507449ab2cf18b521d898415"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad16f4359507449ab2cf18b521d898415">cc_extension_monitor_init</a></div><div class="ttdeci">static struct ast_cc_monitor * cc_extension_monitor_init(const char *const exten, const char *const context, const unsigned int parent_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02089">ccss.c:2089</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="channel_8h_html_a7df9da0e99e443d7ae13dc07bbc57dcd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a></div><div class="ttdeci">struct ast_cc_config_params * ast_channel_get_cc_config_params(struct ast_channel *chan)</div><div class="ttdoc">Get the CCSS parameters from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10675">channel.c:10675</a></div></div>
<div class="ttc" id="format_8c_html_aee2fba7980369f8155b71b5cc8d120eb"><div class="ttname"><a href="../../de/da6/format_8c.html#aee2fba7980369f8155b71b5cc8d120eb">interfaces</a></div><div class="ttdeci">static struct ao2_container * interfaces</div><div class="ttdoc">Container for registered format interfaces. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00065">format.c:65</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="ccss_8c_html_abf022f971019ecf7103cf5fe31c98717"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#abf022f971019ecf7103cf5fe31c98717">cc_interfaces_datastore_init</a></div><div class="ttdeci">static int cc_interfaces_datastore_init(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02138">ccss.c:2138</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__cc__config__params_html"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00161">ccss.c:161</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">dialed_cc_interfaces::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01929">ccss.c:1929</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">dialed_cc_interfaces::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01911">ccss.c:1911</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="ccss_8c_html_a9973d81440cb95d7ca720ef1e331c5cd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a></div><div class="ttdeci">enum ast_cc_agent_policies ast_get_cc_agent_policy(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_agent_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00866">ccss.c:866</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">dialed_cc_interfaces::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01917">ccss.c:1917</a></div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a893d185453957758607107023ba704f0"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dialed_cc_interfaces::dial_parent_id</a></div><div class="ttdeci">unsigned int dial_parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01902">ccss.c:1902</a></div></div>
<div class="ttc" id="channel_8h_html_adf593d68a333075c1fcae8a73b68c069"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a></div><div class="ttdeci">const char * ast_channel_macrocontext(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00362">channel_internal_api.c:362</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="channel_8h_html_ac967e3cfb7640aa743eb1c4811d46be0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac967e3cfb7640aa743eb1c4811d46be0">ast_channel_macroexten</a></div><div class="ttdeci">const char * ast_channel_macroexten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00370">channel_internal_api.c:370</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af1af698fa1f6cd07579b79380445c715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1af698fa1f6cd07579b79380445c715">&#9670;&nbsp;</a></span>ast_cc_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>inbound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>tech</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc8/ccss_8h.html#a3af118c4ad58da15d5b752b155e6fb1a">ast_cc_callback_fn</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run a callback for potential matching destinations. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>See the explanation in <a class="el" href="../../d4/d85/structast__channel__tech.html#a3718ac0318e0278976a45158da6fa0f2" title="Call a function with cc parameters as a function parameter. ">ast_channel_tech::cc_callback</a> for more details.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inbound</td><td></td></tr>
    <tr><td class="paramname">tech</td><td>Channel technology to use </td></tr>
    <tr><td class="paramname">dest</td><td>Channel/group/peer or whatever the specific technology uses </td></tr>
    <tr><td class="paramname">callback</td><td>Function to call when a target is reached </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Always</td><td>0, I guess. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04244">4244</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l00592">ast_get_channel_tech()</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l00828">ast_channel_tech::cc_callback</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;{</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d4/d85/structast__channel__tech.html">ast_channel_tech</a> *chantech = <a class="code" href="../../d5/d7b/channel_8h.html#a6fc05c8a1a68f5cd18017fc125ca2acd">ast_get_channel_tech</a>(tech);</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;   <span class="keywordflow">if</span> (chantech &amp;&amp; chantech-&gt;<a class="code" href="../../d4/d85/structast__channel__tech.html#a3718ac0318e0278976a45158da6fa0f2">cc_callback</a>) {</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;      chantech-&gt;<a class="code" href="../../d4/d85/structast__channel__tech.html#a3718ac0318e0278976a45158da6fa0f2">cc_callback</a>(inbound, dest, callback);</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;   }</div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;}</div><div class="ttc" id="channel_8h_html_a6fc05c8a1a68f5cd18017fc125ca2acd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6fc05c8a1a68f5cd18017fc125ca2acd">ast_get_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_get_channel_tech(const char *name)</div><div class="ttdoc">Get a channel technology structure by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00592">channel.c:592</a></div></div>
<div class="ttc" id="structast__channel__tech_html_a3718ac0318e0278976a45158da6fa0f2"><div class="ttname"><a href="../../d4/d85/structast__channel__tech.html#a3718ac0318e0278976a45158da6fa0f2">ast_channel_tech::cc_callback</a></div><div class="ttdeci">int(* cc_callback)(struct ast_channel *inbound, const char *dest, ast_cc_callback_fn callback)</div><div class="ttdoc">Call a function with cc parameters as a function parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00828">channel.h:828</a></div></div>
<div class="ttc" id="structast__channel__tech_html"><div class="ttname"><a href="../../d4/d85/structast__channel__tech.html">ast_channel_tech</a></div><div class="ttdoc">Structure to describe a channel &quot;technology&quot;, ie a channel driver See for examples: ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00629">channel.h:629</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7519355934a0aeb6972fd450cc693aac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7519355934a0aeb6972fd450cc693aac">&#9670;&nbsp;</a></span>ast_cc_completed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_completed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate recall has been acknowledged. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When we receive confirmation that an endpoint has responded to our CC recall, we call this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The inbound channel making the CC recall </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03842">3842</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00206">CC_COMPLETE</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03373">cc_recall_ds_data::ignore</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03374">cc_recall_ds_data::nested</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01202">wait_for_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;{</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *recall_datastore;</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_data;</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;   va_list ap;</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;</div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;   <span class="keywordflow">if</span> (!(recall_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;      <span class="comment">/* Silly! Why did you call this function if there&#39;s no recall DS? */</span></div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;   }</div><div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;   recall_data = recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;   <span class="keywordflow">if</span> (recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#abbea4ca4811183de94be9e7a206d416d">nested</a> || recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a98a0af0698beae3b2032cffb69d02094">ignore</a>) {</div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;      <span class="comment">/* If this is being called from a nested Dial, it is too</span></div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;<span class="comment">       * early to determine if the recall has actually completed.</span></div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;<span class="comment">       * The outermost dial is the only one with the authority to</span></div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;<span class="comment">       * declare the recall to be complete.</span></div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;<span class="comment">       * Similarly, if this function has been called when the</span></div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;<span class="comment">       * recall has progressed beyond the first dial, this is not</span></div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;<span class="comment">       * a legitimate time to declare the recall to be done. In fact,</span></div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;<span class="comment">       * that should have been done already.</span></div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;   }</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;   core_id = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701">CC_COMPLETE</a>, core_id, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;   va_end(ap);</div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a98a0af0698beae3b2032cffb69d02094">cc_recall_ds_data::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03373">ccss.c:3373</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_abbea4ca4811183de94be9e7a206d416d"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#abbea4ca4811183de94be9e7a206d416d">cc_recall_ds_data::nested</a></div><div class="ttdeci">char nested</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03374">ccss.c:3374</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_a010707a1d95ff32920705c9320a94bcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info recall_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03399">ccss.c:3399</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">cc_recall_ds_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03372">ccss.c:3372</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701">CC_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00206">ccss.c:206</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a239279c104563561034f7988b78ae685"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a239279c104563561034f7988b78ae685">&#9670;&nbsp;</a></span>ast_cc_config_params_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_config_params_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free memory from CCSS configuration params. </p>
<dl class="section note"><dt>Note</dt><dd>Just a call to ast_free for now...</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>Pointer to structure whose memory we need to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00693">693</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02544">agent_destroy()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10652">ast_channel_cc_params_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01737">cc_interface_destroy()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10640">channel_cc_params_destroy()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11150">dahdi_create_channel_range()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05569">destroy_dahdi_pvt()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17900">process_dahdi()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l19642">setup_dahdi()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l05309">sip_destroy_peer()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06673">sip_pvt_dtor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;{</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(params);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div><div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f6f8fffb6cf0856d5cf953c5f51b74b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f6f8fffb6cf0856d5cf953c5f51b74b">&#9670;&nbsp;</a></span>ast_cc_copy_config_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_copy_config_params </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>copy CCSS configuration parameters from one structure to another </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>For now, this is a simple memcpy, but this function is necessary since the size of an <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> structure is unknown outside of main/ccss.c. Also, this allows for easier expansion of the function in case it becomes more complex than just a memcpy.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>The structure from which data is copied </td></tr>
    <tr><td class="paramname">dest</td><td>The structure to which data is copied</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00861">861</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l10652">ast_channel_cc_params_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04121">cc_build_payload()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02250">cc_device_monitor_init()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10629">channel_cc_params_copy()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l19237">check_peer_ok()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06136">create_addr_from_peer()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l19326">deep_copy_dahdi_chan_conf()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13266">duplicate_pseudo()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l12095">mkintf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;{</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   *dest = *src;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a59b0902e07ba1de026cb801654758ef9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59b0902e07ba1de026cb801654758ef9">&#9670;&nbsp;</a></span>ast_cc_default_config_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_default_config_params </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the specified CC config params to default values. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>This is just like <a class="el" href="../../de/dc8/ccss_8h.html#a6f6f8fffb6cf0856d5cf953c5f51b74b" title="copy CCSS configuration parameters from one structure to another ">ast_cc_copy_config_params()</a> and could be used in place of it if you need to set the config params to defaults instead. You are simply "copying" defaults into the destination.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>CC config params to set to default values.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00676">676</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00662">cc_default_params</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00681">__ast_cc_config_params_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;{</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   *params = <a class="code" href="../../d3/d5a/ccss_8c.html#a30b2b0e8999d8157d45e2c0bffdfbb01">cc_default_params</a>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a30b2b0e8999d8157d45e2c0bffdfbb01"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a30b2b0e8999d8157d45e2c0bffdfbb01">cc_default_params</a></div><div class="ttdeci">static const struct ast_cc_config_params cc_default_params</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00662">ccss.c:662</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa870fead699aa352308ba4da3f6502cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa870fead699aa352308ba4da3f6502cb">&#9670;&nbsp;</a></span>ast_cc_extension_monitor_add_dialstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_extension_monitor_add_dialstring </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>incoming</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>device_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a child dialstring to an extension monitor. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>Whenever we request a channel, the parent extension monitor needs to store the dialstring of the device requested. The reason is so that we can call the device back during the recall even if we are not monitoring the device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">incoming</td><td>The caller's channel </td></tr>
    <tr><td class="paramname">dialstring</td><td>The dialstring used when requesting the outbound channel </td></tr>
    <tr><td class="paramname">device_name</td><td>The device name associated with the requested outbound channel </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02005">2005</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">extension_monitor_pvt::child_dialstrings</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01795">extension_child_dialstring::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01902">dialed_cc_interfaces::dial_parent_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00519">ast_cc_monitor::id</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l01507">id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01929">dialed_cc_interfaces::interface_tree</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01810">extension_child_dialstring::is_valid</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01776">extension_child_dialstring::original_dialstring</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00561">ast_cc_monitor::private_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;{</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *cc_datastore;</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *cc_interfaces;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a> *extension_pvt;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a> *child_dialstring;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *interface_tree;</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a>;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(incoming);</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;   <span class="keywordflow">if</span> (!(cc_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(incoming, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(incoming);</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;   }</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;   cc_interfaces = cc_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;   interface_tree = cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;   <span class="keywordtype">id</span> = cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dial_parent_id</a>;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(incoming);</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(interface_tree);</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(interface_tree, monitor, next) {</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      <span class="keywordflow">if</span> (monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a> == <span class="keywordtype">id</span>) {</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;      }</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;   }</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;   <span class="keywordflow">if</span> (!monitor) {</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;   }</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;   extension_pvt = monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;   <span class="keywordflow">if</span> (!(child_dialstring = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*child_dialstring)))) {</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;   }</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a74d7d247d85e9972849591e1e3866a37">original_dialstring</a>, dialstring, <span class="keyword">sizeof</span>(child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a74d7d247d85e9972849591e1e3866a37">original_dialstring</a>));</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>, device_name, <span class="keyword">sizeof</span>(child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>));</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;   child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a3ba613497814aa75f4d53254ddeaadf6">is_valid</a> = 1;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;extension_pvt-&gt;<a class="code" href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">child_dialstrings</a>, child_dialstring, next);</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ab7ce6f462afaf105224b0ca772a33c43"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">ast_cc_monitor::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00519">ccss.h:519</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html_a3ba613497814aa75f4d53254ddeaadf6"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html#a3ba613497814aa75f4d53254ddeaadf6">extension_child_dialstring::is_valid</a></div><div class="ttdeci">int is_valid</div><div class="ttdoc">Is this structure valid for use in CC_INTERFACES? </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01810">ccss.c:1810</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="structextension__monitor__pvt_html_a8fa7586c63694073e8558d727401e4a0"><div class="ttname"><a href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">extension_monitor_pvt::child_dialstrings</a></div><div class="ttdeci">struct extension_monitor_pvt::@366 child_dialstrings</div></div>
<div class="ttc" id="structextension__child__dialstring_html_a2ea75e3f4fd722a2b68bd2bac608a2d3"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">extension_child_dialstring::device_name</a></div><div class="ttdeci">char device_name[AST_CHANNEL_NAME]</div><div class="ttdoc">The name of the device being dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01795">ccss.c:1795</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="structcc__monitor__tree_html"><div class="ttname"><a href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a></div><div class="ttdoc">The &quot;tree&quot; of interfaces that is dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00324">ccss.c:324</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">dialed_cc_interfaces::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01929">ccss.c:1929</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html_a74d7d247d85e9972849591e1e3866a37"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html#a74d7d247d85e9972849591e1e3866a37">extension_child_dialstring::original_dialstring</a></div><div class="ttdeci">char original_dialstring[AST_CHANNEL_NAME]</div><div class="ttdoc">the original dialstring used to call a particular device </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01776">ccss.c:1776</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a></div><div class="ttdoc">Data regarding an extension monitor&amp;#39;s child&amp;#39;s dialstrings. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01760">ccss.c:1760</a></div></div>
<div class="ttc" id="structextension__monitor__pvt_html"><div class="ttname"><a href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a></div><div class="ttdoc">Private data for an extension monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01817">ccss.c:1817</a></div></div>
<div class="ttc" id="app__queue_8c_html_acd1f0e9b4730ec60f62cb0806cb06ef1"><div class="ttname"><a href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a></div><div class="ttdeci">enum queue_result id</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfb/app__queue_8c_source.html#l01507">app_queue.c:1507</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">ast_cc_monitor::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Data that is private to a monitor technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00561">ccss.h:561</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a893d185453957758607107023ba704f0"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dialed_cc_interfaces::dial_parent_id</a></div><div class="ttdeci">unsigned int dial_parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01902">ccss.c:1902</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad25ea527a36ed77fcba9eb1eba0b4186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25ea527a36ed77fcba9eb1eba0b4186">&#9670;&nbsp;</a></span>ast_cc_failed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_failed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate failure has occurred. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>If at any point a failure occurs, this is the function to call so that the core can initiate cleanup procedures.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>core_id of the CC transaction </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">3879</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00211">CC_FAILED</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03226">cancel_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03064">cc_caller_offered()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03132">cc_caller_requested()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03896">cc_monitor_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04308">cccancel_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">ccreq_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28516">handle_cc_subscribe()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04544">kill_cores()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02691">offer_timer_expire()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03108">request_cc()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01905">sip_offer_timer_expire()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03193">suspend()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03146">unsuspend()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01202">wait_for_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;{</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;   va_list ap;</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a>, core_id, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;   va_end(ap);</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00211">ccss.c:211</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af78031bab9c298a15d07a5f30ed0c3df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af78031bab9c298a15d07a5f30ed0c3df">&#9670;&nbsp;</a></span>ast_cc_get_current_core_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_get_current_core_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the core id for the current call. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>The main use of this function is for channel drivers who queue an AST_CONTROL_CC frame. A channel driver may call this function in order to get the core_id for what may become a CC request. This way, when monitor functions are called which use a core_id as a means of identification, the channel driver will have saved this information.</p>
<p>The channel given to this function may be an inbound or outbound channel. Both will have the necessary info on it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel from which to get the core_id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_id</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02487">2487</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01911">dialed_cc_interfaces::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01917">dialed_cc_interfaces::ignore</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02322">sip_handle_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;{</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *cc_interfaces;</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;   <span class="keywordtype">int</span> core_id_return;</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;   }</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;   cc_interfaces = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;   core_id_return = cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">ignore</a> ? -1 : cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;   <span class="keywordflow">return</span> core_id_return;</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">dialed_cc_interfaces::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01911">ccss.c:1911</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">dialed_cc_interfaces::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01917">ccss.c:1917</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a05d18d9e83ba249ca1e5f23c537f2535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d18d9e83ba249ca1e5f23c537f2535">&#9670;&nbsp;</a></span>ast_cc_get_monitor_by_recall_core_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a>* ast_cc_get_monitor_by_recall_core_id </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>device_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the associated monitor given the device name and core_id. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>The function ast_cc_is_recall is helpful for determining if a call to a specific channel is a recall. However, once you have determined that this is a recall, you will most likely need access to the private data within the associated monitor. This function is what one uses to get that monitor.</p>
<dl class="section note"><dt>Note</dt><dd>This function locks the list of monitors that correspond to the core_id passed in. Be sure that you have no potential lock order issues when calling this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>The core ID to which this recall corresponds. This likely will have been obtained using the ast_cc_is_recall function </td></tr>
    <tr><td class="paramname">device_name</td><td>Which device to find the monitor for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Appropriate monitor does not exist </td></tr>
    <tr><td class="paramname">non-NULL</td><td>The monitor to use for this recall </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03519">3519</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06445">sip_call()</a>.</p>
<div class="fragment"><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;{</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter;</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;   }</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>, monitor_iter, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;      <span class="keywordflow">if</span> (!strcmp(monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, device_name)) {</div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;         <span class="comment">/* Found a monitor. */</span></div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(monitor_iter, <span class="stringliteral">&quot;Hand the requester of the monitor a reference&quot;</span>);</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;      }</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;   }</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Done with core instance ref in ast_cc_get_monitor_by_recall_core_id&quot;</span>);</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;   <span class="keywordflow">return</span> monitor_iter;</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5e7c37a42b9e313c6225b2a26bdd054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5e7c37a42b9e313c6225b2a26bdd054">&#9670;&nbsp;</a></span>ast_cc_get_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_get_param </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get a CCSS configuration parameter, given its name </p>
<dl class="section note"><dt>Note</dt><dd>Useful when reading input as a string, like from dialplan or manager.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>The CCSS configuration from which to get the value </td></tr>
    <tr><td class="paramname">name</td><td>The name of the CCSS parameter we want </td></tr>
    <tr><td class="paramname">buf</td><td>A preallocated buffer to hold the value </td></tr>
    <tr><td class="paramname">buf_len</td><td>The size of buf </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">759</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00728">agent_policy_to_str()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00960">ast_get_cc_agent_dialstring()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00866">ast_get_cc_agent_policy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00994">ast_get_cc_callback_macro()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00999">ast_get_cc_callback_sub()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00974">ast_get_cc_max_agents()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00984">ast_get_cc_max_monitors()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00883">ast_get_cc_monitor_policy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00900">ast_get_cc_offer_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00930">ast_get_cc_recall_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00945">ast_get_ccbs_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00915">ast_get_ccnr_available_timer()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00743">monitor_policy_to_str()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d97/func__callcompletion_8c_source.html#l00069">acf_cc_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;{</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_callback_macro&quot;</span>)) {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      value = <a class="code" href="../../d3/d5a/ccss_8c.html#a7b7a459ee48682680795c741e748c086">ast_get_cc_callback_macro</a>(params);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_callback_sub&quot;</span>)) {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      value = <a class="code" href="../../d3/d5a/ccss_8c.html#acccfe3f2b9de8a7009e02e2972ca6be5">ast_get_cc_callback_sub</a>(params);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_agent_policy&quot;</span>)) {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      value = <a class="code" href="../../d3/d5a/ccss_8c.html#aca447e90a9b6a6d93e477f7d9bf61b96">agent_policy_to_str</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a>(params));</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_monitor_policy&quot;</span>)) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      value = <a class="code" href="../../d3/d5a/ccss_8c.html#a36da7590fe51b7f5b8bc1d449381592f">monitor_policy_to_str</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aafed4bcde7e857db88ca60471e709a55">ast_get_cc_monitor_policy</a>(params));</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_agent_dialstring&quot;</span>)) {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      value = <a class="code" href="../../d3/d5a/ccss_8c.html#a46199282e56a1def66a4f406e64e1690">ast_get_cc_agent_dialstring</a>(params);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;   }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   <span class="keywordflow">if</span> (value) {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, value, buf_len);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   <span class="comment">/* The rest of these are all ints of some sort and require some</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">    * snprintf-itude</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_offer_timer&quot;</span>)) {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buf_len, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#a38cd4e661213322b65b7660a8b50027c">ast_get_cc_offer_timer</a>(params));</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;ccnr_available_timer&quot;</span>)) {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buf_len, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#a8c56a61357eecdf10b801914b367f59f">ast_get_ccnr_available_timer</a>(params));</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;ccbs_available_timer&quot;</span>)) {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buf_len, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#a76d377a378c28013504d3b2f4a335764">ast_get_ccbs_available_timer</a>(params));</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_max_agents&quot;</span>)) {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buf_len, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#a8ff8c9d10dfd21673fe3dd8177cc0769">ast_get_cc_max_agents</a>(params));</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_max_monitors&quot;</span>)) {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buf_len, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#ab3b3862d5a0cd857a5c49c3b83d9fad7">ast_get_cc_max_monitors</a>(params));</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_recall_timer&quot;</span>)) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buf_len, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#a017388f7e4b902e8caac6458e586f47a">ast_get_cc_recall_timer</a>(params));</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s is not a valid CC parameter. Ignoring.\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   }</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a8c56a61357eecdf10b801914b367f59f"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8c56a61357eecdf10b801914b367f59f">ast_get_ccnr_available_timer</a></div><div class="ttdeci">unsigned int ast_get_ccnr_available_timer(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the ccnr_available_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00915">ccss.c:915</a></div></div>
<div class="ttc" id="ccss_8c_html_a017388f7e4b902e8caac6458e586f47a"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a017388f7e4b902e8caac6458e586f47a">ast_get_cc_recall_timer</a></div><div class="ttdeci">unsigned int ast_get_cc_recall_timer(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_recall_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00930">ccss.c:930</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="ccss_8c_html_a36da7590fe51b7f5b8bc1d449381592f"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a36da7590fe51b7f5b8bc1d449381592f">monitor_policy_to_str</a></div><div class="ttdeci">static const char * monitor_policy_to_str(enum ast_cc_monitor_policies policy)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00743">ccss.c:743</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="ccss_8c_html_aafed4bcde7e857db88ca60471e709a55"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aafed4bcde7e857db88ca60471e709a55">ast_get_cc_monitor_policy</a></div><div class="ttdeci">enum ast_cc_monitor_policies ast_get_cc_monitor_policy(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_monitor_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00883">ccss.c:883</a></div></div>
<div class="ttc" id="ccss_8c_html_a46199282e56a1def66a4f406e64e1690"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a46199282e56a1def66a4f406e64e1690">ast_get_cc_agent_dialstring</a></div><div class="ttdeci">const char * ast_get_cc_agent_dialstring(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_agent_dialstring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00960">ccss.c:960</a></div></div>
<div class="ttc" id="ccss_8c_html_a7b7a459ee48682680795c741e748c086"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7b7a459ee48682680795c741e748c086">ast_get_cc_callback_macro</a></div><div class="ttdeci">const char * ast_get_cc_callback_macro(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the name of the callback_macro. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00994">ccss.c:994</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="ccss_8c_html_aca447e90a9b6a6d93e477f7d9bf61b96"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aca447e90a9b6a6d93e477f7d9bf61b96">agent_policy_to_str</a></div><div class="ttdeci">static const char * agent_policy_to_str(enum ast_cc_agent_policies policy)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00728">ccss.c:728</a></div></div>
<div class="ttc" id="ccss_8c_html_a8ff8c9d10dfd21673fe3dd8177cc0769"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8ff8c9d10dfd21673fe3dd8177cc0769">ast_get_cc_max_agents</a></div><div class="ttdeci">unsigned int ast_get_cc_max_agents(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_max_agents. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00974">ccss.c:974</a></div></div>
<div class="ttc" id="ccss_8c_html_ab3b3862d5a0cd857a5c49c3b83d9fad7"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ab3b3862d5a0cd857a5c49c3b83d9fad7">ast_get_cc_max_monitors</a></div><div class="ttdeci">unsigned int ast_get_cc_max_monitors(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_max_monitors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00984">ccss.c:984</a></div></div>
<div class="ttc" id="ccss_8c_html_a9973d81440cb95d7ca720ef1e331c5cd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a></div><div class="ttdeci">enum ast_cc_agent_policies ast_get_cc_agent_policy(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_agent_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00866">ccss.c:866</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="ccss_8c_html_acccfe3f2b9de8a7009e02e2972ca6be5"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#acccfe3f2b9de8a7009e02e2972ca6be5">ast_get_cc_callback_sub</a></div><div class="ttdeci">const char * ast_get_cc_callback_sub(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the name of the callback subroutine. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00999">ccss.c:999</a></div></div>
<div class="ttc" id="ccss_8c_html_a38cd4e661213322b65b7660a8b50027c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a38cd4e661213322b65b7660a8b50027c">ast_get_cc_offer_timer</a></div><div class="ttdeci">unsigned int ast_get_cc_offer_timer(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_offer_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00900">ccss.c:900</a></div></div>
<div class="ttc" id="ccss_8c_html_a76d377a378c28013504d3b2f4a335764"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a76d377a378c28013504d3b2f4a335764">ast_get_ccbs_available_timer</a></div><div class="ttdeci">unsigned int ast_get_ccbs_available_timer(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the ccbs_available_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00945">ccss.c:945</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af89ac9652211fbeb5b4725635c518dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89ac9652211fbeb5b4725635c518dc7">&#9670;&nbsp;</a></span>ast_cc_is_config_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_is_config_param </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is this a CCSS configuration parameter? </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of configuration option being parsed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Yes, this is a CCSS configuration parameter. </td></tr>
    <tr><td class="paramname">0</td><td>No, this is not a CCSS configuration parameter. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00846">846</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31631">build_peer()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17900">process_dahdi()</a>.</p>
<div class="fragment"><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;{</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <span class="keywordflow">return</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_agent_policy&quot;</span>) ||</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_monitor_policy&quot;</span>) ||</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_offer_timer&quot;</span>) ||</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;ccnr_available_timer&quot;</span>) ||</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;ccbs_available_timer&quot;</span>) ||</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_max_agents&quot;</span>) ||</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_max_monitors&quot;</span>) ||</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_callback_macro&quot;</span>) ||</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_callback_sub&quot;</span>) ||</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_agent_dialstring&quot;</span>) ||</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_recall_timer&quot;</span>));</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;}</div><div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fd3a95509d01b9ed748148277b753f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fd3a95509d01b9ed748148277b753f6">&#9670;&nbsp;</a></span>ast_cc_is_recall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_is_recall </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>monitor_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decide if a call to a particular channel is a CC recall. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When a CC recall happens, it is important on the called side to know that the call is a CC recall and not a normal call. This function will determine first if the call in question is a CC recall. Then it will determine based on the chan parameter if the channel is being called is being recalled.</p>
<p>As a quick example, let's say a call is placed to SIP/1000 and SIP/1000 is currently on the phone. The caller requests CCBS. SIP/1000 finishes his call, and so the caller attempts to recall. Now, the dialplan administrator has set up this second call so that not only is SIP/1000 called, but also SIP/2000 is called. If SIP/1000's channel were passed to this function, the return value would be non-zero, but if SIP/2000's channel were passed into this function, then the return would be 0 since SIP/2000 was not one of the original devices dialed.</p>
<dl class="section note"><dt>Note</dt><dd>This function may be called on a calling channel as well to determine if it is part of a CC recall.</dd>
<dd>
This function will lock the channel as well as the list of monitors on the channel datastore, though the locks are not held at the same time. Be sure that you have no potential lock order issues here.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">chan</td><td>The channel to check </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">core_id</td><td>If this is a valid CC recall, the core_id of the failed call will be placed in this output parameter </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">monitor_type</td><td>Clarify which type of monitor type we are looking for if this is happening on a called channel. For incoming channels, this parameter is not used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Either this is not a recall or it is but this channel is not part of the recall </td></tr>
    <tr><td class="paramname">non-zero</td><td>This is a recall and the channel in question is directly involved. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03438">3438</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10697">ast_channel_get_device_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00172">AST_CHANNEL_NAME</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03373">cc_recall_ds_data::ignore</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03375">cc_recall_ds_data::interface_tree</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00830">ast_cc_interface::monitor_type</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03374">cc_recall_ds_data::nested</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06445">sip_call()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01202">wait_for_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;{</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *recall_datastore;</div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_data;</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *interface_tree;</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;   <span class="keywordtype">char</span> device_name[<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>];</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *device_monitor;</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;   <span class="keywordtype">int</span> core_id_candidate;</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;   *<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = -1;</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;   <span class="keywordflow">if</span> (!(recall_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;      <span class="comment">/* Obviously not a recall if the datastore isn&#39;t present */</span></div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;   }</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;   recall_data = recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;   <span class="keywordflow">if</span> (recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a98a0af0698beae3b2032cffb69d02094">ignore</a>) {</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;      <span class="comment">/* Though this is a recall, the call to this particular interface is not part of the</span></div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;<span class="comment">       * recall either because this is a call forward or because this is not the first</span></div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;<span class="comment">       * invocation of Dial during this call</span></div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;   }</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;   <span class="keywordflow">if</span> (!recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#abbea4ca4811183de94be9e7a206d416d">nested</a>) {</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;      <span class="comment">/* If the nested flag is not set, then this means that</span></div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;<span class="comment">       * the channel passed to this function is the caller making</span></div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;<span class="comment">       * the recall. This means that we shouldn&#39;t look through</span></div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;<span class="comment">       * the monitor tree for the channel because it shouldn&#39;t be</span></div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;<span class="comment">       * there. However, this is a recall though, so return true.</span></div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;      *<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;   }</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(monitor_type)) {</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;      <span class="comment">/* If someone passed a NULL or empty monitor type, then it is clear</span></div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;<span class="comment">       * the channel they passed in was an incoming channel, and so searching</span></div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;<span class="comment">       * the list of dialed interfaces is not going to be helpful. Just return</span></div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;<span class="comment">       * false immediately.</span></div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;   }</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;   interface_tree = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>;</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a>(chan, device_name, <span class="keyword">sizeof</span>(device_name));</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;   <span class="comment">/* We grab the value of the recall_data-&gt;core_id so that we</span></div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;<span class="comment">    * can unlock the channel before we start looking through the</span></div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;<span class="comment">    * interface list. That way we don&#39;t have to worry about a possible</span></div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;<span class="comment">    * clash between the channel lock and the monitor tree lock.</span></div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;   core_id_candidate = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;<span class="comment">    * Now we need to find out if the channel device name</span></div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;<span class="comment">    * is in the list of interfaces in the called tree.</span></div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(interface_tree);</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(interface_tree, device_monitor, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;      <span class="keywordflow">if</span> (!strcmp(device_monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, device_name) &amp;&amp;</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;            !strcmp(device_monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, monitor_type)) {</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;         <span class="comment">/* BOOM! Device is in the tree! We have a winner! */</span></div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;         *<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = core_id_candidate;</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;         <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;      }</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;   }</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a98a0af0698beae3b2032cffb69d02094">cc_recall_ds_data::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03373">ccss.c:3373</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_abbea4ca4811183de94be9e7a206d416d"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#abbea4ca4811183de94be9e7a206d416d">cc_recall_ds_data::nested</a></div><div class="ttdeci">char nested</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03374">ccss.c:3374</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="ccss_8c_html_a010707a1d95ff32920705c9320a94bcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info recall_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03399">ccss.c:3399</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">cc_recall_ds_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03372">ccss.c:3372</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="structcc__monitor__tree_html"><div class="ttname"><a href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a></div><div class="ttdoc">The &quot;tree&quot; of interfaces that is dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00324">ccss.c:324</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_ab57c278099ea5f8d7cedbb41eba58b56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a></div><div class="ttdeci">#define AST_CHANNEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00172">channel.h:172</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a12094ef48afbb4f03d6eb1b7d630e7bd">ast_cc_interface::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor that should be used for this interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00830">ccss.h:830</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_a1677fd1f6e2cab646aeb76db8a044c2e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a></div><div class="ttdeci">int ast_channel_get_device_name(struct ast_channel *chan, char *device_name, size_t name_buffer_length)</div><div class="ttdoc">Get a device name given its channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10697">channel.c:10697</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">cc_recall_ds_data::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03375">ccss.c:3375</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f831cfaba759c6073f1940c9b81e2a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f831cfaba759c6073f1940c9b81e2a9">&#9670;&nbsp;</a></span>ast_cc_monitor_callee_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_callee_available </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alert the core that a device being monitored has become available. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The code in the core will take care of making sure that the information gets passed up the ladder correctly.</dd></dl>
<dl class="section user"><dt>core_id The core ID of the corresponding CC transaction</dt><dd></dd></dl>
<dl class="section user"><dt>debug</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Request successfully queued </td></tr>
    <tr><td class="paramname">-1</td><td>Request could not be queued </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03798">3798</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00194">CC_CALLEE_READY</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01668">cc_generic_monitor_destructor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01582">cc_generic_monitor_suspend()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01623">cc_generic_monitor_unsuspend()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01443">generic_monitor_devstate_tp_cb()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l25671">handle_cc_notify()</a>.</p>
<div class="fragment"><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;{</div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;   va_list ap;</div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;</div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a>, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;   va_end(ap);</div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00194">ccss.c:194</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8b924db79cc74e212c0f11b978bdcacd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b924db79cc74e212c0f11b978bdcacd">&#9670;&nbsp;</a></span>ast_cc_monitor_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_count </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the number of outstanding CC requests to a specific device. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function will lock the list of monitors stored on every instance of the CC core. Callers of this function should be aware of this and avoid any potential lock ordering problems.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the monitored device </td></tr>
    <tr><td class="paramname">type</td><td>The type of the monitored device (e.g. "generic") </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of CC requests for the monitor </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04368">4368</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01714">ao2_t_callback</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04345">count_monitors_cb_data::count</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04348">count_monitors_cb()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04343">count_monitors_cb_data::device_name</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04149">ast_queue_cc_frame()</a>.</p>
<div class="fragment"><div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;{</div><div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d84/structcount__monitors__cb__data.html">count_monitors_cb_data</a> data = {.<a class="code" href="../../d5/d84/structcount__monitors__cb__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a> = <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, .monitor_type = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>,};</div><div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;</div><div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#ac0f45524b1f152f9566ac26739552978">count_monitors_cb</a>, &amp;data, <span class="stringliteral">&quot;Counting agents&quot;</span>);</div><div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Counted %d monitors\n&quot;</span>, data.<a class="code" href="../../d5/d84/structcount__monitors__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>);</div><div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;   <span class="keywordflow">return</span> data.<a class="code" href="../../d5/d84/structcount__monitors__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div><div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_ac0f45524b1f152f9566ac26739552978"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ac0f45524b1f152f9566ac26739552978">count_monitors_cb</a></div><div class="ttdeci">static int count_monitors_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04348">ccss.c:4348</a></div></div>
<div class="ttc" id="structcount__monitors__cb__data_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="../../d5/d84/structcount__monitors__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count_monitors_cb_data::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04345">ccss.c:4345</a></div></div>
<div class="ttc" id="structcount__monitors__cb__data_html"><div class="ttname"><a href="../../d5/d84/structcount__monitors__cb__data.html">count_monitors_cb_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04342">ccss.c:4342</a></div></div>
<div class="ttc" id="astobj2_8h_html_aeca960ec22a1d0384f6e285b25df8501"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a></div><div class="ttdeci">#define ao2_t_callback(c, flags, cb_fn, arg, tag)</div><div class="ttdoc">ao2_callback() is a generic function that applies cb_fn() to all objects in a container, as described below. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01714">astobj2.h:1714</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="structcount__monitors__cb__data_html_a77c7adc4663824cee5fa2e15b9e266e7"><div class="ttname"><a href="../../d5/d84/structcount__monitors__cb__data.html#a77c7adc4663824cee5fa2e15b9e266e7">count_monitors_cb_data::device_name</a></div><div class="ttdeci">const char * device_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04343">ccss.c:4343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad179ffd63f6ff74454f58c58d7248368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad179ffd63f6ff74454f58c58d7248368">&#9670;&nbsp;</a></span>ast_cc_monitor_failed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_failed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>monitor_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that a failure has occurred on a specific monitor. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>If a monitor should detect that a failure has occurred when communicating with its endpoint, then ast_cc_monitor_failed should be called. The big difference between ast_cc_monitor_failed and ast_cc_failed is that ast_cc_failed indicates a global failure for a CC transaction, where as ast_cc_monitor_failed is localized to a particular monitor. When ast_cc_failed is called, the entire CC transaction is torn down. When ast_cc_monitor_failed is called, only the monitor on which the failure occurred is pruned from the tree of monitors.</p>
<p>If there are no more devices left to monitor when this function is called, then the core will fail the CC transaction globally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>The core ID for the CC transaction </td></tr>
    <tr><td class="paramname">monitor_name</td><td>The name of the monitor on which the failure occurred </td></tr>
    <tr><td class="paramname">debug</td><td>A debug message to print to the CC log </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03941">3941</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00280">ast_vasprintf</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03896">cc_monitor_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03893">ast_cc_monitor_failure_data::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03892">ast_cc_monitor_failure_data::debug</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03891">ast_cc_monitor_failure_data::device_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01509">ast_cc_available_timer_expire()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l23870">cc_handle_publish_error()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l24618">handle_response_subscribe()</a>.</p>
<div class="fragment"><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;{</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html">ast_cc_monitor_failure_data</a> *failure_data;</div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;   va_list ap;</div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;   <span class="keywordflow">if</span> (!(failure_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*failure_data)))) {</div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;   }</div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;   <span class="keywordflow">if</span> (!(failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(monitor_name))) {</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(failure_data);</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;   }</div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;</div><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8a/astmm_8h.html#ac1871f9e9b3f36e1098c0d5738d405a8">ast_vasprintf</a>(&amp;failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a9d0f2b98cf19c569f7b3851fbff05504">debug</a>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap) == -1) {</div><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;      va_end(ap);</div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *)failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>);</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(failure_data);</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;   }</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;   va_end(ap);</div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;   failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = <a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;</div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;   res = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#af87773605020b0c0611efc9d5ecfcd6e">cc_monitor_failed</a>, failure_data);</div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *)failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>);</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *)failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a9d0f2b98cf19c569f7b3851fbff05504">debug</a>);</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(failure_data);</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;   }</div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="astmm_8h_html_ac1871f9e9b3f36e1098c0d5738d405a8"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ac1871f9e9b3f36e1098c0d5738d405a8">ast_vasprintf</a></div><div class="ttdeci">#define ast_vasprintf(ret, fmt, ap)</div><div class="ttdoc">A wrapper for vasprintf() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00280">astmm.h:280</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structast__cc__monitor__failure__data_html"><div class="ttname"><a href="../../de/d8f/structast__cc__monitor__failure__data.html">ast_cc_monitor_failure_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03890">ccss.c:3890</a></div></div>
<div class="ttc" id="structast__cc__monitor__failure__data_html_a9d0f2b98cf19c569f7b3851fbff05504"><div class="ttname"><a href="../../de/d8f/structast__cc__monitor__failure__data.html#a9d0f2b98cf19c569f7b3851fbff05504">ast_cc_monitor_failure_data::debug</a></div><div class="ttdeci">char * debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03892">ccss.c:3892</a></div></div>
<div class="ttc" id="structast__cc__monitor__failure__data_html_a77c7adc4663824cee5fa2e15b9e266e7"><div class="ttname"><a href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">ast_cc_monitor_failure_data::device_name</a></div><div class="ttdeci">const char * device_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03891">ccss.c:3891</a></div></div>
<div class="ttc" id="ccss_8c_html_af87773605020b0c0611efc9d5ecfcd6e"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af87773605020b0c0611efc9d5ecfcd6e">cc_monitor_failed</a></div><div class="ttdeci">static int cc_monitor_failed(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03896">ccss.c:3896</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="structast__cc__monitor__failure__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../de/d8f/structast__cc__monitor__failure__data.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor_failure_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03893">ccss.c:3893</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1400673f64bff290fb66d7c2bd8b7830"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1400673f64bff290fb66d7c2bd8b7830">&#9670;&nbsp;</a></span>ast_cc_monitor_party_b_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_party_b_free </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alert a caller that though the callee has become free, the caller himself is not and may not call back. </p>
<p>When an ISDN PTMP monitor senses that his monitored party has become available, he will request the status of the called party. If he determines that the caller is currently not available, then he will call this function so that an appropriate message is sent to the caller.</p>
<p>Yes, you just read that correctly. The callee asks the caller what his current status is, and if the caller is currently unavailable, the monitor must send him a message anyway. WTF?</p>
<p>This function results in the agent's party_b_free callback being called. It is most likely that you will not need to actually implement the party_b_free callback in an agent because it is not likely that you will need to or even want to send a caller a message indicating the callee's status if the caller himself is not also free.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>The core ID of the CC transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully alerted the core that party B is free </td></tr>
    <tr><td class="paramname">-1</td><td>Could not alert the core that party B is free </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04051">4051</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04039">cc_party_b_free()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>.</p>
<div class="fragment"><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;{</div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;</div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;   }</div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;</div><div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;   res = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a9771f8cb11a1f42a852bcd698836bcff">cc_party_b_free</a>, core_instance);</div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core instance. ast_taskprocessor_push failed&quot;</span>);</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;   }</div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="ccss_8c_html_a9771f8cb11a1f42a852bcd698836bcff"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a9771f8cb11a1f42a852bcd698836bcff">cc_party_b_free</a></div><div class="ttdeci">static int cc_party_b_free(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04039">ccss.c:4039</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a21c61c03681638d2b04390f4201e2320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c61c03681638d2b04390f4201e2320">&#9670;&nbsp;</a></span>ast_cc_monitor_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_register </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a set of monitor callbacks with the core. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>This is made so that at monitor creation time, the proper callbacks may be installed and the proper .init callback may be called for the monitor to establish private data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>The callbacks used by the monitor implementation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully registered </td></tr>
    <tr><td class="paramname">-1</td><td>Failure to register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01184">1184</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00740">AST_RWLIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01179">cc_monitor_backend::callbacks</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01178">cc_monitor_backend::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;{</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d1a/structcc__monitor__backend.html">cc_monitor_backend</a> *backend = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*backend));</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;   <span class="keywordflow">if</span> (!backend) {</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;   }</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;   backend-&gt;<a class="code" href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a> = <a class="code" href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>, backend, <a class="code" href="../../df/d1a/structcc__monitor__backend.html#ac3f20f9830925e0cad86d138c6e56b72">next</a>);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;}</div><div class="ttc" id="structcc__monitor__backends_html"><div class="ttname"><a href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01182">ccss.c:1182</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">cc_monitor_backend::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01179">ccss.c:1179</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html">cc_monitor_backend</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01177">ccss.c:1177</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html_ac3f20f9830925e0cad86d138c6e56b72"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html#ac3f20f9830925e0cad86d138c6e56b72">cc_monitor_backend::next</a></div><div class="ttdeci">struct cc_monitor_backend * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01178">ccss.c:1178</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadda916488b2d151af4426e2f06ad332"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_TAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00740">linkedlists.h:740</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a64d38b6c2631ece08ca6f32620e02635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64d38b6c2631ece08ca6f32620e02635">&#9670;&nbsp;</a></span>ast_cc_monitor_request_acked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_request_acked </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that an outbound entity has accepted our CC request. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When we receive confirmation that an outbound device has accepted the CC request we sent it, this function must be called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>core_id of the CC transaction </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03787">3787</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00191">CC_ACTIVE</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04002">cc_stop_ringing()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l25671">handle_cc_notify()</a>.</p>
<div class="fragment"><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;{</div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;   va_list ap;</div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;</div><div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a>, core_id, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;   va_end(ap);</div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00191">ccss.c:191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98e261f13321084b4ed0c1bd0d4ec70e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98e261f13321084b4ed0c1bd0d4ec70e">&#9670;&nbsp;</a></span>ast_cc_monitor_status_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_status_request </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request the status of a caller or callers. </p>
<p>The following are all functions which are required due to the unique case where Asterisk is acting as the NT side of an ISDN PTMP connection to the caller and as the TE side of an ISDN PTMP connection to the callee. In such a case, there are several times where the PTMP monitor needs information from the agent in order to formulate the appropriate messages to send.</p>
<p>When an ISDN PTMP monitor senses that the callee has become available, it needs to know the current status of the caller in order to determine the appropriate response to send to the caller. In order to do this, the monitor calls this function. Responses will arrive asynchronously.</p>
<dl class="section note"><dt>Note</dt><dd>Zero or more responses may come as a result.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>The core ID of the CC transaction</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully requested status </td></tr>
    <tr><td class="paramname">-1</td><td>Failed to request status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03986">3986</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03976">cc_status_request()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>.</p>
<div class="fragment"><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;{</div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;</div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;   }</div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;</div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;   res = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a214af0bfb9fbabd6b37bfaa6d7d3ff6a">cc_status_request</a>, core_instance);</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core instance. ast_taskprocessor_push failed&quot;</span>);</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;   }</div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="ccss_8c_html_a214af0bfb9fbabd6b37bfaa6d7d3ff6a"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a214af0bfb9fbabd6b37bfaa6d7d3ff6a">cc_status_request</a></div><div class="ttdeci">static int cc_status_request(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03976">ccss.c:3976</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3ccff7da399d534b7ac4eee20fb25ae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ccff7da399d534b7ac4eee20fb25ae7">&#9670;&nbsp;</a></span>ast_cc_monitor_stop_ringing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_stop_ringing </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alert a caller to stop ringing. </p>
<p>When an ISDN PTMP monitor becomes available, it is assumed that the agent will then cause the caller's phone to ring. In some cases, this is literally what happens. In other cases, it may be that the caller gets a visible indication on his phone that he may attempt to recall the callee. If multiple callers are recalled (since it may be possible to have a group of callers configured as a single party A), and one of those callers picks up his phone, then the ISDN PTMP monitor will alert the other callers to stop ringing. The agent's stop_ringing callback will be called, and it is up to the agent's driver to send an appropriate message to make his caller stop ringing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>The core ID of the CC transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully requested for the phone to stop ringing </td></tr>
    <tr><td class="paramname">-1</td><td>Could not request for the phone to stop ringing </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04023">4023</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04002">cc_stop_ringing()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>.</p>
<div class="fragment"><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;{</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;   }</div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;</div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;   res = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#abbed5486026c06296110f00326fc4688">cc_stop_ringing</a>, core_instance);</div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core instance. ast_taskprocessor_push failed&quot;</span>);</div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;   }</div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="ccss_8c_html_abbed5486026c06296110f00326fc4688"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#abbed5486026c06296110f00326fc4688">cc_stop_ringing</a></div><div class="ttdeci">static int cc_stop_ringing(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04002">ccss.c:4002</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaefbdf8c3c2642f5ff99b3110b2b6066"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaefbdf8c3c2642f5ff99b3110b2b6066">&#9670;&nbsp;</a></span>ast_cc_monitor_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_monitor_unregister </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a set of monitor callbacks with the core. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>If a module which makes use of a CC monitor is unloaded, then it may unregister its monitor callbacks with the core.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>The callbacks used by the monitor implementation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully unregistered </td></tr>
    <tr><td class="paramname">-1</td><td>Failure to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01217">1217</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00569">AST_RWLIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01179">cc_monitor_backend::callbacks</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01178">cc_monitor_backend::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17540">__unload_module()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04623">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;{</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d1a/structcc__monitor__backend.html">cc_monitor_backend</a> *backend;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>);</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>, backend, <a class="code" href="../../df/d1a/structcc__monitor__backend.html#ac3f20f9830925e0cad86d138c6e56b72">next</a>) {</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keywordflow">if</span> (backend-&gt;<a class="code" href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a> == callbacks) {</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a>(<a class="code" href="../../df/d1a/structcc__monitor__backend.html#ac3f20f9830925e0cad86d138c6e56b72">next</a>);</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(backend);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      }</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;   }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>);</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;}</div><div class="ttc" id="structcc__monitor__backends_html"><div class="ttname"><a href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01182">ccss.c:1182</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">cc_monitor_backend::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01179">ccss.c:1179</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html">cc_monitor_backend</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01177">ccss.c:1177</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a02212548652c9eb0f3db38dc4e4bd285"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00569">linkedlists.h:569</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html_ac3f20f9830925e0cad86d138c6e56b72"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html#ac3f20f9830925e0cad86d138c6e56b72">cc_monitor_backend::next</a></div><div class="ttdeci">struct cc_monitor_backend * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01178">ccss.c:1178</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ddce85b8dc1ffed466880d7f2a92a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ddce85b8dc1ffed466880d7f2a92a2a">&#9670;&nbsp;</a></span>ast_cc_offer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_offer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>caller_chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Offer CC to a caller. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>This function is called from ast_hangup if the caller is eligible to be offered call completion service.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">caller_chan</td><td>The calling channel </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03751">3751</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03740">cc_offer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01911">dialed_cc_interfaces::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01925">dialed_cc_interfaces::is_original_caller</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>.</p>
<div class="fragment"><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;{</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;   <span class="keywordtype">int</span> core_id;</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *cc_interfaces;</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;   <span class="keywordtype">char</span> cc_is_offerable;</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(caller_chan);</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(caller_chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(caller_chan);</div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;   }</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;</div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;   cc_interfaces = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;   cc_is_offerable = cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a669c0daceb501dfa4e4117c8baa54af4">is_original_caller</a>;</div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;   core_id = cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(caller_chan);</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;   <span class="keywordflow">if</span> (cc_is_offerable) {</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;      res = <a class="code" href="../../d3/d5a/ccss_8c.html#a40ad3f251c0aff6c8eecff9fce383158">cc_offer</a>(core_id, <span class="stringliteral">&quot;CC offered to caller %s&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(caller_chan));</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;   }</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a669c0daceb501dfa4e4117c8baa54af4"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a669c0daceb501dfa4e4117c8baa54af4">dialed_cc_interfaces::is_original_caller</a></div><div class="ttdeci">char is_original_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01925">ccss.c:1925</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">dialed_cc_interfaces::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01911">ccss.c:1911</a></div></div>
<div class="ttc" id="ccss_8c_html_a40ad3f251c0aff6c8eecff9fce383158"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a40ad3f251c0aff6c8eecff9fce383158">cc_offer</a></div><div class="ttdeci">static int cc_offer(const int core_id, const char *const debug,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03740">ccss.c:3740</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1570706dee0c4c88406d96f47f166d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1570706dee0c4c88406d96f47f166d3">&#9670;&nbsp;</a></span>ast_cc_request_is_within_limits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_request_is_within_limits </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the incoming CC request is within the bounds set by the cc_max_requests configuration option. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>It is recommended that an entity which receives an incoming CC request calls this function before calling ast_cc_agent_accept_request. This way, immediate feedback can be given to the caller about why his request was rejected.</p>
<p>If this is not called and a state change to CC_CALLER_REQUESTED is made, then the core will still not allow for the request to succeed. However, if done this way, it may not be obvious to the requestor why the request failed.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Not within the limits. Fail. </td></tr>
    <tr><td class="paramname">non-zero</td><td>Within the limits. Success. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02482">2482</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00141">cc_request_count</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00137">global_cc_max_requests</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03132">cc_caller_requested()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">cc_interfaces_datastore_init()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">ccreq_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;{</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a9ba9ea400c5348fb9283442abcdd40f8">cc_request_count</a> &lt; <a class="code" href="../../d3/d5a/ccss_8c.html#a4a80bcf12d1976a90ad79ba7ba07dec4">global_cc_max_requests</a>;</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a4a80bcf12d1976a90ad79ba7ba07dec4"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a4a80bcf12d1976a90ad79ba7ba07dec4">global_cc_max_requests</a></div><div class="ttdeci">static unsigned int global_cc_max_requests</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00137">ccss.c:137</a></div></div>
<div class="ttc" id="ccss_8c_html_a9ba9ea400c5348fb9283442abcdd40f8"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a9ba9ea400c5348fb9283442abcdd40f8">cc_request_count</a></div><div class="ttdeci">static int cc_request_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00141">ccss.c:141</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aff385fab8f65af97b5c6434dfdf2188d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff385fab8f65af97b5c6434dfdf2188d">&#9670;&nbsp;</a></span>ast_cc_set_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_set_param </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set a CCSS configuration parameter, given its name </p>
<dl class="section note"><dt>Note</dt><dd>Useful when parsing config files when used in conjunction with ast_ccss_is_cc_config_param.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>The parameter structure to set the value on </td></tr>
    <tr><td class="paramname">name</td><td>The name of the cc parameter </td></tr>
    <tr><td class="paramname">value</td><td>The value of the parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">804</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00965">ast_set_cc_agent_dialstring()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00871">ast_set_cc_agent_policy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01004">ast_set_cc_callback_macro()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01014">ast_set_cc_callback_sub()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00979">ast_set_cc_max_agents()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00989">ast_set_cc_max_monitors()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00888">ast_set_cc_monitor_policy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00905">ast_set_cc_offer_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00935">ast_set_cc_recall_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00950">ast_set_ccbs_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00920">ast_set_ccnr_available_timer()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00698">str_to_agent_policy()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00712">str_to_monitor_policy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d97/func__callcompletion_8c_source.html#l00091">acf_cc_write()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31631">build_peer()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17900">process_dahdi()</a>.</p>
<div class="fragment"><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;{</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value_as_uint;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_agent_policy&quot;</span>)) {</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a0548ae937919c6a5a39fedf977a68aad">ast_set_cc_agent_policy</a>(params, <a class="code" href="../../d3/d5a/ccss_8c.html#a91e5b91aa90c8e5426a1b7657f00c4bb">str_to_agent_policy</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>));</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_monitor_policy&quot;</span>)) {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a936cee61a1b12185670b60b87e275247">ast_set_cc_monitor_policy</a>(params, <a class="code" href="../../d3/d5a/ccss_8c.html#a89ed8f86f1673334c9a2614ce01b2c33">str_to_monitor_policy</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>));</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_agent_dialstring&quot;</span>)) {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a6818b647740d8b4db35e00d35eea051b">ast_set_cc_agent_dialstring</a>(params, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_callback_macro&quot;</span>)) {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a63ef8af3638a4314ad5b34e44fddef29">ast_set_cc_callback_macro</a>(params, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_callback_sub&quot;</span>)) {</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a4e542a0dc94efc308fa4ebfb44ea1334">ast_set_cc_callback_sub</a>(params, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;   }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <span class="keywordflow">if</span> (sscanf(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;%30u&quot;</span>, &amp;value_as_uint) != 1) {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;   }</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_offer_timer&quot;</span>)) {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a6dfcd270d2c3a496e414254026c74037">ast_set_cc_offer_timer</a>(params, value_as_uint);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;ccnr_available_timer&quot;</span>)) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a8c769b1f90df2ee4cbc79464c922d9d5">ast_set_ccnr_available_timer</a>(params, value_as_uint);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;ccbs_available_timer&quot;</span>)) {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a2960d62931ad8f57b39caa99a7fbde48">ast_set_ccbs_available_timer</a>(params, value_as_uint);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_max_agents&quot;</span>)) {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a710f0f5e8e10406417579d2a553865d4">ast_set_cc_max_agents</a>(params, value_as_uint);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_max_monitors&quot;</span>)) {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a1150342e53b603c8af4f65468a4b21ae">ast_set_cc_max_monitors</a>(params, value_as_uint);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_recall_timer&quot;</span>)) {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a952db7996fc34fb7c527d550ac31aa2d">ast_set_cc_recall_timer</a>(params, value_as_uint);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s is not a valid CC parameter. Ignoring.\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;   }</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a4e542a0dc94efc308fa4ebfb44ea1334"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a4e542a0dc94efc308fa4ebfb44ea1334">ast_set_cc_callback_sub</a></div><div class="ttdeci">void ast_set_cc_callback_sub(struct ast_cc_config_params *config, const char *const value)</div><div class="ttdoc">Set the callback subroutine name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01014">ccss.c:1014</a></div></div>
<div class="ttc" id="ccss_8c_html_a6818b647740d8b4db35e00d35eea051b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6818b647740d8b4db35e00d35eea051b">ast_set_cc_agent_dialstring</a></div><div class="ttdeci">void ast_set_cc_agent_dialstring(struct ast_cc_config_params *config, const char *const value)</div><div class="ttdoc">Set the cc_agent_dialstring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00965">ccss.c:965</a></div></div>
<div class="ttc" id="ccss_8c_html_a89ed8f86f1673334c9a2614ce01b2c33"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a89ed8f86f1673334c9a2614ce01b2c33">str_to_monitor_policy</a></div><div class="ttdeci">static enum ast_cc_monitor_policies str_to_monitor_policy(const char *const value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00712">ccss.c:712</a></div></div>
<div class="ttc" id="ccss_8c_html_a2960d62931ad8f57b39caa99a7fbde48"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a2960d62931ad8f57b39caa99a7fbde48">ast_set_ccbs_available_timer</a></div><div class="ttdeci">void ast_set_ccbs_available_timer(struct ast_cc_config_params *config, unsigned int value)</div><div class="ttdoc">Set the ccbs_available_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00950">ccss.c:950</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="ccss_8c_html_a936cee61a1b12185670b60b87e275247"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a936cee61a1b12185670b60b87e275247">ast_set_cc_monitor_policy</a></div><div class="ttdeci">int ast_set_cc_monitor_policy(struct ast_cc_config_params *config, enum ast_cc_monitor_policies value)</div><div class="ttdoc">Set the cc_monitor_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00888">ccss.c:888</a></div></div>
<div class="ttc" id="ccss_8c_html_a1150342e53b603c8af4f65468a4b21ae"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1150342e53b603c8af4f65468a4b21ae">ast_set_cc_max_monitors</a></div><div class="ttdeci">void ast_set_cc_max_monitors(struct ast_cc_config_params *config, unsigned int value)</div><div class="ttdoc">Set the cc_max_monitors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00989">ccss.c:989</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="ccss_8c_html_a6dfcd270d2c3a496e414254026c74037"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6dfcd270d2c3a496e414254026c74037">ast_set_cc_offer_timer</a></div><div class="ttdeci">void ast_set_cc_offer_timer(struct ast_cc_config_params *config, unsigned int value)</div><div class="ttdoc">Set the cc_offer_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00905">ccss.c:905</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="ccss_8c_html_a91e5b91aa90c8e5426a1b7657f00c4bb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a91e5b91aa90c8e5426a1b7657f00c4bb">str_to_agent_policy</a></div><div class="ttdeci">static enum ast_cc_agent_policies str_to_agent_policy(const char *const value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00698">ccss.c:698</a></div></div>
<div class="ttc" id="ccss_8c_html_a8c769b1f90df2ee4cbc79464c922d9d5"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8c769b1f90df2ee4cbc79464c922d9d5">ast_set_ccnr_available_timer</a></div><div class="ttdeci">void ast_set_ccnr_available_timer(struct ast_cc_config_params *config, unsigned int value)</div><div class="ttdoc">Set the ccnr_available_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00920">ccss.c:920</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="ccss_8c_html_a952db7996fc34fb7c527d550ac31aa2d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a952db7996fc34fb7c527d550ac31aa2d">ast_set_cc_recall_timer</a></div><div class="ttdeci">void ast_set_cc_recall_timer(struct ast_cc_config_params *config, unsigned int value)</div><div class="ttdoc">Set the cc_recall_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00935">ccss.c:935</a></div></div>
<div class="ttc" id="ccss_8c_html_a710f0f5e8e10406417579d2a553865d4"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a710f0f5e8e10406417579d2a553865d4">ast_set_cc_max_agents</a></div><div class="ttdeci">void ast_set_cc_max_agents(struct ast_cc_config_params *config, unsigned int value)</div><div class="ttdoc">Set the cc_max_agents. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00979">ccss.c:979</a></div></div>
<div class="ttc" id="ccss_8c_html_a0548ae937919c6a5a39fedf977a68aad"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a0548ae937919c6a5a39fedf977a68aad">ast_set_cc_agent_policy</a></div><div class="ttdeci">int ast_set_cc_agent_policy(struct ast_cc_config_params *config, enum ast_cc_agent_policies value)</div><div class="ttdoc">Set the cc_agent_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00871">ccss.c:871</a></div></div>
<div class="ttc" id="ccss_8c_html_a63ef8af3638a4314ad5b34e44fddef29"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a63ef8af3638a4314ad5b34e44fddef29">ast_set_cc_callback_macro</a></div><div class="ttdeci">void ast_set_cc_callback_macro(struct ast_cc_config_params *config, const char *const value)</div><div class="ttdoc">Set the callback_macro name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01004">ccss.c:1004</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a46199282e56a1def66a4f406e64e1690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46199282e56a1def66a4f406e64e1690">&#9670;&nbsp;</a></span>ast_get_cc_agent_dialstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_cc_agent_dialstring </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_agent_dialstring. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the cc_agent_dialstring from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cc_agent_dialstring from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00960">960</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00172">ast_cc_config_params::cc_agent_dialstring</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;{</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ab0be411f963b2bab84d9743de6471de4">cc_agent_dialstring</a>;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_ab0be411f963b2bab84d9743de6471de4"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#ab0be411f963b2bab84d9743de6471de4">ast_cc_config_params::cc_agent_dialstring</a></div><div class="ttdeci">char cc_agent_dialstring[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00172">ccss.c:172</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9973d81440cb95d7ca720ef1e331c5cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9973d81440cb95d7ca720ef1e331c5cd">&#9670;&nbsp;</a></span>ast_get_cc_agent_policy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a> ast_get_cc_agent_policy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_agent_policy. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the policy from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current cc_agent_policy for this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00866">866</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00162">ast_cc_config_params::cc_agent_policy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02409">ast_cc_call_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31631">build_peer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01269">find_agent_callbacks()</a>.</p>
<div class="fragment"><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;{</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ab9a4ee96da0929d482715d0ec0b42f14">cc_agent_policy</a>;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_ab9a4ee96da0929d482715d0ec0b42f14"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#ab9a4ee96da0929d482715d0ec0b42f14">ast_cc_config_params::cc_agent_policy</a></div><div class="ttdeci">enum ast_cc_agent_policies cc_agent_policy</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00162">ccss.c:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b7a459ee48682680795c741e748c086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b7a459ee48682680795c741e748c086">&#9670;&nbsp;</a></span>ast_get_cc_callback_macro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_cc_callback_macro </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the name of the callback_macro. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the callback_macro from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The callback_macro name </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00994">994</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00170">ast_cc_config_params::cc_callback_macro</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>.</p>
<div class="fragment"><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;{</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a8d8d88aab95d45810b668b8ec0476cff">cc_callback_macro</a>;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_a8d8d88aab95d45810b668b8ec0476cff"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a8d8d88aab95d45810b668b8ec0476cff">ast_cc_config_params::cc_callback_macro</a></div><div class="ttdeci">char cc_callback_macro[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00170">ccss.c:170</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acccfe3f2b9de8a7009e02e2972ca6be5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acccfe3f2b9de8a7009e02e2972ca6be5">&#9670;&nbsp;</a></span>ast_get_cc_callback_sub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_cc_callback_sub </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the name of the callback subroutine. </p>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the callback_sub from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The callback_sub name </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00999">999</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00171">ast_cc_config_params::cc_callback_sub</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>.</p>
<div class="fragment"><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;{</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a5546bc74ce5a62ffb55979aae2a48a3d">cc_callback_sub</a>;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_a5546bc74ce5a62ffb55979aae2a48a3d"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a5546bc74ce5a62ffb55979aae2a48a3d">ast_cc_config_params::cc_callback_sub</a></div><div class="ttdeci">char cc_callback_sub[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00171">ccss.c:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ff8c9d10dfd21673fe3dd8177cc0769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff8c9d10dfd21673fe3dd8177cc0769">&#9670;&nbsp;</a></span>ast_get_cc_max_agents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_get_cc_max_agents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_max_agents. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the cc_max_agents from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cc_max_agents from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00974">974</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00168">ast_cc_config_params::cc_max_agents</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;{</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#aedff939baf9204c702f9cb108f5f4a5f">cc_max_agents</a>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_aedff939baf9204c702f9cb108f5f4a5f"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#aedff939baf9204c702f9cb108f5f4a5f">ast_cc_config_params::cc_max_agents</a></div><div class="ttdeci">unsigned int cc_max_agents</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00168">ccss.c:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3b3862d5a0cd857a5c49c3b83d9fad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3b3862d5a0cd857a5c49c3b83d9fad7">&#9670;&nbsp;</a></span>ast_get_cc_max_monitors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_get_cc_max_monitors </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_max_monitors. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the cc_max_monitors from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cc_max_monitors from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00984">984</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00169">ast_cc_config_params::cc_max_monitors</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04149">ast_queue_cc_frame()</a>.</p>
<div class="fragment"><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;{</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a533b914187ee30ef544de99511ff1e19">cc_max_monitors</a>;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_a533b914187ee30ef544de99511ff1e19"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a533b914187ee30ef544de99511ff1e19">ast_cc_config_params::cc_max_monitors</a></div><div class="ttdeci">unsigned int cc_max_monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00169">ccss.c:169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aafed4bcde7e857db88ca60471e709a55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafed4bcde7e857db88ca60471e709a55">&#9670;&nbsp;</a></span>ast_get_cc_monitor_policy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a> ast_get_cc_monitor_policy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_monitor_policy. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the cc_monitor_policy from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cc_monitor_policy retrieved from the configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00883">883</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00163">ast_cc_config_params::cc_monitor_policy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l00987">analog_call()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04199">ast_cc_call_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13729">dahdi_cc_callback()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02322">sip_handle_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;{</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a0f68986418b60fc4d2b2022972d46c9d">cc_monitor_policy</a>;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_a0f68986418b60fc4d2b2022972d46c9d"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a0f68986418b60fc4d2b2022972d46c9d">ast_cc_config_params::cc_monitor_policy</a></div><div class="ttdeci">enum ast_cc_monitor_policies cc_monitor_policy</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00163">ccss.c:163</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a38cd4e661213322b65b7660a8b50027c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38cd4e661213322b65b7660a8b50027c">&#9670;&nbsp;</a></span>ast_get_cc_offer_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_get_cc_offer_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_offer_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the cc_offer_timer from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cc_offer_timer from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00900">900</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00164">ast_cc_config_params::cc_offer_timer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02703">cc_generic_agent_start_offer_timer()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01915">sip_cc_agent_start_offer_timer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;{</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#abc8741c09b180fcaecdffa60da7e15e3">cc_offer_timer</a>;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_abc8741c09b180fcaecdffa60da7e15e3"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#abc8741c09b180fcaecdffa60da7e15e3">ast_cc_config_params::cc_offer_timer</a></div><div class="ttdeci">unsigned int cc_offer_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00164">ccss.c:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a017388f7e4b902e8caac6458e586f47a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a017388f7e4b902e8caac6458e586f47a">&#9670;&nbsp;</a></span>ast_get_cc_recall_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_get_cc_recall_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_recall_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the cc_recall_timer from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cc_recall_timer from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00930">930</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00167">ast_cc_config_params::cc_recall_timer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>.</p>
<div class="fragment"><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;{</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a21d3f6a9da6aa37bc402a3780b7fb370">cc_recall_timer</a>;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_a21d3f6a9da6aa37bc402a3780b7fb370"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a21d3f6a9da6aa37bc402a3780b7fb370">ast_cc_config_params::cc_recall_timer</a></div><div class="ttdeci">unsigned int cc_recall_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00167">ccss.c:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a76d377a378c28013504d3b2f4a335764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76d377a378c28013504d3b2f4a335764">&#9670;&nbsp;</a></span>ast_get_ccbs_available_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_get_ccbs_available_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ccbs_available_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the ccbs_available_timer from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The ccbs_available_timer from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00945">945</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00166">ast_cc_config_params::ccbs_available_timer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02102">sip_cc_monitor_request_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;{</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ac3958bd9f86c49b095d7509e12baa224">ccbs_available_timer</a>;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_ac3958bd9f86c49b095d7509e12baa224"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#ac3958bd9f86c49b095d7509e12baa224">ast_cc_config_params::ccbs_available_timer</a></div><div class="ttdeci">unsigned int ccbs_available_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00166">ccss.c:166</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c56a61357eecdf10b801914b367f59f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c56a61357eecdf10b801914b367f59f">&#9670;&nbsp;</a></span>ast_get_ccnr_available_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_get_ccnr_available_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ccnr_available_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the ccnr_available_timer from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The ccnr_available_timer from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00915">915</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00165">ast_cc_config_params::ccnr_available_timer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02102">sip_cc_monitor_request_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;{</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a38ef5c9ac4dde551b997375a753da719">ccnr_available_timer</a>;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_a38ef5c9ac4dde551b997375a753da719"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a38ef5c9ac4dde551b997375a753da719">ast_cc_config_params::ccnr_available_timer</a></div><div class="ttdeci">unsigned int ccnr_available_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00165">ccss.c:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fdb7f0c8ccf479ea573a08e66693da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fdb7f0c8ccf479ea573a08e66693da1">&#9670;&nbsp;</a></span>ast_handle_cc_control_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_handle_cc_control_frame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>inbound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>outbound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>frame_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Properly react to a CC control frame. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When a CC-capable application, such as Dial, receives a frame of type AST_CONTROL_CC, then it may call this function in order to have the device which sent the frame added to the tree of interfaces which is kept on the inbound channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inbound</td><td>The inbound channel </td></tr>
    <tr><td class="paramname">outbound</td><td>The outbound channel (The one from which the CC frame was read) </td></tr>
    <tr><td class="paramname">frame_data</td><td>The <a class="el" href="../../d0/d99/structast__frame.html" title="Data structure associated with a single frame of data. ">ast_frame</a>'s data.ptr field. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td>Unless we are ignoring CC for some reason, we will always call this function when we read an AST_CONTROL_CC frame from an outbound channel.</td></tr>
  </table>
  </dd>
</dl>
<p>This function will call cc_device_monitor_init to create the new cc_monitor for the device from which we read the frame. In addition, the new device will be added to the monitor tree on the <a class="el" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> datastore on the inbound channel.</p>
<p>If this is the first AST_CONTROL_CC frame that we have handled for this call, then we will also initialize the CC core for this call. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">2316</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00302">AST_CONTROL_CC</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04698">ast_indicate_data()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02216">call_destructor_with_no_monitor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02250">cc_device_monitor_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02050">cc_extension_monitor_change_is_valid()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01063">cc_publish_available()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00412">cc_service_to_string()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01911">dialed_cc_interfaces::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00293">cc_control_payload::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00305">cc_control_payload::dialstring</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00543">ast_cc_monitor::dialstring</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01917">dialed_cc_interfaces::ignore</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01929">dialed_cc_interfaces::interface_tree</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01925">dialed_cc_interfaces::is_original_caller</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00240">cc_control_payload::monitor_type</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00524">ast_cc_monitor::parent_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00257">cc_control_payload::private_data</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00266">cc_control_payload::service</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04232">ast_cc_busy_interface()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04199">ast_cc_call_failed()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01202">wait_for_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;{</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;   <span class="keywordtype">char</span> *device_name;</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;   <span class="keywordtype">char</span> *dialstring;</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *cc_datastore;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *cc_interfaces;</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> *cc_data = frame_data;</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;   device_name = cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>;</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;   dialstring = cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">dialstring</a>;</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(inbound);</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;   <span class="keywordflow">if</span> (!(cc_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(inbound, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to retrieve CC datastore while processing CC frame from &#39;%s&#39;. CC services will be unavailable.\n&quot;</span>, device_name);</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(inbound);</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;   }</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;   cc_interfaces = cc_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;   <span class="keywordflow">if</span> (cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">ignore</a>) {</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(inbound);</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;   }</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;   <span class="keywordflow">if</span> (!cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a669c0daceb501dfa4e4117c8baa54af4">is_original_caller</a>) {</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;      <span class="comment">/* If the is_original_caller is not set on the *inbound* channel, then</span></div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;<span class="comment">       * it must be a local channel. As such, we do not want to create a core instance</span></div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;<span class="comment">       * or an agent for the local channel. Instead, we want to pass this along to the</span></div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="comment">       * other side of the local channel so that the original caller can benefit.</span></div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(inbound);</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aa8c3522af1bc639cbd5b38f5fdf171fa">ast_indicate_data</a>(inbound, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a">AST_CONTROL_CC</a>, cc_data, <span class="keyword">sizeof</span>(*cc_data));</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;   }</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;   core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;      core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a883996adb857c5c518bad2b0a968ece3">cc_core_init_instance</a>(inbound, cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>,</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;         cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, cc_data);</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;      <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;         cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">ignore</a> = 1;</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(inbound);</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;      }</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;   }</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(inbound);</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;   <span class="comment">/* Yeah this kind of sucks, but luckily most people</span></div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;<span class="comment">    * aren&#39;t dialing thousands of interfaces on every call</span></div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;<span class="comment">    * This traversal helps us to not create duplicate monitors in</span></div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;<span class="comment">    * case a device queues multiple CC control frames.</span></div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>, monitor, next) {</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;      <span class="keywordflow">if</span> (!strcmp(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, device_name)) {</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: Device %s sent us multiple CC control frames. Ignoring those beyond the first.\n&quot;</span>,</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;               core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, device_name);</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Returning early from ast_handle_cc_control_frame. Unref core_instance&quot;</span>);</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;      }</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;   }</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;   <span class="keywordflow">if</span> (!(monitor = <a class="code" href="../../d3/d5a/ccss_8c.html#a8524619abdbaec9e4bd6fdd84850134f">cc_device_monitor_init</a>(device_name, dialstring, cc_data, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>))) {</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create CC device interface for &#39;%s&#39;. CC services will be unavailable on this interface.\n&quot;</span>, device_name);</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Returning early from ast_handle_cc_control_frame. Unref core_instance&quot;</span>);</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;   }</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(monitor, <span class="stringliteral">&quot;monitor tree&#39;s reference to the monitor&quot;</span>);</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>, monitor, next);</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a>(core_instance, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a>, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, 0);</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a29b0d8cf8711086886f1a4ecbf982924">cc_publish_available</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, device_name, <a class="code" href="../../d3/d5a/ccss_8c.html#aedf564e8503a7fb86cca56e1ab9dffe0">cc_service_to_string</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>));</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Done with core_instance after handling CC control frame&quot;</span>);</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Unref reference from allocating monitor&quot;</span>);</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_aedf564e8503a7fb86cca56e1ab9dffe0"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aedf564e8503a7fb86cca56e1ab9dffe0">cc_service_to_string</a></div><div class="ttdeci">static const char * cc_service_to_string(enum ast_cc_service_type service)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00412">ccss.c:412</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structcc__control__payload_html"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a></div><div class="ttdoc">The payload for an AST_CONTROL_CC frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00222">ccss.c:222</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structcc__control__payload_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">cc_control_payload::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Private data allocated by the callee. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00257">ccss.c:257</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="ccss_8c_html_ad39ed21a94e1c1b887370e1bb8160737"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a></div><div class="ttdeci">static void call_destructor_with_no_monitor(const char *const monitor_type, void *private_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02216">ccss.c:2216</a></div></div>
<div class="ttc" id="channel_8h_html_aa8c3522af1bc639cbd5b38f5fdf171fa"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8c3522af1bc639cbd5b38f5fdf171fa">ast_indicate_data</a></div><div class="ttdeci">int ast_indicate_data(struct ast_channel *chan, int condition, const void *data, size_t datalen)</div><div class="ttdoc">Indicates condition of channel, with payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04698">channel.c:4698</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a29b0d8cf8711086886f1a4ecbf982924"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a29b0d8cf8711086886f1a4ecbf982924">cc_publish_available</a></div><div class="ttdeci">static void cc_publish_available(int core_id, const char *callee, const char *service)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01063">ccss.c:1063</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="ccss_8c_html_aaf2435c66b53e4ebc6b4048228533132"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a></div><div class="ttdeci">static void cc_extension_monitor_change_is_valid(struct cc_core_instance *core_instance, unsigned int parent_id, const char *const device_name, int is_valid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02050">ccss.c:2050</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_aa006ee07d29b867657a17cdf39aae0cb"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">ast_cc_monitor::parent_id</a></div><div class="ttdeci">unsigned int parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00524">ccss.h:524</a></div></div>
<div class="ttc" id="ccss_8c_html_a8524619abdbaec9e4bd6fdd84850134f"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8524619abdbaec9e4bd6fdd84850134f">cc_device_monitor_init</a></div><div class="ttdeci">static struct ast_cc_monitor * cc_device_monitor_init(const char *const device_name, const char *const dialstring, const struct cc_control_payload *cc_data, int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02250">ccss.c:2250</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="ccss_8c_html_a883996adb857c5c518bad2b0a968ece3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a883996adb857c5c518bad2b0a968ece3">cc_core_init_instance</a></div><div class="ttdeci">static struct cc_core_instance * cc_core_init_instance(struct ast_channel *caller_chan, struct cc_monitor_tree *called_tree, const int core_id, struct cc_control_payload *cc_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02940">ccss.c:2940</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a2ea75e3f4fd722a2b68bd2bac608a2d3"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">cc_control_payload::device_name</a></div><div class="ttdeci">char device_name[AST_CHANNEL_NAME]</div><div class="ttdoc">Name of device to be monitored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00293">ccss.c:293</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a">AST_CONTROL_CC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00302">include/asterisk/frame.h:302</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a7db03a99f804d3d6a75a07b2d02ea399"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">cc_control_payload::dialstring</a></div><div class="ttdeci">char dialstring[AST_CHANNEL_NAME]</div><div class="ttdoc">Recall dialstring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00305">ccss.c:305</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a669c0daceb501dfa4e4117c8baa54af4"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a669c0daceb501dfa4e4117c8baa54af4">dialed_cc_interfaces::is_original_caller</a></div><div class="ttdeci">char is_original_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01925">ccss.c:1925</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a495cc24c1947d49a2b6de488a45c9d72">cc_control_payload::service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdoc">Service offered by the endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00266">ccss.c:266</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">dialed_cc_interfaces::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01929">ccss.c:1929</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">dialed_cc_interfaces::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01911">ccss.c:1911</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">dialed_cc_interfaces::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01917">ccss.c:1917</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">cc_control_payload::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor to allocate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00240">ccss.c:240</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a29bd22ae74dbfefbcb8bec022cf2f173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29bd22ae74dbfefbcb8bec022cf2f173">&#9670;&nbsp;</a></span>ast_ignore_cc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_ignore_cc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the channel to ignore further CC activity. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When a CC-capable application, such as Dial, has finished with all CC processing for a channel and knows that any further CC processing should be ignored, this function should be called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel for which further CC processing should be ignored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03720">3720</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01917">dialed_cc_interfaces::ignore</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03373">cc_recall_ds_data::ignore</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l00930">do_forward()</a>.</p>
<div class="fragment"><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;{</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *cc_datastore;</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *cc_recall_datastore;</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *cc_interfaces;</div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_cc_data;</div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;   <span class="keywordflow">if</span> ((cc_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;      cc_interfaces = cc_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;      cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">ignore</a> = 1;</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;   }</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;</div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;   <span class="keywordflow">if</span> ((cc_recall_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;      recall_cc_data = cc_recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;      recall_cc_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a98a0af0698beae3b2032cffb69d02094">ignore</a> = 1;</div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;   }</div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a98a0af0698beae3b2032cffb69d02094">cc_recall_ds_data::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03373">ccss.c:3373</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="ccss_8c_html_a010707a1d95ff32920705c9320a94bcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info recall_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03399">ccss.c:3399</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">dialed_cc_interfaces::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01917">ccss.c:1917</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac83e01d7016c2eca52aa5748e91e1cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac83e01d7016c2eca52aa5748e91e1cd9">&#9670;&nbsp;</a></span>ast_queue_cc_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_queue_cc_frame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>monitor_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a>&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue an AST_CONTROL_CC frame. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Since this function calls ast_queue_frame, the channel will be locked during the course of this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel onto which to queue the frame </td></tr>
    <tr><td class="paramname">monitor_type</td><td>The type of monitor to use when CC is requested </td></tr>
    <tr><td class="paramname">dialstring</td><td>The dial string used to call the device </td></tr>
    <tr><td class="paramname">service</td><td>The type of CC service the device is willing to offer </td></tr>
    <tr><td class="paramname">private_data</td><td>If a native monitor is being used, and some channel-driver-specific private data has been allocated, then this parameter should contain a pointer to that data. If using a generic monitor, this parameter should remain NULL. Note that if this function should fail at some point, it is the responsibility of the caller to free the private data upon return. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04149">4149</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04176">ast_cc_build_frame()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04368">ast_cc_monitor_count()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10675">ast_channel_get_cc_config_params()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10697">ast_channel_get_device_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00172">AST_CHANNEL_NAME</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00984">ast_get_cc_max_monitors()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01139">ast_queue_frame()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, and <a class="el" href="../../db/d37/hsearch_8c_source.html#l00050">retval</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l00987">analog_call()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02322">sip_handle_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;{</div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> frame = {0,};</div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;   <span class="keywordtype">char</span> device_name[<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>];</div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../db/d37/hsearch_8c.html#ad0f0f85b3cab490a81baa02c4b9edf45">retval</a>;</div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params;</div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;</div><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;   cc_params = <a class="code" href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a>(chan);</div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;   <span class="keywordflow">if</span> (!cc_params) {</div><div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;   }</div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a>(chan, device_name, <span class="keyword">sizeof</span>(device_name));</div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a8b924db79cc74e212c0f11b978bdcacd">ast_cc_monitor_count</a>(device_name, monitor_type) &gt;= <a class="code" href="../../d3/d5a/ccss_8c.html#ab3b3862d5a0cd857a5c49c3b83d9fad7">ast_get_cc_max_monitors</a>(cc_params)) {</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Not queuing a CC frame for device %s since it already has its maximum monitors allocated\n&quot;</span>, device_name);</div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;   }</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;</div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a950699e580ab7fc1f96db1a6608fcdf4">ast_cc_build_frame</a>(chan, cc_params, monitor_type, device_name, dialstring, <a class="code" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, private_data, &amp;frame)) {</div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;      <span class="comment">/* Frame building failed. We can&#39;t use this. */</span></div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;   }</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;   retval = <a class="code" href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a>(chan, &amp;frame);</div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;   <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(&amp;frame);</div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d37/hsearch_8c.html#ad0f0f85b3cab490a81baa02c4b9edf45">retval</a>;</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;}</div><div class="ttc" id="channel_8h_html_a7df9da0e99e443d7ae13dc07bbc57dcd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a></div><div class="ttdeci">struct ast_cc_config_params * ast_channel_get_cc_config_params(struct ast_channel *chan)</div><div class="ttdoc">Get the CCSS parameters from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10675">channel.c:10675</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a6cbcba5661d55216968cde8fdf913c89"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a></div><div class="ttdeci">int ast_queue_frame(struct ast_channel *chan, struct ast_frame *f)</div><div class="ttdoc">Queue one or more frames to a channel&amp;#39;s frame queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01139">channel.c:1139</a></div></div>
<div class="ttc" id="ccss_8c_html_a950699e580ab7fc1f96db1a6608fcdf4"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a950699e580ab7fc1f96db1a6608fcdf4">ast_cc_build_frame</a></div><div class="ttdeci">int ast_cc_build_frame(struct ast_channel *chan, struct ast_cc_config_params *cc_params, const char *monitor_type, const char *const device_name, const char *const dialstring, enum ast_cc_service_type service, void *private_data, struct ast_frame *frame)</div><div class="ttdoc">Create a CC Control frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04176">ccss.c:4176</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="channel_8h_html_ab57c278099ea5f8d7cedbb41eba58b56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a></div><div class="ttdeci">#define AST_CHANNEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00172">channel.h:172</a></div></div>
<div class="ttc" id="structast__cc__config__params_html"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00161">ccss.c:161</a></div></div>
<div class="ttc" id="ccss_8c_html_ab3b3862d5a0cd857a5c49c3b83d9fad7"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ab3b3862d5a0cd857a5c49c3b83d9fad7">ast_get_cc_max_monitors</a></div><div class="ttdeci">unsigned int ast_get_cc_max_monitors(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_max_monitors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00984">ccss.c:984</a></div></div>
<div class="ttc" id="hsearch_8c_html_ad0f0f85b3cab490a81baa02c4b9edf45"><div class="ttname"><a href="../../db/d37/hsearch_8c.html#ad0f0f85b3cab490a81baa02c4b9edf45">retval</a></div><div class="ttdeci">static ENTRY retval</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d37/hsearch_8c_source.html#l00050">hsearch.c:50</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="channel_8h_html_a1677fd1f6e2cab646aeb76db8a044c2e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a></div><div class="ttdeci">int ast_channel_get_device_name(struct ast_channel *chan, char *device_name, size_t name_buffer_length)</div><div class="ttdoc">Get a device name given its channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10697">channel.c:10697</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="ccss_8c_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00383">ccss.c:383</a></div></div>
<div class="ttc" id="ccss_8c_html_a8b924db79cc74e212c0f11b978bdcacd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8b924db79cc74e212c0f11b978bdcacd">ast_cc_monitor_count</a></div><div class="ttdeci">int ast_cc_monitor_count(const char *const name, const char *const type)</div><div class="ttdoc">Return the number of outstanding CC requests to a specific device. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04368">ccss.c:4368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6818b647740d8b4db35e00d35eea051b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6818b647740d8b4db35e00d35eea051b">&#9670;&nbsp;</a></span>ast_set_cc_agent_dialstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_agent_dialstring </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_agent_dialstring. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_agent_dialstring on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_agent_dialstring we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00965">965</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00172">ast_cc_config_params::cc_agent_dialstring</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;{</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)) {</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ab0be411f963b2bab84d9743de6471de4">cc_agent_dialstring</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ab0be411f963b2bab84d9743de6471de4">cc_agent_dialstring</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="keyword">sizeof</span>(config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ab0be411f963b2bab84d9743de6471de4">cc_agent_dialstring</a>));</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_ab0be411f963b2bab84d9743de6471de4"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#ab0be411f963b2bab84d9743de6471de4">ast_cc_config_params::cc_agent_dialstring</a></div><div class="ttdeci">char cc_agent_dialstring[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00172">ccss.c:172</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0548ae937919c6a5a39fedf977a68aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0548ae937919c6a5a39fedf977a68aad">&#9670;&nbsp;</a></span>ast_set_cc_agent_policy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_set_cc_agent_policy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_agent_policy. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_agent_policy on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_agent_policy we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure (likely due to bad input) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00871">871</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00053">AST_CC_AGENT_GENERIC</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00162">ast_cc_config_params::cc_agent_policy</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31631">build_peer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;{</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;   <span class="comment">/* Screw C and its weak type checking for making me have to do this</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">    * validation at runtime.</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   <span class="keywordflow">if</span> (value &lt; AST_CC_AGENT_NEVER || value &gt; <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a>) {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;   }</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ab9a4ee96da0929d482715d0ec0b42f14">cc_agent_policy</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;}</div><div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00053">ccss.h:53</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_ab9a4ee96da0929d482715d0ec0b42f14"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#ab9a4ee96da0929d482715d0ec0b42f14">ast_cc_config_params::cc_agent_policy</a></div><div class="ttdeci">enum ast_cc_agent_policies cc_agent_policy</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00162">ccss.c:162</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a63ef8af3638a4314ad5b34e44fddef29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63ef8af3638a4314ad5b34e44fddef29">&#9670;&nbsp;</a></span>ast_set_cc_callback_macro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_callback_macro </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the callback_macro name. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the callback_macro on </td></tr>
    <tr><td class="paramname">value</td><td>The new callback macro we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01004">1004</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00170">ast_cc_config_params::cc_callback_macro</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;{</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Usage of cc_callback_macro is deprecated.  Please use cc_callback_sub instead.\n&quot;</span>);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)) {</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a8d8d88aab95d45810b668b8ec0476cff">cc_callback_macro</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a8d8d88aab95d45810b668b8ec0476cff">cc_callback_macro</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="keyword">sizeof</span>(config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a8d8d88aab95d45810b668b8ec0476cff">cc_callback_macro</a>));</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   }</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_a8d8d88aab95d45810b668b8ec0476cff"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a8d8d88aab95d45810b668b8ec0476cff">ast_cc_config_params::cc_callback_macro</a></div><div class="ttdeci">char cc_callback_macro[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00170">ccss.c:170</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e542a0dc94efc308fa4ebfb44ea1334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e542a0dc94efc308fa4ebfb44ea1334">&#9670;&nbsp;</a></span>ast_set_cc_callback_sub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_callback_sub </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the callback subroutine name. </p>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the callback_sub on </td></tr>
    <tr><td class="paramname">value</td><td>The new callback subroutine we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01014">1014</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00171">ast_cc_config_params::cc_callback_sub</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;{</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)) {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a5546bc74ce5a62ffb55979aae2a48a3d">cc_callback_sub</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a5546bc74ce5a62ffb55979aae2a48a3d">cc_callback_sub</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="keyword">sizeof</span>(config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a5546bc74ce5a62ffb55979aae2a48a3d">cc_callback_sub</a>));</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   }</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_a5546bc74ce5a62ffb55979aae2a48a3d"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a5546bc74ce5a62ffb55979aae2a48a3d">ast_cc_config_params::cc_callback_sub</a></div><div class="ttdeci">char cc_callback_sub[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00171">ccss.c:171</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a96b06671059cd5d6600917d1c028452f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96b06671059cd5d6600917d1c028452f">&#9670;&nbsp;</a></span>ast_set_cc_interfaces_chanvar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_set_cc_interfaces_chanvar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>extension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the CC_INTERFACES channel variable for a channel using an. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 <pre class="fragment">extension@context </pre> as a starting point</dd></dl>
<p>The CC_INTERFACES channel variable will have the interfaces that should be called back for a specific PBX instance. This version of the function is used mainly by local channels, wherein we need to set CC_INTERFACES based on an extension and context that appear in the middle of the tree of dialed interfaces.</p>
<dl class="section note"><dt>Note</dt><dd>This function will lock the channel as well as the list of monitors stored on the channel's CC recall datastore, though neither are held at the same time. Callers of this function should be aware of potential lock ordering problems that may arise.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel to set the CC_INTERFACES variable on </td></tr>
    <tr><td class="paramname">extension</td><td>The name of the extension for which we're setting the variable. This should be in the form of<pre class="fragment">exten@context </pre> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03668">3668</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03588">build_cc_interfaces_chanvar()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03375">cc_recall_ds_data::interface_tree</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d47/core__local_8c_source.html#l00677">local_call()</a>.</p>
<div class="fragment"><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;{</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *recall_datastore;</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *interface_tree;</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter;</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_data;</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(64);</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;   <span class="keywordtype">int</span> core_id;</div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;   <span class="keywordflow">if</span> (!str) {</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;   }</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;   <span class="keywordflow">if</span> (!(recall_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;   }</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;   recall_data = recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;   interface_tree = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>;</div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;   core_id = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(interface_tree);</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(interface_tree, monitor_iter, next) {</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;      <span class="keywordflow">if</span> (!strcmp(monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, <a class="code" href="../../d0/d5a/structextension.html">extension</a>)) {</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;      }</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;   }</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;   <span class="keywordflow">if</span> (!monitor_iter) {</div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;      <span class="comment">/* We couldn&#39;t find this extension. This may be because</span></div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;<span class="comment">       * we have been directed into an unexpected extension because</span></div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;<span class="comment">       * the admin has changed a CC_INTERFACES variable at some point.</span></div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;   }</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;</div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5cf8fc60553e1a20322b76a5405d120d">build_cc_interfaces_chanvar</a>(monitor_iter, &amp;str);</div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_INTERFACES&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str));</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: CC_INTERFACES set to %s\n&quot;</span>,</div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;         core_id, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str));</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="ccss_8c_html_a010707a1d95ff32920705c9320a94bcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info recall_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03399">ccss.c:3399</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a5cf8fc60553e1a20322b76a5405d120d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5cf8fc60553e1a20322b76a5405d120d">build_cc_interfaces_chanvar</a></div><div class="ttdeci">static void build_cc_interfaces_chanvar(struct ast_cc_monitor *starting_point, struct ast_str **str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03588">ccss.c:3588</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">cc_recall_ds_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03372">ccss.c:3372</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structcc__monitor__tree_html"><div class="ttname"><a href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a></div><div class="ttdoc">The &quot;tree&quot; of interfaces that is dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00324">ccss.c:324</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">cc_recall_ds_data::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03375">ccss.c:3375</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a710f0f5e8e10406417579d2a553865d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a710f0f5e8e10406417579d2a553865d4">&#9670;&nbsp;</a></span>ast_set_cc_max_agents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_max_agents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_max_agents. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_max_agents on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_max_agents we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00979">979</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00168">ast_cc_config_params::cc_max_agents</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;{</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#aedff939baf9204c702f9cb108f5f4a5f">cc_max_agents</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_aedff939baf9204c702f9cb108f5f4a5f"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#aedff939baf9204c702f9cb108f5f4a5f">ast_cc_config_params::cc_max_agents</a></div><div class="ttdeci">unsigned int cc_max_agents</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00168">ccss.c:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1150342e53b603c8af4f65468a4b21ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1150342e53b603c8af4f65468a4b21ae">&#9670;&nbsp;</a></span>ast_set_cc_max_monitors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_max_monitors </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_max_monitors. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_max_monitors on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_max_monitors we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00989">989</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00169">ast_cc_config_params::cc_max_monitors</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;{</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a533b914187ee30ef544de99511ff1e19">cc_max_monitors</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_a533b914187ee30ef544de99511ff1e19"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a533b914187ee30ef544de99511ff1e19">ast_cc_config_params::cc_max_monitors</a></div><div class="ttdeci">unsigned int cc_max_monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00169">ccss.c:169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a936cee61a1b12185670b60b87e275247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936cee61a1b12185670b60b87e275247">&#9670;&nbsp;</a></span>ast_set_cc_monitor_policy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_set_cc_monitor_policy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_monitor_policy. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_monitor_policy on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_monitor_policy we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure (likely due to bad input) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00888">888</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00087">AST_CC_MONITOR_ALWAYS</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00163">ast_cc_config_params::cc_monitor_policy</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;{</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   <span class="comment">/* Screw C and its weak type checking for making me have to do this</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">    * validation at runtime.</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <span class="keywordflow">if</span> (value &lt; AST_CC_MONITOR_NEVER || value &gt; <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77">AST_CC_MONITOR_ALWAYS</a>) {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a0f68986418b60fc4d2b2022972d46c9d">cc_monitor_policy</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77">AST_CC_MONITOR_ALWAYS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00087">ccss.h:87</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_a0f68986418b60fc4d2b2022972d46c9d"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a0f68986418b60fc4d2b2022972d46c9d">ast_cc_config_params::cc_monitor_policy</a></div><div class="ttdeci">enum ast_cc_monitor_policies cc_monitor_policy</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00163">ccss.c:163</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6dfcd270d2c3a496e414254026c74037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dfcd270d2c3a496e414254026c74037">&#9670;&nbsp;</a></span>ast_set_cc_offer_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_offer_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_offer_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_offer_timer on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_offer_timer we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00905">905</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00164">ast_cc_config_params::cc_offer_timer</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;{</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <span class="comment">/* 0 is an unreasonable value for any timer. Stick with the default */</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> == 0) {</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;0 is an invalid value for cc_offer_timer. Retaining value as %u\n&quot;</span>, config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#abc8741c09b180fcaecdffa60da7e15e3">cc_offer_timer</a>);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;   }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#abc8741c09b180fcaecdffa60da7e15e3">cc_offer_timer</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_abc8741c09b180fcaecdffa60da7e15e3"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#abc8741c09b180fcaecdffa60da7e15e3">ast_cc_config_params::cc_offer_timer</a></div><div class="ttdeci">unsigned int cc_offer_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00164">ccss.c:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a952db7996fc34fb7c527d550ac31aa2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a952db7996fc34fb7c527d550ac31aa2d">&#9670;&nbsp;</a></span>ast_set_cc_recall_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_recall_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_recall_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_recall_timer on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_recall_timer we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00935">935</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00167">ast_cc_config_params::cc_recall_timer</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;{</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   <span class="comment">/* 0 is an unreasonable value for any timer. Stick with the default */</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> == 0) {</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;0 is an invalid value for ccnr_available_timer. Retaining value as %u\n&quot;</span>, config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a21d3f6a9da6aa37bc402a3780b7fb370">cc_recall_timer</a>);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   }</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a21d3f6a9da6aa37bc402a3780b7fb370">cc_recall_timer</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_a21d3f6a9da6aa37bc402a3780b7fb370"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a21d3f6a9da6aa37bc402a3780b7fb370">ast_cc_config_params::cc_recall_timer</a></div><div class="ttdeci">unsigned int cc_recall_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00167">ccss.c:167</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2960d62931ad8f57b39caa99a7fbde48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2960d62931ad8f57b39caa99a7fbde48">&#9670;&nbsp;</a></span>ast_set_ccbs_available_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_ccbs_available_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the ccbs_available_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the ccbs_available_timer on </td></tr>
    <tr><td class="paramname">value</td><td>The new ccbs_available_timer we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00950">950</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00166">ast_cc_config_params::ccbs_available_timer</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;{</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   <span class="comment">/* 0 is an unreasonable value for any timer. Stick with the default */</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> == 0) {</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;0 is an invalid value for ccbs_available_timer. Retaining value as %u\n&quot;</span>, config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ac3958bd9f86c49b095d7509e12baa224">ccbs_available_timer</a>);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   }</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ac3958bd9f86c49b095d7509e12baa224">ccbs_available_timer</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_ac3958bd9f86c49b095d7509e12baa224"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#ac3958bd9f86c49b095d7509e12baa224">ast_cc_config_params::ccbs_available_timer</a></div><div class="ttdeci">unsigned int ccbs_available_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00166">ccss.c:166</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c769b1f90df2ee4cbc79464c922d9d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c769b1f90df2ee4cbc79464c922d9d5">&#9670;&nbsp;</a></span>ast_set_ccnr_available_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_ccnr_available_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the ccnr_available_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the ccnr_available_timer on </td></tr>
    <tr><td class="paramname">value</td><td>The new ccnr_available_timer we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00920">920</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00165">ast_cc_config_params::ccnr_available_timer</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;{</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   <span class="comment">/* 0 is an unreasonable value for any timer. Stick with the default */</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> == 0) {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;0 is an invalid value for ccnr_available_timer. Retaining value as %u\n&quot;</span>, config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a38ef5c9ac4dde551b997375a753da719">ccnr_available_timer</a>);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   }</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a38ef5c9ac4dde551b997375a753da719">ccnr_available_timer</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_a38ef5c9ac4dde551b997375a753da719"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a38ef5c9ac4dde551b997375a753da719">ast_cc_config_params::ccnr_available_timer</a></div><div class="ttdeci">unsigned int ccnr_available_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00165">ccss.c:165</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d7883a7ab60e13e2697fccb74ed5d8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7883a7ab60e13e2697fccb74ed5d8d">&#9670;&nbsp;</a></span>ast_setup_cc_recall_datastore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_setup_cc_recall_datastore </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>core_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up a CC recall datastore on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>Implementers of protocol-specific CC agents will need to call this function in order for the channel to have the necessary interfaces to recall.</p>
<p>This function must be called by the implementer once it has been detected that an inbound call is a cc_recall. After allocating the channel, call this function, followed by ast_cc_set_cc_interfaces_chanvar. While it would be nice to be able to have the core do this automatically, it just cannot be done given the current architecture. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03405">3405</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">ast_datastore_free()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00193">DATASTORE_INHERIT_FOREVER</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00073">ast_datastore::inheritance</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03375">cc_recall_ds_data::interface_tree</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l26347">handle_request_invite()</a>.</p>
<div class="fragment"><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;{</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *recall_datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_data;</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;   <span class="keywordflow">if</span> (!recall_datastore) {</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;   }</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;   <span class="keywordflow">if</span> (!(recall_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*recall_data)))) {</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;      <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(recall_datastore);</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;   }</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;   <span class="keywordflow">if</span> (!(core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>))) {</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(recall_data);</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;      <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(recall_datastore);</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;   }</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;   recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>,</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;         <span class="stringliteral">&quot;Bump refcount for monitor tree for recall datastore&quot;</span>);</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;   recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = <a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;   recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = recall_data;</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;   recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a79d869daa2e63a92b3e5f542446031bb">inheritance</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3a32e3014998d0066281c4dd8e278ae9">DATASTORE_INHERIT_FOREVER</a>;</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, recall_datastore);</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Recall datastore set up. No need for core_instance ref&quot;</span>);</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="ccss_8c_html_a010707a1d95ff32920705c9320a94bcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info recall_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03399">ccss.c:3399</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="datastore_8h_html_aee27286888b30c6448a9bce928040a14"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a></div><div class="ttdeci">int ast_datastore_free(struct ast_datastore *datastore)</div><div class="ttdoc">Free a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00068">datastore.c:68</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">cc_recall_ds_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03372">ccss.c:3372</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="channel_8h_html_a3a32e3014998d0066281c4dd8e278ae9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3a32e3014998d0066281c4dd8e278ae9">DATASTORE_INHERIT_FOREVER</a></div><div class="ttdeci">#define DATASTORE_INHERIT_FOREVER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00193">channel.h:193</a></div></div>
<div class="ttc" id="structast__datastore_html_a79d869daa2e63a92b3e5f542446031bb"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a79d869daa2e63a92b3e5f542446031bb">ast_datastore::inheritance</a></div><div class="ttdeci">unsigned int inheritance</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00073">datastore.h:73</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">cc_recall_ds_data::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03375">ccss.c:3375</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:57 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
