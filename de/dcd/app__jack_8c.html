<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: app_jack.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_9654b8d08f4bba4e84b362c5fd320bee.html">apps</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">app_jack.c File Reference<div class="ingroups"><a class="el" href="../../d9/dc9/group__applications.html">Dial plan applications</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Jack Application.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;jack/jack.h&gt;</code><br />
<code>#include &lt;jack/ringbuffer.h&gt;</code><br />
<code>#include &lt;libresample.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d90/strings_8h_source.html">asterisk/strings.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d79/audiohook_8h_source.html">asterisk/audiohook.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d1c/format__cache_8h_source.html">asterisk/format_cache.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for app_jack.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dbd/app__jack_8c__incl.png" border="0" usemap="#app__jack_8c" alt=""/></div>
<map name="app__jack_8c" id="app__jack_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="122,453,206,480"/>
<area shape="rect" id="node13" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="2261,155,2397,181"/>
<area shape="rect" id="node17" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1123,677,1237,704"/>
<area shape="rect" id="node20" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1755,453,1885,480"/>
<area shape="rect" id="node24" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1336,155,1475,181"/>
<area shape="rect" id="node41" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="2351,229,2463,256"/>
<area shape="rect" id="node43" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="1787,80,1898,107"/>
<area shape="rect" id="node48" href="../../d0/d79/audiohook_8h.html" title="Audiohooks Architecture. " alt="" coords="457,229,612,256"/>
<area shape="rect" id="node50" href="../../db/d1c/format__cache_8h.html" title="Media Format Cache API. " alt="" coords="2472,80,2648,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="565,827,720,853"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="146,603,283,629"/>
<area shape="rect" id="node9" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="149,528,283,555"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="569,901,716,928"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="543,752,686,779"/>
<area shape="rect" id="node14" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="2081,379,2196,405"/>
<area shape="rect" id="node15" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1193,752,1255,779"/>
<area shape="rect" id="node18" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1478,752,1605,779"/>
<area shape="rect" id="node19" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2647,453,2804,480"/>
<area shape="rect" id="node16" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1813,827,1960,853"/>
<area shape="rect" id="node21" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="2061,528,2240,555"/>
<area shape="rect" id="node22" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1546,528,1681,555"/>
<area shape="rect" id="node23" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1023,603,1174,629"/>
<area shape="rect" id="node25" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1856,304,2000,331"/>
<area shape="rect" id="node26" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="1149,304,1307,331"/>
<area shape="rect" id="node28" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1383,229,1547,256"/>
<area shape="rect" id="node29" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="998,304,1125,331"/>
<area shape="rect" id="node30" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="1855,229,2001,256"/>
<area shape="rect" id="node31" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="2558,304,2685,331"/>
<area shape="rect" id="node32" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1623,229,1729,256"/>
<area shape="rect" id="node33" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1269,453,1419,480"/>
<area shape="rect" id="node34" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="687,229,849,256"/>
<area shape="rect" id="node35" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="164,379,335,405"/>
<area shape="rect" id="node36" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="266,229,382,256"/>
<area shape="rect" id="node38" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="873,229,1031,256"/>
<area shape="rect" id="node39" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="2176,304,2301,331"/>
<area shape="rect" id="node40" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1055,229,1206,256"/>
<area shape="rect" id="node27" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="1147,379,1277,405"/>
<area shape="rect" id="node37" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="401,304,564,331"/>
<area shape="rect" id="node42" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="2325,304,2432,331"/>
<area shape="rect" id="node44" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="1906,155,2033,181"/>
<area shape="rect" id="node45" href="../../d6/dd7/presencestate_8h.html" title="Presence state management. " alt="" coords="2057,155,2237,181"/>
<area shape="rect" id="node46" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="1651,603,1791,629"/>
<area shape="rect" id="node47" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="2601,379,2735,405"/>
<area shape="rect" id="node49" href="../../da/d7d/slinfactory_8h.html" title="A machine to gather up arbitrary frames and convert them to raw slinear on demand. " alt="" coords="823,304,974,331"/>
</map>
</div>
</div>
<p><a href="../../de/dcd/app__jack_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d85/structjack__data.html">jack_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a50523edf90e2250de36f0afcbbc030fb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a50523edf90e2250de36f0afcbbc030fb">COMMON_OPTIONS</a></td></tr>
<tr class="memdesc:a50523edf90e2250de36f0afcbbc030fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common options between the Jack() app and JACK_HOOK() function.  <a href="#a50523edf90e2250de36f0afcbbc030fb">More...</a><br /></td></tr>
<tr class="separator:a50523edf90e2250de36f0afcbbc030fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8cd98aea81dc92b5dc594c5b4056ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a9a8cd98aea81dc92b5dc594c5b4056ad">RESAMPLE_QUALITY</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a9a8cd98aea81dc92b5dc594c5b4056ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a875e4913740762cdf499ef7f8d8089f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a875e4913740762cdf499ef7f8d8089f3">RINGBUFFER_FRAME_CAPACITY</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a875e4913740762cdf499ef7f8d8089f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a0ed680fdb405e7195d9f14032851eebb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba2e68c9d2bd481b81a234a923cf259877">OPT_SERVER_NAME</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba80be01ac3ad9829dd35ee410e5482dee">OPT_INPUT_PORT</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbad0daca2a5f287cf652d35aaed1922889">OPT_OUTPUT_PORT</a> = (1 &lt;&lt; 2), 
<a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbaf8158643a36d2168f796acba3a07676f">OPT_NOSTART_SERVER</a> = (1 &lt;&lt; 3), 
<br />
&#160;&#160;<a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba11996d3c883f5db7570198567618291d">OPT_CLIENT_NAME</a> = (1 &lt;&lt; 4)
<br />
 }</td></tr>
<tr class="separator:a0ed680fdb405e7195d9f14032851eebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0944a4353780132eeab7b06e3e42291d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da093e7df6ef7312d35fb4b03f0c3e7c57">OPT_ARG_SERVER_NAME</a>, 
<a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291dac22235513ad8e730ca873c0af182a939">OPT_ARG_INPUT_PORT</a>, 
<a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da7e5c4987d926a3e4a483ff62d7e76f38">OPT_ARG_OUTPUT_PORT</a>, 
<a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da03ac82a78b9b7c9a19d8d061580e5809">OPT_ARG_CLIENT_NAME</a>, 
<br />
&#160;&#160;<a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291daec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a>
<br />
 }</td></tr>
<tr class="separator:a0944a4353780132eeab7b06e3e42291d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae720b800009d2e672dae3cfaa6476cee"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#ae720b800009d2e672dae3cfaa6476cee">alloc_resampler</a> (struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="el" href="../../d7/d85/structjack__data.html">jack_data</a>, int <a class="el" href="../../d2/d7e/ael__lex_8c.html#a5a634cf4429798b1c921a81de8250051">input</a>)</td></tr>
<tr class="separator:ae720b800009d2e672dae3cfaa6476cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf5b60e4a5c50bcb51f6a0fc730bc7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a3cf5b60e4a5c50bcb51f6a0fc730bc7b">AST_MODULE_INFO_STANDARD_EXTENDED</a> (<a class="el" href="../../d5/d16/module_8h.html#aba2c8d4be709a254658b21a834f8294a">ASTERISK_GPL_KEY</a>, &quot;JACK Interface&quot;)</td></tr>
<tr class="separator:a3cf5b60e4a5c50bcb51f6a0fc730bc7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297dcd2c82381f6eb3978edd72625982"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a297dcd2c82381f6eb3978edd72625982">destroy_jack_data</a> (struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="el" href="../../d7/d85/structjack__data.html">jack_data</a>)</td></tr>
<tr class="separator:a297dcd2c82381f6eb3978edd72625982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a55d7d70a6ac23bfbf7db0243c2cb85"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a5a55d7d70a6ac23bfbf7db0243c2cb85">disable_jack_hook</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a5a55d7d70a6ac23bfbf7db0243c2cb85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fdc965653c1368f1edd9e0b70889c50"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a5fdc965653c1368f1edd9e0b70889c50">enable_jack_hook</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, char *data)</td></tr>
<tr class="separator:a5fdc965653c1368f1edd9e0b70889c50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce9b1108dd9f252031ff2a21e4915fb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a5ce9b1108dd9f252031ff2a21e4915fb">handle_input</a> (void *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, jack_nframes_t nframes, struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="el" href="../../d7/d85/structjack__data.html">jack_data</a>)</td></tr>
<tr class="memdesc:a5ce9b1108dd9f252031ff2a21e4915fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle jack input port.  <a href="#a5ce9b1108dd9f252031ff2a21e4915fb">More...</a><br /></td></tr>
<tr class="separator:a5ce9b1108dd9f252031ff2a21e4915fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a953046302272e0bb7ed0c3c654ab40ba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a953046302272e0bb7ed0c3c654ab40ba">handle_jack_audio</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="el" href="../../d7/d85/structjack__data.html">jack_data</a>, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *out_frame)</td></tr>
<tr class="memdesc:a953046302272e0bb7ed0c3c654ab40ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle jack audio  <a href="#a953046302272e0bb7ed0c3c654ab40ba">More...</a><br /></td></tr>
<tr class="separator:a953046302272e0bb7ed0c3c654ab40ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c7df2c3f47aef6d50e31a750f8faca"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a69c7df2c3f47aef6d50e31a750f8faca">handle_options</a> (struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="el" href="../../d7/d85/structjack__data.html">jack_data</a>, const char *__options_str)</td></tr>
<tr class="separator:a69c7df2c3f47aef6d50e31a750f8faca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a343f04835e5cb2cabd569304226c9efa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a343f04835e5cb2cabd569304226c9efa">handle_output</a> (void *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, jack_nframes_t nframes, struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="el" href="../../d7/d85/structjack__data.html">jack_data</a>)</td></tr>
<tr class="memdesc:a343f04835e5cb2cabd569304226c9efa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle jack output port.  <a href="#a343f04835e5cb2cabd569304226c9efa">More...</a><br /></td></tr>
<tr class="separator:a343f04835e5cb2cabd569304226c9efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70868f10224e91e14181fe3d3c4b3fbc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a70868f10224e91e14181fe3d3c4b3fbc">init_jack_data</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="el" href="../../d7/d85/structjack__data.html">jack_data</a>)</td></tr>
<tr class="separator:a70868f10224e91e14181fe3d3c4b3fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a349dbe766b1a0a00bfb9762f9de469ae"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a349dbe766b1a0a00bfb9762f9de469ae">jack_data_alloc</a> (void)</td></tr>
<tr class="separator:a349dbe766b1a0a00bfb9762f9de469ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e3f8c2cf48f2833fa76cb0e74614e8a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a7e3f8c2cf48f2833fa76cb0e74614e8a">jack_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="separator:a7e3f8c2cf48f2833fa76cb0e74614e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86211168f3c8ac014e6caa5cc68a0f8c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a86211168f3c8ac014e6caa5cc68a0f8c">jack_hook_callback</a> (struct <a class="el" href="../../d2/d49/structast__audiohook.html">ast_audiohook</a> *audiohook, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame, enum <a class="el" href="../../d0/d79/audiohook_8h.html#a34d75d3d5e7418b6a772e3d522a16899">ast_audiohook_direction</a> <a class="el" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>)</td></tr>
<tr class="separator:a86211168f3c8ac014e6caa5cc68a0f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6203a95a3dc09553980fae171c904560"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a6203a95a3dc09553980fae171c904560">jack_hook_ds_destroy</a> (void *data)</td></tr>
<tr class="separator:a6203a95a3dc09553980fae171c904560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a876ae0646f0e78f0fab18eda01fc1008"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a876ae0646f0e78f0fab18eda01fc1008">jack_hook_write</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="separator:a876ae0646f0e78f0fab18eda01fc1008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1926aa55b7653ba0edc16abd007a1325"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a1926aa55b7653ba0edc16abd007a1325">jack_process</a> (jack_nframes_t nframes, void *arg)</td></tr>
<tr class="separator:a1926aa55b7653ba0edc16abd007a1325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa368774daa7b40c1ee97aeab5478974f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#aa368774daa7b40c1ee97aeab5478974f">jack_shutdown</a> (void *arg)</td></tr>
<tr class="separator:aa368774daa7b40c1ee97aeab5478974f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af57abd76ce2df847e98d3cee0fa56921"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#af57abd76ce2df847e98d3cee0fa56921">jack_status_to_str</a> (jack_status_t <a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>)</td></tr>
<tr class="separator:af57abd76ce2df847e98d3cee0fa56921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb72b66521b4060855b912d62c7b2ba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#aafb72b66521b4060855b912d62c7b2ba">log_jack_status</a> (const char *<a class="el" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, jack_status_t <a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>)</td></tr>
<tr class="separator:aafb72b66521b4060855b912d62c7b2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d124d44868b3a2bb4c395405ded087"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a01d124d44868b3a2bb4c395405ded087">queue_voice_frame</a> (struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="el" href="../../d7/d85/structjack__data.html">jack_data</a>, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *f)</td></tr>
<tr class="separator:a01d124d44868b3a2bb4c395405ded087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad4b0fc63100a9a874fe325d78822f0ab"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#ad4b0fc63100a9a874fe325d78822f0ab">jack_app</a> [] = &quot;JACK&quot;</td></tr>
<tr class="separator:ad4b0fc63100a9a874fe325d78822f0ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f3730c9ff1d0541d5fb326c9623f1b"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d2/d8d/structast__app__option.html">ast_app_option</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#ac4f3730c9ff1d0541d5fb326c9623f1b">jack_exec_options</a> [128] = { [ 's' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba2e68c9d2bd481b81a234a923cf259877">OPT_SERVER_NAME</a> , .arg_index = <a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da093e7df6ef7312d35fb4b03f0c3e7c57">OPT_ARG_SERVER_NAME</a> + 1 }, [ 'i' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba80be01ac3ad9829dd35ee410e5482dee">OPT_INPUT_PORT</a> , .arg_index = <a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291dac22235513ad8e730ca873c0af182a939">OPT_ARG_INPUT_PORT</a> + 1 }, [ 'o' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbad0daca2a5f287cf652d35aaed1922889">OPT_OUTPUT_PORT</a> , .arg_index = <a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da7e5c4987d926a3e4a483ff62d7e76f38">OPT_ARG_OUTPUT_PORT</a> + 1 }, [ 'n' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbaf8158643a36d2168f796acba3a07676f">OPT_NOSTART_SERVER</a> }, [ '<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba11996d3c883f5db7570198567618291d">OPT_CLIENT_NAME</a> , .arg_index = <a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da03ac82a78b9b7c9a19d8d061580e5809">OPT_ARG_CLIENT_NAME</a> + 1 }, }</td></tr>
<tr class="separator:ac4f3730c9ff1d0541d5fb326c9623f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5155602507bb67797bb798c178f587d2"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a5155602507bb67797bb798c178f587d2">jack_hook_ds_info</a></td></tr>
<tr class="separator:a5155602507bb67797bb798c178f587d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c54514b9e379eddcf31f5f060e81bca"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a6c54514b9e379eddcf31f5f060e81bca">jack_hook_function</a></td></tr>
<tr class="separator:a6c54514b9e379eddcf31f5f060e81bca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3427e55bdb8ed1de255429c34775b85e"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:ac191e5810fa65e63095409471eb5648f"><td class="memItemLeft" >&#160;&#160;&#160;jack_status_t&#160;&#160;&#160;<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></td></tr>
<tr class="separator:ac191e5810fa65e63095409471eb5648f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25d6dc49269fa2003ac7c7fa6f13915"><td class="memItemLeft" >&#160;&#160;&#160;const char *&#160;&#160;&#160;<a class="el" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></td></tr>
<tr class="separator:af25d6dc49269fa2003ac7c7fa6f13915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3427e55bdb8ed1de255429c34775b85e"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/app__jack_8c.html#a3427e55bdb8ed1de255429c34775b85e">jack_status_table</a> []</td></tr>
<tr class="separator:a3427e55bdb8ed1de255429c34775b85e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Jack Application. </p>
<dl class="section author"><dt>Author</dt><dd>Russell Bryant <a href="#" onclick="location.href='mai'+'lto:'+'rus'+'se'+'ll@'+'di'+'giu'+'m.'+'com'; return false;">russe<span style="display: none;">.nosp@m.</span>ll@d<span style="display: none;">.nosp@m.</span>igium<span style="display: none;">.nosp@m.</span>.com</a></dd></dl>
<p>This is an application to connect an Asterisk channel to an input and output jack port so that the audio can be processed through another application, or to play audio from another application.</p>
<dl class="extref"><dt><b><a class="el" href="../../db/d1d/extref.html#_extref000002">ExtRef:</a></b></dt><dd><a href="http://www.jackaudio.org/">http://www.jackaudio.org/</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>To install libresample, check it out of the following repository: <code>$ svn co <a href="http://svn.digium.com/svn/thirdparty/libresample/trunk">http://svn.digium.com/svn/thirdparty/libresample/trunk</a></code> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a50523edf90e2250de36f0afcbbc030fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50523edf90e2250de36f0afcbbc030fb">&#9670;&nbsp;</a></span>COMMON_OPTIONS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMON_OPTIONS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Common options between the Jack() app and JACK_HOOK() function. </p>

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00067">67</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

</div>
</div>
<a id="a9a8cd98aea81dc92b5dc594c5b4056ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8cd98aea81dc92b5dc594c5b4056ad">&#9670;&nbsp;</a></span>RESAMPLE_QUALITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESAMPLE_QUALITY&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00061">61</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00193">alloc_resampler()</a>.</p>

</div>
</div>
<a id="a875e4913740762cdf499ef7f8d8089f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a875e4913740762cdf499ef7f8d8089f3">&#9670;&nbsp;</a></span>RINGBUFFER_FRAME_CAPACITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RINGBUFFER_FRAME_CAPACITY&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00064">64</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00390">init_jack_data()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a0ed680fdb405e7195d9f14032851eebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ed680fdb405e7195d9f14032851eebb">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0ed680fdb405e7195d9f14032851eebba2e68c9d2bd481b81a234a923cf259877"></a>OPT_SERVER_NAME&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0ed680fdb405e7195d9f14032851eebba80be01ac3ad9829dd35ee410e5482dee"></a>OPT_INPUT_PORT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0ed680fdb405e7195d9f14032851eebbad0daca2a5f287cf652d35aaed1922889"></a>OPT_OUTPUT_PORT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0ed680fdb405e7195d9f14032851eebbaf8158643a36d2168f796acba3a07676f"></a>OPT_NOSTART_SERVER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0ed680fdb405e7195d9f14032851eebba11996d3c883f5db7570198567618291d"></a>OPT_CLIENT_NAME&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00669">669</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;     {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba2e68c9d2bd481b81a234a923cf259877">OPT_SERVER_NAME</a> =    (1 &lt;&lt; 0),</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba80be01ac3ad9829dd35ee410e5482dee">OPT_INPUT_PORT</a> =     (1 &lt;&lt; 1),</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbad0daca2a5f287cf652d35aaed1922889">OPT_OUTPUT_PORT</a> =    (1 &lt;&lt; 2),</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbaf8158643a36d2168f796acba3a07676f">OPT_NOSTART_SERVER</a> = (1 &lt;&lt; 3),</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba11996d3c883f5db7570198567618291d">OPT_CLIENT_NAME</a> =    (1 &lt;&lt; 4),</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;};</div><div class="ttc" id="app__jack_8c_html_a0ed680fdb405e7195d9f14032851eebbaf8158643a36d2168f796acba3a07676f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbaf8158643a36d2168f796acba3a07676f">OPT_NOSTART_SERVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00673">app_jack.c:673</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0ed680fdb405e7195d9f14032851eebba11996d3c883f5db7570198567618291d"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba11996d3c883f5db7570198567618291d">OPT_CLIENT_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00674">app_jack.c:674</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0ed680fdb405e7195d9f14032851eebba80be01ac3ad9829dd35ee410e5482dee"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba80be01ac3ad9829dd35ee410e5482dee">OPT_INPUT_PORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00671">app_jack.c:671</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0ed680fdb405e7195d9f14032851eebba2e68c9d2bd481b81a234a923cf259877"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba2e68c9d2bd481b81a234a923cf259877">OPT_SERVER_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00670">app_jack.c:670</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0ed680fdb405e7195d9f14032851eebbad0daca2a5f287cf652d35aaed1922889"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbad0daca2a5f287cf652d35aaed1922889">OPT_OUTPUT_PORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00672">app_jack.c:672</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0944a4353780132eeab7b06e3e42291d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0944a4353780132eeab7b06e3e42291d">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0944a4353780132eeab7b06e3e42291da093e7df6ef7312d35fb4b03f0c3e7c57"></a>OPT_ARG_SERVER_NAME&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0944a4353780132eeab7b06e3e42291dac22235513ad8e730ca873c0af182a939"></a>OPT_ARG_INPUT_PORT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0944a4353780132eeab7b06e3e42291da7e5c4987d926a3e4a483ff62d7e76f38"></a>OPT_ARG_OUTPUT_PORT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0944a4353780132eeab7b06e3e42291da03ac82a78b9b7c9a19d8d061580e5809"></a>OPT_ARG_CLIENT_NAME&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0944a4353780132eeab7b06e3e42291daec7326f60e7edad15d96ff935e5616d6"></a>OPT_ARG_ARRAY_SIZE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00677">677</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;     {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da093e7df6ef7312d35fb4b03f0c3e7c57">OPT_ARG_SERVER_NAME</a>,</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291dac22235513ad8e730ca873c0af182a939">OPT_ARG_INPUT_PORT</a>,</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da7e5c4987d926a3e4a483ff62d7e76f38">OPT_ARG_OUTPUT_PORT</a>,</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da03ac82a78b9b7c9a19d8d061580e5809">OPT_ARG_CLIENT_NAME</a>,</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   <span class="comment">/* Must be the last element */</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291daec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a>,</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;};</div><div class="ttc" id="app__jack_8c_html_a0944a4353780132eeab7b06e3e42291daec7326f60e7edad15d96ff935e5616d6"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291daec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00684">app_jack.c:684</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0944a4353780132eeab7b06e3e42291da03ac82a78b9b7c9a19d8d061580e5809"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da03ac82a78b9b7c9a19d8d061580e5809">OPT_ARG_CLIENT_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00681">app_jack.c:681</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0944a4353780132eeab7b06e3e42291da7e5c4987d926a3e4a483ff62d7e76f38"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da7e5c4987d926a3e4a483ff62d7e76f38">OPT_ARG_OUTPUT_PORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00680">app_jack.c:680</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0944a4353780132eeab7b06e3e42291da093e7df6ef7312d35fb4b03f0c3e7c57"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da093e7df6ef7312d35fb4b03f0c3e7c57">OPT_ARG_SERVER_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00678">app_jack.c:678</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0944a4353780132eeab7b06e3e42291dac22235513ad8e730ca873c0af182a939"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291dac22235513ad8e730ca873c0af182a939">OPT_ARG_INPUT_PORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00679">app_jack.c:679</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae720b800009d2e672dae3cfaa6476cee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae720b800009d2e672dae3cfaa6476cee">&#9670;&nbsp;</a></span>alloc_resampler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int alloc_resampler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *&#160;</td>
          <td class="paramname"><em>jack_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00193">193</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00132">jack_data::audiohook_rate</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00126">jack_data::client</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00137">jack_data::input_resample_factor</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00136">jack_data::input_resampler</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00135">jack_data::output_resample_factor</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00134">jack_data::output_resampler</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00061">RESAMPLE_QUALITY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00319">jack_process()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00537">queue_voice_frame()</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   <span class="keywordtype">double</span> from_srate, to_srate, jack_srate;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   <span class="keywordtype">void</span> **resampler;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <span class="keywordtype">double</span> *resample_factor;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> &amp;&amp; jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a41dc9f75ead42d9a6f0d266bab405621">input_resampler</a>)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> &amp;&amp; jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a7f0419971318dac4b9bc6682ebf24768">output_resampler</a>)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   jack_srate = jack_get_sample_rate(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   to_srate = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> ? jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#adbb6dbd1e1ece5c656f76ee5eead7d31">audiohook_rate</a> : jack_srate;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   from_srate = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> ? jack_srate : jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#adbb6dbd1e1ece5c656f76ee5eead7d31">audiohook_rate</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   resample_factor = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> ? &amp;jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a6271c2db9aa01f38587b22325a88ea9d">input_resample_factor</a> :</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      &amp;jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a1779a34e43822abc58b50a09b2a06de0">output_resample_factor</a>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <span class="keywordflow">if</span> (from_srate == to_srate) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="comment">/* Awesome!  The jack sample rate is the same as ours.</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">       * Resampling isn&#39;t needed. */</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      *resample_factor = 1.0;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   *resample_factor = to_srate / from_srate;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   resampler = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> ? &amp;jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a41dc9f75ead42d9a6f0d266bab405621">input_resampler</a> :</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      &amp;jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a7f0419971318dac4b9bc6682ebf24768">output_resampler</a>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <span class="keywordflow">if</span> (!(*resampler = resample_open(<a class="code" href="../../de/dcd/app__jack_8c.html#a9a8cd98aea81dc92b5dc594c5b4056ad">RESAMPLE_QUALITY</a>,</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      *resample_factor, *resample_factor))) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to open %s resampler\n&quot;</span>,</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;         <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> ? <span class="stringliteral">&quot;input&quot;</span> : <span class="stringliteral">&quot;output&quot;</span>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div><div class="ttc" id="structjack__data_html_a7f0419971318dac4b9bc6682ebf24768"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a7f0419971318dac4b9bc6682ebf24768">jack_data::output_resampler</a></div><div class="ttdeci">void * output_resampler</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00134">app_jack.c:134</a></div></div>
<div class="ttc" id="app__jack_8c_html_a9a8cd98aea81dc92b5dc594c5b4056ad"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a9a8cd98aea81dc92b5dc594c5b4056ad">RESAMPLE_QUALITY</a></div><div class="ttdeci">#define RESAMPLE_QUALITY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00061">app_jack.c:61</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a5a634cf4429798b1c921a81de8250051"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a></div><div class="ttdeci">static int input(yyscan_t yyscanner)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l01584">ast_expr2f.c:1584</a></div></div>
<div class="ttc" id="structjack__data_html_a41dc9f75ead42d9a6f0d266bab405621"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a41dc9f75ead42d9a6f0d266bab405621">jack_data::input_resampler</a></div><div class="ttdeci">void * input_resampler</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00136">app_jack.c:136</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structjack__data_html_afed7053cd7bdd1cce33dec7213f340ea"><div class="ttname"><a href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">jack_data::client</a></div><div class="ttdeci">jack_client_t * client</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00126">app_jack.c:126</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structjack__data_html_a6271c2db9aa01f38587b22325a88ea9d"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a6271c2db9aa01f38587b22325a88ea9d">jack_data::input_resample_factor</a></div><div class="ttdeci">double input_resample_factor</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00137">app_jack.c:137</a></div></div>
<div class="ttc" id="structjack__data_html_a1779a34e43822abc58b50a09b2a06de0"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a1779a34e43822abc58b50a09b2a06de0">jack_data::output_resample_factor</a></div><div class="ttdeci">double output_resample_factor</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00135">app_jack.c:135</a></div></div>
<div class="ttc" id="structjack__data_html_adbb6dbd1e1ece5c656f76ee5eead7d31"><div class="ttname"><a href="../../d7/d85/structjack__data.html#adbb6dbd1e1ece5c656f76ee5eead7d31">jack_data::audiohook_rate</a></div><div class="ttdeci">unsigned int audiohook_rate</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00132">app_jack.c:132</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3cf5b60e4a5c50bcb51f6a0fc730bc7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cf5b60e4a5c50bcb51f6a0fc730bc7b">&#9670;&nbsp;</a></span>AST_MODULE_INFO_STANDARD_EXTENDED()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_MODULE_INFO_STANDARD_EXTENDED </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d16/module_8h.html#aba2c8d4be709a254658b21a834f8294a">ASTERISK_GPL_KEY</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;JACK Interface&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l01038">load_module()</a>.</p>

</div>
</div>
<a id="a297dcd2c82381f6eb3978edd72625982"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a297dcd2c82381f6eb3978edd72625982">&#9670;&nbsp;</a></span>destroy_jack_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a>* destroy_jack_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *&#160;</td>
          <td class="paramname"><em>jack_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00343">343</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l00133">ast_audiohook_destroy()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00142">jack_data::audiohook</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00126">jack_data::client</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00139">jack_data::has_audiohook</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00127">jack_data::input_port</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00129">jack_data::input_rb</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00136">jack_data::input_resampler</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00128">jack_data::output_port</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00130">jack_data::output_rb</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00134">jack_data::output_resampler</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00875">enable_jack_hook()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00760">jack_exec()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00821">jack_hook_ds_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <span class="keywordflow">if</span> (jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#af830efb2d3206ba81602df7945863a2d">input_port</a>) {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      jack_port_unregister(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>, jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#af830efb2d3206ba81602df7945863a2d">input_port</a>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#af830efb2d3206ba81602df7945863a2d">input_port</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="keywordflow">if</span> (jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a163b2d99fab30f4f80d37b8e5fe6a9a2">output_port</a>) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      jack_port_unregister(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>, jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a163b2d99fab30f4f80d37b8e5fe6a9a2">output_port</a>);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a163b2d99fab30f4f80d37b8e5fe6a9a2">output_port</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <span class="keywordflow">if</span> (jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      jack_client_close(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <span class="keywordflow">if</span> (jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a0ef8a9cb712a596b344f3e4b6405daa3">input_rb</a>) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      jack_ringbuffer_free(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a0ef8a9cb712a596b344f3e4b6405daa3">input_rb</a>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a0ef8a9cb712a596b344f3e4b6405daa3">input_rb</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <span class="keywordflow">if</span> (jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a77f80958d20ee20d2fbbacf85b17a588">output_rb</a>) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      jack_ringbuffer_free(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a77f80958d20ee20d2fbbacf85b17a588">output_rb</a>);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a77f80958d20ee20d2fbbacf85b17a588">output_rb</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   <span class="keywordflow">if</span> (jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a7f0419971318dac4b9bc6682ebf24768">output_resampler</a>) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      resample_close(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a7f0419971318dac4b9bc6682ebf24768">output_resampler</a>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a7f0419971318dac4b9bc6682ebf24768">output_resampler</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="keywordflow">if</span> (jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a41dc9f75ead42d9a6f0d266bab405621">input_resampler</a>) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      resample_close(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a41dc9f75ead42d9a6f0d266bab405621">input_resampler</a>);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a41dc9f75ead42d9a6f0d266bab405621">input_resampler</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="keywordflow">if</span> (jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#acc7a4aecf4d9e0ebfd9d541d6a20a029">has_audiohook</a>)</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <a class="code" href="../../d0/d79/audiohook_8h.html#a9fa661730d6fa6b9b12e410d66a3437b">ast_audiohook_destroy</a>(&amp;jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(jack_data);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(jack_data);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;}</div><div class="ttc" id="structjack__data_html_acc7a4aecf4d9e0ebfd9d541d6a20a029"><div class="ttname"><a href="../../d7/d85/structjack__data.html#acc7a4aecf4d9e0ebfd9d541d6a20a029">jack_data::has_audiohook</a></div><div class="ttdeci">unsigned int has_audiohook</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00139">app_jack.c:139</a></div></div>
<div class="ttc" id="structjack__data_html_a7f0419971318dac4b9bc6682ebf24768"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a7f0419971318dac4b9bc6682ebf24768">jack_data::output_resampler</a></div><div class="ttdeci">void * output_resampler</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00134">app_jack.c:134</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="audiohook_8h_html_a9fa661730d6fa6b9b12e410d66a3437b"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a9fa661730d6fa6b9b12e410d66a3437b">ast_audiohook_destroy</a></div><div class="ttdeci">int ast_audiohook_destroy(struct ast_audiohook *audiohook)</div><div class="ttdoc">Destroys an audiohook structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/audiohook_8c_source.html#l00133">audiohook.c:133</a></div></div>
<div class="ttc" id="structjack__data_html_a163b2d99fab30f4f80d37b8e5fe6a9a2"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a163b2d99fab30f4f80d37b8e5fe6a9a2">jack_data::output_port</a></div><div class="ttdeci">jack_port_t * output_port</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00128">app_jack.c:128</a></div></div>
<div class="ttc" id="structjack__data_html_af830efb2d3206ba81602df7945863a2d"><div class="ttname"><a href="../../d7/d85/structjack__data.html#af830efb2d3206ba81602df7945863a2d">jack_data::input_port</a></div><div class="ttdeci">jack_port_t * input_port</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00127">app_jack.c:127</a></div></div>
<div class="ttc" id="structjack__data_html_a41dc9f75ead42d9a6f0d266bab405621"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a41dc9f75ead42d9a6f0d266bab405621">jack_data::input_resampler</a></div><div class="ttdeci">void * input_resampler</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00136">app_jack.c:136</a></div></div>
<div class="ttc" id="structjack__data_html_afed7053cd7bdd1cce33dec7213f340ea"><div class="ttname"><a href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">jack_data::client</a></div><div class="ttdeci">jack_client_t * client</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00126">app_jack.c:126</a></div></div>
<div class="ttc" id="structjack__data_html_a0ef8a9cb712a596b344f3e4b6405daa3"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a0ef8a9cb712a596b344f3e4b6405daa3">jack_data::input_rb</a></div><div class="ttdeci">jack_ringbuffer_t * input_rb</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00129">app_jack.c:129</a></div></div>
<div class="ttc" id="structjack__data_html_a77f80958d20ee20d2fbbacf85b17a588"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a77f80958d20ee20d2fbbacf85b17a588">jack_data::output_rb</a></div><div class="ttdeci">jack_ringbuffer_t * output_rb</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00130">app_jack.c:130</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structjack__data_html_aaf5379c0defdcacdae37add0d0c8af1d"><div class="ttname"><a href="../../d7/d85/structjack__data.html#aaf5379c0defdcacdae37add0d0c8af1d">jack_data::audiohook</a></div><div class="ttdeci">struct ast_audiohook audiohook</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00142">app_jack.c:142</a></div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a55d7d70a6ac23bfbf7db0243c2cb85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a55d7d70a6ac23bfbf7db0243c2cb85">&#9670;&nbsp;</a></span>disable_jack_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int disable_jack_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00942">942</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l00579">ast_audiohook_detach()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02399">ast_channel_datastore_remove()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">ast_datastore_free()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00142">jack_data::audiohook</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00970">jack_hook_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;{</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="code" href="../../d7/d85/structjack__data.html">jack_data</a>;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../de/dcd/app__jack_8c.html#a5155602507bb67797bb798c178f587d2">jack_hook_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No JACK_HOOK found to disable\n&quot;</span>);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ff1c62b6d50823da93a920575c9c0c9">ast_channel_datastore_remove</a>(chan, datastore);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   jack_data = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   <a class="code" href="../../d0/d79/audiohook_8h.html#a88b9ad3730e7adbc3b396bef4e85b12a">ast_audiohook_detach</a>(&amp;jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   <span class="comment">/* Keep the channel locked while we destroy the datastore, so that we can</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment">    * ensure that all of the jack stuff is stopped just in case another frame</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment">    * tries to come through the audiohook callback. */</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(datastore);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structjack__data_html"><div class="ttname"><a href="../../d7/d85/structjack__data.html">jack_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00119">app_jack.c:119</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="datastore_8h_html_aee27286888b30c6448a9bce928040a14"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a></div><div class="ttdeci">int ast_datastore_free(struct ast_datastore *datastore)</div><div class="ttdoc">Free a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00068">datastore.c:68</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="audiohook_8h_html_a88b9ad3730e7adbc3b396bef4e85b12a"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a88b9ad3730e7adbc3b396bef4e85b12a">ast_audiohook_detach</a></div><div class="ttdeci">int ast_audiohook_detach(struct ast_audiohook *audiohook)</div><div class="ttdoc">Detach audiohook from channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/audiohook_8c_source.html#l00579">audiohook.c:579</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="app__jack_8c_html_a5155602507bb67797bb798c178f587d2"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a5155602507bb67797bb798c178f587d2">jack_hook_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info jack_hook_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00828">app_jack.c:828</a></div></div>
<div class="ttc" id="structjack__data_html_aaf5379c0defdcacdae37add0d0c8af1d"><div class="ttname"><a href="../../d7/d85/structjack__data.html#aaf5379c0defdcacdae37add0d0c8af1d">jack_data::audiohook</a></div><div class="ttdeci">struct ast_audiohook audiohook</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00142">app_jack.c:142</a></div></div>
<div class="ttc" id="channel_8h_html_a1ff1c62b6d50823da93a920575c9c0c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ff1c62b6d50823da93a920575c9c0c9">ast_channel_datastore_remove</a></div><div class="ttdeci">int ast_channel_datastore_remove(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Remove a datastore from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02399">channel.c:2399</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5fdc965653c1368f1edd9e0b70889c50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fdc965653c1368f1edd9e0b70889c50">&#9670;&nbsp;</a></span>enable_jack_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int enable_jack_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00875">875</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l00501">ast_audiohook_attach()</a>, <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l00108">ast_audiohook_init()</a>, <a class="el" href="../../d0/d79/audiohook_8h_source.html#l00075">AST_AUDIOHOOK_MANIPULATE_ALL_RATES</a>, <a class="el" href="../../d0/d79/audiohook_8h_source.html#l00038">AST_AUDIOHOOK_TYPE_MANIPULATE</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">ast_datastore_free()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00142">jack_data::audiohook</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00343">destroy_jack_data()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00709">handle_options()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00139">jack_data::has_audiohook</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00390">init_jack_data()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00695">jack_data_alloc()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00833">jack_hook_callback()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d0/d79/audiohook_8h_source.html#l00117">ast_audiohook::manipulate_callback</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">options</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00970">jack_hook_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;{</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="code" href="../../d7/d85/structjack__data.html">jack_data</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(mode);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   );</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, data);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   <span class="keywordflow">if</span> ((datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../de/dcd/app__jack_8c.html#a5155602507bb67797bb798c178f587d2">jack_hook_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;JACK_HOOK already enabled for &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <span class="keywordflow">goto</span> return_error;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.mode) || strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.mode, <span class="stringliteral">&quot;manipulate&quot;</span>)) {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;&#39;%s&#39; is not a supported mode.  Only manipulate is supported.\n&quot;</span>,</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.mode, <span class="stringliteral">&quot;&lt;none&gt;&quot;</span>));</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordflow">goto</span> return_error;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   <span class="keywordflow">if</span> (!(jack_data = <a class="code" href="../../de/dcd/app__jack_8c.html#a349dbe766b1a0a00bfb9762f9de469ae">jack_data_alloc</a>()))</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <span class="keywordflow">goto</span> return_error;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options) &amp;&amp; <a class="code" href="../../de/dcd/app__jack_8c.html#a69c7df2c3f47aef6d50e31a750f8faca">handle_options</a>(jack_data, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options))</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="keywordflow">goto</span> return_error;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/dcd/app__jack_8c.html#a70868f10224e91e14181fe3d3c4b3fbc">init_jack_data</a>(chan, jack_data))</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <span class="keywordflow">goto</span> return_error;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../de/dcd/app__jack_8c.html#a5155602507bb67797bb798c178f587d2">jack_hook_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)))</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="keywordflow">goto</span> return_error;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;   jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#acc7a4aecf4d9e0ebfd9d541d6a20a029">has_audiohook</a> = 1;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <a class="code" href="../../d0/d79/audiohook_8h.html#a2cdfa0bb99da5247ab56d5ca67483a8f">ast_audiohook_init</a>(&amp;jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>, <a class="code" href="../../d0/d79/audiohook_8h.html#abce1d2faae234aa016905215014542b0a20dda44508f42e63dc8ed45760affe08">AST_AUDIOHOOK_TYPE_MANIPULATE</a>, <span class="stringliteral">&quot;JACK_HOOK&quot;</span>, <a class="code" href="../../d0/d79/audiohook_8h.html#a015c8ec4d6538b316b6297279134d87fadb150b4fd16c62ba0820d6b2c4b609f0">AST_AUDIOHOOK_MANIPULATE_ALL_RATES</a>);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;   jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>.<a class="code" href="../../d2/d49/structast__audiohook.html#a4592709f9cf7b13798a0afcafbd96893">manipulate_callback</a> = <a class="code" href="../../de/dcd/app__jack_8c.html#a86211168f3c8ac014e6caa5cc68a0f8c">jack_hook_callback</a>;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = jack_data;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d79/audiohook_8h.html#a94abfad20db137f9d6a33f641d37ac31">ast_audiohook_attach</a>(chan, &amp;jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>))</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <span class="keywordflow">goto</span> return_error;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, datastore))</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="keywordflow">goto</span> return_error;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;return_error:</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   <span class="keywordflow">if</span> (jack_data) {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <a class="code" href="../../de/dcd/app__jack_8c.html#a297dcd2c82381f6eb3978edd72625982">destroy_jack_data</a>(jack_data);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   }</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   <span class="keywordflow">if</span> (datastore) {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(datastore);</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   }</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structjack__data_html_acc7a4aecf4d9e0ebfd9d541d6a20a029"><div class="ttname"><a href="../../d7/d85/structjack__data.html#acc7a4aecf4d9e0ebfd9d541d6a20a029">jack_data::has_audiohook</a></div><div class="ttdeci">unsigned int has_audiohook</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00139">app_jack.c:139</a></div></div>
<div class="ttc" id="structjack__data_html"><div class="ttname"><a href="../../d7/d85/structjack__data.html">jack_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00119">app_jack.c:119</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="audiohook_8h_html_a015c8ec4d6538b316b6297279134d87fadb150b4fd16c62ba0820d6b2c4b609f0"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a015c8ec4d6538b316b6297279134d87fadb150b4fd16c62ba0820d6b2c4b609f0">AST_AUDIOHOOK_MANIPULATE_ALL_RATES</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00075">audiohook.h:75</a></div></div>
<div class="ttc" id="app__jack_8c_html_a69c7df2c3f47aef6d50e31a750f8faca"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a69c7df2c3f47aef6d50e31a750f8faca">handle_options</a></div><div class="ttdeci">static int handle_options(struct jack_data *jack_data, const char *__options_str)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00709">app_jack.c:709</a></div></div>
<div class="ttc" id="app__jack_8c_html_a70868f10224e91e14181fe3d3c4b3fbc"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a70868f10224e91e14181fe3d3c4b3fbc">init_jack_data</a></div><div class="ttdeci">static int init_jack_data(struct ast_channel *chan, struct jack_data *jack_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00390">app_jack.c:390</a></div></div>
<div class="ttc" id="audiohook_8h_html_a94abfad20db137f9d6a33f641d37ac31"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a94abfad20db137f9d6a33f641d37ac31">ast_audiohook_attach</a></div><div class="ttdeci">int ast_audiohook_attach(struct ast_channel *chan, struct ast_audiohook *audiohook)</div><div class="ttdoc">Attach audiohook to channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/audiohook_8c_source.html#l00501">audiohook.c:501</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="datastore_8h_html_aee27286888b30c6448a9bce928040a14"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a></div><div class="ttdeci">int ast_datastore_free(struct ast_datastore *datastore)</div><div class="ttdoc">Free a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00068">datastore.c:68</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__audiohook_html_a4592709f9cf7b13798a0afcafbd96893"><div class="ttname"><a href="../../d2/d49/structast__audiohook.html#a4592709f9cf7b13798a0afcafbd96893">ast_audiohook::manipulate_callback</a></div><div class="ttdeci">ast_audiohook_manipulate_callback manipulate_callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00117">audiohook.h:117</a></div></div>
<div class="ttc" id="audiohook_8h_html_a2cdfa0bb99da5247ab56d5ca67483a8f"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a2cdfa0bb99da5247ab56d5ca67483a8f">ast_audiohook_init</a></div><div class="ttdeci">int ast_audiohook_init(struct ast_audiohook *audiohook, enum ast_audiohook_type type, const char *source, enum ast_audiohook_init_flags flags)</div><div class="ttdoc">Initialize an audiohook structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/audiohook_8c_source.html#l00108">audiohook.c:108</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="audiohook_8h_html_abce1d2faae234aa016905215014542b0a20dda44508f42e63dc8ed45760affe08"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#abce1d2faae234aa016905215014542b0a20dda44508f42e63dc8ed45760affe08">AST_AUDIOHOOK_TYPE_MANIPULATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00038">audiohook.h:38</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="app__jack_8c_html_a297dcd2c82381f6eb3978edd72625982"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a297dcd2c82381f6eb3978edd72625982">destroy_jack_data</a></div><div class="ttdeci">static struct jack_data * destroy_jack_data(struct jack_data *jack_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00343">app_jack.c:343</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="app__jack_8c_html_a86211168f3c8ac014e6caa5cc68a0f8c"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a86211168f3c8ac014e6caa5cc68a0f8c">jack_hook_callback</a></div><div class="ttdeci">static int jack_hook_callback(struct ast_audiohook *audiohook, struct ast_channel *chan, struct ast_frame *frame, enum ast_audiohook_direction direction)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00833">app_jack.c:833</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="app__jack_8c_html_a349dbe766b1a0a00bfb9762f9de469ae"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a349dbe766b1a0a00bfb9762f9de469ae">jack_data_alloc</a></div><div class="ttdeci">static struct jack_data * jack_data_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00695">app_jack.c:695</a></div></div>
<div class="ttc" id="app__jack_8c_html_a5155602507bb67797bb798c178f587d2"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a5155602507bb67797bb798c178f587d2">jack_hook_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info jack_hook_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00828">app_jack.c:828</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="structjack__data_html_aaf5379c0defdcacdae37add0d0c8af1d"><div class="ttname"><a href="../../d7/d85/structjack__data.html#aaf5379c0defdcacdae37add0d0c8af1d">jack_data::audiohook</a></div><div class="ttdeci">struct ast_audiohook audiohook</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00142">app_jack.c:142</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ce9b1108dd9f252031ff2a21e4915fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce9b1108dd9f252031ff2a21e4915fb">&#9670;&nbsp;</a></span>handle_input()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_input </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jack_nframes_t&#160;</td>
          <td class="paramname"><em>nframes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *&#160;</td>
          <td class="paramname"><em>jack_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle jack input port. </p>
<p>Read nframes number of samples from the input buffer, resample it if necessary, and write it into the appropriate ringbuffer. </p>

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00241">241</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00129">jack_data::input_rb</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00137">jack_data::input_resample_factor</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00136">jack_data::input_resampler</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00319">jack_process()</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <span class="keywordtype">short</span> s_buf[nframes];</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   <span class="keywordtype">float</span> *in_buf = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="keywordtype">size_t</span> res;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <span class="keywordtype">size_t</span> write_len = <span class="keyword">sizeof</span>(s_buf);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <span class="keywordflow">if</span> (jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a41dc9f75ead42d9a6f0d266bab405621">input_resampler</a>) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordtype">int</span> total_in_buf_used = 0;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordtype">int</span> total_out_buf_used = 0;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordtype">float</span> f_buf[nframes + 1];</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      memset(f_buf, 0, <span class="keyword">sizeof</span>(f_buf));</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordflow">while</span> (total_in_buf_used &lt; nframes) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;         <span class="keywordtype">int</span> in_buf_used;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;         <span class="keywordtype">int</span> out_buf_used;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;         out_buf_used = resample_process(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a41dc9f75ead42d9a6f0d266bab405621">input_resampler</a>,</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a6271c2db9aa01f38587b22325a88ea9d">input_resample_factor</a>,</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            &amp;in_buf[total_in_buf_used], nframes - total_in_buf_used,</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            0, &amp;in_buf_used,</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            &amp;f_buf[total_out_buf_used], <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(f_buf) - total_out_buf_used);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;         <span class="keywordflow">if</span> (out_buf_used &lt; 0)</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;         total_out_buf_used += out_buf_used;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;         total_in_buf_used += in_buf_used;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;         <span class="keywordflow">if</span> (total_out_buf_used == <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(f_buf)) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Output buffer filled ... need to increase its size, &quot;</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;               <span class="stringliteral">&quot;nframes &#39;%d&#39;, total_out_buf_used &#39;%d&#39;\n&quot;</span>, nframes, total_out_buf_used);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;         }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; total_out_buf_used; i++)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;         s_buf[i] = f_buf[i] * (SHRT_MAX / 1.0);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      write_len = total_out_buf_used * <span class="keyword">sizeof</span>(<a class="code" href="../../da/d4e/db_8h.html#aa343fa3b3d06292b959ffdd4c4703b06">int16_t</a>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <span class="comment">/* No resampling needed */</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; nframes; i++)</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;         s_buf[i] = in_buf[i] * (SHRT_MAX / 1.0);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   res = jack_ringbuffer_write(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a0ef8a9cb712a596b344f3e4b6405daa3">input_rb</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span> *) s_buf, write_len);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <span class="keywordflow">if</span> (res != write_len) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Tried to write %d bytes to the ringbuffer, but only wrote %d\n&quot;</span>,</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;         (<span class="keywordtype">int</span>) <span class="keyword">sizeof</span>(s_buf), (<span class="keywordtype">int</span>) res);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="db_8h_html_aa343fa3b3d06292b959ffdd4c4703b06"><div class="ttname"><a href="../../da/d4e/db_8h.html#aa343fa3b3d06292b959ffdd4c4703b06">int16_t</a></div><div class="ttdeci">short int16_t</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4e/db_8h_source.html#l00059">db.h:59</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structjack__data_html_a41dc9f75ead42d9a6f0d266bab405621"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a41dc9f75ead42d9a6f0d266bab405621">jack_data::input_resampler</a></div><div class="ttdeci">void * input_resampler</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00136">app_jack.c:136</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structjack__data_html_a0ef8a9cb712a596b344f3e4b6405daa3"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a0ef8a9cb712a596b344f3e4b6405daa3">jack_data::input_rb</a></div><div class="ttdeci">jack_ringbuffer_t * input_rb</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00129">app_jack.c:129</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structjack__data_html_a6271c2db9aa01f38587b22325a88ea9d"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a6271c2db9aa01f38587b22325a88ea9d">jack_data::input_resample_factor</a></div><div class="ttdeci">double input_resample_factor</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00137">app_jack.c:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a953046302272e0bb7ed0c3c654ab40ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a953046302272e0bb7ed0c3c654ab40ba">&#9670;&nbsp;</a></span>handle_jack_audio()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_jack_audio </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *&#160;</td>
          <td class="paramname"><em>jack_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>out_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>handle jack audio </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chan</td><td>The Asterisk channel to write the frames to if no output frame is provided. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname"><a class="el" href="../../d7/d85/structjack__data.html">jack_data</a></td><td>This is the <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> struct that contains the input ringbuffer that audio will be read from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_frame</td><td>If this argument is non-NULL, then assuming there is enough data avilable in the ringbuffer, the audio in this frame will get replaced with audio from the input buffer. If there is not enough data available to read at this time, then the frame data gets zeroed out.</td></tr>
  </table>
  </dd>
</dl>
<p>Read data from the input ringbuffer, which is the properly resampled audio that was read from the jack input port. Write it to the channel in 20 ms frames, or fill up an output frame instead if one is provided.</p>
<dl class="section return"><dt>Returns</dt><dd>Nothing. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00621">621</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05189">ast_write()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00131">jack_data::audiohook_format</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">ast_frame::datalen</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00133">jack_data::frame_datalen</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00129">jack_data::input_rb</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::ptr</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00173">ast_frame::samples</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00760">jack_exec()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00833">jack_hook_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;{</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <span class="keywordtype">short</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a80a45aba779b2c694662289279f6fef4">frame_datalen</a>];</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> f = {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      .<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>,</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      .subclass.format = jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a36652433e613bdb7aba5f4c1cb0f6135">audiohook_format</a>,</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      .src = <span class="stringliteral">&quot;JACK&quot;</span>,</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      .data.ptr = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>,</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      .datalen = <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>),</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      .<a class="code" href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">samples</a> = <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(buf),</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   };</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keywordtype">size_t</span> res, read_len;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordtype">char</span> *read_buf;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      read_len = out_frame ? out_frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a> : <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      read_buf = out_frame ? out_frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a> : <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      res = jack_ringbuffer_read_space(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a0ef8a9cb712a596b344f3e4b6405daa3">input_rb</a>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="keywordflow">if</span> (res &lt; read_len) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;         <span class="comment">/* Not enough data ready for another frame, move on ... */</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;         <span class="keywordflow">if</span> (out_frame) {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Sending an empty frame for the JACK_HOOK\n&quot;</span>);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            memset(out_frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a>, 0, out_frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a>);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;         }</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      res = jack_ringbuffer_read(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a0ef8a9cb712a596b344f3e4b6405daa3">input_rb</a>, (<span class="keywordtype">char</span> *) read_buf, read_len);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="keywordflow">if</span> (res &lt; read_len) {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error reading from ringbuffer, even though it said there was enough data\n&quot;</span>);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      }</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="keywordflow">if</span> (out_frame) {</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;         <span class="comment">/* If an output frame was provided, then we just want to fill up the</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">          * buffer in that frame and return. */</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a79c413d51b7135404d5cacf811649a61">ast_write</a>(chan, &amp;f);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="structast__frame_html_add9af9569af79ec26dd741fb226b38ba"><div class="ttname"><a href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ast_frame::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">include/asterisk/frame.h:183</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__frame_html_ad67e07841d1233e596e6f822a3c81f6b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">ast_frame::datalen</a></div><div class="ttdeci">int datalen</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">include/asterisk/frame.h:171</a></div></div>
<div class="ttc" id="structjack__data_html_a0ef8a9cb712a596b344f3e4b6405daa3"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a0ef8a9cb712a596b344f3e4b6405daa3">jack_data::input_rb</a></div><div class="ttdeci">jack_ringbuffer_t * input_rb</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00129">app_jack.c:129</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="channel_8h_html_a79c413d51b7135404d5cacf811649a61"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a79c413d51b7135404d5cacf811649a61">ast_write</a></div><div class="ttdeci">int ast_write(struct ast_channel *chan, struct ast_frame *frame)</div><div class="ttdoc">Write a frame to a channel This function writes the given frame to the indicated channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05189">channel.c:5189</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="structjack__data_html_a80a45aba779b2c694662289279f6fef4"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a80a45aba779b2c694662289279f6fef4">jack_data::frame_datalen</a></div><div class="ttdeci">unsigned int frame_datalen</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00133">app_jack.c:133</a></div></div>
<div class="ttc" id="structast__frame_html_a4027905f872af30d910929b07e261ca5"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a></div><div class="ttdeci">union ast_frame::@263 data</div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="structjack__data_html_a36652433e613bdb7aba5f4c1cb0f6135"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a36652433e613bdb7aba5f4c1cb0f6135">jack_data::audiohook_format</a></div><div class="ttdeci">struct ast_format * audiohook_format</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00131">app_jack.c:131</a></div></div>
<div class="ttc" id="structast__frame_html_a37672e6b906143604cefd3e959777b31"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">ast_frame::samples</a></div><div class="ttdeci">int samples</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00173">include/asterisk/frame.h:173</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a69c7df2c3f47aef6d50e31a750f8faca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69c7df2c3f47aef6d50e31a750f8faca">&#9670;&nbsp;</a></span>handle_options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int handle_options </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *&#160;</td>
          <td class="paramname"><em>jack_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>__options_str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>This must be done before calling <a class="el" href="../../de/dcd/app__jack_8c.html#a70868f10224e91e14181fe3d3c4b3fbc">init_jack_data()</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00709">709</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02906">ast_app_parse_options()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00125">jack_data::client_name</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00125">jack_data::connect_input_port</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00125">jack_data::connect_output_port</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00693">jack_exec_options</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00140">jack_data::no_start_server</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00684">OPT_ARG_ARRAY_SIZE</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00681">OPT_ARG_CLIENT_NAME</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00679">OPT_ARG_INPUT_PORT</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00680">OPT_ARG_OUTPUT_PORT</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00678">OPT_ARG_SERVER_NAME</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00674">OPT_CLIENT_NAME</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00671">OPT_INPUT_PORT</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00673">OPT_NOSTART_SERVER</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00672">OPT_OUTPUT_PORT</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00670">OPT_SERVER_NAME</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00125">jack_data::server_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00875">enable_jack_hook()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00760">jack_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;{</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> <a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a> = { 0, };</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d9/d1a/app__skel_8c.html#a37e8dbf32f7145782e0bd5fe06c2b44f">option_args</a>[<a class="code" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291daec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a>];</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <span class="keywordtype">char</span> *options_str;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   options_str = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(__options_str);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af40039f1c49c16d0f6fa33fe9c43a0cb">ast_app_parse_options</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#ac4f3730c9ff1d0541d5fb326c9623f1b">jack_exec_options</a>, &amp;options, option_args, options_str);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;options, <a class="code" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba2e68c9d2bd481b81a234a923cf259877">OPT_SERVER_NAME</a>)) {</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(option_args[<a class="code" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da093e7df6ef7312d35fb4b03f0c3e7c57">OPT_ARG_SERVER_NAME</a>]))</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(jack_data, server_name, option_args[OPT_ARG_SERVER_NAME]);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;A server name must be provided with the s() option\n&quot;</span>);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      }</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;options, <a class="code" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba11996d3c883f5db7570198567618291d">OPT_CLIENT_NAME</a>)) {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(option_args[<a class="code" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da03ac82a78b9b7c9a19d8d061580e5809">OPT_ARG_CLIENT_NAME</a>]))</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(jack_data, client_name, option_args[OPT_ARG_CLIENT_NAME]);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;A client name must be provided with the c() option\n&quot;</span>);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      }</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;options, <a class="code" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba80be01ac3ad9829dd35ee410e5482dee">OPT_INPUT_PORT</a>)) {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(option_args[<a class="code" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291dac22235513ad8e730ca873c0af182a939">OPT_ARG_INPUT_PORT</a>]))</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(jack_data, connect_input_port, option_args[OPT_ARG_INPUT_PORT]);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;A name must be provided with the i() option\n&quot;</span>);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;   }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;options, <a class="code" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbad0daca2a5f287cf652d35aaed1922889">OPT_OUTPUT_PORT</a>)) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(option_args[<a class="code" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da7e5c4987d926a3e4a483ff62d7e76f38">OPT_ARG_OUTPUT_PORT</a>]))</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(jack_data, connect_output_port, option_args[OPT_ARG_OUTPUT_PORT]);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;A name must be provided with the o() option\n&quot;</span>);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;   jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#aac63692b25679226c319dfd5c99e589b">no_start_server</a> = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;options, <a class="code" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbaf8158643a36d2168f796acba3a07676f">OPT_NOSTART_SERVER</a>) ? 1 : 0;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;}</div><div class="ttc" id="app__jack_8c_html_a0ed680fdb405e7195d9f14032851eebbaf8158643a36d2168f796acba3a07676f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbaf8158643a36d2168f796acba3a07676f">OPT_NOSTART_SERVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00673">app_jack.c:673</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0ed680fdb405e7195d9f14032851eebba11996d3c883f5db7570198567618291d"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba11996d3c883f5db7570198567618291d">OPT_CLIENT_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00674">app_jack.c:674</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0944a4353780132eeab7b06e3e42291daec7326f60e7edad15d96ff935e5616d6"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291daec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00684">app_jack.c:684</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0944a4353780132eeab7b06e3e42291da03ac82a78b9b7c9a19d8d061580e5809"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da03ac82a78b9b7c9a19d8d061580e5809">OPT_ARG_CLIENT_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00681">app_jack.c:681</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="structjack__data_html_aac63692b25679226c319dfd5c99e589b"><div class="ttname"><a href="../../d7/d85/structjack__data.html#aac63692b25679226c319dfd5c99e589b">jack_data::no_start_server</a></div><div class="ttdeci">unsigned int no_start_server</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00140">app_jack.c:140</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0ed680fdb405e7195d9f14032851eebba80be01ac3ad9829dd35ee410e5482dee"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba80be01ac3ad9829dd35ee410e5482dee">OPT_INPUT_PORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00671">app_jack.c:671</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0ed680fdb405e7195d9f14032851eebba2e68c9d2bd481b81a234a923cf259877"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba2e68c9d2bd481b81a234a923cf259877">OPT_SERVER_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00670">app_jack.c:670</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac4f3730c9ff1d0541d5fb326c9623f1b"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac4f3730c9ff1d0541d5fb326c9623f1b">jack_exec_options</a></div><div class="ttdeci">static const struct ast_app_option jack_exec_options[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00693">app_jack.c:693</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_af40039f1c49c16d0f6fa33fe9c43a0cb"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#af40039f1c49c16d0f6fa33fe9c43a0cb">ast_app_parse_options</a></div><div class="ttdeci">int ast_app_parse_options(const struct ast_app_option *options, struct ast_flags *flags, char **args, char *optstr)</div><div class="ttdoc">Parses a string containing application options and sets flags/arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l02906">main/app.c:2906</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0944a4353780132eeab7b06e3e42291da7e5c4987d926a3e4a483ff62d7e76f38"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da7e5c4987d926a3e4a483ff62d7e76f38">OPT_ARG_OUTPUT_PORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00680">app_jack.c:680</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0944a4353780132eeab7b06e3e42291da093e7df6ef7312d35fb4b03f0c3e7c57"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da093e7df6ef7312d35fb4b03f0c3e7c57">OPT_ARG_SERVER_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00678">app_jack.c:678</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0944a4353780132eeab7b06e3e42291dac22235513ad8e730ca873c0af182a939"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291dac22235513ad8e730ca873c0af182a939">OPT_ARG_INPUT_PORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00679">app_jack.c:679</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="app__skel_8c_html_a37e8dbf32f7145782e0bd5fe06c2b44f"><div class="ttname"><a href="../../d9/d1a/app__skel_8c.html#a37e8dbf32f7145782e0bd5fe06c2b44f">option_args</a></div><div class="ttdeci">option_args</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1a/app__skel_8c_source.html#l00141">app_skel.c:141</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="app__jack_8c_html_a0ed680fdb405e7195d9f14032851eebbad0daca2a5f287cf652d35aaed1922889"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbad0daca2a5f287cf652d35aaed1922889">OPT_OUTPUT_PORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00672">app_jack.c:672</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a343f04835e5cb2cabd569304226c9efa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a343f04835e5cb2cabd569304226c9efa">&#9670;&nbsp;</a></span>handle_output()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_output </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jack_nframes_t&#160;</td>
          <td class="paramname"><em>nframes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *&#160;</td>
          <td class="paramname"><em>jack_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle jack output port. </p>
<p>Read nframes number of samples from the ringbuffer and write it out to the output port buffer. </p>

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00304">304</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00130">jack_data::output_rb</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00319">jack_process()</a>.</p>
<div class="fragment"><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   <span class="keywordtype">size_t</span> res, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   len = nframes * <span class="keyword">sizeof</span>(float);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   res = jack_ringbuffer_read(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a77f80958d20ee20d2fbbacf85b17a588">output_rb</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, len);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <span class="keywordflow">if</span> (len != res) {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Wanted %d bytes to send to the output port, &quot;</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;         <span class="stringliteral">&quot;but only got %d\n&quot;</span>, (<span class="keywordtype">int</span>) len, (<span class="keywordtype">int</span>) res);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structjack__data_html_a77f80958d20ee20d2fbbacf85b17a588"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a77f80958d20ee20d2fbbacf85b17a588">jack_data::output_rb</a></div><div class="ttdeci">jack_ringbuffer_t * output_rb</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00130">app_jack.c:130</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a70868f10224e91e14181fe3d3c4b3fbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70868f10224e91e14181fe3d3c4b3fbc">&#9670;&nbsp;</a></span>init_jack_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int init_jack_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *&#160;</td>
          <td class="paramname"><em>jack_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00390">390</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00856">ast_channel_readformat()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00520">ast_format_cache_get_slin_by_rate()</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00334">ast_format_get_name()</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00379">ast_format_get_sample_rate()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00131">jack_data::audiohook_format</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00132">jack_data::audiohook_rate</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00126">jack_data::client</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00125">jack_data::client_name</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00125">jack_data::connect_input_port</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00125">jack_data::connect_output_port</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00133">jack_data::frame_datalen</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00127">jack_data::input_port</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00129">jack_data::input_rb</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00319">jack_process()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00336">jack_shutdown()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00174">log_jack_status()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00140">jack_data::no_start_server</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00128">jack_data::output_port</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00130">jack_data::output_rb</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00064">RINGBUFFER_FRAME_CAPACITY</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00125">jack_data::server_name</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00146">status</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00875">enable_jack_hook()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00760">jack_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;{</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *client_name;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   jack_status_t <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a> = 0;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   jack_options_t jack_options = JackNullOption;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> channel_rate;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ringbuffer_size;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   <span class="comment">/* Deducing audiohook sample rate from channel format</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">      ATTENTION: Might be problematic, if channel has different sampling than used by audiohook!</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   channel_rate = <a class="code" href="../../d0/d0a/format_8h.html#a499e920008f775eebadd958a42e85862">ast_format_get_sample_rate</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a>(chan));</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a36652433e613bdb7aba5f4c1cb0f6135">audiohook_format</a> = <a class="code" href="../../db/d1c/format__cache_8h.html#ab660f51155ceeabb4abd0e25cd3a11a6">ast_format_cache_get_slin_by_rate</a>(channel_rate);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#adbb6dbd1e1ece5c656f76ee5eead7d31">audiohook_rate</a> = <a class="code" href="../../d0/d0a/format_8h.html#a499e920008f775eebadd958a42e85862">ast_format_get_sample_rate</a>(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a36652433e613bdb7aba5f4c1cb0f6135">audiohook_format</a>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <span class="comment">/* Guessing frame-&gt;datalen assuming a ptime of 20ms */</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a80a45aba779b2c694662289279f6fef4">frame_datalen</a> = jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#adbb6dbd1e1ece5c656f76ee5eead7d31">audiohook_rate</a> / 50;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   ringbuffer_size = jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a80a45aba779b2c694662289279f6fef4">frame_datalen</a> * <a class="code" href="../../de/dcd/app__jack_8c.html#a875e4913740762cdf499ef7f8d8089f3">RINGBUFFER_FRAME_CAPACITY</a>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Audiohook parameters: slin-format:%s, rate:%d, frame-len:%d, ringbuffer_size: %d\n&quot;</span>,</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;       <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a36652433e613bdb7aba5f4c1cb0f6135">audiohook_format</a>), jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#adbb6dbd1e1ece5c656f76ee5eead7d31">audiohook_rate</a>, jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a80a45aba779b2c694662289279f6fef4">frame_datalen</a>, ringbuffer_size);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a4097ef8c528bea50a5a2a4f50df17150">client_name</a>)) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      client_name = jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a4097ef8c528bea50a5a2a4f50df17150">client_name</a>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      client_name = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <span class="keywordflow">if</span> (!(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a77f80958d20ee20d2fbbacf85b17a588">output_rb</a> = jack_ringbuffer_create(ringbuffer_size)))</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <span class="keywordflow">if</span> (!(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a0ef8a9cb712a596b344f3e4b6405daa3">input_rb</a> = jack_ringbuffer_create(ringbuffer_size)))</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <span class="keywordflow">if</span> (jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#aac63692b25679226c319dfd5c99e589b">no_start_server</a>)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      jack_options |= JackNoStartServer;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#ac3a3651fd14428284b73babbd6037eae">server_name</a>)) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      jack_options |= JackServerName;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a> = jack_client_open(client_name, jack_options, &amp;status,</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;         jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#ac3a3651fd14428284b73babbd6037eae">server_name</a>);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a> = jack_client_open(client_name, jack_options, &amp;status);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="keywordflow">if</span> (status)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="../../de/dcd/app__jack_8c.html#aafb72b66521b4060855b912d62c7b2ba">log_jack_status</a>(<span class="stringliteral">&quot;Client Open Status&quot;</span>, status);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="keywordflow">if</span> (!jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#af830efb2d3206ba81602df7945863a2d">input_port</a> = jack_port_register(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>, <span class="stringliteral">&quot;input&quot;</span>,</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      JACK_DEFAULT_AUDIO_TYPE, JackPortIsInput | JackPortIsTerminal, 0);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   <span class="keywordflow">if</span> (!jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#af830efb2d3206ba81602df7945863a2d">input_port</a>) {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to create input port for jack port\n&quot;</span>);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a163b2d99fab30f4f80d37b8e5fe6a9a2">output_port</a> = jack_port_register(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>, <span class="stringliteral">&quot;output&quot;</span>,</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      JACK_DEFAULT_AUDIO_TYPE, JackPortIsOutput | JackPortIsTerminal, 0);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   <span class="keywordflow">if</span> (!jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a163b2d99fab30f4f80d37b8e5fe6a9a2">output_port</a>) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to create output port for jack port\n&quot;</span>);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   <span class="keywordflow">if</span> (jack_set_process_callback(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>, <a class="code" href="../../de/dcd/app__jack_8c.html#a1926aa55b7653ba0edc16abd007a1325">jack_process</a>, jack_data)) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to register process callback with jack client\n&quot;</span>);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   jack_on_shutdown(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>, <a class="code" href="../../de/dcd/app__jack_8c.html#aa368774daa7b40c1ee97aeab5478974f">jack_shutdown</a>, jack_data);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   <span class="keywordflow">if</span> (jack_activate(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>)) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to activate jack client\n&quot;</span>);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   <span class="keywordflow">while</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a4aa9212035ef32aad278be815ab39fd9">connect_input_port</a>)) {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> **ports;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      ports = jack_get_ports(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>, jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a4aa9212035ef32aad278be815ab39fd9">connect_input_port</a>,</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, JackPortIsInput);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">if</span> (!ports) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;No input port matching &#39;%s&#39; was found\n&quot;</span>,</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a4aa9212035ef32aad278be815ab39fd9">connect_input_port</a>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">for</span> (i = 0; ports[i]; i++) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Found port &#39;%s&#39; that matched specified input port &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            ports[i], jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a4aa9212035ef32aad278be815ab39fd9">connect_input_port</a>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="keywordflow">if</span> (jack_connect(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>, jack_port_name(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a163b2d99fab30f4f80d37b8e5fe6a9a2">output_port</a>), ports[0])) {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to connect &#39;%s&#39; to &#39;%s&#39;\n&quot;</span>, ports[0],</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            jack_port_name(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a163b2d99fab30f4f80d37b8e5fe6a9a2">output_port</a>));</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Connected &#39;%s&#39; to &#39;%s&#39;\n&quot;</span>, ports[0],</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            jack_port_name(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a163b2d99fab30f4f80d37b8e5fe6a9a2">output_port</a>));</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      jack_free(ports);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   <span class="keywordflow">while</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a9e529a201c09036f36cad7a335e87e97">connect_output_port</a>)) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> **ports;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      ports = jack_get_ports(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>, jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a9e529a201c09036f36cad7a335e87e97">connect_output_port</a>,</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, JackPortIsOutput);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">if</span> (!ports) {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;No output port matching &#39;%s&#39; was found\n&quot;</span>,</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a9e529a201c09036f36cad7a335e87e97">connect_output_port</a>);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordflow">for</span> (i = 0; ports[i]; i++) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Found port &#39;%s&#39; that matched specified output port &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            ports[i], jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a9e529a201c09036f36cad7a335e87e97">connect_output_port</a>);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">if</span> (jack_connect(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">client</a>, ports[0], jack_port_name(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#af830efb2d3206ba81602df7945863a2d">input_port</a>))) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to connect &#39;%s&#39; to &#39;%s&#39;\n&quot;</span>, ports[0],</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            jack_port_name(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#af830efb2d3206ba81602df7945863a2d">input_port</a>));</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Connected &#39;%s&#39; to &#39;%s&#39;\n&quot;</span>, ports[0],</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            jack_port_name(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#af830efb2d3206ba81602df7945863a2d">input_port</a>));</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      jack_free(ports);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;   }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;}</div><div class="ttc" id="structjack__data_html_a4aa9212035ef32aad278be815ab39fd9"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a4aa9212035ef32aad278be815ab39fd9">jack_data::connect_input_port</a></div><div class="ttdeci">const ast_string_field connect_input_port</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00125">app_jack.c:125</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="app__jack_8c_html_aafb72b66521b4060855b912d62c7b2ba"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#aafb72b66521b4060855b912d62c7b2ba">log_jack_status</a></div><div class="ttdeci">static void log_jack_status(const char *prefix, jack_status_t status)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00174">app_jack.c:174</a></div></div>
<div class="ttc" id="structjack__data_html_aac63692b25679226c319dfd5c99e589b"><div class="ttname"><a href="../../d7/d85/structjack__data.html#aac63692b25679226c319dfd5c99e589b">jack_data::no_start_server</a></div><div class="ttdeci">unsigned int no_start_server</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00140">app_jack.c:140</a></div></div>
<div class="ttc" id="app__jack_8c_html_aa368774daa7b40c1ee97aeab5478974f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#aa368774daa7b40c1ee97aeab5478974f">jack_shutdown</a></div><div class="ttdeci">static void jack_shutdown(void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00336">app_jack.c:336</a></div></div>
<div class="ttc" id="format_8h_html_a082f0fca94b18ba466f6e28d3ccb2fc8"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a></div><div class="ttdeci">const char * ast_format_get_name(const struct ast_format *format)</div><div class="ttdoc">Get the name associated with a format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00334">format.c:334</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structjack__data_html_a163b2d99fab30f4f80d37b8e5fe6a9a2"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a163b2d99fab30f4f80d37b8e5fe6a9a2">jack_data::output_port</a></div><div class="ttdeci">jack_port_t * output_port</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00128">app_jack.c:128</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structjack__data_html_af830efb2d3206ba81602df7945863a2d"><div class="ttname"><a href="../../d7/d85/structjack__data.html#af830efb2d3206ba81602df7945863a2d">jack_data::input_port</a></div><div class="ttdeci">jack_port_t * input_port</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00127">app_jack.c:127</a></div></div>
<div class="ttc" id="channel_8h_html_aaced431562223538a94e0e69cf94151a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a></div><div class="ttdeci">struct ast_format * ast_channel_readformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00856">channel_internal_api.c:856</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structjack__data_html_afed7053cd7bdd1cce33dec7213f340ea"><div class="ttname"><a href="../../d7/d85/structjack__data.html#afed7053cd7bdd1cce33dec7213f340ea">jack_data::client</a></div><div class="ttdeci">jack_client_t * client</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00126">app_jack.c:126</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="structjack__data_html_a0ef8a9cb712a596b344f3e4b6405daa3"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a0ef8a9cb712a596b344f3e4b6405daa3">jack_data::input_rb</a></div><div class="ttdeci">jack_ringbuffer_t * input_rb</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00129">app_jack.c:129</a></div></div>
<div class="ttc" id="structjack__data_html_a77f80958d20ee20d2fbbacf85b17a588"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a77f80958d20ee20d2fbbacf85b17a588">jack_data::output_rb</a></div><div class="ttdeci">jack_ringbuffer_t * output_rb</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00130">app_jack.c:130</a></div></div>
<div class="ttc" id="structjack__data_html_ac3a3651fd14428284b73babbd6037eae"><div class="ttname"><a href="../../d7/d85/structjack__data.html#ac3a3651fd14428284b73babbd6037eae">jack_data::server_name</a></div><div class="ttdeci">const ast_string_field server_name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00125">app_jack.c:125</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structjack__data_html_a4097ef8c528bea50a5a2a4f50df17150"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a4097ef8c528bea50a5a2a4f50df17150">jack_data::client_name</a></div><div class="ttdeci">const ast_string_field client_name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00125">app_jack.c:125</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="app__jack_8c_html_a1926aa55b7653ba0edc16abd007a1325"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a1926aa55b7653ba0edc16abd007a1325">jack_process</a></div><div class="ttdeci">static int jack_process(jack_nframes_t nframes, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00319">app_jack.c:319</a></div></div>
<div class="ttc" id="app__jack_8c_html_a875e4913740762cdf499ef7f8d8089f3"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a875e4913740762cdf499ef7f8d8089f3">RINGBUFFER_FRAME_CAPACITY</a></div><div class="ttdeci">#define RINGBUFFER_FRAME_CAPACITY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00064">app_jack.c:64</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structjack__data_html_adbb6dbd1e1ece5c656f76ee5eead7d31"><div class="ttname"><a href="../../d7/d85/structjack__data.html#adbb6dbd1e1ece5c656f76ee5eead7d31">jack_data::audiohook_rate</a></div><div class="ttdeci">unsigned int audiohook_rate</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00132">app_jack.c:132</a></div></div>
<div class="ttc" id="format_8h_html_a499e920008f775eebadd958a42e85862"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a499e920008f775eebadd958a42e85862">ast_format_get_sample_rate</a></div><div class="ttdeci">unsigned int ast_format_get_sample_rate(const struct ast_format *format)</div><div class="ttdoc">Get the sample rate of a media format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00379">format.c:379</a></div></div>
<div class="ttc" id="structjack__data_html_a80a45aba779b2c694662289279f6fef4"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a80a45aba779b2c694662289279f6fef4">jack_data::frame_datalen</a></div><div class="ttdeci">unsigned int frame_datalen</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00133">app_jack.c:133</a></div></div>
<div class="ttc" id="structjack__data_html_a9e529a201c09036f36cad7a335e87e97"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a9e529a201c09036f36cad7a335e87e97">jack_data::connect_output_port</a></div><div class="ttdeci">const ast_string_field connect_output_port</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00125">app_jack.c:125</a></div></div>
<div class="ttc" id="structjack__data_html_a36652433e613bdb7aba5f4c1cb0f6135"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a36652433e613bdb7aba5f4c1cb0f6135">jack_data::audiohook_format</a></div><div class="ttdeci">struct ast_format * audiohook_format</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00131">app_jack.c:131</a></div></div>
<div class="ttc" id="format__cache_8h_html_ab660f51155ceeabb4abd0e25cd3a11a6"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#ab660f51155ceeabb4abd0e25cd3a11a6">ast_format_cache_get_slin_by_rate</a></div><div class="ttdeci">struct ast_format * ast_format_cache_get_slin_by_rate(unsigned int rate)</div><div class="ttdoc">Retrieve the best signed linear format given a sample rate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00520">format_cache.c:520</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a349dbe766b1a0a00bfb9762f9de469ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a349dbe766b1a0a00bfb9762f9de469ae">&#9670;&nbsp;</a></span>jack_data_alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a>* jack_data_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00695">695</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00426">ast_calloc_with_stringfields</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00875">enable_jack_hook()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00760">jack_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;{</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="code" href="../../d7/d85/structjack__data.html">jack_data</a>;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   <span class="keywordflow">if</span> (!(jack_data = <a class="code" href="../../d1/d0f/stringfields_8h.html#a3b64083b978bdb9d28222357acf5aff7">ast_calloc_with_stringfields</a>(1, <span class="keyword">struct</span> jack_data, 32))) {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   <span class="keywordflow">return</span> jack_data;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div><div class="ttc" id="structjack__data_html"><div class="ttname"><a href="../../d7/d85/structjack__data.html">jack_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00119">app_jack.c:119</a></div></div>
<div class="ttc" id="stringfields_8h_html_a3b64083b978bdb9d28222357acf5aff7"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a3b64083b978bdb9d28222357acf5aff7">ast_calloc_with_stringfields</a></div><div class="ttdeci">#define ast_calloc_with_stringfields(n, type, size)</div><div class="ttdoc">Allocate a structure with embedded stringfields in a single allocation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00426">stringfields.h:426</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e3f8c2cf48f2833fa76cb0e74614e8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e3f8c2cf48f2833fa76cb0e74614e8a">&#9670;&nbsp;</a></span>jack_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jack_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00760">760</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00278">AST_CONTROL_HANGUP</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04302">ast_read()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05849">ast_set_read_format()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05890">ast_set_write_format()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03171">ast_waitfor()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00131">jack_data::audiohook_format</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00343">destroy_jack_data()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00621">handle_jack_audio()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00709">handle_options()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00390">init_jack_data()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00695">jack_data_alloc()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00537">queue_voice_frame()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00138">jack_data::stop</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l01038">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;{</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="code" href="../../d7/d85/structjack__data.html">jack_data</a>;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <span class="keywordflow">if</span> (!(jack_data = <a class="code" href="../../de/dcd/app__jack_8c.html#a349dbe766b1a0a00bfb9762f9de469ae">jack_data_alloc</a>()))</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data) &amp;&amp; <a class="code" href="../../de/dcd/app__jack_8c.html#a69c7df2c3f47aef6d50e31a750f8faca">handle_options</a>(jack_data, data)) {</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <a class="code" href="../../de/dcd/app__jack_8c.html#a297dcd2c82381f6eb3978edd72625982">destroy_jack_data</a>(jack_data);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   }</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/dcd/app__jack_8c.html#a70868f10224e91e14181fe3d3c4b3fbc">init_jack_data</a>(chan, jack_data)) {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <a class="code" href="../../de/dcd/app__jack_8c.html#a297dcd2c82381f6eb3978edd72625982">destroy_jack_data</a>(jack_data);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   }</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(chan, jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a36652433e613bdb7aba5f4c1cb0f6135">audiohook_format</a>)) {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <a class="code" href="../../de/dcd/app__jack_8c.html#a297dcd2c82381f6eb3978edd72625982">destroy_jack_data</a>(jack_data);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   }</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a>(chan, jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a36652433e613bdb7aba5f4c1cb0f6135">audiohook_format</a>)) {</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <a class="code" href="../../de/dcd/app__jack_8c.html#a297dcd2c82381f6eb3978edd72625982">destroy_jack_data</a>(jack_data);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   }</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;   <span class="keywordflow">while</span> (!jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a111277a0849f92b793ed6aa1efe54462">stop</a>) {</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *f;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a60e0bcaed001e8d5ed1ba0eb2644b3cc">ast_waitfor</a>(chan, -1) &lt; 0) {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      f = <a class="code" href="../../d5/d7b/channel_8h.html#a7ef6737309dc9e8b6c4a7cb4800638b1">ast_read</a>(chan);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="keywordflow">if</span> (!f) {</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;         jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a111277a0849f92b793ed6aa1efe54462">stop</a> = 1;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <span class="keywordflow">switch</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a>) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a>:</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;         <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba">AST_CONTROL_HANGUP</a>)</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a111277a0849f92b793ed6aa1efe54462">stop</a> = 1;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>:</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;         <a class="code" href="../../de/dcd/app__jack_8c.html#a01d124d44868b3a2bb4c395405ded087">queue_voice_frame</a>(jack_data, f);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      }</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <a class="code" href="../../de/dcd/app__jack_8c.html#a953046302272e0bb7ed0c3c654ab40ba">handle_jack_audio</a>(chan, jack_data, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   }</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;   jack_data = <a class="code" href="../../de/dcd/app__jack_8c.html#a297dcd2c82381f6eb3978edd72625982">destroy_jack_data</a>(jack_data);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}</div><div class="ttc" id="structjack__data_html"><div class="ttname"><a href="../../d7/d85/structjack__data.html">jack_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00119">app_jack.c:119</a></div></div>
<div class="ttc" id="app__jack_8c_html_a69c7df2c3f47aef6d50e31a750f8faca"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a69c7df2c3f47aef6d50e31a750f8faca">handle_options</a></div><div class="ttdeci">static int handle_options(struct jack_data *jack_data, const char *__options_str)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00709">app_jack.c:709</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="channel_8h_html_a7ef6737309dc9e8b6c4a7cb4800638b1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ef6737309dc9e8b6c4a7cb4800638b1">ast_read</a></div><div class="ttdeci">struct ast_frame * ast_read(struct ast_channel *chan)</div><div class="ttdoc">Reads a frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04302">channel.c:4302</a></div></div>
<div class="ttc" id="structjack__data_html_a111277a0849f92b793ed6aa1efe54462"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a111277a0849f92b793ed6aa1efe54462">jack_data::stop</a></div><div class="ttdeci">unsigned int stop</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00138">app_jack.c:138</a></div></div>
<div class="ttc" id="app__jack_8c_html_a70868f10224e91e14181fe3d3c4b3fbc"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a70868f10224e91e14181fe3d3c4b3fbc">init_jack_data</a></div><div class="ttdeci">static int init_jack_data(struct ast_channel *chan, struct jack_data *jack_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00390">app_jack.c:390</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="channel_8h_html_a9107a83365cbf327cc0d12cb0dbd28d8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a></div><div class="ttdeci">int ast_set_read_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets read format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05849">channel.c:5849</a></div></div>
<div class="ttc" id="channel_8h_html_abbdfb98077180544657b2d16c5d25f74"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a></div><div class="ttdeci">int ast_set_write_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets write format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05890">channel.c:5890</a></div></div>
<div class="ttc" id="app__jack_8c_html_a953046302272e0bb7ed0c3c654ab40ba"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a953046302272e0bb7ed0c3c654ab40ba">handle_jack_audio</a></div><div class="ttdeci">static void handle_jack_audio(struct ast_channel *chan, struct jack_data *jack_data, struct ast_frame *out_frame)</div><div class="ttdoc">handle jack audio </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00621">app_jack.c:621</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="app__jack_8c_html_a297dcd2c82381f6eb3978edd72625982"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a297dcd2c82381f6eb3978edd72625982">destroy_jack_data</a></div><div class="ttdeci">static struct jack_data * destroy_jack_data(struct jack_data *jack_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00343">app_jack.c:343</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba">AST_CONTROL_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00278">include/asterisk/frame.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a60e0bcaed001e8d5ed1ba0eb2644b3cc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a60e0bcaed001e8d5ed1ba0eb2644b3cc">ast_waitfor</a></div><div class="ttdeci">int ast_waitfor(struct ast_channel *chan, int ms)</div><div class="ttdoc">Wait for input on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l03171">channel.c:3171</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="app__jack_8c_html_a349dbe766b1a0a00bfb9762f9de469ae"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a349dbe766b1a0a00bfb9762f9de469ae">jack_data_alloc</a></div><div class="ttdeci">static struct jack_data * jack_data_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00695">app_jack.c:695</a></div></div>
<div class="ttc" id="app__jack_8c_html_a01d124d44868b3a2bb4c395405ded087"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a01d124d44868b3a2bb4c395405ded087">queue_voice_frame</a></div><div class="ttdeci">static int queue_voice_frame(struct jack_data *jack_data, struct ast_frame *f)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00537">app_jack.c:537</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="structjack__data_html_a36652433e613bdb7aba5f4c1cb0f6135"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a36652433e613bdb7aba5f4c1cb0f6135">jack_data::audiohook_format</a></div><div class="ttdeci">struct ast_format * audiohook_format</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00131">app_jack.c:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a86211168f3c8ac014e6caa5cc68a0f8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86211168f3c8ac014e6caa5cc68a0f8c">&#9670;&nbsp;</a></span>jack_hook_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jack_hook_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d49/structast__audiohook.html">ast_audiohook</a> *&#160;</td>
          <td class="paramname"><em>audiohook</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d0/d79/audiohook_8h.html#a34d75d3d5e7418b6a772e3d522a16899">ast_audiohook_direction</a>&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00833">833</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d79/audiohook_8h_source.html#l00049">AST_AUDIOHOOK_DIRECTION_READ</a>, <a class="el" href="../../d0/d79/audiohook_8h_source.html#l00045">AST_AUDIOHOOK_STATUS_DONE</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00201">ast_format_cmp()</a>, <a class="el" href="../../d0/d0a/format_8h_source.html#l00038">AST_FORMAT_CMP_NOT_EQUAL</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00334">ast_format_get_name()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00131">jack_data::audiohook_format</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">ast_frame_subclass::format</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00621">handle_jack_audio()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00537">queue_voice_frame()</a>, <a class="el" href="../../d0/d79/audiohook_8h_source.html#l00107">ast_audiohook::status</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00875">enable_jack_hook()</a>.</p>
<div class="fragment"><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;{</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="code" href="../../d7/d85/structjack__data.html">jack_data</a>;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <span class="keywordflow">if</span> (audiohook-&gt;<a class="code" href="../../d2/d49/structast__audiohook.html#a9c2c1a66c786d5e486ac428388d62e28">status</a> == <a class="code" href="../../d0/d79/audiohook_8h.html#acf2dd361123daa6446ade7c7ecfe55ada82b3db86f4b5d34ca212dfb6fec2db14">AST_AUDIOHOOK_STATUS_DONE</a>)</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a> != <a class="code" href="../../d0/d79/audiohook_8h.html#a34d75d3d5e7418b6a772e3d522a16899a56916f7012e7fe0ec9b6dd4e4c0e2a65">AST_AUDIOHOOK_DIRECTION_READ</a>)</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> != <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>)</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../de/dcd/app__jack_8c.html#a5155602507bb67797bb798c178f587d2">jack_hook_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;JACK_HOOK datastore not found for &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   }</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   jack_data = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>, jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a36652433e613bdb7aba5f4c1cb0f6135">audiohook_format</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c">AST_FORMAT_CMP_NOT_EQUAL</a>) {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Expected frame in %s for the audiohook, but got format %s\n&quot;</span>,</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;         <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a36652433e613bdb7aba5f4c1cb0f6135">audiohook_format</a>),</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;         <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>));</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a01d124d44868b3a2bb4c395405ded087">queue_voice_frame</a>(jack_data, frame);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a953046302272e0bb7ed0c3c654ab40ba">handle_jack_audio</a>(chan, jack_data, frame);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structjack__data_html"><div class="ttname"><a href="../../d7/d85/structjack__data.html">jack_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00119">app_jack.c:119</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="format_8h_html_a082f0fca94b18ba466f6e28d3ccb2fc8"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a></div><div class="ttdeci">const char * ast_format_get_name(const struct ast_format *format)</div><div class="ttdoc">Get the name associated with a format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00334">format.c:334</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="audiohook_8h_html_a34d75d3d5e7418b6a772e3d522a16899a56916f7012e7fe0ec9b6dd4e4c0e2a65"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a34d75d3d5e7418b6a772e3d522a16899a56916f7012e7fe0ec9b6dd4e4c0e2a65">AST_AUDIOHOOK_DIRECTION_READ</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00049">audiohook.h:49</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="format_8h_html_a738c58eca291b71de4422e95bff27400"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a></div><div class="ttdeci">enum ast_format_cmp_res ast_format_cmp(const struct ast_format *format1, const struct ast_format *format2)</div><div class="ttdoc">Compare two formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00201">format.c:201</a></div></div>
<div class="ttc" id="format_8h_html_a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c">AST_FORMAT_CMP_NOT_EQUAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/format_8h_source.html#l00038">format.h:38</a></div></div>
<div class="ttc" id="app__jack_8c_html_a953046302272e0bb7ed0c3c654ab40ba"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a953046302272e0bb7ed0c3c654ab40ba">handle_jack_audio</a></div><div class="ttdeci">static void handle_jack_audio(struct ast_channel *chan, struct jack_data *jack_data, struct ast_frame *out_frame)</div><div class="ttdoc">handle jack audio </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00621">app_jack.c:621</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="audiohook_8h_html_acf2dd361123daa6446ade7c7ecfe55ada82b3db86f4b5d34ca212dfb6fec2db14"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#acf2dd361123daa6446ade7c7ecfe55ada82b3db86f4b5d34ca212dfb6fec2db14">AST_AUDIOHOOK_STATUS_DONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00045">audiohook.h:45</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="app__jack_8c_html_a5155602507bb67797bb798c178f587d2"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a5155602507bb67797bb798c178f587d2">jack_hook_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info jack_hook_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00828">app_jack.c:828</a></div></div>
<div class="ttc" id="app__jack_8c_html_a01d124d44868b3a2bb4c395405ded087"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a01d124d44868b3a2bb4c395405ded087">queue_voice_frame</a></div><div class="ttdeci">static int queue_voice_frame(struct jack_data *jack_data, struct ast_frame *f)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00537">app_jack.c:537</a></div></div>
<div class="ttc" id="structast__audiohook_html_a9c2c1a66c786d5e486ac428388d62e28"><div class="ttname"><a href="../../d2/d49/structast__audiohook.html#a9c2c1a66c786d5e486ac428388d62e28">ast_audiohook::status</a></div><div class="ttdeci">enum ast_audiohook_status status</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00107">audiohook.h:107</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_ab425a484a0916077c5a30d9d7b229b44"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">ast_frame_subclass::format</a></div><div class="ttdeci">struct ast_format * format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">include/asterisk/frame.h:155</a></div></div>
<div class="ttc" id="func__frame__drop_8c_html_a99f26e6ee9fcd62f75203b5402df8098"><div class="ttname"><a href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8b/func__frame__drop_8c_source.html#l00137">func_frame_drop.c:137</a></div></div>
<div class="ttc" id="structjack__data_html_a36652433e613bdb7aba5f4c1cb0f6135"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a36652433e613bdb7aba5f4c1cb0f6135">jack_data::audiohook_format</a></div><div class="ttdeci">struct ast_format * audiohook_format</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00131">app_jack.c:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6203a95a3dc09553980fae171c904560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6203a95a3dc09553980fae171c904560">&#9670;&nbsp;</a></span>jack_hook_ds_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jack_hook_ds_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00821">821</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00343">destroy_jack_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;{</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="code" href="../../d7/d85/structjack__data.html">jack_data</a> = data;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a297dcd2c82381f6eb3978edd72625982">destroy_jack_data</a>(jack_data);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;}</div><div class="ttc" id="structjack__data_html"><div class="ttname"><a href="../../d7/d85/structjack__data.html">jack_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00119">app_jack.c:119</a></div></div>
<div class="ttc" id="app__jack_8c_html_a297dcd2c82381f6eb3978edd72625982"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a297dcd2c82381f6eb3978edd72625982">destroy_jack_data</a></div><div class="ttdeci">static struct jack_data * destroy_jack_data(struct jack_data *jack_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00343">app_jack.c:343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a876ae0646f0e78f0fab18eda01fc1008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a876ae0646f0e78f0fab18eda01fc1008">&#9670;&nbsp;</a></span>jack_hook_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jack_hook_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00970">970</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00942">disable_jack_hook()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00875">enable_jack_hook()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>
<div class="fragment"><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;{</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No channel was provided to %s function.\n&quot;</span>, cmd);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;   }</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;on&quot;</span>))</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      res = <a class="code" href="../../de/dcd/app__jack_8c.html#a5fdc965653c1368f1edd9e0b70889c50">enable_jack_hook</a>(chan, data);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;off&quot;</span>))</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      res = <a class="code" href="../../de/dcd/app__jack_8c.html#a5a55d7d70a6ac23bfbf7db0243c2cb85">disable_jack_hook</a>(chan);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;&#39;%s&#39; is not a valid value for JACK_HOOK()\n&quot;</span>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      res = -1;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;   }</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="app__jack_8c_html_a5a55d7d70a6ac23bfbf7db0243c2cb85"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a5a55d7d70a6ac23bfbf7db0243c2cb85">disable_jack_hook</a></div><div class="ttdeci">static int disable_jack_hook(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00942">app_jack.c:942</a></div></div>
<div class="ttc" id="app__jack_8c_html_a5fdc965653c1368f1edd9e0b70889c50"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a5fdc965653c1368f1edd9e0b70889c50">enable_jack_hook</a></div><div class="ttdeci">static int enable_jack_hook(struct ast_channel *chan, char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00875">app_jack.c:875</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1926aa55b7653ba0edc16abd007a1325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1926aa55b7653ba0edc16abd007a1325">&#9670;&nbsp;</a></span>jack_process()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jack_process </td>
          <td>(</td>
          <td class="paramtype">jack_nframes_t&#160;</td>
          <td class="paramname"><em>nframes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00319">319</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00193">alloc_resampler()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00241">handle_input()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00304">handle_output()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00127">jack_data::input_port</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00137">jack_data::input_resample_factor</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00128">jack_data::output_port</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00390">init_jack_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;{</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="code" href="../../d7/d85/structjack__data.html">jack_data</a> = arg;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keywordtype">void</span> *input_port_buf, *output_port_buf;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="keywordflow">if</span> (!jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a6271c2db9aa01f38587b22325a88ea9d">input_resample_factor</a>)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <a class="code" href="../../de/dcd/app__jack_8c.html#ae720b800009d2e672dae3cfaa6476cee">alloc_resampler</a>(jack_data, 1);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   input_port_buf = jack_port_get_buffer(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#af830efb2d3206ba81602df7945863a2d">input_port</a>, nframes);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a5ce9b1108dd9f252031ff2a21e4915fb">handle_input</a>(input_port_buf, nframes, jack_data);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   output_port_buf = jack_port_get_buffer(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a163b2d99fab30f4f80d37b8e5fe6a9a2">output_port</a>, nframes);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <a class="code" href="../../de/dcd/app__jack_8c.html#a343f04835e5cb2cabd569304226c9efa">handle_output</a>(output_port_buf, nframes, jack_data);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div><div class="ttc" id="structjack__data_html"><div class="ttname"><a href="../../d7/d85/structjack__data.html">jack_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00119">app_jack.c:119</a></div></div>
<div class="ttc" id="app__jack_8c_html_a5ce9b1108dd9f252031ff2a21e4915fb"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a5ce9b1108dd9f252031ff2a21e4915fb">handle_input</a></div><div class="ttdeci">static void handle_input(void *buf, jack_nframes_t nframes, struct jack_data *jack_data)</div><div class="ttdoc">Handle jack input port. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00241">app_jack.c:241</a></div></div>
<div class="ttc" id="app__jack_8c_html_a343f04835e5cb2cabd569304226c9efa"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a343f04835e5cb2cabd569304226c9efa">handle_output</a></div><div class="ttdeci">static void handle_output(void *buf, jack_nframes_t nframes, struct jack_data *jack_data)</div><div class="ttdoc">Handle jack output port. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00304">app_jack.c:304</a></div></div>
<div class="ttc" id="structjack__data_html_a163b2d99fab30f4f80d37b8e5fe6a9a2"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a163b2d99fab30f4f80d37b8e5fe6a9a2">jack_data::output_port</a></div><div class="ttdeci">jack_port_t * output_port</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00128">app_jack.c:128</a></div></div>
<div class="ttc" id="structjack__data_html_af830efb2d3206ba81602df7945863a2d"><div class="ttname"><a href="../../d7/d85/structjack__data.html#af830efb2d3206ba81602df7945863a2d">jack_data::input_port</a></div><div class="ttdeci">jack_port_t * input_port</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00127">app_jack.c:127</a></div></div>
<div class="ttc" id="app__jack_8c_html_ae720b800009d2e672dae3cfaa6476cee"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ae720b800009d2e672dae3cfaa6476cee">alloc_resampler</a></div><div class="ttdeci">static int alloc_resampler(struct jack_data *jack_data, int input)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00193">app_jack.c:193</a></div></div>
<div class="ttc" id="structjack__data_html_a6271c2db9aa01f38587b22325a88ea9d"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a6271c2db9aa01f38587b22325a88ea9d">jack_data::input_resample_factor</a></div><div class="ttdeci">double input_resample_factor</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00137">app_jack.c:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa368774daa7b40c1ee97aeab5478974f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa368774daa7b40c1ee97aeab5478974f">&#9670;&nbsp;</a></span>jack_shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jack_shutdown </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00336">336</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00138">jack_data::stop</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00390">init_jack_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d85/structjack__data.html">jack_data</a> *<a class="code" href="../../d7/d85/structjack__data.html">jack_data</a> = arg;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a111277a0849f92b793ed6aa1efe54462">stop</a> = 1;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div><div class="ttc" id="structjack__data_html"><div class="ttname"><a href="../../d7/d85/structjack__data.html">jack_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00119">app_jack.c:119</a></div></div>
<div class="ttc" id="structjack__data_html_a111277a0849f92b793ed6aa1efe54462"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a111277a0849f92b793ed6aa1efe54462">jack_data::stop</a></div><div class="ttdeci">unsigned int stop</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00138">app_jack.c:138</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af57abd76ce2df847e98d3cee0fa56921"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af57abd76ce2df847e98d3cee0fa56921">&#9670;&nbsp;</a></span>jack_status_to_str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* jack_status_to_str </td>
          <td>(</td>
          <td class="paramtype">jack_status_t&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00162">162</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, and <a class="el" href="../../de/dcd/app__jack_8c.html#a3427e55bdb8ed1de255429c34775b85e">jack_status_table</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00174">log_jack_status()</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#a3427e55bdb8ed1de255429c34775b85e">jack_status_table</a>); i++) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/dcd/app__jack_8c.html#a3427e55bdb8ed1de255429c34775b85e">jack_status_table</a>[i].<a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a> == <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../de/dcd/app__jack_8c.html#a3427e55bdb8ed1de255429c34775b85e">jack_status_table</a>[i].str;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown Error&quot;</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="app__jack_8c_html_a3427e55bdb8ed1de255429c34775b85e"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a3427e55bdb8ed1de255429c34775b85e">jack_status_table</a></div><div class="ttdeci">static const struct @29 jack_status_table[]</div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l01038">1038</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de0/pbx_8h_source.html#l01508">ast_custom_function_register</a>, <a class="el" href="../../de/dcd/app__jack_8c.html#a3cf5b60e4a5c50bcb51f6a0fc730bc7b">AST_MODULE_INFO_STANDARD_EXTENDED()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00626">ast_register_application_xml</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">ast_unregister_application()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00117">jack_app</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00760">jack_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;{</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#ad4b0fc63100a9a874fe325d78822f0ab">jack_app</a>, <a class="code" href="../../de/dcd/app__jack_8c.html#a7e3f8c2cf48f2833fa76cb0e74614e8a">jack_exec</a>)) {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;   }</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../de/dcd/app__jack_8c.html#a6c54514b9e379eddcf31f5f060e81bca">jack_hook_function</a>)) {</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#ad4b0fc63100a9a874fe325d78822f0ab">jack_app</a>);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;   }</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="app__jack_8c_html_ad4b0fc63100a9a874fe325d78822f0ab"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ad4b0fc63100a9a874fe325d78822f0ab">jack_app</a></div><div class="ttdeci">static const char jack_app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00117">app_jack.c:117</a></div></div>
<div class="ttc" id="module_8h_html_ad2ca15621101154f29748cf1dac3c3cf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a></div><div class="ttdeci">int ast_unregister_application(const char *app)</div><div class="ttdoc">Unregister an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00392">pbx_app.c:392</a></div></div>
<div class="ttc" id="app__jack_8c_html_a7e3f8c2cf48f2833fa76cb0e74614e8a"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a7e3f8c2cf48f2833fa76cb0e74614e8a">jack_exec</a></div><div class="ttdeci">static int jack_exec(struct ast_channel *chan, const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00760">app_jack.c:760</a></div></div>
<div class="ttc" id="app__jack_8c_html_a6c54514b9e379eddcf31f5f060e81bca"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a6c54514b9e379eddcf31f5f060e81bca">jack_hook_function</a></div><div class="ttdeci">static struct ast_custom_function jack_hook_function</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00992">app_jack.c:992</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="pbx_8h_html_a8af0e93442a9e468425f63cc52b0ac7b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a></div><div class="ttdeci">#define ast_custom_function_register(acf)</div><div class="ttdoc">Register a custom function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01508">pbx.h:1508</a></div></div>
<div class="ttc" id="module_8h_html_afba4eb7a910b10969041ae4cd488729d"><div class="ttname"><a href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a></div><div class="ttdeci">#define ast_register_application_xml(app, execute)</div><div class="ttdoc">Register an application using XML documentation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00626">module.h:626</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aafb72b66521b4060855b912d62c7b2ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafb72b66521b4060855b912d62c7b2ba">&#9670;&nbsp;</a></span>log_jack_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_jack_status </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jack_status_t&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00174">174</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00800">ast_str_alloca</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01092">first</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00162">jack_status_to_str()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00146">status</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00390">init_jack_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(512);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="keywordtype">int</span> i, <a class="code" href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a> = 0;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; (<span class="keyword">sizeof</span>(<a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>) * 8); i++) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">if</span> (!(<a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a> &amp; (1 &lt;&lt; i)))</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="keywordflow">if</span> (!first) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;str, 0, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../de/dcd/app__jack_8c.html#af57abd76ce2df847e98d3cee0fa56921">jack_status_to_str</a>((1 &lt;&lt; i)));</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;         first = 1;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;str, 0, <span class="stringliteral">&quot;, %s&quot;</span>, <a class="code" href="../../de/dcd/app__jack_8c.html#af57abd76ce2df847e98d3cee0fa56921">jack_status_to_str</a>((1 &lt;&lt; i)));</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;%s: %s\n&quot;</span>, <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str));</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div><div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="app__jack_8c_html_af57abd76ce2df847e98d3cee0fa56921"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af57abd76ce2df847e98d3cee0fa56921">jack_status_to_str</a></div><div class="ttdeci">static const char * jack_status_to_str(jack_status_t status)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00162">app_jack.c:162</a></div></div>
<div class="ttc" id="strings_8h_html_a7fc844c12b769ccded05e7514036e241"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a></div><div class="ttdeci">#define ast_str_alloca(init_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00800">strings.h:800</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a18b6f1cf748d864dd085819a7d4e6680"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a></div><div class="ttdeci">struct sla_ringing_trunk * first</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01092">app_meetme.c:1092</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a01d124d44868b3a2bb4c395405ded087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01d124d44868b3a2bb4c395405ded087">&#9670;&nbsp;</a></span>queue_voice_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int queue_voice_frame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d85/structjack__data.html">jack_data</a> *&#160;</td>
          <td class="paramname"><em>jack_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00537">537</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00193">alloc_resampler()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00130">jack_data::output_rb</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00135">jack_data::output_resample_factor</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00134">jack_data::output_resampler</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::ptr</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00173">ast_frame::samples</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00760">jack_exec()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00833">jack_hook_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <span class="keywordtype">float</span> f_buf[f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">samples</a> * 8];</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <span class="keywordtype">size_t</span> f_buf_used = 0;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   <a class="code" href="../../da/d4e/db_8h.html#aa343fa3b3d06292b959ffdd4c4703b06">int16_t</a> *s_buf = f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;   <span class="keywordtype">size_t</span> res;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   memset(f_buf, 0, <span class="keyword">sizeof</span>(f_buf));</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordflow">if</span> (!jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a1779a34e43822abc58b50a09b2a06de0">output_resample_factor</a>)</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <a class="code" href="../../de/dcd/app__jack_8c.html#ae720b800009d2e672dae3cfaa6476cee">alloc_resampler</a>(jack_data, 0);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   <span class="keywordflow">if</span> (jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a7f0419971318dac4b9bc6682ebf24768">output_resampler</a>) {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keywordtype">float</span> in_buf[f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">samples</a>];</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="keywordtype">int</span> total_in_buf_used = 0;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="keywordtype">int</span> total_out_buf_used = 0;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      memset(in_buf, 0, <span class="keyword">sizeof</span>(in_buf));</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">samples</a>; i++)</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;         in_buf[i] = s_buf[i] * (1.0 / SHRT_MAX);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">while</span> (total_in_buf_used &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(in_buf)) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;         <span class="keywordtype">int</span> in_buf_used;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;         <span class="keywordtype">int</span> out_buf_used;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;         out_buf_used = resample_process(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a7f0419971318dac4b9bc6682ebf24768">output_resampler</a>,</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a1779a34e43822abc58b50a09b2a06de0">output_resample_factor</a>,</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            &amp;in_buf[total_in_buf_used], <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(in_buf) - total_in_buf_used,</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            0, &amp;in_buf_used,</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            &amp;f_buf[total_out_buf_used], <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(f_buf) - total_out_buf_used);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;         <span class="keywordflow">if</span> (out_buf_used &lt; 0)</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;         total_out_buf_used += out_buf_used;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;         total_in_buf_used += in_buf_used;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;         <span class="keywordflow">if</span> (total_out_buf_used == <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(f_buf)) {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Output buffer filled ... need to increase its size\n&quot;</span>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;         }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      f_buf_used = total_out_buf_used;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="keywordflow">if</span> (f_buf_used &gt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(f_buf))</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;         f_buf_used = <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(f_buf);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="comment">/* No resampling needed */</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">samples</a>; i++)</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;         f_buf[i] = s_buf[i] * (1.0 / SHRT_MAX);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      f_buf_used = f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">samples</a>;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;   }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   res = jack_ringbuffer_write(jack_data-&gt;<a class="code" href="../../d7/d85/structjack__data.html#a77f80958d20ee20d2fbbacf85b17a588">output_rb</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span> *) f_buf, f_buf_used * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   <span class="keywordflow">if</span> (res != (f_buf_used * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>))) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Tried to write %d bytes to the ringbuffer, but only wrote %d\n&quot;</span>,</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;         (<span class="keywordtype">int</span>) (f_buf_used * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)), (<span class="keywordtype">int</span>) res);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="structjack__data_html_a7f0419971318dac4b9bc6682ebf24768"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a7f0419971318dac4b9bc6682ebf24768">jack_data::output_resampler</a></div><div class="ttdeci">void * output_resampler</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00134">app_jack.c:134</a></div></div>
<div class="ttc" id="db_8h_html_aa343fa3b3d06292b959ffdd4c4703b06"><div class="ttname"><a href="../../da/d4e/db_8h.html#aa343fa3b3d06292b959ffdd4c4703b06">int16_t</a></div><div class="ttdeci">short int16_t</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4e/db_8h_source.html#l00059">db.h:59</a></div></div>
<div class="ttc" id="structast__frame_html_add9af9569af79ec26dd741fb226b38ba"><div class="ttname"><a href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ast_frame::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">include/asterisk/frame.h:183</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__jack_8c_html_ae720b800009d2e672dae3cfaa6476cee"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ae720b800009d2e672dae3cfaa6476cee">alloc_resampler</a></div><div class="ttdeci">static int alloc_resampler(struct jack_data *jack_data, int input)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00193">app_jack.c:193</a></div></div>
<div class="ttc" id="structjack__data_html_a77f80958d20ee20d2fbbacf85b17a588"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a77f80958d20ee20d2fbbacf85b17a588">jack_data::output_rb</a></div><div class="ttdeci">jack_ringbuffer_t * output_rb</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00130">app_jack.c:130</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structjack__data_html_a1779a34e43822abc58b50a09b2a06de0"><div class="ttname"><a href="../../d7/d85/structjack__data.html#a1779a34e43822abc58b50a09b2a06de0">jack_data::output_resample_factor</a></div><div class="ttdeci">double output_resample_factor</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00135">app_jack.c:135</a></div></div>
<div class="ttc" id="structast__frame_html_a4027905f872af30d910929b07e261ca5"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a></div><div class="ttdeci">union ast_frame::@263 data</div></div>
<div class="ttc" id="structast__frame_html_a37672e6b906143604cefd3e959777b31"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">ast_frame::samples</a></div><div class="ttdeci">int samples</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00173">include/asterisk/frame.h:173</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l01028">1028</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00273">ast_custom_function_unregister()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">ast_unregister_application()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00117">jack_app</a>.</p>
<div class="fragment"><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;{</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;   res = <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#ad4b0fc63100a9a874fe325d78822f0ab">jack_app</a>);</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../de/dcd/app__jack_8c.html#a6c54514b9e379eddcf31f5f060e81bca">jack_hook_function</a>);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;}</div><div class="ttc" id="app__jack_8c_html_ad4b0fc63100a9a874fe325d78822f0ab"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ad4b0fc63100a9a874fe325d78822f0ab">jack_app</a></div><div class="ttdeci">static const char jack_app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00117">app_jack.c:117</a></div></div>
<div class="ttc" id="module_8h_html_ad2ca15621101154f29748cf1dac3c3cf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a></div><div class="ttdeci">int ast_unregister_application(const char *app)</div><div class="ttdoc">Unregister an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00392">pbx_app.c:392</a></div></div>
<div class="ttc" id="pbx_8h_html_a965977ea9a3144bc203e0ce7a64680a1"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a></div><div class="ttdeci">int ast_custom_function_unregister(struct ast_custom_function *acf)</div><div class="ttdoc">Unregister a custom function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00273">pbx_functions.c:273</a></div></div>
<div class="ttc" id="app__jack_8c_html_a6c54514b9e379eddcf31f5f060e81bca"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a6c54514b9e379eddcf31f5f060e81bca">jack_hook_function</a></div><div class="ttdeci">static struct ast_custom_function jack_hook_function</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00992">app_jack.c:992</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad4b0fc63100a9a874fe325d78822f0ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4b0fc63100a9a874fe325d78822f0ab">&#9670;&nbsp;</a></span>jack_app</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char jack_app[] = &quot;JACK&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00117">117</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l01038">load_module()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l01028">unload_module()</a>.</p>

</div>
</div>
<a id="ac4f3730c9ff1d0541d5fb326c9623f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4f3730c9ff1d0541d5fb326c9623f1b">&#9670;&nbsp;</a></span>jack_exec_options</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d2/d8d/structast__app__option.html">ast_app_option</a> jack_exec_options[128] = { [ 's' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba2e68c9d2bd481b81a234a923cf259877">OPT_SERVER_NAME</a> , .arg_index = <a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da093e7df6ef7312d35fb4b03f0c3e7c57">OPT_ARG_SERVER_NAME</a> + 1 }, [ 'i' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba80be01ac3ad9829dd35ee410e5482dee">OPT_INPUT_PORT</a> , .arg_index = <a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291dac22235513ad8e730ca873c0af182a939">OPT_ARG_INPUT_PORT</a> + 1 }, [ 'o' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbad0daca2a5f287cf652d35aaed1922889">OPT_OUTPUT_PORT</a> , .arg_index = <a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da7e5c4987d926a3e4a483ff62d7e76f38">OPT_ARG_OUTPUT_PORT</a> + 1 }, [ 'n' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebbaf8158643a36d2168f796acba3a07676f">OPT_NOSTART_SERVER</a> }, [ '<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../de/dcd/app__jack_8c.html#a0ed680fdb405e7195d9f14032851eebba11996d3c883f5db7570198567618291d">OPT_CLIENT_NAME</a> , .arg_index = <a class="el" href="../../de/dcd/app__jack_8c.html#a0944a4353780132eeab7b06e3e42291da03ac82a78b9b7c9a19d8d061580e5809">OPT_ARG_CLIENT_NAME</a> + 1 }, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00693">693</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00709">handle_options()</a>.</p>

</div>
</div>
<a id="a5155602507bb67797bb798c178f587d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5155602507bb67797bb798c178f587d2">&#9670;&nbsp;</a></span>jack_hook_ds_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> jack_hook_ds_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .type = <span class="stringliteral">&quot;JACK_HOOK&quot;</span>,</div><div class="line">   .destroy = <a class="code" href="../../de/dcd/app__jack_8c.html#a6203a95a3dc09553980fae171c904560">jack_hook_ds_destroy</a>,</div><div class="line">}</div><div class="ttc" id="app__jack_8c_html_a6203a95a3dc09553980fae171c904560"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#a6203a95a3dc09553980fae171c904560">jack_hook_ds_destroy</a></div><div class="ttdeci">static void jack_hook_ds_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00821">app_jack.c:821</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00828">828</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

</div>
</div>
<a id="a6c54514b9e379eddcf31f5f060e81bca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c54514b9e379eddcf31f5f060e81bca">&#9670;&nbsp;</a></span>jack_hook_function</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> jack_hook_function</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00992">992</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

</div>
</div>
<a id="a3427e55bdb8ed1de255429c34775b85e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3427e55bdb8ed1de255429c34775b85e">&#9670;&nbsp;</a></span>jack_status_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const { ... }   jack_status_table[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00162">jack_status_to_str()</a>.</p>

</div>
</div>
<a id="ac191e5810fa65e63095409471eb5648f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac191e5810fa65e63095409471eb5648f">&#9670;&nbsp;</a></span>status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">jack_status_t status</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../de/d82/_2usr_2src_2asterisk-18_85_80_2include_2asterisk_2logger_8h-example.html#a14">/usr/src/asterisk-18.5.0/include/asterisk/logger.h</a>, and <a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a15">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00146">146</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, <a class="el" href="../../d0/d37/bt__delete_8c_source.html#l00539">__bt_curdel()</a>, <a class="el" href="../../d0/d37/bt__delete_8c_source.html#l00063">__bt_delete()</a>, <a class="el" href="../../d9/d48/bt__get_8c_source.html#l00063">__bt_get()</a>, <a class="el" href="../../d8/d01/bt__put_8c_source.html#l00067">__bt_put()</a>, <a class="el" href="../../da/d71/bt__seq_8c_source.html#l00077">__bt_seq()</a>, <a class="el" href="../../d2/db6/bt__close_8c_source.html#l00119">__bt_sync()</a>, <a class="el" href="../../da/dac/rec__close_8c_source.html#l00060">__rec_close()</a>, <a class="el" href="../../d8/d4d/rec__delete_8c_source.html#l00064">__rec_delete()</a>, <a class="el" href="../../d8/d89/rec__get_8c_source.html#l00063">__rec_get()</a>, <a class="el" href="../../df/d7a/rec__put_8c_source.html#l00190">__rec_iput()</a>, <a class="el" href="../../df/d7a/rec__put_8c_source.html#l00062">__rec_put()</a>, <a class="el" href="../../dc/d11/rec__seq_8c_source.html#l00061">__rec_seq()</a>, <a class="el" href="../../da/dac/rec__close_8c_source.html#l00107">__rec_sync()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03084">__rtp_recvfrom()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03247">__rtp_sendto()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01702">_child_handler()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l06845">_iax2_show_peers_one()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l21181">_sip_show_peer()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l20404">_sip_show_peers_one()</a>, <a class="el" href="../../db/dd3/res__stun__monitor_8c_source.html#l00377">_stun_show_status()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00725">acf_odbc_read()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00509">acf_odbc_write()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05974">action_extensionstate()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02184">agent_function_read()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l04494">agi_exec_full()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00682">answer()</a>, <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l00565">ast_audiohook_update_status()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l01239">ast_rtp_ice_add_cand()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l01577">ast_rtp_ice_turn_request()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l02680">ast_rtp_on_ice_tx_pkt()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l01388">ast_rtp_on_turn_rx_rtcp_data()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l01322">ast_rtp_on_turn_rx_rtp_data()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l00829">ast_safe_system()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02717">ast_sip_format_contact_ami()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00342">ast_sip_get_contact_short_status_label()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00336">ast_sip_get_contact_status_label()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05407">ast_sip_send_response()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03451">ast_sip_session_terminate()</a>, <a class="el" href="../../d8/dd4/res__srtp_8c_source.html#l00607">ast_srtp_change_source()</a>, <a class="el" href="../../d8/dd4/res__srtp_8c_source.html#l00514">ast_srtp_create()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l01018">ast_unreal_hangup()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l00930">callerid_read()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l01083">callerid_write()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03424">canary_exit()</a>, <a class="el" href="../../d2/d43/app__chanisavail_8c_source.html#l00102">chanavail_exec()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01418">change_favorite_icon()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01020">channel_fax_cb()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10419">channel_set_intercept_mode()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01106">cli_contact_print_body()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08602">complete_dpreply()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l01244">connectedline_read()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l01308">connectedline_write()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01326">contact_apply_handler()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00177">contact_remove_unreachable()</a>, <a class="el" href="../../d0/dc3/ndbm_8c_source.html#l00170">dbm_delete()</a>, <a class="el" href="../../d0/dc3/ndbm_8c_source.html#l00103">dbm_fetch()</a>, <a class="el" href="../../d0/dc3/ndbm_8c_source.html#l00129">dbm_firstkey()</a>, <a class="el" href="../../d0/dc3/ndbm_8c_source.html#l00150">dbm_nextkey()</a>, <a class="el" href="../../d4/d61/res__pjsip__outbound__authenticator__digest_8c_source.html#l00410">digest_create_request_with_auth()</a>, <a class="el" href="../../d5/da9/res__pjsip__diversion_8c_source.html#l00450">diversion_incoming_response()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l02697">dundi_show_peers()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00383">filestream_destructor()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02416">format_ami_contactlist_handler()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01635">get_buddy_status()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l25671">handle_cc_notify()</a>, <a class="el" href="../../dd/d22/cdr__pgsql_8c_source.html#l00125">handle_cdr_pgsql_status()</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00111">handle_cli_cdr_mysql_status()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l03815">handle_cli_iax2_show_peer()</a>, <a class="el" href="../../dd/d18/res__config__mysql_8c_source.html#l01474">handle_cli_realtime_mysql_status()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l06865">handle_open_receive_channel_ack_message()</a>, <a class="el" href="../../d2/d14/res__pjsip__send__to__voicemail_8c_source.html#l00187">handle_outgoing_response()</a>, <a class="el" href="../../db/d37/hsearch_8c_source.html#l00069">hsearch()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03750">ice_create()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00390">init_jack_data()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03832">join_queue()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05744">load_pjsip()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00174">log_jack_status()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00715">mbl_status_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01226">meetme_stasis_cb()</a>, <a class="el" href="../../d2/d3b/res__pjsip__dlg__options_8c_source.html#l00039">options_incoming_request()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>, <a class="el" href="../../de/dfd/isdn__msg__parser_8c_source.html#l01583">parse_status()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l00609">party_id_read()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l00844">party_id_write()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l00493">party_name_read()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l00667">party_name_write()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l00532">party_number_read()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l00741">party_number_write()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l00571">party_subaddress_read()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l00807">party_subaddress_write()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00589">permanent_uri_handler()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01531">publish_load_message()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00786">qualify_contact_cb()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l08183">queue_exec()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l11157">qupd_exec()</a>, <a class="el" href="../../d6/dbb/app__read_8c_source.html#l00127">read_exec()</a>, <a class="el" href="../../d2/de3/app__readexten_8c_source.html#l00119">readexten_exec()</a>, <a class="el" href="../../d8/d4d/rec__delete_8c_source.html#l00120">rec_rdelete()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l01417">redirecting_read()</a>, <a class="el" href="../../df/d38/func__callerid_8c_source.html#l01549">redirecting_write()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01321">refresh_all_favorite()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00557">registration_client_send()</a>, <a class="el" href="../../da/ddd/named__acl_8c_source.html#l00529">reload_module()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04478">ring_entry()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l06859">rtp_transport_wide_cc_feedback_status_append()</a>, <a class="el" href="../../d3/d3a/app__dahdiras_8c_source.html#l00128">run_ras()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01154">safe_exec_wait()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l03071">sdp_search()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01167">send_expansion_icon()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01273">send_favorite()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01147">send_icon()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l20981">send_manager_peer_status()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00215">send_options_response()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01378">send_response()</a>, <a class="el" href="../../d8/d89/app__sendtext_8c_source.html#l00149">sendtext_exec()</a>, <a class="el" href="../../d8/d22/app__url_8c_source.html#l00095">sendurl_exec()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03306">setup_outbound_invite_auth()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00094">shaun_of_the_dead()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l03984">show_entry_history()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01110">sip_options_set_contact_status()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00749">sip_publisher_service_queue()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00250">system_create_resolver_and_set_nameservers()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00152">system_registry_to_ami()</a>, <a class="el" href="../../d6/d7b/app__transfer_8c_source.html#l00087">transfer_exec()</a>, <a class="el" href="../../d2/db8/res__pjsip__transport__websocket_8c_source.html#l00149">transport_create()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00743">update_client_state_status()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02437">update_status()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l02021">vm_allocate_dh()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04937">wait_for_answer()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l05626">wait_our_turn()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l01927">xfer_client_on_evsub_state()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l03266">xmpp_pak_presence()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l03395">xmpp_pak_s10n()</a>, and <a class="el" href="../../de/d6f/res__pjsip__xpidf__body__generator_8c_source.html#l00049">xpidf_generate_body_content()</a>.</p>

</div>
</div>
<a id="af25d6dc49269fa2003ac7c7fa6f13915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af25d6dc49269fa2003ac7c7fa6f13915">&#9670;&nbsp;</a></span>str</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* str</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d7/d80/_2usr_2src_2asterisk-18_85_80_2include_2asterisk_2strings_8h-example.html#a8">/usr/src/asterisk-18.5.0/include/asterisk/strings.h</a>, and <a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a434">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">147</a> of file <a class="el" href="../../de/dcd/app__jack_8c_source.html">app_jack.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l00524">_free_port_cfg()</a>, <a class="el" href="../../da/db0/func__cut_8c_source.html#l00256">acf_cut_exec()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00552">add_hintdevice()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l04792">add_required_respheader()</a>, <a class="el" href="../../d0/d2a/cdr__tds_8c_source.html#l00302">anti_injection()</a>, <a class="el" href="../../d0/da6/aoc_8c_source.html#l01257">aoc_charge_type_str()</a>, <a class="el" href="../../d0/da6/aoc_8c_source.html#l01121">aoc_charged_item_str()</a>, <a class="el" href="../../d0/da6/aoc_8c_source.html#l01186">aoc_rate_type_str()</a>, <a class="el" href="../../d0/da6/aoc_8c_source.html#l01226">aoc_scale_str()</a>, <a class="el" href="../../d0/da6/aoc_8c_source.html#l01161">aoc_type_of_totaling_str()</a>, <a class="el" href="../../d0/da6/aoc_8c_source.html#l01093">aoc_volume_unit_str()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05493">aocmessage_get_unit_entry()</a>, <a class="el" href="../../d7/dbc/res__ari_8c_source.html#l00885">ast_ari_callback()</a>, <a class="el" href="../../d5/de3/res__ari__model_8c_source.html#l00148">ast_ari_validate_date()</a>, <a class="el" href="../../d8/d44/ari__websockets_8c_source.html#l00158">ast_ari_websocket_session_write()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00094">ast_begins_with()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01038">ast_category_get_templates()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03631">ast_cc_agent_set_interfaces_chanvar()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01264">ast_dump_locks()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00599">ast_func_read()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00153">ast_hashtab_hash_string()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00181">ast_hashtab_hash_string_nocase()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00170">ast_hashtab_hash_string_sax()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00385">ast_include_rename()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00293">ast_json_vstringf()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01231">ast_log_show_lock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02390">ast_parse_digest()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03668">ast_set_cc_interfaces_chanvar()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00217">ast_sip_global_default_outbound_endpoint()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l00979">ast_skip_blanks()</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00164">ast_sockaddr_split_hostport()</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00065">ast_sockaddr_stringify_fmt()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00362">ast_sockaddr_stringify_port()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01268">ast_str_to_lower()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01289">ast_str_to_upper()</a>, <a class="el" href="../../dc/d9b/tcptls_8c_source.html#l00685">ast_tcptls_server_start()</a>, <a class="el" href="../../d8/d9c/config__parser_8c_source.html#l00861">AST_TEST_DEFINE()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00182">ast_trim_blanks()</a>, <a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00206">build_nonce()</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l00843">build_user_routes()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l01219">candidate_exten_advance()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02089">cc_extension_monitor_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02791">cc_generic_agent_start_monitoring()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l01144">check_mime()</a>, <a class="el" href="../../dc/d9b/tcptls_8c_source.html#l00085">check_tcptls_cert_name()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00754">cli_print_body()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01265">collect_names_cb()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00808">contacts_to_str()</a>, <a class="el" href="../../d2/df4/cdr__custom_8c_source.html#l00129">custom_log()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00078">dbl_list_expect_reverse()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l01310">delayed_method2str()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02190">dial_handle_playtones()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l26048">do_magic_pickup()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l01803">ext_cmp_exten_strlen()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00450">filter_leading_space_from_exprs()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00472">filter_newlines()</a>, <a class="el" href="../../dd/d55/app__followme_8c_source.html#l01236">find_realtime()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00259">format_log_json()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01717">format_str_append_auth()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l00503">function_fieldnum_helper()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l00440">function_fieldqty_helper()</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00664">sip_to_pjsip::get_bind()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08610">get_content()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l03239">handle_getvariablefull()</a>, <a class="el" href="../../d2/d57/app__playtones_8c_source.html#l00077">handle_playtones()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01339">handle_show_locks()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l01099">handle_show_translation_path()</a>, <a class="el" href="../../dc/d9b/tcptls_8c_source.html#l00140">handle_tcptls_connection()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00173">hash_string()</a>, <a class="el" href="../../d2/d72/parser_8c_source.html#l00794">iax_parse_ies()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00117">init_appendbuf()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00316">jack_str()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00768">jingle_new()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04821">list_item_to_str()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02338">load_modules()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01403">localnet_to_str()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01371">localnet_to_vl_append()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00174">log_jack_status()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02262">mansession_cmp_fn()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00570">match_to_str()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00580">match_to_var_list_append()</a>, <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l00569">misdn_cfg_get()</a>, <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l00805">misdn_cfg_get_config_string()</a>, <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l00929">misdn_cfg_get_next_port()</a>, <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l00779">misdn_cfg_get_ports_string()</a>, <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l00744">misdn_cfg_is_group_method()</a>, <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l00737">misdn_cfg_is_port_valid()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l01958">misdn_to_str_plan()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l02084">misdn_to_str_pres()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l02173">misdn_to_str_screen()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l01832">misdn_to_str_ton()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00788">named_callgroups_to_str()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00798">named_pickupgroups_to_str()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l01231">new_find_extension()</a>, <a class="el" href="../../dc/ded/swagger__model_8py_source.html#l00110">ParsingContext::next_stack()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00171">parse_cdata()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00235">pbx_retrieve_variable()</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l01054">pp_each_extension_helper()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l01741">process_text_line()</a>, <a class="el" href="../../d0/d85/pval_8c_source.html#l05058">pvalWordSetString()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01321">pvt_cause_cmp_fn()</a>, <a class="el" href="../../d8/d60/sqlconfigparser_8py_source.html#l00024">SqlConfigParser::read()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00274">read_mf_digits()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00358">read_sf_digits()</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00126">readwavheader()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l00948">regex()</a>, <a class="el" href="../../d0/d85/pval_8c_source.html#l03038">remove_spaces_before_equals()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l00790">replace()</a>, <a class="el" href="../../d8/dd4/res__srtp_8c_source.html#l00802">res_sdp_crypto_parse_offer()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l05910">rtcp_payload_type2str()</a>, <a class="el" href="../../dd/d1e/res__security__log_8c_source.html#l00090">security_event_stasis_cb()</a>, <a class="el" href="../../d8/d89/app__sendtext_8c_source.html#l00149">sendtext_exec()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01058">set_var_to_str()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00352">sip_endpoint_identifier_type2str()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00278">sip_outbound_registration_status_str()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01820">sip_subscription_to_ami()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00934">smdi_ifaces_cmp_fn()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00879">smdi_mwi_q_cmp_fn()</a>, <a class="el" href="../../dd/df4/resource__events_8c_source.html#l00079">stasis_app_message_handler()</a>, <a class="el" href="../../d6/d1e/conversions_8c_source.html#l00034">str_is_negative()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l00859">strreplace()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13491">substitute_escapes()</a>, <a class="el" href="../../d3/de4/cdr__syslog_8c_source.html#l00086">syslog_log()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00176">test_2way_function()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00153">test_chan_function()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00048">test_chan_integer()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00072">test_chan_integer_accessor()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00096">test_chan_string()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00123">test_chan_variable()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00202">test_expected_result()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01161">tls_method_to_str()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16462">transmit_info_with_aoc()</a>, <a class="el" href="../../d3/d1e/transform_8py_source.html#l00027">transform::unicode()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l00800">ustmtext()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07707">variable_count_cmp_fn()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l02021">vm_allocate_dh()</a>, <a class="el" href="../../db/da3/astconfigparser_8py_source.html#l00305">astconfigparser::write_dicts()</a>, and <a class="el" href="../../dd/de9/res__agi_8c_source.html#l04390">write_html_escaped()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:33 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
