<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: control.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li><li class="navelem"><a class="el" href="../../dir_645bb0ee2d9887263292b3f6cc7c69f2.html">stasis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">control.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stasis application control support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d4a/stasis__channels_8h_source.html">asterisk/stasis_channels.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d9c/stasis__app_8h_source.html">asterisk/stasis_app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d09/command_8h_source.html">command.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d02/control_8h_source.html">control.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d5f/res_2stasis_2app_8h_source.html">app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/dcf/dial_8h_source.html">asterisk/dial.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d56/bridge_8h_source.html">asterisk/bridge.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d85/bridge__after_8h_source.html">asterisk/bridge_after.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d1e/bridge__basic_8h_source.html">asterisk/bridge_basic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d7a/bridge__features_8h_source.html">asterisk/bridge_features.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html">asterisk/frame.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d07/musiconhold_8h_source.html">asterisk/musiconhold.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for control.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/df1/control_8c__incl.png" border="0" usemap="#control_8c" alt=""/></div>
<map name="control_8c" id="control_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="495,393,579,420"/>
<area shape="rect" id="node17" href="../../d9/d4a/stasis__channels_8h.html" title="asterisk/stasis_channels.h" alt="" coords="1453,244,1643,271"/>
<area shape="rect" id="node24" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="698,393,825,420"/>
<area shape="rect" id="node28" href="../../d8/d9c/stasis__app_8h.html" title="Stasis Application API. See Stasis Application API for detailed documentation. " alt="" coords="1273,244,1429,271"/>
<area shape="rect" id="node29" href="../../d0/d09/command_8h.html" title="Internal API for the Stasis application commands. " alt="" coords="1307,80,1405,107"/>
<area shape="rect" id="node31" href="../../d9/d02/control_8h.html" title="Internal API for the Stasis application controller. " alt="" coords="1513,162,1591,189"/>
<area shape="rect" id="node32" href="../../df/d5f/res_2stasis_2app_8h.html" title="Internal API for the Stasis application controller. " alt="" coords="1261,162,1320,189"/>
<area shape="rect" id="node33" href="../../df/dcf/dial_8h.html" title="Dialing API. " alt="" coords="1481,80,1591,107"/>
<area shape="rect" id="node34" href="../../d4/d56/bridge_8h.html" title="Bridging API. " alt="" coords="893,80,1021,107"/>
<area shape="rect" id="node35" href="../../dc/d7a/bridge__features_8h.html" title="Channel Bridging API. " alt="" coords="817,244,1005,271"/>
<area shape="rect" id="node40" href="../../d8/d85/bridge__after_8h.html" title="After Bridge Execution API. " alt="" coords="1718,80,1882,107"/>
<area shape="rect" id="node41" href="../../d4/d1e/bridge__basic_8h.html" title="Basic bridge subclass API. " alt="" coords="1907,80,2075,107"/>
<area shape="rect" id="node42" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="2002,244,2113,271"/>
<area shape="rect" id="node48" href="../../dc/d07/musiconhold_8h.html" title="Music on hold handling. " alt="" coords="2150,80,2319,107"/>
<area shape="rect" id="node49" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="1405,319,1517,345"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="157,468,312,495"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="493,468,630,495"/>
<area shape="rect" id="node16" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="654,468,789,495"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="5,543,152,569"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="271,543,414,569"/>
<area shape="rect" id="node18" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1616,543,1773,569"/>
<area shape="rect" id="node19" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1172,393,1297,420"/>
<area shape="rect" id="node23" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1059,319,1197,345"/>
<area shape="rect" id="node20" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1284,468,1399,495"/>
<area shape="rect" id="node21" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1319,543,1449,569"/>
<area shape="rect" id="node22" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="1295,617,1473,644"/>
<area shape="rect" id="node26" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="813,468,963,495"/>
<area shape="rect" id="node27" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="951,393,1097,420"/>
<area shape="rect" id="node25" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="1093,468,1224,495"/>
<area shape="rect" id="node30" href="../../de/d0b/stasis__app__impl_8h.html" title="Backend API for implementing components of res_stasis. " alt="" coords="1344,155,1488,196"/>
<area shape="rect" id="node36" href="../../de/d41/bridge__channel_8h.html" title="asterisk/bridge_channel.h" alt="" coords="778,162,963,189"/>
<area shape="rect" id="node37" href="../../dd/dff/bridge__roles_8h.html" title="Channel Bridging Roles API. " alt="" coords="626,244,793,271"/>
<area shape="rect" id="node38" href="../../d3/d08/dsp_8h.html" title="Convenient Signal Processing routines. " alt="" coords="987,162,1098,189"/>
<area shape="rect" id="node39" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="1123,162,1237,189"/>
<area shape="rect" id="node43" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="2045,319,2171,345"/>
<area shape="rect" id="node44" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="1756,393,1919,420"/>
<area shape="rect" id="node45" href="../../d6/dd7/presencestate_8h.html" title="Presence state management. " alt="" coords="2195,319,2375,345"/>
<area shape="rect" id="node46" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="2399,319,2539,345"/>
<area shape="rect" id="node47" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="1575,468,1710,495"/>
<area shape="rect" id="node50" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="1524,393,1631,420"/>
</map>
</div>
</div>
<p><a href="../../de/de3/control_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d4f/structapp__control__rules.html">app_control_rules</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d5b/structchanvar.html">chanvar</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">structure for queuing ARI channel variable setting  <a href="../../d8/d5b/structchanvar.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d54/structstasis__app__control__continue__data.html">stasis_app_control_continue_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d25/structstasis__app__control__dtmf__data.html">stasis_app_control_dtmf_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d3b/structstasis__app__control__move__data.html">stasis_app_control_move_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7b331ff5f58b7657c835579bc28a99da"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a7b331ff5f58b7657c835579bc28a99da">app_command_can_exec_cb</a>) (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="separator:a7b331ff5f58b7657c835579bc28a99da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a16c10e06199540b3f37d1fbffa759d5f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a16c10e06199540b3f37d1fbffa759d5f">add_to_dial_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a16c10e06199540b3f37d1fbffa759d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a channel to the singleton dial bridge.  <a href="#a16c10e06199540b3f37d1fbffa759d5f">More...</a><br /></td></tr>
<tr class="separator:a16c10e06199540b3f37d1fbffa759d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84c9217860c27d5658215b002d314b5d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a84c9217860c27d5658215b002d314b5d">app_control_add_role</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a84c9217860c27d5658215b002d314b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d06be0fa6426cfa71b89eabd6dd75f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ad6d06be0fa6426cfa71b89eabd6dd75f">app_control_can_add_channel_to_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="separator:ad6d06be0fa6426cfa71b89eabd6dd75f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4db81e0854e76fd148dfaa29d129172"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ac4db81e0854e76fd148dfaa29d129172">app_control_can_remove_channel_from_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="separator:ac4db81e0854e76fd148dfaa29d129172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4685da6bba059927d167a5bed1d3acd0"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211">stasis_app_control_channel_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a4685da6bba059927d167a5bed1d3acd0">app_control_check_rules</a> (const struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../de/d4f/structapp__control__rules.html">app_control_rules</a> *list)</td></tr>
<tr class="separator:a4685da6bba059927d167a5bed1d3acd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1afc69223c6420557bb008a7736cc3af"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a1afc69223c6420557bb008a7736cc3af">app_control_clear_roles</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a1afc69223c6420557bb008a7736cc3af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1217c5dac7dbadf1815aae3963c2dec6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a1217c5dac7dbadf1815aae3963c2dec6">app_control_continue</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a1217c5dac7dbadf1815aae3963c2dec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad87af38fcd8182bee19a09e7186a8c02"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ad87af38fcd8182bee19a09e7186a8c02">app_control_dial</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:ad87af38fcd8182bee19a09e7186a8c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f74a3aaacbfa554231a9a90d1db9f5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ae9f74a3aaacbfa554231a9a90d1db9f5">app_control_dtmf</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:ae9f74a3aaacbfa554231a9a90d1db9f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4653e29c103d9079a7f6a4c3a9c33493"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a4653e29c103d9079a7f6a4c3a9c33493">app_control_hold</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a4653e29c103d9079a7f6a4c3a9c33493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adab9f9bea678c832fbcd8a2eb709a318"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#adab9f9bea678c832fbcd8a2eb709a318">app_control_moh_start</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:adab9f9bea678c832fbcd8a2eb709a318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70288e9dea5dc8bfe9905c7dfe027c21"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a70288e9dea5dc8bfe9905c7dfe027c21">app_control_moh_stop</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a70288e9dea5dc8bfe9905c7dfe027c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90bff4e871bdae91a522ec80daf733c7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a90bff4e871bdae91a522ec80daf733c7">app_control_move</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a90bff4e871bdae91a522ec80daf733c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af206b3b835ca7b2b8008fe063020ce30"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#af206b3b835ca7b2b8008fe063020ce30">app_control_mute</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:af206b3b835ca7b2b8008fe063020ce30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab82e6365fb64203b387d8a5bf6a52ac5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ab82e6365fb64203b387d8a5bf6a52ac5">app_control_redirect</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:ab82e6365fb64203b387d8a5bf6a52ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc48b9e01f22f6dae4bb2d461187411"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#aabc48b9e01f22f6dae4bb2d461187411">app_control_register_rule</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../de/d4f/structapp__control__rules.html">app_control_rules</a> *list, struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *obj)</td></tr>
<tr class="separator:aabc48b9e01f22f6dae4bb2d461187411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a96e2cba9e2ab9d6c8d79df3e6dba74"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a5a96e2cba9e2ab9d6c8d79df3e6dba74">app_control_remove_channel_from_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a5a96e2cba9e2ab9d6c8d79df3e6dba74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a074df8a441fbbb2f7d17b77066ef69ec"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a074df8a441fbbb2f7d17b77066ef69ec">app_control_ring</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a074df8a441fbbb2f7d17b77066ef69ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45dc158dc10eb87494e48b5ed680dd3b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a45dc158dc10eb87494e48b5ed680dd3b">app_control_ring_stop</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a45dc158dc10eb87494e48b5ed680dd3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19fc689d2b73f93a4f97b72580bece24"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a19fc689d2b73f93a4f97b72580bece24">app_control_set_channel_var</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a19fc689d2b73f93a4f97b72580bece24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2e70048883c70922830aaa9600bcd0e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ad2e70048883c70922830aaa9600bcd0e">app_control_silence_start</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:ad2e70048883c70922830aaa9600bcd0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeee6fea0a89d292b9bc9734d89911887"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#aeee6fea0a89d292b9bc9734d89911887">app_control_silence_stop</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:aeee6fea0a89d292b9bc9734d89911887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a501edf1bcdec7b645a2cdafe5f81cc9c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a501edf1bcdec7b645a2cdafe5f81cc9c">app_control_unhold</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a501edf1bcdec7b645a2cdafe5f81cc9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab09c03411cd3d45fab0810d88203202"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#aab09c03411cd3d45fab0810d88203202">app_control_unmute</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:aab09c03411cd3d45fab0810d88203202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00d4eea6bbae3414fe25afb3a47baf83"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a00d4eea6bbae3414fe25afb3a47baf83">app_control_unregister_rule</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../de/d4f/structapp__control__rules.html">app_control_rules</a> *list, struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *obj)</td></tr>
<tr class="separator:a00d4eea6bbae3414fe25afb3a47baf83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85b0a5b1bb2e49db6d60d35adc39f708"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a85b0a5b1bb2e49db6d60d35adc39f708">app_send_command_on_condition</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a816a21221be6d5a93cc55b8cb97d46ab">stasis_app_command_cb</a> command_fn, void *data, <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a66ead0f2f762f64bbad7eb8a026cf62c">command_data_destructor_fn</a> data_destructor, <a class="el" href="../../de/de3/control_8c.html#a7b331ff5f58b7657c835579bc28a99da">app_command_can_exec_cb</a> can_exec_fn)</td></tr>
<tr class="separator:a85b0a5b1bb2e49db6d60d35adc39f708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37477386e9312d1c503b174dc13317fe"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a37477386e9312d1c503b174dc13317fe">bridge_after_cb</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a37477386e9312d1c503b174dc13317fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7322606650c7646243726484df16b98e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a7322606650c7646243726484df16b98e">bridge_after_cb_failed</a> (enum <a class="el" href="../../d8/d85/bridge__after_8h.html#a1b15a371c654cfe77de053afe0994b9c">ast_bridge_after_cb_reason</a> reason, void *data)</td></tr>
<tr class="separator:a7322606650c7646243726484df16b98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add224095d52813ba1336410bbb95de15"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#add224095d52813ba1336410bbb95de15">bridge_channel_depart</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:add224095d52813ba1336410bbb95de15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb9d793f07a7117965ff5858fd928ffc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#abb9d793f07a7117965ff5858fd928ffc">bridge_timeout</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *ignore)</td></tr>
<tr class="memdesc:abb9d793f07a7117965ff5858fd928ffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dial timeout.  <a href="#abb9d793f07a7117965ff5858fd928ffc">More...</a><br /></td></tr>
<tr class="separator:abb9d793f07a7117965ff5858fd928ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40fff3666badb7af1a010c523ccf14df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a40fff3666badb7af1a010c523ccf14df">control_add_channel_to_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="memdesc:a40fff3666badb7af1a010c523ccf14df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command callback for adding a channel to a bridge.  <a href="#a40fff3666badb7af1a010c523ccf14df">More...</a><br /></td></tr>
<tr class="separator:a40fff3666badb7af1a010c523ccf14df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a724086dccbb01edfef800bde10a80b55"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a724086dccbb01edfef800bde10a80b55">control_app</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a724086dccbb01edfef800bde10a80b55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pointer (non-reffed) to the app associated with this control.  <a href="#a724086dccbb01edfef800bde10a80b55">More...</a><br /></td></tr>
<tr class="separator:a724086dccbb01edfef800bde10a80b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2df7584f357c4e4ed8410b204b9f736"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ac2df7584f357c4e4ed8410b204b9f736">control_command_count</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:ac2df7584f357c4e4ed8410b204b9f736"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the count of items in a control's command queue.  <a href="#ac2df7584f357c4e4ed8410b204b9f736">More...</a><br /></td></tr>
<tr class="separator:ac2df7584f357c4e4ed8410b204b9f736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76527348c55f4a4a8a3cfb7ccd798793"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a76527348c55f4a4a8a3cfb7ccd798793">control_create</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d4/d84/structchannel.html">channel</a>, struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:a76527348c55f4a4a8a3cfb7ccd798793"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a control object.  <a href="#a76527348c55f4a4a8a3cfb7ccd798793">More...</a><br /></td></tr>
<tr class="separator:a76527348c55f4a4a8a3cfb7ccd798793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55de25029816375aa9e957be777ae548"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a55de25029816375aa9e957be777ae548">control_dial_args_alloc</a> (const char *dialstring, unsigned int <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr class="separator:a55de25029816375aa9e957be777ae548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8dba9849151fd53faa671cb89972b46"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ac8dba9849151fd53faa671cb89972b46">control_dial_args_destroy</a> (void *data)</td></tr>
<tr class="separator:ac8dba9849151fd53faa671cb89972b46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f61f3aaffc1704240675904f5dea104"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a9f61f3aaffc1704240675904f5dea104">control_dispatch_all</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a9f61f3aaffc1704240675904f5dea104"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dispatch all commands enqueued to this control.  <a href="#a9f61f3aaffc1704240675904f5dea104">More...</a><br /></td></tr>
<tr class="separator:a9f61f3aaffc1704240675904f5dea104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afddcdee94890a5da4cda6d29162dd75e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#afddcdee94890a5da4cda6d29162dd75e">control_dtor</a> (void *obj)</td></tr>
<tr class="separator:afddcdee94890a5da4cda6d29162dd75e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80664020fe48449d024096157937b40c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a80664020fe48449d024096157937b40c">control_flush_queue</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a80664020fe48449d024096157937b40c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the control command queue.  <a href="#a80664020fe48449d024096157937b40c">More...</a><br /></td></tr>
<tr class="separator:a80664020fe48449d024096157937b40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54676258e38bccbf5366bf1ba5a18f9c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a54676258e38bccbf5366bf1ba5a18f9c">control_is_done</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a54676258e38bccbf5366bf1ba5a18f9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if control_continue() has been called on this <em>control</em>.  <a href="#a54676258e38bccbf5366bf1ba5a18f9c">More...</a><br /></td></tr>
<tr class="separator:a54676258e38bccbf5366bf1ba5a18f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe81650a0b8e4926475d3b47fa00da06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#afe81650a0b8e4926475d3b47fa00da06">control_mark_done</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="separator:afe81650a0b8e4926475d3b47fa00da06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa96ec6119d11c38a2a9385429513cf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#afa96ec6119d11c38a2a9385429513cf9">control_move_cleanup</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:afa96ec6119d11c38a2a9385429513cf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free any memory that was allocated for switching applications via /channels/{channelId}/move.  <a href="#afa96ec6119d11c38a2a9385429513cf9">More...</a><br /></td></tr>
<tr class="separator:afa96ec6119d11c38a2a9385429513cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a932badf3c545b8bd5111cad9aaed4c3c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a932badf3c545b8bd5111cad9aaed4c3c">control_next_app</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a932badf3c545b8bd5111cad9aaed4c3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the application we are moving to.  <a href="#a932badf3c545b8bd5111cad9aaed4c3c">More...</a><br /></td></tr>
<tr class="separator:a932badf3c545b8bd5111cad9aaed4c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5db9a2d5072ae2e6b5bd2c718c03ab2"><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ab5db9a2d5072ae2e6b5bd2c718c03ab2">control_next_app_args</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:ab5db9a2d5072ae2e6b5bd2c718c03ab2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of arguments to pass to the application we are moving to.  <a href="#ab5db9a2d5072ae2e6b5bd2c718c03ab2">More...</a><br /></td></tr>
<tr class="separator:ab5db9a2d5072ae2e6b5bd2c718c03ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f8795fd466c8645027ce6ff3620f962"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a9f8795fd466c8645027ce6ff3620f962">control_next_app_args_size</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a9f8795fd466c8645027ce6ff3620f962"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of arguments to be passed to the application we are moving to.  <a href="#a9f8795fd466c8645027ce6ff3620f962">More...</a><br /></td></tr>
<tr class="separator:a9f8795fd466c8645027ce6ff3620f962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3d3390c840aa706358dd3238942bbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a1a3d3390c840aa706358dd3238942bbf">control_prestart_dispatch_all</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a1a3d3390c840aa706358dd3238942bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dispatch all queued prestart commands.  <a href="#a1a3d3390c840aa706358dd3238942bbf">More...</a><br /></td></tr>
<tr class="separator:a1a3d3390c840aa706358dd3238942bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa58df566beb26758f5728fc4b8e693ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#aa58df566beb26758f5728fc4b8e693ea">control_set_app</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:aa58df566beb26758f5728fc4b8e693ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the application the control object belongs to.  <a href="#aa58df566beb26758f5728fc4b8e693ea">More...</a><br /></td></tr>
<tr class="separator:aa58df566beb26758f5728fc4b8e693ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25a5432fda39aae3c2c68f19105b059"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ad25a5432fda39aae3c2c68f19105b059">control_silence_stop_now</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:ad25a5432fda39aae3c2c68f19105b059"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop playing silence to a channel right now.  <a href="#ad25a5432fda39aae3c2c68f19105b059">More...</a><br /></td></tr>
<tr class="separator:ad25a5432fda39aae3c2c68f19105b059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2095140969cdaab207517ed79148838f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a2095140969cdaab207517ed79148838f">control_swap_channel_in_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *swap)</td></tr>
<tr class="memdesc:a2095140969cdaab207517ed79148838f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command for swapping a channel in a bridge.  <a href="#a2095140969cdaab207517ed79148838f">More...</a><br /></td></tr>
<tr class="separator:a2095140969cdaab207517ed79148838f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a316d08ca5342616eaf4b154d784477a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a316d08ca5342616eaf4b154d784477a1">control_wait</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a316d08ca5342616eaf4b154d784477a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks until <em>control's</em> command queue has a command available.  <a href="#a316d08ca5342616eaf4b154d784477a1">More...</a><br /></td></tr>
<tr class="separator:a316d08ca5342616eaf4b154d784477a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e1c66e1ff64c649f042831a6a88a58"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a99e1c66e1ff64c649f042831a6a88a58">depart_channel</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a99e1c66e1ff64c649f042831a6a88a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Depart a channel from a bridge, and potentially add it back to the dial bridge.  <a href="#a99e1c66e1ff64c649f042831a6a88a58">More...</a><br /></td></tr>
<tr class="separator:a99e1c66e1ff64c649f042831a6a88a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4172553a9877c0e7cd04a22d9f5dd03c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a4172553a9877c0e7cd04a22d9f5dd03c">dial_bridge_after_cb</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="memdesc:a4172553a9877c0e7cd04a22d9f5dd03c"><td class="mdescLeft">&#160;</td><td class="mdescRight">after bridge callback for the dial bridge  <a href="#a4172553a9877c0e7cd04a22d9f5dd03c">More...</a><br /></td></tr>
<tr class="separator:a4172553a9877c0e7cd04a22d9f5dd03c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42689530e407ace89b9df0d3b1885f2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#af42689530e407ace89b9df0d3b1885f2">dial_bridge_after_cb_failed</a> (enum <a class="el" href="../../d8/d85/bridge__after_8h.html#a1b15a371c654cfe77de053afe0994b9c">ast_bridge_after_cb_reason</a> reason, void *data)</td></tr>
<tr class="separator:af42689530e407ace89b9df0d3b1885f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa90b2a246dc6973a9dc746d9a79a6de7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#aa90b2a246dc6973a9dc746d9a79a6de7">dtmf_in_bridge</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../db/d25/structstasis__app__control__dtmf__data.html">stasis_app_control_dtmf_data</a> *dtmf_data)</td></tr>
<tr class="separator:aa90b2a246dc6973a9dc746d9a79a6de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a21c3793d702b5a0dd8c63ede137f7c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a0a21c3793d702b5a0dd8c63ede137f7c">dtmf_no_bridge</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../db/d25/structstasis__app__control__dtmf__data.html">stasis_app_control_dtmf_data</a> *dtmf_data)</td></tr>
<tr class="separator:a0a21c3793d702b5a0dd8c63ede137f7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a042492cd8c48f148a8107214bb9d1db2"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a042492cd8c48f148a8107214bb9d1db2">exec_command</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a816a21221be6d5a93cc55b8cb97d46ab">stasis_app_command_cb</a> command_fn, void *data, <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a66ead0f2f762f64bbad7eb8a026cf62c">command_data_destructor_fn</a> data_destructor)</td></tr>
<tr class="separator:a042492cd8c48f148a8107214bb9d1db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42bf846707bb8a40a31b3dfaa186eab7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a42bf846707bb8a40a31b3dfaa186eab7">exec_command_on_condition</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a816a21221be6d5a93cc55b8cb97d46ab">stasis_app_command_cb</a> command_fn, void *data, <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a66ead0f2f762f64bbad7eb8a026cf62c">command_data_destructor_fn</a> data_destructor, <a class="el" href="../../de/de3/control_8c.html#a7b331ff5f58b7657c835579bc28a99da">app_command_can_exec_cb</a> can_exec_fn)</td></tr>
<tr class="separator:a42bf846707bb8a40a31b3dfaa186eab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5790d48a3f75e992801bfb908007808d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a5790d48a3f75e992801bfb908007808d">free_chanvar</a> (void *data)</td></tr>
<tr class="separator:a5790d48a3f75e992801bfb908007808d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d4a95500a3572fcd9eac99446f6d66"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ac8d4a95500a3572fcd9eac99446f6d66">get_dial_bridge</a> (void)</td></tr>
<tr class="memdesc:ac8d4a95500a3572fcd9eac99446f6d66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a reference to the dial bridge.  <a href="#ac8d4a95500a3572fcd9eac99446f6d66">More...</a><br /></td></tr>
<tr class="separator:ac8d4a95500a3572fcd9eac99446f6d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a991fde578a69c677191f68e775a5e546"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a991fde578a69c677191f68e775a5e546">hangup_channel</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a991fde578a69c677191f68e775a5e546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ed4ec2a18d1298ae230e4234e18d53"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ae8ed4ec2a18d1298ae230e4234e18d53">internal_bridge_after_cb</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data, enum <a class="el" href="../../d8/d85/bridge__after_8h.html#a1b15a371c654cfe77de053afe0994b9c">ast_bridge_after_cb_reason</a> reason)</td></tr>
<tr class="separator:ae8ed4ec2a18d1298ae230e4234e18d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba70ff5a0206f0ead2340d907deaea3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a7ba70ff5a0206f0ead2340d907deaea3">noop_cb</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a7ba70ff5a0206f0ead2340d907deaea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04bd17d4585a2f55499f6673668f9d17"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a04bd17d4585a2f55499f6673668f9d17">set_interval_hook</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a04bd17d4585a2f55499f6673668f9d17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a dial timeout interval hook on the channel.  <a href="#a04bd17d4585a2f55499f6673668f9d17">More...</a><br /></td></tr>
<tr class="separator:a04bd17d4585a2f55499f6673668f9d17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157b06697e2d442620c10f866040218e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a157b06697e2d442620c10f866040218e">set_timeout</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned int <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr class="memdesc:a157b06697e2d442620c10f866040218e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set dial timeout on a channel to be dialed.  <a href="#a157b06697e2d442620c10f866040218e">More...</a><br /></td></tr>
<tr class="separator:a157b06697e2d442620c10f866040218e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694987deedc23dec0abba4f7401d858e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a694987deedc23dec0abba4f7401d858e">stasis_app_control_absorb_dtmf_in_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, int absorb)</td></tr>
<tr class="memdesc:a694987deedc23dec0abba4f7401d858e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether DTMF from the channel is absorbed instead of passing through to the bridge.  <a href="#a694987deedc23dec0abba4f7401d858e">More...</a><br /></td></tr>
<tr class="separator:a694987deedc23dec0abba4f7401d858e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e208e3badecf666903679cff10cd2d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a2e208e3badecf666903679cff10cd2d2">stasis_app_control_add_channel_to_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a2e208e3badecf666903679cff10cd2d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a channel to the bridge.  <a href="#a2e208e3badecf666903679cff10cd2d2">More...</a><br /></td></tr>
<tr class="separator:a2e208e3badecf666903679cff10cd2d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a68f427b9d772cea5e222039314509"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a84a68f427b9d772cea5e222039314509">stasis_app_control_add_role</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *role)</td></tr>
<tr class="memdesc:a84a68f427b9d772cea5e222039314509"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply a bridge role to a channel controlled by a stasis app control.  <a href="#a84a68f427b9d772cea5e222039314509">More...</a><br /></td></tr>
<tr class="separator:a84a68f427b9d772cea5e222039314509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d7c78b5fc5947de58844090ee2518f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a8d7c78b5fc5947de58844090ee2518f9">stasis_app_control_bridge_features_init</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a8d7c78b5fc5947de58844090ee2518f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize bridge features into a channel control.  <a href="#a8d7c78b5fc5947de58844090ee2518f9">More...</a><br /></td></tr>
<tr class="separator:a8d7c78b5fc5947de58844090ee2518f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42879b4f8dabd12fc8dd0677b3524808"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a42879b4f8dabd12fc8dd0677b3524808">stasis_app_control_clear_roles</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a42879b4f8dabd12fc8dd0677b3524808"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear bridge roles currently applied to a channel controlled by a stasis app control.  <a href="#a42879b4f8dabd12fc8dd0677b3524808">More...</a><br /></td></tr>
<tr class="separator:a42879b4f8dabd12fc8dd0677b3524808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44c0b1bbbf0189d3c6b076eccd0a6d8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a44c0b1bbbf0189d3c6b076eccd0a6d8f">stasis_app_control_continue</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../d0/d5a/structextension.html">extension</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</td></tr>
<tr class="memdesc:a44c0b1bbbf0189d3c6b076eccd0a6d8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit <code>res_stasis</code> and continue execution in the dialplan.  <a href="#a44c0b1bbbf0189d3c6b076eccd0a6d8f">More...</a><br /></td></tr>
<tr class="separator:a44c0b1bbbf0189d3c6b076eccd0a6d8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab947f73656a6630c01b18dc648e58f5d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ab947f73656a6630c01b18dc648e58f5d">stasis_app_control_dial</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *dialstring, unsigned int <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr class="memdesc:ab947f73656a6630c01b18dc648e58f5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dial a channel.  <a href="#ab947f73656a6630c01b18dc648e58f5d">More...</a><br /></td></tr>
<tr class="separator:ab947f73656a6630c01b18dc648e58f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c019f054eb3780d13f1e691864cca44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a7c019f054eb3780d13f1e691864cca44">stasis_app_control_dtmf</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *dtmf, int before, int between, unsigned int duration, int after)</td></tr>
<tr class="memdesc:a7c019f054eb3780d13f1e691864cca44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send DTMF to the channel associated with this control.  <a href="#a7c019f054eb3780d13f1e691864cca44">More...</a><br /></td></tr>
<tr class="separator:a7c019f054eb3780d13f1e691864cca44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765833b409f1e57016e7fff07d9e0a01"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a> (const struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a765833b409f1e57016e7fff07d9e0a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the uniqueid of the channel associated with this control.  <a href="#a765833b409f1e57016e7fff07d9e0a01">More...</a><br /></td></tr>
<tr class="separator:a765833b409f1e57016e7fff07d9e0a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e17c5418a4753bb1229f031041a645c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a2e17c5418a4753bb1229f031041a645c">stasis_app_control_get_snapshot</a> (const struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a2e17c5418a4753bb1229f031041a645c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most recent snapshot for the associated channel.  <a href="#a2e17c5418a4753bb1229f031041a645c">More...</a><br /></td></tr>
<tr class="separator:a2e17c5418a4753bb1229f031041a645c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bb10fa5db167b16a211526e13673edf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a9bb10fa5db167b16a211526e13673edf">stasis_app_control_hold</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a9bb10fa5db167b16a211526e13673edf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Place the channel associated with the control on hold.  <a href="#a9bb10fa5db167b16a211526e13673edf">More...</a><br /></td></tr>
<tr class="separator:a9bb10fa5db167b16a211526e13673edf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852b7f8db110cea010cf8b430948c70f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a852b7f8db110cea010cf8b430948c70f">stasis_app_control_inhibit_colp_in_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, int inhibit_colp)</td></tr>
<tr class="memdesc:a852b7f8db110cea010cf8b430948c70f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether COLP frames should be generated when joining the bridge.  <a href="#a852b7f8db110cea010cf8b430948c70f">More...</a><br /></td></tr>
<tr class="separator:a852b7f8db110cea010cf8b430948c70f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f12c113afa7b94a2ddf80d6d543b23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a11f12c113afa7b94a2ddf80d6d543b23">stasis_app_control_moh_start</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *moh_class)</td></tr>
<tr class="memdesc:a11f12c113afa7b94a2ddf80d6d543b23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Play music on hold to a channel (does not affect hold status)  <a href="#a11f12c113afa7b94a2ddf80d6d543b23">More...</a><br /></td></tr>
<tr class="separator:a11f12c113afa7b94a2ddf80d6d543b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d561aa1d3d4550d16717af2e9ff6c19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a5d561aa1d3d4550d16717af2e9ff6c19">stasis_app_control_moh_stop</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a5d561aa1d3d4550d16717af2e9ff6c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop playing music on hold to a channel (does not affect hold status)  <a href="#a5d561aa1d3d4550d16717af2e9ff6c19">More...</a><br /></td></tr>
<tr class="separator:a5d561aa1d3d4550d16717af2e9ff6c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df0352d477bb7ff14767cf9d4cd301f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a5df0352d477bb7ff14767cf9d4cd301f">stasis_app_control_move</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, const char *app_args)</td></tr>
<tr class="memdesc:a5df0352d477bb7ff14767cf9d4cd301f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit <code>res_stasis</code> and move to another Stasis application.  <a href="#a5df0352d477bb7ff14767cf9d4cd301f">More...</a><br /></td></tr>
<tr class="separator:a5df0352d477bb7ff14767cf9d4cd301f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66191b73a286eb254c6d8ce1ad0f6483"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a66191b73a286eb254c6d8ce1ad0f6483">stasis_app_control_mute</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, unsigned int <a class="el" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>, enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0">ast_frame_type</a> frametype)</td></tr>
<tr class="memdesc:a66191b73a286eb254c6d8ce1ad0f6483"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mute the channel associated with this control.  <a href="#a66191b73a286eb254c6d8ce1ad0f6483">More...</a><br /></td></tr>
<tr class="separator:a66191b73a286eb254c6d8ce1ad0f6483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a8e7b7b8dad6e8559c7ee699a2b163"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a00a8e7b7b8dad6e8559c7ee699a2b163">stasis_app_control_mute_in_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, int <a class="el" href="../../d0/d8a/muted_8c.html#a40c353051f61f0b0ca3e1af451eefcd8">mute</a>)</td></tr>
<tr class="memdesc:a00a8e7b7b8dad6e8559c7ee699a2b163"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether audio from the channel is muted instead of passing through to the bridge.  <a href="#a00a8e7b7b8dad6e8559c7ee699a2b163">More...</a><br /></td></tr>
<tr class="separator:a00a8e7b7b8dad6e8559c7ee699a2b163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59eacac6d5939ac31361047ec04b34a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a59eacac6d5939ac31361047ec04b34a3">stasis_app_control_publish</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="memdesc:a59eacac6d5939ac31361047ec04b34a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish a message to the <em>control's</em> channel's topic.  <a href="#a59eacac6d5939ac31361047ec04b34a3">More...</a><br /></td></tr>
<tr class="separator:a59eacac6d5939ac31361047ec04b34a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1925743427fa1e058f5059e3b2de4d28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390">ast_control_frame_type</a> <a class="el" href="../../d1/d46/codec__builtin_8c.html#a3ca2c0bc7578bf3d337e34b2c08a6c5f">frame_type</a>)</td></tr>
<tr class="memdesc:a1925743427fa1e058f5059e3b2de4d28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue a control frame without payload.  <a href="#a1925743427fa1e058f5059e3b2de4d28">More...</a><br /></td></tr>
<tr class="separator:a1925743427fa1e058f5059e3b2de4d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a22aa0f953281ff836d394667b9bd24"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a5a22aa0f953281ff836d394667b9bd24">stasis_app_control_redirect</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *endpoint)</td></tr>
<tr class="memdesc:a5a22aa0f953281ff836d394667b9bd24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redirect a channel in <code>res_stasis</code> to a particular endpoint.  <a href="#a5a22aa0f953281ff836d394667b9bd24">More...</a><br /></td></tr>
<tr class="separator:a5a22aa0f953281ff836d394667b9bd24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf20b6f2b70956f1d88829c37708f080"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#acf20b6f2b70956f1d88829c37708f080">stasis_app_control_register_add_rule</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *<a class="el" href="../../d3/d61/structrule.html">rule</a>)</td></tr>
<tr class="memdesc:acf20b6f2b70956f1d88829c37708f080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers an add channel to bridge rule.  <a href="#acf20b6f2b70956f1d88829c37708f080">More...</a><br /></td></tr>
<tr class="separator:acf20b6f2b70956f1d88829c37708f080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ffd34c4da0bc15d8334aa2983157f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a02ffd34c4da0bc15d8334aa2983157f3">stasis_app_control_register_remove_rule</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *<a class="el" href="../../d3/d61/structrule.html">rule</a>)</td></tr>
<tr class="memdesc:a02ffd34c4da0bc15d8334aa2983157f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a remove channel from bridge rule.  <a href="#a02ffd34c4da0bc15d8334aa2983157f3">More...</a><br /></td></tr>
<tr class="separator:a02ffd34c4da0bc15d8334aa2983157f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874dcd52a4209a376cfdd082ec21725b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a874dcd52a4209a376cfdd082ec21725b">stasis_app_control_remove_channel_from_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a874dcd52a4209a376cfdd082ec21725b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a channel from the bridge.  <a href="#a874dcd52a4209a376cfdd082ec21725b">More...</a><br /></td></tr>
<tr class="separator:a874dcd52a4209a376cfdd082ec21725b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9717bc28b2e5847e2d227c27bfe9116"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#af9717bc28b2e5847e2d227c27bfe9116">stasis_app_control_ring</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:af9717bc28b2e5847e2d227c27bfe9116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate ringing to the channel associated with this control.  <a href="#af9717bc28b2e5847e2d227c27bfe9116">More...</a><br /></td></tr>
<tr class="separator:af9717bc28b2e5847e2d227c27bfe9116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab53d6f93bf8ba651ab404eaf855d4027"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#ab53d6f93bf8ba651ab404eaf855d4027">stasis_app_control_ring_stop</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:ab53d6f93bf8ba651ab404eaf855d4027"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop locally generated ringing on the channel associated with this control.  <a href="#ab53d6f93bf8ba651ab404eaf855d4027">More...</a><br /></td></tr>
<tr class="separator:ab53d6f93bf8ba651ab404eaf855d4027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb085c198d616b3317f7327fd7e5fc7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#aeb085c198d616b3317f7327fd7e5fc7b">stasis_app_control_set_channel_var</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *variable, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:aeb085c198d616b3317f7327fd7e5fc7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a variable on the channel associated with this control to value.  <a href="#aeb085c198d616b3317f7327fd7e5fc7b">More...</a><br /></td></tr>
<tr class="separator:aeb085c198d616b3317f7327fd7e5fc7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb45df1051fd2fa2cbf88b1c00ed13ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#afb45df1051fd2fa2cbf88b1c00ed13ea">stasis_app_control_shutdown</a> (void)</td></tr>
<tr class="memdesc:afb45df1051fd2fa2cbf88b1c00ed13ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let Stasis app internals shut down.  <a href="#afb45df1051fd2fa2cbf88b1c00ed13ea">More...</a><br /></td></tr>
<tr class="separator:afb45df1051fd2fa2cbf88b1c00ed13ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b8ee9ca3a0ed85ce482681b0e6d9b45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a3b8ee9ca3a0ed85ce482681b0e6d9b45">stasis_app_control_silence_start</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a3b8ee9ca3a0ed85ce482681b0e6d9b45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start playing silence to a channel.  <a href="#a3b8ee9ca3a0ed85ce482681b0e6d9b45">More...</a><br /></td></tr>
<tr class="separator:a3b8ee9ca3a0ed85ce482681b0e6d9b45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c7239c782e4db64d0e0ddcbcd4283cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a3c7239c782e4db64d0e0ddcbcd4283cd">stasis_app_control_silence_stop</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a3c7239c782e4db64d0e0ddcbcd4283cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop playing silence to a channel.  <a href="#a3c7239c782e4db64d0e0ddcbcd4283cd">More...</a><br /></td></tr>
<tr class="separator:a3c7239c782e4db64d0e0ddcbcd4283cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2719b9cb8ef3ef44ad550fc3818d7264"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a2719b9cb8ef3ef44ad550fc3818d7264">stasis_app_control_unhold</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a2719b9cb8ef3ef44ad550fc3818d7264"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the channel associated with the control from hold.  <a href="#a2719b9cb8ef3ef44ad550fc3818d7264">More...</a><br /></td></tr>
<tr class="separator:a2719b9cb8ef3ef44ad550fc3818d7264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221cfaccbc5c213fa0e56aacdc611669"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a221cfaccbc5c213fa0e56aacdc611669">stasis_app_control_unmute</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, unsigned int <a class="el" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>, enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0">ast_frame_type</a> frametype)</td></tr>
<tr class="memdesc:a221cfaccbc5c213fa0e56aacdc611669"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmute the channel associated with this control.  <a href="#a221cfaccbc5c213fa0e56aacdc611669">More...</a><br /></td></tr>
<tr class="separator:a221cfaccbc5c213fa0e56aacdc611669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa038e171bcc2b5e09a09100063141ea1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#aa038e171bcc2b5e09a09100063141ea1">stasis_app_control_unregister_add_rule</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *<a class="el" href="../../d3/d61/structrule.html">rule</a>)</td></tr>
<tr class="memdesc:aa038e171bcc2b5e09a09100063141ea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">UnRegister an add channel to bridge rule.  <a href="#aa038e171bcc2b5e09a09100063141ea1">More...</a><br /></td></tr>
<tr class="separator:aa038e171bcc2b5e09a09100063141ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f688a3d2e7d4bf0119dba4b6557ebc8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a1f688a3d2e7d4bf0119dba4b6557ebc8">stasis_app_control_unregister_remove_rule</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *<a class="el" href="../../d3/d61/structrule.html">rule</a>)</td></tr>
<tr class="memdesc:a1f688a3d2e7d4bf0119dba4b6557ebc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters a remove channel from bridge rule.  <a href="#a1f688a3d2e7d4bf0119dba4b6557ebc8">More...</a><br /></td></tr>
<tr class="separator:a1f688a3d2e7d4bf0119dba4b6557ebc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00eec5811d50eb68749bf440708e156b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a00eec5811d50eb68749bf440708e156b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the bridge currently associated with a control object.  <a href="#a00eec5811d50eb68749bf440708e156b">More...</a><br /></td></tr>
<tr class="separator:a00eec5811d50eb68749bf440708e156b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ab1b352f21ccf730bb3bc94a1074fd6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a3ab1b352f21ccf730bb3bc94a1074fd6">stasis_app_send_command</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a816a21221be6d5a93cc55b8cb97d46ab">stasis_app_command_cb</a> command_fn, void *data, <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a66ead0f2f762f64bbad7eb8a026cf62c">command_data_destructor_fn</a> data_destructor)</td></tr>
<tr class="memdesc:a3ab1b352f21ccf730bb3bc94a1074fd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes a <em>command</em> on a <em>control's</em> channel.  <a href="#a3ab1b352f21ccf730bb3bc94a1074fd6">More...</a><br /></td></tr>
<tr class="separator:a3ab1b352f21ccf730bb3bc94a1074fd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c301f329a1303e3138af437527edda9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a816a21221be6d5a93cc55b8cb97d46ab">stasis_app_command_cb</a> command_fn, void *data, <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a66ead0f2f762f64bbad7eb8a026cf62c">command_data_destructor_fn</a> data_destructor)</td></tr>
<tr class="memdesc:a8c301f329a1303e3138af437527edda9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous version of <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a36343c21d88758d9df3ff6aa217caf5d" title="Invokes a command on a control&#39;s channel. ">stasis_app_send_command()</a>.  <a href="#a8c301f329a1303e3138af437527edda9">More...</a><br /></td></tr>
<tr class="separator:a8c301f329a1303e3138af437527edda9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a69021b7db180f22656f9cb2dbd1b164d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a></td></tr>
<tr class="memdesc:a69021b7db180f22656f9cb2dbd1b164d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton dial bridge.  <a href="#a69021b7db180f22656f9cb2dbd1b164d">More...</a><br /></td></tr>
<tr class="separator:a69021b7db180f22656f9cb2dbd1b164d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcfa0faf18325b705ddf432c7471eb9f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#adcfa0faf18325b705ddf432c7471eb9f">dial_bridge_lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td></tr>
<tr class="separator:adcfa0faf18325b705ddf432c7471eb9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f68568851b9c7f9291f7bb63f932c18"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a7f68568851b9c7f9291f7bb63f932c18">shutting_down</a></td></tr>
<tr class="memdesc:a7f68568851b9c7f9291f7bb63f932c18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if the Stasis app internals are being shut down.  <a href="#a7f68568851b9c7f9291f7bb63f932c18">More...</a><br /></td></tr>
<tr class="separator:a7f68568851b9c7f9291f7bb63f932c18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eccae97d4224bab1de485a833dde6f6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/control_8c.html#a6eccae97d4224bab1de485a833dde6f6">timeout_datastore</a></td></tr>
<tr class="memdesc:a6eccae97d4224bab1de485a833dde6f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dial timeout datastore.  <a href="#a6eccae97d4224bab1de485a833dde6f6">More...</a><br /></td></tr>
<tr class="separator:a6eccae97d4224bab1de485a833dde6f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stasis application control support. </p>
<dl class="section author"><dt>Author</dt><dd>David M. Lee, II <a href="#" onclick="location.href='mai'+'lto:'+'dle'+'e@'+'dig'+'iu'+'m.c'+'om'; return false;">dlee@<span style="display: none;">.nosp@m.</span>digi<span style="display: none;">.nosp@m.</span>um.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a7b331ff5f58b7657c835579bc28a99da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b331ff5f58b7657c835579bc28a99da">&#9670;&nbsp;</a></span>app_command_can_exec_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* app_command_can_exec_cb) (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback type to see if the command can execute note: command_queue is locked during callback </p>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00265">265</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a16c10e06199540b3f37d1fbffa759d5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c10e06199540b3f37d1fbffa759d5f">&#9670;&nbsp;</a></span>add_to_dial_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_to_dial_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a channel to the singleton dial bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The Stasis control structure </td></tr>
    <tr><td class="paramname">chan</td><td>The channel to add to the bridge </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Failed </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01041">1041</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00259">ast_bridge_set_after_callback()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00064">stasis_app_control::bridge</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01009">dial_bridge_after_cb()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01025">dial_bridge_after_cb_failed()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00974">get_dial_bridge()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01628">app_control_dial()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01069">depart_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;{</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;   bridge = <a class="code" href="../../de/de3/control_8c.html#ac8d4a95500a3572fcd9eac99446f6d66">get_dial_bridge</a>();</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   <span class="keywordflow">if</span> (!bridge) {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   }</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a> = bridge;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;   <a class="code" href="../../d8/d85/bridge__after_8h.html#a866e05c6b083030e9757cfb37814e671">ast_bridge_set_after_callback</a>(chan, <a class="code" href="../../de/de3/control_8c.html#a4172553a9877c0e7cd04a22d9f5dd03c">dial_bridge_after_cb</a>, <a class="code" href="../../de/de3/control_8c.html#af42689530e407ace89b9df0d3b1885f2">dial_bridge_after_cb_failed</a>, control);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>)) {</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge, -1);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;   }</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge, -1);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div><div class="ttc" id="control_8c_html_af42689530e407ace89b9df0d3b1885f2"><div class="ttname"><a href="../../de/de3/control_8c.html#af42689530e407ace89b9df0d3b1885f2">dial_bridge_after_cb_failed</a></div><div class="ttdeci">static void dial_bridge_after_cb_failed(enum ast_bridge_after_cb_reason reason, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01025">control.c:1025</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a866e05c6b083030e9757cfb37814e671"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a866e05c6b083030e9757cfb37814e671">ast_bridge_set_after_callback</a></div><div class="ttdeci">int ast_bridge_set_after_callback(struct ast_channel *chan, ast_bridge_after_cb callback, ast_bridge_after_cb_failed failed, void *data)</div><div class="ttdoc">Setup an after bridge callback for when the channel leaves the bridging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00259">bridge_after.c:259</a></div></div>
<div class="ttc" id="control_8c_html_a4172553a9877c0e7cd04a22d9f5dd03c"><div class="ttname"><a href="../../de/de3/control_8c.html#a4172553a9877c0e7cd04a22d9f5dd03c">dial_bridge_after_cb</a></div><div class="ttdeci">static void dial_bridge_after_cb(struct ast_channel *chan, void *data)</div><div class="ttdoc">after bridge callback for the dial bridge </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01009">control.c:1009</a></div></div>
<div class="ttc" id="control_8c_html_ac8d4a95500a3572fcd9eac99446f6d66"><div class="ttname"><a href="../../de/de3/control_8c.html#ac8d4a95500a3572fcd9eac99446f6d66">get_dial_bridge</a></div><div class="ttdeci">static struct ast_bridge * get_dial_bridge(void)</div><div class="ttdoc">Retrieve a reference to the dial bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00974">control.c:974</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">stasis_app_control::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00064">control.c:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84c9217860c27d5658215b002d314b5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84c9217860c27d5658215b002d314b5d">&#9670;&nbsp;</a></span>app_control_add_role()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_add_role </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00308">308</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00317">ast_channel_add_bridge_role()</a>, and <a class="el" href="../../d5/d2e/command_8c_source.html#l00037">stasis_app_command::data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00316">stasis_app_control_add_role()</a>.</p>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;{</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <span class="keywordtype">char</span> *role = data;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/dff/bridge__roles_8h.html#a8511ad15a10f0b6269094ad307ba17a2">ast_channel_add_bridge_role</a>(chan, role);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div><div class="ttc" id="bridge__roles_8h_html_a8511ad15a10f0b6269094ad307ba17a2"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html#a8511ad15a10f0b6269094ad307ba17a2">ast_channel_add_bridge_role</a></div><div class="ttdeci">int ast_channel_add_bridge_role(struct ast_channel *chan, const char *role_name)</div><div class="ttdoc">Adds a bridge role to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00317">bridge_roles.c:317</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad6d06be0fa6426cfa71b89eabd6dd75f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d06be0fa6426cfa71b89eabd6dd75f">&#9670;&nbsp;</a></span>app_control_can_add_channel_to_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_can_add_channel_to_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00245">245</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00076">stasis_app_control::add_rules</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00203">app_control_check_rules()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01383">stasis_app_control_add_channel_to_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a4685da6bba059927d167a5bed1d3acd0">app_control_check_rules</a>(control, &amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">add_rules</a>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div><div class="ttc" id="control_8c_html_a4685da6bba059927d167a5bed1d3acd0"><div class="ttname"><a href="../../de/de3/control_8c.html#a4685da6bba059927d167a5bed1d3acd0">app_control_check_rules</a></div><div class="ttdeci">static enum stasis_app_control_channel_result app_control_check_rules(const struct stasis_app_control *control, struct app_control_rules *list)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00203">control.c:203</a></div></div>
<div class="ttc" id="structstasis__app__control_html_abf7d53da04a131747a4ce76b04db91a1"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">stasis_app_control::add_rules</a></div><div class="ttdeci">struct app_control_rules add_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00076">control.c:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4db81e0854e76fd148dfaa29d129172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4db81e0854e76fd148dfaa29d129172">&#9670;&nbsp;</a></span>app_control_can_remove_channel_from_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_can_remove_channel_from_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00251">251</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00203">app_control_check_rules()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00080">stasis_app_control::remove_rules</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01420">stasis_app_control_remove_channel_from_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;{</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a4685da6bba059927d167a5bed1d3acd0">app_control_check_rules</a>(control, &amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">remove_rules</a>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_aa7fd7031cc99ac223f890dc031cb2c61"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">stasis_app_control::remove_rules</a></div><div class="ttdeci">struct app_control_rules remove_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00080">control.c:80</a></div></div>
<div class="ttc" id="control_8c_html_a4685da6bba059927d167a5bed1d3acd0"><div class="ttname"><a href="../../de/de3/control_8c.html#a4685da6bba059927d167a5bed1d3acd0">app_control_check_rules</a></div><div class="ttdeci">static enum stasis_app_control_channel_result app_control_check_rules(const struct stasis_app_control *control, struct app_control_rules *list)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00203">control.c:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4685da6bba059927d167a5bed1d3acd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4685da6bba059927d167a5bed1d3acd0">&#9670;&nbsp;</a></span>app_control_check_rules()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211">stasis_app_control_channel_result</a> app_control_check_rules </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d4f/structapp__control__rules.html">app_control_rules</a> *&#160;</td>
          <td class="paramname"><em>list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00203">203</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00352">stasis_app_control_rule::check_rule</a>, and <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00355">stasis_app_control_rule::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00245">app_control_can_add_channel_to_bridge()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00251">app_control_can_remove_channel_from_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *<a class="code" href="../../d3/d61/structrule.html">rule</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(list, rule, <a class="code" href="../../d3/dc3/structstasis__app__control__rule.html#aa49e23b92aa78ec0abff442bf428253a">next</a>) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordflow">if</span> ((res = rule-&gt;<a class="code" href="../../d3/dc3/structstasis__app__control__rule.html#a2cdead21c62e99e4a441793df8d62620">check_rule</a>(control))) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;         <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div><div class="ttc" id="structstasis__app__control__rule_html_a2cdead21c62e99e4a441793df8d62620"><div class="ttname"><a href="../../d3/dc3/structstasis__app__control__rule.html#a2cdead21c62e99e4a441793df8d62620">stasis_app_control_rule::check_rule</a></div><div class="ttdeci">enum stasis_app_control_channel_result(* check_rule)(const struct stasis_app_control *control)</div><div class="ttdoc">Checks to see if an operation is allowed on the control. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00352">stasis_app.h:352</a></div></div>
<div class="ttc" id="structrule_html"><div class="ttname"><a href="../../d3/d61/structrule.html">rule</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00248">localtime.c:248</a></div></div>
<div class="ttc" id="structstasis__app__control__rule_html"><div class="ttname"><a href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a></div><div class="ttdoc">Rule to check to see if an operation is allowed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00345">stasis_app.h:345</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structstasis__app__control__rule_html_aa49e23b92aa78ec0abff442bf428253a"><div class="ttname"><a href="../../d3/dc3/structstasis__app__control__rule.html#aa49e23b92aa78ec0abff442bf428253a">stasis_app_control_rule::next</a></div><div class="ttdeci">struct stasis_app_control_rule * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00355">stasis_app.h:355</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1afc69223c6420557bb008a7736cc3af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1afc69223c6420557bb008a7736cc3af">&#9670;&nbsp;</a></span>app_control_clear_roles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_clear_roles </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00330">330</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00360">ast_channel_clear_bridge_roles()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00338">stasis_app_control_clear_roles()</a>.</p>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;{</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <a class="code" href="../../dd/dff/bridge__roles_8h.html#a8f7bd18b68cbc66bd4ed574ffc3039d2">ast_channel_clear_bridge_roles</a>(chan);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div><div class="ttc" id="bridge__roles_8h_html_a8f7bd18b68cbc66bd4ed574ffc3039d2"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html#a8f7bd18b68cbc66bd4ed574ffc3039d2">ast_channel_clear_bridge_roles</a></div><div class="ttdeci">void ast_channel_clear_bridge_roles(struct ast_channel *chan)</div><div class="ttdoc">Removes all bridge roles currently on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00360">bridge_roles.c:360</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1217c5dac7dbadf1815aae3963c2dec6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1217c5dac7dbadf1815aae3963c2dec6">&#9670;&nbsp;</a></span>app_control_continue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_continue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00368">368</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06987">ast_explicit_goto()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00363">stasis_app_control_continue_data::context</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00354">control_mark_done()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00364">stasis_app_control_continue_data::extension</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00365">stasis_app_control_continue_data::priority</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00931">stasis_app_get_bridge()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00389">stasis_app_control_continue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;{</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d54/structstasis__app__control__continue__data.html">stasis_app_control_continue_data</a> *continue_data = data;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="comment">/* If we&#39;re in a Stasis bridge, depart it before going back to the</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">    * dialplan */</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a>(control)) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <span class="comment">/* Called from stasis_app_exec thread; no lock needed */</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a9f840db4b5ef461ac2c0c975a57c9e89">ast_explicit_goto</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#a17fc2bb0bac08eee9b9792a4e34757ea">extension</a>, continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#afe81650a0b8e4926475d3b47fa00da06">control_mark_done</a>(control);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div><div class="ttc" id="control_8c_html_afe81650a0b8e4926475d3b47fa00da06"><div class="ttname"><a href="../../de/de3/control_8c.html#afe81650a0b8e4926475d3b47fa00da06">control_mark_done</a></div><div class="ttdeci">void control_mark_done(struct stasis_app_control *control)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00354">control.c:354</a></div></div>
<div class="ttc" id="structstasis__app__control__continue__data_html"><div class="ttname"><a href="../../db/d54/structstasis__app__control__continue__data.html">stasis_app_control_continue_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00362">control.c:362</a></div></div>
<div class="ttc" id="control_8c_html_a00eec5811d50eb68749bf440708e156b"><div class="ttname"><a href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a></div><div class="ttdeci">struct ast_bridge * stasis_app_get_bridge(struct stasis_app_control *control)</div><div class="ttdoc">Gets the bridge currently associated with a control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00931">control.c:931</a></div></div>
<div class="ttc" id="pbx_8h_html_a9f840db4b5ef461ac2c0c975a57c9e89"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a9f840db4b5ef461ac2c0c975a57c9e89">ast_explicit_goto</a></div><div class="ttdeci">int ast_explicit_goto(struct ast_channel *chan, const char *context, const char *exten, int priority)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06987">pbx.c:6987</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="structstasis__app__control__continue__data_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../db/d54/structstasis__app__control__continue__data.html#ac25ea00ee3f082df06e0cf468cbde240">stasis_app_control_continue_data::context</a></div><div class="ttdeci">char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00363">control.c:363</a></div></div>
<div class="ttc" id="structstasis__app__control__continue__data_html_a17fc2bb0bac08eee9b9792a4e34757ea"><div class="ttname"><a href="../../db/d54/structstasis__app__control__continue__data.html#a17fc2bb0bac08eee9b9792a4e34757ea">stasis_app_control_continue_data::extension</a></div><div class="ttdeci">char extension[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00364">control.c:364</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="structstasis__app__control__continue__data_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../db/d54/structstasis__app__control__continue__data.html#acec9ce2df15222151ad66fcb1d74eb9f">stasis_app_control_continue_data::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00365">control.c:365</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad87af38fcd8182bee19a09e7186a8c02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad87af38fcd8182bee19a09e7186a8c02">&#9670;&nbsp;</a></span>app_control_dial()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_dial </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01628">1628</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l01041">add_to_dial_bridge()</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00447">ast_bridge_setup_after_goto()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06553">ast_call()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10746">ast_channel_is_bridged()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01127">AST_SOFTHANGUP_ASYNCGOTO</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01122">AST_SOFTHANGUP_DEV</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02463">ast_softhangup_nolock()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01570">control_dial_args::dialstring</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01603">set_timeout()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01569">control_dial_args::timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01666">stasis_app_control_dial()</a>.</p>
<div class="fragment"><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;{</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a> = data;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;   <span class="keywordtype">int</span> bridged;</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;   bridged = <a class="code" href="../../d5/d7b/channel_8h.html#aa0a52e573af67cb0f29095177128d186">ast_channel_is_bridged</a>(chan);</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;   <span class="keywordflow">if</span> (!bridged &amp;&amp; <a class="code" href="../../de/de3/control_8c.html#a16c10e06199540b3f37d1fbffa759d5f">add_to_dial_bridge</a>(control, chan)) {</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;   }</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;   <span class="keywordflow">if</span> (args-&gt;<a class="code" href="../../d8/dc2/structcontrol__dial__args.html#a25af7eefd48048fb067a60b8e295caf1">timeout</a> &amp;&amp; <a class="code" href="../../de/de3/control_8c.html#a157b06697e2d442620c10f866040218e">set_timeout</a>(chan, args-&gt;<a class="code" href="../../d8/dc2/structcontrol__dial__args.html#a25af7eefd48048fb067a60b8e295caf1">timeout</a>)) {</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;   }</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a1b732eb4ed203140b1a3aae9e7dec2c1">ast_call</a>(chan, args-&gt;<a class="code" href="../../d8/dc2/structcontrol__dial__args.html#a1c91d65869b4232d57383e1dda103441">dialstring</a>, 0)) {</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      <span class="comment">/* If call fails normally this channel would then just be normally hung up and destroyed.</span></div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="comment">       * In this case though the channel is being handled by the ARI control thread and dial</span></div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="comment">       * bridge which needs to be notified that the channel should be hung up. To do this we</span></div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="comment">       * queue a soft hangup which will cause each to wake up, see that the channel has been</span></div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="comment">       * hung up, and then destroy it.</span></div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      <span class="keywordtype">int</span> hangup_flag;</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      hangup_flag = <a class="code" href="../../d8/d85/bridge__after_8h.html#a6231027722f2bdd4093d15defa0d7b94">ast_bridge_setup_after_goto</a>(chan) ? <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2e185ce313026e13ed90ae3a319c9cb7">AST_SOFTHANGUP_DEV</a> : <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4">AST_SOFTHANGUP_ASYNCGOTO</a>;</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ae90da1877e143b996d202d4c88a9c862">ast_softhangup_nolock</a>(chan, hangup_flag);</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;   }</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan, args-&gt;<a class="code" href="../../d8/dc2/structcontrol__dial__args.html#a1c91d65869b4232d57383e1dda103441">dialstring</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7d446221f9a272b003c4ad660a7e14dc"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a></div><div class="ttdeci">void ast_channel_publish_dial(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring, const char *dialstatus)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00739">stasis_channels.c:739</a></div></div>
<div class="ttc" id="channel_8h_html_a1b732eb4ed203140b1a3aae9e7dec2c1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1b732eb4ed203140b1a3aae9e7dec2c1">ast_call</a></div><div class="ttdeci">int ast_call(struct ast_channel *chan, const char *addr, int timeout)</div><div class="ttdoc">Make a call. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06553">channel.c:6553</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a2e185ce313026e13ed90ae3a319c9cb7"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2e185ce313026e13ed90ae3a319c9cb7">AST_SOFTHANGUP_DEV</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01122">channel.h:1122</a></div></div>
<div class="ttc" id="control_8c_html_a16c10e06199540b3f37d1fbffa759d5f"><div class="ttname"><a href="../../de/de3/control_8c.html#a16c10e06199540b3f37d1fbffa759d5f">add_to_dial_bridge</a></div><div class="ttdeci">static int add_to_dial_bridge(struct stasis_app_control *control, struct ast_channel *chan)</div><div class="ttdoc">Add a channel to the singleton dial bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01041">control.c:1041</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structcontrol__dial__args_html_a1c91d65869b4232d57383e1dda103441"><div class="ttname"><a href="../../d8/dc2/structcontrol__dial__args.html#a1c91d65869b4232d57383e1dda103441">control_dial_args::dialstring</a></div><div class="ttdeci">char dialstring[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01570">control.c:1570</a></div></div>
<div class="ttc" id="structcontrol__dial__args_html"><div class="ttname"><a href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01568">control.c:1568</a></div></div>
<div class="ttc" id="structcontrol__dial__args_html_a25af7eefd48048fb067a60b8e295caf1"><div class="ttname"><a href="../../d8/dc2/structcontrol__dial__args.html#a25af7eefd48048fb067a60b8e295caf1">control_dial_args::timeout</a></div><div class="ttdeci">unsigned int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01569">control.c:1569</a></div></div>
<div class="ttc" id="control_8c_html_a157b06697e2d442620c10f866040218e"><div class="ttname"><a href="../../de/de3/control_8c.html#a157b06697e2d442620c10f866040218e">set_timeout</a></div><div class="ttdeci">static int set_timeout(struct ast_channel *chan, unsigned int timeout)</div><div class="ttdoc">Set dial timeout on a channel to be dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01603">control.c:1603</a></div></div>
<div class="ttc" id="channel_8h_html_ae90da1877e143b996d202d4c88a9c862"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae90da1877e143b996d202d4c88a9c862">ast_softhangup_nolock</a></div><div class="ttdeci">int ast_softhangup_nolock(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel (no channel lock) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02463">channel.c:2463</a></div></div>
<div class="ttc" id="channel_8h_html_aa0a52e573af67cb0f29095177128d186"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa0a52e573af67cb0f29095177128d186">ast_channel_is_bridged</a></div><div class="ttdeci">int ast_channel_is_bridged(const struct ast_channel *chan)</div><div class="ttdoc">Determine if a channel is in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10746">channel.c:10746</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4">AST_SOFTHANGUP_ASYNCGOTO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01127">channel.h:1127</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a6231027722f2bdd4093d15defa0d7b94"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a6231027722f2bdd4093d15defa0d7b94">ast_bridge_setup_after_goto</a></div><div class="ttdeci">int ast_bridge_setup_after_goto(struct ast_channel *chan)</div><div class="ttdoc">Setup any after bridge goto location to begin execution. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00447">bridge_after.c:447</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9f74a3aaacbfa554231a9a90d1db9f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f74a3aaacbfa554231a9a90d1db9f5">&#9670;&nbsp;</a></span>app_control_dtmf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_dtmf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00547">547</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00291">AST_CONTROL_PROGRESS</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00521">dtmf_in_bridge()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00534">dtmf_no_bridge()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00931">stasis_app_get_bridge()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00565">stasis_app_control_dtmf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;{</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html">stasis_app_control_dtmf_data</a> *dtmf_data = data;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(chan, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd">AST_CONTROL_PROGRESS</a>);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;   }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a>(control)) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#aa90b2a246dc6973a9dc746d9a79a6de7">dtmf_in_bridge</a>(chan, dtmf_data);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a0a21c3793d702b5a0dd8c63ede137f7c">dtmf_no_bridge</a>(chan, dtmf_data);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;}</div><div class="ttc" id="control_8c_html_a0a21c3793d702b5a0dd8c63ede137f7c"><div class="ttname"><a href="../../de/de3/control_8c.html#a0a21c3793d702b5a0dd8c63ede137f7c">dtmf_no_bridge</a></div><div class="ttdeci">static void dtmf_no_bridge(struct ast_channel *chan, struct stasis_app_control_dtmf_data *dtmf_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00534">control.c:534</a></div></div>
<div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="control_8c_html_a00eec5811d50eb68749bf440708e156b"><div class="ttname"><a href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a></div><div class="ttdeci">struct ast_bridge * stasis_app_get_bridge(struct stasis_app_control *control)</div><div class="ttdoc">Gets the bridge currently associated with a control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00931">control.c:931</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd">AST_CONTROL_PROGRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00291">include/asterisk/frame.h:291</a></div></div>
<div class="ttc" id="control_8c_html_aa90b2a246dc6973a9dc746d9a79a6de7"><div class="ttname"><a href="../../de/de3/control_8c.html#aa90b2a246dc6973a9dc746d9a79a6de7">dtmf_in_bridge</a></div><div class="ttdeci">static void dtmf_in_bridge(struct ast_channel *chan, struct stasis_app_control_dtmf_data *dtmf_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00521">control.c:521</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html">stasis_app_control_dtmf_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00513">control.c:513</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4653e29c103d9079a7f6a4c3a9c33493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4653e29c103d9079a7f6a4c3a9c33493">&#9670;&nbsp;</a></span>app_control_hold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_hold </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00740">740</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00293">AST_CONTROL_HOLD</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00748">stasis_app_control_hold()</a>.</p>
<div class="fragment"><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;{</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a>);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div><div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00293">include/asterisk/frame.h:293</a></div></div>
<div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adab9f9bea678c832fbcd8a2eb709a318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adab9f9bea678c832fbcd8a2eb709a318">&#9670;&nbsp;</a></span>app_control_moh_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_moh_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00766">766</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00291">AST_CONTROL_PROGRESS</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07866">ast_moh_start()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00780">stasis_app_control_moh_start()</a>.</p>
<div class="fragment"><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;{</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   <span class="keywordtype">char</span> *moh_class = data;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>) {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(chan, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd">AST_CONTROL_PROGRESS</a>);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   }</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   <a class="code" href="../../dc/d07/musiconhold_8h.html#a2acec01f2fddd8ca494d874003815cf7">ast_moh_start</a>(chan, moh_class, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;}</div><div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="musiconhold_8h_html_a2acec01f2fddd8ca494d874003815cf7"><div class="ttname"><a href="../../dc/d07/musiconhold_8h.html#a2acec01f2fddd8ca494d874003815cf7">ast_moh_start</a></div><div class="ttdeci">int ast_moh_start(struct ast_channel *chan, const char *mclass, const char *interpclass)</div><div class="ttdoc">Turn on music on hold on a given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07866">channel.c:7866</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd">AST_CONTROL_PROGRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00291">include/asterisk/frame.h:291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a70288e9dea5dc8bfe9905c7dfe027c21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70288e9dea5dc8bfe9905c7dfe027c21">&#9670;&nbsp;</a></span>app_control_moh_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_moh_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00791">791</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l07876">ast_moh_stop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00798">stasis_app_control_moh_stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;{</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   <a class="code" href="../../dc/d07/musiconhold_8h.html#a52fead32f69533450f3c05b2e6960149">ast_moh_stop</a>(chan);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div><div class="ttc" id="musiconhold_8h_html_a52fead32f69533450f3c05b2e6960149"><div class="ttname"><a href="../../dc/d07/musiconhold_8h.html#a52fead32f69533450f3c05b2e6960149">ast_moh_stop</a></div><div class="ttdeci">void ast_moh_stop(struct ast_channel *chan)</div><div class="ttdoc">Turn off music on hold on a given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07876">channel.c:7876</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a90bff4e871bdae91a522ec80daf733c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90bff4e871bdae91a522ec80daf733c7">&#9670;&nbsp;</a></span>app_control_move()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_move </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00414">414</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00411">stasis_app_control_move_data::app_args</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00410">stasis_app_control_move_data::app_name</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01702">control_move_cleanup()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00094">stasis_app_control::next_app</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00451">stasis_app_control_move()</a>.</p>
<div class="fragment"><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;{</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html">stasis_app_control_move_data</a> *move_data = data;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">next_app</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a12914590e31661b0e85237aad859c6d6">app_name</a>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   <span class="keywordflow">if</span> (!control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">next_app</a>) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Allocation failed for next app\n&quot;</span>);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   <span class="keywordflow">if</span> (move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>) {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordtype">char</span> *token;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">while</span> ((token = strtok_r(move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>, <span class="stringliteral">&quot;,&quot;</span>, &amp;move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>))) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;         <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;         <span class="keywordtype">char</span> *arg;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;         <span class="keywordflow">if</span> (!(arg = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(token))) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Allocation failed for next app arg\n&quot;</span>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <a class="code" href="../../de/de3/control_8c.html#afa96ec6119d11c38a2a9385429513cf9">control_move_cleanup</a>(control);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;         }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;         res = <a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(&amp;control-&gt;next_app_args, arg);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;         <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to append arg to next app args\n&quot;</span>);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(arg);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <a class="code" href="../../de/de3/control_8c.html#afa96ec6119d11c38a2a9385429513cf9">control_move_cleanup</a>(control);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;         }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_abbee08235f2910d262a9a6e820dc15b7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">stasis_app_control::next_app</a></div><div class="ttdeci">char * next_app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00094">control.c:94</a></div></div>
<div class="ttc" id="structstasis__app__control__move__data_html"><div class="ttname"><a href="../../d1/d3b/structstasis__app__control__move__data.html">stasis_app_control_move_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00409">control.c:409</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="control_8c_html_afa96ec6119d11c38a2a9385429513cf9"><div class="ttname"><a href="../../de/de3/control_8c.html#afa96ec6119d11c38a2a9385429513cf9">control_move_cleanup</a></div><div class="ttdeci">void control_move_cleanup(struct stasis_app_control *control)</div><div class="ttdoc">Free any memory that was allocated for switching applications via /channels/{channelId}/move. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01702">control.c:1702</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structstasis__app__control__move__data_html_a85798e1e66e2f62ca8ff39c621d90472"><div class="ttname"><a href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">stasis_app_control_move_data::app_args</a></div><div class="ttdeci">char * app_args</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00411">control.c:411</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structstasis__app__control__move__data_html_a12914590e31661b0e85237aad859c6d6"><div class="ttname"><a href="../../d1/d3b/structstasis__app__control__move__data.html#a12914590e31661b0e85237aad859c6d6">stasis_app_control_move_data::app_name</a></div><div class="ttdeci">char * app_name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00410">control.c:410</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af206b3b835ca7b2b8008fe063020ce30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af206b3b835ca7b2b8008fe063020ce30">&#9670;&nbsp;</a></span>app_control_mute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_mute </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00619">619</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10978">ast_channel_suppress()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00616">stasis_app_control_mute_data::direction</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00615">stasis_app_control_mute_data::frametype</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00631">stasis_app_control_mute()</a>.</p>
<div class="fragment"><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;{</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a> *mute_data = data;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a7a6a6c2ccad3e3fb8a4a9e242568b408">ast_channel_suppress</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, mute_data-&gt;<a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#ac7e977c3f00d50b1cd332813fa428b4d">direction</a>, mute_data-&gt;<a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a>);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html_ac7e977c3f00d50b1cd332813fa428b4d"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html#ac7e977c3f00d50b1cd332813fa428b4d">stasis_app_control_mute_data::direction</a></div><div class="ttdeci">unsigned int direction</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00616">control.c:616</a></div></div>
<div class="ttc" id="channel_8h_html_a7a6a6c2ccad3e3fb8a4a9e242568b408"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7a6a6c2ccad3e3fb8a4a9e242568b408">ast_channel_suppress</a></div><div class="ttdeci">int ast_channel_suppress(struct ast_channel *chan, unsigned int direction, enum ast_frame_type frametype)</div><div class="ttdoc">Suppress passing of a frame type on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10978">channel.c:10978</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">stasis_app_control_mute_data::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00615">control.c:615</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00614">control.c:614</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab82e6365fb64203b387d8a5bf6a52ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab82e6365fb64203b387d8a5bf6a52ac5">&#9670;&nbsp;</a></span>app_control_redirect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_redirect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00481">481</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06577">ast_transfer()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00500">stasis_app_control_redirect()</a>.</p>
<div class="fragment"><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;{</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="keywordtype">char</span> *endpoint = data;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(endpoint != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   res = <a class="code" href="../../d5/d7b/channel_8h.html#ac6ae24f259d33ae591e76eac023e8b21">ast_transfer</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, endpoint);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Unsupported transfer requested on channel &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>));</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div><div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="channel_8h_html_ac6ae24f259d33ae591e76eac023e8b21"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac6ae24f259d33ae591e76eac023e8b21">ast_transfer</a></div><div class="ttdeci">int ast_transfer(struct ast_channel *chan, char *dest)</div><div class="ttdoc">Transfer a channel (if supported). </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06577">channel.c:6577</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aabc48b9e01f22f6dae4bb2d461187411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabc48b9e01f22f6dae4bb2d461187411">&#9670;&nbsp;</a></span>app_control_register_rule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void app_control_register_rule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d4f/structapp__control__rules.html">app_control_rules</a> *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00162">162</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00217">stasis_app_control_register_add_rule()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00231">stasis_app_control_register_remove_rule()</a>.</p>
<div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(list, obj, next);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a96e2cba9e2ab9d6c8d79df3e6dba74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a96e2cba9e2ab9d6c8d79df3e6dba74">&#9670;&nbsp;</a></span>app_control_remove_channel_from_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_remove_channel_from_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01394">1394</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00064">stasis_app_control::bridge</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01069">depart_channel()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00931">stasis_app_get_bridge()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01420">stasis_app_control_remove_channel_from_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;{</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge = data;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;   <span class="keywordflow">if</span> (!control) {</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;   }</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;   <span class="comment">/* We should only depart from our own bridge */</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Departing bridge %s\n&quot;</span>,</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control),</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;   <span class="keywordflow">if</span> (bridge != <a class="code" href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a>(control)) {</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s: Not in bridge %s; not removing\n&quot;</span>,</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;         <a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control),</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;   }</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a99e1c66e1ff64c649f042831a6a88a58">depart_channel</a>(control, chan);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="control_8c_html_a00eec5811d50eb68749bf440708e156b"><div class="ttname"><a href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a></div><div class="ttdeci">struct ast_bridge * stasis_app_get_bridge(struct stasis_app_control *control)</div><div class="ttdoc">Gets the bridge currently associated with a control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00931">control.c:931</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="control_8c_html_a99e1c66e1ff64c649f042831a6a88a58"><div class="ttname"><a href="../../de/de3/control_8c.html#a99e1c66e1ff64c649f042831a6a88a58">depart_channel</a></div><div class="ttdeci">static int depart_channel(struct stasis_app_control *control, struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge, and potentially add it back to the dial bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01069">control.c:1069</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="control_8c_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a074df8a441fbbb2f7d17b77066ef69ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a074df8a441fbbb2f7d17b77066ef69ec">&#9670;&nbsp;</a></span>app_control_ring()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_ring </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00584">584</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">AST_CONTROL_RINGING</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00592">stasis_app_control_ring()</a>.</p>
<div class="fragment"><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;{</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a>);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;}</div><div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">include/asterisk/frame.h:280</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a45dc158dc10eb87494e48b5ed680dd3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45dc158dc10eb87494e48b5ed680dd3b">&#9670;&nbsp;</a></span>app_control_ring_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_ring_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00599">599</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00607">stasis_app_control_ring_stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;{</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, -1);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div><div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a19fc689d2b73f93a4f97b72580bece24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19fc689d2b73f93a4f97b72580bece24">&#9670;&nbsp;</a></span>app_control_set_channel_var()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_set_channel_var </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00701">701</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00687">chanvar::name</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00689">chanvar::value</a>, and <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00711">stasis_app_control_set_channel_var()</a>.</p>
<div class="fragment"><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;{</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d5b/structchanvar.html">chanvar</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a> = data;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, var-&gt;<a class="code" href="../../d8/d5b/structchanvar.html#a5ac083a645d964373f022d03df4849c8">name</a>, var-&gt;<a class="code" href="../../d8/d5b/structchanvar.html#a4e9aec275e566b978a3ccb4e043d8c61">value</a>);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div><div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="structchanvar_html_a4e9aec275e566b978a3ccb4e043d8c61"><div class="ttname"><a href="../../d8/d5b/structchanvar.html#a4e9aec275e566b978a3ccb4e043d8c61">chanvar::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00689">control.c:689</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structchanvar_html"><div class="ttname"><a href="../../d8/d5b/structchanvar.html">chanvar</a></div><div class="ttdoc">structure for queuing ARI channel variable setting </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00685">control.c:685</a></div></div>
<div class="ttc" id="structchanvar_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="../../d8/d5b/structchanvar.html#a5ac083a645d964373f022d03df4849c8">chanvar::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00687">control.c:687</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2e70048883c70922830aaa9600bcd0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2e70048883c70922830aaa9600bcd0e">&#9670;&nbsp;</a></span>app_control_silence_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_silence_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00803">803</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l08266">ast_channel_start_silence_generator()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08312">ast_channel_stop_silence_generator()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00291">AST_CONTROL_PROGRESS</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00084">stasis_app_control::silgen</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00832">stasis_app_control_silence_start()</a>.</p>
<div class="fragment"><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;{</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>) {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(chan, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd">AST_CONTROL_PROGRESS</a>);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   }</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   <span class="keywordflow">if</span> (control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">silgen</a>) {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="comment">/* We have a silence generator, but it may have been implicitly</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">       * disabled by media actions (music on hold, playing media,</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">       * etc.) Just stop it and restart a new one.</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a6643cbe766a051d2d06750ab5b3e933d">ast_channel_stop_silence_generator</a>(</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;         control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">silgen</a>);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   }</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Starting silence generator\n&quot;</span>,</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">silgen</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a2a2e0ff24c57491a877cac39cb670024">ast_channel_start_silence_generator</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="keywordflow">if</span> (!control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">silgen</a>) {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;         <span class="stringliteral">&quot;%s: Failed to start silence generator.\n&quot;</span>,</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;         <a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;   }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;}</div><div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="channel_8h_html_a2a2e0ff24c57491a877cac39cb670024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2a2e0ff24c57491a877cac39cb670024">ast_channel_start_silence_generator</a></div><div class="ttdeci">struct ast_silence_generator * ast_channel_start_silence_generator(struct ast_channel *chan)</div><div class="ttdoc">Starts a silence generator on the given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08266">channel.c:8266</a></div></div>
<div class="ttc" id="control_8c_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
<div class="ttc" id="channel_8h_html_a6643cbe766a051d2d06750ab5b3e933d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6643cbe766a051d2d06750ab5b3e933d">ast_channel_stop_silence_generator</a></div><div class="ttdeci">void ast_channel_stop_silence_generator(struct ast_channel *chan, struct ast_silence_generator *state)</div><div class="ttdoc">Stops a previously-started silence generator on the given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08312">channel.c:8312</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd">AST_CONTROL_PROGRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00291">include/asterisk/frame.h:291</a></div></div>
<div class="ttc" id="structstasis__app__control_html_ab499a1983a28c5627f60ba6d2bb445c4"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">stasis_app_control::silgen</a></div><div class="ttdeci">struct ast_silence_generator * silgen</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00084">control.c:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeee6fea0a89d292b9bc9734d89911887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeee6fea0a89d292b9bc9734d89911887">&#9670;&nbsp;</a></span>app_control_silence_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_silence_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00848">848</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00837">control_silence_stop_now()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00855">stasis_app_control_silence_stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;{</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#ad25a5432fda39aae3c2c68f19105b059">control_silence_stop_now</a>(control);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;}</div><div class="ttc" id="control_8c_html_ad25a5432fda39aae3c2c68f19105b059"><div class="ttname"><a href="../../de/de3/control_8c.html#ad25a5432fda39aae3c2c68f19105b059">control_silence_stop_now</a></div><div class="ttdeci">void control_silence_stop_now(struct stasis_app_control *control)</div><div class="ttdoc">Stop playing silence to a channel right now. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00837">control.c:837</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a501edf1bcdec7b645a2cdafe5f81cc9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a501edf1bcdec7b645a2cdafe5f81cc9c">&#9670;&nbsp;</a></span>app_control_unhold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_unhold </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00753">753</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00294">AST_CONTROL_UNHOLD</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00761">stasis_app_control_unhold()</a>.</p>
<div class="fragment"><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;{</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a>);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div><div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00294">include/asterisk/frame.h:294</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab09c03411cd3d45fab0810d88203202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab09c03411cd3d45fab0810d88203202">&#9670;&nbsp;</a></span>app_control_unmute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_control_unmute </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00647">647</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l11040">ast_channel_unsuppress()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00616">stasis_app_control_mute_data::direction</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00615">stasis_app_control_mute_data::frametype</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00659">stasis_app_control_unmute()</a>.</p>
<div class="fragment"><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;{</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a> *mute_data = data;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ac84af9a704746d20211e0e02045ffecd">ast_channel_unsuppress</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, mute_data-&gt;<a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#ac7e977c3f00d50b1cd332813fa428b4d">direction</a>, mute_data-&gt;<a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a>);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html_ac7e977c3f00d50b1cd332813fa428b4d"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html#ac7e977c3f00d50b1cd332813fa428b4d">stasis_app_control_mute_data::direction</a></div><div class="ttdeci">unsigned int direction</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00616">control.c:616</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">stasis_app_control_mute_data::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00615">control.c:615</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00614">control.c:614</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_ac84af9a704746d20211e0e02045ffecd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac84af9a704746d20211e0e02045ffecd">ast_channel_unsuppress</a></div><div class="ttdeci">int ast_channel_unsuppress(struct ast_channel *chan, unsigned int direction, enum ast_frame_type frametype)</div><div class="ttdoc">Stop suppressing of a frame type on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l11040">channel.c:11040</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a00d4eea6bbae3414fe25afb3a47baf83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00d4eea6bbae3414fe25afb3a47baf83">&#9670;&nbsp;</a></span>app_control_unregister_rule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void app_control_unregister_rule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d4f/structapp__control__rules.html">app_control_rules</a> *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00171">171</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00569">AST_RWLIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>, and <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00355">stasis_app_control_rule::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00224">stasis_app_control_unregister_add_rule()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00238">stasis_app_control_unregister_remove_rule()</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *<a class="code" href="../../d3/d61/structrule.html">rule</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(list, rule, <a class="code" href="../../d3/dc3/structstasis__app__control__rule.html#aa49e23b92aa78ec0abff442bf428253a">next</a>) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">if</span> (rule == obj) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a>(<a class="code" href="../../d3/dc3/structstasis__app__control__rule.html#aa49e23b92aa78ec0abff442bf428253a">next</a>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="structrule_html"><div class="ttname"><a href="../../d3/d61/structrule.html">rule</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00248">localtime.c:248</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a02212548652c9eb0f3db38dc4e4bd285"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00569">linkedlists.h:569</a></div></div>
<div class="ttc" id="structstasis__app__control__rule_html"><div class="ttname"><a href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a></div><div class="ttdoc">Rule to check to see if an operation is allowed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00345">stasis_app.h:345</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
<div class="ttc" id="structstasis__app__control__rule_html_aa49e23b92aa78ec0abff442bf428253a"><div class="ttname"><a href="../../d3/dc3/structstasis__app__control__rule.html#aa49e23b92aa78ec0abff442bf428253a">stasis_app_control_rule::next</a></div><div class="ttdeci">struct stasis_app_control_rule * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00355">stasis_app.h:355</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a85b0a5b1bb2e49db6d60d35adc39f708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85b0a5b1bb2e49db6d60d35adc39f708">&#9670;&nbsp;</a></span>app_send_command_on_condition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_send_command_on_condition </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a816a21221be6d5a93cc55b8cb97d46ab">stasis_app_command_cb</a>&#160;</td>
          <td class="paramname"><em>command_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a66ead0f2f762f64bbad7eb8a026cf62c">command_data_destructor_fn</a>&#160;</td>
          <td class="paramname"><em>data_destructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/de3/control_8c.html#a7b331ff5f58b7657c835579bc28a99da">app_command_can_exec_cb</a>&#160;</td>
          <td class="paramname"><em>can_exec_fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00866">866</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00086">command_join()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00038">stasis_app_command::data_destructor</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00267">exec_command_on_condition()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01383">stasis_app_control_add_channel_to_bridge()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01420">stasis_app_control_remove_channel_from_bridge()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00898">stasis_app_send_command()</a>.</p>
<div class="fragment"><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;{</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a> *command;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   <span class="keywordflow">if</span> (control == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || control-&gt;is_done) {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="comment">/* If exec_command_on_condition fails, it calls the data_destructor.</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">       * In order to provide consistent behavior, we&#39;ll also call the data_destructor</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment">       * on this error path. This way, callers never have to call the</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">       * data_destructor themselves.</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d41/structstasis__app__command.html#a4e3605fea633c7eeb14d4fa7dae7813b">data_destructor</a>) {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;         <a class="code" href="../../d0/d41/structstasis__app__command.html#a4e3605fea633c7eeb14d4fa7dae7813b">data_destructor</a>(<a class="code" href="../../d0/d41/structstasis__app__command.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      }</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   }</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   command = <a class="code" href="../../de/de3/control_8c.html#a42bf846707bb8a40a31b3dfaa186eab7">exec_command_on_condition</a>(</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      control, command_fn, <a class="code" href="../../d0/d41/structstasis__app__command.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <a class="code" href="../../d0/d41/structstasis__app__command.html#a4e3605fea633c7eeb14d4fa7dae7813b">data_destructor</a>, can_exec_fn);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   <span class="keywordflow">if</span> (!command) {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   }</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   ret = <a class="code" href="../../d5/d2e/command_8c.html#a9a330a84898ecc182127ded079d7abb5">command_join</a>(command);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(command, -1);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;}</div><div class="ttc" id="structstasis__app__command_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html#a735984d41155bc1032e09bece8f8d66d">stasis_app_command::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00037">command.c:37</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app__command_html_a4e3605fea633c7eeb14d4fa7dae7813b"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html#a4e3605fea633c7eeb14d4fa7dae7813b">stasis_app_command::data_destructor</a></div><div class="ttdeci">command_data_destructor_fn data_destructor</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00038">command.c:38</a></div></div>
<div class="ttc" id="structstasis__app__command_html"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00033">command.c:33</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="control_8c_html_a42bf846707bb8a40a31b3dfaa186eab7"><div class="ttname"><a href="../../de/de3/control_8c.html#a42bf846707bb8a40a31b3dfaa186eab7">exec_command_on_condition</a></div><div class="ttdeci">static struct stasis_app_command * exec_command_on_condition(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor, app_command_can_exec_cb can_exec_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00267">control.c:267</a></div></div>
<div class="ttc" id="command_8c_html_a9a330a84898ecc182127ded079d7abb5"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a9a330a84898ecc182127ded079d7abb5">command_join</a></div><div class="ttdeci">int command_join(struct stasis_app_command *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00086">command.c:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a37477386e9312d1c503b174dc13317fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37477386e9312d1c503b174dc13317fe">&#9670;&nbsp;</a></span>bridge_after_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_after_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01163">1163</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d85/bridge__after_8h_source.html#l00045">AST_BRIDGE_AFTER_CB_REASON_DEPART</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01108">internal_bridge_after_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01284">control_swap_channel_in_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;{</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control = data;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#ae8ed4ec2a18d1298ae230e4234e18d53">internal_bridge_after_cb</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, data, <a class="code" href="../../d8/d85/bridge__after_8h.html#a1b15a371c654cfe77de053afe0994b9ca41c2a3c2740424d3c072de1fa0dceb3d">AST_BRIDGE_AFTER_CB_REASON_DEPART</a>);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html">stasis_app_control</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00051">control.c:51</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a1b15a371c654cfe77de053afe0994b9ca41c2a3c2740424d3c072de1fa0dceb3d"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a1b15a371c654cfe77de053afe0994b9ca41c2a3c2740424d3c072de1fa0dceb3d">AST_BRIDGE_AFTER_CB_REASON_DEPART</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d85/bridge__after_8h_source.html#l00045">bridge_after.h:45</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="control_8c_html_ae8ed4ec2a18d1298ae230e4234e18d53"><div class="ttname"><a href="../../de/de3/control_8c.html#ae8ed4ec2a18d1298ae230e4234e18d53">internal_bridge_after_cb</a></div><div class="ttdeci">static void internal_bridge_after_cb(struct ast_channel *chan, void *data, enum ast_bridge_after_cb_reason reason)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01108">control.c:1108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7322606650c7646243726484df16b98e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7322606650c7646243726484df16b98e">&#9670;&nbsp;</a></span>bridge_after_cb_failed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_after_cb_failed </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d8/d85/bridge__after_8h.html#a1b15a371c654cfe77de053afe0994b9c">ast_bridge_after_cb_reason</a>&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01170">1170</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00296">ast_bridge_after_cb_reason_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01108">internal_bridge_after_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01284">control_swap_channel_in_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;{</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control = data;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#ae8ed4ec2a18d1298ae230e4234e18d53">internal_bridge_after_cb</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, data, reason);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;  reason: %s\n&quot;</span>,</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <a class="code" href="../../d8/d85/bridge__after_8h.html#a1ccac2dce2e8c4f62baed1f63b225a15">ast_bridge_after_cb_reason_string</a>(reason));</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;}</div><div class="ttc" id="bridge__after_8h_html_a1ccac2dce2e8c4f62baed1f63b225a15"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a1ccac2dce2e8c4f62baed1f63b225a15">ast_bridge_after_cb_reason_string</a></div><div class="ttdeci">const char * ast_bridge_after_cb_reason_string(enum ast_bridge_after_cb_reason reason)</div><div class="ttdoc">Get a string representation of an after bridge callback reason. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00296">bridge_after.c:296</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structstasis__app__control_html"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html">stasis_app_control</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00051">control.c:51</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="control_8c_html_ae8ed4ec2a18d1298ae230e4234e18d53"><div class="ttname"><a href="../../de/de3/control_8c.html#ae8ed4ec2a18d1298ae230e4234e18d53">internal_bridge_after_cb</a></div><div class="ttdeci">static void internal_bridge_after_cb(struct ast_channel *chan, void *data, enum ast_bridge_after_cb_reason reason)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01108">control.c:1108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="add224095d52813ba1336410bbb95de15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add224095d52813ba1336410bbb95de15">&#9670;&nbsp;</a></span>bridge_channel_depart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bridge_channel_depart </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01085">1085</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01251">ast_channel_internal_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01069">depart_channel()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01009">dial_bridge_after_cb()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00974">get_dial_bridge()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01108">internal_bridge_after_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;{</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;   bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a5e41daaa81df59fc1e8eea2796029c31">ast_channel_internal_bridge_channel</a>(chan);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;   <span class="keywordflow">if</span> (bridge_channel != data) {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Channel is no longer in departable state\n&quot;</span>,</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan));</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;   }</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Channel departing bridge\n&quot;</span>,</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan));</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a99e1c66e1ff64c649f042831a6a88a58">depart_channel</a>(control, chan);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="control_8c_html_a99e1c66e1ff64c649f042831a6a88a58"><div class="ttname"><a href="../../de/de3/control_8c.html#a99e1c66e1ff64c649f042831a6a88a58">depart_channel</a></div><div class="ttdeci">static int depart_channel(struct stasis_app_control *control, struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge, and potentially add it back to the dial bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01069">control.c:1069</a></div></div>
<div class="ttc" id="channel_8h_html_a5e41daaa81df59fc1e8eea2796029c31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a5e41daaa81df59fc1e8eea2796029c31">ast_channel_internal_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_internal_bridge_channel(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01251">channel_internal_api.c:1251</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abb9d793f07a7117965ff5858fd928ffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb9d793f07a7117965ff5858fd928ffc">&#9670;&nbsp;</a></span>bridge_timeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bridge_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ignore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dial timeout. </p>
<p>This is a bridge interval hook callback. The interval hook triggering means that the dial timeout has been reached. If the channel has not been answered by the time this callback is called, then the channel is hung up</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_channel</td><td>Bridge channel on which interval hook has been called </td></tr>
    <tr><td class="paramname">ignore</td><td>Ignored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 (i.e. remove the interval hook) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01215">1215</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02399">ast_channel_datastore_remove()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">ast_datastore_free()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01196">hangup_channel()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00338">stasis_app_control_find_by_channel()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01254">set_interval_hook()</a>.</p>
<div class="fragment"><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;{</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *, control, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;   control = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a8623f7f06a4475af1def681db3c0949e">stasis_app_control_find_by_channel</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>) {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <span class="comment">/* Don&#39;t bother removing the datastore because it will happen when the channel is hung up */</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a991fde578a69c677191f68e775a5e546">hangup_channel</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;   }</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, &amp;<a class="code" href="../../de/de3/control_8c.html#a6eccae97d4224bab1de485a833dde6f6">timeout_datastore</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;   <span class="keywordflow">if</span> (!datastore) {</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;   }</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ff1c62b6d50823da93a920575c9c0c9">ast_channel_datastore_remove</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, datastore);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(datastore);</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="control_8c_html_a991fde578a69c677191f68e775a5e546"><div class="ttname"><a href="../../de/de3/control_8c.html#a991fde578a69c677191f68e775a5e546">hangup_channel</a></div><div class="ttdeci">static int hangup_channel(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01196">control.c:1196</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="datastore_8h_html_aee27286888b30c6448a9bce928040a14"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a></div><div class="ttdeci">int ast_datastore_free(struct ast_datastore *datastore)</div><div class="ttdoc">Free a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00068">datastore.c:68</a></div></div>
<div class="ttc" id="structstasis__app__control_html"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html">stasis_app_control</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00051">control.c:51</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="control_8c_html_a6eccae97d4224bab1de485a833dde6f6"><div class="ttname"><a href="../../de/de3/control_8c.html#a6eccae97d4224bab1de485a833dde6f6">timeout_datastore</a></div><div class="ttdeci">struct ast_datastore_info timeout_datastore</div><div class="ttdoc">Dial timeout datastore. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01192">control.c:1192</a></div></div>
<div class="ttc" id="channel_8h_html_a1ff1c62b6d50823da93a920575c9c0c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ff1c62b6d50823da93a920575c9c0c9">ast_channel_datastore_remove</a></div><div class="ttdeci">int ast_channel_datastore_remove(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Remove a datastore from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02399">channel.c:2399</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a8623f7f06a4475af1def681db3c0949e"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a8623f7f06a4475af1def681db3c0949e">stasis_app_control_find_by_channel</a></div><div class="ttdeci">struct stasis_app_control * stasis_app_control_find_by_channel(const struct ast_channel *chan)</div><div class="ttdoc">Returns the handler for the given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00338">res_stasis.c:338</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a40fff3666badb7af1a010c523ccf14df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40fff3666badb7af1a010c523ccf14df">&#9670;&nbsp;</a></span>control_add_channel_to_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_add_channel_to_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command callback for adding a channel to a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for chan </td></tr>
    <tr><td class="paramname">chan</td><td>The channel on which commands should be executed </td></tr>
    <tr><td class="paramname">data</td><td>Bridge to be passed to the callback </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01378">1378</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l01284">control_swap_channel_in_bridge()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01383">stasis_app_control_add_channel_to_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;{</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a2095140969cdaab207517ed79148838f">control_swap_channel_in_bridge</a>(control, <a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;}</div><div class="ttc" id="control_8c_html_a2095140969cdaab207517ed79148838f"><div class="ttname"><a href="../../de/de3/control_8c.html#a2095140969cdaab207517ed79148838f">control_swap_channel_in_bridge</a></div><div class="ttdeci">int control_swap_channel_in_bridge(struct stasis_app_control *control, struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap)</div><div class="ttdoc">Command for swapping a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01284">control.c:1284</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a724086dccbb01edfef800bde10a80b55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a724086dccbb01edfef800bde10a80b55">&#9670;&nbsp;</a></span>control_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a>* control_app </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the pointer (non-reffed) to the app associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control to query.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the associated <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01563">1563</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00090">stasis_app_control::app</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00248">bridge_stasis_moving()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00142">bridge_stasis_push_peek()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01159">channel_replaced_cb()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01128">channel_stolen_cb()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;{</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;   <span class="keywordflow">return</span> control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">app</a>;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_a185ae303b96babfcf6a0139d2d4cad89"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">stasis_app_control::app</a></div><div class="ttdeci">struct stasis_app * app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00090">control.c:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac2df7584f357c4e4ed8410b204b9f736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2df7584f357c4e4ed8410b204b9f736">&#9670;&nbsp;</a></span>control_command_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_command_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the count of items in a control's command queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control to count commands on</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of commands in the command que </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00343">343</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01250">stasis_app_control_execute_until_exhausted()</a>.</p>
<div class="fragment"><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a76527348c55f4a4a8a3cfb7ccd798793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76527348c55f4a4a8a3cfb7ccd798793">&#9670;&nbsp;</a></span>control_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a>* control_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a control object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Channel to control. </td></tr>
    <tr><td class="paramname">app</td><td><a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> for which this control is being created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New control object. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00123">123</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00076">stasis_app_control::add_rules</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00090">stasis_app_control::app</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00199">ast_cond_init</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00625">AST_LIST_HEAD_INIT</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00105">control_dtor()</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00094">stasis_app_control::next_app</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00080">stasis_app_control::remove_rules</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00052">stasis_app_control::wait_cond</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00333">stasis_app_control_create()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   control = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*control), <a class="code" href="../../de/de3/control_8c.html#afddcdee94890a5da4cda6d29162dd75e">control_dtor</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   <span class="keywordflow">if</span> (!control) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca">AST_LIST_HEAD_INIT</a>(&amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">add_rules</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca">AST_LIST_HEAD_INIT</a>(&amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">remove_rules</a>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   res = <a class="code" href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a>(&amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#acfbbc301b00500e290316094dfa617be">wait_cond</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error initializing ast_cond_t: %s\n&quot;</span>,</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;         strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(control, -1);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">app</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(app);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(channel);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a> = <a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   <span class="keywordflow">if</span> (!control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(control, -1);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">next_app</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;control-&gt;next_app_args, 0);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <span class="keywordflow">return</span> control;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_acfbbc301b00500e290316094dfa617be"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#acfbbc301b00500e290316094dfa617be">stasis_app_control::wait_cond</a></div><div class="ttdeci">ast_cond_t wait_cond</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00052">control.c:52</a></div></div>
<div class="ttc" id="structstasis__app__control_html_abbee08235f2910d262a9a6e820dc15b7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">stasis_app_control::next_app</a></div><div class="ttdeci">char * next_app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00094">control.c:94</a></div></div>
<div class="ttc" id="structstasis__app__control_html_aa7fd7031cc99ac223f890dc031cb2c61"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">stasis_app_control::remove_rules</a></div><div class="ttdeci">struct app_control_rules remove_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00080">control.c:80</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="lock_8h_html_a69e9591803d36f5683eb9b084442be9b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a></div><div class="ttdeci">#define ast_cond_init(cond, attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00199">lock.h:199</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a185ae303b96babfcf6a0139d2d4cad89"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">stasis_app_control::app</a></div><div class="ttdeci">struct stasis_app * app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00090">control.c:90</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="structstasis__app__control_html"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html">stasis_app_control</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00051">control.c:51</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6f42d3bf45cc9af6f794d9d1cf8c45ca"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca">AST_LIST_HEAD_INIT</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00625">linkedlists.h:625</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="control_8c_html_afddcdee94890a5da4cda6d29162dd75e"><div class="ttname"><a href="../../de/de3/control_8c.html#afddcdee94890a5da4cda6d29162dd75e">control_dtor</a></div><div class="ttdeci">static void control_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00105">control.c:105</a></div></div>
<div class="ttc" id="structstasis__app__control_html_abf7d53da04a131747a4ce76b04db91a1"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">stasis_app_control::add_rules</a></div><div class="ttdeci">struct app_control_rules add_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00076">control.c:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a55de25029816375aa9e957be777ae548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55de25029816375aa9e957be777ae548">&#9670;&nbsp;</a></span>control_dial_args_alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a>* control_dial_args_alloc </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01573">1573</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01570">control_dial_args::dialstring</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00086">timeout</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01569">control_dial_args::timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01666">stasis_app_control_dial()</a>.</p>
<div class="fragment"><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;{</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;   args = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(*args) + strlen(<a class="code" href="../../d8/dc2/structcontrol__dial__args.html#a1c91d65869b4232d57383e1dda103441">dialstring</a>) + 1);</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;   <span class="keywordflow">if</span> (!args) {</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;   }</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;   args-&gt;<a class="code" href="../../d8/dc2/structcontrol__dial__args.html#a25af7eefd48048fb067a60b8e295caf1">timeout</a> = <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;   <span class="comment">/* Safe */</span></div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;   strcpy(args-&gt;<a class="code" href="../../d8/dc2/structcontrol__dial__args.html#a1c91d65869b4232d57383e1dda103441">dialstring</a>, <a class="code" href="../../d8/dc2/structcontrol__dial__args.html#a1c91d65869b4232d57383e1dda103441">dialstring</a>);</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;}</div><div class="ttc" id="cdr__mysql_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00086">cdr_mysql.c:86</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structcontrol__dial__args_html_a1c91d65869b4232d57383e1dda103441"><div class="ttname"><a href="../../d8/dc2/structcontrol__dial__args.html#a1c91d65869b4232d57383e1dda103441">control_dial_args::dialstring</a></div><div class="ttdeci">char dialstring[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01570">control.c:1570</a></div></div>
<div class="ttc" id="structcontrol__dial__args_html"><div class="ttname"><a href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01568">control.c:1568</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="structcontrol__dial__args_html_a25af7eefd48048fb067a60b8e295caf1"><div class="ttname"><a href="../../d8/dc2/structcontrol__dial__args.html#a25af7eefd48048fb067a60b8e295caf1">control_dial_args::timeout</a></div><div class="ttdeci">unsigned int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01569">control.c:1569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8dba9849151fd53faa671cb89972b46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8dba9849151fd53faa671cb89972b46">&#9670;&nbsp;</a></span>control_dial_args_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void control_dial_args_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01590">1590</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, and <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01666">stasis_app_control_dial()</a>.</p>
<div class="fragment"><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;{</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a> = data;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(args);</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;}</div><div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="structcontrol__dial__args_html"><div class="ttname"><a href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01568">control.c:1568</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f61f3aaffc1704240675904f5dea104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f61f3aaffc1704240675904f5dea104">&#9670;&nbsp;</a></span>control_dispatch_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_dispatch_all </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dispatch all commands enqueued to this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object to dispatch. </td></tr>
    <tr><td class="paramname">chan</td><td>Associated channel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of commands executed </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01495">1495</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01883">AO2_ITERATOR_UNLINK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00101">command_invoke()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01250">stasis_app_control_execute_until_exhausted()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;{</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;   <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> iter;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a> *command;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a> == chan);</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;   iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c">AO2_ITERATOR_UNLINK</a>);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;   <span class="keywordflow">while</span> ((command = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;iter))) {</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      <a class="code" href="../../d5/d2e/command_8c.html#a38f4413851ef77145288b863d792512c">command_invoke</a>(command, control, chan);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(command, -1);</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      ++count;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;   }</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;iter);</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   <span class="keywordflow">return</span> count;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="command_8c_html_a38f4413851ef77145288b863d792512c"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a38f4413851ef77145288b863d792512c">command_invoke</a></div><div class="ttdeci">void command_invoke(struct stasis_app_command *command, struct stasis_app_control *control, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00101">command.c:101</a></div></div>
<div class="ttc" id="structstasis__app__command_html"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00033">command.c:33</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c">AO2_ITERATOR_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01883">astobj2.h:1883</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afddcdee94890a5da4cda6d29162dd75e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afddcdee94890a5da4cda6d29162dd75e">&#9670;&nbsp;</a></span>control_dtor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void control_dtor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00105">105</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00076">stasis_app_control::add_rules</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00090">stasis_app_control::app</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03741">ast_bridge_features_destroy()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02992">ast_channel_cleanup</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00200">ast_cond_destroy</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00652">AST_LIST_HEAD_DESTROY</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00068">stasis_app_control::bridge_features</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01702">control_move_cleanup()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00080">stasis_app_control::remove_rules</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00052">stasis_app_control::wait_cond</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00123">control_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control = obj;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">app</a>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#afa96ec6119d11c38a2a9385429513cf9">control_move_cleanup</a>(control);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a1ea2f4040a736cddbecea48b30ffedfd">ast_cond_destroy</a>(&amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#acfbbc301b00500e290316094dfa617be">wait_cond</a>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a47bafe663a14b91827082787d7654d7c">AST_LIST_HEAD_DESTROY</a>(&amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">add_rules</a>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a47bafe663a14b91827082787d7654d7c">AST_LIST_HEAD_DESTROY</a>(&amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">remove_rules</a>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_acfbbc301b00500e290316094dfa617be"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#acfbbc301b00500e290316094dfa617be">stasis_app_control::wait_cond</a></div><div class="ttdeci">ast_cond_t wait_cond</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00052">control.c:52</a></div></div>
<div class="ttc" id="structstasis__app__control_html_aa7fd7031cc99ac223f890dc031cb2c61"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">stasis_app_control::remove_rules</a></div><div class="ttdeci">struct app_control_rules remove_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00080">control.c:80</a></div></div>
<div class="ttc" id="bridge__features_8h_html_ad3debd15062b4b9463e5703724dd9a1f"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a></div><div class="ttdeci">void ast_bridge_features_destroy(struct ast_bridge_features *features)</div><div class="ttdoc">Destroy an allocated bridge features struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03741">bridge.c:3741</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a185ae303b96babfcf6a0139d2d4cad89"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">stasis_app_control::app</a></div><div class="ttdeci">struct stasis_app * app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00090">control.c:90</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a47bafe663a14b91827082787d7654d7c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a47bafe663a14b91827082787d7654d7c">AST_LIST_HEAD_DESTROY</a></div><div class="ttdeci">#define AST_LIST_HEAD_DESTROY(head)</div><div class="ttdoc">Destroys a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00652">linkedlists.h:652</a></div></div>
<div class="ttc" id="control_8c_html_afa96ec6119d11c38a2a9385429513cf9"><div class="ttname"><a href="../../de/de3/control_8c.html#afa96ec6119d11c38a2a9385429513cf9">control_move_cleanup</a></div><div class="ttdeci">void control_move_cleanup(struct stasis_app_control *control)</div><div class="ttdoc">Free any memory that was allocated for switching applications via /channels/{channelId}/move. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01702">control.c:1702</a></div></div>
<div class="ttc" id="structstasis__app__control_html"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html">stasis_app_control</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00051">control.c:51</a></div></div>
<div class="ttc" id="channel_8h_html_ae93ebb3372a2d9495ae3c5417dd95cd5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a></div><div class="ttdeci">#define ast_channel_cleanup(c)</div><div class="ttdoc">Cleanup a channel reference. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02992">channel.h:2992</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a2529c045cb0c75c4a541a1df122560bf"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">stasis_app_control::bridge_features</a></div><div class="ttdeci">struct ast_bridge_features * bridge_features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00068">control.c:68</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
<div class="ttc" id="lock_8h_html_a1ea2f4040a736cddbecea48b30ffedfd"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a1ea2f4040a736cddbecea48b30ffedfd">ast_cond_destroy</a></div><div class="ttdeci">#define ast_cond_destroy(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00200">lock.h:200</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structstasis__app__control_html_abf7d53da04a131747a4ce76b04db91a1"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">stasis_app_control::add_rules</a></div><div class="ttdeci">struct app_control_rules add_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00076">control.c:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a80664020fe48449d024096157937b40c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80664020fe48449d024096157937b40c">&#9670;&nbsp;</a></span>control_flush_queue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void control_flush_queue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush the control command queue. </p>
<dl class="section since"><dt>Since</dt><dd>13.9.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object to flush command queue.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01482">1482</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01883">AO2_ITERATOR_UNLINK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00077">command_complete()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01278">stasis_app_control_flush_queue()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;{</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> iter;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a> *command;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;   iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c">AO2_ITERATOR_UNLINK</a>);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;   <span class="keywordflow">while</span> ((command = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;iter))) {</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <a class="code" href="../../d5/d2e/command_8c.html#a726bf174d6849955130dcabb9b94ca07">command_complete</a>(command, -1);</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(command, -1);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;   }</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;iter);</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;}</div><div class="ttc" id="command_8c_html_a726bf174d6849955130dcabb9b94ca07"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a726bf174d6849955130dcabb9b94ca07">command_complete</a></div><div class="ttdeci">void command_complete(struct stasis_app_command *command, int retval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00077">command.c:77</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="structstasis__app__command_html"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00033">command.c:33</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c">AO2_ITERATOR_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01883">astobj2.h:1883</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a54676258e38bccbf5366bf1ba5a18f9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54676258e38bccbf5366bf1ba5a18f9c">&#9670;&nbsp;</a></span>control_is_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_is_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if control_continue() has been called on this <em>control</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True (non-zero) if control_continue() has been called. </dd>
<dd>
False (zero) otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00348">348</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01250">stasis_app_control_execute_until_exhausted()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01273">stasis_app_control_is_done()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="comment">/* Called from stasis_app_exec thread; no lock needed */</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   <span class="keywordflow">return</span> control-&gt;is_done;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="afe81650a0b8e4926475d3b47fa00da06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe81650a0b8e4926475d3b47fa00da06">&#9670;&nbsp;</a></span>control_mark_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void control_mark_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00354">354</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00368">app_control_continue()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01250">stasis_app_control_execute_until_exhausted()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;{</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="comment">/* Locking necessary to sync with other threads adding commands to the queue. */</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   control-&gt;is_done = 1;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afa96ec6119d11c38a2a9385429513cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa96ec6119d11c38a2a9385429513cf9">&#9670;&nbsp;</a></span>control_move_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void control_move_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free any memory that was allocated for switching applications via /channels/{channelId}/move. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for the channel </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01702">1702</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00627">AST_VECTOR_RESET</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00094">stasis_app_control::next_app</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00414">app_control_move()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00105">control_dtor()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;{</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">next_app</a>);</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">next_app</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a0e59aa540254f87575cb1d28821bbd1f">AST_VECTOR_RESET</a>(&amp;control-&gt;next_app_args, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_abbee08235f2910d262a9a6e820dc15b7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">stasis_app_control::next_app</a></div><div class="ttdeci">char * next_app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00094">control.c:94</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="vector_8h_html_a0e59aa540254f87575cb1d28821bbd1f"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a0e59aa540254f87575cb1d28821bbd1f">AST_VECTOR_RESET</a></div><div class="ttdeci">#define AST_VECTOR_RESET(vec, cleanup)</div><div class="ttdoc">Reset vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00627">vector.h:627</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a932badf3c545b8bd5111cad9aaed4c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a932badf3c545b8bd5111cad9aaed4c3c">&#9670;&nbsp;</a></span>control_next_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* control_next_app </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of the application we are moving to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for the channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The name of the application we are moving to </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01697">1697</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00094">stasis_app_control::next_app</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;{</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;   <span class="keywordflow">return</span> control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">next_app</a>;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_abbee08235f2910d262a9a6e820dc15b7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abbee08235f2910d262a9a6e820dc15b7">stasis_app_control::next_app</a></div><div class="ttdeci">char * next_app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00094">control.c:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab5db9a2d5072ae2e6b5bd2c718c03ab2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5db9a2d5072ae2e6b5bd2c718c03ab2">&#9670;&nbsp;</a></span>control_next_app_args()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char** control_next_app_args </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of arguments to pass to the application we are moving to. </p>
<dl class="section note"><dt>Note</dt><dd>If you wish to get the size of the list, control_next_app_args_size should be called before this, as this function will steal the elements from the string vector and set the size to 0.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for the channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The arguments to pass to the application we are moving to </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01710">1710</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d68/vector_8h_source.html#l00140">AST_VECTOR_STEAL_ELEMENTS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;{</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d68/vector_8h.html#a5d8e2ddea0e358edc1021c417461f21b">AST_VECTOR_STEAL_ELEMENTS</a>(&amp;control-&gt;next_app_args);</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;}</div><div class="ttc" id="vector_8h_html_a5d8e2ddea0e358edc1021c417461f21b"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5d8e2ddea0e358edc1021c417461f21b">AST_VECTOR_STEAL_ELEMENTS</a></div><div class="ttdeci">#define AST_VECTOR_STEAL_ELEMENTS(vec)</div><div class="ttdoc">Steal the elements from a vector and reinitialize. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00140">vector.h:140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f8795fd466c8645027ce6ff3620f962"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f8795fd466c8645027ce6ff3620f962">&#9670;&nbsp;</a></span>control_next_app_args_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_next_app_args_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of arguments to be passed to the application we are moving to. </p>
<dl class="section note"><dt>Note</dt><dd>This should always be called before control_next_app_args, as calling that function will steal all elements from the string vector and set the size to 0.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for the channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of arguments to be passed to the application we are moving to </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01715">1715</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;{</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;control-&gt;next_app_args);</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;}</div><div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a3d3390c840aa706358dd3238942bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a3d3390c840aa706358dd3238942bbf">&#9670;&nbsp;</a></span>control_prestart_dispatch_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_prestart_dispatch_all </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dispatch all queued prestart commands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for chan </td></tr>
    <tr><td class="paramname">channel</td><td>The channel on which commands should be executed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of commands executed </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01535">1535</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01883">AO2_ITERATOR_UNLINK</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00101">command_invoke()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00160">command_prestart_get_container()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;{</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *command_queue;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;   <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> iter;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a> *command;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;   command_queue = <a class="code" href="../../d5/d2e/command_8c.html#abdb26a07512863c42b480cc14e8e76f1">command_prestart_get_container</a>(chan);</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;   <span class="keywordflow">if</span> (!command_queue) {</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;   }</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;   iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(command_queue, <a class="code" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c">AO2_ITERATOR_UNLINK</a>);</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;   <span class="keywordflow">while</span> ((command = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;iter))) {</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <a class="code" href="../../d5/d2e/command_8c.html#a38f4413851ef77145288b863d792512c">command_invoke</a>(command, control, chan);</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(command);</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      ++count;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;   }</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;iter);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(command_queue);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;   <span class="keywordflow">return</span> count;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="command_8c_html_abdb26a07512863c42b480cc14e8e76f1"><div class="ttname"><a href="../../d5/d2e/command_8c.html#abdb26a07512863c42b480cc14e8e76f1">command_prestart_get_container</a></div><div class="ttdeci">struct ao2_container * command_prestart_get_container(struct ast_channel *chan)</div><div class="ttdoc">Get the Stasis() prestart commands for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00160">command.c:160</a></div></div>
<div class="ttc" id="command_8c_html_a38f4413851ef77145288b863d792512c"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a38f4413851ef77145288b863d792512c">command_invoke</a></div><div class="ttdeci">void command_invoke(struct stasis_app_command *command, struct stasis_app_control *control, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00101">command.c:101</a></div></div>
<div class="ttc" id="structstasis__app__command_html"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00033">command.c:33</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba3a8f36e68b2b6873804d167724e1891c">AO2_ITERATOR_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01883">astobj2.h:1883</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa58df566beb26758f5728fc4b8e693ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa58df566beb26758f5728fc4b8e693ea">&#9670;&nbsp;</a></span>control_set_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void control_set_app </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the application the control object belongs to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for the channel </td></tr>
    <tr><td class="paramname">app</td><td>The application this control will now belong to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This will unref control's previous app by 1, and bump app by 1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01691">1691</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00090">stasis_app_control::app</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;{</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">app</a>);</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">app</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(app);</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_a185ae303b96babfcf6a0139d2d4cad89"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">stasis_app_control::app</a></div><div class="ttdeci">struct stasis_app * app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00090">control.c:90</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad25a5432fda39aae3c2c68f19105b059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25a5432fda39aae3c2c68f19105b059">&#9670;&nbsp;</a></span>control_silence_stop_now()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void control_silence_stop_now </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop playing silence to a channel right now. </p>
<dl class="section since"><dt>Since</dt><dd>13.9.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for chan </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00837">837</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l08312">ast_channel_stop_silence_generator()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00084">stasis_app_control::silgen</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00848">app_control_silence_stop()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;{</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <span class="keywordflow">if</span> (control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">silgen</a>) {</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Stopping silence generator\n&quot;</span>,</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;         <a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a6643cbe766a051d2d06750ab5b3e933d">ast_channel_stop_silence_generator</a>(</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;         control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">silgen</a>);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">silgen</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="control_8c_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
<div class="ttc" id="channel_8h_html_a6643cbe766a051d2d06750ab5b3e933d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6643cbe766a051d2d06750ab5b3e933d">ast_channel_stop_silence_generator</a></div><div class="ttdeci">void ast_channel_stop_silence_generator(struct ast_channel *chan, struct ast_silence_generator *state)</div><div class="ttdoc">Stops a previously-started silence generator on the given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08312">channel.c:8312</a></div></div>
<div class="ttc" id="structstasis__app__control_html_ab499a1983a28c5627f60ba6d2bb445c4"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#ab499a1983a28c5627f60ba6d2bb445c4">stasis_app_control::silgen</a></div><div class="ttdeci">struct ast_silence_generator * silgen</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00084">control.c:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2095140969cdaab207517ed79148838f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2095140969cdaab207517ed79148838f">&#9670;&nbsp;</a></span>control_swap_channel_in_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int control_swap_channel_in_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>swap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command for swapping a channel in a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>The control for chan </td></tr>
    <tr><td class="paramname">chan</td><td>The channel on which commands should be executed </td></tr>
    <tr><td class="paramname">bridge</td><td>Bridge to be passed to the callback </td></tr>
    <tr><td class="paramname">swap</td><td>Channel to swap with when joining the bridge </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01284">1284</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00090">stasis_app_control::app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01428">app_subscribe_bridge()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00606">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00259">ast_bridge_set_after_callback()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00721">ast_channel_pbx()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00725">ast_channel_pbx_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00064">stasis_app_control::bridge</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01163">bridge_after_cb()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01170">bridge_after_cb_failed()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00068">stasis_app_control::bridge_features</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00281">ast_bridge_features::inhibit_colp</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00072">stasis_app_control::pbx</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01254">set_interval_hook()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00931">stasis_app_get_bridge()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01378">control_add_channel_to_bridge()</a>, and <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00096">defer_bridge_add()</a>.</p>
<div class="fragment"><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;{</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;   <span class="keywordtype">int</span> flags = <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;   <span class="keywordflow">if</span> (!control || !bridge) {</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;   }</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Adding to bridge %s\n&quot;</span>,</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control),</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(chan != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;   <span class="comment">/* Depart whatever Stasis bridge we&#39;re currently in. */</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a>(control)) {</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      <span class="comment">/* Note that it looks like there&#39;s a race condition here, since</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment">       * we don&#39;t have control locked. But this happens from the</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="comment">       * control callback thread, so there won&#39;t be any other</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment">       * concurrent attempts to bridge.</span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan);</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;   }</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;   res = <a class="code" href="../../d8/d85/bridge__after_8h.html#a866e05c6b083030e9757cfb37814e671">ast_bridge_set_after_callback</a>(chan, <a class="code" href="../../de/de3/control_8c.html#a37477386e9312d1c503b174dc13317fe">bridge_after_cb</a>,</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a7322606650c7646243726484df16b98e">bridge_after_cb_failed</a>, control);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;   <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error setting after-bridge callback\n&quot;</span>);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;   }</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control);</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;   <span class="comment">/* Ensure the controlling application is subscribed early enough</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="comment">    * to receive the ChannelEnteredBridge message. This works in concert</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="comment">    * with the subscription handled in the Stasis application execution</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="comment">    * loop */</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;   <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a0c81b198af25100a727e3b42f6a6a5ab">app_subscribe_bridge</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">app</a>, bridge);</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;   <span class="comment">/* Save off the channel&#39;s PBX */</span></div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">pbx</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;   <span class="keywordflow">if</span> (!control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">pbx</a>) {</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">pbx</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a488b7d6f7488bedc53be45d4ef4471c9">ast_channel_pbx</a>(chan);</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af89b0f98c227230d7180a90627c0901c">ast_channel_pbx_set</a>(chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   }</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   <span class="comment">/* Pull bridge features from the control */</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;   features = control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a>;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;   <span class="keywordflow">if</span> (features &amp;&amp; features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#aa30fb781e59e7c7b6449914dd9ad08d2">inhibit_colp</a>) {</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      flags |= <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a>;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;   }</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a>(control) == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   <span class="comment">/* We need to set control-&gt;bridge here since bridge_after_cb may be run</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="comment">    * before ast_bridge_impart returns.  bridge_after_cb gets a reason</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="comment">    * code so it can tell if the bridge is actually valid or not.</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a> = bridge;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;   <span class="comment">/* We can&#39;t be holding the control lock while impart is running</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="comment">    * or we could create a deadlock with bridge_after_cb which also</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="comment">    * tries to lock control.</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control);</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;   res = <a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge,</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      chan,</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      swap,</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      features, <span class="comment">/* features */</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      flags);</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;   <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <span class="comment">/* ast_bridge_impart failed before it could spawn the depart</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="comment">       * thread.  The callbacks aren&#39;t called in this case.</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">       * The impart could still fail even if ast_bridge_impart returned</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">       * ok but that&#39;s handled by bridge_after_cb.</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error adding channel to bridge\n&quot;</span>);</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af89b0f98c227230d7180a90627c0901c">ast_channel_pbx_set</a>(chan, control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">pbx</a>);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">pbx</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a04bd17d4585a2f55499f6673668f9d17">set_interval_hook</a>(chan);</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;   }</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__bridge__features_html_aa30fb781e59e7c7b6449914dd9ad08d2"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#aa30fb781e59e7c7b6449914dd9ad08d2">ast_bridge_features::inhibit_colp</a></div><div class="ttdeci">unsigned int inhibit_colp</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00281">bridge_features.h:281</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="structast__bridge__features_html"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a></div><div class="ttdoc">Structure that contains features information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00263">bridge_features.h:263</a></div></div>
<div class="ttc" id="control_8c_html_a37477386e9312d1c503b174dc13317fe"><div class="ttname"><a href="../../de/de3/control_8c.html#a37477386e9312d1c503b174dc13317fe">bridge_after_cb</a></div><div class="ttdeci">static void bridge_after_cb(struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01163">control.c:1163</a></div></div>
<div class="ttc" id="control_8c_html_a00eec5811d50eb68749bf440708e156b"><div class="ttname"><a href="../../de/de3/control_8c.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a></div><div class="ttdeci">struct ast_bridge * stasis_app_get_bridge(struct stasis_app_control *control)</div><div class="ttdoc">Gets the bridge currently associated with a control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00931">control.c:931</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a866e05c6b083030e9757cfb37814e671"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a866e05c6b083030e9757cfb37814e671">ast_bridge_set_after_callback</a></div><div class="ttdeci">int ast_bridge_set_after_callback(struct ast_channel *chan, ast_bridge_after_cb callback, ast_bridge_after_cb_failed failed, void *data)</div><div class="ttdoc">Setup an after bridge callback for when the channel leaves the bridging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00259">bridge_after.c:259</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a0c81b198af25100a727e3b42f6a6a5ab"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a0c81b198af25100a727e3b42f6a6a5ab">app_subscribe_bridge</a></div><div class="ttdeci">int app_subscribe_bridge(struct stasis_app *app, struct ast_bridge *bridge)</div><div class="ttdoc">Add a bridge subscription to an existing channel subscription. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01428">res/stasis/app.c:1428</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a185ae303b96babfcf6a0139d2d4cad89"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">stasis_app_control::app</a></div><div class="ttdeci">struct stasis_app * app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00090">control.c:90</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00606">bridge.h:606</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="channel_8h_html_a488b7d6f7488bedc53be45d4ef4471c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a488b7d6f7488bedc53be45d4ef4471c9">ast_channel_pbx</a></div><div class="ttdeci">struct ast_pbx * ast_channel_pbx(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00721">channel_internal_api.c:721</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a2529c045cb0c75c4a541a1df122560bf"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">stasis_app_control::bridge_features</a></div><div class="ttdeci">struct ast_bridge_features * bridge_features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00068">control.c:68</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="control_8c_html_a04bd17d4585a2f55499f6673668f9d17"><div class="ttname"><a href="../../de/de3/control_8c.html#a04bd17d4585a2f55499f6673668f9d17">set_interval_hook</a></div><div class="ttdeci">static void set_interval_hook(struct ast_channel *chan)</div><div class="ttdoc">Set a dial timeout interval hook on the channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01254">control.c:1254</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="control_8c_html_a7322606650c7646243726484df16b98e"><div class="ttname"><a href="../../de/de3/control_8c.html#a7322606650c7646243726484df16b98e">bridge_after_cb_failed</a></div><div class="ttdeci">static void bridge_after_cb_failed(enum ast_bridge_after_cb_reason reason, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01170">control.c:1170</a></div></div>
<div class="ttc" id="structstasis__app__control_html_aebc9ecdf679da616c7d975b827e1f4b4"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">stasis_app_control::pbx</a></div><div class="ttdeci">struct ast_pbx * pbx</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00072">control.c:72</a></div></div>
<div class="ttc" id="control_8c_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">stasis_app_control::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00064">control.c:64</a></div></div>
<div class="ttc" id="channel_8h_html_af89b0f98c227230d7180a90627c0901c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af89b0f98c227230d7180a90627c0901c">ast_channel_pbx_set</a></div><div class="ttdeci">void ast_channel_pbx_set(struct ast_channel *chan, struct ast_pbx *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00725">channel_internal_api.c:725</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a316d08ca5342616eaf4b154d784477a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a316d08ca5342616eaf4b154d784477a1">&#9670;&nbsp;</a></span>control_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void control_wait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blocks until <em>control's</em> command queue has a command available. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control to block on. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01515">1515</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00476">ao2_object_get_lockaddr()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00203">ast_cond_wait</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00052">stasis_app_control::wait_cond</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;{</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;   <span class="keywordflow">if</span> (!control) {</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;   }</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;   <span class="keywordflow">while</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>) == 0) {</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="keywordtype">int</span> res = <a class="code" href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a>(&amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#acfbbc301b00500e290316094dfa617be">wait_cond</a>,</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a503b6c7ced96f9b56ec59c115cbeb29a">ao2_object_get_lockaddr</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>));</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error waiting on command queue\n&quot;</span>);</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      }</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;   }</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_acfbbc301b00500e290316094dfa617be"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#acfbbc301b00500e290316094dfa617be">stasis_app_control::wait_cond</a></div><div class="ttdeci">ast_cond_t wait_cond</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00052">control.c:52</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="lock_8h_html_a36233c5520173c095bf732a788356aee"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a></div><div class="ttdeci">#define ast_cond_wait(cond, mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00203">lock.h:203</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a503b6c7ced96f9b56ec59c115cbeb29a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a503b6c7ced96f9b56ec59c115cbeb29a">ao2_object_get_lockaddr</a></div><div class="ttdeci">void * ao2_object_get_lockaddr(void *obj)</div><div class="ttdoc">Return the mutex lock address of an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00476">astobj2.c:476</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a99e1c66e1ff64c649f042831a6a88a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99e1c66e1ff64c649f042831a6a88a58">&#9670;&nbsp;</a></span>depart_channel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int depart_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Depart a channel from a bridge, and potentially add it back to the dial bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Take a guess </td></tr>
    <tr><td class="paramname">chan</td><td>Take another guess </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01069">1069</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l01041">add_to_dial_bridge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00721">ast_channel_pbx()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l00445">ast_check_hangup()</a>, and <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01394">app_control_remove_channel_from_bridge()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01085">bridge_channel_depart()</a>.</p>
<div class="fragment"><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;{</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan);</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;   <span class="comment">/* Channels which have a PBX are not ones that have been created and dialed from ARI. They</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">    * have externally come in from the dialplan, and thus should not be placed into the dial</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">    * bridge. Only channels which are created and dialed in ARI should go into the dial bridge.</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d7b/channel_8h.html#a9c63fff1d736568d1ee332dd7ea502bd">ast_check_hangup</a>(chan) &amp;&amp; <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a> &amp;&amp; !<a class="code" href="../../d5/d7b/channel_8h.html#a488b7d6f7488bedc53be45d4ef4471c9">ast_channel_pbx</a>(chan)) {</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <span class="comment">/* Channel is still being dialed, so put it back in the dialing bridge */</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a16c10e06199540b3f37d1fbffa759d5f">add_to_dial_bridge</a>(control, chan);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;   }</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;}</div><div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="control_8c_html_a16c10e06199540b3f37d1fbffa759d5f"><div class="ttname"><a href="../../de/de3/control_8c.html#a16c10e06199540b3f37d1fbffa759d5f">add_to_dial_bridge</a></div><div class="ttdeci">static int add_to_dial_bridge(struct stasis_app_control *control, struct ast_channel *chan)</div><div class="ttdoc">Add a channel to the singleton dial bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01041">control.c:1041</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="channel_8h_html_a488b7d6f7488bedc53be45d4ef4471c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a488b7d6f7488bedc53be45d4ef4471c9">ast_channel_pbx</a></div><div class="ttdeci">struct ast_pbx * ast_channel_pbx(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00721">channel_internal_api.c:721</a></div></div>
<div class="ttc" id="channel_8h_html_a9c63fff1d736568d1ee332dd7ea502bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9c63fff1d736568d1ee332dd7ea502bd">ast_check_hangup</a></div><div class="ttdeci">int ast_check_hangup(struct ast_channel *chan)</div><div class="ttdoc">Check to see if a channel is needing hang up. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00445">channel.c:445</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4172553a9877c0e7cd04a22d9f5dd03c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4172553a9877c0e7cd04a22d9f5dd03c">&#9670;&nbsp;</a></span>dial_bridge_after_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dial_bridge_after_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>after bridge callback for the dial bridge </p>
<p>The only purpose of this callback is to ensure that the control structure's bridge pointer is NULLed </p>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01009">1009</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00674">__ao2_cleanup()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00427">ast_channel_hangupcause()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00064">stasis_app_control::bridge</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01085">bridge_channel_depart()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01041">add_to_dial_bridge()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01025">dial_bridge_after_cb_failed()</a>.</p>
<div class="fragment"><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;{</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control = data;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;   bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(chan);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Channel: &lt;%s&gt;  Reason: %d\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>), <a class="code" href="../../d5/d7b/channel_8h.html#aa04afa262d7e1b211ee32d17c949a275">ast_channel_hangupcause</a>(chan));</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#add224095d52813ba1336410bbb95de15">bridge_channel_depart</a>, bridge_channel, <a class="code" href="../../d5/da5/astobj2_8h.html#ab940ba7749a2a12c3e9a356bd26fd744">__ao2_cleanup</a>);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab940ba7749a2a12c3e9a356bd26fd744"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab940ba7749a2a12c3e9a356bd26fd744">__ao2_cleanup</a></div><div class="ttdeci">void __ao2_cleanup(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00674">astobj2.c:674</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structstasis__app__control_html"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html">stasis_app_control</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00051">control.c:51</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="control_8c_html_add224095d52813ba1336410bbb95de15"><div class="ttname"><a href="../../de/de3/control_8c.html#add224095d52813ba1336410bbb95de15">bridge_channel_depart</a></div><div class="ttdeci">static int bridge_channel_depart(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01085">control.c:1085</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">stasis_app_control::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00064">control.c:64</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="channel_8h_html_aa04afa262d7e1b211ee32d17c949a275"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa04afa262d7e1b211ee32d17c949a275">ast_channel_hangupcause</a></div><div class="ttdeci">int ast_channel_hangupcause(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00427">channel_internal_api.c:427</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af42689530e407ace89b9df0d3b1885f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af42689530e407ace89b9df0d3b1885f2">&#9670;&nbsp;</a></span>dial_bridge_after_cb_failed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dial_bridge_after_cb_failed </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d8/d85/bridge__after_8h.html#a1b15a371c654cfe77de053afe0994b9c">ast_bridge_after_cb_reason</a>&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01025">1025</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01009">dial_bridge_after_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01041">add_to_dial_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;{</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control = data;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Channel: &lt;%s&gt;  Reason: %d\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>), reason);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a4172553a9877c0e7cd04a22d9f5dd03c">dial_bridge_after_cb</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, data);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;}</div><div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="control_8c_html_a4172553a9877c0e7cd04a22d9f5dd03c"><div class="ttname"><a href="../../de/de3/control_8c.html#a4172553a9877c0e7cd04a22d9f5dd03c">dial_bridge_after_cb</a></div><div class="ttdeci">static void dial_bridge_after_cb(struct ast_channel *chan, void *data)</div><div class="ttdoc">after bridge callback for the dial bridge </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01009">control.c:1009</a></div></div>
<div class="ttc" id="structstasis__app__control_html"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html">stasis_app_control</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00051">control.c:51</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa90b2a246dc6973a9dc746d9a79a6de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa90b2a246dc6973a9dc746d9a79a6de7">&#9670;&nbsp;</a></span>dtmf_in_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dtmf_in_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d25/structstasis__app__control__dtmf__data.html">stasis_app_control_dtmf_data</a> *&#160;</td>
          <td class="paramname"><em>dtmf_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00521">521</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00517">stasis_app_control_dtmf_data::after</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00996">ast_dtmf_stream_external()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00514">stasis_app_control_dtmf_data::before</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00515">stasis_app_control_dtmf_data::between</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00518">stasis_app_control_dtmf_data::dtmf</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00516">stasis_app_control_dtmf_data::duration</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00547">app_control_dtmf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;{</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   <span class="keywordflow">if</span> (dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a98f0e62710c1bdbf9a7b509ba35ca006">before</a>) {</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      usleep(dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a98f0e62710c1bdbf9a7b509ba35ca006">before</a> * 1000);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a36e4844e25a7e967607eb4812667a26a">ast_dtmf_stream_external</a>(chan, dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a80fd48191139488d3a94a881884bcd03">dtmf</a>, dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a166d33fd5261da92d3135d77a32ab8bf">between</a>, dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a095ceb846c8c874cd3fcc5cdaf6ade81">duration</a>);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   <span class="keywordflow">if</span> (dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a8553ad04554ace7efc8813bb2ffe5862">after</a>) {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      usleep(dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a8553ad04554ace7efc8813bb2ffe5862">after</a> * 1000);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}</div><div class="ttc" id="structstasis__app__control__dtmf__data_html_a095ceb846c8c874cd3fcc5cdaf6ade81"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a095ceb846c8c874cd3fcc5cdaf6ade81">stasis_app_control_dtmf_data::duration</a></div><div class="ttdeci">unsigned int duration</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00516">control.c:516</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a166d33fd5261da92d3135d77a32ab8bf"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a166d33fd5261da92d3135d77a32ab8bf">stasis_app_control_dtmf_data::between</a></div><div class="ttdeci">int between</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00515">control.c:515</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a98f0e62710c1bdbf9a7b509ba35ca006"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a98f0e62710c1bdbf9a7b509ba35ca006">stasis_app_control_dtmf_data::before</a></div><div class="ttdeci">int before</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00514">control.c:514</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a80fd48191139488d3a94a881884bcd03"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a80fd48191139488d3a94a881884bcd03">stasis_app_control_dtmf_data::dtmf</a></div><div class="ttdeci">char dtmf[]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00518">control.c:518</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a8553ad04554ace7efc8813bb2ffe5862"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a8553ad04554ace7efc8813bb2ffe5862">stasis_app_control_dtmf_data::after</a></div><div class="ttdeci">int after</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00517">control.c:517</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a36e4844e25a7e967607eb4812667a26a"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a36e4844e25a7e967607eb4812667a26a">ast_dtmf_stream_external</a></div><div class="ttdeci">void ast_dtmf_stream_external(struct ast_channel *chan, const char *digits, int between, unsigned int duration)</div><div class="ttdoc">Send a string of DTMF digits to a channel from an external thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00996">main/app.c:996</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a21c3793d702b5a0dd8c63ede137f7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a21c3793d702b5a0dd8c63ede137f7c">&#9670;&nbsp;</a></span>dtmf_no_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dtmf_no_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d25/structstasis__app__control__dtmf__data.html">stasis_app_control_dtmf_data</a> *&#160;</td>
          <td class="paramname"><em>dtmf_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00534">534</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00517">stasis_app_control_dtmf_data::after</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00981">ast_dtmf_stream()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01574">ast_safe_sleep()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00514">stasis_app_control_dtmf_data::before</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00515">stasis_app_control_dtmf_data::between</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00518">stasis_app_control_dtmf_data::dtmf</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00516">stasis_app_control_dtmf_data::duration</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00547">app_control_dtmf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;{</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   <span class="keywordflow">if</span> (dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a98f0e62710c1bdbf9a7b509ba35ca006">before</a>) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af10e3bd01602095e1908d3926afc3b76">ast_safe_sleep</a>(chan, dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a98f0e62710c1bdbf9a7b509ba35ca006">before</a>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af20b8ac2e28e659be352bbaecdf0ab03">ast_dtmf_stream</a>(chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a80fd48191139488d3a94a881884bcd03">dtmf</a>, dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a166d33fd5261da92d3135d77a32ab8bf">between</a>, dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a095ceb846c8c874cd3fcc5cdaf6ade81">duration</a>);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   <span class="keywordflow">if</span> (dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a8553ad04554ace7efc8813bb2ffe5862">after</a>) {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af10e3bd01602095e1908d3926afc3b76">ast_safe_sleep</a>(chan, dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a8553ad04554ace7efc8813bb2ffe5862">after</a>);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div><div class="ttc" id="include_2asterisk_2app_8h_html_af20b8ac2e28e659be352bbaecdf0ab03"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#af20b8ac2e28e659be352bbaecdf0ab03">ast_dtmf_stream</a></div><div class="ttdeci">int ast_dtmf_stream(struct ast_channel *chan, struct ast_channel *peer, const char *digits, int between, unsigned int duration)</div><div class="ttdoc">Send a string of DTMF digits to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00981">main/app.c:981</a></div></div>
<div class="ttc" id="channel_8h_html_af10e3bd01602095e1908d3926afc3b76"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af10e3bd01602095e1908d3926afc3b76">ast_safe_sleep</a></div><div class="ttdeci">int ast_safe_sleep(struct ast_channel *chan, int ms)</div><div class="ttdoc">Wait for a specified amount of time, looking for hangups. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01574">channel.c:1574</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a095ceb846c8c874cd3fcc5cdaf6ade81"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a095ceb846c8c874cd3fcc5cdaf6ade81">stasis_app_control_dtmf_data::duration</a></div><div class="ttdeci">unsigned int duration</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00516">control.c:516</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a166d33fd5261da92d3135d77a32ab8bf"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a166d33fd5261da92d3135d77a32ab8bf">stasis_app_control_dtmf_data::between</a></div><div class="ttdeci">int between</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00515">control.c:515</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a98f0e62710c1bdbf9a7b509ba35ca006"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a98f0e62710c1bdbf9a7b509ba35ca006">stasis_app_control_dtmf_data::before</a></div><div class="ttdeci">int before</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00514">control.c:514</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a80fd48191139488d3a94a881884bcd03"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a80fd48191139488d3a94a881884bcd03">stasis_app_control_dtmf_data::dtmf</a></div><div class="ttdeci">char dtmf[]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00518">control.c:518</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a8553ad04554ace7efc8813bb2ffe5862"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a8553ad04554ace7efc8813bb2ffe5862">stasis_app_control_dtmf_data::after</a></div><div class="ttdeci">int after</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00517">control.c:517</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a042492cd8c48f148a8107214bb9d1db2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a042492cd8c48f148a8107214bb9d1db2">&#9670;&nbsp;</a></span>exec_command()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a>* exec_command </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a816a21221be6d5a93cc55b8cb97d46ab">stasis_app_command_cb</a>&#160;</td>
          <td class="paramname"><em>command_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a66ead0f2f762f64bbad7eb8a026cf62c">command_data_destructor_fn</a>&#160;</td>
          <td class="paramname"><em>data_destructor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00301">301</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00267">exec_command_on_condition()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a42bf846707bb8a40a31b3dfaa186eab7">exec_command_on_condition</a>(control, command_fn, data, data_destructor, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a42bf846707bb8a40a31b3dfaa186eab7"><div class="ttname"><a href="../../de/de3/control_8c.html#a42bf846707bb8a40a31b3dfaa186eab7">exec_command_on_condition</a></div><div class="ttdeci">static struct stasis_app_command * exec_command_on_condition(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor, app_command_can_exec_cb can_exec_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00267">control.c:267</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42bf846707bb8a40a31b3dfaa186eab7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42bf846707bb8a40a31b3dfaa186eab7">&#9670;&nbsp;</a></span>exec_command_on_condition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a>* exec_command_on_condition </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a816a21221be6d5a93cc55b8cb97d46ab">stasis_app_command_cb</a>&#160;</td>
          <td class="paramname"><em>command_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a66ead0f2f762f64bbad7eb8a026cf62c">command_data_destructor_fn</a>&#160;</td>
          <td class="paramname"><em>data_destructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/de3/control_8c.html#a7b331ff5f58b7657c835579bc28a99da">app_command_can_exec_cb</a>&#160;</td>
          <td class="paramname"><em>can_exec_fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00267">267</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01572">ao2_link_flags</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00201">ast_cond_signal</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00077">command_complete()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00055">command_create()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00054">stasis_app_control::command_queue</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00257">noop_cb()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, <a class="el" href="../../db/d37/hsearch_8c_source.html#l00050">retval</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00052">stasis_app_control::wait_cond</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00866">app_send_command_on_condition()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00301">exec_command()</a>.</p>
<div class="fragment"><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../db/d37/hsearch_8c.html#ad0f0f85b3cab490a81baa02c4b9edf45">retval</a>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a> *command;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   command_fn = command_fn ? : <a class="code" href="../../de/de3/control_8c.html#a7ba70ff5a0206f0ead2340d907deaea3">noop_cb</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   command = <a class="code" href="../../d5/d2e/command_8c.html#a727afc36cc58e134621f1bda5edeea67">command_create</a>(command_fn, <a class="code" href="../../d0/d41/structstasis__app__command.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <a class="code" href="../../d0/d41/structstasis__app__command.html#a4e3605fea633c7eeb14d4fa7dae7813b">data_destructor</a>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="keywordflow">if</span> (!command) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <span class="keywordflow">if</span> (control-&gt;is_done) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(command, -1);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   <span class="keywordflow">if</span> (can_exec_fn &amp;&amp; (retval = can_exec_fn(control))) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <a class="code" href="../../d5/d2e/command_8c.html#a726bf174d6849955130dcabb9b94ca07">command_complete</a>(command, retval);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="keywordflow">return</span> command;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>, command, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(&amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#acfbbc301b00500e290316094dfa617be">wait_cond</a>);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">command_queue</a>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <span class="keywordflow">return</span> command;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_acfbbc301b00500e290316094dfa617be"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#acfbbc301b00500e290316094dfa617be">stasis_app_control::wait_cond</a></div><div class="ttdeci">ast_cond_t wait_cond</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00052">control.c:52</a></div></div>
<div class="ttc" id="control_8c_html_a7ba70ff5a0206f0ead2340d907deaea3"><div class="ttname"><a href="../../de/de3/control_8c.html#a7ba70ff5a0206f0ead2340d907deaea3">noop_cb</a></div><div class="ttdeci">static int noop_cb(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00257">control.c:257</a></div></div>
<div class="ttc" id="structstasis__app__command_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html#a735984d41155bc1032e09bece8f8d66d">stasis_app_command::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00037">command.c:37</a></div></div>
<div class="ttc" id="command_8c_html_a726bf174d6849955130dcabb9b94ca07"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a726bf174d6849955130dcabb9b94ca07">command_complete</a></div><div class="ttdeci">void command_complete(struct stasis_app_command *command, int retval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00077">command.c:77</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7ce8563daf84a18540a86504d165b444"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a></div><div class="ttdeci">#define ao2_link_flags(container, obj, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01572">astobj2.h:1572</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app__command_html_a4e3605fea633c7eeb14d4fa7dae7813b"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html#a4e3605fea633c7eeb14d4fa7dae7813b">stasis_app_command::data_destructor</a></div><div class="ttdeci">command_data_destructor_fn data_destructor</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00038">command.c:38</a></div></div>
<div class="ttc" id="lock_8h_html_ae2cdf274a5da241c3ad7324d82bf6af0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a></div><div class="ttdeci">#define ast_cond_signal(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00201">lock.h:201</a></div></div>
<div class="ttc" id="structstasis__app__command_html"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00033">command.c:33</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a55680ee702d32f958f58d696e6b88501"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a55680ee702d32f958f58d696e6b88501">stasis_app_control::command_queue</a></div><div class="ttdeci">struct ao2_container * command_queue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00054">control.c:54</a></div></div>
<div class="ttc" id="command_8c_html_a727afc36cc58e134621f1bda5edeea67"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a727afc36cc58e134621f1bda5edeea67">command_create</a></div><div class="ttdeci">struct stasis_app_command * command_create(stasis_app_command_cb callback, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00055">command.c:55</a></div></div>
<div class="ttc" id="hsearch_8c_html_ad0f0f85b3cab490a81baa02c4b9edf45"><div class="ttname"><a href="../../db/d37/hsearch_8c.html#ad0f0f85b3cab490a81baa02c4b9edf45">retval</a></div><div class="ttdeci">static ENTRY retval</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d37/hsearch_8c_source.html#l00050">hsearch.c:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5790d48a3f75e992801bfb908007808d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5790d48a3f75e992801bfb908007808d">&#9670;&nbsp;</a></span>free_chanvar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_chanvar </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00692">692</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00687">chanvar::name</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00689">chanvar::value</a>, and <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00711">stasis_app_control_set_channel_var()</a>.</p>
<div class="fragment"><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;{</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d5b/structchanvar.html">chanvar</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a> = data;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(var-&gt;<a class="code" href="../../d8/d5b/structchanvar.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(var-&gt;<a class="code" href="../../d8/d5b/structchanvar.html#a4e9aec275e566b978a3ccb4e043d8c61">value</a>);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(var);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div><div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="structchanvar_html_a4e9aec275e566b978a3ccb4e043d8c61"><div class="ttname"><a href="../../d8/d5b/structchanvar.html#a4e9aec275e566b978a3ccb4e043d8c61">chanvar::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00689">control.c:689</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structchanvar_html"><div class="ttname"><a href="../../d8/d5b/structchanvar.html">chanvar</a></div><div class="ttdoc">structure for queuing ARI channel variable setting </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00685">control.c:685</a></div></div>
<div class="ttc" id="structchanvar_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="../../d8/d5b/structchanvar.html#a5ac083a645d964373f022d03df4849c8">chanvar::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00687">control.c:687</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8d4a95500a3572fcd9eac99446f6d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8d4a95500a3572fcd9eac99446f6d66">&#9670;&nbsp;</a></span>get_dial_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* get_dial_bridge </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve a reference to the dial bridge. </p>
<p>If the dial bridge has not been created yet, it will be created, otherwise, a reference to the existing bridge will be returned.</p>
<p>The caller will need to unreference the dial bridge once they are finished with it.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Unable to find/create the dial bridge </td></tr>
    <tr><td class="paramname">non-NULL</td><td>A reference to the dial bridge </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00974">974</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01085">bridge_channel_depart()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00959">dial_bridge_lock</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">end</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00049">shutting_down</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00856">stasis_app_bridge_create_invisible()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01041">add_to_dial_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;{</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *ret_bridge = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../de/de3/control_8c.html#adcfa0faf18325b705ddf432c7471eb9f">dial_bridge_lock</a>);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/de3/control_8c.html#a7f68568851b9c7f9291f7bb63f932c18">shutting_down</a>) {</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a>) {</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      ret_bridge = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(<a class="code" href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a>);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;   }</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a> = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a04f76e15fbda00811dce3419a69b4ec9">stasis_app_bridge_create_invisible</a>(<span class="stringliteral">&quot;holding&quot;</span>, <span class="stringliteral">&quot;dial_bridge&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a>) {</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   }</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;   ret_bridge = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(<a class="code" href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a>);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>:</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../de/de3/control_8c.html#adcfa0faf18325b705ddf432c7471eb9f">dial_bridge_lock</a>);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;   <span class="keywordflow">return</span> ret_bridge;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;}</div><div class="ttc" id="stasis__app_8h_html_a04f76e15fbda00811dce3419a69b4ec9"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a04f76e15fbda00811dce3419a69b4ec9">stasis_app_bridge_create_invisible</a></div><div class="ttdeci">struct ast_bridge * stasis_app_bridge_create_invisible(const char *type, const char *name, const char *id)</div><div class="ttdoc">Create an invisible bridge of the specified type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00856">res_stasis.c:856</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a8fd806ad19b8f5513a4cf18cbf77532c"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a></div><div class="ttdeci">char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="control_8c_html_adcfa0faf18325b705ddf432c7471eb9f"><div class="ttname"><a href="../../de/de3/control_8c.html#adcfa0faf18325b705ddf432c7471eb9f">dial_bridge_lock</a></div><div class="ttdeci">static ast_mutex_t dial_bridge_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00959">control.c:959</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="control_8c_html_a7f68568851b9c7f9291f7bb63f932c18"><div class="ttname"><a href="../../de/de3/control_8c.html#a7f68568851b9c7f9291f7bb63f932c18">shutting_down</a></div><div class="ttdeci">static int shutting_down</div><div class="ttdoc">Indicates if the Stasis app internals are being shut down. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00049">control.c:49</a></div></div>
<div class="ttc" id="control_8c_html_a69021b7db180f22656f9cb2dbd1b164d"><div class="ttname"><a href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a></div><div class="ttdeci">static struct ast_bridge * dial_bridge</div><div class="ttdoc">Singleton dial bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00958">control.c:958</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a991fde578a69c677191f68e775a5e546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a991fde578a69c677191f68e775a5e546">&#9670;&nbsp;</a></span>hangup_channel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int hangup_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01196">1196</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02476">ast_softhangup()</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l01149">AST_SOFTHANGUP_EXPLICIT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01215">bridge_timeout()</a>.</p>
<div class="fragment"><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;{</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2b3b711afc65059c4b51008c9fbc7aee">AST_SOFTHANGUP_EXPLICIT</a>);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;}</div><div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a2b3b711afc65059c4b51008c9fbc7aee"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2b3b711afc65059c4b51008c9fbc7aee">AST_SOFTHANGUP_EXPLICIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01149">channel.h:1149</a></div></div>
<div class="ttc" id="channel_8h_html_ac2d6607253f7e8b272d4e845474eaa9b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a></div><div class="ttdeci">int ast_softhangup(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02476">channel.c:2476</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae8ed4ec2a18d1298ae230e4234e18d53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ed4ec2a18d1298ae230e4234e18d53">&#9670;&nbsp;</a></span>internal_bridge_after_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void internal_bridge_after_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d8/d85/bridge__after_8h.html#a1b15a371c654cfe77de053afe0994b9c">ast_bridge_after_cb_reason</a>&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01108">1108</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00674">__ao2_cleanup()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00090">stasis_app_control::app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01486">app_unsubscribe_bridge()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d8/d85/bridge__after_8h_source.html#l00049">AST_BRIDGE_AFTER_CB_REASON_IMPART_FAILED</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00296">ast_bridge_after_cb_reason_string()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00447">ast_bridge_setup_after_goto()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00725">ast_channel_pbx_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01127">AST_SOFTHANGUP_ASYNCGOTO</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01122">AST_SOFTHANGUP_DEV</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02463">ast_softhangup_nolock()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00064">stasis_app_control::bridge</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01085">bridge_channel_depart()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00072">stasis_app_control::pbx</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01299">stasis_app_channel_is_stasis_end_published()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01163">bridge_after_cb()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01170">bridge_after_cb_failed()</a>.</p>
<div class="fragment"><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;{</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control = data;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s, %s: %s\n&quot;</span>,</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan), control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a> ? control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a> : <span class="stringliteral">&quot;unknown&quot;</span>,</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;         <a class="code" href="../../d8/d85/bridge__after_8h.html#a1ccac2dce2e8c4f62baed1f63b225a15">ast_bridge_after_cb_reason_string</a>(reason));</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;   <span class="keywordflow">if</span> (reason == <a class="code" href="../../d8/d85/bridge__after_8h.html#a1b15a371c654cfe77de053afe0994b9ca2a6093cf7896d7224f478d6b8883bed2">AST_BRIDGE_AFTER_CB_REASON_IMPART_FAILED</a>) {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="comment">/* The impart actually failed so control-&gt;bridge isn&#39;t valid. */</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;   }</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(chan == control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>);</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;   <span class="comment">/* Restore the channel&#39;s PBX */</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af89b0f98c227230d7180a90627c0901c">ast_channel_pbx_set</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">pbx</a>);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">pbx</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;   <span class="keywordflow">if</span> (control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>) {</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a3319e8e92c07466ddc920e885c6d23f0">app_unsubscribe_bridge</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">app</a>, control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>);</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="comment">/* No longer in the bridge */</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="comment">/* Get the bridge channel so we don&#39;t depart from the wrong bridge */</span></div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(chan);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="comment">/* Depart this channel from the bridge using the command queue if possible */</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#add224095d52813ba1336410bbb95de15">bridge_channel_depart</a>, bridge_channel, <a class="code" href="../../d5/da5/astobj2_8h.html#ab940ba7749a2a12c3e9a356bd26fd744">__ao2_cleanup</a>);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;   }</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9c/stasis__app_8h.html#ae429eca049aebfe3cb49325eef2cb7e8">stasis_app_channel_is_stasis_end_published</a>(chan)) {</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <span class="comment">/* The channel has had a StasisEnd published on it, but until now had remained in</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment">       * the bridging system. This means that the channel moved from a Stasis bridge to a</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="comment">       * non-Stasis bridge and is now exiting the bridging system. Because of this, the</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="comment">       * channel needs to exit the Stasis application and go to wherever the non-Stasis</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment">       * bridge has directed it to go. If the non-Stasis bridge has not set up an after</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment">       * bridge destination, then the channel should be hung up.</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="keywordtype">int</span> hangup_flag;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      hangup_flag = <a class="code" href="../../d8/d85/bridge__after_8h.html#a6231027722f2bdd4093d15defa0d7b94">ast_bridge_setup_after_goto</a>(chan) ? <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2e185ce313026e13ed90ae3a319c9cb7">AST_SOFTHANGUP_DEV</a> : <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4">AST_SOFTHANGUP_ASYNCGOTO</a>;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ae90da1877e143b996d202d4c88a9c862">ast_softhangup_nolock</a>(chan, hangup_flag);</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;   }</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control);</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a1ccac2dce2e8c4f62baed1f63b225a15"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a1ccac2dce2e8c4f62baed1f63b225a15">ast_bridge_after_cb_reason_string</a></div><div class="ttdeci">const char * ast_bridge_after_cb_reason_string(enum ast_bridge_after_cb_reason reason)</div><div class="ttdoc">Get a string representation of an after bridge callback reason. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00296">bridge_after.c:296</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab940ba7749a2a12c3e9a356bd26fd744"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab940ba7749a2a12c3e9a356bd26fd744">__ao2_cleanup</a></div><div class="ttdeci">void __ao2_cleanup(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00674">astobj2.c:674</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a2e185ce313026e13ed90ae3a319c9cb7"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2e185ce313026e13ed90ae3a319c9cb7">AST_SOFTHANGUP_DEV</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01122">channel.h:1122</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a185ae303b96babfcf6a0139d2d4cad89"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a185ae303b96babfcf6a0139d2d4cad89">stasis_app_control::app</a></div><div class="ttdeci">struct stasis_app * app</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00090">control.c:90</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="stasis__app_8h_html_ae429eca049aebfe3cb49325eef2cb7e8"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#ae429eca049aebfe3cb49325eef2cb7e8">stasis_app_channel_is_stasis_end_published</a></div><div class="ttdeci">int stasis_app_channel_is_stasis_end_published(struct ast_channel *chan)</div><div class="ttdoc">Has this channel had a StasisEnd published on it? </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01299">res_stasis.c:1299</a></div></div>
<div class="ttc" id="structstasis__app__control_html"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html">stasis_app_control</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00051">control.c:51</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="control_8c_html_add224095d52813ba1336410bbb95de15"><div class="ttname"><a href="../../de/de3/control_8c.html#add224095d52813ba1336410bbb95de15">bridge_channel_depart</a></div><div class="ttdeci">static int bridge_channel_depart(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01085">control.c:1085</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="structstasis__app__control_html_aebc9ecdf679da616c7d975b827e1f4b4"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#aebc9ecdf679da616c7d975b827e1f4b4">stasis_app_control::pbx</a></div><div class="ttdeci">struct ast_pbx * pbx</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00072">control.c:72</a></div></div>
<div class="ttc" id="channel_8h_html_ae90da1877e143b996d202d4c88a9c862"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae90da1877e143b996d202d4c88a9c862">ast_softhangup_nolock</a></div><div class="ttdeci">int ast_softhangup_nolock(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel (no channel lock) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02463">channel.c:2463</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">stasis_app_control::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00064">control.c:64</a></div></div>
<div class="ttc" id="channel_8h_html_af89b0f98c227230d7180a90627c0901c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af89b0f98c227230d7180a90627c0901c">ast_channel_pbx_set</a></div><div class="ttdeci">void ast_channel_pbx_set(struct ast_channel *chan, struct ast_pbx *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00725">channel_internal_api.c:725</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a1b15a371c654cfe77de053afe0994b9ca2a6093cf7896d7224f478d6b8883bed2"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a1b15a371c654cfe77de053afe0994b9ca2a6093cf7896d7224f478d6b8883bed2">AST_BRIDGE_AFTER_CB_REASON_IMPART_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d85/bridge__after_8h_source.html#l00049">bridge_after.h:49</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4">AST_SOFTHANGUP_ASYNCGOTO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01127">channel.h:1127</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a3319e8e92c07466ddc920e885c6d23f0"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a3319e8e92c07466ddc920e885c6d23f0">app_unsubscribe_bridge</a></div><div class="ttdeci">int app_unsubscribe_bridge(struct stasis_app *app, struct ast_bridge *bridge)</div><div class="ttdoc">Cancel the bridge subscription for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01486">res/stasis/app.c:1486</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a6231027722f2bdd4093d15defa0d7b94"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a6231027722f2bdd4093d15defa0d7b94">ast_bridge_setup_after_goto</a></div><div class="ttdeci">int ast_bridge_setup_after_goto(struct ast_channel *chan)</div><div class="ttdoc">Setup any after bridge goto location to begin execution. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00447">bridge_after.c:447</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ba70ff5a0206f0ead2340d907deaea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba70ff5a0206f0ead2340d907deaea3">&#9670;&nbsp;</a></span>noop_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int noop_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00257">257</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00267">exec_command_on_condition()</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a04bd17d4585a2f55499f6673668f9d17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04bd17d4585a2f55499f6673668f9d17">&#9670;&nbsp;</a></span>set_interval_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_interval_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a dial timeout interval hook on the channel. </p>
<p>The absolute time that the timeout should occur is stored on a datastore on the channel. This time is converted into a relative number of milliseconds in the future. Then an interval hook is set to trigger in that number of milliseconds.</p>
<dl class="section pre"><dt>Precondition</dt><dd>chan is locked</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel on which to set the interval hook </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01254">1254</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03382">ast_bridge_interval_hook()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../df/d55/main_2frame_8c_source.html#l00079">ast_null_frame</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01139">ast_queue_frame()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00098">ast_tvdiff_ms()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01215">bridge_timeout()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00132">ast_bridge_channel::features</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01284">control_swap_channel_in_bridge()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01603">set_timeout()</a>.</p>
<div class="fragment"><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;{</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;   <span class="keyword">struct </span>timeval *hangup_time;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;   int64_t ms;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../de/de3/control_8c.html#a6eccae97d4224bab1de485a833dde6f6">timeout_datastore</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;   <span class="keywordflow">if</span> (!datastore) {</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;   }</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;   hangup_time = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;   ms = <a class="code" href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a>(*hangup_time, <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>());</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;   bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(chan);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   <span class="keywordflow">if</span> (!bridge_channel) {</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;   }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/d7a/bridge__features_8h.html#a3e9bdb7b62b531f001b7dcb5c39b3551">ast_bridge_interval_hook</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>, 0, ms &gt; 0 ? ms : 1,</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;         <a class="code" href="../../de/de3/control_8c.html#abb9d793f07a7117965ff5858fd928ffc">bridge_timeout</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)) {</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge_channel, -1);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;   }</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge_channel, -1);</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;}</div><div class="ttc" id="structast__bridge__channel_html_a65633fdc6178dc8d9f754fda0166d16e"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">ast_bridge_channel::features</a></div><div class="ttdeci">struct ast_bridge_features * features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00132">bridge_channel.h:132</a></div></div>
<div class="ttc" id="control_8c_html_abb9d793f07a7117965ff5858fd928ffc"><div class="ttname"><a href="../../de/de3/control_8c.html#abb9d793f07a7117965ff5858fd928ffc">bridge_timeout</a></div><div class="ttdeci">static int bridge_timeout(struct ast_bridge_channel *bridge_channel, void *ignore)</div><div class="ttdoc">Dial timeout. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01215">control.c:1215</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="time_8h_html_aca4ecdab7d8d3519062aad9a90fcb29d"><div class="ttname"><a href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a></div><div class="ttdeci">int64_t ast_tvdiff_ms(struct timeval end, struct timeval start)</div><div class="ttdoc">Computes the difference (in milliseconds) between two struct timeval instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00098">time.h:98</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a3e9bdb7b62b531f001b7dcb5c39b3551"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a3e9bdb7b62b531f001b7dcb5c39b3551">ast_bridge_interval_hook</a></div><div class="ttdeci">int ast_bridge_interval_hook(struct ast_bridge_features *features, enum ast_bridge_hook_timer_option flags, unsigned int interval, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdoc">Attach an interval hook to a bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03382">bridge.c:3382</a></div></div>
<div class="ttc" id="channel_8h_html_a6cbcba5661d55216968cde8fdf913c89"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a></div><div class="ttdeci">int ast_queue_frame(struct ast_channel *chan, struct ast_frame *f)</div><div class="ttdoc">Queue one or more frames to a channel&amp;#39;s frame queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01139">channel.c:1139</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_af203379aca2fd704fe8d86a9445596b6"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a></div><div class="ttdeci">struct ast_frame ast_null_frame</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d55/main_2frame_8c_source.html#l00079">main/frame.c:79</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="control_8c_html_a6eccae97d4224bab1de485a833dde6f6"><div class="ttname"><a href="../../de/de3/control_8c.html#a6eccae97d4224bab1de485a833dde6f6">timeout_datastore</a></div><div class="ttdeci">struct ast_datastore_info timeout_datastore</div><div class="ttdoc">Dial timeout datastore. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01192">control.c:1192</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a157b06697e2d442620c10f866040218e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a157b06697e2d442620c10f866040218e">&#9670;&nbsp;</a></span>set_timeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set dial timeout on a channel to be dialed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel on which to set the dial timeout </td></tr>
    <tr><td class="paramname">timeout</td><td>The timeout in seconds </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01603">1603</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10746">ast_channel_is_bridged()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00238">ast_samp2tv()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02283">ast_tvadd()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01254">set_interval_hook()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01628">app_control_dial()</a>.</p>
<div class="fragment"><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;{</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;   <span class="keyword">struct </span>timeval *hangup_time;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;   hangup_time = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> timeval));</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;   datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../de/de3/control_8c.html#a6eccae97d4224bab1de485a833dde6f6">timeout_datastore</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;   <span class="keywordflow">if</span> (!datastore) {</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;   }</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;   *hangup_time = <a class="code" href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a>(<a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>(), <a class="code" href="../../de/df7/time_8h.html#a1d774df72e3dbb623475783e06ce4f61">ast_samp2tv</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, 1));</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = hangup_time;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, datastore);</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#aa0a52e573af67cb0f29095177128d186">ast_channel_is_bridged</a>(chan)) {</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a04bd17d4585a2f55499f6673668f9d17">set_interval_hook</a>(chan);</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;   }</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00086">cdr_mysql.c:86</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="time_8h_html_a1d774df72e3dbb623475783e06ce4f61"><div class="ttname"><a href="../../de/df7/time_8h.html#a1d774df72e3dbb623475783e06ce4f61">ast_samp2tv</a></div><div class="ttdeci">struct timeval ast_samp2tv(unsigned int _nsamp, unsigned int _rate)</div><div class="ttdoc">Returns a timeval corresponding to the duration of n samples at rate r. Useful to convert samples to ...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00238">time.h:238</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="control_8c_html_a04bd17d4585a2f55499f6673668f9d17"><div class="ttname"><a href="../../de/de3/control_8c.html#a04bd17d4585a2f55499f6673668f9d17">set_interval_hook</a></div><div class="ttdeci">static void set_interval_hook(struct ast_channel *chan)</div><div class="ttdoc">Set a dial timeout interval hook on the channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01254">control.c:1254</a></div></div>
<div class="ttc" id="time_8h_html_a97e1bb8fbd7a103212789e87e7ed6073"><div class="ttname"><a href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a></div><div class="ttdeci">struct timeval ast_tvadd(struct timeval a, struct timeval b)</div><div class="ttdoc">Returns the sum of two timevals a + b. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02283">extconf.c:2283</a></div></div>
<div class="ttc" id="channel_8h_html_aa0a52e573af67cb0f29095177128d186"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa0a52e573af67cb0f29095177128d186">ast_channel_is_bridged</a></div><div class="ttdeci">int ast_channel_is_bridged(const struct ast_channel *chan)</div><div class="ttdoc">Determine if a channel is in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10746">channel.c:10746</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="control_8c_html_a6eccae97d4224bab1de485a833dde6f6"><div class="ttname"><a href="../../de/de3/control_8c.html#a6eccae97d4224bab1de485a833dde6f6">timeout_datastore</a></div><div class="ttdeci">struct ast_datastore_info timeout_datastore</div><div class="ttdoc">Dial timeout datastore. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01192">control.c:1192</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a694987deedc23dec0abba4f7401d858e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a694987deedc23dec0abba4f7401d858e">&#9670;&nbsp;</a></span>stasis_app_control_absorb_dtmf_in_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_absorb_dtmf_in_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>absorb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether DTMF from the channel is absorbed instead of passing through to the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control whose channel should have its DTMF absorbed when bridged </td></tr>
    <tr><td class="paramname">absorb</td><td>Whether DTMF should be absorbed (1) instead of passed through (0). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01464">1464</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00068">stasis_app_control::bridge_features</a>, and <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00279">ast_bridge_features::dtmf_passthrough</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;{</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a>-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a9ed40fc6a252b84f86044f975cc94283">dtmf_passthrough</a> = !absorb;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_a2529c045cb0c75c4a541a1df122560bf"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">stasis_app_control::bridge_features</a></div><div class="ttdeci">struct ast_bridge_features * bridge_features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00068">control.c:68</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a9ed40fc6a252b84f86044f975cc94283"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a9ed40fc6a252b84f86044f975cc94283">ast_bridge_features::dtmf_passthrough</a></div><div class="ttdeci">unsigned int dtmf_passthrough</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00279">bridge_features.h:279</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e208e3badecf666903679cff10cd2d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e208e3badecf666903679cff10cd2d2">&#9670;&nbsp;</a></span>stasis_app_control_add_channel_to_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_add_channel_to_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a channel to the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control whose channel should be added to the bridge </td></tr>
    <tr><td class="paramname">bridge</td><td>Pointer to the bridge</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>non-zero on failure </dd>
<dd>
zero on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01383">1383</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00245">app_control_can_add_channel_to_bridge()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00866">app_send_command_on_condition()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01378">control_add_channel_to_bridge()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;{</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Sending channel add_to_bridge command\n&quot;</span>,</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;         <a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a85b0a5b1bb2e49db6d60d35adc39f708">app_send_command_on_condition</a>(</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      control, <a class="code" href="../../de/de3/control_8c.html#a40fff3666badb7af1a010c523ccf14df">control_add_channel_to_bridge</a>, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#ad6d06be0fa6426cfa71b89eabd6dd75f">app_control_can_add_channel_to_bridge</a>);</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a40fff3666badb7af1a010c523ccf14df"><div class="ttname"><a href="../../de/de3/control_8c.html#a40fff3666badb7af1a010c523ccf14df">control_add_channel_to_bridge</a></div><div class="ttdeci">int control_add_channel_to_bridge(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdoc">Command callback for adding a channel to a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01378">control.c:1378</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="control_8c_html_ad6d06be0fa6426cfa71b89eabd6dd75f"><div class="ttname"><a href="../../de/de3/control_8c.html#ad6d06be0fa6426cfa71b89eabd6dd75f">app_control_can_add_channel_to_bridge</a></div><div class="ttdeci">static int app_control_can_add_channel_to_bridge(struct stasis_app_control *control)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00245">control.c:245</a></div></div>
<div class="ttc" id="control_8c_html_a85b0a5b1bb2e49db6d60d35adc39f708"><div class="ttname"><a href="../../de/de3/control_8c.html#a85b0a5b1bb2e49db6d60d35adc39f708">app_send_command_on_condition</a></div><div class="ttdeci">static int app_send_command_on_condition(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor, app_command_can_exec_cb can_exec_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00866">control.c:866</a></div></div>
<div class="ttc" id="control_8c_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84a68f427b9d772cea5e222039314509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84a68f427b9d772cea5e222039314509">&#9670;&nbsp;</a></span>stasis_app_control_add_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_add_role </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply a bridge role to a channel controlled by a stasis app control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code> </td></tr>
    <tr><td class="paramname">role</td><td>Role to apply</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00316">316</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00308">app_control_add_role()</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;{</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   <span class="keywordtype">char</span> *role_dup;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   role_dup = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(role);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <span class="keywordflow">if</span> (!role_dup) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a84c9217860c27d5658215b002d314b5d">app_control_add_role</a>, role_dup, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div><div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="control_8c_html_a84c9217860c27d5658215b002d314b5d"><div class="ttname"><a href="../../de/de3/control_8c.html#a84c9217860c27d5658215b002d314b5d">app_control_add_role</a></div><div class="ttdeci">static int app_control_add_role(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00308">control.c:308</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d7c78b5fc5947de58844090ee2518f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d7c78b5fc5947de58844090ee2518f9">&#9670;&nbsp;</a></span>stasis_app_control_bridge_features_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_bridge_features_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize bridge features into a channel control. </p>
<dl class="section note"><dt>Note</dt><dd>Bridge features on a control are destroyed after each bridge session, so new features need to be initialized before each bridge add.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control in which to store the features</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>non-zero on failure </dd>
<dd>
zero on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01451">1451</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l03750">ast_bridge_features_new()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00068">stasis_app_control::bridge_features</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;{</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;   features = <a class="code" href="../../dc/d7a/bridge__features_8h.html#abf9e5d393615c63d27e0bd530301a1ed">ast_bridge_features_new</a>();</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;   <span class="keywordflow">if</span> (!features) {</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;   }</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a> = features;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;}</div><div class="ttc" id="structast__bridge__features_html"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a></div><div class="ttdoc">Structure that contains features information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00263">bridge_features.h:263</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a2529c045cb0c75c4a541a1df122560bf"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">stasis_app_control::bridge_features</a></div><div class="ttdeci">struct ast_bridge_features * bridge_features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00068">control.c:68</a></div></div>
<div class="ttc" id="bridge__features_8h_html_abf9e5d393615c63d27e0bd530301a1ed"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#abf9e5d393615c63d27e0bd530301a1ed">ast_bridge_features_new</a></div><div class="ttdeci">struct ast_bridge_features * ast_bridge_features_new(void)</div><div class="ttdoc">Allocate a new bridge features struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03750">bridge.c:3750</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42879b4f8dabd12fc8dd0677b3524808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42879b4f8dabd12fc8dd0677b3524808">&#9670;&nbsp;</a></span>stasis_app_control_clear_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_clear_roles </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear bridge roles currently applied to a channel controlled by a stasis app control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00338">338</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00330">app_control_clear_roles()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a1afc69223c6420557bb008a7736cc3af">app_control_clear_roles</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a1afc69223c6420557bb008a7736cc3af"><div class="ttname"><a href="../../de/de3/control_8c.html#a1afc69223c6420557bb008a7736cc3af">app_control_clear_roles</a></div><div class="ttdeci">static int app_control_clear_roles(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00330">control.c:330</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a44c0b1bbbf0189d3c6b076eccd0a6d8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44c0b1bbbf0189d3c6b076eccd0a6d8f">&#9670;&nbsp;</a></span>stasis_app_control_continue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_continue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exit <code>res_stasis</code> and continue execution in the dialplan. </p>
<p>If the channel is no longer in <code>res_stasis</code>, this function does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code> </td></tr>
    <tr><td class="paramname">context</td><td>An optional context to continue to </td></tr>
    <tr><td class="paramname">extension</td><td>An optional extension to continue to </td></tr>
    <tr><td class="paramname">priority</td><td>An optional priority to continue to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00389">389</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00368">app_control_continue()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00363">stasis_app_control_continue_data::context</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00364">stasis_app_control_continue_data::extension</a>, <a class="el" href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">priority</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00365">stasis_app_control_continue_data::priority</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00180">ast_ari_channels_continue_in_dialplan()</a>.</p>
<div class="fragment"><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d54/structstasis__app__control__continue__data.html">stasis_app_control_continue_data</a> *continue_data;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">if</span> (!(continue_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*continue_data)))) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <span class="stringliteral">&quot;&quot;</span>), <span class="keyword">sizeof</span>(continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>));</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#a17fc2bb0bac08eee9b9792a4e34757ea">extension</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d0/d5a/structextension.html">extension</a>, <span class="stringliteral">&quot;&quot;</span>), <span class="keyword">sizeof</span>(continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#a17fc2bb0bac08eee9b9792a4e34757ea">extension</a>));</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> &gt; 0) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> = <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> = -1;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a1217c5dac7dbadf1815aae3963c2dec6">app_control_continue</a>, continue_data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div><div class="ttc" id="structstasis__app__control__continue__data_html"><div class="ttname"><a href="../../db/d54/structstasis__app__control__continue__data.html">stasis_app_control_continue_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00362">control.c:362</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="structstasis__app__control__continue__data_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../db/d54/structstasis__app__control__continue__data.html#ac25ea00ee3f082df06e0cf468cbde240">stasis_app_control_continue_data::context</a></div><div class="ttdeci">char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00363">control.c:363</a></div></div>
<div class="ttc" id="structstasis__app__control__continue__data_html_a17fc2bb0bac08eee9b9792a4e34757ea"><div class="ttname"><a href="../../db/d54/structstasis__app__control__continue__data.html#a17fc2bb0bac08eee9b9792a4e34757ea">stasis_app_control_continue_data::extension</a></div><div class="ttdeci">char extension[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00364">control.c:364</a></div></div>
<div class="ttc" id="control_8c_html_a1217c5dac7dbadf1815aae3963c2dec6"><div class="ttname"><a href="../../de/de3/control_8c.html#a1217c5dac7dbadf1815aae3963c2dec6">app_control_continue</a></div><div class="ttdeci">static int app_control_continue(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00368">control.c:368</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="structstasis__app__control__continue__data_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../db/d54/structstasis__app__control__continue__data.html#acec9ce2df15222151ad66fcb1d74eb9f">stasis_app_control_continue_data::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00365">control.c:365</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab947f73656a6630c01b18dc648e58f5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab947f73656a6630c01b18dc648e58f5d">&#9670;&nbsp;</a></span>stasis_app_control_dial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_dial </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dial a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">dialstring</td><td>The dialstring to pass to the channel driver </td></tr>
    <tr><td class="paramname">timeout</td><td>Optional timeout in milliseconds </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01666">1666</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l01628">app_control_dial()</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01573">control_dial_args_alloc()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01590">control_dial_args_destroy()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01939">ast_ari_channels_dial()</a>.</p>
<div class="fragment"><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;{</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;   args = <a class="code" href="../../de/de3/control_8c.html#a55de25029816375aa9e957be777ae548">control_dial_args_alloc</a>(<a class="code" href="../../d8/dc2/structcontrol__dial__args.html#a1c91d65869b4232d57383e1dda103441">dialstring</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;   <span class="keywordflow">if</span> (!args) {</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   }</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#ad87af38fcd8182bee19a09e7186a8c02">app_control_dial</a>,</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;      args, <a class="code" href="../../de/de3/control_8c.html#ac8dba9849151fd53faa671cb89972b46">control_dial_args_destroy</a>);</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;}</div><div class="ttc" id="cdr__mysql_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00086">cdr_mysql.c:86</a></div></div>
<div class="ttc" id="control_8c_html_a55de25029816375aa9e957be777ae548"><div class="ttname"><a href="../../de/de3/control_8c.html#a55de25029816375aa9e957be777ae548">control_dial_args_alloc</a></div><div class="ttdeci">static struct control_dial_args * control_dial_args_alloc(const char *dialstring, unsigned int timeout)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01573">control.c:1573</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="structcontrol__dial__args_html_a1c91d65869b4232d57383e1dda103441"><div class="ttname"><a href="../../d8/dc2/structcontrol__dial__args.html#a1c91d65869b4232d57383e1dda103441">control_dial_args::dialstring</a></div><div class="ttdeci">char dialstring[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01570">control.c:1570</a></div></div>
<div class="ttc" id="structcontrol__dial__args_html"><div class="ttname"><a href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01568">control.c:1568</a></div></div>
<div class="ttc" id="control_8c_html_ac8dba9849151fd53faa671cb89972b46"><div class="ttname"><a href="../../de/de3/control_8c.html#ac8dba9849151fd53faa671cb89972b46">control_dial_args_destroy</a></div><div class="ttdeci">static void control_dial_args_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01590">control.c:1590</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="control_8c_html_ad87af38fcd8182bee19a09e7186a8c02"><div class="ttname"><a href="../../de/de3/control_8c.html#ad87af38fcd8182bee19a09e7186a8c02">app_control_dial</a></div><div class="ttdeci">static int app_control_dial(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01628">control.c:1628</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c019f054eb3780d13f1e691864cca44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c019f054eb3780d13f1e691864cca44">&#9670;&nbsp;</a></span>stasis_app_control_dtmf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_dtmf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dtmf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>before</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>between</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>after</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send DTMF to the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">dtmf</td><td>DTMF string. </td></tr>
    <tr><td class="paramname">before</td><td>Amount of time to wait before sending DTMF digits. </td></tr>
    <tr><td class="paramname">between</td><td>Amount of time between each DTMF digit. </td></tr>
    <tr><td class="paramname">duration</td><td>Amount of time each DTMF digit lasts for. </td></tr>
    <tr><td class="paramname">after</td><td>Amount of time to wait after sending DTMF digits.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success. </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00565">565</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00517">stasis_app_control_dtmf_data::after</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00547">app_control_dtmf()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00514">stasis_app_control_dtmf_data::before</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00515">stasis_app_control_dtmf_data::between</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00518">stasis_app_control_dtmf_data::dtmf</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00516">stasis_app_control_dtmf_data::duration</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00487">ast_ari_channels_send_dtmf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;{</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html">stasis_app_control_dtmf_data</a> *dtmf_data;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   <span class="keywordflow">if</span> (!(dtmf_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*dtmf_data) + strlen(<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a80fd48191139488d3a94a881884bcd03">dtmf</a>) + 1))) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;   dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a98f0e62710c1bdbf9a7b509ba35ca006">before</a> = <a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a98f0e62710c1bdbf9a7b509ba35ca006">before</a>;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a166d33fd5261da92d3135d77a32ab8bf">between</a> = <a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a166d33fd5261da92d3135d77a32ab8bf">between</a>;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a095ceb846c8c874cd3fcc5cdaf6ade81">duration</a> = <a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a095ceb846c8c874cd3fcc5cdaf6ade81">duration</a>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a8553ad04554ace7efc8813bb2ffe5862">after</a> = <a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a8553ad04554ace7efc8813bb2ffe5862">after</a>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;   strcpy(dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a80fd48191139488d3a94a881884bcd03">dtmf</a>, <a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a80fd48191139488d3a94a881884bcd03">dtmf</a>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#ae9f74a3aaacbfa554231a9a90d1db9f5">app_control_dtmf</a>, dtmf_data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div><div class="ttc" id="structstasis__app__control__dtmf__data_html_a095ceb846c8c874cd3fcc5cdaf6ade81"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a095ceb846c8c874cd3fcc5cdaf6ade81">stasis_app_control_dtmf_data::duration</a></div><div class="ttdeci">unsigned int duration</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00516">control.c:516</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a166d33fd5261da92d3135d77a32ab8bf"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a166d33fd5261da92d3135d77a32ab8bf">stasis_app_control_dtmf_data::between</a></div><div class="ttdeci">int between</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00515">control.c:515</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a98f0e62710c1bdbf9a7b509ba35ca006"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a98f0e62710c1bdbf9a7b509ba35ca006">stasis_app_control_dtmf_data::before</a></div><div class="ttdeci">int before</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00514">control.c:514</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a80fd48191139488d3a94a881884bcd03"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a80fd48191139488d3a94a881884bcd03">stasis_app_control_dtmf_data::dtmf</a></div><div class="ttdeci">char dtmf[]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00518">control.c:518</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a8553ad04554ace7efc8813bb2ffe5862"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a8553ad04554ace7efc8813bb2ffe5862">stasis_app_control_dtmf_data::after</a></div><div class="ttdeci">int after</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00517">control.c:517</a></div></div>
<div class="ttc" id="control_8c_html_ae9f74a3aaacbfa554231a9a90d1db9f5"><div class="ttname"><a href="../../de/de3/control_8c.html#ae9f74a3aaacbfa554231a9a90d1db9f5">app_control_dtmf</a></div><div class="ttdeci">static int app_control_dtmf(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00547">control.c:547</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html">stasis_app_control_dtmf_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00513">control.c:513</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a765833b409f1e57016e7fff07d9e0a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a765833b409f1e57016e7fff07d9e0a01">&#9670;&nbsp;</a></span>stasis_app_control_get_channel_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* stasis_app_control_get_channel_id </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the uniqueid of the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Uniqueid of the associate channel. </dd>
<dd>
<code>NULL</code> if <em>control</em> is <code>NULL</code>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01430">1430</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d26/res__stasis__answer_8c_source.html#l00036">app_control_answer()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01394">app_control_remove_channel_from_bridge()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00803">app_control_silence_start()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00175">check_add_remove_channel()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00270">control_compare()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00248">control_hash()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00837">control_silence_stop_now()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01284">control_swap_channel_in_bridge()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01115">masq_match_cb()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">playback_publish()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00217">recording_publish()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01383">stasis_app_control_add_channel_to_bridge()</a>, <a class="el" href="../../d4/d26/res__stasis__answer_8c_source.html#l00044">stasis_app_control_answer()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00860">stasis_app_control_get_snapshot()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00471">stasis_app_control_play_uri()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00370">stasis_app_control_record()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01420">stasis_app_control_remove_channel_from_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;{</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>);</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e17c5418a4753bb1229f031041a645c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e17c5418a4753bb1229f031041a645c">&#9670;&nbsp;</a></span>stasis_app_control_get_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a>* stasis_app_control_get_snapshot </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the most recent snapshot for the associated channel. </p>
<p>The returned pointer is AO2 managed, so <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a> when you're done.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Most recent snapshot. <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a> when done. </dd>
<dd>
<code>NULL</code> if channel isn't in cache. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00860">860</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00903">ast_channel_snapshot_get_latest()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00357">ari_bridges_play_helper()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00636">ari_channels_handle_play()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00180">ast_ari_channels_continue_in_dialplan()</a>, and <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00108">channel_state_invalid()</a>.</p>
<div class="fragment"><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;{</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a>(<a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;}</div><div class="ttc" id="control_8c_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga68c55b443ba97dc157b493aafd05c876"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a></div><div class="ttdeci">struct ast_channel_snapshot * ast_channel_snapshot_get_latest(const char *uniqueid)</div><div class="ttdoc">Obtain the latest ast_channel_snapshot from the Stasis Message Bus API cache. This is an ao2 object...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00903">stasis_channels.c:903</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9bb10fa5db167b16a211526e13673edf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bb10fa5db167b16a211526e13673edf">&#9670;&nbsp;</a></span>stasis_app_control_hold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_hold </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Place the channel associated with the control on hold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00748">748</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00740">app_control_hold()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00514">ast_ari_channels_hold()</a>.</p>
<div class="fragment"><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;{</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a4653e29c103d9079a7f6a4c3a9c33493">app_control_hold</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a4653e29c103d9079a7f6a4c3a9c33493"><div class="ttname"><a href="../../de/de3/control_8c.html#a4653e29c103d9079a7f6a4c3a9c33493">app_control_hold</a></div><div class="ttdeci">static int app_control_hold(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00740">control.c:740</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a852b7f8db110cea010cf8b430948c70f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a852b7f8db110cea010cf8b430948c70f">&#9670;&nbsp;</a></span>stasis_app_control_inhibit_colp_in_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_inhibit_colp_in_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inhibit_colp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether COLP frames should be generated when joining the bridge. </p>
<dl class="section since"><dt>Since</dt><dd>18 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control whose channel should have its COLP frames inhibited when bridged </td></tr>
    <tr><td class="paramname">mute</td><td>Whether COLP frames should be generated (0) or not (1). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01476">1476</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00068">stasis_app_control::bridge_features</a>, and <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00281">ast_bridge_features::inhibit_colp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;{</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a>-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#aa30fb781e59e7c7b6449914dd9ad08d2">inhibit_colp</a> = inhibit_colp;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;}</div><div class="ttc" id="structast__bridge__features_html_aa30fb781e59e7c7b6449914dd9ad08d2"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#aa30fb781e59e7c7b6449914dd9ad08d2">ast_bridge_features::inhibit_colp</a></div><div class="ttdeci">unsigned int inhibit_colp</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00281">bridge_features.h:281</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a2529c045cb0c75c4a541a1df122560bf"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">stasis_app_control::bridge_features</a></div><div class="ttdeci">struct ast_bridge_features * bridge_features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00068">control.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a11f12c113afa7b94a2ddf80d6d543b23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11f12c113afa7b94a2ddf80d6d543b23">&#9670;&nbsp;</a></span>stasis_app_control_moh_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_moh_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>moh_class</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Play music on hold to a channel (does not affect hold status) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">moh_class</td><td>class of music on hold to play (NULL allowed) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00780">780</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00766">app_control_moh_start()</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00556">ast_ari_channels_start_moh()</a>.</p>
<div class="fragment"><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;{</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   <span class="keywordtype">char</span> *data = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(moh_class)) {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      data = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(moh_class);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#adab9f9bea678c832fbcd8a2eb709a318">app_control_moh_start</a>, data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;}</div><div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="control_8c_html_adab9f9bea678c832fbcd8a2eb709a318"><div class="ttname"><a href="../../de/de3/control_8c.html#adab9f9bea678c832fbcd8a2eb709a318">app_control_moh_start</a></div><div class="ttdeci">static int app_control_moh_start(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00766">control.c:766</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d561aa1d3d4550d16717af2e9ff6c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d561aa1d3d4550d16717af2e9ff6c19">&#9670;&nbsp;</a></span>stasis_app_control_moh_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_moh_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop playing music on hold to a channel (does not affect hold status) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00798">798</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00791">app_control_moh_stop()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00576">ast_ari_channels_stop_moh()</a>.</p>
<div class="fragment"><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;{</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a70288e9dea5dc8bfe9905c7dfe027c21">app_control_moh_stop</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="control_8c_html_a70288e9dea5dc8bfe9905c7dfe027c21"><div class="ttname"><a href="../../de/de3/control_8c.html#a70288e9dea5dc8bfe9905c7dfe027c21">app_control_moh_stop</a></div><div class="ttdeci">static int app_control_moh_stop(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00791">control.c:791</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5df0352d477bb7ff14767cf9d4cd301f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5df0352d477bb7ff14767cf9d4cd301f">&#9670;&nbsp;</a></span>stasis_app_control_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_move </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exit <code>res_stasis</code> and move to another Stasis application. </p>
<p>If the channel is no longer in <code>res_stasis</code>, this function does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code> </td></tr>
    <tr><td class="paramname">app_name</td><td>The name of the application to switch to </td></tr>
    <tr><td class="paramname">app_args</td><td>The list of arguments to pass to the application</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00451">451</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00411">stasis_app_control_move_data::app_args</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00414">app_control_move()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00410">stasis_app_control_move_data::app_name</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00256">ast_ari_channels_move()</a>.</p>
<div class="fragment"><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;{</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html">stasis_app_control_move_data</a> *move_data;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   <span class="keywordtype">size_t</span> size;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   size = <span class="keyword">sizeof</span>(*move_data) + strlen(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>) + 1;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="comment">/* Application arguments are optional */</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      size += strlen(<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>) + 1;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   <span class="keywordflow">if</span> (!(move_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, size))) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a12914590e31661b0e85237aad859c6d6">app_name</a> = (<span class="keywordtype">char</span> *)move_data + <span class="keyword">sizeof</span>(*move_data);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   strcpy(move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a12914590e31661b0e85237aad859c6d6">app_name</a>, <a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>); <span class="comment">/* Safe */</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a> = move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a12914590e31661b0e85237aad859c6d6">app_name</a> + strlen(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>) + 1;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      strcpy(move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>, <a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>); <span class="comment">/* Safe */</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a90bff4e871bdae91a522ec80daf733c7">app_control_move</a>, move_data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div><div class="ttc" id="structstasis__app__control__move__data_html"><div class="ttname"><a href="../../d1/d3b/structstasis__app__control__move__data.html">stasis_app_control_move_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00409">control.c:409</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="control_8c_html_a90bff4e871bdae91a522ec80daf733c7"><div class="ttname"><a href="../../de/de3/control_8c.html#a90bff4e871bdae91a522ec80daf733c7">app_control_move</a></div><div class="ttdeci">static int app_control_move(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00414">control.c:414</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="structstasis__app__control__move__data_html_a85798e1e66e2f62ca8ff39c621d90472"><div class="ttname"><a href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">stasis_app_control_move_data::app_args</a></div><div class="ttdeci">char * app_args</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00411">control.c:411</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="structstasis__app__control__move__data_html_a12914590e31661b0e85237aad859c6d6"><div class="ttname"><a href="../../d1/d3b/structstasis__app__control__move__data.html#a12914590e31661b0e85237aad859c6d6">stasis_app_control_move_data::app_name</a></div><div class="ttdeci">char * app_name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00410">control.c:410</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66191b73a286eb254c6d8ce1ad0f6483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66191b73a286eb254c6d8ce1ad0f6483">&#9670;&nbsp;</a></span>stasis_app_control_mute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_mute </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0">ast_frame_type</a>&#160;</td>
          <td class="paramname"><em>frametype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mute the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">direction</td><td>The direction in which the audio should be muted. </td></tr>
    <tr><td class="paramname">frametype</td><td>The type of stream that should be muted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00631">631</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00619">app_control_mute()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00616">stasis_app_control_mute_data::direction</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00615">stasis_app_control_mute_data::frametype</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00403">ast_ari_channels_mute()</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;{</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a> *mute_data;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   <span class="keywordflow">if</span> (!(mute_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*mute_data)))) {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;   }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   mute_data-&gt;<a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#ac7e977c3f00d50b1cd332813fa428b4d">direction</a> = <a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   mute_data-&gt;<a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a>;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#af206b3b835ca7b2b8008fe063020ce30">app_control_mute</a>, mute_data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;}</div><div class="ttc" id="structstasis__app__control__mute__data_html_ac7e977c3f00d50b1cd332813fa428b4d"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html#ac7e977c3f00d50b1cd332813fa428b4d">stasis_app_control_mute_data::direction</a></div><div class="ttdeci">unsigned int direction</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00616">control.c:616</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">stasis_app_control_mute_data::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00615">control.c:615</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00614">control.c:614</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="control_8c_html_af206b3b835ca7b2b8008fe063020ce30"><div class="ttname"><a href="../../de/de3/control_8c.html#af206b3b835ca7b2b8008fe063020ce30">app_control_mute</a></div><div class="ttdeci">static int app_control_mute(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00619">control.c:619</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="func__frame__drop_8c_html_a99f26e6ee9fcd62f75203b5402df8098"><div class="ttname"><a href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8b/func__frame__drop_8c_source.html#l00137">func_frame_drop.c:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a00a8e7b7b8dad6e8559c7ee699a2b163"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00a8e7b7b8dad6e8559c7ee699a2b163">&#9670;&nbsp;</a></span>stasis_app_control_mute_in_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_mute_in_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether audio from the channel is muted instead of passing through to the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control whose channel should have its audio muted when bridged </td></tr>
    <tr><td class="paramname">mute</td><td>Whether audio should be muted (1) instead of passed through (0). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01470">1470</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00068">stasis_app_control::bridge_features</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00144">mute</a>, and <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00277">ast_bridge_features::mute</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;{</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a>-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#aa09e22acd94cd548a204c100e11fd612">mute</a> = <a class="code" href="../../da/d45/chan__alsa_8c.html#a29128ae5c15a12dea5fe4f263ba6cec1">mute</a>;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;}</div><div class="ttc" id="structast__bridge__features_html_aa09e22acd94cd548a204c100e11fd612"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#aa09e22acd94cd548a204c100e11fd612">ast_bridge_features::mute</a></div><div class="ttdeci">unsigned int mute</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00277">bridge_features.h:277</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a29128ae5c15a12dea5fe4f263ba6cec1"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a29128ae5c15a12dea5fe4f263ba6cec1">mute</a></div><div class="ttdeci">static int mute</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00144">chan_alsa.c:144</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a2529c045cb0c75c4a541a1df122560bf"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">stasis_app_control::bridge_features</a></div><div class="ttdeci">struct ast_bridge_features * bridge_features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00068">control.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a59eacac6d5939ac31361047ec04b34a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59eacac6d5939ac31361047ec04b34a3">&#9670;&nbsp;</a></span>stasis_app_control_publish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_publish </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish a message to the <em>control's</em> channel's topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control to publish to </td></tr>
    <tr><td class="paramname">message</td><td>Message to publish </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01436">1436</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01502">ast_channel_topic()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">playback_publish()</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00217">recording_publish()</a>.</p>
<div class="fragment"><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;{</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;   <span class="keywordflow">if</span> (!control || !control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a> || !message) {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;   }</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>), message);</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="channel_8h_html_afdeaf9abb1aecc715313a4f62c1cf9c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a></div><div class="ttdeci">struct stasis_topic * ast_channel_topic(struct ast_channel *chan)</div><div class="ttdoc">A topic which publishes the events for a particular channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01502">channel_internal_api.c:1502</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1925743427fa1e058f5059e3b2de4d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1925743427fa1e058f5059e3b2de4d28">&#9670;&nbsp;</a></span>stasis_app_control_queue_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_queue_control </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390">ast_control_frame_type</a>&#160;</td>
          <td class="paramname"><em>frame_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue a control frame without payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control to publish to. </td></tr>
    <tr><td class="paramname">frame_type</td><td>type of control frame.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>zero on success </dd>
<dd>
non-zero on failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01445">1445</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l01231">ast_queue_control()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00665">playback_forward()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00623">playback_pause()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00611">playback_restart()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00653">playback_reverse()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00598">playback_stop()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00638">playback_unpause()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00519">recording_cancel()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00550">recording_mute()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00536">recording_pause()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00529">recording_stop()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00562">recording_unmute()</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00543">recording_unpause()</a>.</p>
<div class="fragment"><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;{</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, <a class="code" href="../../d1/d46/codec__builtin_8c.html#a3ca2c0bc7578bf3d337e34b2c08a6c5f">frame_type</a>);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;}</div><div class="ttc" id="channel_8h_html_a60f9d2b0ab8b7a839902313321163b28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a></div><div class="ttdeci">int ast_queue_control(struct ast_channel *chan, enum ast_control_frame_type control)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01231">channel.c:1231</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="codec__builtin_8c_html_a3ca2c0bc7578bf3d337e34b2c08a6c5f"><div class="ttname"><a href="../../d1/d46/codec__builtin_8c.html#a3ca2c0bc7578bf3d337e34b2c08a6c5f">frame_type</a></div><div class="ttdeci">frame_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d46/codec__builtin_8c_source.html#l00044">codec_builtin.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a22aa0f953281ff836d394667b9bd24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a22aa0f953281ff836d394667b9bd24">&#9670;&nbsp;</a></span>stasis_app_control_redirect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_redirect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Redirect a channel in <code>res_stasis</code> to a particular endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code> </td></tr>
    <tr><td class="paramname">endpoint</td><td>The endpoint transfer string where the channel should be sent to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00500">500</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00481">app_control_redirect()</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00276">ast_ari_channels_redirect()</a>.</p>
<div class="fragment"><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;{</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <span class="keywordtype">char</span> *endpoint_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(endpoint);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   <span class="keywordflow">if</span> (!endpoint_data) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#ab82e6365fb64203b387d8a5bf6a52ac5">app_control_redirect</a>, endpoint_data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div><div class="ttc" id="control_8c_html_ab82e6365fb64203b387d8a5bf6a52ac5"><div class="ttname"><a href="../../de/de3/control_8c.html#ab82e6365fb64203b387d8a5bf6a52ac5">app_control_redirect</a></div><div class="ttdeci">static int app_control_redirect(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00481">control.c:481</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acf20b6f2b70956f1d88829c37708f080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf20b6f2b70956f1d88829c37708f080">&#9670;&nbsp;</a></span>stasis_app_control_register_add_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_register_add_rule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *&#160;</td>
          <td class="paramname"><em>rule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers an add channel to bridge rule. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object </td></tr>
    <tr><td class="paramname">rule</td><td>The rule to register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00217">217</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00076">stasis_app_control::add_rules</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00162">app_control_register_rule()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00370">stasis_app_control_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#aabc48b9e01f22f6dae4bb2d461187411">app_control_register_rule</a>(control, &amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">add_rules</a>, rule);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div><div class="ttc" id="control_8c_html_aabc48b9e01f22f6dae4bb2d461187411"><div class="ttname"><a href="../../de/de3/control_8c.html#aabc48b9e01f22f6dae4bb2d461187411">app_control_register_rule</a></div><div class="ttdeci">static void app_control_register_rule(struct stasis_app_control *control, struct app_control_rules *list, struct stasis_app_control_rule *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00162">control.c:162</a></div></div>
<div class="ttc" id="structstasis__app__control_html_abf7d53da04a131747a4ce76b04db91a1"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">stasis_app_control::add_rules</a></div><div class="ttdeci">struct app_control_rules add_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00076">control.c:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a02ffd34c4da0bc15d8334aa2983157f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02ffd34c4da0bc15d8334aa2983157f3">&#9670;&nbsp;</a></span>stasis_app_control_register_remove_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_register_remove_rule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *&#160;</td>
          <td class="paramname"><em>rule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a remove channel from bridge rule. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object </td></tr>
    <tr><td class="paramname">rule</td><td>The rule to register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00231">231</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00162">app_control_register_rule()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00080">stasis_app_control::remove_rules</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#aabc48b9e01f22f6dae4bb2d461187411">app_control_register_rule</a>(control, &amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">remove_rules</a>, rule);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_aa7fd7031cc99ac223f890dc031cb2c61"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">stasis_app_control::remove_rules</a></div><div class="ttdeci">struct app_control_rules remove_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00080">control.c:80</a></div></div>
<div class="ttc" id="control_8c_html_aabc48b9e01f22f6dae4bb2d461187411"><div class="ttname"><a href="../../de/de3/control_8c.html#aabc48b9e01f22f6dae4bb2d461187411">app_control_register_rule</a></div><div class="ttdeci">static void app_control_register_rule(struct stasis_app_control *control, struct app_control_rules *list, struct stasis_app_control_rule *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00162">control.c:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a874dcd52a4209a376cfdd082ec21725b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a874dcd52a4209a376cfdd082ec21725b">&#9670;&nbsp;</a></span>stasis_app_control_remove_channel_from_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_remove_channel_from_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a channel from the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control whose channel should be removed from the bridge </td></tr>
    <tr><td class="paramname">bridge</td><td>Pointer to the bridge</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>non-zero on failure </dd>
<dd>
zero on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01420">1420</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00251">app_control_can_remove_channel_from_bridge()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01394">app_control_remove_channel_from_bridge()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00866">app_send_command_on_condition()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00241">ast_ari_bridges_remove_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;{</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Sending channel remove_from_bridge command\n&quot;</span>,</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;         <a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a85b0a5b1bb2e49db6d60d35adc39f708">app_send_command_on_condition</a>(</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      control, <a class="code" href="../../de/de3/control_8c.html#a5a96e2cba9e2ab9d6c8d79df3e6dba74">app_control_remove_channel_from_bridge</a>, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#ac4db81e0854e76fd148dfaa29d129172">app_control_can_remove_channel_from_bridge</a>);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;}</div><div class="ttc" id="control_8c_html_ac4db81e0854e76fd148dfaa29d129172"><div class="ttname"><a href="../../de/de3/control_8c.html#ac4db81e0854e76fd148dfaa29d129172">app_control_can_remove_channel_from_bridge</a></div><div class="ttdeci">static int app_control_can_remove_channel_from_bridge(struct stasis_app_control *control)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00251">control.c:251</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a5a96e2cba9e2ab9d6c8d79df3e6dba74"><div class="ttname"><a href="../../de/de3/control_8c.html#a5a96e2cba9e2ab9d6c8d79df3e6dba74">app_control_remove_channel_from_bridge</a></div><div class="ttdeci">static int app_control_remove_channel_from_bridge(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01394">control.c:1394</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="control_8c_html_a85b0a5b1bb2e49db6d60d35adc39f708"><div class="ttname"><a href="../../de/de3/control_8c.html#a85b0a5b1bb2e49db6d60d35adc39f708">app_send_command_on_condition</a></div><div class="ttdeci">static int app_send_command_on_condition(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor, app_command_can_exec_cb can_exec_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00866">control.c:866</a></div></div>
<div class="ttc" id="control_8c_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af9717bc28b2e5847e2d227c27bfe9116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9717bc28b2e5847e2d227c27bfe9116">&#9670;&nbsp;</a></span>stasis_app_control_ring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_ring </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate ringing to the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success. </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00592">592</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00584">app_control_ring()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00363">ast_ari_channels_ring()</a>.</p>
<div class="fragment"><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;{</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a074df8a441fbbb2f7d17b77066ef69ec">app_control_ring</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="control_8c_html_a074df8a441fbbb2f7d17b77066ef69ec"><div class="ttname"><a href="../../de/de3/control_8c.html#a074df8a441fbbb2f7d17b77066ef69ec">app_control_ring</a></div><div class="ttdeci">static int app_control_ring(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00584">control.c:584</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab53d6f93bf8ba651ab404eaf855d4027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab53d6f93bf8ba651ab404eaf855d4027">&#9670;&nbsp;</a></span>stasis_app_control_ring_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_ring_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop locally generated ringing on the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success. </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00607">607</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00599">app_control_ring_stop()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00383">ast_ari_channels_ring_stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a45dc158dc10eb87494e48b5ed680dd3b">app_control_ring_stop</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a45dc158dc10eb87494e48b5ed680dd3b"><div class="ttname"><a href="../../de/de3/control_8c.html#a45dc158dc10eb87494e48b5ed680dd3b">app_control_ring_stop</a></div><div class="ttdeci">static int app_control_ring_stop(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00599">control.c:599</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb085c198d616b3317f7327fd7e5fc7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb085c198d616b3317f7327fd7e5fc7b">&#9670;&nbsp;</a></span>stasis_app_control_set_channel_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_set_channel_var </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>variable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a variable on the channel associated with this control to value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">variable</td><td>The name of the variable </td></tr>
    <tr><td class="paramname">value</td><td>The value to set the variable to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success. </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00711">711</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00701">app_control_set_channel_var()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00692">free_chanvar()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00687">chanvar::name</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00689">chanvar::value</a>, and <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01541">ast_ari_channels_set_channel_var()</a>.</p>
<div class="fragment"><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d5b/structchanvar.html">chanvar</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   var = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*var));</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <span class="keywordflow">if</span> (!var) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   }</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   var-&gt;<a class="code" href="../../d8/d5b/structchanvar.html#a5ac083a645d964373f022d03df4849c8">name</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(variable);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;   <span class="keywordflow">if</span> (!var-&gt;<a class="code" href="../../d8/d5b/structchanvar.html#a5ac083a645d964373f022d03df4849c8">name</a>) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a5790d48a3f75e992801bfb908007808d">free_chanvar</a>(var);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   <span class="comment">/* It&#39;s kosher for value to be NULL. It means the variable is being unset */</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>) {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      var-&gt;<a class="code" href="../../d8/d5b/structchanvar.html#a4e9aec275e566b978a3ccb4e043d8c61">value</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">if</span> (!var-&gt;<a class="code" href="../../d8/d5b/structchanvar.html#a4e9aec275e566b978a3ccb4e043d8c61">value</a>) {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;         <a class="code" href="../../de/de3/control_8c.html#a5790d48a3f75e992801bfb908007808d">free_chanvar</a>(var);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;   }</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a19fc689d2b73f93a4f97b72580bece24">app_control_set_channel_var</a>, var, <a class="code" href="../../de/de3/control_8c.html#a5790d48a3f75e992801bfb908007808d">free_chanvar</a>);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;}</div><div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structchanvar_html_a4e9aec275e566b978a3ccb4e043d8c61"><div class="ttname"><a href="../../d8/d5b/structchanvar.html#a4e9aec275e566b978a3ccb4e043d8c61">chanvar::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00689">control.c:689</a></div></div>
<div class="ttc" id="control_8c_html_a19fc689d2b73f93a4f97b72580bece24"><div class="ttname"><a href="../../de/de3/control_8c.html#a19fc689d2b73f93a4f97b72580bece24">app_control_set_channel_var</a></div><div class="ttdeci">static int app_control_set_channel_var(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00701">control.c:701</a></div></div>
<div class="ttc" id="control_8c_html_a5790d48a3f75e992801bfb908007808d"><div class="ttname"><a href="../../de/de3/control_8c.html#a5790d48a3f75e992801bfb908007808d">free_chanvar</a></div><div class="ttdeci">static void free_chanvar(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00692">control.c:692</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structchanvar_html"><div class="ttname"><a href="../../d8/d5b/structchanvar.html">chanvar</a></div><div class="ttdoc">structure for queuing ARI channel variable setting </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00685">control.c:685</a></div></div>
<div class="ttc" id="structchanvar_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="../../d8/d5b/structchanvar.html#a5ac083a645d964373f022d03df4849c8">chanvar::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00687">control.c:687</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb45df1051fd2fa2cbf88b1c00ed13ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb45df1051fd2fa2cbf88b1c00ed13ea">&#9670;&nbsp;</a></span>stasis_app_control_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Let Stasis app internals shut down. </p>
<p>This is called when res_stasis is unloaded. It ensures that the Stasis app internals can free any resources they may have allocated during the time that res_stasis was loaded. </p>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01680">1680</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00959">dial_bridge_lock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00049">shutting_down</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02195">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;{</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../de/de3/control_8c.html#adcfa0faf18325b705ddf432c7471eb9f">dial_bridge_lock</a>);</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a7f68568851b9c7f9291f7bb63f932c18">shutting_down</a> = 1;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a>) {</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(<a class="code" href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a>, 0);</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;   }</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../de/de3/control_8c.html#adcfa0faf18325b705ddf432c7471eb9f">dial_bridge_lock</a>);</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;}</div><div class="ttc" id="bridge_8h_html_a4adad484788bb018b8699eeed2ddfedd"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a></div><div class="ttdeci">int ast_bridge_destroy(struct ast_bridge *bridge, int cause)</div><div class="ttdoc">Destroy a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00970">bridge.c:970</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_adcfa0faf18325b705ddf432c7471eb9f"><div class="ttname"><a href="../../de/de3/control_8c.html#adcfa0faf18325b705ddf432c7471eb9f">dial_bridge_lock</a></div><div class="ttdeci">static ast_mutex_t dial_bridge_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00959">control.c:959</a></div></div>
<div class="ttc" id="control_8c_html_a7f68568851b9c7f9291f7bb63f932c18"><div class="ttname"><a href="../../de/de3/control_8c.html#a7f68568851b9c7f9291f7bb63f932c18">shutting_down</a></div><div class="ttdeci">static int shutting_down</div><div class="ttdoc">Indicates if the Stasis app internals are being shut down. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00049">control.c:49</a></div></div>
<div class="ttc" id="control_8c_html_a69021b7db180f22656f9cb2dbd1b164d"><div class="ttname"><a href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a></div><div class="ttdeci">static struct ast_bridge * dial_bridge</div><div class="ttdoc">Singleton dial bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00958">control.c:958</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b8ee9ca3a0ed85ce482681b0e6d9b45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b8ee9ca3a0ed85ce482681b0e6d9b45">&#9670;&nbsp;</a></span>stasis_app_control_silence_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_silence_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start playing silence to a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00832">832</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00803">app_control_silence_start()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00596">ast_ari_channels_start_silence()</a>.</p>
<div class="fragment"><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;{</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#ad2e70048883c70922830aaa9600bcd0e">app_control_silence_start</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_ad2e70048883c70922830aaa9600bcd0e"><div class="ttname"><a href="../../de/de3/control_8c.html#ad2e70048883c70922830aaa9600bcd0e">app_control_silence_start</a></div><div class="ttdeci">static int app_control_silence_start(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00803">control.c:803</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c7239c782e4db64d0e0ddcbcd4283cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c7239c782e4db64d0e0ddcbcd4283cd">&#9670;&nbsp;</a></span>stasis_app_control_silence_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_silence_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop playing silence to a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00855">855</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00848">app_control_silence_stop()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00616">ast_ari_channels_stop_silence()</a>.</p>
<div class="fragment"><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;{</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#aeee6fea0a89d292b9bc9734d89911887">app_control_silence_stop</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_aeee6fea0a89d292b9bc9734d89911887"><div class="ttname"><a href="../../de/de3/control_8c.html#aeee6fea0a89d292b9bc9734d89911887">app_control_silence_stop</a></div><div class="ttdeci">static int app_control_silence_stop(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00848">control.c:848</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2719b9cb8ef3ef44ad550fc3818d7264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2719b9cb8ef3ef44ad550fc3818d7264">&#9670;&nbsp;</a></span>stasis_app_control_unhold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_unhold </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the channel associated with the control from hold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00761">761</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00753">app_control_unhold()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00535">ast_ari_channels_unhold()</a>.</p>
<div class="fragment"><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;{</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a501edf1bcdec7b645a2cdafe5f81cc9c">app_control_unhold</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div><div class="ttc" id="control_8c_html_a501edf1bcdec7b645a2cdafe5f81cc9c"><div class="ttname"><a href="../../de/de3/control_8c.html#a501edf1bcdec7b645a2cdafe5f81cc9c">app_control_unhold</a></div><div class="ttdeci">static int app_control_unhold(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00753">control.c:753</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a221cfaccbc5c213fa0e56aacdc611669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a221cfaccbc5c213fa0e56aacdc611669">&#9670;&nbsp;</a></span>stasis_app_control_unmute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_unmute </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0">ast_frame_type</a>&#160;</td>
          <td class="paramname"><em>frametype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmute the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">direction</td><td>The direction in which the audio should be unmuted. </td></tr>
    <tr><td class="paramname">frametype</td><td>The type of stream that should be unmuted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00659">659</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00647">app_control_unmute()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00616">stasis_app_control_mute_data::direction</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00615">stasis_app_control_mute_data::frametype</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00445">ast_ari_channels_unmute()</a>.</p>
<div class="fragment"><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a> *mute_data;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   <span class="keywordflow">if</span> (!(mute_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*mute_data)))) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   mute_data-&gt;<a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#ac7e977c3f00d50b1cd332813fa428b4d">direction</a> = <a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   mute_data-&gt;<a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a>;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#aab09c03411cd3d45fab0810d88203202">app_control_unmute</a>, mute_data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;}</div><div class="ttc" id="structstasis__app__control__mute__data_html_ac7e977c3f00d50b1cd332813fa428b4d"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html#ac7e977c3f00d50b1cd332813fa428b4d">stasis_app_control_mute_data::direction</a></div><div class="ttdeci">unsigned int direction</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00616">control.c:616</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="control_8c_html_aab09c03411cd3d45fab0810d88203202"><div class="ttname"><a href="../../de/de3/control_8c.html#aab09c03411cd3d45fab0810d88203202">app_control_unmute</a></div><div class="ttdeci">static int app_control_unmute(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00647">control.c:647</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">stasis_app_control_mute_data::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00615">control.c:615</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00614">control.c:614</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="func__frame__drop_8c_html_a99f26e6ee9fcd62f75203b5402df8098"><div class="ttname"><a href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8b/func__frame__drop_8c_source.html#l00137">func_frame_drop.c:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa038e171bcc2b5e09a09100063141ea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa038e171bcc2b5e09a09100063141ea1">&#9670;&nbsp;</a></span>stasis_app_control_unregister_add_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_unregister_add_rule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *&#160;</td>
          <td class="paramname"><em>rule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UnRegister an add channel to bridge rule. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object </td></tr>
    <tr><td class="paramname">rule</td><td>The rule to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00224">224</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00076">stasis_app_control::add_rules</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00171">app_control_unregister_rule()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00296">record_file()</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00277">recording_fail()</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a00d4eea6bbae3414fe25afb3a47baf83">app_control_unregister_rule</a>(control, &amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">add_rules</a>, rule);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div><div class="ttc" id="control_8c_html_a00d4eea6bbae3414fe25afb3a47baf83"><div class="ttname"><a href="../../de/de3/control_8c.html#a00d4eea6bbae3414fe25afb3a47baf83">app_control_unregister_rule</a></div><div class="ttdeci">static void app_control_unregister_rule(struct stasis_app_control *control, struct app_control_rules *list, struct stasis_app_control_rule *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00171">control.c:171</a></div></div>
<div class="ttc" id="structstasis__app__control_html_abf7d53da04a131747a4ce76b04db91a1"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">stasis_app_control::add_rules</a></div><div class="ttdeci">struct app_control_rules add_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00076">control.c:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f688a3d2e7d4bf0119dba4b6557ebc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f688a3d2e7d4bf0119dba4b6557ebc8">&#9670;&nbsp;</a></span>stasis_app_control_unregister_remove_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_unregister_remove_rule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *&#160;</td>
          <td class="paramname"><em>rule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregisters a remove channel from bridge rule. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object </td></tr>
    <tr><td class="paramname">rule</td><td>The rule to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00238">238</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00171">app_control_unregister_rule()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00080">stasis_app_control::remove_rules</a>.</p>
<div class="fragment"><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;{</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a00d4eea6bbae3414fe25afb3a47baf83">app_control_unregister_rule</a>(control, &amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">remove_rules</a>, rule);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_aa7fd7031cc99ac223f890dc031cb2c61"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">stasis_app_control::remove_rules</a></div><div class="ttdeci">struct app_control_rules remove_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00080">control.c:80</a></div></div>
<div class="ttc" id="control_8c_html_a00d4eea6bbae3414fe25afb3a47baf83"><div class="ttname"><a href="../../de/de3/control_8c.html#a00d4eea6bbae3414fe25afb3a47baf83">app_control_unregister_rule</a></div><div class="ttdeci">static void app_control_unregister_rule(struct stasis_app_control *control, struct app_control_rules *list, struct stasis_app_control_rule *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00171">control.c:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a00eec5811d50eb68749bf440708e156b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00eec5811d50eb68749bf440708e156b">&#9670;&nbsp;</a></span>stasis_app_get_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* stasis_app_get_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the bridge currently associated with a control object. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the bridge returned by this function is to be held for any length of time, its refcount should be incremented until the caller is finished with it.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object for the channel to query.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Associated <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>. </dd>
<dd>
<code>NULL</code> if not associated with a bridge. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00931">931</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00064">stasis_app_control::bridge</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00368">app_control_continue()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00547">app_control_dtmf()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01394">app_control_remove_channel_from_bridge()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00241">ast_ari_bridges_remove_channel()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l01016">ast_ari_bridges_set_video_source()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01284">control_swap_channel_in_bridge()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00418">play_uri()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00296">record_file()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;{</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *ret;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   <span class="keywordflow">if</span> (!control) {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   }</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   ret = control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">stasis_app_control::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00064">control.c:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3ab1b352f21ccf730bb3bc94a1074fd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ab1b352f21ccf730bb3bc94a1074fd6">&#9670;&nbsp;</a></span>stasis_app_send_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_send_command </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a816a21221be6d5a93cc55b8cb97d46ab">stasis_app_command_cb</a>&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a66ead0f2f762f64bbad7eb8a026cf62c">command_data_destructor_fn</a>&#160;</td>
          <td class="paramname"><em>data_destructor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invokes a <em>command</em> on a <em>control's</em> channel. </p>
<dl class="section since"><dt>Since</dt><dd>12 This function dispatches the command to be executed in the context of <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a191ce41140cf0af9be11f05be98b66ce" title="Control a channel using stasis_app. ">stasis_app_exec()</a>, so this command will block waiting for the results of the command.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object for the channel to send the command to. </td></tr>
    <tr><td class="paramname">command</td><td>Command function to execute. </td></tr>
    <tr><td class="paramname">data</td><td>Optional data to pass along with the control function. </td></tr>
    <tr><td class="paramname">data_destructor</td><td>Optional function which will be called on the data in either the event of command completion or failure to schedule or complete the command</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>zero on success. </dd>
<dd>
error code otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00898">898</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00866">app_send_command_on_condition()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l01016">ast_ari_bridges_set_video_source()</a>, and <a class="el" href="../../d4/d26/res__stasis__answer_8c_source.html#l00044">stasis_app_control_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;{</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a85b0a5b1bb2e49db6d60d35adc39f708">app_send_command_on_condition</a>(control, command_fn, data, data_destructor, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a85b0a5b1bb2e49db6d60d35adc39f708"><div class="ttname"><a href="../../de/de3/control_8c.html#a85b0a5b1bb2e49db6d60d35adc39f708">app_send_command_on_condition</a></div><div class="ttdeci">static int app_send_command_on_condition(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor, app_command_can_exec_cb can_exec_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00866">control.c:866</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c301f329a1303e3138af437527edda9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c301f329a1303e3138af437527edda9">&#9670;&nbsp;</a></span>stasis_app_send_command_async()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_send_command_async </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a816a21221be6d5a93cc55b8cb97d46ab">stasis_app_command_cb</a>&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a66ead0f2f762f64bbad7eb8a026cf62c">command_data_destructor_fn</a>&#160;</td>
          <td class="paramname"><em>data_destructor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous version of <a class="el" href="../../de/d0b/stasis__app__impl_8h.html#a36343c21d88758d9df3ff6aa217caf5d" title="Invokes a command on a control&#39;s channel. ">stasis_app_send_command()</a>. </p>
<dl class="section since"><dt>Since</dt><dd>12 This function enqueues a command for execution, but returns immediately without waiting for the response.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object for the channel to send the command to. </td></tr>
    <tr><td class="paramname">command</td><td>Command function to execute. </td></tr>
    <tr><td class="paramname">data</td><td>Optional data to pass along with the control function. </td></tr>
    <tr><td class="paramname">data_destructor</td><td>Optional function which will be called on the data in either the event of command completion or failure to schedule or complete the command </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd>
<dd>
Non-zero on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00904">904</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00038">stasis_app_command::data_destructor</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00301">exec_command()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01215">bridge_timeout()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01009">dial_bridge_after_cb()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01108">internal_bridge_after_cb()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00316">stasis_app_control_add_role()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00338">stasis_app_control_clear_roles()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00389">stasis_app_control_continue()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01666">stasis_app_control_dial()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00565">stasis_app_control_dtmf()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00748">stasis_app_control_hold()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00780">stasis_app_control_moh_start()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00798">stasis_app_control_moh_stop()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00451">stasis_app_control_move()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00631">stasis_app_control_mute()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00471">stasis_app_control_play_uri()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00370">stasis_app_control_record()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00500">stasis_app_control_redirect()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00592">stasis_app_control_ring()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00607">stasis_app_control_ring_stop()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00711">stasis_app_control_set_channel_var()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00832">stasis_app_control_silence_start()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00855">stasis_app_control_silence_stop()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00761">stasis_app_control_unhold()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00659">stasis_app_control_unmute()</a>.</p>
<div class="fragment"><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;{</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a> *command;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   <span class="keywordflow">if</span> (control == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || control-&gt;is_done) {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="comment">/* If exec_command fails, it calls the data_destructor. In order to</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">       * provide consistent behavior, we&#39;ll also call the data_destructor</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">       * on this error path. This way, callers never have to call the</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">       * data_destructor themselves.</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d41/structstasis__app__command.html#a4e3605fea633c7eeb14d4fa7dae7813b">data_destructor</a>) {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;         <a class="code" href="../../d0/d41/structstasis__app__command.html#a4e3605fea633c7eeb14d4fa7dae7813b">data_destructor</a>(<a class="code" href="../../d0/d41/structstasis__app__command.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      }</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   }</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   command = <a class="code" href="../../de/de3/control_8c.html#a042492cd8c48f148a8107214bb9d1db2">exec_command</a>(control, command_fn, <a class="code" href="../../d0/d41/structstasis__app__command.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <a class="code" href="../../d0/d41/structstasis__app__command.html#a4e3605fea633c7eeb14d4fa7dae7813b">data_destructor</a>);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <span class="keywordflow">if</span> (!command) {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;   }</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(command, -1);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;}</div><div class="ttc" id="structstasis__app__command_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html#a735984d41155bc1032e09bece8f8d66d">stasis_app_command::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00037">command.c:37</a></div></div>
<div class="ttc" id="control_8c_html_a042492cd8c48f148a8107214bb9d1db2"><div class="ttname"><a href="../../de/de3/control_8c.html#a042492cd8c48f148a8107214bb9d1db2">exec_command</a></div><div class="ttdeci">static struct stasis_app_command * exec_command(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00301">control.c:301</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app__command_html_a4e3605fea633c7eeb14d4fa7dae7813b"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html#a4e3605fea633c7eeb14d4fa7dae7813b">stasis_app_command::data_destructor</a></div><div class="ttdeci">command_data_destructor_fn data_destructor</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00038">command.c:38</a></div></div>
<div class="ttc" id="structstasis__app__command_html"><div class="ttname"><a href="../../d0/d41/structstasis__app__command.html">stasis_app_command</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00033">command.c:33</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a69021b7db180f22656f9cb2dbd1b164d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69021b7db180f22656f9cb2dbd1b164d">&#9670;&nbsp;</a></span>dial_bridge</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* dial_bridge</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Singleton dial bridge. </p>
<p>The dial bridge is a holding bridge used to hold all outbound dialed channels that are not in any "real" ARI-created bridge. The dial bridge is invisible, meaning that it does not show up in channel snapshots, AMI or ARI output, and no events get raised for it.</p>
<p>This is used to keep dialed channels confined to the bridging system and unify the threading model used for dialing outbound channels. </p>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00958">958</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

</div>
</div>
<a id="adcfa0faf18325b705ddf432c7471eb9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcfa0faf18325b705ddf432c7471eb9f">&#9670;&nbsp;</a></span>dial_bridge_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> dial_bridge_lock = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00959">959</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00974">get_dial_bridge()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01680">stasis_app_control_shutdown()</a>.</p>

</div>
</div>
<a id="a7f68568851b9c7f9291f7bb63f932c18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f68568851b9c7f9291f7bb63f932c18">&#9670;&nbsp;</a></span>shutting_down</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int shutting_down</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates if the Stasis app internals are being shut down. </p>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00049">49</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00974">get_dial_bridge()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01680">stasis_app_control_shutdown()</a>.</p>

</div>
</div>
<a id="a6eccae97d4224bab1de485a833dde6f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eccae97d4224bab1de485a833dde6f6">&#9670;&nbsp;</a></span>timeout_datastore</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> timeout_datastore</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .type = <span class="stringliteral">&quot;ARI dial timeout&quot;</span>,</div><div class="line">}</div></div><!-- fragment -->
<p>Dial timeout datastore. </p>
<p>A datastore is used because a channel may change bridges during the course of a dial attempt. This may be because the channel changes from the dial bridge to a standard bridge, or it may move between standard bridges. In order to keep the dial timeout, we need to keep the timeout information local to the channel. That is what this datastore is for </p>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01192">1192</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:45:44 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
