<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_http_post.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">res_http_post.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>HTTP POST upload support for Asterisk HTTP server.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;gmime/gmime.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../df/d90/linkedlists_8h_source.html">asterisk/linkedlists.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d56/http_8h_source.html">asterisk/http.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/df2/paths_8h_source.html">asterisk/paths.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/ddf/tcptls_8h_source.html">asterisk/tcptls.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d45/manager_8h_source.html">asterisk/manager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/db9/ast__version_8h_source.html">asterisk/ast_version.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_http_post.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d12/res__http__post_8c__incl.png" border="0" usemap="#res__http__post_8c" alt=""/></div>
<map name="res__http__post_8c" id="res__http__post_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="697,304,781,331"/>
<area shape="rect" id="node25" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1301,229,1452,256"/>
<area shape="rect" id="node34" href="../../dd/d56/http_8h.html" title="Support for Private Asterisk HTTP Servers. " alt="" coords="1362,80,1477,107"/>
<area shape="rect" id="node40" href="../../d4/ddf/tcptls_8h.html" title="Generic support for tcp/tls servers in Asterisk. " alt="" coords="879,155,1002,181"/>
<area shape="rect" id="node43" href="../../dd/df2/paths_8h.html" title="Asterisk file paths, configured in asterisk.conf. " alt="" coords="1163,80,1287,107"/>
<area shape="rect" id="node44" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="1623,80,1768,107"/>
<area shape="rect" id="node48" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="1026,155,1127,181"/>
<area shape="rect" id="node49" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="1151,155,1287,181"/>
<area shape="rect" id="node50" href="../../d5/db9/ast__version_8h.html" title="Asterisk version information. " alt="" coords="1792,80,1953,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1405,453,1559,480"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="551,379,688,405"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="712,379,847,405"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="1409,528,1555,555"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1659,453,1801,480"/>
<area shape="rect" id="node26" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1417,304,1531,331"/>
<area shape="rect" id="node28" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1512,379,1575,405"/>
<area shape="rect" id="node29" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1901,453,2047,480"/>
<area shape="rect" id="node32" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="1599,379,1749,405"/>
<area shape="rect" id="node33" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1309,379,1436,405"/>
<area shape="rect" id="node35" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="1413,155,1540,181"/>
<area shape="rect" id="node36" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1162,229,1277,256"/>
<area shape="rect" id="node37" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="1873,304,2011,331"/>
<area shape="rect" id="node38" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1555,304,1713,331"/>
<area shape="rect" id="node39" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="989,304,1119,331"/>
<area shape="rect" id="node41" href="../../dd/d27/iostream_8h.html" title="Generic abstraction for input/output streams. " alt="" coords="667,229,812,256"/>
<area shape="rect" id="node42" href="../../db/df1/netsock2_8h.html" title="Network socket handling. " alt="" coords="938,229,1085,256"/>
<area shape="rect" id="node45" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1564,155,1715,181"/>
<area shape="rect" id="node46" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="1736,229,1871,256"/>
<area shape="rect" id="node47" href="../../d0/d62/xml_8h.html" title="Asterisk XML abstraction layer. " alt="" coords="1737,304,1848,331"/>
</map>
</div>
</div>
<p><a href="../../d6/dc9/res__http__post_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d62/structmime__cbinfo.html">mime_cbinfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aecb32037d29b6d4c9d903ba03b56f065"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#aecb32037d29b6d4c9d903ba03b56f065">MAX_PREFIX</a>&#160;&#160;&#160;80</td></tr>
<tr class="separator:aecb32037d29b6d4c9d903ba03b56f065"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a92a4c9d95875dd9d4c17ab41118e429f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#a92a4c9d95875dd9d4c17ab41118e429f">__ast_http_post_load</a> (int <a class="el" href="../../dc/d6b/res__xmpp_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>)</td></tr>
<tr class="separator:a92a4c9d95875dd9d4c17ab41118e429f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a792062a4f32107db7d58fb15073bdf43"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#a792062a4f32107db7d58fb15073bdf43">find_sequence</a> (char *<a class="el" href="../../dc/df4/app__voicemail_8c.html#ac70fbae4ed48b5b48ff4b49f01e29f86">inbuf</a>, int inlen, char *matchbuf, int matchlen)</td></tr>
<tr class="separator:a792062a4f32107db7d58fb15073bdf43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93bdef63b01ffa0fe47594c9e3e7ab8b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#a93bdef63b01ffa0fe47594c9e3e7ab8b">http_post_callback</a> (struct <a class="el" href="../../d6/d49/structast__tcptls__session__instance.html">ast_tcptls_session_instance</a> *ser, const struct <a class="el" href="../../d0/d6c/structast__http__uri.html">ast_http_uri</a> *urih, const char *uri, enum <a class="el" href="../../dd/d56/http_8h.html#a16fb43ed7e6093a9dc96477ba37b80ef">ast_http_method</a> <a class="el" href="../../de/d96/res__pjsip_8c.html#a8b44a03925325ceaf2de7b079b1541a1">method</a>, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *get_vars, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *headers)</td></tr>
<tr class="separator:a93bdef63b01ffa0fe47594c9e3e7ab8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba03bdc5d993dc34ed6706868a09583d"><td class="memItemLeft" align="right" valign="top">static GMimeMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#aba03bdc5d993dc34ed6706868a09583d">parse_message</a> (FILE *f)</td></tr>
<tr class="separator:aba03bdc5d993dc34ed6706868a09583d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54c1f76477b3633ae76edabc4fcf0d8a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#a54c1f76477b3633ae76edabc4fcf0d8a">post_raw</a> (GMimePart *part, const char *post_dir, const char *fn)</td></tr>
<tr class="separator:a54c1f76477b3633ae76edabc4fcf0d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67447f5256d0cbed3dfb4e8f22db543"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#ae67447f5256d0cbed3dfb4e8f22db543">process_message</a> (GMimeMessage *<a class="el" href="../../d8/d9e/structmessage.html">message</a>, const char *post_dir)</td></tr>
<tr class="separator:ae67447f5256d0cbed3dfb4e8f22db543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a450d43bbbe2bcc3ebc2517dde188f3cc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#a450d43bbbe2bcc3ebc2517dde188f3cc">process_message_callback</a> (GMimeObject *part, gpointer user_data)</td></tr>
<tr class="separator:a450d43bbbe2bcc3ebc2517dde188f3cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad356adcd1903943abad26b1e26e126"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#a1ad356adcd1903943abad26b1e26e126">readmimefile</a> (struct <a class="el" href="../../de/d03/structast__iostream.html">ast_iostream</a> *<a class="el" href="../../da/d7c/utils_2frame_8h.html#aca392a8d3941cd0740aef3ad92545d67">in</a>, FILE *fout, char *boundary, int contentlen)</td></tr>
<tr class="separator:a1ad356adcd1903943abad26b1e26e126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1982509765f4870f1f63412a53ea668"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> (void)</td></tr>
<tr class="separator:ad1982509765f4870f1f63412a53ea668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a> , .description = &quot;HTTP POST support&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .reload = reload, .requires = &quot;http&quot;, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f25bc812d09fedb86bf394c01061c56"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a> [<a class="el" href="../../d0/d0c/res__statsd_8c.html#aecb32037d29b6d4c9d903ba03b56f065">MAX_PREFIX</a>]</td></tr>
<tr class="separator:a6f25bc812d09fedb86bf394c01061c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>HTTP POST upload support for Asterisk HTTP server. </p>
<dl class="section author"><dt>Author</dt><dd>Terry Wilson &lt;<a href="#" onclick="location.href='mai'+'lto:'+'twi'+'ls'+'on@'+'di'+'giu'+'m.'+'com'; return false;">twils<span style="display: none;">.nosp@m.</span>on@d<span style="display: none;">.nosp@m.</span>igium<span style="display: none;">.nosp@m.</span>.com</a></dd></dl>
<p><a class="el" href="../../d1/d71/AstHTTP.html">AMI over HTTP support</a> - AMI over the http protocol </p>

<p class="definition">Definition in file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aecb32037d29b6d4c9d903ba03b56f065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecb32037d29b6d4c9d903ba03b56f065">&#9670;&nbsp;</a></span>MAX_PREFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PREFIX&#160;&#160;&#160;80</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00052">52</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a92a4c9d95875dd9d4c17ab41118e429f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92a4c9d95875dd9d4c17ab41118e429f">&#9670;&nbsp;</a></span>__ast_http_post_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __ast_http_post_load </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00429">429</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03154">ast_config_load2()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l00673">ast_http_uri_link()</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l00712">ast_http_uri_unlink_all_with_key()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01216">ast_variable_browse()</a>, <a class="el" href="../../dd/d56/http_8h_source.html#l00105">ast_http_uri::callback</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">CONFIG_FLAG_FILEUNCHANGED</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">CONFIG_STATUS_FILEUNCHANGED</a>, <a class="el" href="../../dd/d56/http_8h_source.html#l00114">ast_http_uri::data</a>, <a class="el" href="../../dd/d56/http_8h_source.html#l00102">ast_http_uri::description</a>, <a class="el" href="../../dd/d56/http_8h_source.html#l00110">ast_http_uri::dmallocd</a>, <a class="el" href="../../dd/d56/http_8h_source.html#l00106">ast_http_uri::has_subtree</a>, <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00323">http_post_callback()</a>, <a class="el" href="../../dd/d56/http_8h_source.html#l00116">ast_http_uri::key</a>, <a class="el" href="../../dd/d56/http_8h_source.html#l00108">ast_http_uri::mallocd</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00069">prefix</a>, <a class="el" href="../../dd/d56/http_8h_source.html#l00103">ast_http_uri::uri</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00498">load_module()</a>, and <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00491">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { <a class="code" href="../../d6/dc9/res__http__post_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> ? <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a> : 0 };</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a>(<span class="stringliteral">&quot;http.conf&quot;</span>, <span class="stringliteral">&quot;http&quot;</span>, config_flags);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   <span class="keywordflow">if</span> (!cfg || cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a> || cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/dc9/res__http__post_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ae05bfd31702ddfd156bd1312ccbf2441">ast_http_uri_unlink_all_with_key</a>(__FILE__);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   <span class="keywordflow">for</span> (v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>); v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;prefix&quot;</span>)) {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>));</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>[strlen(<a class="code" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>)] == <span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <a class="code" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>[strlen(<a class="code" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>)] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;         }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   <span class="keywordflow">for</span> (v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, <span class="stringliteral">&quot;post_mappings&quot;</span>); v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d6c/structast__http__uri.html">ast_http_uri</a> *urih;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *ds;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keywordflow">if</span> (!(urih = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(<span class="keyword">sizeof</span>(*urih), 1))) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;         <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">if</span> (!(ds = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(32))) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(urih);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;         <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      urih-&gt;<a class="code" href="../../d0/d6c/structast__http__uri.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;HTTP POST mapping&quot;</span>);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      urih-&gt;<a class="code" href="../../d0/d6c/structast__http__uri.html#a69ec24fb2d0a5f5e532deb9adaab81d6">uri</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;ds, 0, <span class="stringliteral">&quot;%s&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      urih-&gt;<a class="code" href="../../d0/d6c/structast__http__uri.html#a735984d41155bc1032e09bece8f8d66d">data</a> = ds;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      urih-&gt;<a class="code" href="../../d0/d6c/structast__http__uri.html#a208647b07f25afba1725ed60eefb98ac">has_subtree</a> = 0;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      urih-&gt;<a class="code" href="../../d0/d6c/structast__http__uri.html#a4ef4b8290b170231e27114a0a02f1c51">callback</a> = <a class="code" href="../../d6/dc9/res__http__post_8c.html#a93bdef63b01ffa0fe47594c9e3e7ab8b">http_post_callback</a>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      urih-&gt;<a class="code" href="../../d0/d6c/structast__http__uri.html#acd3d88da3c0e0313c3645ff34f62f542">key</a> = __FILE__;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      urih-&gt;<a class="code" href="../../d0/d6c/structast__http__uri.html#ae6cd4621862105820006f1c6ba56e427">mallocd</a> = urih-&gt;<a class="code" href="../../d0/d6c/structast__http__uri.html#a55ab2ed9aeff792462e0efe00685b7d6">dmallocd</a> = 1;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ac99d56925cf94f8cf3ed0acac52e2d75">ast_http_uri_link</a>(urih);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="structast__http__uri_html_a4ef4b8290b170231e27114a0a02f1c51"><div class="ttname"><a href="../../d0/d6c/structast__http__uri.html#a4ef4b8290b170231e27114a0a02f1c51">ast_http_uri::callback</a></div><div class="ttdeci">ast_http_callback callback</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/http_8h_source.html#l00105">http.h:105</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="http_8h_html_ac99d56925cf94f8cf3ed0acac52e2d75"><div class="ttname"><a href="../../dd/d56/http_8h.html#ac99d56925cf94f8cf3ed0acac52e2d75">ast_http_uri_link</a></div><div class="ttdeci">int ast_http_uri_link(struct ast_http_uri *urihandler)</div><div class="ttdoc">Register a URI handler. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00673">http.c:673</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="res__http__post_8c_html_a93bdef63b01ffa0fe47594c9e3e7ab8b"><div class="ttname"><a href="../../d6/dc9/res__http__post_8c.html#a93bdef63b01ffa0fe47594c9e3e7ab8b">http_post_callback</a></div><div class="ttdeci">static int http_post_callback(struct ast_tcptls_session_instance *ser, const struct ast_http_uri *urih, const char *uri, enum ast_http_method method, struct ast_variable *get_vars, struct ast_variable *headers)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00323">res_http_post.c:323</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aab3eac8fa82a86a93c074deb7b77dbc9"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a></div><div class="ttdeci">struct ast_config * ast_config_load2(const char *filename, const char *who_asked, struct ast_flags flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03154">main/config.c:3154</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="structast__http__uri_html_acd3d88da3c0e0313c3645ff34f62f542"><div class="ttname"><a href="../../d0/d6c/structast__http__uri.html#acd3d88da3c0e0313c3645ff34f62f542">ast_http_uri::key</a></div><div class="ttdeci">const char * key</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/http_8h_source.html#l00116">http.h:116</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structast__http__uri_html_a208647b07f25afba1725ed60eefb98ac"><div class="ttname"><a href="../../d0/d6c/structast__http__uri.html#a208647b07f25afba1725ed60eefb98ac">ast_http_uri::has_subtree</a></div><div class="ttdeci">unsigned int has_subtree</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/http_8h_source.html#l00106">http.h:106</a></div></div>
<div class="ttc" id="res__http__post_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00069">res_http_post.c:69</a></div></div>
<div class="ttc" id="structast__http__uri_html_ae6cd4621862105820006f1c6ba56e427"><div class="ttname"><a href="../../d0/d6c/structast__http__uri.html#ae6cd4621862105820006f1c6ba56e427">ast_http_uri::mallocd</a></div><div class="ttdeci">unsigned int mallocd</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/http_8h_source.html#l00108">http.h:108</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="res__http__post_8c_html_ad1982509765f4870f1f63412a53ea668"><div class="ttname"><a href="../../d6/dc9/res__http__post_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a></div><div class="ttdeci">static int reload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00491">res_http_post.c:491</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a846844eb2c4eb44554445936b3770711"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEUNCHANGED</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">include/asterisk/config.h:59</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structast__http__uri_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../d0/d6c/structast__http__uri.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_http_uri::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/http_8h_source.html#l00102">http.h:102</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structast__http__uri_html"><div class="ttname"><a href="../../d0/d6c/structast__http__uri.html">ast_http_uri</a></div><div class="ttdoc">Definition of a URI handler. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/http_8h_source.html#l00100">http.h:100</a></div></div>
<div class="ttc" id="http_8h_html_ae05bfd31702ddfd156bd1312ccbf2441"><div class="ttname"><a href="../../dd/d56/http_8h.html#ae05bfd31702ddfd156bd1312ccbf2441">ast_http_uri_unlink_all_with_key</a></div><div class="ttdeci">void ast_http_uri_unlink_all_with_key(const char *key)</div><div class="ttdoc">Unregister all handlers with matching key. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00712">http.c:712</a></div></div>
<div class="ttc" id="structast__http__uri_html_a55ab2ed9aeff792462e0efe00685b7d6"><div class="ttname"><a href="../../d0/d6c/structast__http__uri.html#a55ab2ed9aeff792462e0efe00685b7d6">ast_http_uri::dmallocd</a></div><div class="ttdeci">unsigned int dmallocd</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/http_8h_source.html#l00110">http.h:110</a></div></div>
<div class="ttc" id="structast__http__uri_html_a69ec24fb2d0a5f5e532deb9adaab81d6"><div class="ttname"><a href="../../d0/d6c/structast__http__uri.html#a69ec24fb2d0a5f5e532deb9adaab81d6">ast_http_uri::uri</a></div><div class="ttdeci">const char * uri</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/http_8h_source.html#l00103">http.h:103</a></div></div>
<div class="ttc" id="structast__http__uri_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d0/d6c/structast__http__uri.html#a735984d41155bc1032e09bece8f8d66d">ast_http_uri::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/http_8h_source.html#l00114">http.h:114</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">include/asterisk/config.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00517">517</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00517">517</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00517">517</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

</div>
</div>
<a id="a792062a4f32107db7d58fb15073bdf43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a792062a4f32107db7d58fb15073bdf43">&#9670;&nbsp;</a></span>find_sequence()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int find_sequence </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>inbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>matchbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>matchlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00189">189</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00225">readmimefile()</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="keywordtype">int</span> current;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <span class="keywordtype">int</span> comp;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   <span class="keywordtype">int</span> found = 0;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   <span class="keywordflow">for</span> (current = 0; current &lt; inlen-matchlen; current++, <a class="code" href="../../dc/df4/app__voicemail_8c.html#ac70fbae4ed48b5b48ff4b49f01e29f86">inbuf</a>++) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">if</span> (*<a class="code" href="../../dc/df4/app__voicemail_8c.html#ac70fbae4ed48b5b48ff4b49f01e29f86">inbuf</a> == *matchbuf) {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;         found=1;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;         <span class="keywordflow">for</span> (comp = 1; comp &lt; matchlen; comp++) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dc/df4/app__voicemail_8c.html#ac70fbae4ed48b5b48ff4b49f01e29f86">inbuf</a>[comp] != matchbuf[comp]) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;               found = 0;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;         }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;         <span class="keywordflow">if</span> (found) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;         }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   <span class="keywordflow">if</span> (found) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordflow">return</span> current;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div><div class="ttc" id="app__voicemail_8c_html_ac70fbae4ed48b5b48ff4b49f01e29f86"><div class="ttname"><a href="../../dc/df4/app__voicemail_8c.html#ac70fbae4ed48b5b48ff4b49f01e29f86">inbuf</a></div><div class="ttdeci">static int inbuf(struct baseio *bio, FILE *fi)</div><div class="ttdoc">utility used by inchar(), for base_encode() </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df4/app__voicemail_8c_source.html#l04770">app_voicemail.c:4770</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a93bdef63b01ffa0fe47594c9e3e7ab8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93bdef63b01ffa0fe47594c9e3e7ab8b">&#9670;&nbsp;</a></span>http_post_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int http_post_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d49/structast__tcptls__session__instance.html">ast_tcptls_session_instance</a> *&#160;</td>
          <td class="paramname"><em>ser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d6c/structast__http__uri.html">ast_http_uri</a> *&#160;</td>
          <td class="paramname"><em>urih</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dd/d56/http_8h.html#a16fb43ed7e6093a9dc96477ba37b80ef">ast_http_method</a>&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>get_vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>headers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00323">323</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l00899">ast_http_body_read_status()</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l00648">ast_http_error()</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l00217">ast_http_manid_from_vars()</a>, <a class="el" href="../../dd/d56/http_8h_source.html#l00059">AST_HTTP_POST</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l00836">ast_http_request_close_on_completion()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07551">astman_is_authed()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07600">astman_verify_session_writepermissions()</a>, <a class="el" href="../../dd/d56/http_8h_source.html#l00114">ast_http_uri::data</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00078">EVENT_FLAG_CONFIG</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00104">parse_message()</a>, <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00065">mime_cbinfo::post_dir</a>, <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00172">process_message()</a>, <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00225">readmimefile()</a>, <a class="el" href="../../d4/ddf/tcptls_8h_source.html#l00160">ast_tcptls_session_instance::stream</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>, and <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00429">__ast_http_post_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   uint32_t ident;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   FILE *f;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <span class="keywordtype">int</span> content_len = 0;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *post_dir;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   GMimeMessage *<a class="code" href="../../d8/d9e/structmessage.html">message</a>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <span class="keywordtype">char</span> *boundary_marker = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d96/res__pjsip_8c.html#a8b44a03925325ceaf2de7b079b1541a1">method</a> != <a class="code" href="../../dd/d56/http_8h.html#a16fb43ed7e6093a9dc96477ba37b80efa544b9492daf28b47937772ca54e31c80">AST_HTTP_POST</a>) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ab0f7966324a592e02d53f01e7bb9cc17">ast_http_error</a>(ser, 501, <span class="stringliteral">&quot;Not Implemented&quot;</span>, <span class="stringliteral">&quot;Attempt to use unimplemented / unsupported method&quot;</span>);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <span class="keywordflow">if</span> (!urih) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ab0f7966324a592e02d53f01e7bb9cc17">ast_http_error</a>(ser, 400, <span class="stringliteral">&quot;Missing URI handle&quot;</span>, <span class="stringliteral">&quot;There was an error parsing the request&quot;</span>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   ident = <a class="code" href="../../dd/d56/http_8h.html#aa62626630003222102b29b97f18ff94c">ast_http_manid_from_vars</a>(headers);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <span class="keywordflow">if</span> (!ident || !<a class="code" href="../../db/d45/manager_8h.html#acb49e15f3ae80cc0ee0cfa3a250d00c0">astman_is_authed</a>(ident)) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ab0286838ed2b93e0d77fe9d7af8a37b5">ast_http_request_close_on_completion</a>(ser);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ab0f7966324a592e02d53f01e7bb9cc17">ast_http_error</a>(ser, 403, <span class="stringliteral">&quot;Access Denied&quot;</span>, <span class="stringliteral">&quot;Sorry, I cannot let you do that, Dave.&quot;</span>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d45/manager_8h.html#a38eb222ca678604d4f203c9e9d5295ab">astman_verify_session_writepermissions</a>(ident, <a class="code" href="../../db/d45/manager_8h.html#a36fb89c2a73755209133b6c73fe92e54">EVENT_FLAG_CONFIG</a>)) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ab0286838ed2b93e0d77fe9d7af8a37b5">ast_http_request_close_on_completion</a>(ser);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ab0f7966324a592e02d53f01e7bb9cc17">ast_http_error</a>(ser, 401, <span class="stringliteral">&quot;Unauthorized&quot;</span>, <span class="stringliteral">&quot;You are not authorized to make this request.&quot;</span>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;   }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="keywordflow">if</span> (!(f = tmpfile())) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not create temp file.\n&quot;</span>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ab0f7966324a592e02d53f01e7bb9cc17">ast_http_error</a>(ser, 500, <span class="stringliteral">&quot;Internal server error&quot;</span>, <span class="stringliteral">&quot;Could not create temp file.&quot;</span>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <span class="keywordflow">for</span> (var = headers; <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>; var = var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      fprintf(f, <span class="stringliteral">&quot;%s: %s\r\n&quot;</span>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;Content-Length&quot;</span>)) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;         <span class="keywordflow">if</span> ((sscanf(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;%30u&quot;</span>, &amp;content_len)) != 1) {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid Content-Length in POST request!\n&quot;</span>);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            fclose(f);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <a class="code" href="../../dd/d56/http_8h.html#ab0286838ed2b93e0d77fe9d7af8a37b5">ast_http_request_close_on_completion</a>(ser);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <a class="code" href="../../dd/d56/http_8h.html#ab0f7966324a592e02d53f01e7bb9cc17">ast_http_error</a>(ser, 400, <span class="stringliteral">&quot;Bad Request&quot;</span>, <span class="stringliteral">&quot;Invalid Content-Length in POST request!&quot;</span>);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;         }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Got a Content-Length of %d\n&quot;</span>, content_len);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;Content-Type&quot;</span>)) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;         boundary_marker = strstr(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;boundary=&quot;</span>);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;         <span class="keywordflow">if</span> (boundary_marker) {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            boundary_marker += strlen(<span class="stringliteral">&quot;boundary=&quot;</span>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;         }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   fprintf(f, <span class="stringliteral">&quot;\r\n&quot;</span>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">    * Always mark the body read as failed.</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">    * XXX Should change readmimefile() to always be sure to read</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">    * the entire body so we can update the read status and</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">    * potentially keep the connection open.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <a class="code" href="../../dd/d56/http_8h.html#af220ac7e6b4ecb8be48359c18e10adaa">ast_http_body_read_status</a>(ser, 0);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <span class="keywordflow">if</span> (0 &gt; <a class="code" href="../../d6/dc9/res__http__post_8c.html#a1ad356adcd1903943abad26b1e26e126">readmimefile</a>(ser-&gt;<a class="code" href="../../d6/d49/structast__tcptls__session__instance.html#a36ac2dd734607a43ed90acb7e9d81ac5">stream</a>, f, boundary_marker, content_len)) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Cannot find boundary marker in POST request.\n&quot;</span>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      fclose(f);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ab0f7966324a592e02d53f01e7bb9cc17">ast_http_error</a>(ser, 400, <span class="stringliteral">&quot;Bad Request&quot;</span>, <span class="stringliteral">&quot;Cannot find boundary marker in POST request.&quot;</span>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   <span class="keywordflow">if</span> (fseek(f, SEEK_SET, 0)) {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to seek temp file back to beginning.\n&quot;</span>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      fclose(f);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ab0f7966324a592e02d53f01e7bb9cc17">ast_http_error</a>(ser, 500, <span class="stringliteral">&quot;Internal server error&quot;</span>, <span class="stringliteral">&quot;Failed to seek temp file back to beginning.&quot;</span>);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   post_dir = urih-&gt;<a class="code" href="../../d0/d6c/structast__http__uri.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   message = <a class="code" href="../../d6/dc9/res__http__post_8c.html#aba03bdc5d993dc34ed6706868a09583d">parse_message</a>(f); <span class="comment">/* Takes ownership and will close f */</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <span class="keywordflow">if</span> (!message) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error parsing MIME data\n&quot;</span>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ab0f7966324a592e02d53f01e7bb9cc17">ast_http_error</a>(ser, 400, <span class="stringliteral">&quot;Bad Request&quot;</span>, <span class="stringliteral">&quot;There was an error parsing the request.&quot;</span>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/dc9/res__http__post_8c.html#ae67447f5256d0cbed3dfb4e8f22db543">process_message</a>(message, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(post_dir))) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid MIME data, found no parts!\n&quot;</span>);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      g_object_unref(message);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <a class="code" href="../../dd/d56/http_8h.html#ab0f7966324a592e02d53f01e7bb9cc17">ast_http_error</a>(ser, 400, <span class="stringliteral">&quot;Bad Request&quot;</span>, <span class="stringliteral">&quot;There was an error parsing the request.&quot;</span>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   g_object_unref(message);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <span class="comment">/* XXX Passing 200 to the error response routine? */</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   <a class="code" href="../../dd/d56/http_8h.html#ab0f7966324a592e02d53f01e7bb9cc17">ast_http_error</a>(ser, 200, <span class="stringliteral">&quot;OK&quot;</span>, <span class="stringliteral">&quot;File successfully uploaded.&quot;</span>);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="http_8h_html_ab0f7966324a592e02d53f01e7bb9cc17"><div class="ttname"><a href="../../dd/d56/http_8h.html#ab0f7966324a592e02d53f01e7bb9cc17">ast_http_error</a></div><div class="ttdeci">void ast_http_error(struct ast_tcptls_session_instance *ser, int status, const char *title, const char *text)</div><div class="ttdoc">Send HTTP error message and close socket. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00648">http.c:648</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="http_8h_html_aa62626630003222102b29b97f18ff94c"><div class="ttname"><a href="../../dd/d56/http_8h.html#aa62626630003222102b29b97f18ff94c">ast_http_manid_from_vars</a></div><div class="ttdeci">uint32_t ast_http_manid_from_vars(struct ast_variable *headers) attribute_pure</div><div class="ttdoc">Return manager id, if exist, from request headers. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00217">http.c:217</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__http__post_8c_html_a1ad356adcd1903943abad26b1e26e126"><div class="ttname"><a href="../../d6/dc9/res__http__post_8c.html#a1ad356adcd1903943abad26b1e26e126">readmimefile</a></div><div class="ttdeci">static int readmimefile(struct ast_iostream *in, FILE *fout, char *boundary, int contentlen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00225">res_http_post.c:225</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="manager_8h_html_acb49e15f3ae80cc0ee0cfa3a250d00c0"><div class="ttname"><a href="../../db/d45/manager_8h.html#acb49e15f3ae80cc0ee0cfa3a250d00c0">astman_is_authed</a></div><div class="ttdeci">int astman_is_authed(uint32_t ident)</div><div class="ttdoc">Determinie if a manager session ident is authenticated. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07551">manager.c:7551</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="res__http__post_8c_html_ae67447f5256d0cbed3dfb4e8f22db543"><div class="ttname"><a href="../../d6/dc9/res__http__post_8c.html#ae67447f5256d0cbed3dfb4e8f22db543">process_message</a></div><div class="ttdeci">static int process_message(GMimeMessage *message, const char *post_dir)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00172">res_http_post.c:172</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a8b44a03925325ceaf2de7b079b1541a1"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a8b44a03925325ceaf2de7b079b1541a1">method</a></div><div class="ttdeci">const char * method</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04335">res_pjsip.c:4335</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="manager_8h_html_a36fb89c2a73755209133b6c73fe92e54"><div class="ttname"><a href="../../db/d45/manager_8h.html#a36fb89c2a73755209133b6c73fe92e54">EVENT_FLAG_CONFIG</a></div><div class="ttdeci">#define EVENT_FLAG_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00078">manager.h:78</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="http_8h_html_af220ac7e6b4ecb8be48359c18e10adaa"><div class="ttname"><a href="../../dd/d56/http_8h.html#af220ac7e6b4ecb8be48359c18e10adaa">ast_http_body_read_status</a></div><div class="ttdeci">void ast_http_body_read_status(struct ast_tcptls_session_instance *ser, int read_success)</div><div class="ttdoc">Update the body read success status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00899">http.c:899</a></div></div>
<div class="ttc" id="manager_8h_html_a38eb222ca678604d4f203c9e9d5295ab"><div class="ttname"><a href="../../db/d45/manager_8h.html#a38eb222ca678604d4f203c9e9d5295ab">astman_verify_session_writepermissions</a></div><div class="ttdeci">int astman_verify_session_writepermissions(uint32_t ident, int perm)</div><div class="ttdoc">Verify a session&amp;#39;s write permissions against a permission mask. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07600">manager.c:7600</a></div></div>
<div class="ttc" id="structast__tcptls__session__instance_html_a36ac2dd734607a43ed90acb7e9d81ac5"><div class="ttname"><a href="../../d6/d49/structast__tcptls__session__instance.html#a36ac2dd734607a43ed90acb7e9d81ac5">ast_tcptls_session_instance::stream</a></div><div class="ttdeci">struct ast_iostream * stream</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/ddf/tcptls_8h_source.html#l00160">tcptls.h:160</a></div></div>
<div class="ttc" id="res__http__post_8c_html_aba03bdc5d993dc34ed6706868a09583d"><div class="ttname"><a href="../../d6/dc9/res__http__post_8c.html#aba03bdc5d993dc34ed6706868a09583d">parse_message</a></div><div class="ttdeci">static GMimeMessage * parse_message(FILE *f)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00104">res_http_post.c:104</a></div></div>
<div class="ttc" id="http_8h_html_a16fb43ed7e6093a9dc96477ba37b80efa544b9492daf28b47937772ca54e31c80"><div class="ttname"><a href="../../dd/d56/http_8h.html#a16fb43ed7e6093a9dc96477ba37b80efa544b9492daf28b47937772ca54e31c80">AST_HTTP_POST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/http_8h_source.html#l00059">http.h:59</a></div></div>
<div class="ttc" id="http_8h_html_ab0286838ed2b93e0d77fe9d7af8a37b5"><div class="ttname"><a href="../../dd/d56/http_8h.html#ab0286838ed2b93e0d77fe9d7af8a37b5">ast_http_request_close_on_completion</a></div><div class="ttdeci">void ast_http_request_close_on_completion(struct ast_tcptls_session_instance *ser)</div><div class="ttdoc">Request the HTTP connection be closed after this HTTP request. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00836">http.c:836</a></div></div>
<div class="ttc" id="structast__http__uri_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d0/d6c/structast__http__uri.html#a735984d41155bc1032e09bece8f8d66d">ast_http_uri::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/http_8h_source.html#l00114">http.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00498">498</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00429">__ast_http_post_load()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00315">AST_MODFLAG_DEFAULT</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00491">reload()</a>, and <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00484">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;{</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   g_mime_init(</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;#ifndef AST_GMIME_VER_30</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;         0</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;#endif</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   );</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <a class="code" href="../../d6/dc9/res__http__post_8c.html#a92a4c9d95875dd9d4c17ab41118e429f">__ast_http_post_load</a>(0);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="res__http__post_8c_html_a92a4c9d95875dd9d4c17ab41118e429f"><div class="ttname"><a href="../../d6/dc9/res__http__post_8c.html#a92a4c9d95875dd9d4c17ab41118e429f">__ast_http_post_load</a></div><div class="ttdeci">static int __ast_http_post_load(int reload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00429">res_http_post.c:429</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aba03bdc5d993dc34ed6706868a09583d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba03bdc5d993dc34ed6706868a09583d">&#9670;&nbsp;</a></span>parse_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static GMimeMessage* parse_message </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00104">104</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00131">process_message_callback()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00323">http_post_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   GMimeMessage *<a class="code" href="../../d8/d9e/structmessage.html">message</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   GMimeParser *parser;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   GMimeStream *stream;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   stream = g_mime_stream_file_new(f);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   parser = g_mime_parser_new_with_stream(stream);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   g_mime_parser_set_respect_content_length(parser, 1);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   g_object_unref(stream);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   message = g_mime_parser_construct_message(parser</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;#ifdef AST_GMIME_VER_30</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;         , <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;#endif</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   );</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   g_object_unref(parser);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   <span class="keywordflow">return</span> message;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a54c1f76477b3633ae76edabc4fcf0d8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54c1f76477b3633ae76edabc4fcf0d8a">&#9670;&nbsp;</a></span>post_raw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void post_raw </td>
          <td>(</td>
          <td class="paramtype">GMimePart *&#160;</td>
          <td class="paramname"><em>part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>post_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00071">71</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../db/db2/asterisk_8h_source.html#l00040">PATH_MAX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00131">process_message_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   <span class="keywordtype">char</span> filename[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;   GMimeDataWrapper *content;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   GMimeStream *stream;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   <span class="keywordtype">int</span> fd;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   snprintf(filename, <span class="keyword">sizeof</span>(filename), <span class="stringliteral">&quot;%s/%s&quot;</span>, post_dir, fn);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Posting raw data to %s\n&quot;</span>, filename);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   <span class="keywordflow">if</span> ((fd = open(filename, O_CREAT | O_WRONLY | O_TRUNC, 0666)) == -1) {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to open %s for writing file from a POST!\n&quot;</span>, filename);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;   stream = g_mime_stream_fs_new(fd);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#ifdef AST_GMIME_VER_30</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   content = g_mime_part_get_content(part);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   content = g_mime_part_get_content_object(part);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   g_mime_data_wrapper_write_to_stream(content, stream);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;   g_mime_stream_flush(stream);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#ifndef AST_GMIME_VER_24</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   g_object_unref(content);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   g_object_unref(stream);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae67447f5256d0cbed3dfb4e8f22db543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae67447f5256d0cbed3dfb4e8f22db543">&#9670;&nbsp;</a></span>process_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int process_message </td>
          <td>(</td>
          <td class="paramtype">GMimeMessage *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>post_dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00172">172</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00064">mime_cbinfo::count</a>, <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00065">mime_cbinfo::post_dir</a>, and <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00131">process_message_callback()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00323">http_post_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d62/structmime__cbinfo.html">mime_cbinfo</a> cbinfo = {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      .<a class="code" href="../../d1/d62/structmime__cbinfo.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = 0,</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      .post_dir = <a class="code" href="../../d1/d62/structmime__cbinfo.html#a9a7b789e775871d6ef5e642736940c1d">post_dir</a>,</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   };</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">#ifdef AST_GMIME_VER_24</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   g_mime_message_foreach(<a class="code" href="../../d8/d9e/structmessage.html">message</a>, <a class="code" href="../../d6/dc9/res__http__post_8c.html#a450d43bbbe2bcc3ebc2517dde188f3cc">process_message_callback</a>, &amp;cbinfo);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   g_mime_message_foreach_part(<a class="code" href="../../d8/d9e/structmessage.html">message</a>, <a class="code" href="../../d6/dc9/res__http__post_8c.html#a450d43bbbe2bcc3ebc2517dde188f3cc">process_message_callback</a>, &amp;cbinfo);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <span class="keywordflow">return</span> cbinfo.<a class="code" href="../../d1/d62/structmime__cbinfo.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="res__http__post_8c_html_a450d43bbbe2bcc3ebc2517dde188f3cc"><div class="ttname"><a href="../../d6/dc9/res__http__post_8c.html#a450d43bbbe2bcc3ebc2517dde188f3cc">process_message_callback</a></div><div class="ttdeci">static void process_message_callback(GMimeObject *part, gpointer user_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00131">res_http_post.c:131</a></div></div>
<div class="ttc" id="structmime__cbinfo_html"><div class="ttname"><a href="../../d1/d62/structmime__cbinfo.html">mime_cbinfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00063">res_http_post.c:63</a></div></div>
<div class="ttc" id="structmime__cbinfo_html_a9a7b789e775871d6ef5e642736940c1d"><div class="ttname"><a href="../../d1/d62/structmime__cbinfo.html#a9a7b789e775871d6ef5e642736940c1d">mime_cbinfo::post_dir</a></div><div class="ttdeci">const char * post_dir</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00065">res_http_post.c:65</a></div></div>
<div class="ttc" id="structmime__cbinfo_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="../../d1/d62/structmime__cbinfo.html#ad43c3812e6d13e0518d9f8b8f463ffcf">mime_cbinfo::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00064">res_http_post.c:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a450d43bbbe2bcc3ebc2517dde188f3cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a450d43bbbe2bcc3ebc2517dde188f3cc">&#9670;&nbsp;</a></span>process_message_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void process_message_callback </td>
          <td>(</td>
          <td class="paramtype">GMimeObject *&#160;</td>
          <td class="paramname"><em>part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00131">131</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00064">mime_cbinfo::count</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00065">mime_cbinfo::post_dir</a>, and <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00071">post_raw()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00104">parse_message()</a>, and <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00172">process_message()</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d62/structmime__cbinfo.html">mime_cbinfo</a> *cbinfo = user_data;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   cbinfo-&gt;<a class="code" href="../../d1/d62/structmime__cbinfo.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>++;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   <span class="comment">/* We strip off the headers before we get here, so should only see GMIME_IS_PART */</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   <span class="keywordflow">if</span> (GMIME_IS_MESSAGE_PART(part)) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Got unexpected GMIME_IS_MESSAGE_PART\n&quot;</span>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (GMIME_IS_MESSAGE_PARTIAL(part)) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Got unexpected GMIME_IS_MESSAGE_PARTIAL\n&quot;</span>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (GMIME_IS_MULTIPART(part)) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#ifndef AST_GMIME_VER_24</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      GList *l;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Got unexpected GMIME_IS_MULTIPART, trying to process subparts\n&quot;</span>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      l = GMIME_MULTIPART(part)-&gt;subparts;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">while</span> (l) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;         <a class="code" href="../../d6/dc9/res__http__post_8c.html#a450d43bbbe2bcc3ebc2517dde188f3cc">process_message_callback</a>(l-&gt;data, cbinfo);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;         l = l-&gt;next;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Got unexpected MIME subpart.\n&quot;</span>);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (GMIME_IS_PART(part)) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *filename;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(filename = g_mime_part_get_filename(GMIME_PART(part)))) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Skipping part with no filename\n&quot;</span>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <a class="code" href="../../d6/dc9/res__http__post_8c.html#a54c1f76477b3633ae76edabc4fcf0d8a">post_raw</a>(GMIME_PART(part), cbinfo-&gt;<a class="code" href="../../d1/d62/structmime__cbinfo.html#a9a7b789e775871d6ef5e642736940c1d">post_dir</a>, filename);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Encountered unknown MIME part. This should never happen!\n&quot;</span>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div><div class="ttc" id="res__http__post_8c_html_a450d43bbbe2bcc3ebc2517dde188f3cc"><div class="ttname"><a href="../../d6/dc9/res__http__post_8c.html#a450d43bbbe2bcc3ebc2517dde188f3cc">process_message_callback</a></div><div class="ttdeci">static void process_message_callback(GMimeObject *part, gpointer user_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00131">res_http_post.c:131</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structmime__cbinfo_html"><div class="ttname"><a href="../../d1/d62/structmime__cbinfo.html">mime_cbinfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00063">res_http_post.c:63</a></div></div>
<div class="ttc" id="structmime__cbinfo_html_a9a7b789e775871d6ef5e642736940c1d"><div class="ttname"><a href="../../d1/d62/structmime__cbinfo.html#a9a7b789e775871d6ef5e642736940c1d">mime_cbinfo::post_dir</a></div><div class="ttdeci">const char * post_dir</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00065">res_http_post.c:65</a></div></div>
<div class="ttc" id="res__http__post_8c_html_a54c1f76477b3633ae76edabc4fcf0d8a"><div class="ttname"><a href="../../d6/dc9/res__http__post_8c.html#a54c1f76477b3633ae76edabc4fcf0d8a">post_raw</a></div><div class="ttdeci">static void post_raw(GMimePart *part, const char *post_dir, const char *fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00071">res_http_post.c:71</a></div></div>
<div class="ttc" id="structmime__cbinfo_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="../../d1/d62/structmime__cbinfo.html#ad43c3812e6d13e0518d9f8b8f463ffcf">mime_cbinfo::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00064">res_http_post.c:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ad356adcd1903943abad26b1e26e126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ad356adcd1903943abad26b1e26e126">&#9670;&nbsp;</a></span>readmimefile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int readmimefile </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/d03/structast__iostream.html">ast_iostream</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>boundary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>contentlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00225">225</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/dc8/iostream_8c_source.html#l00273">ast_iostream_read()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00189">find_sequence()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00323">http_post_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;{</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   <span class="keywordtype">int</span> find_filename = 0;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[4096];</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   <span class="keywordtype">int</span> marker;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <span class="keywordtype">int</span> x;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   <span class="keywordtype">int</span> char_in_buf = 0;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="keywordtype">int</span> num_to_read;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="keywordtype">int</span> boundary_len;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   <span class="keywordtype">char</span> * path_end, * path_start, * filespec;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == in || <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == fout || <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == boundary || 0 &gt;= contentlen) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   boundary_len = strlen(boundary);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <span class="keywordflow">while</span> (0 &lt; contentlen || 0 &lt; char_in_buf) {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="comment">/* determine how much I will read into the buffer */</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <span class="keywordflow">if</span> (contentlen &gt; <span class="keyword">sizeof</span>(buf) - char_in_buf) {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;         num_to_read = <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)- char_in_buf;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;         num_to_read = contentlen;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordflow">if</span> (0 &lt; num_to_read) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dd/d27/iostream_8h.html#aa009ff0c2d31892c5beb19114f47768b">ast_iostream_read</a>(in, &amp;(buf[char_in_buf]), num_to_read) &lt; num_to_read) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;read failed: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            num_to_read = 0;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;         }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;         contentlen -= num_to_read;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;         char_in_buf += num_to_read;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="comment">/* If I am looking for the filename spec */</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">if</span> (find_filename) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;         path_end = filespec = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;         x = strlen(<span class="stringliteral">&quot;filename=\&quot;&quot;</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;         marker = <a class="code" href="../../d6/dc9/res__http__post_8c.html#a792062a4f32107db7d58fb15073bdf43">find_sequence</a>(buf, char_in_buf, <span class="stringliteral">&quot;filename=\&quot;&quot;</span>, x );</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;         <span class="keywordflow">if</span> (0 &lt;= marker) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            marker += x;  <span class="comment">/* Index beyond the filename marker */</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            path_start = &amp;buf[marker];</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keywordflow">for</span> (path_end = path_start, x = 0; x &lt; char_in_buf-marker; x++, path_end++) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;               <span class="keywordflow">if</span> (<span class="charliteral">&#39;\\&#39;</span> == *path_end) {   <span class="comment">/* convert backslashses to forward slashes */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                  *path_end = <span class="charliteral">&#39;/&#39;</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;               }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;               <span class="keywordflow">if</span> (<span class="charliteral">&#39;\&quot;&#39;</span> == *path_end) {   <span class="comment">/* If at the end of the file name spec */</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                  *path_end = <span class="charliteral">&#39;\0&#39;</span>;    <span class="comment">/* temporarily null terminate the file spec for basename */</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                  filespec = basename(path_start);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                  *path_end = <span class="charliteral">&#39;\&quot;&#39;</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;               }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;         }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;         <span class="keywordflow">if</span> (filespec) {   <span class="comment">/* If the file name path was found in the header */</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">if</span> (fwrite(buf, 1, marker, fout) != marker) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;fwrite() failed: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            x = (int)(path_end+1 - filespec);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">if</span> (fwrite(filespec, 1, x, fout) != x) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;fwrite() failed: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            x = (int)(path_end+1 - buf);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            memmove(buf, &amp;(buf[x]), char_in_buf-x);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            char_in_buf -= x;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;         }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;         find_filename = 0;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">/* I am looking for the boundary marker */</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;         marker = <a class="code" href="../../d6/dc9/res__http__post_8c.html#a792062a4f32107db7d58fb15073bdf43">find_sequence</a>(buf, char_in_buf, boundary, boundary_len);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;         <span class="keywordflow">if</span> (0 &gt; marker) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">if</span> (char_in_buf &lt; (boundary_len)) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;               <span class="comment">/*no possibility to find the boundary, write all you have */</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;               <span class="keywordflow">if</span> (fwrite(buf, 1, char_in_buf, fout) != char_in_buf) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;fwrite() failed: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;               }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;               char_in_buf = 0;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;               <span class="comment">/* write all except for area where the boundary marker could be */</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;               <span class="keywordflow">if</span> (fwrite(buf, 1, char_in_buf -(boundary_len -1), fout) != char_in_buf - (boundary_len - 1)) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;fwrite() failed: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;               }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;               x = char_in_buf -(boundary_len -1);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;               memmove(buf, &amp;(buf[x]), char_in_buf-x);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;               char_in_buf = (boundary_len -1);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="comment">/* write up through the boundary, then look for filename in the rest */</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">if</span> (fwrite(buf, 1, marker + boundary_len, fout) != marker + boundary_len) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;fwrite() failed: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            x = marker + boundary_len;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            memmove(buf, &amp;(buf[x]), char_in_buf-x);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            char_in_buf -= marker + boundary_len;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            find_filename =1;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;         }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="iostream_8h_html_aa009ff0c2d31892c5beb19114f47768b"><div class="ttname"><a href="../../dd/d27/iostream_8h.html#aa009ff0c2d31892c5beb19114f47768b">ast_iostream_read</a></div><div class="ttdeci">ssize_t ast_iostream_read(struct ast_iostream *stream, void *buffer, size_t count)</div><div class="ttdoc">Read data from an iostream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/iostream_8c_source.html#l00273">iostream.c:273</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="res__http__post_8c_html_a792062a4f32107db7d58fb15073bdf43"><div class="ttname"><a href="../../d6/dc9/res__http__post_8c.html#a792062a4f32107db7d58fb15073bdf43">find_sequence</a></div><div class="ttdeci">static int find_sequence(char *inbuf, int inlen, char *matchbuf, int matchlen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00189">res_http_post.c:189</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1982509765f4870f1f63412a53ea668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1982509765f4870f1f63412a53ea668">&#9670;&nbsp;</a></span>reload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reload </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00491">491</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00429">__ast_http_post_load()</a>, and <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00498">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   <a class="code" href="../../d6/dc9/res__http__post_8c.html#a92a4c9d95875dd9d4c17ab41118e429f">__ast_http_post_load</a>(1);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="res__http__post_8c_html_a92a4c9d95875dd9d4c17ab41118e429f"><div class="ttname"><a href="../../d6/dc9/res__http__post_8c.html#a92a4c9d95875dd9d4c17ab41118e429f">__ast_http_post_load</a></div><div class="ttdeci">static int __ast_http_post_load(int reload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc9/res__http__post_8c_source.html#l00429">res_http_post.c:429</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00484">484</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d43/http_8c_source.html#l00712">ast_http_uri_unlink_all_with_key()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00498">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;{</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;   <a class="code" href="../../dd/d56/http_8h.html#ae05bfd31702ddfd156bd1312ccbf2441">ast_http_uri_unlink_all_with_key</a>(__FILE__);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div><div class="ttc" id="http_8h_html_ae05bfd31702ddfd156bd1312ccbf2441"><div class="ttname"><a href="../../dd/d56/http_8h.html#ae05bfd31702ddfd156bd1312ccbf2441">ast_http_uri_unlink_all_with_key</a></div><div class="ttdeci">void ast_http_uri_unlink_all_with_key(const char *key)</div><div class="ttdoc">Unregister all handlers with matching key. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00712">http.c:712</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a> , .description = &quot;HTTP POST support&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .reload = reload, .requires = &quot;http&quot;, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00517">517</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00517">517</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

</div>
</div>
<a id="a6f25bc812d09fedb86bf394c01061c56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f25bc812d09fedb86bf394c01061c56">&#9670;&nbsp;</a></span>prefix</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char prefix[<a class="el" href="../../d0/d0c/res__statsd_8c.html#aecb32037d29b6d4c9d903ba03b56f065">MAX_PREFIX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00069">69</a> of file <a class="el" href="../../d6/dc9/res__http__post_8c_source.html">res_http_post.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00429">__ast_http_post_load()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:25 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
