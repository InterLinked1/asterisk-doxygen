<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: strings.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">strings.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d6/d90/strings_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Asterisk -- An open source telephony toolkit.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 1999 - 2006, Digium, Inc.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Mark Spencer &lt;markster@digium.com&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * See http://www.asterisk.org for more information about</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * the Asterisk project. Please do not directly contact</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * any of the maintainers of this project for assistance;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * the project provides a web site, mailing lists and IRC</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * channels for your use.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * This program is free software, distributed under the terms of</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * the GNU General Public License Version 2. See the LICENSE file</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * at the top of the source tree.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/*! \file</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * \brief String manipulation functions</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#ifndef _ASTERISK_STRINGS_H</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#define _ASTERISK_STRINGS_H</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/* #define DEBUG_OPAQUE */</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;ctype.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;limits.h&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d60/utils_8h.html">asterisk/utils.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d7d/threadstorage_8h.html">asterisk/threadstorage.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/da5/astobj2_8h.html">asterisk/astobj2.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#if defined(DEBUG_OPAQUE)</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#define __AST_STR_USED used2</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#define __AST_STR_LEN len2</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#define __AST_STR_STR str2</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#define __AST_STR_TS ts2</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#af2ebdaf115317460d994e250488edc52">   41</a></span>&#160;<span class="preprocessor">#define __AST_STR_USED used</span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#ad94b9847f6a7d230bab5c4dacee67f34">   42</a></span>&#160;<span class="preprocessor">#define __AST_STR_LEN len</span></div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a36114d237b0176cc1a885bb621850da0">   43</a></span>&#160;<span class="preprocessor">#define __AST_STR_STR str</span></div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#aff00db0439e80824121a4e61bd5edb4c">   44</a></span>&#160;<span class="preprocessor">#define __AST_STR_TS ts</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/* You may see casts in this header that may seem useless but they ensure this file is C++ clean */</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#aec1b0a2c5fdd41672184aecbb7ee4e3c">   49</a></span>&#160;<span class="preprocessor">#define AS_OR(a,b)   (a &amp;&amp; ast_str_strlen(a)) ? ast_str_buffer(a) : (b)</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">   52</a></span>&#160;<span class="preprocessor">#define ast_strlen_zero(foo)  _ast_strlen_zero(foo, __FILE__, __PRETTY_FUNCTION__, __LINE__)</span></div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a60f4bacff9fe077e6c6faf499a00b509">   53</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> <span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#a60f4bacff9fe077e6c6faf499a00b509">_ast_strlen_zero</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">function</span>, <span class="keywordtype">int</span> line)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;   <span class="keywordflow">if</span> (!s || (*s == <span class="charliteral">&#39;\0&#39;</span>)) {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;   <span class="keywordflow">if</span> (!strcmp(s, <span class="stringliteral">&quot;(null)&quot;</span>)) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#abdaf681117cfed901932cc0d38f1447a">__LOG_WARNING</a>, file, line, <span class="keyword">function</span>, <span class="stringliteral">&quot;Possible programming error: \&quot;(null)\&quot; is not NULL!\n&quot;</span>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> <span class="keywordtype">int</span> <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   <span class="keywordflow">return</span> (!s || (*s == <span class="charliteral">&#39;\0&#39;</span>));</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#ifdef SENSE_OF_HUMOR</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#define ast_strlen_real(a) (a) ? strlen(a) : 0</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#define ast_strlen_imaginary(a)  ast_random()</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">/*! \brief returns the equivalent of logic or for strings:</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"> * first one if not empty, otherwise second one.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">   79</a></span>&#160;<span class="preprocessor">#define S_OR(a, b) ({typeof(&amp;((a)[0])) __x = (a); ast_strlen_zero(__x) ? (b) : __x;})</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">/*! \brief returns the equivalent of logic or for strings, with an additional boolean check:</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"> * second one if not empty and first one is true, otherwise third one.</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"> * example: S_COR(usewidget, widget, &quot;&lt;no widget&gt;&quot;)</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">   85</a></span>&#160;<span class="preprocessor">#define S_COR(a, b, c) ({typeof(&amp;((b)[0])) __x = (b); (a) &amp;&amp; !ast_strlen_zero(__x) ? (__x) : (c);})</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">  \brief Checks whether a string begins with another.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">  \since 12.0.0</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">  \param str String to check.</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">  \param prefix Prefix to look for.</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">  \param 1 if \a str begins with \a prefix, 0 otherwise.</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">   94</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(str != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(prefix != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   <span class="keywordflow">while</span> (*str == *prefix &amp;&amp; *prefix != <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      ++<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      ++<a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;   <span class="keywordflow">return</span> *prefix == <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">  \brief Checks whether a string ends with another.</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">  \since 12.0.0</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">  \param str String to check.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">  \param suffix Suffix to look for.</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">  \param 1 if \a str ends with \a suffix, 0 otherwise.</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a58dc754cbd6253d7955714f4d058a138">  112</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#a58dc754cbd6253d7955714f4d058a138">ast_ends_with</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *suffix)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <span class="keywordtype">size_t</span> str_len;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   <span class="keywordtype">size_t</span> suffix_len;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(str != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(suffix != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   str_len = strlen(str);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   suffix_len = strlen(suffix);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   <span class="keywordflow">if</span> (suffix_len &gt; str_len) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <span class="keywordflow">return</span> strcmp(str + str_len - suffix_len, suffix) == 0;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment"> * \brief return Yes or No depending on the argument.</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"> * Note that this macro is used my AMI, where a literal &quot;Yes&quot; and &quot;No&quot; are</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"> * expected, and translations would cause problems.</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"> * \param x Boolean value</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"> * \return &quot;Yes&quot; if x is true (non-zero)</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"> * \return &quot;No&quot; if x is false (zero)</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#ab7cad97bd640223a24b4bd60ef0e406f">  139</a></span>&#160;<span class="preprocessor">#define AST_YESNO(x) ((x) ? &quot;Yes&quot; : &quot;No&quot;)</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">  \brief Gets a pointer to the first non-whitespace character in a string.</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">  \param str the input string</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">  \return a pointer to the first non-whitespace character</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keywordtype">char</span> * <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#af5693da955fa3bc73bc49c47b601fc7a">ast_skip_blanks</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>),</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;{</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <span class="keywordflow">if</span> (str) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">while</span> (*str &amp;&amp; ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) *str) &lt; 33) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;         str++;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="keywordflow">return</span> (<span class="keywordtype">char</span> *) str;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#af5693da955fa3bc73bc49c47b601fc7a">  157</a></span>&#160;)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">  \brief Trims trailing whitespace characters from a string.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">  \param str the input string</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">  \return a pointer to the modified string</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#abe38193be148775f7559f8fff6e0c17e">ast_trim_blanks</a>(<span class="keywordtype">char</span> *str),</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   <span class="keywordtype">char</span> *work = <a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="keywordflow">if</span> (work) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      work += strlen(work) - 1;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="comment">/* It&#39;s tempting to only want to erase after we exit this loop,</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">         but since ast_trim_blanks *could* receive a constant string</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">         (which we presumably wouldn&#39;t have to touch), we shouldn&#39;t</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">         actually set anything unless we must, and it&#39;s easier just</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">         to set each position to \0 than to keep track of a variable</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">         for it */</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordflow">while</span> ((work &gt;= str) &amp;&amp; ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) *work) &lt; 33)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;         *(work--) = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#abe38193be148775f7559f8fff6e0c17e">  182</a></span>&#160;)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">  \brief Gets a pointer to first whitespace character in a string.</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">  \param str the input string</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">  \return a pointer to the first whitespace character</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keywordtype">char</span> * <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#a0734e172f7ec5c8b5ed5ba0737874083">ast_skip_nonblanks</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str),</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <span class="keywordflow">if</span> (str) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">while</span> (*str &amp;&amp; ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) *str) &gt; 32) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;         str++;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <span class="keywordflow">return</span> (<span class="keywordtype">char</span> *) <a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a0734e172f7ec5c8b5ed5ba0737874083">  200</a></span>&#160;)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">  \brief Strip leading/trailing whitespace from a string.</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">  \param s The string to be stripped (will be modified).</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">  \return The stripped string.</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">  This functions strips all leading and trailing whitespace</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">  characters from the input string, and returns a pointer to</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">  the resulting string. The string is modified in place.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(<span class="keywordtype">char</span> *s),</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;{</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d6/d90/strings_8h.html#af5693da955fa3bc73bc49c47b601fc7a">ast_skip_blanks</a>(s))) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#abe38193be148775f7559f8fff6e0c17e">ast_trim_blanks</a>(s);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   <span class="keywordflow">return</span> s;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">  219</a></span>&#160;)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">  \brief Strip leading/trailing whitespace and quotes from a string.</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">  \param s The string to be stripped (will be modified).</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">  \param beg_quotes The list of possible beginning quote characters.</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">  \param end_quotes The list of matching ending quote characters.</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">  \return The stripped string.</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">  This functions strips all leading and trailing whitespace</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">  characters from the input string, and returns a pointer to</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">  the resulting string. The string is modified in place.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">  It can also remove beginning and ending quote (or quote-like)</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">  characters, in matching pairs. If the first character of the</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">  string matches any character in beg_quotes, and the last</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">  character of the string is the matching character in</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">  end_quotes, then they are removed from the string.</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">  Examples:</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">  \code</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">  ast_strip_quoted(buf, &quot;\&quot;&quot;, &quot;\&quot;&quot;);</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">  ast_strip_quoted(buf, &quot;&#39;&quot;, &quot;&#39;&quot;);</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">  ast_strip_quoted(buf, &quot;[{(&quot;, &quot;]})&quot;);</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">  \endcode</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#aeb597bdc9a1209c2e7dd8af04de43485">ast_strip_quoted</a>(<span class="keywordtype">char</span> *s, <span class="keyword">const</span> <span class="keywordtype">char</span> *beg_quotes, <span class="keyword">const</span> <span class="keywordtype">char</span> *end_quotes);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">  \brief Flags for ast_strsep</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17">  250</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17">ast_strsep_flags</a> {</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17ad5a39d9c273e14503b5edc1c8541ebe2">  251</a></span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17ad5a39d9c273e14503b5edc1c8541ebe2">AST_STRSEP_STRIP</a> =    0x01, <span class="comment">/*!&lt; Trim, then strip quotes.  You may want to trim again */</span></div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17a81540e33a76fd4c5ca8e4462588e578f">  252</a></span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17a81540e33a76fd4c5ca8e4462588e578f">AST_STRSEP_TRIM</a> =     0x02, <span class="comment">/*!&lt; Trim leading and trailing whitespace */</span></div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17ac7c24020f292d706a96a93889f3983b2">  253</a></span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17ac7c24020f292d706a96a93889f3983b2">AST_STRSEP_UNESCAPE</a> = 0x04, <span class="comment">/*!&lt; Unescape &#39;\&#39; */</span></div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17a120b93b0f069a2bb5aa60aed14bfb8d0">  254</a></span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17a120b93b0f069a2bb5aa60aed14bfb8d0">AST_STRSEP_ALL</a> =      0x07, <span class="comment">/*!&lt; Trim, strip, unescape */</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;};</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">  \brief Act like strsep but ignore separators inside quotes.</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">  \param s Pointer to address of the string to be processed.</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">  Will be modified and can&#39;t be constant.</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">  \param sep A single character delimiter.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">  \param flags Controls post-processing of the result.</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">  AST_STRSEP_TRIM trims all leading and trailing whitespace from the result.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">  AST_STRSEP_STRIP does a trim then strips the outermost quotes.  You may want</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">  to trim again after the strip.  Just OR both the TRIM and STRIP flags.</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">  AST_STRSEP_UNESCAPE unescapes &#39;\&#39; sequences.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">  AST_STRSEP_ALL does all of the above processing.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">  \return The next token or NULL if done or if there are more than 8 levels of</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">  nested quotes.</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">  This function acts like strsep with three exceptions...</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">  The separator is a single character instead of a string.</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">  Separators inside quotes are treated literally instead of like separators.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">  You can elect to have leading and trailing whitespace and quotes</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">  stripped from the result and have &#39;\&#39; sequences unescaped.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">  Like strsep, ast_strsep maintains no internal state and you can call it</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">  recursively using different separators on the same storage.</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">  Also like strsep, for consistent results, consecutive separators are not</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">  collapsed so you may get an empty string as a valid result.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">  Examples:</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">  \code</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">   char *mystr = ast_strdupa(&quot;abc=def,ghi=&#39;zzz=yyy,456&#39;,jkl&quot;);</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">   char *token, *token2, *token3;</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">   while((token = ast_strsep(&amp;mystr, &#39;,&#39;, AST_SEP_STRIP))) {</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">      // 1st token will be aaa=def</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">      // 2nd token will be ghi=&#39;zzz=yyy,456&#39;</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">      while((token2 = ast_strsep(&amp;token, &#39;=&#39;, AST_SEP_STRIP))) {</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">         // 1st token2 will be ghi</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">         // 2nd token2 will be zzz=yyy,456</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">         while((token3 = ast_strsep(&amp;token2, &#39;,&#39;, AST_SEP_STRIP))) {</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">            // 1st token3 will be zzz=yyy</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">            // 2nd token3 will be 456</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">            // and so on</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">         }</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">      }</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">      // 3rd token will be jkl</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">   }</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">  \endcode</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#aec193d64a6309c72d72e5e523ef6076e">ast_strsep</a>(<span class="keywordtype">char</span> **s, <span class="keyword">const</span> <span class="keywordtype">char</span> sep, uint32_t flags);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">  \brief Strip backslash for &quot;escaped&quot; semicolons,</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">   the string to be stripped (will be modified).</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">  \return The stripped string.</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#a20ca5b03887fb1ecf589590182f4a9aa">ast_unescape_semicolon</a>(<span class="keywordtype">char</span> *s);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">  \brief Convert some C escape sequences  \verbatim (\b\f\n\r\t) \endverbatim into the</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">   equivalent characters. The string to be converted (will be modified).</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">  \return The converted string.</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#a9468c7f63f6497c0ec571c5a34e906d2">ast_unescape_c</a>(<span class="keywordtype">char</span> *s);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"> * \brief Escape the &#39;to_escape&#39; characters in the given string.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"> * \note The given output buffer will contain a truncated escaped</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"> * version of the source string if the given buffer is not large</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment"> * enough.</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment"> * \param dest the escaped string</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"> * \param s the source string to escape</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"> * \param size The size of the destination buffer</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"> * \param to_escape an array of characters to escape</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"> * \return Pointer to the destination.</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#a74d504bc3094ec99b1618a1c41b68e19">ast_escape</a>(<span class="keywordtype">char</span> *dest, <span class="keyword">const</span> <span class="keywordtype">char</span> *s, <span class="keywordtype">size_t</span> size, <span class="keyword">const</span> <span class="keywordtype">char</span> *to_escape);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"> * \brief Escape standard &#39;C&#39; sequences in the given string.</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment"> * \note The given output buffer will contain a truncated escaped</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"> * version of the source string if the given buffer is not large</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"> * enough.</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"> * \param dest the escaped string</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"> * \param s the source string to escape</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"> * \param size The size of the destination buffer</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"> * \return Pointer to the escaped string.</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#a365aacee32b2b6eb95f871376cf2aeec">ast_escape_c</a>(<span class="keywordtype">char</span> *dest, <span class="keyword">const</span> <span class="keywordtype">char</span> *s, <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"> * \brief Escape the &#39;to_escape&#39; characters in the given string.</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"> * \note Caller is responsible for freeing the returned string</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"> * \param s the source string to escape</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"> * \param to_escape an array of characters to escape</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"> * \return Pointer to the escaped string or NULL.</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#a292ef9ea10c2bda74db29c6c60add439">ast_escape_alloc</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s, <span class="keyword">const</span> <span class="keywordtype">char</span> *to_escape);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"> * \brief Escape standard &#39;C&#39; sequences in the given string.</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"> * \note Caller is responsible for freeing the returned string</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"> * \param s the source string to escape</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"> * \return Pointer to the escaped string or NULL.</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#a62bd9f69e2bd9ccd3760d9681987eca0">ast_escape_c_alloc</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">  \brief Size-limited null-terminating string copy.</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">  \param dst The destination buffer.</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">  \param src The source string</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">  \param size The size of the destination buffer</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">  \return Nothing.</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">  This is similar to \a strncpy, with two important differences:</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">    - the destination buffer will \b always be null-terminated</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">    - the destination buffer is not filled with zeros past the copied string length</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">  These differences make it slightly more efficient, and safer to use since it will</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">  not leave the destination buffer unterminated. There is no need to pass an artificially</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">  reduced buffer size to this function (unlike \a strncpy), and the buffer does not need</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">  to be initialized to zeroes prior to calling this function.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<span class="keywordtype">char</span> *dst, <span class="keyword">const</span> <span class="keywordtype">char</span> *src, <span class="keywordtype">size_t</span> size),</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;{</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">while</span> (*src &amp;&amp; size) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      *dst++ = *src++;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      size--;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   <span class="keywordflow">if</span> (__builtin_expect(!size, 0))</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      dst--;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   *dst = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;}</div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">  401</a></span>&#160;)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">  \brief Build a string in a buffer, designed to be called repeatedly</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">  \note This method is not recommended. New code should use ast_str_*() instead.</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">  This is a wrapper for snprintf, that properly handles the buffer pointer</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">  and buffer space available.</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">  \param buffer current position in buffer to place string into (will be updated on return)</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">  \param space remaining space in buffer (will be updated on return)</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">  \param fmt printf-style format string</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">  \retval 0 on success</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">  \retval non-zero on failure.</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#a603020160399d4876ec09fd299ebcaf9">ast_build_string</a>(<span class="keywordtype">char</span> **buffer, <span class="keywordtype">size_t</span> *space, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...) __attribute__((<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>(printf, 3, 4)));</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">  \brief Build a string in a buffer, designed to be called repeatedly</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">  This is a wrapper for snprintf, that properly handles the buffer pointer</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">  and buffer space available.</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">  \return 0 on success, non-zero on failure.</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">  \param buffer current position in buffer to place string into (will be updated on return)</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">  \param space remaining space in buffer (will be updated on return)</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">  \param fmt printf-style format string</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">  \param ap varargs list of arguments for format</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#a7cc2336f3642ec07be6058e7fa746e71">ast_build_string_va</a>(<span class="keywordtype">char</span> **buffer, <span class="keywordtype">size_t</span> *space, const <span class="keywordtype">char</span> *fmt, va_list ap) __attribute__((<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>(printf, 3, 0)));</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment"> * \brief Make sure something is true.</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"> * Determine if a string containing a boolean value is &quot;true&quot;.</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"> * This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value.</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"> * It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;.</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"> * \retval 0 if val is a NULL pointer.</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment"> * \retval -1 if &quot;true&quot;.</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"> * \retval 0 otherwise.</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(const <span class="keywordtype">char</span> *<a class="code" href="../../d5/d85/structval.html">val</a>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment"> * \brief Make sure something is false.</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"> * Determine if a string containing a boolean value is &quot;false&quot;.</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"> * This function checks to see whether a string passed to it is an indication of an &quot;false&quot; value.</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"> * It checks to see if the string is &quot;no&quot;, &quot;false&quot;, &quot;n&quot;, &quot;f&quot;, &quot;off&quot; or &quot;0&quot;.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment"> * \retval 0 if val is a NULL pointer.</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment"> * \retval -1 if &quot;true&quot;.</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment"> * \retval 0 otherwise.</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#a6c3dc0bad204e9dd9890325c1c861e38">ast_false</a>(const <span class="keywordtype">char</span> *val);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"> * \brief Join an array of strings into a single string.</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"> * \param s the resulting string buffer</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment"> * \param len the length of the result buffer, s</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment"> * \param w an array of strings to join.</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"> * \param size the number of elements to join</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment"> * \param delim delimiter between elements</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"> * This function will join all of the strings in the array &#39;w&#39; into a single</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"> * string.  It will also place &#39;delim&#39; in the result buffer in between each</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"> * string from &#39;w&#39;.</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d90/strings_8h.html#afb2b3d060d0cd9d92c91800c9d582ac9">ast_join_delim</a>(<span class="keywordtype">char</span> *s, <span class="keywordtype">size_t</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, const <span class="keywordtype">char</span> * const w[],</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size, <span class="keywordtype">char</span> delim);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment"> * \brief Join an array of strings into a single string.</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment"> * \param s the resulting string buffer</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment"> * \param len the length of the result buffer, s</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment"> * \param w an array of strings to join.</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"> * This function will join all of the strings in the array &#39;w&#39; into a single</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment"> * string.  It will also place a space in the result buffer in between each</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"> * string from &#39;w&#39;.</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#aea6bd3799329d5811098c41b6c201c45">  483</a></span>&#160;<span class="preprocessor">#define ast_join(s, len, w) ast_join_delim(s, len, w, -1, &#39; &#39;)</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"> * \brief Attempts to convert the given string to camel case using</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment"> *        the specified delimiter.</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"> * note - returned string needs to be freed</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment"> * \param s the string to convert</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment"> * \param delim delimiter to parse out</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment"> * \retval The string converted to &quot;CamelCase&quot;</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#ab1f08732bd824bcae476843187180755">ast_to_camel_case_delim</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s, <span class="keyword">const</span> <span class="keywordtype">char</span> *delim);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment"> * \brief Attempts to convert the given string to camel case using</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment"> *        an underscore as the specified delimiter.</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment"> * note - returned string needs to be freed</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"> * \param s the string to convert</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment"> * \retval The string converted to &quot;CamelCase&quot;</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#ad0bec94a9f3092be74c32953bc5b4ead">  509</a></span>&#160;<span class="preprocessor">#define ast_to_camel_case(s) ast_to_camel_case_delim(s, &quot;_&quot;)</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">  \brief Parse a time (integer) string.</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">  \param src String to parse</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">  \param dst Destination</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">  \param _default Value to use if the string does not contain a valid time</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">  \param consumed The number of characters &#39;consumed&#39; in the string by the parse (see &#39;man sscanf&#39; for details)</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">  \retval 0 on success</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">  \retval non-zero on failure.</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#a3b5457e5f5679935093d94b0f788769e">ast_get_time_t</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *src, time_t *dst, time_t _default, <span class="keywordtype">int</span> *consumed);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">  \brief Parse a time (float) string.</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">  \param src String to parse</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">  \param dst Destination</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">  \param _default Value to use if the string does not contain a valid time</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">  \param consumed The number of characters &#39;consumed&#39; in the string by the parse (see &#39;man sscanf&#39; for details)</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">  \return zero on success, non-zero on failure</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#af96aa9b71c6ef0f2f75038669d950b31">ast_get_timeval</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *src, <span class="keyword">struct</span> timeval *tv, <span class="keyword">struct</span> timeval _default, <span class="keywordtype">int</span> *consumed);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment"> * Support for dynamic strings.</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"> * A dynamic string is just a C string prefixed by a few control fields</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"> * that help setting/appending/extending it using a printf-like syntax.</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"> * One should never declare a variable with this type, but only a pointer</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"> * to it, e.g.</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"> * struct ast_str *ds;</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> * The pointer can be initialized with the following:</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"> * ds = ast_str_create(init_len);</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"> *    creates a malloc()&#39;ed dynamic string;</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment"> * ds = ast_str_alloca(init_len);</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"> *    creates a string on the stack (not very dynamic!).</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"> * ds = ast_str_thread_get(ts, init_len)</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment"> *    creates a malloc()&#39;ed dynamic string associated to</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"> *    the thread-local storage key ts</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"> * Finally, the string can be manipulated with the following:</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"> * ast_str_set(&amp;buf, max_len, fmt, ...)</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"> * ast_str_append(&amp;buf, max_len, fmt, ...)</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"> * and their varargs variant</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment"> * ast_str_set_va(&amp;buf, max_len, ap)</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"> * ast_str_append_va(&amp;buf, max_len, ap)</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"> * \param max_len The maximum allowed capacity of the ast_str. Note that</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment"> *  if the value of max_len is less than the current capacity of the</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"> *  ast_str (as returned by ast_str_size), then the parameter is effectively</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment"> *  ignored.</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment"> *    0 means unlimited, -1 means &quot;at most the available space&quot;</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment"> * \return All the functions return &lt;0 in case of error, or the</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment"> * length of the string added to the buffer otherwise. Note that</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment"> * in most cases where an error is returned, characters ARE written</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment"> * to the ast_str.</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">/*! \brief The descriptor of a dynamic string</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment"> *  XXX storage will be optimized later if needed</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment"> * We use the ts field to indicate the type of storage.</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"> * Three special constants indicate malloc, ast_alloca() or static</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"> * variables, all other values indicate a</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"> * struct ast_threadstorage pointer.</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="../../dd/da2/structast__str.html">  584</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> {</div><div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="../../dd/da2/structast__str.html#aa267a036c77c703cb494286a049d624b">  585</a></span>&#160;   <span class="keywordtype">size_t</span> <a class="code" href="../../dd/da2/structast__str.html#aa267a036c77c703cb494286a049d624b">__AST_STR_LEN</a>;         <span class="comment">/*!&lt; The current maximum length of the string */</span></div><div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="../../dd/da2/structast__str.html#a7acf1b4de87eb325127bcbb90be35d71">  586</a></span>&#160;   <span class="keywordtype">size_t</span> <a class="code" href="../../dd/da2/structast__str.html#a7acf1b4de87eb325127bcbb90be35d71">__AST_STR_USED</a>;        <span class="comment">/*!&lt; Amount of space used */</span></div><div class="line"><a name="l00587"></a><span class="lineno"><a class="line" href="../../dd/da2/structast__str.html#ac0f4c76f6cddc0e88aeb69e414b10017">  587</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> *<a class="code" href="../../dd/da2/structast__str.html#ac0f4c76f6cddc0e88aeb69e414b10017">__AST_STR_TS</a>;   <span class="comment">/*!&lt; What kind of storage is this ? */</span></div><div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a20edb6e0de35eafa94d8fd658b6269b5">  588</a></span>&#160;<span class="preprocessor">#define DS_MALLOC ((struct ast_threadstorage *)1)</span></div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a6156c625587998a6612dbba274c860f7">  589</a></span>&#160;<span class="preprocessor">#define DS_ALLOCA ((struct ast_threadstorage *)2)</span></div><div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a507890094a4eb5180fdf417988fbdee0">  590</a></span>&#160;<span class="preprocessor">#define DS_STATIC ((struct ast_threadstorage *)3)  </span><span class="comment">/* not supported yet */</span><span class="preprocessor"></span></div><div class="line"><a name="l00591"></a><span class="lineno"><a class="line" href="../../dd/da2/structast__str.html#a502643f03592ad00c4216e337a27b3d8">  591</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dd/da2/structast__str.html#a502643f03592ad00c4216e337a27b3d8">__AST_STR_STR</a>[0];        <span class="comment">/*!&lt; The string buffer */</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;};</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"> * \brief Given a string regex_string in the form of &quot;/regex/&quot;, convert it into the form of &quot;regex&quot;</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment"> * This function will trim one leading / and one trailing / from a given input string</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment"> * ast_str regex_pattern must be preallocated before calling this function</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment"> * \return 0 on success, non-zero on failure.</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment"> * \return 1 if we only stripped a leading /</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment"> * \return 2 if we only stripped a trailing /</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment"> * \return 3 if we did not strip any / characters</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment"> * \param regex_string  the string containing /regex/</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment"> * \param regex_pattern the destination ast_str which will contain &quot;regex&quot; after execution</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#af7a2c1bf0a98df4a52ee48a9d9e25510">ast_regex_string_to_regex_pattern</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *regex_string, <span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **regex_pattern);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment"> * \brief Create a malloc&#39;ed dynamic length string</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment"> * \param init_len This is the initial length of the string buffer</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"> * \return This function returns a pointer to the dynamic string length.  The</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment"> *         result will be NULL in the case of a memory allocation error.</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"> * \note The result of this function is dynamically allocated memory, and must</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment"> *       be free()&#39;d after it is no longer needed.</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">  620</a></span>&#160;<span class="preprocessor">#define ast_str_create(init_len) \</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="preprocessor">   _ast_str_create(init_len, __FILE__, __LINE__, __PRETTY_FUNCTION__)</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> * <a class="code" href="../../d4/dd1/compiler_8h.html#a6cac3cc05c63f4c86b87adb783c8d620">attribute_malloc</a> <a class="code" href="../../d6/d90/strings_8h.html#ae93e7cd0e9e7a93e399ec01dd48a7201">_ast_str_create</a>(<span class="keywordtype">size_t</span> init_len,</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <span class="keywordtype">int</span> lineno, <span class="keyword">const</span> <span class="keywordtype">char</span> *func),</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;{</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   buf = (<span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *)<a class="code" href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a>(1, <span class="keyword">sizeof</span>(*buf) + init_len, file, lineno, func);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <span class="keywordflow">if</span> (buf == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   buf-&gt;<a class="code" href="../../dd/da2/structast__str.html#aa267a036c77c703cb494286a049d624b">__AST_STR_LEN</a> = init_len;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   buf-&gt;<a class="code" href="../../dd/da2/structast__str.html#a7acf1b4de87eb325127bcbb90be35d71">__AST_STR_USED</a> = 0;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   buf-&gt;<a class="code" href="../../dd/da2/structast__str.html#ac0f4c76f6cddc0e88aeb69e414b10017">__AST_STR_TS</a> = <a class="code" href="../../d6/d90/strings_8h.html#a20edb6e0de35eafa94d8fd658b6269b5">DS_MALLOC</a>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;}</div><div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#ae93e7cd0e9e7a93e399ec01dd48a7201">  638</a></span>&#160;)</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">/*! \brief Reset the content of a dynamic string.</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment"> * Useful before a series of ast_str_append.</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>),</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;{</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>) {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_USED = 0;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_LEN) {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;         <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_STR[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   }</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;}</div><div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">  653</a></span>&#160;)</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">/*! \brief Update the length of the buffer, after using ast_str merely as a buffer.</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment"> *  \param buf A pointer to the ast_str string.</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d90/strings_8h.html#aa64825674476f476402283fe4bd7ee51">ast_str_update</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>),</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_USED = strlen(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_STR);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div><div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#aa64825674476f476402283fe4bd7ee51">  663</a></span>&#160;)</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">/*! \brief Trims trailing whitespace characters from an ast_str string.</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment"> *  \param buf A pointer to the ast_str string.</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d90/strings_8h.html#a6a44a14b43688738c2d526b776f6230f">ast_str_trim_blanks</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>),</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;{</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>) {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   <span class="keywordflow">while</span> (<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_USED &amp;&amp; ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_STR[<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_USED - 1]) &lt; 33) {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_STR[--(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_USED)] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;}</div><div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a6a44a14b43688738c2d526b776f6230f">  678</a></span>&#160;)</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">/*!\brief Returns the current length of the string stored within buf.</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment"> * \param buf A pointer to the ast_str structure.</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>),</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;{</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_USED;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;}</div><div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">  688</a></span>&#160;)</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment">/*!\brief Returns the current maximum length (without reallocation) of the current buffer.</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment"> * \param buf A pointer to the ast_str structure.</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment"> * \retval Current maximum length of the buffer.</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#ae99d6f51ac4be6b72f8b63892cd949e1">ast_str_size</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>),</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;{</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_LEN;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;}</div><div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#ae99d6f51ac4be6b72f8b63892cd949e1">  699</a></span>&#160;)</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">/*!\brief Returns the string buffer within the ast_str buf.</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment"> * \param buf A pointer to the ast_str structure.</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment"> * \retval A pointer to the enclosed string.</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="keywordtype">char</span> * <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>),</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;{</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   <span class="comment">/* for now, cast away the const qualifier on the pointer</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">    * being returned; eventually, it should become truly const</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">    * and only be modified via accessor functions</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   <span class="keywordflow">return</span> (<span class="keywordtype">char</span> *) <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_STR;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;}</div><div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">  714</a></span>&#160;)</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment">/*!\brief Truncates the enclosed string to the given length.</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment"> * \param buf A pointer to the ast_str structure.</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment"> * \param len Maximum length of the string. If len is larger than the</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment"> *        current maximum length, things will explode. If it is negative</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment"> *        at most -len characters will be trimmed off the end.</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment"> * \retval A pointer to the resulting string.</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#a0b9c195ff2235f7670358e1e37cf6b8d">ast_str_truncate</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, ssize_t len),</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;{</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   <span class="keywordflow">if</span> (len &lt; 0) {</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_USED)) -len &gt;= <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_USED) {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;         <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_USED = 0;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;         <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_USED += <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_USED = <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;   }</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_STR[<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_USED] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>-&gt;__AST_STR_STR;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;}</div><div class="line"><a name="l00738"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a0b9c195ff2235f7670358e1e37cf6b8d">  738</a></span>&#160;)</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment"> * AST_INLINE_API() is a macro that takes a block of code as an argument.</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment"> * Using preprocessor #directives in the argument is not supported by all</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment"> * compilers, and it is a bit of an obfuscation anyways, so avoid it.</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment"> * As a workaround, define a macro that produces either its argument</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment"> * or nothing, and use that instead of #ifdef/#endif within the</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment"> * argument to AST_INLINE_API().</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;#<span class="keywordflow">if</span> defined(DEBUG_THREADLOCALS)</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="preprocessor">#define  _DB1(x)  x</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#ab52e9e48795df07c217a556379d8e91d">  751</a></span>&#160;<span class="preprocessor">#define _DB1(x)</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment"> * Make space in a new string (e.g. to read in data from a file)</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#a384eba533216f3d2741cc8a51bc66987">_ast_str_make_space</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="keywordtype">size_t</span> new_len, <span class="keyword">const</span> <span class="keywordtype">char</span> *file, <span class="keywordtype">int</span> lineno, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">function</span>),</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;{</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *old_buf = *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <span class="keywordflow">if</span> (new_len &lt;= (*buf)-&gt;__AST_STR_LEN)</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">return</span> 0;   <span class="comment">/* success */</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a33e91cd0cef6786e9e3a27ac67707207">if</a> ((*buf)-&gt;__AST_STR_TS == <a class="code" href="../../d6/d90/strings_8h.html#a6156c625587998a6612dbba274c860f7">DS_ALLOCA</a> || (*buf)-&gt;__AST_STR_TS == <a class="code" href="../../d6/d90/strings_8h.html#a507890094a4eb5180fdf417988fbdee0">DS_STATIC</a>)</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="keywordflow">return</span> -1;  <span class="comment">/* cannot extend */</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   *buf = (<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *)<a class="code" href="../../d8/d8a/astmm_8h.html#a6fb2a532b8ed08d248b7326abf218c5e">__ast_realloc</a>(*buf, new_len + <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a>), file, lineno, <span class="keyword">function</span>);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   <span class="keywordflow">if</span> (*buf == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      *buf = old_buf;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   }</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;   <span class="keywordflow">if</span> ((*buf)-&gt;__AST_STR_TS != <a class="code" href="../../d6/d90/strings_8h.html#a20edb6e0de35eafa94d8fd658b6269b5">DS_MALLOC</a>) {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      pthread_setspecific((*buf)-&gt;__AST_STR_TS-&gt;key, *buf);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      _DB1(__ast_threadstorage_object_replace(old_buf, *buf, new_len + sizeof(struct ast_str));)</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;   }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   (*buf)-&gt;<a class="code" href="../../dd/da2/structast__str.html#aa267a036c77c703cb494286a049d624b">__AST_STR_LEN</a> = new_len;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;}</div><div class="line"><a name="l00779"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a384eba533216f3d2741cc8a51bc66987">  779</a></span>&#160;)</div><div class="line"><a name="l00780"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#aa3d67163f6a94e575ee602933adf1eab">  780</a></span>&#160;#define <a class="code" href="../../d6/d90/strings_8h.html#aa3d67163f6a94e575ee602933adf1eab">ast_str_make_space</a>(buf, new_len) \</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   _ast_str_make_space(buf, new_len, __FILE__, __LINE__, __PRETTY_FUNCTION__)</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#a592839be18ac3eb7e7207d89f682f9ac">ast_str_copy_string</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **dst, <span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *src),</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;{</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;   <span class="comment">/* make sure our destination is large enough */</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;   <span class="keywordflow">if</span> (src-&gt;<a class="code" href="../../dd/da2/structast__str.html#a7acf1b4de87eb325127bcbb90be35d71">__AST_STR_USED</a> + 1 &gt; (*dst)-&gt;__AST_STR_LEN) {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      if (ast_str_make_space(dst, src-&gt;__AST_STR_USED + 1)) {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;         return -1;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      }</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;   }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   memcpy((*dst)-&gt;__AST_STR_STR, src-&gt;<a class="code" href="../../dd/da2/structast__str.html#a502643f03592ad00c4216e337a27b3d8">__AST_STR_STR</a>, src-&gt;<a class="code" href="../../dd/da2/structast__str.html#a7acf1b4de87eb325127bcbb90be35d71">__AST_STR_USED</a> + 1);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;   (*dst)-&gt;__AST_STR_USED = src-&gt;<a class="code" href="../../dd/da2/structast__str.html#a7acf1b4de87eb325127bcbb90be35d71">__AST_STR_USED</a>;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div><div class="line"><a name="l00798"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a592839be18ac3eb7e7207d89f682f9ac">  798</a></span>&#160;)</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">  800</a></span>&#160;#define <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(init_len)       \</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   ({                \</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      struct <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *__ast_str_buf;         \</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      __ast_str_buf = <a class="code" href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a>(<span class="keyword">sizeof</span>(*__ast_str_buf) + init_len); \</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      __ast_str_buf-&gt;__AST_STR_LEN = init_len;        \</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      __ast_str_buf-&gt;__AST_STR_USED = 0;           \</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      __ast_str_buf-&gt;__AST_STR_TS = <a class="code" href="../../d6/d90/strings_8h.html#a6156c625587998a6612dbba274c860f7">DS_ALLOCA</a>;        \</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      __ast_str_buf-&gt;__AST_STR_STR[0] = <span class="charliteral">&#39;\0&#39;</span>;         \</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      (__ast_str_buf);              \</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   })</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment"> * \brief Retrieve a thread locally stored dynamic string</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment"> * \param ts This is a pointer to the thread storage structure declared by using</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment"> *      the AST_THREADSTORAGE macro.  If declared with</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment"> *      AST_THREADSTORAGE(my_buf, my_buf_init), then this argument would be</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment"> *      (&amp;my_buf).</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment"> * \param init_len This is the initial length of the thread&#39;s dynamic string. The</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment"> *      current length may be bigger if previous operations in this thread have</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment"> *      caused it to increase.</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment"> * \return This function will return the thread locally stored dynamic string</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment"> *         associated with the thread storage management variable passed as the</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment"> *         first argument.</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment"> *         The result will be NULL in the case of a memory allocation error.</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment"> * Example usage:</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment"> * \code</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment"> * AST_THREADSTORAGE(my_str, my_str_init);</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment"> * #define MY_STR_INIT_SIZE   128</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment"> * ...</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment"> * void my_func(const char *fmt, ...)</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment"> * {</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment"> *      struct ast_str *buf;</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment"> *      if (!(buf = ast_str_thread_get(&amp;my_str, MY_STR_INIT_SIZE)))</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment"> *           return;</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment"> *      ...</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment"> * }</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment"> * \endcode</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;#<span class="keywordflow">if</span> !defined(DEBUG_THREADLOCALS)</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../d6/d90/strings_8h.html#afe8f5f844f2fd5f5bd5d0be5ef671481">ast_str_thread_get</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> *ts,</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   <span class="keywordtype">size_t</span> init_len),</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;{</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   buf = (<span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *)<a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(ts, <span class="keyword">sizeof</span>(*buf) + init_len);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <span class="keywordflow">if</span> (buf == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <span class="keywordflow">if</span> (!buf-&gt;<a class="code" href="../../dd/da2/structast__str.html#aa267a036c77c703cb494286a049d624b">__AST_STR_LEN</a>) {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      buf-&gt;<a class="code" href="../../dd/da2/structast__str.html#aa267a036c77c703cb494286a049d624b">__AST_STR_LEN</a> = init_len;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      buf-&gt;<a class="code" href="../../dd/da2/structast__str.html#a7acf1b4de87eb325127bcbb90be35d71">__AST_STR_USED</a> = 0;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      buf-&gt;<a class="code" href="../../dd/da2/structast__str.html#ac0f4c76f6cddc0e88aeb69e414b10017">__AST_STR_TS</a> = ts;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   }</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;}</div><div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#afe8f5f844f2fd5f5bd5d0be5ef671481">  861</a></span>&#160;)</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;#<span class="keywordflow">else</span> <span class="comment">/* defined(DEBUG_THREADLOCALS) */</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *__ast_str_thread_get(<span class="keyword">struct</span> <a class="code" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> *ts,</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="keywordtype">size_t</span> init_len, <span class="keyword">const</span> <span class="keywordtype">char</span> *file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">function</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line),</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;{</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;   buf = (<span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *)__ast_threadstorage_get(ts, <span class="keyword">sizeof</span>(*buf) + init_len, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <span class="keyword">function</span>, line);</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <span class="keywordflow">if</span> (buf == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;   <span class="keywordflow">if</span> (!buf-&gt;<a class="code" href="../../dd/da2/structast__str.html#aa267a036c77c703cb494286a049d624b">__AST_STR_LEN</a>) {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      buf-&gt;<a class="code" href="../../dd/da2/structast__str.html#aa267a036c77c703cb494286a049d624b">__AST_STR_LEN</a> = init_len;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      buf-&gt;<a class="code" href="../../dd/da2/structast__str.html#a7acf1b4de87eb325127bcbb90be35d71">__AST_STR_USED</a> = 0;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      buf-&gt;<a class="code" href="../../dd/da2/structast__str.html#ac0f4c76f6cddc0e88aeb69e414b10017">__AST_STR_TS</a> = ts;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;}</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;)</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;#define <a class="code" href="../../d6/d90/strings_8h.html#afe8f5f844f2fd5f5bd5d0be5ef671481">ast_str_thread_get</a>(ts, init_len) __ast_str_thread_get(ts, init_len, __FILE__, __PRETTY_FUNCTION__, __LINE__)</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* defined(DEBUG_THREADLOCALS) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment"> * \brief Error codes from __ast_str_helper()</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment"> * The undelying processing to manipulate dynamic string is done</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment"> * by __ast_str_helper(), which can return a success or a</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment"> * permanent failure (e.g. no memory).</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="keyword">enum</span> {<span class="comment"></span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment">   /*! An error has occurred and the contents of the dynamic string</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">    *  are undefined */</span></div><div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a640e110a8e92c1283f2aae76e4649f48a46fbdfa757aef01471bab9679ce4281f">  895</a></span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a640e110a8e92c1283f2aae76e4649f48a46fbdfa757aef01471bab9679ce4281f">AST_DYNSTR_BUILD_FAILED</a> = -1,<span class="comment"></span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">   /*! The buffer size for the dynamic string had to be increased, and</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">    *  __ast_str_helper() needs to be called again after</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">    *  a va_end() and va_start().  This return value is legacy and will</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">    *  no longer be used.</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00901"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a640e110a8e92c1283f2aae76e4649f48aebcdc95d7cc2d21815ef0650ee4690e4">  901</a></span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a640e110a8e92c1283f2aae76e4649f48aebcdc95d7cc2d21815ef0650ee4690e4">AST_DYNSTR_BUILD_RETRY</a> = -2</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;};</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment"> * \brief Core functionality of ast_str_(set|append)_va</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment"> * The arguments to this function are the same as those described for</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment"> * ast_str_set_va except for an addition argument, append.</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment"> * If append is non-zero, this will append to the current string instead of</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment"> * writing over it.</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment"> * AST_DYNSTR_BUILD_RETRY is a legacy define.  It should probably never</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment"> * again be used.</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment"> * A return of AST_DYNSTR_BUILD_FAILED indicates a memory allocation error.</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment"> * A return value greater than or equal to zero indicates the number of</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment"> * characters that have been written, not including the terminating &#39;\0&#39;.</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment"> * In the append case, this only includes the number of characters appended.</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment"> * \note This function should never need to be called directly.  It should</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment"> *       through calling one of the other functions or macros defined in this</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment"> *       file.</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="keywordtype">int</span> __attribute__((<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>(printf, 4, 0))) <a class="code" href="../../d6/d90/strings_8h.html#aa5c07cfa3dd6c6c55b94a4d0dde4ed84">__ast_str_helper</a>(struct <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **buf,</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   ssize_t max_len, <span class="keywordtype">int</span> append, const <span class="keywordtype">char</span> *fmt, va_list ap,</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   const <span class="keywordtype">char</span> *file, <span class="keywordtype">int</span> lineno, const <span class="keywordtype">char</span> *func);</div><div class="line"><a name="l00928"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#aa7a2cd389095897464c66a10734e5d94">  928</a></span>&#160;<span class="preprocessor">#define _ast_str_helper(buf, max_len, append, fmt, ap) \</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="preprocessor">   __ast_str_helper(buf, max_len, append, fmt, ap, __FILE__, __LINE__, __PRETTY_FUNCTION__)</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#af82174c2859a9cdbd4d19a55ad5f3c94">__ast_str_helper2</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **buf, ssize_t max_len,</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *src, <span class="keywordtype">size_t</span> maxsrc, <span class="keywordtype">int</span> append, <span class="keywordtype">int</span> escapecommas);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment"> * \brief Set a dynamic string from a va_list</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment"> * \param buf This is the address of a pointer to a struct ast_str.</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment"> * If it is retrieved using ast_str_thread_get, the</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment">   struct ast_threadstorage pointer will need to</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment"> *      be updated in the case that the buffer has to be reallocated to</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment"> *      accommodate a longer string than what it currently has space for.</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment"> * \param max_len This is the maximum length to allow the string buffer to grow</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment"> *      to.  If this is set to 0, then there is no maximum length.</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment"> * \param fmt This is the format string (printf style)</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment"> * \param ap This is the va_list</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment"> * \return The return value of this function is the same as that of the printf</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment"> *         family of functions.</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment"> * Example usage (the first part is only for thread-local storage)</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment"> * \code</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment"> * AST_THREADSTORAGE(my_str, my_str_init);</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment"> * #define MY_STR_INIT_SIZE   128</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment"> * ...</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment"> * void my_func(const char *fmt, ...)</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment"> * {</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment"> *      struct ast_str *buf;</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment"> *      va_list ap;</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment"> *      if (!(buf = ast_str_thread_get(&amp;my_str, MY_STR_INIT_SIZE)))</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment"> *           return;</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment"> *      ...</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="comment"> *      va_start(fmt, ap);</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="comment"> *      ast_str_set_va(&amp;buf, 0, fmt, ap);</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment"> *      va_end(ap);</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment"> *      printf(&quot;This is the string we just built: %s\n&quot;, buf-&gt;str);</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment"> *      ...</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment"> * }</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment"> * \endcode</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment"> * \note Care should be taken when using this function. The function can</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment"> * result in reallocating the ast_str. If a pointer to the ast_str is passed</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment"> * by value to a function that calls ast_str_set_va(), then the original ast_str</span></div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment"> * pointer may be invalidated due to a reallocation.</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(<span class="keywordtype">int</span> __attribute__((<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>(printf, 3, 0))) <a class="code" href="../../d6/d90/strings_8h.html#a271350c7540474095b75cbea17d4837a">ast_str_set_va</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **buf, ssize_t max_len, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, va_list ap),</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;{</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#aa7a2cd389095897464c66a10734e5d94">_ast_str_helper</a>(buf, max_len, 0, fmt, ap);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;}</div><div class="line"><a name="l00982"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a271350c7540474095b75cbea17d4837a">  982</a></span>&#160;)</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="comment"> * \brief Append to a dynamic string using a va_list</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="comment"> * Same as ast_str_set_va(), but append to the current content.</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment"> * \note Care should be taken when using this function. The function can</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment"> * result in reallocating the ast_str. If a pointer to the ast_str is passed</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment"> * by value to a function that calls ast_str_append_va(), then the original ast_str</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="comment"> * pointer may be invalidated due to a reallocation.</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment"> * \param buf, max_len, fmt, ap</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(<span class="keywordtype">int</span> __attribute__((<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>(printf, 3, 0))) <a class="code" href="../../d6/d90/strings_8h.html#aadcedfc19bc7df38193262ebb8f3c991">ast_str_append_va</a>(struct <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **buf, ssize_t max_len, const <span class="keywordtype">char</span> *fmt, va_list ap),</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;{</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#aa7a2cd389095897464c66a10734e5d94">_ast_str_helper</a>(buf, max_len, 1, fmt, ap);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;}</div><div class="line"><a name="l01000"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#aadcedfc19bc7df38193262ebb8f3c991"> 1000</a></span>&#160;)</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">/*!\brief Set a dynamic string to a non-NULL terminated substring. */</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#abda810b81f8f0349aca3fad136e5d416">ast_str_set_substr</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **buf, ssize_t maxlen, <span class="keyword">const</span> <span class="keywordtype">char</span> *src, <span class="keywordtype">size_t</span> maxsrc),</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;{</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#af82174c2859a9cdbd4d19a55ad5f3c94">__ast_str_helper2</a>(buf, maxlen, src, maxsrc, 0, 0);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;}</div><div class="line"><a name="l01007"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#abda810b81f8f0349aca3fad136e5d416"> 1007</a></span>&#160;)</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">/*!\brief Append a non-NULL terminated substring to the end of a dynamic string. */</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#a66daf21afabae2111fb397beb9a6c57e">ast_str_append_substr</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **buf, ssize_t maxlen, <span class="keyword">const</span> <span class="keywordtype">char</span> *src, <span class="keywordtype">size_t</span> maxsrc),</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;{</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#af82174c2859a9cdbd4d19a55ad5f3c94">__ast_str_helper2</a>(buf, maxlen, src, maxsrc, 1, 0);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;}</div><div class="line"><a name="l01014"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a66daf21afabae2111fb397beb9a6c57e"> 1014</a></span>&#160;)</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="comment">/*!\brief Set a dynamic string to a non-NULL terminated substring, with escaping of commas. */</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#a54efe3bc7af1c934b35ce6a55bdaa4ae">ast_str_set_escapecommas</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **buf, ssize_t maxlen, <span class="keyword">const</span> <span class="keywordtype">char</span> *src, <span class="keywordtype">size_t</span> maxsrc),</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;{</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#af82174c2859a9cdbd4d19a55ad5f3c94">__ast_str_helper2</a>(buf, maxlen, src, maxsrc, 0, 1);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;}</div><div class="line"><a name="l01021"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a54efe3bc7af1c934b35ce6a55bdaa4ae"> 1021</a></span>&#160;)</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">/*!\brief Append a non-NULL terminated substring to the end of a dynamic string, with escaping of commas. */</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#a6135d2f0275e692cd2fcbb0144408509">ast_str_append_escapecommas</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **buf, ssize_t maxlen, <span class="keyword">const</span> <span class="keywordtype">char</span> *src, <span class="keywordtype">size_t</span> maxsrc),</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;{</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#af82174c2859a9cdbd4d19a55ad5f3c94">__ast_str_helper2</a>(buf, maxlen, src, maxsrc, 1, 1);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;}</div><div class="line"><a name="l01028"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a6135d2f0275e692cd2fcbb0144408509"> 1028</a></span>&#160;)</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment"> * \brief Set a dynamic string using variable arguments</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="comment"> * \note Care should be taken when using this function. The function can</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="comment"> * result in reallocating the ast_str. If a pointer to the ast_str is passed</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment"> * by value to a function that calls ast_str_set(), then the original ast_str</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment"> * pointer may be invalidated due to a reallocation.</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment"> * \param buf This is the address of a pointer to a struct ast_str which should</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment"> *      have been retrieved using ast_str_thread_get.  It will need to</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment"> *      be updated in the case that the buffer has to be reallocated to</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="comment"> *      accomodate a longer string than what it currently has space for.</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="comment"> * \param max_len This is the maximum length to allow the string buffer to grow</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="comment"> *      to.  If this is set to 0, then there is no maximum length.</span></div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="comment"> * If set to -1, we are bound to the current maximum length.</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="comment"> * \param fmt This is the format string (printf style)</span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment"> * \return The return value of this function is the same as that of the printf</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment"> *         family of functions.</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment"> * All the rest is the same as ast_str_set_va()</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="keywordtype">int</span> __attribute__((<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>(printf, 3, 4))) <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;   struct <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **buf, ssize_t max_len, const <span class="keywordtype">char</span> *fmt, ...),</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;{</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;   va_list ap;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;   va_start(ap, fmt);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;   res = <a class="code" href="../../d6/d90/strings_8h.html#a271350c7540474095b75cbea17d4837a">ast_str_set_va</a>(buf, max_len, fmt, ap);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;   va_end(ap);</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;}</div><div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283"> 1065</a></span>&#160;)</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="comment"> * \brief Append to a thread local dynamic string</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment"> * \note Care should be taken when using this function. The function can</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment"> * result in reallocating the ast_str. If a pointer to the ast_str is passed</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment"> * by value to a function that calls ast_str_append(), then the original ast_str</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment"> * pointer may be invalidated due to a reallocation.</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment"> * The arguments, return values, and usage of this function are the same as</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment"> * ast_str_set(), but the new data is appended to the current value.</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="keywordtype">int</span> __attribute__((<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>(printf, 3, 4))) <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;   struct <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **buf, ssize_t max_len, const <span class="keywordtype">char</span> *fmt, ...),</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;{</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;   va_list ap;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   va_start(ap, fmt);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;   res = <a class="code" href="../../d6/d90/strings_8h.html#aadcedfc19bc7df38193262ebb8f3c991">ast_str_append_va</a>(buf, max_len, fmt, ap);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;   va_end(ap);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;}</div><div class="line"><a name="l01091"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1"> 1091</a></span>&#160;)</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment"> * \brief Provides a temporary ast_str and returns a copy of its buffer</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment"> * \since 16.12</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="comment"> * \since 17.6</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="comment"> * \since 18.0</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="comment"> * \param init_len The initial length of the temporary ast_str needed.</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="comment"> * \param __expr An expression that needs the temporary ast_str and returns a char *.</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment"> * \returns A copy of __expr&#39;s return buffer allocated on the stack.</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment"> * \details</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment"> * There are a few query functions scattered around that need an ast_str in which</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment"> * to assemble the results but it&#39;s not always convenient to create an ast_str</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment"> * and ensure it&#39;s freed just to print a log message.  For example...</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment"> * struct ast_str *temp = ast_str_create(128);</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment"> * ast_log(LOG_INFO, &quot;Format caps: %s\n&quot;, ast_format_cap_get_names(caps, &amp;temp));</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment"> * ast_free(temp);</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment"> * That&#39;s not bad if you only have to do it once but some of our code that deals</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment"> * with streams and codecs is pretty complex and good instrumentation is essential.</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment"> * The aim of this function is to make that easier.</span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment"> * With this macro, the above code can be simplified as follows...</span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment"> * \example</span></div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment"> * ast_log(LOG_INFO, &quot;Format caps: %s\n&quot;,</span></div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment"> *     ast_str_tmp(128, ast_format_cap_get_names(caps, &amp;STR_TMP));</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment"> * STR_TMP will always be a reference to the temporary ast_str created</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment"> * by the macro.  Its scope is limited by the macro so you can use it multiple</span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment"> * times without conflict.</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment"> * \example</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment"> * ast_log(LOG_INFO, &quot;Format caps in: %s  Format caps out: %s\n&quot;,</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment"> *     ast_str_tmp(128, ast_format_cap_get_names(caps_in, &amp;STR_TMP),</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment"> *     ast_str_tmp(128, ast_format_cap_get_names(caps_out, &amp;STR_TMP)</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment"> *     );</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="comment"> * \warning</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="comment"> * The returned string is stack allocated so don&#39;t go overboard.</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01136"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a68ab38eef5d5958cae536ba7589093cc"> 1136</a></span>&#160;#define <a class="code" href="../../d6/d90/strings_8h.html#a68ab38eef5d5958cae536ba7589093cc">ast_str_tmp</a>(init_len, __expr) \</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;({ \</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;   struct <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *STR_TMP = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(init_len); \</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;   char *ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(__expr); \</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;   ast_free(STR_TMP); \</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;   ret; \</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;})</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment"> * \brief Check if a string is only digits</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="comment"> * \retval 1 The string contains only digits</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment"> * \retval 0 The string contains non-digit characters</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#aed341efc1f8e4613d59b43a8455aa8a1">ast_check_digits</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *arg),</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;{</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;   <span class="keywordflow">while</span> (*arg) {</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <span class="keywordflow">if</span> (*arg &lt; &#39;0&#39; || *arg &gt; <span class="charliteral">&#39;9&#39;</span>) {</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      }</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      arg++;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;   }</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;}</div><div class="line"><a name="l01163"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#aed341efc1f8e4613d59b43a8455aa8a1"> 1163</a></span>&#160;)</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="comment"> * \brief Convert the tech portion of a device string to upper case</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="comment"> * \retval dev_str Returns the char* passed in for convenience</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<a class="code" href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#a3d00ecafdea681595d840862538266c3">ast_tech_to_upper</a>(<span class="keywordtype">char</span> *dev_str),</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;{</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;   <span class="keywordtype">char</span> *pos;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;   <span class="keywordflow">if</span> (!dev_str || !strchr(dev_str, <span class="charliteral">&#39;/&#39;</span>)) {</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="keywordflow">return</span> dev_str;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;   }</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;   <span class="keywordflow">for</span> (pos = dev_str; *pos &amp;&amp; *pos != <span class="charliteral">&#39;/&#39;</span>; pos++) {</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      *pos = toupper(*pos);</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;   }</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;   <span class="keywordflow">return</span> dev_str;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;}</div><div class="line"><a name="l01183"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a3d00ecafdea681595d840862538266c3"> 1183</a></span>&#160;)</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment"> * \brief Restrict hash value range</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="comment"> * \details</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="comment"> * Hash values used all over asterisk are expected to be non-negative</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="comment"> * (signed) int values.  This function restricts an unsigned int hash</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment"> * value to the positive half of the (signed) int values.</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a7a7eb843162c5e29c59951d07d08fa57"> 1193</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> <span class="keywordtype">int</span> <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#a7a7eb843162c5e29c59951d07d08fa57">ast_str_hash_restrict</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hash)</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;{</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) (hash &amp; (<span class="keywordtype">unsigned</span> int) INT_MAX);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;}</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="comment"> * \brief Compute a hash value on a string</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="comment"> * This famous hash algorithm was written by Dan Bernstein and is</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="comment"> * commonly used.</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="comment"> * http://www.cse.yorku.ca/~oz/hash.html</span></div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01206"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55"> 1206</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> <span class="keywordtype">int</span> <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str)</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;{</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hash = 5381;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;   <span class="keywordflow">while</span> (*str) {</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      hash = hash * 33 ^ (<span class="keywordtype">unsigned</span> char) *str++;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;   }</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a7a7eb843162c5e29c59951d07d08fa57">ast_str_hash_restrict</a>(hash);</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;}</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="comment"> * \brief Compute a hash value on a string</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment"> * \param[in] str The string to add to the hash</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="comment"> * \param[in] seed The hash value to start with</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="comment"> * \details</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment"> * This version of the function is for when you need to compute a</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment"> * string hash of more than one string.</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="comment"> * This famous hash algorithm was written by Dan Bernstein and is</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="comment"> * commonly used.</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="comment"> * \sa http://www.cse.yorku.ca/~oz/hash.html</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01232"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a14f7ad64e77247cbba670a2be4ef76a8"> 1232</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> <span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#a14f7ad64e77247cbba670a2be4ef76a8">ast_str_hash_add</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str, <span class="keywordtype">int</span> seed)</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;{</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hash = (<span class="keywordtype">unsigned</span> int) seed;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;   <span class="keywordflow">while</span> (*str) {</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      hash = hash * 33 ^ (<span class="keywordtype">unsigned</span> char) *str++;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;   }</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a7a7eb843162c5e29c59951d07d08fa57">ast_str_hash_restrict</a>(hash);</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="comment"> * \brief Compute a hash value on a case-insensitive string</span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="comment"> * Uses the same hash algorithm as ast_str_hash, but converts</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="comment"> * all characters to lowercase prior to computing a hash. This</span></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="comment"> * allows for easy case-insensitive lookups in a hash table.</span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01250"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#ab08f8db2a7258e538a0da7417f58db58"> 1250</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> <span class="keywordtype">int</span> <a class="code" href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a> <a class="code" href="../../d6/d90/strings_8h.html#ab08f8db2a7258e538a0da7417f58db58">ast_str_case_hash</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str)</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;{</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hash = 5381;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;   <span class="keywordflow">while</span> (*str) {</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      hash = hash * 33 ^ (<span class="keywordtype">unsigned</span> char) tolower(*str++);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   }</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a7a7eb843162c5e29c59951d07d08fa57">ast_str_hash_restrict</a>(hash);</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;}</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment"> * \brief Convert a string to all lower-case</span></div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="comment"> * \param str The string to be converted to lower case</span></div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment"> * \retval str for convenience</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01268"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#aa8ab574002a6eb04925efea4c2885059"> 1268</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> <span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#aa8ab574002a6eb04925efea4c2885059">ast_str_to_lower</a>(<span class="keywordtype">char</span> *str)</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;{</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   <span class="keywordtype">char</span> *str_orig = <a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;   <span class="keywordflow">if</span> (!str) {</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;   }</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;   <span class="keywordflow">for</span> (; *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>; ++<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>) {</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      *str = tolower(*str);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;   }</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;   <span class="keywordflow">return</span> str_orig;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;}</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="comment"> * \brief Convert a string to all upper-case</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment"> * \param str The string to be converted to upper case</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="comment"> * \retval str for convenience</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01289"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#ae07f46b125b1fc1520b076ff8b8c4ad8"> 1289</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a> <span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#ae07f46b125b1fc1520b076ff8b8c4ad8">ast_str_to_upper</a>(<span class="keywordtype">char</span> *str)</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;{</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;   <span class="keywordtype">char</span> *str_orig = <a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;   <span class="keywordflow">if</span> (!str) {</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;   }</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;   <span class="keywordflow">for</span> (; *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>; ++<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>) {</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      *str = toupper(*str);</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;   }</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;   <span class="keywordflow">return</span> str_orig;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;}</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment"> * \brief Allocates a hash container for bare strings</span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="comment"> * \param buckets The number of buckets to use for the hash container</span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment"> * \retval AO2 container for strings</span></div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment"> * \retval NULL if allocation failed</span></div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01312"></a><span class="lineno"><a class="line" href="../../d6/d90/strings_8h.html#a77f7edf078454c39f51bae4bb400e764"> 1312</a></span>&#160;<span class="preprocessor">#define ast_str_container_alloc(buckets) ast_str_container_alloc_options(AO2_ALLOC_OPT_LOCK_MUTEX, buckets)</span></div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="comment"> * \brief Allocates a hash container for bare strings</span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="comment"> * \param opts Options to be provided to the container</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="comment"> * \param buckets The number of buckets to use for the hash container</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="comment"> * \retval AO2 container for strings</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="comment"> * \retval NULL if allocation failed</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="comment">//struct ao2_container *ast_str_container_alloc_options(enum ao2_container_opts opts, int buckets);</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d6/d90/strings_8h.html#a6764761a6222d4855cbf6f7abf117015">ast_str_container_alloc_options</a>(<span class="keyword">enum</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8">ao2_alloc_opts</a> opts, <span class="keywordtype">int</span> buckets);</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<span class="comment"> * \brief Adds a string to a string container allocated by ast_str_container_alloc</span></div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="comment"> * \param str_container The container to which to add a string</span></div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="comment"> * \param add The string to add to the container</span></div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="comment"> * \retval zero on success</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="comment"> * \retval non-zero if the operation failed</span></div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#ae2861c04a240bbc90f32ade1e1261afa">ast_str_container_add</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *str_container, <span class="keyword">const</span> <span class="keywordtype">char</span> *add);</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="comment"> * \brief Removes a string from a string container allocated by ast_str_container_alloc</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="comment"> * \param str_container The container from which to remove a string</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="comment"> * \param remove The string to remove from the container</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d90/strings_8h.html#ad763671e425c36b3d4c467a32676e0a5">ast_str_container_remove</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *str_container, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">remove</span>);</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="comment"> * \brief Create a pseudo-random string of a fixed length.</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;<span class="comment"> * This function is useful for generating a string whose randomness</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;<span class="comment"> * does not need to be across all time and space, does not need to</span></div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="comment"> * be cryptographically secure, and needs to fit in a limited space.</span></div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="comment"> * This function will write a null byte at the final position</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="comment"> * in the buffer (buf[size - 1]). So if you pass in a size of</span></div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;<span class="comment"> * 10, then this will generate a random 9-character string.</span></div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="comment"> * \param buf Buffer to write random string into.</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment"> * \param size The size of the buffer.</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment"> * \return A pointer to buf</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#ab2c8e1bf4b2b01a1ffabf882774907bb">ast_generate_random_string</a>(<span class="keywordtype">char</span> *buf, <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="comment"> * \brief Compare strings for equality checking for NULL.</span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="comment"> * \since 16.3.0</span></div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="comment"> * This function considers NULL values as non-strings, thus a false condition.</span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="comment"> * This means that it will return false if one, or both of the given values are</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="comment"> * NULL (i.e. two NULLs are not equal strings).</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;<span class="comment"> * \param str1 The string to compare to str2</span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="comment"> * \param str2 The string to compare to str1</span></div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="comment"> * \return true if valid strings and equal, false otherwise.</span></div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#a13824dd1c76e6cbb12dd7f7783fca8fd">ast_strings_equal</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str1, <span class="keyword">const</span> <span class="keywordtype">char</span> *str2);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="comment"> * \brief Compares 2 strings using realtime-style operators</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="comment"> * \since 13.9.0</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment"> * \param left The left side of the equation</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="comment"> * \param op The operator to apply</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="comment"> * \param right The right side of the equation</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="comment"> * \retval 1 matches</span></div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="comment"> * \retval 0 doesn&#39;t match</span></div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="comment"> * \details</span></div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="comment"> * Operators:</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="comment"> *    &quot;=&quot;, &quot;!=&quot;, &quot;&lt;&quot;, &quot;&lt;=&quot;, &quot;&gt;&quot;, &quot;&gt;=&quot;:</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment"> *       If both left and right can be converted to float, then they will be</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment"> *       compared as such. Otherwise the result will be derived from strcmp(left, right).</span></div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="comment"> * &quot;regex&quot;:</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="comment"> *     The right value will be compiled as a regular expression and matched against the left</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="comment"> *     value.</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="comment"> * &quot;like&quot;:</span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="comment"> *     Any &#39;%&#39; character in the right value will be converted to &#39;.*&#39; and the resulting</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;<span class="comment"> *     string will be handled as a regex.</span></div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;<span class="comment"> * NULL , &quot;&quot;:</span></div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment"> *     If the right value starts and ends with a &#39;/&#39; then it will be processed as a regex.</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="comment"> *     Otherwise, same as &quot;=&quot;.</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d90/strings_8h.html#a898b45f9c873eeb3a4917f41332a1414">ast_strings_match</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *left, <span class="keyword">const</span> <span class="keywordtype">char</span> *op, <span class="keyword">const</span> <span class="keywordtype">char</span> *right);</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="comment"> * \brief Read lines from a string buffer</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment"> * \since 13.18.0</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="comment"> * \param buffer [IN/OUT] A pointer to a char * string with either Unix or Windows line endings</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="comment"> * \return The &quot;next&quot; line</span></div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="comment"> * \warning The original string and *buffer will be modified.</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="comment"> * \details</span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="comment"> * Both &#39;\n&#39; and &#39;\r\n&#39; are treated as single delimiters but consecutive occurrances of</span></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="comment"> * the delimiters are NOT considered to be a single delimiter.  This preserves blank</span></div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment"> * lines in the input.</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="comment"> * MacOS line endings (&#39;\r&#39;) are not supported at this time.</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/strings_8h.html#aec9fdc621b97dd7beac3e4a225d11bb6">ast_read_line_from_buffer</a>(<span class="keywordtype">char</span> **buffer);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _ASTERISK_STRINGS_H */</span><span class="preprocessor"></span></div><div class="ttc" id="time_8h_html_a0726afc816122530dfd83ecf14901ff2"><div class="ttname"><a href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof</a></div><div class="ttdeci">typedef typeof(dummy_tv_var_for_types.tv_sec) ast_time_t</div></div>
<div class="ttc" id="compiler_8h_html_a74d759b292a027618339fab3574b9175"><div class="ttname"><a href="../../d4/dd1/compiler_8h.html#a74d759b292a027618339fab3574b9175">attribute_pure</a></div><div class="ttdeci">#define attribute_pure</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00035">compiler.h:35</a></div></div>
<div class="ttc" id="astmm_8h_html_aacec2637e88f8663d609047874c6661b"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a></div><div class="ttdeci">void * __ast_calloc(size_t nmemb, size_t size, const char *file, int lineno, const char *func) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01635">astmm.c:1635</a></div></div>
<div class="ttc" id="strings_8h_html_a60f4bacff9fe077e6c6faf499a00b509"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a60f4bacff9fe077e6c6faf499a00b509">_ast_strlen_zero</a></div><div class="ttdeci">static force_inline int _ast_strlen_zero(const char *s, const char *file, const char *function, int line)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00053">strings.h:53</a></div></div>
<div class="ttc" id="strings_8h_html_afb2b3d060d0cd9d92c91800c9d582ac9"><div class="ttname"><a href="../../d6/d90/strings_8h.html#afb2b3d060d0cd9d92c91800c9d582ac9">ast_join_delim</a></div><div class="ttdeci">void ast_join_delim(char *s, size_t len, const char *const w[], unsigned int size, char delim)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02130">main/utils.c:2130</a></div></div>
<div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="strings_8h_html_a6156c625587998a6612dbba274c860f7"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6156c625587998a6612dbba274c860f7">DS_ALLOCA</a></div><div class="ttdeci">#define DS_ALLOCA</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00589">strings.h:589</a></div></div>
<div class="ttc" id="structval_html"><div class="ttname"><a href="../../d5/d85/structval.html">val</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd1/ast__expr2_8c_source.html#l00325">ast_expr2.c:325</a></div></div>
<div class="ttc" id="strings_8h_html_a6b26879ddbe135cabc07822b019b0b17a120b93b0f069a2bb5aa60aed14bfb8d0"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17a120b93b0f069a2bb5aa60aed14bfb8d0">AST_STRSEP_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00254">strings.h:254</a></div></div>
<div class="ttc" id="strings_8h_html_ae99d6f51ac4be6b72f8b63892cd949e1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ae99d6f51ac4be6b72f8b63892cd949e1">ast_str_size</a></div><div class="ttdeci">size_t ast_str_size(const struct ast_str *buf)</div><div class="ttdoc">Returns the current maximum length (without reallocation) of the current buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00699">strings.h:699</a></div></div>
<div class="ttc" id="strings_8h_html_a58dc754cbd6253d7955714f4d058a138"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a58dc754cbd6253d7955714f4d058a138">ast_ends_with</a></div><div class="ttdeci">static int force_inline attribute_pure ast_ends_with(const char *str, const char *suffix)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00112">strings.h:112</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="compiler_8h_html_ae8c57c7218a376f10cbdf0e50f1189ee"><div class="ttname"><a href="../../d4/dd1/compiler_8h.html#ae8c57c7218a376f10cbdf0e50f1189ee">force_inline</a></div><div class="ttdeci">#define force_inline</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00029">compiler.h:29</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="strings_8h_html_aa3d67163f6a94e575ee602933adf1eab"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3d67163f6a94e575ee602933adf1eab">ast_str_make_space</a></div><div class="ttdeci">#define ast_str_make_space(buf, new_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00780">strings.h:780</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="strings_8h_html_a74d504bc3094ec99b1618a1c41b68e19"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a74d504bc3094ec99b1618a1c41b68e19">ast_escape</a></div><div class="ttdeci">char * ast_escape(char *dest, const char *s, size_t size, const char *to_escape)</div><div class="ttdoc">Escape the &amp;#39;to_escape&amp;#39; characters in the given string. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01786">main/utils.c:1786</a></div></div>
<div class="ttc" id="structast__threadstorage_html"><div class="ttname"><a href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a></div><div class="ttdoc">data for a thread locally stored variable </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00056">threadstorage.h:56</a></div></div>
<div class="ttc" id="strings_8h_html_a271350c7540474095b75cbea17d4837a"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a271350c7540474095b75cbea17d4837a">ast_str_set_va</a></div><div class="ttdeci">int ast_str_set_va(struct ast_str **buf, ssize_t max_len, const char *fmt, va_list ap)</div><div class="ttdoc">Set a dynamic string from a va_list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00982">strings.h:982</a></div></div>
<div class="ttc" id="strings_8h_html_a640e110a8e92c1283f2aae76e4649f48aebcdc95d7cc2d21815ef0650ee4690e4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a640e110a8e92c1283f2aae76e4649f48aebcdc95d7cc2d21815ef0650ee4690e4">AST_DYNSTR_BUILD_RETRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00901">strings.h:901</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a33e91cd0cef6786e9e3a27ac67707207"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a33e91cd0cef6786e9e3a27ac67707207">if</a></div><div class="ttdeci">if(!yyg-&gt;yy_init)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00868">ast_expr2f.c:868</a></div></div>
<div class="ttc" id="strings_8h_html_a6135d2f0275e692cd2fcbb0144408509"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6135d2f0275e692cd2fcbb0144408509">ast_str_append_escapecommas</a></div><div class="ttdeci">char * ast_str_append_escapecommas(struct ast_str **buf, ssize_t maxlen, const char *src, size_t maxsrc)</div><div class="ttdoc">Append a non-NULL terminated substring to the end of a dynamic string, with escaping of commas...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01028">strings.h:1028</a></div></div>
<div class="ttc" id="strings_8h_html_ad763671e425c36b3d4c467a32676e0a5"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ad763671e425c36b3d4c467a32676e0a5">ast_str_container_remove</a></div><div class="ttdeci">void ast_str_container_remove(struct ao2_container *str_container, const char *remove)</div><div class="ttdoc">Removes a string from a string container allocated by ast_str_container_alloc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/strings_8c_source.html#l00222">strings.c:222</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="strings_8h_html_a365aacee32b2b6eb95f871376cf2aeec"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a365aacee32b2b6eb95f871376cf2aeec">ast_escape_c</a></div><div class="ttdeci">char * ast_escape_c(char *dest, const char *s, size_t size)</div><div class="ttdoc">Escape standard &amp;#39;C&amp;#39; sequences in the given string. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01829">main/utils.c:1829</a></div></div>
<div class="ttc" id="logger_8h_html_abdaf681117cfed901932cc0d38f1447a"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#abdaf681117cfed901932cc0d38f1447a">__LOG_WARNING</a></div><div class="ttdeci">#define __LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00273">logger.h:273</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="strings_8h_html_a7fc844c12b769ccded05e7514036e241"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a></div><div class="ttdeci">#define ast_str_alloca(init_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00800">strings.h:800</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="threadstorage_8h_html"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html">threadstorage.h</a></div><div class="ttdoc">Definitions to aid in the use of thread local storage. </div></div>
<div class="ttc" id="strings_8h_html_aa7a2cd389095897464c66a10734e5d94"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa7a2cd389095897464c66a10734e5d94">_ast_str_helper</a></div><div class="ttdeci">#define _ast_str_helper(buf, max_len, append, fmt, ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00928">strings.h:928</a></div></div>
<div class="ttc" id="strings_8h_html_af96aa9b71c6ef0f2f75038669d950b31"><div class="ttname"><a href="../../d6/d90/strings_8h.html#af96aa9b71c6ef0f2f75038669d950b31">ast_get_timeval</a></div><div class="ttdeci">int ast_get_timeval(const char *src, struct timeval *tv, struct timeval _default, int *consumed)</div><div class="ttdoc">get values from config variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02171">main/utils.c:2171</a></div></div>
<div class="ttc" id="strings_8h_html_a20edb6e0de35eafa94d8fd658b6269b5"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a20edb6e0de35eafa94d8fd658b6269b5">DS_MALLOC</a></div><div class="ttdeci">#define DS_MALLOC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00588">strings.h:588</a></div></div>
<div class="ttc" id="strings_8h_html_a0734e172f7ec5c8b5ed5ba0737874083"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a0734e172f7ec5c8b5ed5ba0737874083">ast_skip_nonblanks</a></div><div class="ttdeci">char * ast_skip_nonblanks(const char *str)</div><div class="ttdoc">Gets a pointer to first whitespace character in a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00200">strings.h:200</a></div></div>
<div class="ttc" id="strings_8h_html_a6b26879ddbe135cabc07822b019b0b17a81540e33a76fd4c5ca8e4462588e578f"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17a81540e33a76fd4c5ca8e4462588e578f">AST_STRSEP_TRIM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00252">strings.h:252</a></div></div>
<div class="ttc" id="utils_8h_html"><div class="ttname"><a href="../../d5/d60/utils_8h.html">utils.h</a></div><div class="ttdoc">Utility functions. </div></div>
<div class="ttc" id="strings_8h_html_a0b9c195ff2235f7670358e1e37cf6b8d"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a0b9c195ff2235f7670358e1e37cf6b8d">ast_str_truncate</a></div><div class="ttdeci">char * ast_str_truncate(struct ast_str *buf, ssize_t len)</div><div class="ttdoc">Truncates the enclosed string to the given length. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00738">strings.h:738</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="strings_8h_html_a6b26879ddbe135cabc07822b019b0b17ac7c24020f292d706a96a93889f3983b2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17ac7c24020f292d706a96a93889f3983b2">AST_STRSEP_UNESCAPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00253">strings.h:253</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="strings_8h_html_a68ab38eef5d5958cae536ba7589093cc"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a68ab38eef5d5958cae536ba7589093cc">ast_str_tmp</a></div><div class="ttdeci">#define ast_str_tmp(init_len, __expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01136">strings.h:1136</a></div></div>
<div class="ttc" id="strings_8h_html_a3b5457e5f5679935093d94b0f788769e"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a3b5457e5f5679935093d94b0f788769e">ast_get_time_t</a></div><div class="ttdeci">int ast_get_time_t(const char *src, time_t *dst, time_t _default, int *consumed)</div><div class="ttdoc">get values from config variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02198">main/utils.c:2198</a></div></div>
<div class="ttc" id="strings_8h_html_aeb597bdc9a1209c2e7dd8af04de43485"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aeb597bdc9a1209c2e7dd8af04de43485">ast_strip_quoted</a></div><div class="ttdeci">char * ast_strip_quoted(char *s, const char *beg_quotes, const char *end_quotes)</div><div class="ttdoc">Strip leading/trailing whitespace and quotes from a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01639">main/utils.c:1639</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="strings_8h_html_a603020160399d4876ec09fd299ebcaf9"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a603020160399d4876ec09fd299ebcaf9">ast_build_string</a></div><div class="ttdeci">int ast_build_string(char **buffer, size_t *space, const char *fmt,...)</div><div class="ttdoc">Build a string in a buffer, designed to be called repeatedly. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01919">main/utils.c:1919</a></div></div>
<div class="ttc" id="strings_8h_html_a592839be18ac3eb7e7207d89f682f9ac"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a592839be18ac3eb7e7207d89f682f9ac">ast_str_copy_string</a></div><div class="ttdeci">int ast_str_copy_string(struct ast_str **dst, struct ast_str *src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00798">strings.h:798</a></div></div>
<div class="ttc" id="strings_8h_html_a6764761a6222d4855cbf6f7abf117015"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6764761a6222d4855cbf6f7abf117015">ast_str_container_alloc_options</a></div><div class="ttdeci">struct ao2_container * ast_str_container_alloc_options(enum ao2_alloc_opts opts, int buckets)</div><div class="ttdoc">Allocates a hash container for bare strings. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/strings_8c_source.html#l00201">strings.c:201</a></div></div>
<div class="ttc" id="strings_8h_html_a66daf21afabae2111fb397beb9a6c57e"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a66daf21afabae2111fb397beb9a6c57e">ast_str_append_substr</a></div><div class="ttdeci">char * ast_str_append_substr(struct ast_str **buf, ssize_t maxlen, const char *src, size_t maxsrc)</div><div class="ttdoc">Append a non-NULL terminated substring to the end of a dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01014">strings.h:1014</a></div></div>
<div class="ttc" id="astobj2_8h_html"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html">astobj2.h</a></div></div>
<div class="ttc" id="strings_8h_html_ac92713b8d07a45720b2664be70810e55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a></div><div class="ttdeci">char * ast_strip(char *s)</div><div class="ttdoc">Strip leading/trailing whitespace from a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00219">strings.h:219</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="strings_8h_html_aec193d64a6309c72d72e5e523ef6076e"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aec193d64a6309c72d72e5e523ef6076e">ast_strsep</a></div><div class="ttdeci">char * ast_strsep(char **s, const char sep, uint32_t flags)</div><div class="ttdoc">Act like strsep but ignore separators inside quotes. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01656">main/utils.c:1656</a></div></div>
<div class="ttc" id="strings_8h_html_a507890094a4eb5180fdf417988fbdee0"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a507890094a4eb5180fdf417988fbdee0">DS_STATIC</a></div><div class="ttdeci">#define DS_STATIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00590">strings.h:590</a></div></div>
<div class="ttc" id="strings_8h_html_aa8ab574002a6eb04925efea4c2885059"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa8ab574002a6eb04925efea4c2885059">ast_str_to_lower</a></div><div class="ttdeci">static force_inline char * ast_str_to_lower(char *str)</div><div class="ttdoc">Convert a string to all lower-case. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01268">strings.h:1268</a></div></div>
<div class="ttc" id="strings_8h_html_a292ef9ea10c2bda74db29c6c60add439"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a292ef9ea10c2bda74db29c6c60add439">ast_escape_alloc</a></div><div class="ttdeci">char * ast_escape_alloc(const char *s, const char *to_escape)</div><div class="ttdoc">Escape the &amp;#39;to_escape&amp;#39; characters in the given string. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01884">main/utils.c:1884</a></div></div>
<div class="ttc" id="astmm_8h_html_a249282ecc7ba5a1a49fa75e9a33d1717"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a></div><div class="ttdeci">#define ast_alloca(size)</div><div class="ttdoc">call __builtin_alloca to ensure we get gcc builtin semantics </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00290">astmm.h:290</a></div></div>
<div class="ttc" id="strings_8h_html_ae07f46b125b1fc1520b076ff8b8c4ad8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ae07f46b125b1fc1520b076ff8b8c4ad8">ast_str_to_upper</a></div><div class="ttdeci">static force_inline char * ast_str_to_upper(char *str)</div><div class="ttdoc">Convert a string to all upper-case. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01289">strings.h:1289</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8">ao2_alloc_opts</a></div><div class="ttdeci">ao2_alloc_opts</div><div class="ttdoc">Options available when allocating an ao2 object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00363">astobj2.h:363</a></div></div>
<div class="ttc" id="strings_8h_html_a3d00ecafdea681595d840862538266c3"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a3d00ecafdea681595d840862538266c3">ast_tech_to_upper</a></div><div class="ttdeci">char * ast_tech_to_upper(char *dev_str)</div><div class="ttdoc">Convert the tech portion of a device string to upper case. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01183">strings.h:1183</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="strings_8h_html_ab2c8e1bf4b2b01a1ffabf882774907bb"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ab2c8e1bf4b2b01a1ffabf882774907bb">ast_generate_random_string</a></div><div class="ttdeci">char * ast_generate_random_string(char *buf, size_t size)</div><div class="ttdoc">Create a pseudo-random string of a fixed length. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/strings_8c_source.html#l00227">strings.c:227</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structast__str_html_a7acf1b4de87eb325127bcbb90be35d71"><div class="ttname"><a href="../../dd/da2/structast__str.html#a7acf1b4de87eb325127bcbb90be35d71">ast_str::__AST_STR_USED</a></div><div class="ttdeci">size_t __AST_STR_USED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00586">strings.h:586</a></div></div>
<div class="ttc" id="structast__str_html_a502643f03592ad00c4216e337a27b3d8"><div class="ttname"><a href="../../dd/da2/structast__str.html#a502643f03592ad00c4216e337a27b3d8">ast_str::__AST_STR_STR</a></div><div class="ttdeci">char __AST_STR_STR[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00591">strings.h:591</a></div></div>
<div class="ttc" id="strings_8h_html_a13824dd1c76e6cbb12dd7f7783fca8fd"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a13824dd1c76e6cbb12dd7f7783fca8fd">ast_strings_equal</a></div><div class="ttdeci">int ast_strings_equal(const char *str1, const char *str2)</div><div class="ttdoc">Compare strings for equality checking for NULL. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/strings_8c_source.html#l00239">strings.c:239</a></div></div>
<div class="ttc" id="strings_8h_html_a384eba533216f3d2741cc8a51bc66987"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a384eba533216f3d2741cc8a51bc66987">_ast_str_make_space</a></div><div class="ttdeci">int _ast_str_make_space(struct ast_str **buf, size_t new_len, const char *file, int lineno, const char *function)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00779">strings.h:779</a></div></div>
<div class="ttc" id="strings_8h_html_af5693da955fa3bc73bc49c47b601fc7a"><div class="ttname"><a href="../../d6/d90/strings_8h.html#af5693da955fa3bc73bc49c47b601fc7a">ast_skip_blanks</a></div><div class="ttdeci">char * ast_skip_blanks(const char *str)</div><div class="ttdoc">Gets a pointer to the first non-whitespace character in a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00157">strings.h:157</a></div></div>
<div class="ttc" id="strings_8h_html_a640e110a8e92c1283f2aae76e4649f48a46fbdfa757aef01471bab9679ce4281f"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a640e110a8e92c1283f2aae76e4649f48a46fbdfa757aef01471bab9679ce4281f">AST_DYNSTR_BUILD_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00895">strings.h:895</a></div></div>
<div class="ttc" id="strings_8h_html_abe38193be148775f7559f8fff6e0c17e"><div class="ttname"><a href="../../d6/d90/strings_8h.html#abe38193be148775f7559f8fff6e0c17e">ast_trim_blanks</a></div><div class="ttdeci">char * ast_trim_blanks(char *str)</div><div class="ttdoc">Trims trailing whitespace characters from a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00182">strings.h:182</a></div></div>
<div class="ttc" id="strings_8h_html_af82174c2859a9cdbd4d19a55ad5f3c94"><div class="ttname"><a href="../../d6/d90/strings_8h.html#af82174c2859a9cdbd4d19a55ad5f3c94">__ast_str_helper2</a></div><div class="ttdeci">char * __ast_str_helper2(struct ast_str **buf, ssize_t max_len, const char *src, size_t maxsrc, int append, int escapecommas)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/strings_8c_source.html#l00129">strings.c:129</a></div></div>
<div class="ttc" id="strings_8h_html_af7a2c1bf0a98df4a52ee48a9d9e25510"><div class="ttname"><a href="../../d6/d90/strings_8h.html#af7a2c1bf0a98df4a52ee48a9d9e25510">ast_regex_string_to_regex_pattern</a></div><div class="ttdeci">int ast_regex_string_to_regex_pattern(const char *regex_string, struct ast_str **regex_pattern)</div><div class="ttdoc">Given a string regex_string in the form of &quot;/regex/&quot;, convert it into the form of &quot;regex&quot;...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01931">main/utils.c:1931</a></div></div>
<div class="ttc" id="strings_8h_html_a14f7ad64e77247cbba670a2be4ef76a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a14f7ad64e77247cbba670a2be4ef76a8">ast_str_hash_add</a></div><div class="ttdeci">static force_inline int ast_str_hash_add(const char *str, int seed)</div><div class="ttdoc">Compute a hash value on a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01232">strings.h:1232</a></div></div>
<div class="ttc" id="astmm_8h_html_a6fb2a532b8ed08d248b7326abf218c5e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a6fb2a532b8ed08d248b7326abf218c5e">__ast_realloc</a></div><div class="ttdeci">void * __ast_realloc(void *ptr, size_t size, const char *file, int lineno, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01672">astmm.c:1672</a></div></div>
<div class="ttc" id="strings_8h_html_a6b26879ddbe135cabc07822b019b0b17"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17">ast_strsep_flags</a></div><div class="ttdeci">ast_strsep_flags</div><div class="ttdoc">Flags for ast_strsep. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00250">strings.h:250</a></div></div>
<div class="ttc" id="strings_8h_html_a62bd9f69e2bd9ccd3760d9681987eca0"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a62bd9f69e2bd9ccd3760d9681987eca0">ast_escape_c_alloc</a></div><div class="ttdeci">char * ast_escape_c_alloc(const char *s)</div><div class="ttdoc">Escape standard &amp;#39;C&amp;#39; sequences in the given string. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01892">main/utils.c:1892</a></div></div>
<div class="ttc" id="strings_8h_html_aadcedfc19bc7df38193262ebb8f3c991"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aadcedfc19bc7df38193262ebb8f3c991">ast_str_append_va</a></div><div class="ttdeci">int ast_str_append_va(struct ast_str **buf, ssize_t max_len, const char *fmt, va_list ap)</div><div class="ttdoc">Append to a dynamic string using a va_list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01000">strings.h:1000</a></div></div>
<div class="ttc" id="strings_8h_html_a7cc2336f3642ec07be6058e7fa746e71"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a7cc2336f3642ec07be6058e7fa746e71">ast_build_string_va</a></div><div class="ttdeci">int ast_build_string_va(char **buffer, size_t *space, const char *fmt, va_list ap)</div><div class="ttdoc">Build a string in a buffer, designed to be called repeatedly. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01900">main/utils.c:1900</a></div></div>
<div class="ttc" id="strings_8h_html_aed341efc1f8e4613d59b43a8455aa8a1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aed341efc1f8e4613d59b43a8455aa8a1">ast_check_digits</a></div><div class="ttdeci">int ast_check_digits(const char *arg)</div><div class="ttdoc">Check if a string is only digits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01163">strings.h:1163</a></div></div>
<div class="ttc" id="strings_8h_html_a20ca5b03887fb1ecf589590182f4a9aa"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a20ca5b03887fb1ecf589590182f4a9aa">ast_unescape_semicolon</a></div><div class="ttdeci">char * ast_unescape_semicolon(char *s)</div><div class="ttdoc">Strip backslash for &quot;escaped&quot; semicolons, the string to be stripped (will be modified). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01716">main/utils.c:1716</a></div></div>
<div class="ttc" id="strings_8h_html_a54efe3bc7af1c934b35ce6a55bdaa4ae"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a54efe3bc7af1c934b35ce6a55bdaa4ae">ast_str_set_escapecommas</a></div><div class="ttdeci">char * ast_str_set_escapecommas(struct ast_str **buf, ssize_t maxlen, const char *src, size_t maxsrc)</div><div class="ttdoc">Set a dynamic string to a non-NULL terminated substring, with escaping of commas. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01021">strings.h:1021</a></div></div>
<div class="ttc" id="compiler_8h_html_a6cac3cc05c63f4c86b87adb783c8d620"><div class="ttname"><a href="../../d4/dd1/compiler_8h.html#a6cac3cc05c63f4c86b87adb783c8d620">attribute_malloc</a></div><div class="ttdeci">#define attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00059">compiler.h:59</a></div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="structast__str_html_ac0f4c76f6cddc0e88aeb69e414b10017"><div class="ttname"><a href="../../dd/da2/structast__str.html#ac0f4c76f6cddc0e88aeb69e414b10017">ast_str::__AST_STR_TS</a></div><div class="ttdeci">struct ast_threadstorage * __AST_STR_TS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00587">strings.h:587</a></div></div>
<div class="ttc" id="strings_8h_html_aabc005bd1c7e249e8f8659d57d4500b6"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a></div><div class="ttdeci">size_t ast_str_strlen(const struct ast_str *buf)</div><div class="ttdoc">Returns the current length of the string stored within buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00688">strings.h:688</a></div></div>
<div class="ttc" id="strings_8h_html_a7a7eb843162c5e29c59951d07d08fa57"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a7a7eb843162c5e29c59951d07d08fa57">ast_str_hash_restrict</a></div><div class="ttdeci">static force_inline int attribute_pure ast_str_hash_restrict(unsigned int hash)</div><div class="ttdoc">Restrict hash value range. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01193">strings.h:1193</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structast__str_html_aa267a036c77c703cb494286a049d624b"><div class="ttname"><a href="../../dd/da2/structast__str.html#aa267a036c77c703cb494286a049d624b">ast_str::__AST_STR_LEN</a></div><div class="ttdeci">size_t __AST_STR_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00585">strings.h:585</a></div></div>
<div class="ttc" id="strings_8h_html_aa64825674476f476402283fe4bd7ee51"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa64825674476f476402283fe4bd7ee51">ast_str_update</a></div><div class="ttdeci">void ast_str_update(struct ast_str *buf)</div><div class="ttdoc">Update the length of the buffer, after using ast_str merely as a buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00663">strings.h:663</a></div></div>
<div class="ttc" id="strings_8h_html_a6c3dc0bad204e9dd9890325c1c861e38"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6c3dc0bad204e9dd9890325c1c861e38">ast_false</a></div><div class="ttdeci">int attribute_pure ast_false(const char *val)</div><div class="ttdoc">Make sure something is false. Determine if a string containing a boolean value is &quot;false&quot;...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01968">main/utils.c:1968</a></div></div>
<div class="ttc" id="strings_8h_html_a6b26879ddbe135cabc07822b019b0b17ad5a39d9c273e14503b5edc1c8541ebe2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6b26879ddbe135cabc07822b019b0b17ad5a39d9c273e14503b5edc1c8541ebe2">AST_STRSEP_STRIP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00251">strings.h:251</a></div></div>
<div class="ttc" id="strings_8h_html_ac51fa66c90ce950b248c9ff3e8c4e453"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a></div><div class="ttdeci">static int force_inline attribute_pure ast_begins_with(const char *str, const char *prefix)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00094">strings.h:94</a></div></div>
<div class="ttc" id="strings_8h_html_aa5c07cfa3dd6c6c55b94a4d0dde4ed84"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa5c07cfa3dd6c6c55b94a4d0dde4ed84">__ast_str_helper</a></div><div class="ttdeci">int __ast_str_helper(struct ast_str **buf, ssize_t max_len, int append, const char *fmt, va_list ap, const char *file, int lineno, const char *func)</div><div class="ttdoc">Core functionality of ast_str_(set|append)_va. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/strings_8c_source.html#l00055">strings.c:55</a></div></div>
<div class="ttc" id="strings_8h_html_abda810b81f8f0349aca3fad136e5d416"><div class="ttname"><a href="../../d6/d90/strings_8h.html#abda810b81f8f0349aca3fad136e5d416">ast_str_set_substr</a></div><div class="ttdeci">char * ast_str_set_substr(struct ast_str **buf, ssize_t maxlen, const char *src, size_t maxsrc)</div><div class="ttdoc">Set a dynamic string to a non-NULL terminated substring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01007">strings.h:1007</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="strings_8h_html_afe8f5f844f2fd5f5bd5d0be5ef671481"><div class="ttname"><a href="../../d6/d90/strings_8h.html#afe8f5f844f2fd5f5bd5d0be5ef671481">ast_str_thread_get</a></div><div class="ttdeci">struct ast_str * ast_str_thread_get(struct ast_threadstorage *ts, size_t init_len)</div><div class="ttdoc">Retrieve a thread locally stored dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00861">strings.h:861</a></div></div>
<div class="ttc" id="strings_8h_html_a6a44a14b43688738c2d526b776f6230f"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6a44a14b43688738c2d526b776f6230f">ast_str_trim_blanks</a></div><div class="ttdeci">void ast_str_trim_blanks(struct ast_str *buf)</div><div class="ttdoc">Trims trailing whitespace characters from an ast_str string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00678">strings.h:678</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a98f5e70e98f6dc48e3c5ba316066d540"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a></div><div class="ttdeci">static snd_pcm_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00102">chan_alsa.c:102</a></div></div>
<div class="ttc" id="strings_8h_html_ab1f08732bd824bcae476843187180755"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ab1f08732bd824bcae476843187180755">ast_to_camel_case_delim</a></div><div class="ttdeci">char * ast_to_camel_case_delim(const char *s, const char *delim)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02149">main/utils.c:2149</a></div></div>
<div class="ttc" id="strings_8h_html_ae93e7cd0e9e7a93e399ec01dd48a7201"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ae93e7cd0e9e7a93e399ec01dd48a7201">_ast_str_create</a></div><div class="ttdeci">struct ast_str * _ast_str_create(size_t init_len, const char *file, int lineno, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00638">strings.h:638</a></div></div>
<div class="ttc" id="strings_8h_html_ae2861c04a240bbc90f32ade1e1261afa"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ae2861c04a240bbc90f32ade1e1261afa">ast_str_container_add</a></div><div class="ttdeci">int ast_str_container_add(struct ao2_container *str_container, const char *add)</div><div class="ttdoc">Adds a string to a string container allocated by ast_str_container_alloc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/strings_8c_source.html#l00206">strings.c:206</a></div></div>
<div class="ttc" id="strings_8h_html_ab08f8db2a7258e538a0da7417f58db58"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ab08f8db2a7258e538a0da7417f58db58">ast_str_case_hash</a></div><div class="ttdeci">static force_inline int attribute_pure ast_str_case_hash(const char *str)</div><div class="ttdoc">Compute a hash value on a case-insensitive string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01250">strings.h:1250</a></div></div>
<div class="ttc" id="strings_8h_html_a898b45f9c873eeb3a4917f41332a1414"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a898b45f9c873eeb3a4917f41332a1414">ast_strings_match</a></div><div class="ttdeci">int ast_strings_match(const char *left, const char *op, const char *right)</div><div class="ttdoc">Compares 2 strings using realtime-style operators. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/strings_8c_source.html#l00248">strings.c:248</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
<div class="ttc" id="strings_8h_html_a33ab7fa091d5513d8507d3bd33ef5b55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a></div><div class="ttdeci">static force_inline int attribute_pure ast_str_hash(const char *str)</div><div class="ttdoc">Compute a hash value on a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01206">strings.h:1206</a></div></div>
<div class="ttc" id="strings_8h_html_a9468c7f63f6497c0ec571c5a34e906d2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9468c7f63f6497c0ec571c5a34e906d2">ast_unescape_c</a></div><div class="ttdeci">char * ast_unescape_c(char *s)</div><div class="ttdoc">Convert some C escape sequences. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01735">main/utils.c:1735</a></div></div>
<div class="ttc" id="strings_8h_html_aec9fdc621b97dd7beac3e4a225d11bb6"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aec9fdc621b97dd7beac3e4a225d11bb6">ast_read_line_from_buffer</a></div><div class="ttdeci">char * ast_read_line_from_buffer(char **buffer)</div><div class="ttdoc">Read lines from a string buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/strings_8c_source.html#l00372">strings.c:372</a></div></div>
<div class="ttc" id="inline__api_8h_html_abf50cd4e5859e17bb3d199b805df8fe0"><div class="ttname"><a href="../../d5/d9d/inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a></div><div class="ttdeci">#define AST_INLINE_API(hdr, body)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d9d/inline__api_8h_source.html#l00054">inline_api.h:54</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:18 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
