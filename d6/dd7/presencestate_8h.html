<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: presencestate.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">presencestate.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Presence state management.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d6d/presencestate_8h__dep__incl.png" border="0" usemap="#presencestate_8hdep" alt=""/></div>
<map name="presencestate_8hdep" id="presencestate_8hdep">
<area shape="rect" id="node2" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="2910,87,2967,114"/>
<area shape="rect" id="node20" href="../../d4/d10/manager_8c.html" title="The Asterisk Management Interface &#45; AMI. " alt="" coords="5,244,96,271"/>
<area shape="rect" id="node45" href="../../d0/d81/func__presencestate_8c.html" title="Custom presence provider. " alt="" coords="5286,169,5445,196"/>
<area shape="rect" id="node46" href="../../d5/d03/asterisk_8c.html" title="Top level source file for Asterisk &#45; the Open Source PBX. Implementation of PBX core functions and CL..." alt="" coords="5469,169,5552,196"/>
<area shape="rect" id="node47" href="../../db/d94/pbx_8c.html" title="Core PBX routines. " alt="" coords="5576,169,5632,196"/>
<area shape="rect" id="node48" href="../../d5/d07/presencestate_8c.html" title="Presence state management. " alt="" coords="5656,169,5781,196"/>
<area shape="rect" id="node49" href="../../d3/d2d/res__manager__presencestate_8c.html" title="res_manager_presencestate.c" alt="" coords="5626,87,5843,114"/>
<area shape="rect" id="node50" href="../../d7/d45/res__pjsip__pidf__digium__body__supplement_8c.html" title="res_pjsip_pidf_digium\l_body_supplement.c" alt="" coords="5867,80,6026,121"/>
<area shape="rect" id="node3" href="../../d0/db6/app__mysql_8c.html" title="MYSQL dialplan application. " alt="" coords="3269,169,3371,196"/>
<area shape="rect" id="node4" href="../../d3/d51/chan__mobile_8c.html" title="Bluetooth Mobile Device channel driver. " alt="" coords="3396,169,3511,196"/>
<area shape="rect" id="node5" href="../../d3/d45/chan__ooh323_8h.html" title="chan_ooh323.h" alt="" coords="3535,169,3655,196"/>
<area shape="rect" id="node6" href="../../d2/dae/ooh323cDriver_8c.html" title="ooh323cDriver.c" alt="" coords="3679,169,3804,196"/>
<area shape="rect" id="node7" href="../../db/d62/app__adsiprog_8c.html" title="Program Asterisk ADSI Scripts into phone. " alt="" coords="3829,169,3947,196"/>
<area shape="rect" id="node8" href="../../de/d11/app__agent__pool_8c.html" title="Call center agent pool. " alt="" coords="3971,169,4106,196"/>
<area shape="rect" id="node9" href="../../dc/d5c/app__alarmreceiver_8c.html" title="Central Station Alarm receiver for Ademco Contact ID. " alt="" coords="4130,169,4281,196"/>
<area shape="rect" id="node10" href="../../d2/d48/app__amd_8c.html" title="Answering machine detection. " alt="" coords="4305,169,4399,196"/>
<area shape="rect" id="node11" href="../../d0/df4/app__attended__transfer_8c.html" title="Attended transfer by caller channel. " alt="" coords="4423,169,4601,196"/>
<area shape="rect" id="node12" href="../../d6/d0f/app__authenticate_8c.html" title="Execute arbitrary authenticate commands. " alt="" coords="4626,169,4771,196"/>
<area shape="rect" id="node13" href="../../d7/d7c/app__blind__transfer_8c.html" title="Blind transfer by caller channel. " alt="" coords="4958,169,5109,196"/>
<area shape="rect" id="node14" href="../../de/d47/features_8h.html" title="Call Parking and Pickup API Includes code and algorithms from the Zapata library. ..." alt="" coords="4847,169,4934,196"/>
<area shape="rect" id="node15" href="../../dc/d22/app__bridgewait_8c.html" title="Application to place the channel into a holding Bridge. " alt="" coords="4871,244,5001,271"/>
<area shape="rect" id="node16" href="../../d7/d1b/app__channelredirect_8c.html" title="ChannelRedirect application. " alt="" coords="5025,244,5188,271"/>
<area shape="rect" id="node17" href="../../dc/d04/app__chanspy_8c.html" title="ChanSpy: Listen in on any channel. " alt="" coords="5212,244,5327,271"/>
<area shape="rect" id="node18" href="../../d9/d12/app__dial_8c.html" title="dial() &amp; retrydial() &#45; Trivial application to dial a channel and send an URL on answer ..." alt="" coords="445,244,531,271"/>
<area shape="rect" id="node19" href="../../dd/d55/app__followme_8c.html" title="Find&#45;Me Follow&#45;Me application. " alt="" coords="4727,244,4847,271"/>
<area shape="rect" id="node21" href="../../d2/d43/app__chanisavail_8c.html" title="Check if Channel is Available. " alt="" coords="189,169,323,196"/>
<area shape="rect" id="node22" href="../../d0/dcf/app__confbridge_8c.html" title="Conference Bridge application. " alt="" coords="219,244,349,271"/>
<area shape="rect" id="node23" href="../../dc/d4e/stasis__bridges_8h.html" title="stasis_bridges.h" alt="" coords="39,169,164,196"/>
<area shape="rect" id="node24" href="../../d6/dde/app__controlplayback_8c.html" title="Trivial application to control playback of a sound file. " alt="" coords="450,169,614,196"/>
<area shape="rect" id="node25" href="../../d3/d3a/app__dahdiras_8c.html" title="Execute an ISDN RAS. " alt="" coords="638,169,757,196"/>
<area shape="rect" id="node26" href="../../dc/dc4/app__db_8c.html" title="Database access functions. " alt="" coords="780,169,860,196"/>
<area shape="rect" id="node27" href="../../dd/d32/app__dictate_8c.html" title="Virtual Dictation Machine Application For Asterisk. " alt="" coords="885,169,993,196"/>
<area shape="rect" id="node28" href="../../d9/db1/app__directed__pickup_8c.html" title="Directed Call Pickup Support. " alt="" coords="1017,169,1181,196"/>
<area shape="rect" id="node29" href="../../d0/de2/app__directory_8c.html" title="Provide a directory of extensions. " alt="" coords="1205,169,1323,196"/>
<area shape="rect" id="node30" href="../../d4/d7e/app__disa_8c.html" title="DISA â€“ Direct Inward System Access Application. " alt="" coords="1348,169,1439,196"/>
<area shape="rect" id="node31" href="../../dc/dc1/app__dtmfstore_8c.html" title="Technology independent asynchronous DTMF collection. " alt="" coords="1463,169,1590,196"/>
<area shape="rect" id="node32" href="../../d2/ddd/app__dumpchan_8c.html" title="Application to dump channel variables. " alt="" coords="1614,169,1746,196"/>
<area shape="rect" id="node33" href="../../d9/d7c/app__exec_8c.html" title="Exec application. " alt="" coords="1770,169,1865,196"/>
<area shape="rect" id="node34" href="../../de/d26/app__externalivr_8c.html" title="External IVR application interface. " alt="" coords="1889,169,2020,196"/>
<area shape="rect" id="node35" href="../../df/dde/app__fax_8c.html" title="app_fax.c" alt="" coords="2044,169,2127,196"/>
<area shape="rect" id="node36" href="../../d5/dd6/app__festival_8c.html" title="Connect to festival. " alt="" coords="2151,169,2260,196"/>
<area shape="rect" id="node37" href="../../d0/dd8/app__flash_8c.html" title="App to flash a DAHDI trunk. " alt="" coords="2285,169,2379,196"/>
<area shape="rect" id="node38" href="../../d2/db9/app__forkcdr_8c.html" title="Fork CDR application. " alt="" coords="2404,169,2511,196"/>
<area shape="rect" id="node39" href="../../dc/d7b/app__getcpeid_8c.html" title="Get ADSI CPE ID. " alt="" coords="2535,169,2654,196"/>
<area shape="rect" id="node40" href="../../da/d8a/app__ices_8c.html" title="Stream to an icecast server via ICES (see contrib/asterisk&#45;ices.xml) " alt="" coords="2678,169,2767,196"/>
<area shape="rect" id="node41" href="../../d1/d02/app__if_8c.html" title="If Branch Implementation. " alt="" coords="2791,169,2862,196"/>
<area shape="rect" id="node42" href="../../dc/d71/app__image_8c.html" title="App to transmit an image. " alt="" coords="2887,169,2991,196"/>
<area shape="rect" id="node43" href="../../d1/d14/app__ivrdemo_8c.html" title="IVR Demo application. " alt="" coords="3015,169,3131,196"/>
<area shape="rect" id="node44" href="../../de/dcd/app__jack_8c.html" title="Jack Application. " alt="" coords="3155,169,3245,196"/>
</map>
</div>
</div>
<p><a href="../../d6/dd7/presencestate_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/structast__presence__state__message.html">ast_presence_state_message</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stasis message payload representing a presence state update.  <a href="../../d2/db9/structast__presence__state__message.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7c9ffecd6ef678fd783980185b7ce8a8"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#a7c9ffecd6ef678fd783980185b7ce8a8">ast_presence_state_prov_cb_type</a>) (const char *data, char **subtype, char **<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="memdesc:a7c9ffecd6ef678fd783980185b7ce8a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Presence state provider call back.  <a href="#a7c9ffecd6ef678fd783980185b7ce8a8">More...</a><br /></td></tr>
<tr class="separator:a7c9ffecd6ef678fd783980185b7ce8a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ac3452f41c7982c84ca27ecf7b4cc7ce1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a> { <br />
&#160;&#160;<a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1acdf498c57345da5b4e0bb42ef32298c3">AST_PRESENCE_NOT_SET</a> = 0, 
<a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a1758148937334eb44b8da4d3aa4fc346">AST_PRESENCE_UNAVAILABLE</a>, 
<a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a6e9c7d2922eab8ace12c01ea5e7a769b">AST_PRESENCE_AVAILABLE</a>, 
<a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1ac41d71cb8232cc839e4e3148d6a833a5">AST_PRESENCE_AWAY</a>, 
<br />
&#160;&#160;<a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1afb9887c8b7e30179936a2eed59a4357c">AST_PRESENCE_XA</a>, 
<a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1ad930100cbf507ae9b76b9bf334fd5bff">AST_PRESENCE_CHAT</a>, 
<a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a6c901d0e025dd0eb85c497e505371f2a">AST_PRESENCE_DND</a>, 
<a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a5b541c7f37468daf2ee6cfe488949adb">AST_PRESENCE_INVALID</a>
<br />
 }</td></tr>
<tr class="separator:ac3452f41c7982c84ca27ecf7b4cc7ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab7e245827346d7af374045dec1b77928"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#ab7e245827346d7af374045dec1b77928">ast_presence_state</a> (const char *presence_provider, char **subtype, char **<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="memdesc:ab7e245827346d7af374045dec1b77928"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asks a presence state provider for the current presence state.  <a href="#ab7e245827346d7af374045dec1b77928">More...</a><br /></td></tr>
<tr class="separator:ab7e245827346d7af374045dec1b77928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec78c2b072d51416200d34bdd06827a7"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#aec78c2b072d51416200d34bdd06827a7">ast_presence_state2str</a> (enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>)</td></tr>
<tr class="memdesc:aec78c2b072d51416200d34bdd06827a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert presence state to text string for output.  <a href="#aec78c2b072d51416200d34bdd06827a7">More...</a><br /></td></tr>
<tr class="separator:aec78c2b072d51416200d34bdd06827a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05f60e92d064ee6d813aa3e8a8968da3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/d25/structstasis__cache.html">stasis_cache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#a05f60e92d064ee6d813aa3e8a8968da3">ast_presence_state_cache</a> (void)</td></tr>
<tr class="memdesc:a05f60e92d064ee6d813aa3e8a8968da3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backend cache for <a class="el" href="../../d6/dd7/presencestate_8h.html#a924dcab90c83605976f75d67acacc19b" title="Get caching presence state topic. ">ast_presence_state_topic_cached()</a>  <a href="#a05f60e92d064ee6d813aa3e8a8968da3">More...</a><br /></td></tr>
<tr class="separator:a05f60e92d064ee6d813aa3e8a8968da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8aa5916859638e7afee5927061471c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#ad8aa5916859638e7afee5927061471c3">ast_presence_state_changed</a> (enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>, const char *subtype, const char *<a class="el" href="../../d8/d9e/structmessage.html">message</a>, const char *fmt,...)</td></tr>
<tr class="memdesc:ad8aa5916859638e7afee5927061471c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the world that a presence provider state changed.  <a href="#ad8aa5916859638e7afee5927061471c3">More...</a><br /></td></tr>
<tr class="separator:ad8aa5916859638e7afee5927061471c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c03b3b24e4e2d470cb15c0830d6b83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#a21c03b3b24e4e2d470cb15c0830d6b83">ast_presence_state_changed_literal</a> (enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>, const char *subtype, const char *<a class="el" href="../../d8/d9e/structmessage.html">message</a>, const char *presence_provider)</td></tr>
<tr class="memdesc:a21c03b3b24e4e2d470cb15c0830d6b83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the world that a presence provider state changed.  <a href="#a21c03b3b24e4e2d470cb15c0830d6b83">More...</a><br /></td></tr>
<tr class="separator:a21c03b3b24e4e2d470cb15c0830d6b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d4e693b57d9b19c51f277f2f1e1903a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#a9d4e693b57d9b19c51f277f2f1e1903a">ast_presence_state_engine_init</a> (void)</td></tr>
<tr class="separator:a9d4e693b57d9b19c51f277f2f1e1903a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7552e0df81ae4e89431564844957de41"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#a7552e0df81ae4e89431564844957de41">ast_presence_state_message_type</a> (void)</td></tr>
<tr class="memdesc:a7552e0df81ae4e89431564844957de41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get presence state message type.  <a href="#a7552e0df81ae4e89431564844957de41">More...</a><br /></td></tr>
<tr class="separator:a7552e0df81ae4e89431564844957de41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa713e546441230472c468c3b27d79df9"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#aa713e546441230472c468c3b27d79df9">ast_presence_state_nocache</a> (const char *presence_provider, char **subtype, char **<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="memdesc:aa713e546441230472c468c3b27d79df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asks a presence state provider for the current presence state, bypassing the event cache.  <a href="#aa713e546441230472c468c3b27d79df9">More...</a><br /></td></tr>
<tr class="separator:aa713e546441230472c468c3b27d79df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d7bdc80a9d6b758706c08b8d4b6ced5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#a3d7bdc80a9d6b758706c08b8d4b6ced5">ast_presence_state_prov_add</a> (const char *label, <a class="el" href="../../d6/dd7/presencestate_8h.html#a7c9ffecd6ef678fd783980185b7ce8a8">ast_presence_state_prov_cb_type</a> callback)</td></tr>
<tr class="memdesc:a3d7bdc80a9d6b758706c08b8d4b6ced5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add presence state provider.  <a href="#a3d7bdc80a9d6b758706c08b8d4b6ced5">More...</a><br /></td></tr>
<tr class="separator:a3d7bdc80a9d6b758706c08b8d4b6ced5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad022944456cdfae836c2fb4263d09ec2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#ad022944456cdfae836c2fb4263d09ec2">ast_presence_state_prov_del</a> (const char *label)</td></tr>
<tr class="memdesc:ad022944456cdfae836c2fb4263d09ec2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove presence state provider.  <a href="#ad022944456cdfae836c2fb4263d09ec2">More...</a><br /></td></tr>
<tr class="separator:ad022944456cdfae836c2fb4263d09ec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24297292fcef05a5a271e99e1a71f45a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#a24297292fcef05a5a271e99e1a71f45a">ast_presence_state_topic_all</a> (void)</td></tr>
<tr class="memdesc:a24297292fcef05a5a271e99e1a71f45a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get presence state topic.  <a href="#a24297292fcef05a5a271e99e1a71f45a">More...</a><br /></td></tr>
<tr class="separator:a24297292fcef05a5a271e99e1a71f45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a924dcab90c83605976f75d67acacc19b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#a924dcab90c83605976f75d67acacc19b">ast_presence_state_topic_cached</a> (void)</td></tr>
<tr class="memdesc:a924dcab90c83605976f75d67acacc19b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get caching presence state topic.  <a href="#a924dcab90c83605976f75d67acacc19b">More...</a><br /></td></tr>
<tr class="separator:a924dcab90c83605976f75d67acacc19b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6afc26c5040198df2d32a0c9c704f02e"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dd7/presencestate_8h.html#a6afc26c5040198df2d32a0c9c704f02e">ast_presence_state_val</a> (const char *<a class="el" href="../../d5/d85/structval.html">val</a>)</td></tr>
<tr class="memdesc:a6afc26c5040198df2d32a0c9c704f02e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert presence state from text to integer value.  <a href="#a6afc26c5040198df2d32a0c9c704f02e">More...</a><br /></td></tr>
<tr class="separator:a6afc26c5040198df2d32a0c9c704f02e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Presence state management. </p>

<p class="definition">Definition in file <a class="el" href="../../d6/dd7/presencestate_8h_source.html">presencestate.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a7c9ffecd6ef678fd783980185b7ce8a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c9ffecd6ef678fd783980185b7ce8a8">&#9670;&nbsp;</a></span>ast_presence_state_prov_cb_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a>(* ast_presence_state_prov_cb_type) (const char *data, char **subtype, char **<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Presence state provider call back. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/dd7/presencestate_8h_source.html#l00043">43</a> of file <a class="el" href="../../d6/dd7/presencestate_8h_source.html">presencestate.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ac3452f41c7982c84ca27ecf7b4cc7ce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3452f41c7982c84ca27ecf7b4cc7ce1">&#9670;&nbsp;</a></span>ast_presence_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac3452f41c7982c84ca27ecf7b4cc7ce1acdf498c57345da5b4e0bb42ef32298c3"></a>AST_PRESENCE_NOT_SET&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac3452f41c7982c84ca27ecf7b4cc7ce1a1758148937334eb44b8da4d3aa4fc346"></a>AST_PRESENCE_UNAVAILABLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac3452f41c7982c84ca27ecf7b4cc7ce1a6e9c7d2922eab8ace12c01ea5e7a769b"></a>AST_PRESENCE_AVAILABLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac3452f41c7982c84ca27ecf7b4cc7ce1ac41d71cb8232cc839e4e3148d6a833a5"></a>AST_PRESENCE_AWAY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac3452f41c7982c84ca27ecf7b4cc7ce1afb9887c8b7e30179936a2eed59a4357c"></a>AST_PRESENCE_XA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac3452f41c7982c84ca27ecf7b4cc7ce1ad930100cbf507ae9b76b9bf334fd5bff"></a>AST_PRESENCE_CHAT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac3452f41c7982c84ca27ecf7b4cc7ce1a6c901d0e025dd0eb85c497e505371f2a"></a>AST_PRESENCE_DND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac3452f41c7982c84ca27ecf7b4cc7ce1a5b541c7f37468daf2ee6cfe488949adb"></a>AST_PRESENCE_INVALID&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/dd7/presencestate_8h_source.html#l00026">26</a> of file <a class="el" href="../../d6/dd7/presencestate_8h_source.html">presencestate.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                        {</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;   <a class="code" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1acdf498c57345da5b4e0bb42ef32298c3">AST_PRESENCE_NOT_SET</a> = 0,</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;   <a class="code" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a1758148937334eb44b8da4d3aa4fc346">AST_PRESENCE_UNAVAILABLE</a>,</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;   <a class="code" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a6e9c7d2922eab8ace12c01ea5e7a769b">AST_PRESENCE_AVAILABLE</a>,</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;   <a class="code" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1ac41d71cb8232cc839e4e3148d6a833a5">AST_PRESENCE_AWAY</a>,</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;   <a class="code" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1afb9887c8b7e30179936a2eed59a4357c">AST_PRESENCE_XA</a>,</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;   <a class="code" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1ad930100cbf507ae9b76b9bf334fd5bff">AST_PRESENCE_CHAT</a>,</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;   <a class="code" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a6c901d0e025dd0eb85c497e505371f2a">AST_PRESENCE_DND</a>,</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;   <span class="comment">/* This is not something that a user can</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">    * set his presence to. Rather, this is returned</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">    * to indicate that presence is in some invalid</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">    * state</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;   <a class="code" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a5b541c7f37468daf2ee6cfe488949adb">AST_PRESENCE_INVALID</a>,</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;};</div><div class="ttc" id="presencestate_8h_html_ac3452f41c7982c84ca27ecf7b4cc7ce1acdf498c57345da5b4e0bb42ef32298c3"><div class="ttname"><a href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1acdf498c57345da5b4e0bb42ef32298c3">AST_PRESENCE_NOT_SET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/presencestate_8h_source.html#l00027">presencestate.h:27</a></div></div>
<div class="ttc" id="presencestate_8h_html_ac3452f41c7982c84ca27ecf7b4cc7ce1ad930100cbf507ae9b76b9bf334fd5bff"><div class="ttname"><a href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1ad930100cbf507ae9b76b9bf334fd5bff">AST_PRESENCE_CHAT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/presencestate_8h_source.html#l00032">presencestate.h:32</a></div></div>
<div class="ttc" id="presencestate_8h_html_ac3452f41c7982c84ca27ecf7b4cc7ce1a6c901d0e025dd0eb85c497e505371f2a"><div class="ttname"><a href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a6c901d0e025dd0eb85c497e505371f2a">AST_PRESENCE_DND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/presencestate_8h_source.html#l00033">presencestate.h:33</a></div></div>
<div class="ttc" id="presencestate_8h_html_ac3452f41c7982c84ca27ecf7b4cc7ce1a6e9c7d2922eab8ace12c01ea5e7a769b"><div class="ttname"><a href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a6e9c7d2922eab8ace12c01ea5e7a769b">AST_PRESENCE_AVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/presencestate_8h_source.html#l00029">presencestate.h:29</a></div></div>
<div class="ttc" id="presencestate_8h_html_ac3452f41c7982c84ca27ecf7b4cc7ce1afb9887c8b7e30179936a2eed59a4357c"><div class="ttname"><a href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1afb9887c8b7e30179936a2eed59a4357c">AST_PRESENCE_XA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/presencestate_8h_source.html#l00031">presencestate.h:31</a></div></div>
<div class="ttc" id="presencestate_8h_html_ac3452f41c7982c84ca27ecf7b4cc7ce1a1758148937334eb44b8da4d3aa4fc346"><div class="ttname"><a href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a1758148937334eb44b8da4d3aa4fc346">AST_PRESENCE_UNAVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/presencestate_8h_source.html#l00028">presencestate.h:28</a></div></div>
<div class="ttc" id="presencestate_8h_html_ac3452f41c7982c84ca27ecf7b4cc7ce1ac41d71cb8232cc839e4e3148d6a833a5"><div class="ttname"><a href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1ac41d71cb8232cc839e4e3148d6a833a5">AST_PRESENCE_AWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/presencestate_8h_source.html#l00030">presencestate.h:30</a></div></div>
<div class="ttc" id="presencestate_8h_html_ac3452f41c7982c84ca27ecf7b4cc7ce1a5b541c7f37468daf2ee6cfe488949adb"><div class="ttname"><a href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a5b541c7f37468daf2ee6cfe488949adb">AST_PRESENCE_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/presencestate_8h_source.html#l00039">presencestate.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab7e245827346d7af374045dec1b77928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7e245827346d7af374045dec1b77928">&#9670;&nbsp;</a></span>ast_presence_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a> <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>presence_provider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>subtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asks a presence state provider for the current presence state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">presence_provider</td><td>The presence provider to retrieve the state from. </td></tr>
    <tr><td class="paramname">subtype</td><td>The output paramenter to store the subtype string in. Must be freed if returned </td></tr>
    <tr><td class="paramname">message</td><td>The output paramenter to store the message string in. Must be freed if returned</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">presence</td><td>state value on success, </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00221">221</a> of file <a class="el" href="../../d5/d07/presencestate_8c_source.html">presencestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00146">ast_presence_state_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d07/presencestate_8c.html#a7b4dfa06c97eb69bd73e6a7dc87b6523">ast_presence_state_helper</a>(presence_provider, subtype, <a class="code" href="../../d8/d9e/structmessage.html">message</a>, 1);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="presencestate_8c_html_a7b4dfa06c97eb69bd73e6a7dc87b6523"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#a7b4dfa06c97eb69bd73e6a7dc87b6523">ast_presence_state_helper</a></div><div class="ttdeci">static enum ast_presence_state ast_presence_state_helper(const char *presence_provider, char **subtype, char **message, int check_cache)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00146">presencestate.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aec78c2b072d51416200d34bdd06827a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec78c2b072d51416200d34bdd06827a7">&#9670;&nbsp;</a></span>ast_presence_state2str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_presence_state2str </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert presence state to text string for output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>Current presence state </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00103">103</a> of file <a class="el" href="../../d5/d07/presencestate_8c_source.html">presencestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, and <a class="el" href="../../d5/d07/presencestate_8c.html#a14c20f0dd78c9cc975e4dfaf225ac099">state2string</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l06004">action_presencestate()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00415">AST_TEST_DEFINE()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00699">exten_state_publisher_state_cb()</a>, <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00295">handle_cli_presencestate_list()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05304">handle_show_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05205">handle_show_hints()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07288">manager_state_cb()</a>, <a class="el" href="../../d7/d45/res__pjsip__pidf__digium__body__supplement_8c_source.html#l00039">pidf_supplement_body()</a>, <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00705">presence_change_common()</a>, <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00102">presence_read()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00525">presence_state_to_ami()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l15193">state_notify_build_xml()</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d5/d07/presencestate_8c.html#a14c20f0dd78c9cc975e4dfaf225ac099">state2string</a>); i++) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d4/d88/structstate.html">state</a> == <a class="code" href="../../d5/d07/presencestate_8c.html#a14c20f0dd78c9cc975e4dfaf225ac099">state2string</a>[i].<a class="code" href="../../d4/d88/structstate.html">state</a>) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d5/d07/presencestate_8c.html#a14c20f0dd78c9cc975e4dfaf225ac099">state2string</a>[i].string;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="presencestate_8c_html_a14c20f0dd78c9cc975e4dfaf225ac099"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#a14c20f0dd78c9cc975e4dfaf225ac099">state2string</a></div><div class="ttdeci">static const struct @413 state2string[]</div><div class="ttdoc">Device state strings for printing. </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a05f60e92d064ee6d813aa3e8a8968da3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05f60e92d064ee6d813aa3e8a8968da3">&#9670;&nbsp;</a></span>ast_presence_state_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d25/structstasis__cache.html">stasis_cache</a>* ast_presence_state_cache </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backend cache for <a class="el" href="../../d6/dd7/presencestate_8h.html#a924dcab90c83605976f75d67acacc19b" title="Get caching presence state topic. ">ast_presence_state_topic_cached()</a> </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Cache</td><td>of <a class="el" href="../../d2/db9/structast__presence__state__message.html">ast_presence_state_message</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00370">370</a> of file <a class="el" href="../../d5/d07/presencestate_8c_source.html">presencestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00090">presence_state_cache</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d2d/res__manager__presencestate_8c_source.html#l00073">action_presencestatelist()</a>, and <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00125">presence_state_cached()</a>.</p>
<div class="fragment"><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;{</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d07/presencestate_8c.html#aa8af56b5f0a892636d04b05ec78a9d9b">presence_state_cache</a>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div><div class="ttc" id="presencestate_8c_html_aa8af56b5f0a892636d04b05ec78a9d9b"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#aa8af56b5f0a892636d04b05ec78a9d9b">presence_state_cache</a></div><div class="ttdeci">struct stasis_cache * presence_state_cache</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00090">presencestate.c:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad8aa5916859638e7afee5927061471c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8aa5916859638e7afee5927061471c3">&#9670;&nbsp;</a></span>ast_presence_state_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_presence_state_changed </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>subtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify the world that a presence provider state changed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>the new presence state </td></tr>
    <tr><td class="paramname">subtype</td><td>the new presence subtype </td></tr>
    <tr><td class="paramname">message</td><td>the new presence message </td></tr>
    <tr><td class="paramname">fmt</td><td>Presence entity whose state has changed</td></tr>
  </table>
  </dd>
</dl>
<p>The new state of the entity will be sent off to any subscribers of the presence state. It will also be stored in the internal event cache.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00350">350</a> of file <a class="el" href="../../d5/d07/presencestate_8c_source.html">presencestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l00135">AST_MAX_EXTENSION</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00336">ast_presence_state_changed_literal()</a>, and <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00842">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;{</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   va_list ap;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   va_start(ap, fmt);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   vsnprintf(buf, <span class="keyword">sizeof</span>(buf), fmt, ap);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   va_end(ap);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d07/presencestate_8c.html#a21c03b3b24e4e2d470cb15c0830d6b83">ast_presence_state_changed_literal</a>(<a class="code" href="../../d4/d88/structstate.html">state</a>, subtype, <a class="code" href="../../d8/d9e/structmessage.html">message</a>, buf);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="channel_8h_html_af4e59494f74ad9e0c50170d9e276ad31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a></div><div class="ttdeci">#define AST_MAX_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00135">channel.h:135</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="presencestate_8c_html_a21c03b3b24e4e2d470cb15c0830d6b83"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#a21c03b3b24e4e2d470cb15c0830d6b83">ast_presence_state_changed_literal</a></div><div class="ttdeci">int ast_presence_state_changed_literal(enum ast_presence_state state, const char *subtype, const char *message, const char *presence_provider)</div><div class="ttdoc">Notify the world that a presence provider state changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00336">presencestate.c:336</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a21c03b3b24e4e2d470cb15c0830d6b83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c03b3b24e4e2d470cb15c0830d6b83">&#9670;&nbsp;</a></span>ast_presence_state_changed_literal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_presence_state_changed_literal </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>subtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>presence_provider</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify the world that a presence provider state changed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>the new presence state </td></tr>
    <tr><td class="paramname">subtype</td><td>the new presence subtype </td></tr>
    <tr><td class="paramname">message</td><td>the new presence message </td></tr>
    <tr><td class="paramname">presence_provider</td><td>Presence entity whose state has changed</td></tr>
  </table>
  </dd>
</dl>
<p>The new state of the entity will be sent off to any subscribers of the presence state. It will also be stored in the internal event cache.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00336">336</a> of file <a class="el" href="../../d5/d07/presencestate_8c_source.html">presencestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dd7/presencestate_8h_source.html#l00027">AST_PRESENCE_NOT_SET</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00319">do_presence_state_change()</a>, and <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00294">presence_state_event()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00350">ast_presence_state_changed()</a>, <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00366">handle_cli_presencestate_change()</a>, and <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00207">presence_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d88/structstate.html">state</a> == <a class="code" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1acdf498c57345da5b4e0bb42ef32298c3">AST_PRESENCE_NOT_SET</a>) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <a class="code" href="../../d5/d07/presencestate_8c.html#a40dfeddc195e3abb1bad9e5c2f6683ad">do_presence_state_change</a>(presence_provider);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <a class="code" href="../../d5/d07/presencestate_8c.html#ab3ea48d22949b5bcea00372ab94543c3">presence_state_event</a>(presence_provider, <a class="code" href="../../d4/d88/structstate.html">state</a>, subtype, <a class="code" href="../../d8/d9e/structmessage.html">message</a>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="presencestate_8c_html_a40dfeddc195e3abb1bad9e5c2f6683ad"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#a40dfeddc195e3abb1bad9e5c2f6683ad">do_presence_state_change</a></div><div class="ttdeci">static void do_presence_state_change(const char *provider)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00319">presencestate.c:319</a></div></div>
<div class="ttc" id="presencestate_8h_html_ac3452f41c7982c84ca27ecf7b4cc7ce1acdf498c57345da5b4e0bb42ef32298c3"><div class="ttname"><a href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1acdf498c57345da5b4e0bb42ef32298c3">AST_PRESENCE_NOT_SET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/presencestate_8h_source.html#l00027">presencestate.h:27</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="presencestate_8c_html_ab3ea48d22949b5bcea00372ab94543c3"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#ab3ea48d22949b5bcea00372ab94543c3">presence_state_event</a></div><div class="ttdeci">static void presence_state_event(const char *provider, enum ast_presence_state state, const char *subtype, const char *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00294">presencestate.c:294</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d4e693b57d9b19c51f277f2f1e1903a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d4e693b57d9b19c51f277f2f1e1903a">&#9670;&nbsp;</a></span>ast_presence_state_engine_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_presence_state_engine_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00495">495</a> of file <a class="el" href="../../d5/d07/presencestate_8c_source.html">presencestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dd7/presencestate_8h.html#a7552e0df81ae4e89431564844957de41">ast_presence_state_message_type()</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00019">ast_register_cleanup()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00127">AST_TEST_REGISTER</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00484">presence_state_engine_cleanup()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00380">presence_state_get_id()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00360">stasis_cache_create()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00090">stasis_caching_accept_message_type()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00109">stasis_caching_set_filter()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00948">stasis_caching_topic_create()</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l01501">STASIS_MESSAGE_TYPE_INIT</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00300">STASIS_SUBSCRIPTION_FILTER_SELECTIVE</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l00618">stasis_topic_create()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03947">asterisk_daemon()</a>.</p>
<div class="fragment"><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;{</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   <a class="code" href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a>(<a class="code" href="../../d5/d07/presencestate_8c.html#a04e6041a3c60c5181dbb12e1696a211d">presence_state_engine_cleanup</a>);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a>(<a class="code" href="../../d6/dd7/presencestate_8h.html#a7552e0df81ae4e89431564844957de41">ast_presence_state_message_type</a>) != 0) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   <a class="code" href="../../d5/d07/presencestate_8c.html#a4b3ce0c71046f8e2af60e05b35514cbe">presence_state_topic_all</a> = <a class="code" href="../../dd/d79/stasis_8h.html#acac26206b971b094c90839b4049cb6cc">stasis_topic_create</a>(<span class="stringliteral">&quot;presence_state:all&quot;</span>);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d07/presencestate_8c.html#a4b3ce0c71046f8e2af60e05b35514cbe">presence_state_topic_all</a>) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <a class="code" href="../../d5/d07/presencestate_8c.html#aa8af56b5f0a892636d04b05ec78a9d9b">presence_state_cache</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a64035c0f7317db2590817a173d268ff1">stasis_cache_create</a>(<a class="code" href="../../d5/d07/presencestate_8c.html#aed953c764daa847eeff62fbe6179bcbe">presence_state_get_id</a>);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d07/presencestate_8c.html#aa8af56b5f0a892636d04b05ec78a9d9b">presence_state_cache</a>) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   <a class="code" href="../../d5/d07/presencestate_8c.html#a1a9e700e6bffb519160da345881f46b3">presence_state_topic_cached</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a4290101180caea800a0461017a167120">stasis_caching_topic_create</a>(<a class="code" href="../../d5/d07/presencestate_8c.html#a4b3ce0c71046f8e2af60e05b35514cbe">presence_state_topic_all</a>, <a class="code" href="../../d5/d07/presencestate_8c.html#aa8af56b5f0a892636d04b05ec78a9d9b">presence_state_cache</a>);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d07/presencestate_8c.html#a1a9e700e6bffb519160da345881f46b3">presence_state_topic_cached</a>) {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#afd235b443f5fffb17c7bc98b6d48ddd2">stasis_caching_accept_message_type</a>(<a class="code" href="../../d5/d07/presencestate_8c.html#a1a9e700e6bffb519160da345881f46b3">presence_state_topic_cached</a>, <a class="code" href="../../d6/dd7/presencestate_8h.html#a7552e0df81ae4e89431564844957de41">ast_presence_state_message_type</a>());</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#a5db3f77a72f6a07c86a00f638daff07a">stasis_caching_set_filter</a>(<a class="code" href="../../d5/d07/presencestate_8c.html#a1a9e700e6bffb519160da345881f46b3">presence_state_topic_cached</a>, <a class="code" href="../../dd/d79/stasis_8h.html#a3804fa8ec76d77090d5cda80fc4ac891a0e40588366edb9a53e453d47ef26d567">STASIS_SUBSCRIPTION_FILTER_SELECTIVE</a>);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_presence_chan);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div><div class="ttc" id="presencestate_8c_html_a4b3ce0c71046f8e2af60e05b35514cbe"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#a4b3ce0c71046f8e2af60e05b35514cbe">presence_state_topic_all</a></div><div class="ttdeci">struct stasis_topic * presence_state_topic_all</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00089">presencestate.c:89</a></div></div>
<div class="ttc" id="stasis_8h_html_afd235b443f5fffb17c7bc98b6d48ddd2"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#afd235b443f5fffb17c7bc98b6d48ddd2">stasis_caching_accept_message_type</a></div><div class="ttdeci">int stasis_caching_accept_message_type(struct stasis_caching_topic *caching_topic, struct stasis_message_type *type)</div><div class="ttdoc">Indicate to a caching topic that we are interested in a message type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da9/stasis__cache_8c_source.html#l00090">stasis_cache.c:90</a></div></div>
<div class="ttc" id="presencestate_8c_html_aed953c764daa847eeff62fbe6179bcbe"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#aed953c764daa847eeff62fbe6179bcbe">presence_state_get_id</a></div><div class="ttdeci">static const char * presence_state_get_id(struct stasis_message *msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00380">presencestate.c:380</a></div></div>
<div class="ttc" id="stasis_8h_html_a70cd046d8e3fd50de5c51aecb2830d2a"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a></div><div class="ttdeci">#define STASIS_MESSAGE_TYPE_INIT(name)</div><div class="ttdoc">Boiler-plate messaging macro for initializing message types. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01501">stasis.h:1501</a></div></div>
<div class="ttc" id="stasis_8h_html_a4290101180caea800a0461017a167120"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a4290101180caea800a0461017a167120">stasis_caching_topic_create</a></div><div class="ttdeci">struct stasis_caching_topic * stasis_caching_topic_create(struct stasis_topic *original_topic, struct stasis_cache *cache)</div><div class="ttdoc">Create a topic which monitors and caches messages from another topic. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da9/stasis__cache_8c_source.html#l00948">stasis_cache.c:948</a></div></div>
<div class="ttc" id="test_8h_html_a34f64a69c09d98ceb693b077efd7ef97"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a></div><div class="ttdeci">#define AST_TEST_REGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00127">test.h:127</a></div></div>
<div class="ttc" id="asterisk_8h_html_a412442e1beffe5bec07ed2e9ea72afc3"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a></div><div class="ttdeci">int ast_register_cleanup(void(*func)(void))</div><div class="ttdoc">Register a function to be executed before Asterisk gracefully exits. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00019">clicompat.c:19</a></div></div>
<div class="ttc" id="stasis_8h_html_acac26206b971b094c90839b4049cb6cc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#acac26206b971b094c90839b4049cb6cc">stasis_topic_create</a></div><div class="ttdeci">struct stasis_topic * stasis_topic_create(const char *name)</div><div class="ttdoc">Create a new topic. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00618">stasis.c:618</a></div></div>
<div class="ttc" id="stasis_8h_html_a5db3f77a72f6a07c86a00f638daff07a"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a5db3f77a72f6a07c86a00f638daff07a">stasis_caching_set_filter</a></div><div class="ttdeci">int stasis_caching_set_filter(struct stasis_caching_topic *caching_topic, enum stasis_subscription_message_filter filter)</div><div class="ttdoc">Set the message type filtering level on a cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da9/stasis__cache_8c_source.html#l00109">stasis_cache.c:109</a></div></div>
<div class="ttc" id="presencestate_8c_html_aa8af56b5f0a892636d04b05ec78a9d9b"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#aa8af56b5f0a892636d04b05ec78a9d9b">presence_state_cache</a></div><div class="ttdeci">struct stasis_cache * presence_state_cache</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00090">presencestate.c:90</a></div></div>
<div class="ttc" id="stasis_8h_html_a64035c0f7317db2590817a173d268ff1"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a64035c0f7317db2590817a173d268ff1">stasis_cache_create</a></div><div class="ttdeci">struct stasis_cache * stasis_cache_create(snapshot_get_id id_fn)</div><div class="ttdoc">Create a cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da9/stasis__cache_8c_source.html#l00360">stasis_cache.c:360</a></div></div>
<div class="ttc" id="presencestate_8h_html_a7552e0df81ae4e89431564844957de41"><div class="ttname"><a href="../../d6/dd7/presencestate_8h.html#a7552e0df81ae4e89431564844957de41">ast_presence_state_message_type</a></div><div class="ttdeci">struct stasis_message_type * ast_presence_state_message_type(void)</div><div class="ttdoc">Get presence state message type. </div></div>
<div class="ttc" id="stasis_8h_html_a3804fa8ec76d77090d5cda80fc4ac891a0e40588366edb9a53e453d47ef26d567"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a3804fa8ec76d77090d5cda80fc4ac891a0e40588366edb9a53e453d47ef26d567">STASIS_SUBSCRIPTION_FILTER_SELECTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00300">stasis.h:300</a></div></div>
<div class="ttc" id="presencestate_8c_html_a1a9e700e6bffb519160da345881f46b3"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#a1a9e700e6bffb519160da345881f46b3">presence_state_topic_cached</a></div><div class="ttdeci">struct stasis_caching_topic * presence_state_topic_cached</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00091">presencestate.c:91</a></div></div>
<div class="ttc" id="presencestate_8c_html_a04e6041a3c60c5181dbb12e1696a211d"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#a04e6041a3c60c5181dbb12e1696a211d">presence_state_engine_cleanup</a></div><div class="ttdeci">static void presence_state_engine_cleanup(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00484">presencestate.c:484</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7552e0df81ae4e89431564844957de41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7552e0df81ae4e89431564844957de41">&#9670;&nbsp;</a></span>ast_presence_state_message_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_presence_state_message_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get presence state message type. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Stasis</td><td>message type for presence state messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d3/d2d/res__manager__presencestate_8c_source.html#l00073">action_presencestatelist()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00495">ast_presence_state_engine_init()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08460">load_pbx()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00125">presence_state_cached()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08333">presence_state_cb()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00484">presence_state_engine_cleanup()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00294">presence_state_event()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00380">presence_state_get_id()</a>, and <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00693">test_cb()</a>.</p>

</div>
</div>
<a id="aa713e546441230472c468c3b27d79df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa713e546441230472c468c3b27d79df9">&#9670;&nbsp;</a></span>ast_presence_state_nocache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a> ast_presence_state_nocache </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>presence_provider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>subtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asks a presence state provider for the current presence state, bypassing the event cache. </p>
<p>Some presence state providers may perform transformations on presence data when it is requested (such as a base64 decode). In such instances, use of the event cache is not suitable and should be bypassed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">presence_provider</td><td>The presence provider to retrieve the state from. </td></tr>
    <tr><td class="paramname">subtype</td><td>The output paramenter to store the subtype string in. Must be freed if returned </td></tr>
    <tr><td class="paramname">message</td><td>The output paramenter to store the message string in. Must be freed if returned</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">presence</td><td>state value on success, </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00226">226</a> of file <a class="el" href="../../d5/d07/presencestate_8c_source.html">presencestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00146">ast_presence_state_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00415">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00102">presence_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d07/presencestate_8c.html#a7b4dfa06c97eb69bd73e6a7dc87b6523">ast_presence_state_helper</a>(presence_provider, subtype, <a class="code" href="../../d8/d9e/structmessage.html">message</a>, 0);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="presencestate_8c_html_a7b4dfa06c97eb69bd73e6a7dc87b6523"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#a7b4dfa06c97eb69bd73e6a7dc87b6523">ast_presence_state_helper</a></div><div class="ttdeci">static enum ast_presence_state ast_presence_state_helper(const char *presence_provider, char **subtype, char **message, int check_cache)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00146">presencestate.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d7bdc80a9d6b758706c08b8d4b6ced5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7bdc80a9d6b758706c08b8d4b6ced5">&#9670;&nbsp;</a></span>ast_presence_state_prov_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_presence_state_prov_add </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dd7/presencestate_8h.html#a7c9ffecd6ef678fd783980185b7ce8a8">ast_presence_state_prov_cb_type</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add presence state provider. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">label</td><td>to use in hint, like label:object </td></tr>
    <tr><td class="paramname">callback</td><td>Callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00231">231</a> of file <a class="el" href="../../d5/d07/presencestate_8c_source.html">presencestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00717">AST_RWLIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00096">presence_state_provider::callback</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00095">presence_state_provider::label</a>, and <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00178">provider</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00842">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d20/structpresence__state__provider.html">presence_state_provider</a> *<a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d20/structpresence__state__provider.html#a16cc9febad86a4668b6a9d5514a869c3">callback</a> || !(provider = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*provider)))) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   provider-&gt;<a class="code" href="../../d3/d20/structpresence__state__provider.html#a16cc9febad86a4668b6a9d5514a869c3">callback</a> = <a class="code" href="../../d3/d20/structpresence__state__provider.html#a16cc9febad86a4668b6a9d5514a869c3">callback</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(provider-&gt;<a class="code" href="../../d3/d20/structpresence__state__provider.html#a48e23fa2154347c433b24e799187ee4f">label</a>, <a class="code" href="../../d3/d20/structpresence__state__provider.html#a48e23fa2154347c433b24e799187ee4f">label</a>, <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d3/d20/structpresence__state__provider.html#a48e23fa2154347c433b24e799187ee4f">label</a>));</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d6/d5a/structpresence__state__providers.html">presence_state_providers</a>);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aacc5f6b7c25e361d11d40137fd55a8e8">AST_RWLIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d6/d5a/structpresence__state__providers.html">presence_state_providers</a>, provider, list);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d6/d5a/structpresence__state__providers.html">presence_state_providers</a>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div><div class="ttc" id="structpresence__state__provider_html_a16cc9febad86a4668b6a9d5514a869c3"><div class="ttname"><a href="../../d3/d20/structpresence__state__provider.html#a16cc9febad86a4668b6a9d5514a869c3">presence_state_provider::callback</a></div><div class="ttdeci">ast_presence_state_prov_cb_type callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00096">presencestate.c:96</a></div></div>
<div class="ttc" id="structpresence__state__providers_html"><div class="ttname"><a href="../../d6/d5a/structpresence__state__providers.html">presence_state_providers</a></div><div class="ttdoc">A list of providers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00101">presencestate.c:101</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="structpresence__state__provider_html"><div class="ttname"><a href="../../d3/d20/structpresence__state__provider.html">presence_state_provider</a></div><div class="ttdoc">A presence state provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00094">presencestate.c:94</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aacc5f6b7c25e361d11d40137fd55a8e8"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aacc5f6b7c25e361d11d40137fd55a8e8">AST_RWLIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_HEAD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00717">linkedlists.h:717</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structpresence__state__provider_html_a48e23fa2154347c433b24e799187ee4f"><div class="ttname"><a href="../../d3/d20/structpresence__state__provider.html#a48e23fa2154347c433b24e799187ee4f">presence_state_provider::label</a></div><div class="ttdeci">char label[40]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00095">presencestate.c:95</a></div></div>
<div class="ttc" id="bridges_8c_html_ab1760b9a6a6c8d063d49ab9b5bcdfa49"><div class="ttname"><a href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a></div><div class="ttdeci">static struct prometheus_metrics_provider provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/bridges_8c_source.html#l00178">bridges.c:178</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad022944456cdfae836c2fb4263d09ec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad022944456cdfae836c2fb4263d09ec2">&#9670;&nbsp;</a></span>ast_presence_state_prov_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_presence_state_prov_del </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove presence state provider. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">label</td><td>to use in hint, like label:object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
    <tr><td class="paramname">0</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00248">248</a> of file <a class="el" href="../../d5/d07/presencestate_8c_source.html">presencestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00569">AST_RWLIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00095">presence_state_provider::label</a>, and <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00178">provider</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00826">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d20/structpresence__state__provider.html">presence_state_provider</a> *<a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d6/d5a/structpresence__state__providers.html">presence_state_providers</a>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d6/d5a/structpresence__state__providers.html">presence_state_providers</a>, provider, list) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(provider-&gt;<a class="code" href="../../d3/d20/structpresence__state__provider.html#a48e23fa2154347c433b24e799187ee4f">label</a>, <a class="code" href="../../d3/d20/structpresence__state__provider.html#a48e23fa2154347c433b24e799187ee4f">label</a>)) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a>(list);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(provider);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;         res = 0;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d6/d5a/structpresence__state__providers.html">presence_state_providers</a>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div><div class="ttc" id="structpresence__state__providers_html"><div class="ttname"><a href="../../d6/d5a/structpresence__state__providers.html">presence_state_providers</a></div><div class="ttdoc">A list of providers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00101">presencestate.c:101</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="structpresence__state__provider_html"><div class="ttname"><a href="../../d3/d20/structpresence__state__provider.html">presence_state_provider</a></div><div class="ttdoc">A presence state provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00094">presencestate.c:94</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a02212548652c9eb0f3db38dc4e4bd285"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00569">linkedlists.h:569</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structpresence__state__provider_html_a48e23fa2154347c433b24e799187ee4f"><div class="ttname"><a href="../../d3/d20/structpresence__state__provider.html#a48e23fa2154347c433b24e799187ee4f">presence_state_provider::label</a></div><div class="ttdeci">char label[40]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00095">presencestate.c:95</a></div></div>
<div class="ttc" id="bridges_8c_html_ab1760b9a6a6c8d063d49ab9b5bcdfa49"><div class="ttname"><a href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a></div><div class="ttdeci">static struct prometheus_metrics_provider provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/bridges_8c_source.html#l00178">bridges.c:178</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a24297292fcef05a5a271e99e1a71f45a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24297292fcef05a5a271e99e1a71f45a">&#9670;&nbsp;</a></span>ast_presence_state_topic_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_presence_state_topic_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get presence state topic. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Stasis</td><td>topic for presence state messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00365">365</a> of file <a class="el" href="../../d5/d07/presencestate_8c_source.html">presencestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00089">presence_state_topic_all</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d2d/res__manager__presencestate_8c_source.html#l00122">load_module()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08460">load_pbx()</a>, <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00705">presence_change_common()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00294">presence_state_event()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l04074">publish_hint_change()</a>.</p>
<div class="fragment"><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;{</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d07/presencestate_8c.html#a4b3ce0c71046f8e2af60e05b35514cbe">presence_state_topic_all</a>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div><div class="ttc" id="presencestate_8c_html_a4b3ce0c71046f8e2af60e05b35514cbe"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#a4b3ce0c71046f8e2af60e05b35514cbe">presence_state_topic_all</a></div><div class="ttdeci">struct stasis_topic * presence_state_topic_all</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00089">presencestate.c:89</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a924dcab90c83605976f75d67acacc19b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a924dcab90c83605976f75d67acacc19b">&#9670;&nbsp;</a></span>ast_presence_state_topic_cached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_presence_state_topic_cached </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get caching presence state topic. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Caching</td><td>Stasis topic for presence state messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00375">375</a> of file <a class="el" href="../../d5/d07/presencestate_8c_source.html">presencestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00085">stasis_caching_get_topic()</a>.</p>
<div class="fragment"><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d79/stasis_8h.html#a60b3b41b59f3894b40f5630524347d62">stasis_caching_get_topic</a>(<a class="code" href="../../d5/d07/presencestate_8c.html#a1a9e700e6bffb519160da345881f46b3">presence_state_topic_cached</a>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div><div class="ttc" id="stasis_8h_html_a60b3b41b59f3894b40f5630524347d62"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a60b3b41b59f3894b40f5630524347d62">stasis_caching_get_topic</a></div><div class="ttdeci">struct stasis_topic * stasis_caching_get_topic(struct stasis_caching_topic *caching_topic)</div><div class="ttdoc">Returns the topic of cached events from a caching topics. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da9/stasis__cache_8c_source.html#l00085">stasis_cache.c:85</a></div></div>
<div class="ttc" id="presencestate_8c_html_a1a9e700e6bffb519160da345881f46b3"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#a1a9e700e6bffb519160da345881f46b3">presence_state_topic_cached</a></div><div class="ttdeci">struct stasis_caching_topic * presence_state_topic_cached</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d07/presencestate_8c_source.html#l00091">presencestate.c:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6afc26c5040198df2d32a0c9c704f02e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6afc26c5040198df2d32a0c9c704f02e">&#9670;&nbsp;</a></span>ast_presence_state_val()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1">ast_presence_state</a> ast_presence_state_val </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert presence state from text to integer value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The text representing the presence state. Valid values are anything that comes after AST_PRESENCE_ in one of the defined values.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The AST_PRESENCE_ integer value </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00114">114</a> of file <a class="el" href="../../d5/d07/presencestate_8c_source.html">presencestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d6/dd7/presencestate_8h_source.html#l00039">AST_PRESENCE_INVALID</a>, and <a class="el" href="../../d5/d07/presencestate_8c.html#a14c20f0dd78c9cc975e4dfaf225ac099">state2string</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00162">parse_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d5/d07/presencestate_8c.html#a14c20f0dd78c9cc975e4dfaf225ac099">state2string</a>); i++) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/d85/structval.html">val</a>, <a class="code" href="../../d5/d07/presencestate_8c.html#a14c20f0dd78c9cc975e4dfaf225ac099">state2string</a>[i].<span class="keywordtype">string</span>)) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d5/d07/presencestate_8c.html#a14c20f0dd78c9cc975e4dfaf225ac099">state2string</a>[i].state;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a5b541c7f37468daf2ee6cfe488949adb">AST_PRESENCE_INVALID</a>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="structval_html"><div class="ttname"><a href="../../d5/d85/structval.html">val</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd1/ast__expr2_8c_source.html#l00325">ast_expr2.c:325</a></div></div>
<div class="ttc" id="presencestate_8c_html_a14c20f0dd78c9cc975e4dfaf225ac099"><div class="ttname"><a href="../../d5/d07/presencestate_8c.html#a14c20f0dd78c9cc975e4dfaf225ac099">state2string</a></div><div class="ttdeci">static const struct @413 state2string[]</div><div class="ttdoc">Device state strings for printing. </div></div>
<div class="ttc" id="presencestate_8h_html_ac3452f41c7982c84ca27ecf7b4cc7ce1a5b541c7f37468daf2ee6cfe488949adb"><div class="ttname"><a href="../../d6/dd7/presencestate_8h.html#ac3452f41c7982c84ca27ecf7b4cc7ce1a5b541c7f37468daf2ee6cfe488949adb">AST_PRESENCE_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/presencestate_8h_source.html#l00039">presencestate.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:16 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
