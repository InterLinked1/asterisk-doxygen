<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_config_sqlite3.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">res_config_sqlite3.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>SQLite 3 configuration engine.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;sqlite3.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html">asterisk/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/df2/paths_8h_source.html">asterisk/paths.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da5/astobj2_8h_source.html">asterisk/astobj2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_config_sqlite3.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d5f/res__config__sqlite3_8c__incl.png" border="0" usemap="#res__config__sqlite3_8c" alt=""/></div>
<map name="res__config__sqlite3_8c" id="res__config__sqlite3_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="461,379,545,405"/>
<area shape="rect" id="node23" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="1798,155,1934,181"/>
<area shape="rect" id="node24" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1914,229,2029,256"/>
<area shape="rect" id="node28" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1675,528,1788,555"/>
<area shape="rect" id="node34" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1447,379,1581,405"/>
<area shape="rect" id="node36" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="2645,155,2772,181"/>
<area shape="rect" id="node37" href="../../dd/df2/paths_8h.html" title="Asterisk file paths, configured in asterisk.conf. " alt="" coords="2123,80,2247,107"/>
<area shape="rect" id="node38" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="1987,80,2099,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="817,677,971,704"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="759,453,896,480"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="5,453,140,480"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="821,752,967,779"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1459,603,1601,629"/>
<area shape="rect" id="node25" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="2231,304,2370,331"/>
<area shape="rect" id="node26" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1717,603,1780,629"/>
<area shape="rect" id="node29" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1856,603,1983,629"/>
<area shape="rect" id="node30" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="2010,304,2157,331"/>
<area shape="rect" id="node31" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2445,304,2602,331"/>
<area shape="rect" id="node32" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1602,304,1733,331"/>
<area shape="rect" id="node27" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1926,677,2073,704"/>
<area shape="rect" id="node33" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="2070,379,2249,405"/>
<area shape="rect" id="node35" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1531,453,1681,480"/>
<area shape="rect" id="node39" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="1667,155,1774,181"/>
<area shape="rect" id="node42" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="2063,155,2189,181"/>
<area shape="rect" id="node43" href="../../d4/d05/json_8h.html" title="Asterisk JSON abstraction layer. " alt="" coords="2371,229,2486,256"/>
<area shape="rect" id="node44" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="2053,229,2199,256"/>
<area shape="rect" id="node45" href="../../dd/d20/event_8h.html" title="asterisk/event.h" alt="" coords="2223,229,2347,256"/>
</map>
</div>
</div>
<p><a href="../../d6/dbf/res__config__sqlite3_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/structcfg__entry__args.html">cfg_entry_args</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dfb/structrow__counter__args.html">row_counter_args</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a449804240a5b2d90635b546c32bd20cf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a449804240a5b2d90635b546c32bd20cf">DB_BUCKETS</a>&#160;&#160;&#160;7</td></tr>
<tr class="separator:a449804240a5b2d90635b546c32bd20cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61f7a31e1211907f297c6af21ad0f878"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a61f7a31e1211907f297c6af21ad0f878">IS_SQL_LIKE_CLAUSE</a>(x)&#160;&#160;&#160;((x) &amp;&amp; <a class="el" href="../../d6/d90/strings_8h.html#a58dc754cbd6253d7955714f4d058a138">ast_ends_with</a>(x, &quot; LIKE&quot;))</td></tr>
<tr class="separator:a61f7a31e1211907f297c6af21ad0f878"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a36ba1b812d972b37249ce42e5f8b68a2"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a36ba1b812d972b37249ce42e5f8b68a2">callback_t</a>) (void *, int, char **, char **)</td></tr>
<tr class="separator:a36ba1b812d972b37249ce42e5f8b68a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a520f7027c256a9fbb1d1a7c278c3c266"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735">REALTIME_SQLITE3_REQ_WARN</a>, 
<a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a8782cb77eb4d2162c54749874d87a6a9">REALTIME_SQLITE3_REQ_CLOSE</a>, 
<a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266ad13b13872cccfa764ec8de5729323b87">REALTIME_SQLITE3_REQ_CHAR</a>
 }</td></tr>
<tr class="separator:a520f7027c256a9fbb1d1a7c278c3c266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a443d48ef4fc56410a31da8313b6e916e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916eaca0ca3cc6436a82fdf4cb077a0f912c5">COL_CATEGORY</a>, 
<a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916eadbe6ef5e78c685b450cc5ca4441192c0">COL_VAR_NAME</a>, 
<a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916ea800e2edabff9628bd8131c8ab2c58670">COL_VAR_VAL</a>, 
<a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916ea1e67fea311d8af0842ec58527cccbd83">COL_COLUMNS</a>
 }</td></tr>
<tr class="separator:a443d48ef4fc56410a31da8313b6e916e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a63e068f6c8e595e6b44a4a9228ec17ee"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a63e068f6c8e595e6b44a4a9228ec17ee">__init_escape_column_buf</a> (void)</td></tr>
<tr class="separator:a63e068f6c8e595e6b44a4a9228ec17ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8891ceefa86da2df4669df7fbb7c37ee"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a8891ceefa86da2df4669df7fbb7c37ee">__init_escape_table_buf</a> (void)</td></tr>
<tr class="separator:a8891ceefa86da2df4669df7fbb7c37ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70701ef09e2dd328e8b28c8288224a84"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a70701ef09e2dd328e8b28c8288224a84">__init_escape_value_buf</a> (void)</td></tr>
<tr class="separator:a70701ef09e2dd328e8b28c8288224a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15466c7cefd24499dbedc72d0cd46726"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a15466c7cefd24499dbedc72d0cd46726">add_column_name</a> (void *arg, int num_columns, char **<a class="el" href="../../d2/d2b/structvalues.html">values</a>, char **<a class="el" href="../../d7/dec/structcolumns.html">columns</a>)</td></tr>
<tr class="memdesc:a15466c7cefd24499dbedc72d0cd46726"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for creating a hash of column names for comparison in realtime_sqlite3_require.  <a href="#a15466c7cefd24499dbedc72d0cd46726">More...</a><br /></td></tr>
<tr class="separator:a15466c7cefd24499dbedc72d0cd46726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27d0e8f5e142e155b22bb2902d5b0ef1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a27d0e8f5e142e155b22bb2902d5b0ef1">append_row_to_cfg</a> (void *arg, int num_columns, char **<a class="el" href="../../d2/d2b/structvalues.html">values</a>, char **<a class="el" href="../../d7/dec/structcolumns.html">columns</a>)</td></tr>
<tr class="memdesc:a27d0e8f5e142e155b22bb2902d5b0ef1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for creating an <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> from a successive sqlite3 result rows.  <a href="#a27d0e8f5e142e155b22bb2902d5b0ef1">More...</a><br /></td></tr>
<tr class="separator:a27d0e8f5e142e155b22bb2902d5b0ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ee330a38d794f5a794633ba52f33c5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a09ee330a38d794f5a794633ba52f33c5">db_cmp_fn</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:a09ee330a38d794f5a794633ba52f33c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f8febcb4703d89cdfc8331f92c05c77"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a9f8febcb4703d89cdfc8331f92c05c77">db_destructor</a> (void *obj)</td></tr>
<tr class="separator:a9f8febcb4703d89cdfc8331f92c05c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42de76f0e1ceffe40a83ccb16c3fe50f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a42de76f0e1ceffe40a83ccb16c3fe50f">db_hash_fn</a> (const void *obj, const int flags)</td></tr>
<tr class="separator:a42de76f0e1ceffe40a83ccb16c3fe50f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab79157fcf243c6bc3ef36e95c1f6d16d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ab79157fcf243c6bc3ef36e95c1f6d16d">db_open</a> (struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a082868565d651c0da1d2f0c194cb3248">db</a>)</td></tr>
<tr class="memdesc:ab79157fcf243c6bc3ef36e95c1f6d16d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a database and appropriately set debugging on the db handle.  <a href="#ab79157fcf243c6bc3ef36e95c1f6d16d">More...</a><br /></td></tr>
<tr class="separator:ab79157fcf243c6bc3ef36e95c1f6d16d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af913dd2c24ca1df52a8d319dac3e6ddd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#af913dd2c24ca1df52a8d319dac3e6ddd">db_start_batch</a> (struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a082868565d651c0da1d2f0c194cb3248">db</a>)</td></tr>
<tr class="separator:af913dd2c24ca1df52a8d319dac3e6ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8e2edcb2c6f25779c694a18778f350"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a6a8e2edcb2c6f25779c694a18778f350">db_stop_batch</a> (struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a082868565d651c0da1d2f0c194cb3248">db</a>)</td></tr>
<tr class="separator:a6a8e2edcb2c6f25779c694a18778f350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7339c286096a174470d1507f4ce6c01"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#aa7339c286096a174470d1507f4ce6c01">db_sync</a> (struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a082868565d651c0da1d2f0c194cb3248">db</a>)</td></tr>
<tr class="separator:aa7339c286096a174470d1507f4ce6c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac22ef757982d3cd0728dac39f0bbe834"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ac22ef757982d3cd0728dac39f0bbe834">db_sync_thread</a> (void *data)</td></tr>
<tr class="memdesc:ac22ef757982d3cd0728dac39f0bbe834"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrap commands in transactions increased write performance.  <a href="#ac22ef757982d3cd0728dac39f0bbe834">More...</a><br /></td></tr>
<tr class="separator:ac22ef757982d3cd0728dac39f0bbe834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af000ddcc40af15413e15682f6cac19a2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#af000ddcc40af15413e15682f6cac19a2">discover_sqlite3_caps</a> (void)</td></tr>
<tr class="separator:af000ddcc40af15413e15682f6cac19a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd5ae75df083e631275a307183879a2"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#aebd5ae75df083e631275a307183879a2">find_database</a> (const char *database)</td></tr>
<tr class="separator:aebd5ae75df083e631275a307183879a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a048177df250306c89eab5a45957f971e"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a048177df250306c89eab5a45957f971e">get_sqlite_column_type</a> (int <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:a048177df250306c89eab5a45957f971e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert Asterisk realtime types to SQLite 3 types.  <a href="#a048177df250306c89eab5a45957f971e">More...</a><br /></td></tr>
<tr class="separator:a048177df250306c89eab5a45957f971e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09389f7c1201127dda35aceb8e2a73c7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a09389f7c1201127dda35aceb8e2a73c7">handle_missing_column</a> (struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a082868565d651c0da1d2f0c194cb3248">db</a>, const char *<a class="el" href="../../db/d94/cel__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>, const char *<a class="el" href="../../de/d4b/structcolumn.html">column</a>, int <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, size_t sz)</td></tr>
<tr class="memdesc:a09389f7c1201127dda35aceb8e2a73c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">If ast_realtime_require sends info about a column we don't have, create it.  <a href="#a09389f7c1201127dda35aceb8e2a73c7">More...</a><br /></td></tr>
<tr class="separator:a09389f7c1201127dda35aceb8e2a73c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a040724b503f79294a39f61bec6cc28"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a4a040724b503f79294a39f61bec6cc28">handle_missing_table</a> (struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a082868565d651c0da1d2f0c194cb3248">db</a>, const char *<a class="el" href="../../db/d94/cel__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>, va_list ap)</td></tr>
<tr class="memdesc:a4a040724b503f79294a39f61bec6cc28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a table if ast_realtime_require shows that we are configured to handle the data.  <a href="#a4a040724b503f79294a39f61bec6cc28">More...</a><br /></td></tr>
<tr class="separator:a4a040724b503f79294a39f61bec6cc28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff54be3ac785d7c0d951ab9b26859ba"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a0ff54be3ac785d7c0d951ab9b26859ba">is_dirty_cb</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:a0ff54be3ac785d7c0d951ab9b26859ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="memdesc:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the module.  <a href="#ac3382bf6da54c56b37069bd76bbdf4f9">More...</a><br /></td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab623817e17cb6cf8083b6b630adde05"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#aab623817e17cb6cf8083b6b630adde05">mark_all_databases_dirty</a> (void)</td></tr>
<tr class="separator:aab623817e17cb6cf8083b6b630adde05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa47a4959e9281675798daa0df58d7c7a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#aa47a4959e9281675798daa0df58d7c7a">mark_dirty_cb</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:aa47a4959e9281675798daa0df58d7c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a422f608cacb776499f3e9efda7a3aa64"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a422f608cacb776499f3e9efda7a3aa64">new_realtime_sqlite3_db</a> (struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, const char *cat)</td></tr>
<tr class="memdesc:a422f608cacb776499f3e9efda7a3aa64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a db object based on a config category.  <a href="#a422f608cacb776499f3e9efda7a3aa64">More...</a><br /></td></tr>
<tr class="separator:a422f608cacb776499f3e9efda7a3aa64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc068d63cb9df28d4b885bb7b5c5560"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a0dc068d63cb9df28d4b885bb7b5c5560">parse_config</a> (int <a class="el" href="../../dc/d6b/res__xmpp_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>)</td></tr>
<tr class="memdesc:a0dc068d63cb9df28d4b885bb7b5c5560"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the res_config_sqlite3 config file.  <a href="#a0dc068d63cb9df28d4b885bb7b5c5560">More...</a><br /></td></tr>
<tr class="separator:a0dc068d63cb9df28d4b885bb7b5c5560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1552f5d1fa72090c44a509c0b314b7f9"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a1552f5d1fa72090c44a509c0b314b7f9">realtime_sqlite3</a> (const char *database, const char *<a class="el" href="../../db/d94/cel__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>, const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *fields)</td></tr>
<tr class="memdesc:a1552f5d1fa72090c44a509c0b314b7f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime callback for a single row query.  <a href="#a1552f5d1fa72090c44a509c0b314b7f9">More...</a><br /></td></tr>
<tr class="separator:a1552f5d1fa72090c44a509c0b314b7f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b8654bca197409f5f9c760b759461f5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a5b8654bca197409f5f9c760b759461f5">realtime_sqlite3_destroy</a> (const char *database, const char *<a class="el" href="../../db/d94/cel__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>, const char *keyfield, const char *<a class="el" href="../../de/dfe/isdn__lib_8c.html#ad4e4601988acb4a95ecd1ec380359ae5">entity</a>, const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *fields)</td></tr>
<tr class="memdesc:a5b8654bca197409f5f9c760b759461f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime callback for deleting a row.  <a href="#a5b8654bca197409f5f9c760b759461f5">More...</a><br /></td></tr>
<tr class="separator:a5b8654bca197409f5f9c760b759461f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00bb45ffe96622ee283583117e564036"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a00bb45ffe96622ee283583117e564036">realtime_sqlite3_exec_query</a> (const char *, const char *, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a36ba1b812d972b37249ce42e5f8b68a2">callback_t</a>, void *)</td></tr>
<tr class="separator:a00bb45ffe96622ee283583117e564036"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e91a578458151bd3e3bdb6ee0775c8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a16e91a578458151bd3e3bdb6ee0775c8">realtime_sqlite3_exec_query_with_handle</a> (struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *, const char *, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a36ba1b812d972b37249ce42e5f8b68a2">callback_t</a>, void *)</td></tr>
<tr class="separator:a16e91a578458151bd3e3bdb6ee0775c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5feed42294310fad19a3fafd359f6be4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a5feed42294310fad19a3fafd359f6be4">realtime_sqlite3_exec_update</a> (const char *, const char *)</td></tr>
<tr class="separator:a5feed42294310fad19a3fafd359f6be4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61926014bdd731e542354998c14cfc7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#aa61926014bdd731e542354998c14cfc7">realtime_sqlite3_exec_update_with_handle</a> (struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *, const char *)</td></tr>
<tr class="separator:aa61926014bdd731e542354998c14cfc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f45e75fe4a70db49ce1c9e7cd2b980"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a59f45e75fe4a70db49ce1c9e7cd2b980">realtime_sqlite3_helper</a> (const char *database, const char *<a class="el" href="../../db/d94/cel__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>, const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *fields, int is_multi, void *arg)</td></tr>
<tr class="memdesc:a59f45e75fe4a70db49ce1c9e7cd2b980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for single and multi-row realtime load functions.  <a href="#a59f45e75fe4a70db49ce1c9e7cd2b980">More...</a><br /></td></tr>
<tr class="separator:a59f45e75fe4a70db49ce1c9e7cd2b980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab452cca573aeba7f0b86f87bd5491ca"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#aab452cca573aeba7f0b86f87bd5491ca">realtime_sqlite3_load</a> (const char *database, const char *<a class="el" href="../../db/d94/cel__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>, const char *configfile, struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> flags, const char *suggested_include_file, const char *who_asked)</td></tr>
<tr class="memdesc:aab452cca573aeba7f0b86f87bd5491ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime callback for static realtime.  <a href="#aab452cca573aeba7f0b86f87bd5491ca">More...</a><br /></td></tr>
<tr class="separator:aab452cca573aeba7f0b86f87bd5491ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74ec69bf0606b765e62003474d15eb9c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a74ec69bf0606b765e62003474d15eb9c">realtime_sqlite3_multi</a> (const char *database, const char *<a class="el" href="../../db/d94/cel__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>, const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *fields)</td></tr>
<tr class="memdesc:a74ec69bf0606b765e62003474d15eb9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime callback for a multi-row query.  <a href="#a74ec69bf0606b765e62003474d15eb9c">More...</a><br /></td></tr>
<tr class="separator:a74ec69bf0606b765e62003474d15eb9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d71fbf08296b410fae6d61438d083c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ac8d71fbf08296b410fae6d61438d083c">realtime_sqlite3_require</a> (const char *database, const char *<a class="el" href="../../db/d94/cel__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>, va_list ap)</td></tr>
<tr class="memdesc:ac8d71fbf08296b410fae6d61438d083c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for ast_realtime_require.  <a href="#ac8d71fbf08296b410fae6d61438d083c">More...</a><br /></td></tr>
<tr class="separator:ac8d71fbf08296b410fae6d61438d083c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f02b600dec57bacf0f80321fdf4f1ae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a2f02b600dec57bacf0f80321fdf4f1ae">realtime_sqlite3_store</a> (const char *database, const char *<a class="el" href="../../db/d94/cel__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>, const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *fields)</td></tr>
<tr class="memdesc:a2f02b600dec57bacf0f80321fdf4f1ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime callback for inserting a row.  <a href="#a2f02b600dec57bacf0f80321fdf4f1ae">More...</a><br /></td></tr>
<tr class="separator:a2f02b600dec57bacf0f80321fdf4f1ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a287b7e9f74d0dd044812a553eeecc59b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a287b7e9f74d0dd044812a553eeecc59b">realtime_sqlite3_unload</a> (const char *database, const char *<a class="el" href="../../db/d94/cel__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>)</td></tr>
<tr class="memdesc:a287b7e9f74d0dd044812a553eeecc59b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for clearing any cached info.  <a href="#a287b7e9f74d0dd044812a553eeecc59b">More...</a><br /></td></tr>
<tr class="separator:a287b7e9f74d0dd044812a553eeecc59b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54557812592ecfd386b78e864671bc56"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a54557812592ecfd386b78e864671bc56">realtime_sqlite3_update</a> (const char *database, const char *<a class="el" href="../../db/d94/cel__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>, const char *keyfield, const char *<a class="el" href="../../de/dfe/isdn__lib_8c.html#ad4e4601988acb4a95ecd1ec380359ae5">entity</a>, const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *fields)</td></tr>
<tr class="memdesc:a54557812592ecfd386b78e864671bc56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime callback for updating a row based on a single criteria.  <a href="#a54557812592ecfd386b78e864671bc56">More...</a><br /></td></tr>
<tr class="separator:a54557812592ecfd386b78e864671bc56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95542938f53e202ca7ae65f65c47d04e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a95542938f53e202ca7ae65f65c47d04e">realtime_sqlite3_update2</a> (const char *database, const char *<a class="el" href="../../db/d94/cel__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>, const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *lookup_fields, const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *update_fields)</td></tr>
<tr class="memdesc:a95542938f53e202ca7ae65f65c47d04e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime callback for updating a row based on multiple criteria.  <a href="#a95542938f53e202ca7ae65f65c47d04e">More...</a><br /></td></tr>
<tr class="separator:a95542938f53e202ca7ae65f65c47d04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1982509765f4870f1f63412a53ea668"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> (void)</td></tr>
<tr class="separator:ad1982509765f4870f1f63412a53ea668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2359b65e79b2a3be2e97b2bb8c8f75b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ac2359b65e79b2a3be2e97b2bb8c8f75b">row_counter_wrapper</a> (void *arg, int num_columns, char **<a class="el" href="../../d2/d2b/structvalues.html">values</a>, char **<a class="el" href="../../d7/dec/structcolumns.html">columns</a>)</td></tr>
<tr class="separator:ac2359b65e79b2a3be2e97b2bb8c8f75b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e24bb5eb1fd30f7480a46328ae2089f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a2e24bb5eb1fd30f7480a46328ae2089f">row_to_varlist</a> (void *arg, int num_columns, char **<a class="el" href="../../d2/d2b/structvalues.html">values</a>, char **<a class="el" href="../../d7/dec/structcolumns.html">columns</a>)</td></tr>
<tr class="memdesc:a2e24bb5eb1fd30f7480a46328ae2089f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a varlist from a single sqlite3 result row.  <a href="#a2e24bb5eb1fd30f7480a46328ae2089f">More...</a><br /></td></tr>
<tr class="separator:a2e24bb5eb1fd30f7480a46328ae2089f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c87f4d9ee5d28f2c11d1d88a481b0ac"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a> (const char *param)</td></tr>
<tr class="separator:a7c87f4d9ee5d28f2c11d1d88a481b0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4473765c16a546b78f6b0179da8c443e"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a4473765c16a546b78f6b0179da8c443e">sqlite3_escape_column_op</a> (const char *param)</td></tr>
<tr class="separator:a4473765c16a546b78f6b0179da8c443e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a163718a59436c26a8e0f7e4e8d3ce83c"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a163718a59436c26a8e0f7e4e8d3ce83c">sqlite3_escape_string_helper</a> (struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> *ts, const char *param)</td></tr>
<tr class="separator:a163718a59436c26a8e0f7e4e8d3ce83c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a171509852163897527f0360d4d1e071f"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a> (const char *param)</td></tr>
<tr class="separator:a171509852163897527f0360d4d1e071f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b09fa43af5b7634cfc477f8d25576ff"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a> (const char *param)</td></tr>
<tr class="separator:a3b09fa43af5b7634cfc477f8d25576ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c67e0d63fbddc83acc3c6a161966979"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a7c67e0d63fbddc83acc3c6a161966979">static_realtime_cb</a> (void *arg, int num_columns, char **<a class="el" href="../../d2/d2b/structvalues.html">values</a>, char **<a class="el" href="../../d7/dec/structcolumns.html">columns</a>)</td></tr>
<tr class="separator:a7c67e0d63fbddc83acc3c6a161966979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b72d1c376890c1942447732a2b672c6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a1b72d1c376890c1942447732a2b672c6">stop_batch_cb</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:a1b72d1c376890c1942447732a2b672c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3409daf4c87fedacce04f347e0a41b9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ab3409daf4c87fedacce04f347e0a41b9">str_cmp_fn</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:ab3409daf4c87fedacce04f347e0a41b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a890b11c2381f91c6b3eaeb3dae5f6aa3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a890b11c2381f91c6b3eaeb3dae5f6aa3">str_hash_fn</a> (const void *obj, const int flags)</td></tr>
<tr class="separator:a890b11c2381f91c6b3eaeb3dae5f6aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c1ac98e5b7da311556399023e7f279"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ab0c1ac98e5b7da311556399023e7f279">str_to_requirements</a> (const char *data)</td></tr>
<tr class="separator:ab0c1ac98e5b7da311556399023e7f279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a964929bef3b1356ccfb25a5232e011f3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a964929bef3b1356ccfb25a5232e011f3">trace_cb</a> (void *arg, const char *sql)</td></tr>
<tr class="separator:a964929bef3b1356ccfb25a5232e011f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb60172adc5ec119f39411f4515ed3ce"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#adb60172adc5ec119f39411f4515ed3ce">unlink_dirty_databases</a> (void)</td></tr>
<tr class="separator:adb60172adc5ec119f39411f4515ed3ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b60cd5f33220b8a0d24092b6e8e6932"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a> (struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> **<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a082868565d651c0da1d2f0c194cb3248">db</a>)</td></tr>
<tr class="separator:a4b60cd5f33220b8a0d24092b6e8e6932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dd729213779e779cc10422b2f7c9dfb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a5dd729213779e779cc10422b2f7c9dfb">update_realtime_sqlite3_db</a> (struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a082868565d651c0da1d2f0c194cb3248">db</a>, struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, const char *cat)</td></tr>
<tr class="memdesc:a5dd729213779e779cc10422b2f7c9dfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update an existing db object based on config data.  <a href="#a5dd729213779e779cc10422b2f7c9dfb">More...</a><br /></td></tr>
<tr class="separator:a5dd729213779e779cc10422b2f7c9dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;SQLite 3 realtime <a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a> engine&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .reload = reload, .load_pri = AST_MODPRI_REALTIME_DRIVER, .requires = &quot;extconfig&quot;, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a502fc4d80b1f4d10bc516dbd85f9bd93"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a502fc4d80b1f4d10bc516dbd85f9bd93">config_lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td></tr>
<tr class="separator:a502fc4d80b1f4d10bc516dbd85f9bd93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7f338d7f6ee6377d37e46a1509ecd8f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ae7f338d7f6ee6377d37e46a1509ecd8f">databases</a></td></tr>
<tr class="separator:ae7f338d7f6ee6377d37e46a1509ecd8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf739143dddc253c0a1aa718a909b7a8"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#abf739143dddc253c0a1aa718a909b7a8">escape_column_buf</a> = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a63e068f6c8e595e6b44a4a9228ec17ee">__init_escape_column_buf</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td></tr>
<tr class="separator:abf739143dddc253c0a1aa718a909b7a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11fd2e5f4df65ff24b771080564d4772"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a11fd2e5f4df65ff24b771080564d4772">escape_table_buf</a> = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a8891ceefa86da2df4669df7fbb7c37ee">__init_escape_table_buf</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td></tr>
<tr class="separator:a11fd2e5f4df65ff24b771080564d4772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af82ec768da4f8b68400844a230dc4f22"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#af82ec768da4f8b68400844a230dc4f22">escape_value_buf</a> = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a70701ef09e2dd328e8b28c8288224a84">__init_escape_value_buf</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td></tr>
<tr class="separator:af82ec768da4f8b68400844a230dc4f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac54109c9752fdd0497e42276eb6d4eec"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ac54109c9752fdd0497e42276eb6d4eec">has_explicit_like_escaping</a></td></tr>
<tr class="separator:ac54109c9752fdd0497e42276eb6d4eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae604551e630c5d2bd5f24d75b58c4210"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d3/d26/structast__config__engine.html">ast_config_engine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#ae604551e630c5d2bd5f24d75b58c4210">sqlite3_config_engine</a></td></tr>
<tr class="separator:ae604551e630c5d2bd5f24d75b58c4210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8867f0ca25d934ad7945ec1b34106236"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a8867f0ca25d934ad7945ec1b34106236">static_sql</a> = &quot;SELECT category, var_name, var_val FROM \&quot;%q\&quot; WHERE filename = %Q AND commented = 0 ORDER BY cat_metric ASC, var_metric ASC&quot;</td></tr>
<tr class="separator:a8867f0ca25d934ad7945ec1b34106236"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SQLite 3 configuration engine. </p>
<dl class="section author"><dt>Author</dt><dd><pre class="fragment">Terry Wilson &lt;twilson@digium.com&gt; </pre></dd></dl>
<p>This is a realtime configuration engine for the SQLite 3 Database </p>

<p class="definition">Definition in file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a449804240a5b2d90635b546c32bd20cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a449804240a5b2d90635b546c32bd20cf">&#9670;&nbsp;</a></span>DB_BUCKETS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DB_BUCKETS&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00111">111</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01372">load_module()</a>.</p>

</div>
</div>
<a id="a61f7a31e1211907f297c6af21ad0f878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61f7a31e1211907f297c6af21ad0f878">&#9670;&nbsp;</a></span>IS_SQL_LIKE_CLAUSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IS_SQL_LIKE_CLAUSE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;((x) &amp;&amp; <a class="el" href="../../d6/d90/strings_8h.html#a58dc754cbd6253d7955714f4d058a138">ast_ends_with</a>(x, &quot; LIKE&quot;))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00796">796</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">realtime_sqlite3_helper()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a36ba1b812d972b37249ce42e5f8b68a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36ba1b812d972b37249ce42e5f8b68a2">&#9670;&nbsp;</a></span>callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* callback_t) (void *, int, char **, char **)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00120">120</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a520f7027c256a9fbb1d1a7c278c3c266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a520f7027c256a9fbb1d1a7c278c3c266">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735"></a>REALTIME_SQLITE3_REQ_WARN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a520f7027c256a9fbb1d1a7c278c3c266a8782cb77eb4d2162c54749874d87a6a9"></a>REALTIME_SQLITE3_REQ_CLOSE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a520f7027c256a9fbb1d1a7c278c3c266ad13b13872cccfa764ec8de5729323b87"></a>REALTIME_SQLITE3_REQ_CHAR&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00086">86</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;     {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735">REALTIME_SQLITE3_REQ_WARN</a>,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a8782cb77eb4d2162c54749874d87a6a9">REALTIME_SQLITE3_REQ_CLOSE</a>,</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266ad13b13872cccfa764ec8de5729323b87">REALTIME_SQLITE3_REQ_CHAR</a>,</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;};</div><div class="ttc" id="res__config__sqlite3_8c_html_a520f7027c256a9fbb1d1a7c278c3c266ad13b13872cccfa764ec8de5729323b87"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266ad13b13872cccfa764ec8de5729323b87">REALTIME_SQLITE3_REQ_CHAR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00089">res_config_sqlite3.c:89</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735">REALTIME_SQLITE3_REQ_WARN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00087">res_config_sqlite3.c:87</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a520f7027c256a9fbb1d1a7c278c3c266a8782cb77eb4d2162c54749874d87a6a9"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a8782cb77eb4d2162c54749874d87a6a9">REALTIME_SQLITE3_REQ_CLOSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00088">res_config_sqlite3.c:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a443d48ef4fc56410a31da8313b6e916e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a443d48ef4fc56410a31da8313b6e916e">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a443d48ef4fc56410a31da8313b6e916eaca0ca3cc6436a82fdf4cb077a0f912c5"></a>COL_CATEGORY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a443d48ef4fc56410a31da8313b6e916eadbe6ef5e78c685b450cc5ca4441192c0"></a>COL_VAR_NAME&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a443d48ef4fc56410a31da8313b6e916ea800e2edabff9628bd8131c8ab2c58670"></a>COL_VAR_VAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a443d48ef4fc56410a31da8313b6e916ea1e67fea311d8af0842ec58527cccbd83"></a>COL_COLUMNS&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00713">713</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;     {</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916eaca0ca3cc6436a82fdf4cb077a0f912c5">COL_CATEGORY</a>,</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916eadbe6ef5e78c685b450cc5ca4441192c0">COL_VAR_NAME</a>,</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916ea800e2edabff9628bd8131c8ab2c58670">COL_VAR_VAL</a>,</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916ea1e67fea311d8af0842ec58527cccbd83">COL_COLUMNS</a>,</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;};</div><div class="ttc" id="res__config__sqlite3_8c_html_a443d48ef4fc56410a31da8313b6e916eaca0ca3cc6436a82fdf4cb077a0f912c5"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916eaca0ca3cc6436a82fdf4cb077a0f912c5">COL_CATEGORY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00714">res_config_sqlite3.c:714</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a443d48ef4fc56410a31da8313b6e916ea1e67fea311d8af0842ec58527cccbd83"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916ea1e67fea311d8af0842ec58527cccbd83">COL_COLUMNS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00717">res_config_sqlite3.c:717</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a443d48ef4fc56410a31da8313b6e916eadbe6ef5e78c685b450cc5ca4441192c0"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916eadbe6ef5e78c685b450cc5ca4441192c0">COL_VAR_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00715">res_config_sqlite3.c:715</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a443d48ef4fc56410a31da8313b6e916ea800e2edabff9628bd8131c8ab2c58670"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916ea800e2edabff9628bd8131c8ab2c58670">COL_VAR_VAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00716">res_config_sqlite3.c:716</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a63e068f6c8e595e6b44a4a9228ec17ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63e068f6c8e595e6b44a4a9228ec17ee">&#9670;&nbsp;</a></span>__init_escape_column_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __init_escape_column_buf </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00117">117</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div></div><!-- fragment -->
</div>
</div>
<a id="a8891ceefa86da2df4669df7fbb7c37ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8891ceefa86da2df4669df7fbb7c37ee">&#9670;&nbsp;</a></span>__init_escape_table_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __init_escape_table_buf </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00116">116</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div></div><!-- fragment -->
</div>
</div>
<a id="a70701ef09e2dd328e8b28c8288224a84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70701ef09e2dd328e8b28c8288224a84">&#9670;&nbsp;</a></span>__init_escape_value_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __init_escape_value_buf </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00118">118</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div></div><!-- fragment -->
</div>
</div>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01403">1403</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01403">1403</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

</div>
</div>
<a id="a15466c7cefd24499dbedc72d0cd46726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15466c7cefd24499dbedc72d0cd46726">&#9670;&nbsp;</a></span>add_column_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_column_name </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for creating a hash of column names for comparison in realtime_sqlite3_require. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01152">1152</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01174">realtime_sqlite3_require()</a>.</p>
<div class="fragment"><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;{</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../de/d4b/structcolumn.html">column</a>;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *cnames = arg;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;   <span class="keywordflow">if</span> (!(column = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(strlen(<a class="code" href="../../d2/d2b/structvalues.html">values</a>[1]) + 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;   }</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;   strcpy(column, <a class="code" href="../../d2/d2b/structvalues.html">values</a>[1]);</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(cnames, column);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(column, -1);</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structvalues_html"><div class="ttname"><a href="../../d2/d2b/structvalues.html">values</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00066">cdr_sqlite3_custom.c:66</a></div></div>
<div class="ttc" id="structcolumn_html"><div class="ttname"><a href="../../de/d4b/structcolumn.html">column</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00098">cdr_mysql.c:98</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a27d0e8f5e142e155b22bb2902d5b0ef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27d0e8f5e142e155b22bb2902d5b0ef1">&#9670;&nbsp;</a></span>append_row_to_cfg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int append_row_to_cfg </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for creating an <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> from a successive sqlite3 result rows. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00513">513</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02835">ast_category_append()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00837">ast_category_new_anonymous</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01178">ast_variable_append()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">ast_variable_new</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, and <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">realtime_sqlite3_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;{</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg = arg;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/db2/structast__category.html">ast_category</a> *cat;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a5f8ade30f8f91f2ab790fdebd560662d">ast_category_new_anonymous</a>();</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;   <span class="keywordflow">if</span> (!cat) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">return</span> SQLITE_ABORT;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; num_columns; i++) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">if</span> (!(var = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a>(<a class="code" href="../../d7/dec/structcolumns.html">columns</a>[i], <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d2/d2b/structvalues.html">values</a>[i], <span class="stringliteral">&quot;&quot;</span>), <span class="stringliteral">&quot;&quot;</span>))) {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not create new variable for &#39;%s: %s&#39;, throwing away list\n&quot;</span>, <a class="code" href="../../d7/dec/structcolumns.html">columns</a>[i], <a class="code" href="../../d2/d2b/structvalues.html">values</a>[i]);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a57a3200e5b440d7135eaf0450ea559fe">ast_variable_append</a>(cat, var);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aa422e1cc73c1ac4db7ed8cd1a0e36e1a">ast_category_append</a>(cfg, cat);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;}</div><div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="structast__category_html"><div class="ttname"><a href="../../d7/db2/structast__category.html">ast_category</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00225">main/config.c:225</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a5f8ade30f8f91f2ab790fdebd560662d"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a5f8ade30f8f91f2ab790fdebd560662d">ast_category_new_anonymous</a></div><div class="ttdeci">#define ast_category_new_anonymous()</div><div class="ttdoc">Create a nameless category that is not backed by a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00837">include/asterisk/config.h:837</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structcolumns_html"><div class="ttname"><a href="../../d7/dec/structcolumns.html">columns</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00107">cdr_mysql.c:107</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a66581086d34dfe7ea86b0644bacef239"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a></div><div class="ttdeci">#define ast_variable_new(name, value, filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">include/asterisk/config.h:914</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="structvalues_html"><div class="ttname"><a href="../../d2/d2b/structvalues.html">values</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00066">cdr_sqlite3_custom.c:66</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a57a3200e5b440d7135eaf0450ea559fe"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a57a3200e5b440d7135eaf0450ea559fe">ast_variable_append</a></div><div class="ttdeci">void ast_variable_append(struct ast_category *category, struct ast_variable *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01178">extconf.c:1178</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aa422e1cc73c1ac4db7ed8cd1a0e36e1a"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aa422e1cc73c1ac4db7ed8cd1a0e36e1a">ast_category_append</a></div><div class="ttdeci">void ast_category_append(struct ast_config *config, struct ast_category *cat)</div><div class="ttdoc">Appends a category to a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02835">extconf.c:2835</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01403">1403</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

</div>
</div>
<a id="a09ee330a38d794f5a794633ba52f33c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09ee330a38d794f5a794633ba52f33c5">&#9670;&nbsp;</a></span>db_cmp_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int db_cmp_fn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00224">224</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01032">CMP_STOP</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">realtime_sqlite3_db::name</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01372">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                                      {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a> = obj, *other = arg;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> = arg;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="keywordflow">return</span> !strcasecmp(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a> ? name : other-&gt;name) ? <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a> : 0;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div><div class="ttc" id="structrealtime__sqlite3__db_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#ace9168767fc3707cf5f0a7d049682ba3">realtime_sqlite3_db::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">res_config_sqlite3.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01032">astobj2.h:1032</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f8febcb4703d89cdfc8331f92c05c77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f8febcb4703d89cdfc8331f92c05c77">&#9670;&nbsp;</a></span>db_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void db_destructor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00231">231</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00375">db_stop_batch()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00097">realtime_sqlite3_db::handle</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">realtime_sqlite3_db::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00388">new_realtime_sqlite3_db()</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a> = obj;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Destroying db: %s\n&quot;</span>, db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(db);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a6a8e2edcb2c6f25779c694a18778f350">db_stop_batch</a>(db);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(db);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      sqlite3_close(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(db);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div><div class="ttc" id="structrealtime__sqlite3__db_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#ace9168767fc3707cf5f0a7d049682ba3">realtime_sqlite3_db::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">res_config_sqlite3.c:96</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a6a8e2edcb2c6f25779c694a18778f350"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a6a8e2edcb2c6f25779c694a18778f350">db_stop_batch</a></div><div class="ttdeci">void db_stop_batch(struct realtime_sqlite3_db *db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00375">res_config_sqlite3.c:375</a></div></div>
<div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a80c18fe10b90a145c3d7ce6d20183359"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">realtime_sqlite3_db::handle</a></div><div class="ttdeci">sqlite3 * handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00097">res_config_sqlite3.c:97</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42de76f0e1ceffe40a83ccb16c3fe50f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42de76f0e1ceffe40a83ccb16c3fe50f">&#9670;&nbsp;</a></span>db_hash_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int db_hash_fn </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00217">217</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l01206">ast_str_hash()</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">realtime_sqlite3_db::name</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01372">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a> = obj;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a>(flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a> ? (<span class="keyword">const</span> <span class="keywordtype">char</span> *) obj : db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div><div class="ttc" id="structrealtime__sqlite3__db_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#ace9168767fc3707cf5f0a7d049682ba3">realtime_sqlite3_db::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">res_config_sqlite3.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="strings_8h_html_a33ab7fa091d5513d8507d3bd33ef5b55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a></div><div class="ttdeci">static force_inline int attribute_pure ast_str_hash(const char *str)</div><div class="ttdoc">Compute a hash value on a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01206">strings.h:1206</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab79157fcf243c6bc3ef36e95c1f6d16d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab79157fcf243c6bc3ef36e95c1f6d16d">&#9670;&nbsp;</a></span>db_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int db_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a database and appropriately set debugging on the db handle. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00339">339</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00107">realtime_sqlite3_db::busy_timeout</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00102">realtime_sqlite3_db::debug</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">realtime_sqlite3_db::filename</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00097">realtime_sqlite3_db::handle</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00303">trace_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">parse_config()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00438">update_realtime_sqlite3_db()</a>.</p>
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(db);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <span class="keywordflow">if</span> (sqlite3_open(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a92ddab484445475c5d620ad49e029420">filename</a>, &amp;db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>) != SQLITE_OK) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not open %s: %s\n&quot;</span>, db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a92ddab484445475c5d620ad49e029420">filename</a>, sqlite3_errmsg(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>));</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(db);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;   }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   sqlite3_busy_timeout(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>, db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ab4d887c2870703db99fa4f5ae8274f44">busy_timeout</a>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#aa3770535f39c67ca0811e27731893370">debug</a>) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      sqlite3_trace(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a964929bef3b1356ccfb25a5232e011f3">trace_cb</a>, db);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      sqlite3_trace(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(db);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div><div class="ttc" id="structrealtime__sqlite3__db_html_aa3770535f39c67ca0811e27731893370"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#aa3770535f39c67ca0811e27731893370">realtime_sqlite3_db::debug</a></div><div class="ttdeci">unsigned int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00102">res_config_sqlite3.c:102</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a964929bef3b1356ccfb25a5232e011f3"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a964929bef3b1356ccfb25a5232e011f3">trace_cb</a></div><div class="ttdeci">static void trace_cb(void *arg, const char *sql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00303">res_config_sqlite3.c:303</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a80c18fe10b90a145c3d7ce6d20183359"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">realtime_sqlite3_db::handle</a></div><div class="ttdeci">sqlite3 * handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00097">res_config_sqlite3.c:97</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_ab4d887c2870703db99fa4f5ae8274f44"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#ab4d887c2870703db99fa4f5ae8274f44">realtime_sqlite3_db::busy_timeout</a></div><div class="ttdeci">int busy_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00107">res_config_sqlite3.c:107</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a92ddab484445475c5d620ad49e029420"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a92ddab484445475c5d620ad49e029420">realtime_sqlite3_db::filename</a></div><div class="ttdeci">const ast_string_field filename</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">res_config_sqlite3.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af913dd2c24ca1df52a8d319dac3e6ddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af913dd2c24ca1df52a8d319dac3e6ddd">&#9670;&nbsp;</a></span>db_start_batch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void db_start_batch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00366">366</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00199">ast_cond_init</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00567">ast_pthread_create_background</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00106">realtime_sqlite3_db::batch</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00099">realtime_sqlite3_db::cond</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00310">db_sync_thread()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00105">realtime_sqlite3_db::has_batch_thread</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00098">realtime_sqlite3_db::syncthread</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">parse_config()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00438">update_realtime_sqlite3_db()</a>.</p>
<div class="fragment"><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;{</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">batch</a>) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a>(&amp;db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(db, +1);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#aedbc1bee4f833b63753c0ab7822ca914">has_batch_thread</a> = !<a class="code" href="../../d5/d60/utils_8h.html#a595e2f8aa398f4bd21e381c3211235fe">ast_pthread_create_background</a>(&amp;db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ac332fd073c41ceb9b1826af8791b241b">syncthread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ac22ef757982d3cd0728dac39f0bbe834">db_sync_thread</a>, db);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_ac22ef757982d3cd0728dac39f0bbe834"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#ac22ef757982d3cd0728dac39f0bbe834">db_sync_thread</a></div><div class="ttdeci">static void * db_sync_thread(void *data)</div><div class="ttdoc">Wrap commands in transactions increased write performance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00310">res_config_sqlite3.c:310</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_ac332fd073c41ceb9b1826af8791b241b"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#ac332fd073c41ceb9b1826af8791b241b">realtime_sqlite3_db::syncthread</a></div><div class="ttdeci">pthread_t syncthread</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00098">res_config_sqlite3.c:98</a></div></div>
<div class="ttc" id="lock_8h_html_a69e9591803d36f5683eb9b084442be9b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a></div><div class="ttdeci">#define ast_cond_init(cond, attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00199">lock.h:199</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a595e2f8aa398f4bd21e381c3211235fe"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a595e2f8aa398f4bd21e381c3211235fe">ast_pthread_create_background</a></div><div class="ttdeci">#define ast_pthread_create_background(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00567">utils.h:567</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_aedbc1bee4f833b63753c0ab7822ca914"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#aedbc1bee4f833b63753c0ab7822ca914">realtime_sqlite3_db::has_batch_thread</a></div><div class="ttdeci">unsigned int has_batch_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00105">res_config_sqlite3.c:105</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a5d5976ec47beec8afba58daf3a6ac1c1"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">realtime_sqlite3_db::batch</a></div><div class="ttdeci">unsigned int batch</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00106">res_config_sqlite3.c:106</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a1c7181c39f99ee801943a0d0aa9872b9">realtime_sqlite3_db::cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00099">res_config_sqlite3.c:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a8e2edcb2c6f25779c694a18778f350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a8e2edcb2c6f25779c694a18778f350">&#9670;&nbsp;</a></span>db_stop_batch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void db_stop_batch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00375">375</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00360">db_sync()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00103">realtime_sqlite3_db::exiting</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00105">realtime_sqlite3_db::has_batch_thread</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00098">realtime_sqlite3_db::syncthread</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00231">db_destructor()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00276">is_dirty_cb()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00256">stop_batch_cb()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00438">update_realtime_sqlite3_db()</a>.</p>
<div class="fragment"><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#aedbc1bee4f833b63753c0ab7822ca914">has_batch_thread</a>) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#aedbc1bee4f833b63753c0ab7822ca914">has_batch_thread</a> = 0;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a43dc211bda3bb7e14643e8d94ae6f593">exiting</a> = 1;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#aa7339c286096a174470d1507f4ce6c01">db_sync</a>(db);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      pthread_join(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ac332fd073c41ceb9b1826af8791b241b">syncthread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div><div class="ttc" id="structrealtime__sqlite3__db_html_a43dc211bda3bb7e14643e8d94ae6f593"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a43dc211bda3bb7e14643e8d94ae6f593">realtime_sqlite3_db::exiting</a></div><div class="ttdeci">unsigned int exiting</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00103">res_config_sqlite3.c:103</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_ac332fd073c41ceb9b1826af8791b241b"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#ac332fd073c41ceb9b1826af8791b241b">realtime_sqlite3_db::syncthread</a></div><div class="ttdeci">pthread_t syncthread</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00098">res_config_sqlite3.c:98</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_aedbc1bee4f833b63753c0ab7822ca914"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#aedbc1bee4f833b63753c0ab7822ca914">realtime_sqlite3_db::has_batch_thread</a></div><div class="ttdeci">unsigned int has_batch_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00105">res_config_sqlite3.c:105</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_aa7339c286096a174470d1507f4ce6c01"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#aa7339c286096a174470d1507f4ce6c01">db_sync</a></div><div class="ttdeci">static void db_sync(struct realtime_sqlite3_db *db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00360">res_config_sqlite3.c:360</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa7339c286096a174470d1507f4ce6c01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7339c286096a174470d1507f4ce6c01">&#9670;&nbsp;</a></span>db_sync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void db_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00360">360</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00201">ast_cond_signal</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00099">realtime_sqlite3_db::cond</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00104">realtime_sqlite3_db::wakeup</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00375">db_stop_batch()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00662">realtime_sqlite3_exec_update_with_handle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;{</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a41561c0fcb4157381c23f6434ffeca1e">wakeup</a> = 1;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(&amp;db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div><div class="ttc" id="lock_8h_html_ae2cdf274a5da241c3ad7324d82bf6af0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a></div><div class="ttdeci">#define ast_cond_signal(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00201">lock.h:201</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a41561c0fcb4157381c23f6434ffeca1e"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a41561c0fcb4157381c23f6434ffeca1e">realtime_sqlite3_db::wakeup</a></div><div class="ttdeci">unsigned int wakeup</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00104">res_config_sqlite3.c:104</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a1c7181c39f99ee801943a0d0aa9872b9">realtime_sqlite3_db::cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00099">res_config_sqlite3.c:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac22ef757982d3cd0728dac39f0bbe834"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac22ef757982d3cd0728dac39f0bbe834">&#9670;&nbsp;</a></span>db_sync_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* db_sync_thread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wrap commands in transactions increased write performance. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00310">310</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00476">ao2_object_get_lockaddr()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00203">ast_cond_wait</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00106">realtime_sqlite3_db::batch</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00099">realtime_sqlite3_db::cond</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00103">realtime_sqlite3_db::exiting</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00599">realtime_sqlite3_exec_query_with_handle()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00250">unref_db()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00104">realtime_sqlite3_db::wakeup</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00366">db_start_batch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;{</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a> = data;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(db);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a16e91a578458151bd3e3bdb6ee0775c8">realtime_sqlite3_exec_query_with_handle</a>(db, <span class="stringliteral">&quot;BEGIN TRANSACTION&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">if</span> (!db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a41561c0fcb4157381c23f6434ffeca1e">wakeup</a>) {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a>(&amp;db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a503b6c7ced96f9b56ec59c115cbeb29a">ao2_object_get_lockaddr</a>(db));</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a41561c0fcb4157381c23f6434ffeca1e">wakeup</a> = 0;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a16e91a578458151bd3e3bdb6ee0775c8">realtime_sqlite3_exec_query_with_handle</a>(db, <span class="stringliteral">&quot;COMMIT&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &lt; 0) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;         <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a16e91a578458151bd3e3bdb6ee0775c8">realtime_sqlite3_exec_query_with_handle</a>(db, <span class="stringliteral">&quot;ROLLBACK&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a43dc211bda3bb7e14643e8d94ae6f593">exiting</a>) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(db);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a16e91a578458151bd3e3bdb6ee0775c8">realtime_sqlite3_exec_query_with_handle</a>(db, <span class="stringliteral">&quot;BEGIN TRANSACTION&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(db);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      usleep(1000 * db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">batch</a>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(db);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div><div class="ttc" id="structrealtime__sqlite3__db_html_a43dc211bda3bb7e14643e8d94ae6f593"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a43dc211bda3bb7e14643e8d94ae6f593">realtime_sqlite3_db::exiting</a></div><div class="ttdeci">unsigned int exiting</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00103">res_config_sqlite3.c:103</a></div></div>
<div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="lock_8h_html_a36233c5520173c095bf732a788356aee"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a></div><div class="ttdeci">#define ast_cond_wait(cond, mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00203">lock.h:203</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a16e91a578458151bd3e3bdb6ee0775c8"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a16e91a578458151bd3e3bdb6ee0775c8">realtime_sqlite3_exec_query_with_handle</a></div><div class="ttdeci">static int realtime_sqlite3_exec_query_with_handle(struct realtime_sqlite3_db *, const char *, callback_t, void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00599">res_config_sqlite3.c:599</a></div></div>
<div class="ttc" id="astobj2_8h_html_a503b6c7ced96f9b56ec59c115cbeb29a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a503b6c7ced96f9b56ec59c115cbeb29a">ao2_object_get_lockaddr</a></div><div class="ttdeci">void * ao2_object_get_lockaddr(void *obj)</div><div class="ttdoc">Return the mutex lock address of an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00476">astobj2.c:476</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a4b60cd5f33220b8a0d24092b6e8e6932"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a></div><div class="ttdeci">static void unref_db(struct realtime_sqlite3_db **db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00250">res_config_sqlite3.c:250</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a5d5976ec47beec8afba58daf3a6ac1c1"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">realtime_sqlite3_db::batch</a></div><div class="ttdeci">unsigned int batch</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00106">res_config_sqlite3.c:106</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a41561c0fcb4157381c23f6434ffeca1e"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a41561c0fcb4157381c23f6434ffeca1e">realtime_sqlite3_db::wakeup</a></div><div class="ttdeci">unsigned int wakeup</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00104">res_config_sqlite3.c:104</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a1c7181c39f99ee801943a0d0aa9872b9">realtime_sqlite3_db::cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00099">res_config_sqlite3.c:99</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af000ddcc40af15413e15682f6cac19a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af000ddcc40af15413e15682f6cac19a2">&#9670;&nbsp;</a></span>discover_sqlite3_caps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void discover_sqlite3_caps </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01339">1339</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00061">has_explicit_like_escaping</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01372">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;{</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="comment">    * So we cheat a little bit here. SQLite3 added support for the</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="comment">    * &#39;ESCAPE&#39; keyword in 3.1.0. They added SQLITE_VERSION_NUMBER</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="comment">    * in 3.1.2. So if we run into 3.1.0 or 3.1.1 in the wild, we</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="comment">    * just treat it like &lt; 3.1.0.</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<span class="comment">    * For reference: 3.1.0, 3.1.1, and 3.1.2 were all released</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="comment">    * within 30 days of each other in Jan/Feb 2005, so I don&#39;t</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="comment">    * imagine we&#39;ll be finding something pre-3.1.2 that often in</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="comment">    * practice.</span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;<span class="preprocessor">#if defined(SQLITE_VERSION_NUMBER)</span></div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ac54109c9752fdd0497e42276eb6d4eec">has_explicit_like_escaping</a> = 1;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ac54109c9752fdd0497e42276eb6d4eec">has_explicit_like_escaping</a> = 0;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;SQLite3 has &#39;LIKE ... ESCAPE ...&#39; support? %s\n&quot;</span>,</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;         <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ac54109c9752fdd0497e42276eb6d4eec">has_explicit_like_escaping</a> ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>);</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_ac54109c9752fdd0497e42276eb6d4eec"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#ac54109c9752fdd0497e42276eb6d4eec">has_explicit_like_escaping</a></div><div class="ttdeci">static int has_explicit_like_escaping</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00061">res_config_sqlite3.c:61</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aebd5ae75df083e631275a307183879a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd5ae75df083e631275a307183879a2">&#9670;&nbsp;</a></span>find_database()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a>* find_database </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00245">245</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">parse_config()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00633">realtime_sqlite3_exec_query()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00695">realtime_sqlite3_exec_update()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01174">realtime_sqlite3_require()</a>.</p>
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../db/d33/structdatabases.html">databases</a>, database, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structdatabases_html"><div class="ttname"><a href="../../db/d33/structdatabases.html">databases</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d18/res__config__mysql_8c_source.html#l00118">res_config_mysql.c:118</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a048177df250306c89eab5a45957f971e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a048177df250306c89eab5a45957f971e">&#9670;&nbsp;</a></span>get_sqlite_column_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* get_sqlite_column_type </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert Asterisk realtime types to SQLite 3 types. </p>
<dl class="section note"><dt>Note</dt><dd>SQLite 3 has NULL, INTEGER, REAL, TEXT, and BLOB types. Any column other than an INTEGER PRIMARY KEY will actually store any kind of data due to its dynamic typing. When we create columns, we'll go ahead and use these base types instead of messing with column widths, etc. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01053">1053</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00076">RQ_CHAR</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00078">RQ_DATE</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00079">RQ_DATETIME</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00077">RQ_FLOAT</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00066">RQ_INTEGER1</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00068">RQ_INTEGER2</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00070">RQ_INTEGER3</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00072">RQ_INTEGER4</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00074">RQ_INTEGER8</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00067">RQ_UINTEGER1</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00069">RQ_UINTEGER2</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00071">RQ_UINTEGER3</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00073">RQ_UINTEGER4</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00075">RQ_UINTEGER8</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01115">handle_missing_column()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01082">handle_missing_table()</a>.</p>
<div class="fragment"><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;{</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;   <span class="keywordflow">switch</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a7b4a9e81298a296d3e066ed369727cc4">RQ_INTEGER1</a> :</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3ae8c94d6fa08e17f6f86792727b201bf9">RQ_UINTEGER1</a> :</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3af1d7dd0d3aacafdef0d2f0d2db6d7112">RQ_INTEGER2</a> :</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a1ab15af464bf1838c9ca91d32ca7a2a1">RQ_UINTEGER2</a> :</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75d046b2f103381a62aeb81f42550404">RQ_INTEGER3</a> :</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3ad3163600ec26815e26092d9eb3e4b0b5">RQ_UINTEGER3</a> :</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a8a9fbbd166ee4918cec8c9303fde70e8">RQ_INTEGER4</a> :</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a27acda71d87003db19a6e0b4193a32be">RQ_UINTEGER4</a> :</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3aaa7be840b4634cc84021f0c20a17275b">RQ_INTEGER8</a> :</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;INTEGER&quot;</span>;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a2e4fb4c24a3958e2fbd853d5c53cfbb4">RQ_UINTEGER8</a> : <span class="comment">/* SQLite3 stores INTEGER as signed 8-byte */</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a> :</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a3d3293675f377a4398a25974cba3e7e1">RQ_DATE</a> :</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3acf1d0ae3a1d0e3ae12a1f05f485f07c9">RQ_DATETIME</a> :</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;TEXT&quot;</span>;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a1133e08bb8b498770188f728ca03e417">RQ_FLOAT</a> :</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;REAL&quot;</span>;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;   default :</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;TEXT&quot;</span>;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;   }</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;   <span class="keywordflow">return</span> <span class="stringliteral">&quot;TEXT&quot;</span>;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3a1133e08bb8b498770188f728ca03e417"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a1133e08bb8b498770188f728ca03e417">RQ_FLOAT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00077">include/asterisk/config.h:77</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3a75d046b2f103381a62aeb81f42550404"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75d046b2f103381a62aeb81f42550404">RQ_INTEGER3</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00070">include/asterisk/config.h:70</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3ae8c94d6fa08e17f6f86792727b201bf9"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3ae8c94d6fa08e17f6f86792727b201bf9">RQ_UINTEGER1</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00067">include/asterisk/config.h:67</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3a3d3293675f377a4398a25974cba3e7e1"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a3d3293675f377a4398a25974cba3e7e1">RQ_DATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00078">include/asterisk/config.h:78</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3a27acda71d87003db19a6e0b4193a32be"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a27acda71d87003db19a6e0b4193a32be">RQ_UINTEGER4</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00073">include/asterisk/config.h:73</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3acf1d0ae3a1d0e3ae12a1f05f485f07c9"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3acf1d0ae3a1d0e3ae12a1f05f485f07c9">RQ_DATETIME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00079">include/asterisk/config.h:79</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3af1d7dd0d3aacafdef0d2f0d2db6d7112"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3af1d7dd0d3aacafdef0d2f0d2db6d7112">RQ_INTEGER2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00068">include/asterisk/config.h:68</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3aaa7be840b4634cc84021f0c20a17275b"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3aaa7be840b4634cc84021f0c20a17275b">RQ_INTEGER8</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00074">include/asterisk/config.h:74</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3a2e4fb4c24a3958e2fbd853d5c53cfbb4"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a2e4fb4c24a3958e2fbd853d5c53cfbb4">RQ_UINTEGER8</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00075">include/asterisk/config.h:75</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3a8a9fbbd166ee4918cec8c9303fde70e8"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a8a9fbbd166ee4918cec8c9303fde70e8">RQ_INTEGER4</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00072">include/asterisk/config.h:72</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00076">include/asterisk/config.h:76</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3ad3163600ec26815e26092d9eb3e4b0b5"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3ad3163600ec26815e26092d9eb3e4b0b5">RQ_UINTEGER3</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00071">include/asterisk/config.h:71</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3a1ab15af464bf1838c9ca91d32ca7a2a1"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a1ab15af464bf1838c9ca91d32ca7a2a1">RQ_UINTEGER2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00069">include/asterisk/config.h:69</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3a7b4a9e81298a296d3e066ed369727cc4"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a7b4a9e81298a296d3e066ed369727cc4">RQ_INTEGER1</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00066">include/asterisk/config.h:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a09389f7c1201127dda35aceb8e2a73c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09389f7c1201127dda35aceb8e2a73c7">&#9670;&nbsp;</a></span>handle_missing_column()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int handle_missing_column </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If ast_realtime_require sends info about a column we don't have, create it. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01115">1115</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01053">get_sqlite_column_type()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">realtime_sqlite3_db::name</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00662">realtime_sqlite3_exec_update_with_handle()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00089">REALTIME_SQLITE3_REQ_CHAR</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00087">REALTIME_SQLITE3_REQ_WARN</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00100">realtime_sqlite3_db::requirements</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01174">realtime_sqlite3_require()</a>.</p>
<div class="fragment"><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;{</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;   <span class="keywordtype">char</span> *sql;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *sqltype = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a048177df250306c89eab5a45957f971e">get_sqlite_column_type</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;   <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a0c066eb4daa08077a2e57993f4d93ce4">requirements</a> == <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735">REALTIME_SQLITE3_REQ_WARN</a>) {</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Missing column &#39;%s&#39; of type &#39;%s&#39; in %s.%s\n&quot;</span>, <a class="code" href="../../de/d4b/structcolumn.html">column</a>, sqltype, db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, <a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a0c066eb4daa08077a2e57993f4d93ce4">requirements</a> == <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266ad13b13872cccfa764ec8de5729323b87">REALTIME_SQLITE3_REQ_CHAR</a>) {</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      sqltype = <span class="stringliteral">&quot;TEXT&quot;</span>;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;   }</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;   <span class="keywordflow">if</span> (!(sql = sqlite3_mprintf(<span class="stringliteral">&quot;ALTER TABLE \&quot;%q\&quot; ADD COLUMN \&quot;%q\&quot; %s&quot;</span>, <a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>, <a class="code" href="../../de/d4b/structcolumn.html">column</a>, sqltype))) {</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;   }</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;   <span class="keywordflow">if</span> (!(res = (<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#aa61926014bdd731e542354998c14cfc7">realtime_sqlite3_exec_update_with_handle</a>(db, sql) &lt; 0 ? -1 : 0))) {</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Creating column &#39;%s&#39; type %s for table %s\n&quot;</span>, <a class="code" href="../../de/d4b/structcolumn.html">column</a>, sqltype, <a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>);</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;   }</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;   sqlite3_free(sql);</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#ace9168767fc3707cf5f0a7d049682ba3">realtime_sqlite3_db::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">res_config_sqlite3.c:96</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a048177df250306c89eab5a45957f971e"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a048177df250306c89eab5a45957f971e">get_sqlite_column_type</a></div><div class="ttdeci">static const char * get_sqlite_column_type(int type)</div><div class="ttdoc">Convert Asterisk realtime types to SQLite 3 types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01053">res_config_sqlite3.c:1053</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a520f7027c256a9fbb1d1a7c278c3c266ad13b13872cccfa764ec8de5729323b87"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266ad13b13872cccfa764ec8de5729323b87">REALTIME_SQLITE3_REQ_CHAR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00089">res_config_sqlite3.c:89</a></div></div>
<div class="ttc" id="cdr__odbc_8c_html_a68d1e6e752f2cf81551fac543cae108a"><div class="ttname"><a href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a></div><div class="ttdeci">static char * table</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/cdr__odbc_8c_source.html#l00058">cdr_odbc.c:58</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735">REALTIME_SQLITE3_REQ_WARN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00087">res_config_sqlite3.c:87</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a0c066eb4daa08077a2e57993f4d93ce4"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a0c066eb4daa08077a2e57993f4d93ce4">realtime_sqlite3_db::requirements</a></div><div class="ttdeci">unsigned int requirements</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00100">res_config_sqlite3.c:100</a></div></div>
<div class="ttc" id="structcolumn_html"><div class="ttname"><a href="../../de/d4b/structcolumn.html">column</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00098">cdr_mysql.c:98</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_aa61926014bdd731e542354998c14cfc7"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#aa61926014bdd731e542354998c14cfc7">realtime_sqlite3_exec_update_with_handle</a></div><div class="ttdeci">static int realtime_sqlite3_exec_update_with_handle(struct realtime_sqlite3_db *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00662">res_config_sqlite3.c:662</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a040724b503f79294a39f61bec6cc28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a040724b503f79294a39f61bec6cc28">&#9670;&nbsp;</a></span>handle_missing_table()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int handle_missing_table </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a table if ast_realtime_require shows that we are configured to handle the data. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01082">1082</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01092">first</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01053">get_sqlite_column_type()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00662">realtime_sqlite3_exec_update_with_handle()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00167">sqlite3_escape_column()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">sqlite3_escape_table()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>, and <a class="el" href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01174">realtime_sqlite3_require()</a>.</p>
<div class="fragment"><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;{</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/d4b/structcolumn.html">column</a>;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a> = 1, res;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;   <span class="keywordtype">size_t</span> sz;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *sql;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;   <span class="keywordflow">if</span> (!(sql = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(128))) {</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;   }</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;   <span class="keywordflow">while</span> ((column = va_arg(ap, <a class="code" href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof</a>(column)))) {</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      type = va_arg(ap, <a class="code" href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof</a>(type));</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      sz = va_arg(ap, <a class="code" href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof</a>(sz));</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="keywordflow">if</span> (first) {</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;sql, 0, <span class="stringliteral">&quot;CREATE TABLE IF NOT EXISTS %s (%s %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>),</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;               <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a>(column), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a048177df250306c89eab5a45957f971e">get_sqlite_column_type</a>(type));</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;         first = 0;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;sql, 0, <span class="stringliteral">&quot;, %s %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a>(column), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a048177df250306c89eab5a45957f971e">get_sqlite_column_type</a>(type));</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      }</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   }</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;sql, 0, <span class="stringliteral">&quot;)&quot;</span>);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;   res = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#aa61926014bdd731e542354998c14cfc7">realtime_sqlite3_exec_update_with_handle</a>(db, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(sql)) &lt; 0 ? -1 : 0;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sql);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_a7c87f4d9ee5d28f2c11d1d88a481b0ac"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a></div><div class="ttdeci">static const char * sqlite3_escape_column(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00167">res_config_sqlite3.c:167</a></div></div>
<div class="ttc" id="time_8h_html_a0726afc816122530dfd83ecf14901ff2"><div class="ttname"><a href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof</a></div><div class="ttdeci">typedef typeof(dummy_tv_var_for_types.tv_sec) ast_time_t</div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a048177df250306c89eab5a45957f971e"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a048177df250306c89eab5a45957f971e">get_sqlite_column_type</a></div><div class="ttdeci">static const char * get_sqlite_column_type(int type)</div><div class="ttdoc">Convert Asterisk realtime types to SQLite 3 types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01053">res_config_sqlite3.c:1053</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="cdr__odbc_8c_html_a68d1e6e752f2cf81551fac543cae108a"><div class="ttname"><a href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a></div><div class="ttdeci">static char * table</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/cdr__odbc_8c_source.html#l00058">cdr_odbc.c:58</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a18b6f1cf748d864dd085819a7d4e6680"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a></div><div class="ttdeci">struct sla_ringing_trunk * first</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01092">app_meetme.c:1092</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a171509852163897527f0360d4d1e071f"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a></div><div class="ttdeci">static const char * sqlite3_escape_table(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">res_config_sqlite3.c:162</a></div></div>
<div class="ttc" id="structcolumn_html"><div class="ttname"><a href="../../de/d4b/structcolumn.html">column</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00098">cdr_mysql.c:98</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_aa61926014bdd731e542354998c14cfc7"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#aa61926014bdd731e542354998c14cfc7">realtime_sqlite3_exec_update_with_handle</a></div><div class="ttdeci">static int realtime_sqlite3_exec_update_with_handle(struct realtime_sqlite3_db *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00662">res_config_sqlite3.c:662</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ff54be3ac785d7c0d951ab9b26859ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ff54be3ac785d7c0d951ab9b26859ba">&#9670;&nbsp;</a></span>is_dirty_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int is_dirty_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00276">276</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00375">db_stop_batch()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00101">realtime_sqlite3_db::dirty</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00286">unlink_dirty_databases()</a>.</p>
<div class="fragment"><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a> = obj;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a930a1ab0130f619f847727300b9d156a">dirty</a>) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a6a8e2edcb2c6f25779c694a18778f350">db_stop_batch</a>(db);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_a6a8e2edcb2c6f25779c694a18778f350"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a6a8e2edcb2c6f25779c694a18778f350">db_stop_batch</a></div><div class="ttdeci">void db_stop_batch(struct realtime_sqlite3_db *db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00375">res_config_sqlite3.c:375</a></div></div>
<div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a930a1ab0130f619f847727300b9d156a"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a930a1ab0130f619f847727300b9d156a">realtime_sqlite3_db::dirty</a></div><div class="ttdeci">unsigned int dirty</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00101">res_config_sqlite3.c:101</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load the module. </p>
<p>Module loading including tests for configuration or dependencies. This function can return AST_MODULE_LOAD_FAILURE, AST_MODULE_LOAD_DECLINE, or AST_MODULE_LOAD_SUCCESS. If a dependency or environment variable fails tests return AST_MODULE_LOAD_FAILURE. If the module can not load the configuration file or other non-critical problem return AST_MODULE_LOAD_DECLINE. On success return AST_MODULE_LOAD_SUCCESS. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01372">1372</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l02990">ast_config_engine_register()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00323">AST_MODPRI_REALTIME_DRIVER</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00111">DB_BUCKETS</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00224">db_cmp_fn()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00217">db_hash_fn()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01339">discover_sqlite3_caps()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">parse_config()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01321">reload()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01327">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;{</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#af000ddcc40af15413e15682f6cac19a2">discover_sqlite3_caps</a>();</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;   <a class="code" href="../../db/d33/structdatabases.html">databases</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a449804240a5b2d90635b546c32bd20cf">DB_BUCKETS</a>,</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a42de76f0e1ceffe40a83ccb16c3fe50f">db_hash_fn</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a09ee330a38d794f5a794633ba52f33c5">db_cmp_fn</a>);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d33/structdatabases.html">databases</a>) {</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;   }</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a0dc068d63cb9df28d4b885bb7b5c5560">parse_config</a>(0)) {</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../db/d33/structdatabases.html">databases</a>, -1);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;   }</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#af15c271e1708b251fc938b30baba18f1">ast_config_engine_register</a>(&amp;<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ae604551e630c5d2bd5f24d75b58c4210">sqlite3_config_engine</a>))) {</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;The config API must have changed, this shouldn&#39;t happen.\n&quot;</span>);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../db/d33/structdatabases.html">databases</a>, -1);</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;   }</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a449804240a5b2d90635b546c32bd20cf"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a449804240a5b2d90635b546c32bd20cf">DB_BUCKETS</a></div><div class="ttdeci">#define DB_BUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00111">res_config_sqlite3.c:111</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_af15c271e1708b251fc938b30baba18f1"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#af15c271e1708b251fc938b30baba18f1">ast_config_engine_register</a></div><div class="ttdeci">int ast_config_engine_register(struct ast_config_engine *newconfig)</div><div class="ttdoc">Register config engine. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l02990">main/config.c:2990</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_ae604551e630c5d2bd5f24d75b58c4210"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#ae604551e630c5d2bd5f24d75b58c4210">sqlite3_config_engine</a></div><div class="ttdeci">struct ast_config_engine sqlite3_config_engine</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00073">res_config_sqlite3.c:73</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_af000ddcc40af15413e15682f6cac19a2"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#af000ddcc40af15413e15682f6cac19a2">discover_sqlite3_caps</a></div><div class="ttdeci">static void discover_sqlite3_caps(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01339">res_config_sqlite3.c:1339</a></div></div>
<div class="ttc" id="structdatabases_html"><div class="ttname"><a href="../../db/d33/structdatabases.html">databases</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d18/res__config__mysql_8c_source.html#l00118">res_config_mysql.c:118</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a0dc068d63cb9df28d4b885bb7b5c5560"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a0dc068d63cb9df28d4b885bb7b5c5560">parse_config</a></div><div class="ttdeci">static int parse_config(int reload)</div><div class="ttdoc">Parse the res_config_sqlite3 config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">res_config_sqlite3.c:1262</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a42de76f0e1ceffe40a83ccb16c3fe50f"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a42de76f0e1ceffe40a83ccb16c3fe50f">db_hash_fn</a></div><div class="ttdeci">static int db_hash_fn(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00217">res_config_sqlite3.c:217</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a09ee330a38d794f5a794633ba52f33c5"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a09ee330a38d794f5a794633ba52f33c5">db_cmp_fn</a></div><div class="ttdeci">static int db_cmp_fn(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00224">res_config_sqlite3.c:224</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab623817e17cb6cf8083b6b630adde05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab623817e17cb6cf8083b6b630adde05">&#9670;&nbsp;</a></span>mark_all_databases_dirty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mark_all_databases_dirty </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00271">271</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00264">mark_dirty_cb()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">parse_config()</a>.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(<a class="code" href="../../db/d33/structdatabases.html">databases</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#aa47a4959e9281675798daa0df58d7c7a">mark_dirty_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structdatabases_html"><div class="ttname"><a href="../../db/d33/structdatabases.html">databases</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d18/res__config__mysql_8c_source.html#l00118">res_config_mysql.c:118</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_aa47a4959e9281675798daa0df58d7c7a"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#aa47a4959e9281675798daa0df58d7c7a">mark_dirty_cb</a></div><div class="ttdeci">static int mark_dirty_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00264">res_config_sqlite3.c:264</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa47a4959e9281675798daa0df58d7c7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa47a4959e9281675798daa0df58d7c7a">&#9670;&nbsp;</a></span>mark_dirty_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int mark_dirty_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00264">264</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00101">realtime_sqlite3_db::dirty</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00271">mark_all_databases_dirty()</a>.</p>
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a> = obj;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a930a1ab0130f619f847727300b9d156a">dirty</a> = 1;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div><div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a930a1ab0130f619f847727300b9d156a"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a930a1ab0130f619f847727300b9d156a">realtime_sqlite3_db::dirty</a></div><div class="ttdeci">unsigned int dirty</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00101">res_config_sqlite3.c:101</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a422f608cacb776499f3e9efda7a3aa64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a422f608cacb776499f3e9efda7a3aa64">&#9670;&nbsp;</a></span>new_realtime_sqlite3_db()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a>* new_realtime_sqlite3_db </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a db object based on a config category. </p>
<dl class="section note"><dt>Note</dt><dd>Opening the db handle and linking to databases must be handled outside of this function </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00388">388</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l03113">ast_app_parse_timelen()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03657">ast_parse_arg()</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01216">ast_variable_browse()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00106">realtime_sqlite3_db::batch</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00107">realtime_sqlite3_db::busy_timeout</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00231">db_destructor()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00102">realtime_sqlite3_db::debug</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">realtime_sqlite3_db::filename</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00095">ast_variable::lineno</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">realtime_sqlite3_db::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01118">PARSE_DEFAULT</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01086">PARSE_INT32</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00087">REALTIME_SQLITE3_REQ_WARN</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00100">realtime_sqlite3_db::requirements</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00291">str_to_requirements()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00117">TIMELEN_MILLISECONDS</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00250">unref_db()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>, and <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">parse_config()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00438">update_realtime_sqlite3_db()</a>.</p>
<div class="fragment"><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">if</span> (!(db = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*db), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a9f8febcb4703d89cdfc8331f92c05c77">db_destructor</a>))) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(db, 64)) {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <span class="comment">/* Set defaults */</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a0c066eb4daa08077a2e57993f4d93ce4">requirements</a> = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735">REALTIME_SQLITE3_REQ_WARN</a>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">batch</a> = 100;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(db, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, cat);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ab4d887c2870703db99fa4f5ae8274f44">busy_timeout</a> = 1000;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   <span class="keywordflow">for</span> (var = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(config, cat); <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>; var = var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;dbfile&quot;</span>)) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(db, <a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a92ddab484445475c5d620ad49e029420">filename</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;requirements&quot;</span>)) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;         db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a0c066eb4daa08077a2e57993f4d93ce4">requirements</a> = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ab0c1ac98e5b7da311556399023e7f279">str_to_requirements</a>(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;batch&quot;</span>)) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;         <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a33ca869933a6085e179804d610790845">ast_app_parse_timelen</a>(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, (<span class="keywordtype">int</span> *) &amp;db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">batch</a>, <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac1d6b3a36d31df3737b9a83c3a9b1155a018e6dbbefd4b00f8c5c45df1f371d1b">TIMELEN_MILLISECONDS</a>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;debug&quot;</span>)) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;         db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#aa3770535f39c67ca0811e27731893370">debug</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;busy_timeout&quot;</span>)) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a7e9aea581abeaae5d3799367d95284ac">ast_parse_arg</a>(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fabac6774d4b76ec6847b57ccce4822738">PARSE_INT32</a>|<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569facc865488860e2c25dd9f80e5473cf760">PARSE_DEFAULT</a>, &amp;(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ab4d887c2870703db99fa4f5ae8274f44">busy_timeout</a>), 1000) != 0) {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid busy_timeout value &#39;%s&#39; at res_config_sqlite3.conf:%d. Using 1000 instead.\n&quot;</span>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;         }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a92ddab484445475c5d620ad49e029420">filename</a>)) {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Must specify dbfile in res_config_sqlite3.conf\n&quot;</span>);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_aa3770535f39c67ca0811e27731893370"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#aa3770535f39c67ca0811e27731893370">realtime_sqlite3_db::debug</a></div><div class="ttdeci">unsigned int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00102">res_config_sqlite3.c:102</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ad60d9d8c34b4f61493c1d85ae02d569facc865488860e2c25dd9f80e5473cf760"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569facc865488860e2c25dd9f80e5473cf760">PARSE_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01118">include/asterisk/config.h:1118</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__variable_html_a501b314f49b3a9ff6e7be599d94686ee"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">ast_variable::lineno</a></div><div class="ttdeci">int lineno</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00095">include/asterisk/config.h:95</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_ab0c1ac98e5b7da311556399023e7f279"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#ab0c1ac98e5b7da311556399023e7f279">str_to_requirements</a></div><div class="ttdeci">static int str_to_requirements(const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00291">res_config_sqlite3.c:291</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a4b60cd5f33220b8a0d24092b6e8e6932"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a></div><div class="ttdeci">static void unref_db(struct realtime_sqlite3_db **db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00250">res_config_sqlite3.c:250</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ad60d9d8c34b4f61493c1d85ae02d569fabac6774d4b76ec6847b57ccce4822738"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fabac6774d4b76ec6847b57ccce4822738">PARSE_INT32</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01086">include/asterisk/config.h:1086</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735">REALTIME_SQLITE3_REQ_WARN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00087">res_config_sqlite3.c:87</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a7e9aea581abeaae5d3799367d95284ac"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a7e9aea581abeaae5d3799367d95284ac">ast_parse_arg</a></div><div class="ttdeci">int ast_parse_arg(const char *arg, enum ast_parse_flags flags, void *result,...)</div><div class="ttdoc">The argument parsing routine. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03657">main/config.c:3657</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_ab4d887c2870703db99fa4f5ae8274f44"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#ab4d887c2870703db99fa4f5ae8274f44">realtime_sqlite3_db::busy_timeout</a></div><div class="ttdeci">int busy_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00107">res_config_sqlite3.c:107</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a0c066eb4daa08077a2e57993f4d93ce4"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a0c066eb4daa08077a2e57993f4d93ce4">realtime_sqlite3_db::requirements</a></div><div class="ttdeci">unsigned int requirements</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00100">res_config_sqlite3.c:100</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a9f8febcb4703d89cdfc8331f92c05c77"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a9f8febcb4703d89cdfc8331f92c05c77">db_destructor</a></div><div class="ttdeci">static void db_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00231">res_config_sqlite3.c:231</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a5d5976ec47beec8afba58daf3a6ac1c1"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">realtime_sqlite3_db::batch</a></div><div class="ttdeci">unsigned int batch</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00106">res_config_sqlite3.c:106</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a33ca869933a6085e179804d610790845"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a33ca869933a6085e179804d610790845">ast_app_parse_timelen</a></div><div class="ttdeci">int ast_app_parse_timelen(const char *timestr, int *result, enum ast_timelen defunit)</div><div class="ttdoc">Common routine to parse time lengths, with optional time unit specifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l03113">main/app.c:3113</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac1d6b3a36d31df3737b9a83c3a9b1155a018e6dbbefd4b00f8c5c45df1f371d1b"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac1d6b3a36d31df3737b9a83c3a9b1155a018e6dbbefd4b00f8c5c45df1f371d1b">TIMELEN_MILLISECONDS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00117">include/asterisk/app.h:117</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a92ddab484445475c5d620ad49e029420"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a92ddab484445475c5d620ad49e029420">realtime_sqlite3_db::filename</a></div><div class="ttdeci">const ast_string_field filename</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">res_config_sqlite3.c:96</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0dc068d63cb9df28d4b885bb7b5c5560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dc068d63cb9df28d4b885bb7b5c5560">&#9670;&nbsp;</a></span>parse_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int parse_config </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse the res_config_sqlite3 config file. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">1262</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l03328">ast_category_browse()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">ast_config_load</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02121">config_filename</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">CONFIG_FLAG_FILEUNCHANGED</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00047">CONFIG_FLAG_NOREALTIME</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00113">config_lock</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00058">CONFIG_STATUS_FILEMISSING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">CONFIG_STATUS_FILEUNCHANGED</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00339">db_open()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00366">db_start_batch()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00245">find_database()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00271">mark_all_databases_dirty()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00388">new_realtime_sqlite3_db()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00286">unlink_dirty_databases()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00250">unref_db()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00438">update_realtime_sqlite3_db()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01372">load_module()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01321">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;{</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fa466e6ea3d284a9f45202a54686c090aa">CONFIG_FLAG_NOREALTIME</a> | (<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> ? <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a> : 0) };</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/dc5/extconf_8c.html#ae4c618117458ec0ed99d972e34964cfb">config_filename</a> = <span class="stringliteral">&quot;res_config_sqlite3.conf&quot;</span>;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;   config = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a>(config_filename, config_flags);</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   <span class="keywordflow">if</span> (config == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a>) {</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;%s was unchanged, skipping parsing\n&quot;</span>, config_filename);</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;   }</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a502fc4d80b1f4d10bc516dbd85f9bd93">config_lock</a>);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;   <span class="keywordflow">if</span> (config == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39bacaabcacf47583204c7634e64a2a0">CONFIG_STATUS_FILEMISSING</a> || config == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;%s config file &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;         config == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39bacaabcacf47583204c7634e64a2a0">CONFIG_STATUS_FILEMISSING</a> ? <span class="stringliteral">&quot;Missing&quot;</span> : <span class="stringliteral">&quot;Invalid&quot;</span>, config_filename);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a502fc4d80b1f4d10bc516dbd85f9bd93">config_lock</a>);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *cat;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a>;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#aab623817e17cb6cf8083b6b630adde05">mark_all_databases_dirty</a>();</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      <span class="keywordflow">for</span> (cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(config, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); cat; cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(config, cat)) {</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;         <span class="keywordflow">if</span> (!strcasecmp(cat, <span class="stringliteral">&quot;general&quot;</span>)) {</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;         }</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;         <span class="keywordflow">if</span> (!(db = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#aebd5ae75df083e631275a307183879a2">find_database</a>(cat))) {</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            <span class="keywordflow">if</span> (!(db = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a422f608cacb776499f3e9efda7a3aa64">new_realtime_sqlite3_db</a>(config, cat))) {</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not allocate new db for &#39;%s&#39; - skipping.\n&quot;</span>, cat);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            }</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ab79157fcf243c6bc3ef36e95c1f6d16d">db_open</a>(db)) {</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;               <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            }</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#af913dd2c24ca1df52a8d319dac3e6ddd">db_start_batch</a>(db);</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(<a class="code" href="../../db/d33/structdatabases.html">databases</a>, db);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;         } <span class="keywordflow">else</span>  {</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a5dd729213779e779cc10422b2f7c9dfb">update_realtime_sqlite3_db</a>(db, config, cat)) {</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;               <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            }</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;         }</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      }</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#adb60172adc5ec119f39411f4515ed3ce">unlink_dirty_databases</a>();</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;   }</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a502fc4d80b1f4d10bc516dbd85f9bd93">config_lock</a>);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(config);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_ab79157fcf243c6bc3ef36e95c1f6d16d"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#ab79157fcf243c6bc3ef36e95c1f6d16d">db_open</a></div><div class="ttdeci">static int db_open(struct realtime_sqlite3_db *db)</div><div class="ttdoc">Open a database and appropriately set debugging on the db handle. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00339">res_config_sqlite3.c:339</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a422f608cacb776499f3e9efda7a3aa64"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a422f608cacb776499f3e9efda7a3aa64">new_realtime_sqlite3_db</a></div><div class="ttdeci">static struct realtime_sqlite3_db * new_realtime_sqlite3_db(struct ast_config *config, const char *cat)</div><div class="ttdoc">Create a db object based on a config category. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00388">res_config_sqlite3.c:388</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_adb60172adc5ec119f39411f4515ed3ce"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#adb60172adc5ec119f39411f4515ed3ce">unlink_dirty_databases</a></div><div class="ttdeci">static void unlink_dirty_databases(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00286">res_config_sqlite3.c:286</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a103e76ed4bd42f776f7f260080b98b3fa466e6ea3d284a9f45202a54686c090aa"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fa466e6ea3d284a9f45202a54686c090aa">CONFIG_FLAG_NOREALTIME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00047">include/asterisk/config.h:47</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1e5e3d08eff5e2357e75c01e127e7922"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a></div><div class="ttdeci">char * ast_category_browse(struct ast_config *config, const char *prev_name)</div><div class="ttdoc">Browse categories. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03328">extconf.c:3328</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structdatabases_html"><div class="ttname"><a href="../../db/d33/structdatabases.html">databases</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d18/res__config__mysql_8c_source.html#l00118">res_config_mysql.c:118</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a5dd729213779e779cc10422b2f7c9dfb"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a5dd729213779e779cc10422b2f7c9dfb">update_realtime_sqlite3_db</a></div><div class="ttdeci">static int update_realtime_sqlite3_db(struct realtime_sqlite3_db *db, struct ast_config *config, const char *cat)</div><div class="ttdoc">Update an existing db object based on config data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00438">res_config_sqlite3.c:438</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a4b60cd5f33220b8a0d24092b6e8e6932"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a></div><div class="ttdeci">static void unref_db(struct realtime_sqlite3_db **db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00250">res_config_sqlite3.c:250</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a0a07ddd6bbcf44485e01c14c96109482"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a></div><div class="ttdeci">#define ast_config_load(filename, flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">include/asterisk/config.h:179</a></div></div>
<div class="ttc" id="extconf_8c_html_ae4c618117458ec0ed99d972e34964cfb"><div class="ttname"><a href="../../d4/dc5/extconf_8c.html#ae4c618117458ec0ed99d972e34964cfb">config_filename</a></div><div class="ttdeci">static char * config_filename</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02121">extconf.c:2121</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a846844eb2c4eb44554445936b3770711"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEUNCHANGED</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">include/asterisk/config.h:59</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_af913dd2c24ca1df52a8d319dac3e6ddd"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#af913dd2c24ca1df52a8d319dac3e6ddd">db_start_batch</a></div><div class="ttdeci">void db_start_batch(struct realtime_sqlite3_db *db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00366">res_config_sqlite3.c:366</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_aab623817e17cb6cf8083b6b630adde05"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#aab623817e17cb6cf8083b6b630adde05">mark_all_databases_dirty</a></div><div class="ttdeci">static void mark_all_databases_dirty(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00271">res_config_sqlite3.c:271</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_ad1982509765f4870f1f63412a53ea668"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a></div><div class="ttdeci">static int reload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01321">res_config_sqlite3.c:1321</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a39bacaabcacf47583204c7634e64a2a0"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a39bacaabcacf47583204c7634e64a2a0">CONFIG_STATUS_FILEMISSING</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEMISSING</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00058">include/asterisk/config.h:58</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a502fc4d80b1f4d10bc516dbd85f9bd93"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a502fc4d80b1f4d10bc516dbd85f9bd93">config_lock</a></div><div class="ttdeci">static ast_mutex_t config_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00113">res_config_sqlite3.c:113</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_aebd5ae75df083e631275a307183879a2"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#aebd5ae75df083e631275a307183879a2">find_database</a></div><div class="ttdeci">static struct realtime_sqlite3_db * find_database(const char *database)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00245">res_config_sqlite3.c:245</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">include/asterisk/config.h:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1552f5d1fa72090c44a509c0b314b7f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1552f5d1fa72090c44a509c0b314b7f9">&#9670;&nbsp;</a></span>realtime_sqlite3()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> * realtime_sqlite3 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Realtime callback for a single row query. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../dd/d02/structast__variable.html" title="Structure for variables, used for configurations and for channel variables. ">ast_variable</a> list for single result on success, NULL on empty/failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00851">851</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">realtime_sqlite3_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;{</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *result_row = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a59f45e75fe4a70db49ce1c9e7cd2b980">realtime_sqlite3_helper</a>(database, <a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>, fields, 0, &amp;result_row);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <span class="keywordflow">return</span> result_row;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div><div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__odbc_8c_html_a68d1e6e752f2cf81551fac543cae108a"><div class="ttname"><a href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a></div><div class="ttdeci">static char * table</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/cdr__odbc_8c_source.html#l00058">cdr_odbc.c:58</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a59f45e75fe4a70db49ce1c9e7cd2b980"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a59f45e75fe4a70db49ce1c9e7cd2b980">realtime_sqlite3_helper</a></div><div class="ttdeci">static int realtime_sqlite3_helper(const char *database, const char *table, const struct ast_variable *fields, int is_multi, void *arg)</div><div class="ttdoc">Helper function for single and multi-row realtime load functions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">res_config_sqlite3.c:799</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b8654bca197409f5f9c760b759461f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b8654bca197409f5f9c760b759461f5">&#9670;&nbsp;</a></span>realtime_sqlite3_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_sqlite3_destroy </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>keyfield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Realtime callback for deleting a row. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of rows affected or -1 on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01015">1015</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01092">first</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00695">realtime_sqlite3_exec_update()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00173">sqlite3_escape_column_op()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">sqlite3_escape_table()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">sqlite3_escape_value()</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>
<div class="fragment"><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;{</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *sql;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *field;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a> = 1, res;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>)) {</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Must have a table to query!\n&quot;</span>);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;   }</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;   <span class="keywordflow">if</span> (!(sql = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(128))) {</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;   }</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   <span class="keywordflow">for</span> (field = fields; field; field = field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      <span class="keywordflow">if</span> (first) {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;sql, 0, <span class="stringliteral">&quot;DELETE FROM %s WHERE %s %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>),</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;               <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4473765c16a546b78f6b0179da8c443e">sqlite3_escape_column_op</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;         first = 0;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;sql, 0, <span class="stringliteral">&quot; AND %s %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4473765c16a546b78f6b0179da8c443e">sqlite3_escape_column_op</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      }</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;   }</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;   res = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a5feed42294310fad19a3fafd359f6be4">realtime_sqlite3_exec_update</a>(database, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(sql));</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sql);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a4473765c16a546b78f6b0179da8c443e"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a4473765c16a546b78f6b0179da8c443e">sqlite3_escape_column_op</a></div><div class="ttdeci">static const char * sqlite3_escape_column_op(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00173">res_config_sqlite3.c:173</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="cdr__odbc_8c_html_a68d1e6e752f2cf81551fac543cae108a"><div class="ttname"><a href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a></div><div class="ttdeci">static char * table</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/cdr__odbc_8c_source.html#l00058">cdr_odbc.c:58</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a3b09fa43af5b7634cfc477f8d25576ff"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a></div><div class="ttdeci">static const char * sqlite3_escape_value(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">res_config_sqlite3.c:212</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a18b6f1cf748d864dd085819a7d4e6680"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a></div><div class="ttdeci">struct sla_ringing_trunk * first</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01092">app_meetme.c:1092</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a5feed42294310fad19a3fafd359f6be4"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a5feed42294310fad19a3fafd359f6be4">realtime_sqlite3_exec_update</a></div><div class="ttdeci">static int realtime_sqlite3_exec_update(const char *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00695">res_config_sqlite3.c:695</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a171509852163897527f0360d4d1e071f"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a></div><div class="ttdeci">static const char * sqlite3_escape_table(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">res_config_sqlite3.c:162</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a00bb45ffe96622ee283583117e564036"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00bb45ffe96622ee283583117e564036">&#9670;&nbsp;</a></span>realtime_sqlite3_exec_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_sqlite3_exec_query </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a36ba1b812d972b37249ce42e5f8b68a2">callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00633">633</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00245">find_database()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00599">realtime_sqlite3_exec_query_with_handle()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">realtime_sqlite3_helper()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00768">realtime_sqlite3_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;{</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;   <span class="keywordflow">if</span> (!(db = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#aebd5ae75df083e631275a307183879a2">find_database</a>(database))) {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not find database: %s\n&quot;</span>, database);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;   }</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   res = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a16e91a578458151bd3e3bdb6ee0775c8">realtime_sqlite3_exec_query_with_handle</a>(db, sql, callback, arg);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(db, -1);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;}</div><div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a16e91a578458151bd3e3bdb6ee0775c8"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a16e91a578458151bd3e3bdb6ee0775c8">realtime_sqlite3_exec_query_with_handle</a></div><div class="ttdeci">static int realtime_sqlite3_exec_query_with_handle(struct realtime_sqlite3_db *, const char *, callback_t, void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00599">res_config_sqlite3.c:599</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_aebd5ae75df083e631275a307183879a2"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#aebd5ae75df083e631275a307183879a2">find_database</a></div><div class="ttdeci">static struct realtime_sqlite3_db * find_database(const char *database)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00245">res_config_sqlite3.c:245</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a16e91a578458151bd3e3bdb6ee0775c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16e91a578458151bd3e3bdb6ee0775c8">&#9670;&nbsp;</a></span>realtime_sqlite3_exec_query_with_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_sqlite3_exec_query_with_handle </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a36ba1b812d972b37249ce42e5f8b68a2">callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00599">599</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00097">realtime_sqlite3_db::handle</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00556">row_counter_args::row_count</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00576">row_counter_wrapper()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00554">row_counter_args::wrapped_callback</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00310">db_sync_thread()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00633">realtime_sqlite3_exec_query()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01174">realtime_sqlite3_require()</a>.</p>
<div class="fragment"><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;{</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <span class="keywordtype">char</span> *errmsg;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dfb/structrow__counter__args.html">row_counter_args</a> wrapper = {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      .<a class="code" href="../../d8/dfb/structrow__counter__args.html#ab0c1dafd9af2474ca87395361123501b">wrapped_callback</a> = callback,</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      .wrapped_arg = arg,</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      .row_count = 0,</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   };</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(db);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   <span class="keywordflow">if</span> (sqlite3_exec(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>, sql, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ac2359b65e79b2a3be2e97b2bb8c8f75b">row_counter_wrapper</a>, &amp;wrapper, &amp;errmsg) != SQLITE_OK) {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not execute &#39;%s&#39;: %s\n&quot;</span>, sql, errmsg);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      sqlite3_free(errmsg);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      res = -1;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   }</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(db);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;   <span class="keywordflow">return</span> res == 0 ? wrapper.<a class="code" href="../../d8/dfb/structrow__counter__args.html#aa963fa630a27b9467529bfa5a814ea4f">row_count</a> : res;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_ac2359b65e79b2a3be2e97b2bb8c8f75b"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#ac2359b65e79b2a3be2e97b2bb8c8f75b">row_counter_wrapper</a></div><div class="ttdeci">static int row_counter_wrapper(void *arg, int num_columns, char **values, char **columns)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00576">res_config_sqlite3.c:576</a></div></div>
<div class="ttc" id="structrow__counter__args_html_ab0c1dafd9af2474ca87395361123501b"><div class="ttname"><a href="../../d8/dfb/structrow__counter__args.html#ab0c1dafd9af2474ca87395361123501b">row_counter_args::wrapped_callback</a></div><div class="ttdeci">callback_t wrapped_callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00554">res_config_sqlite3.c:554</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a80c18fe10b90a145c3d7ce6d20183359"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">realtime_sqlite3_db::handle</a></div><div class="ttdeci">sqlite3 * handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00097">res_config_sqlite3.c:97</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structrow__counter__args_html_aa963fa630a27b9467529bfa5a814ea4f"><div class="ttname"><a href="../../d8/dfb/structrow__counter__args.html#aa963fa630a27b9467529bfa5a814ea4f">row_counter_args::row_count</a></div><div class="ttdeci">int row_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00556">res_config_sqlite3.c:556</a></div></div>
<div class="ttc" id="structrow__counter__args_html"><div class="ttname"><a href="../../d8/dfb/structrow__counter__args.html">row_counter_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00553">res_config_sqlite3.c:553</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5feed42294310fad19a3fafd359f6be4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5feed42294310fad19a3fafd359f6be4">&#9670;&nbsp;</a></span>realtime_sqlite3_exec_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_sqlite3_exec_update </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00695">695</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00245">find_database()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00662">realtime_sqlite3_exec_update_with_handle()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01015">realtime_sqlite3_destroy()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00971">realtime_sqlite3_store()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00882">realtime_sqlite3_update()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00918">realtime_sqlite3_update2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;{</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a>;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   <span class="keywordflow">if</span> (!(db = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#aebd5ae75df083e631275a307183879a2">find_database</a>(database))) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not find database: %s\n&quot;</span>, database);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   res = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#aa61926014bdd731e542354998c14cfc7">realtime_sqlite3_exec_update_with_handle</a>(db, sql);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(db, -1);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div><div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_aebd5ae75df083e631275a307183879a2"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#aebd5ae75df083e631275a307183879a2">find_database</a></div><div class="ttdeci">static struct realtime_sqlite3_db * find_database(const char *database)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00245">res_config_sqlite3.c:245</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_aa61926014bdd731e542354998c14cfc7"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#aa61926014bdd731e542354998c14cfc7">realtime_sqlite3_exec_update_with_handle</a></div><div class="ttdeci">static int realtime_sqlite3_exec_update_with_handle(struct realtime_sqlite3_db *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00662">res_config_sqlite3.c:662</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa61926014bdd731e542354998c14cfc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa61926014bdd731e542354998c14cfc7">&#9670;&nbsp;</a></span>realtime_sqlite3_exec_update_with_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_sqlite3_exec_update_with_handle </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00662">662</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00360">db_sync()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00097">realtime_sqlite3_db::handle</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01115">handle_missing_column()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01082">handle_missing_table()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00695">realtime_sqlite3_exec_update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;{</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   <span class="keywordtype">char</span> *errmsg;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(db);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   <span class="keywordflow">if</span> (sqlite3_exec(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>, sql, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;errmsg) != SQLITE_OK) {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not execute &#39;%s&#39;: %s\n&quot;</span>, sql, errmsg);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      sqlite3_free(errmsg);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      res = -1;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      res = sqlite3_changes(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(db);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#aa7339c286096a174470d1507f4ce6c01">db_sync</a>(db);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a80c18fe10b90a145c3d7ce6d20183359"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">realtime_sqlite3_db::handle</a></div><div class="ttdeci">sqlite3 * handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00097">res_config_sqlite3.c:97</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_aa7339c286096a174470d1507f4ce6c01"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#aa7339c286096a174470d1507f4ce6c01">db_sync</a></div><div class="ttdeci">static void db_sync(struct realtime_sqlite3_db *db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00360">res_config_sqlite3.c:360</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a59f45e75fe4a70db49ce1c9e7cd2b980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f45e75fe4a70db49ce1c9e7cd2b980">&#9670;&nbsp;</a></span>realtime_sqlite3_helper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_sqlite3_helper </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_multi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function for single and multi-row realtime load functions. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">799</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00513">append_row_to_cfg()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01092">first</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00061">has_explicit_like_escaping</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00796">IS_SQL_LIKE_CLAUSE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00633">realtime_sqlite3_exec_query()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00488">row_to_varlist()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00173">sqlite3_escape_column_op()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">sqlite3_escape_table()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">sqlite3_escape_value()</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00851">realtime_sqlite3()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00863">realtime_sqlite3_multi()</a>.</p>
<div class="fragment"><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;{</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *sql;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *field;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a> = 1;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>)) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Must have a table to query!\n&quot;</span>);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   }</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   <span class="keywordflow">if</span> (!(sql = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(128))) {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   }</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   <span class="keywordflow">for</span> (field = fields; field; field = field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="keywordflow">if</span> (first) {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;sql, 0, <span class="stringliteral">&quot;SELECT * FROM %s WHERE %s %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>),</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4473765c16a546b78f6b0179da8c443e">sqlite3_escape_column_op</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;         first = 0;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;sql, 0, <span class="stringliteral">&quot; AND %s %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4473765c16a546b78f6b0179da8c443e">sqlite3_escape_column_op</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>),</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;               <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      }</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ac54109c9752fdd0497e42276eb6d4eec">has_explicit_like_escaping</a> &amp;&amp; <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a61f7a31e1211907f297c6af21ad0f878">IS_SQL_LIKE_CLAUSE</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)) {</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">          * The realtime framework is going to pre-escape these</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">          * for us with a backslash. We just need to make sure</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">          * to tell SQLite about it</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;sql, 0, <span class="stringliteral">&quot; ESCAPE &#39;\\&#39;&quot;</span>);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      }</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   }</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <span class="keywordflow">if</span> (!is_multi) {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;sql, 0, <span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot; LIMIT 1&quot;</span>);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;   }</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a00bb45ffe96622ee283583117e564036">realtime_sqlite3_exec_query</a>(database, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(sql), is_multi ? <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a27d0e8f5e142e155b22bb2902d5b0ef1">append_row_to_cfg</a> : <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a2e24bb5eb1fd30f7480a46328ae2089f">row_to_varlist</a>, arg) &lt; 0) {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sql);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;   }</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sql);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a4473765c16a546b78f6b0179da8c443e"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a4473765c16a546b78f6b0179da8c443e">sqlite3_escape_column_op</a></div><div class="ttdeci">static const char * sqlite3_escape_column_op(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00173">res_config_sqlite3.c:173</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_ac54109c9752fdd0497e42276eb6d4eec"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#ac54109c9752fdd0497e42276eb6d4eec">has_explicit_like_escaping</a></div><div class="ttdeci">static int has_explicit_like_escaping</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00061">res_config_sqlite3.c:61</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="cdr__odbc_8c_html_a68d1e6e752f2cf81551fac543cae108a"><div class="ttname"><a href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a></div><div class="ttdeci">static char * table</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/cdr__odbc_8c_source.html#l00058">cdr_odbc.c:58</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a3b09fa43af5b7634cfc477f8d25576ff"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a></div><div class="ttdeci">static const char * sqlite3_escape_value(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">res_config_sqlite3.c:212</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a27d0e8f5e142e155b22bb2902d5b0ef1"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a27d0e8f5e142e155b22bb2902d5b0ef1">append_row_to_cfg</a></div><div class="ttdeci">static int append_row_to_cfg(void *arg, int num_columns, char **values, char **columns)</div><div class="ttdoc">Callback for creating an ast_config from a successive sqlite3 result rows. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00513">res_config_sqlite3.c:513</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a00bb45ffe96622ee283583117e564036"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a00bb45ffe96622ee283583117e564036">realtime_sqlite3_exec_query</a></div><div class="ttdeci">static int realtime_sqlite3_exec_query(const char *, const char *, callback_t, void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00633">res_config_sqlite3.c:633</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a18b6f1cf748d864dd085819a7d4e6680"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a></div><div class="ttdeci">struct sla_ringing_trunk * first</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01092">app_meetme.c:1092</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a2e24bb5eb1fd30f7480a46328ae2089f"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a2e24bb5eb1fd30f7480a46328ae2089f">row_to_varlist</a></div><div class="ttdeci">static int row_to_varlist(void *arg, int num_columns, char **values, char **columns)</div><div class="ttdoc">Create a varlist from a single sqlite3 result row. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00488">res_config_sqlite3.c:488</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a61f7a31e1211907f297c6af21ad0f878"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a61f7a31e1211907f297c6af21ad0f878">IS_SQL_LIKE_CLAUSE</a></div><div class="ttdeci">#define IS_SQL_LIKE_CLAUSE(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00796">res_config_sqlite3.c:796</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a171509852163897527f0360d4d1e071f"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a></div><div class="ttdeci">static const char * sqlite3_escape_table(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">res_config_sqlite3.c:162</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab452cca573aeba7f0b86f87bd5491ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab452cca573aeba7f0b86f87bd5491ca">&#9670;&nbsp;</a></span>realtime_sqlite3_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> * realtime_sqlite3_load </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>configfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>suggested_include_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>who_asked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Realtime callback for static realtime. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../dd/d18/structast__config.html">ast_config</a> on success, NULL on failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00768">768</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00186">cfg_entry_args::cat</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00187">cfg_entry_args::cat_name</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00185">cfg_entry_args::cfg</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00188">cfg_entry_args::flags</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00633">realtime_sqlite3_exec_query()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00720">static_realtime_cb()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00712">static_sql</a>, and <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00189">cfg_entry_args::who_asked</a>.</p>
<div class="fragment"><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;{</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   <span class="keywordtype">char</span> *sql;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d37/structcfg__entry__args.html">cfg_entry_args</a> <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>)) {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Must have a table to query!\n&quot;</span>);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   <span class="keywordflow">if</span> (!(sql = sqlite3_mprintf(<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a8867f0ca25d934ad7945ec1b34106236">static_sql</a>, <a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>, configfile))) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Couldn&#39;t allocate query\n&quot;</span>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   };</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.cfg = <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.cat = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.cat_name = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.flags = <a class="code" href="../../de/d37/structcfg__entry__args.html#aec78000b2897c094f68ed72559e18acd">flags</a>;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;   <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.who_asked = <a class="code" href="../../de/d37/structcfg__entry__args.html#adf7e984f042083a8f38fc26293cbdb0b">who_asked</a>;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a00bb45ffe96622ee283583117e564036">realtime_sqlite3_exec_query</a>(database, sql, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a7c67e0d63fbddc83acc3c6a161966979">static_realtime_cb</a>, &amp;<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>);</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;   sqlite3_free(sql);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;}</div><div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a8867f0ca25d934ad7945ec1b34106236"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a8867f0ca25d934ad7945ec1b34106236">static_sql</a></div><div class="ttdeci">static const char * static_sql</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00712">res_config_sqlite3.c:712</a></div></div>
<div class="ttc" id="structcfg__entry__args_html_aec78000b2897c094f68ed72559e18acd"><div class="ttname"><a href="../../de/d37/structcfg__entry__args.html#aec78000b2897c094f68ed72559e18acd">cfg_entry_args::flags</a></div><div class="ttdeci">struct ast_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd3/res__config__sqlite_8c_source.html#l00188">res_config_sqlite.c:188</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="cdr__odbc_8c_html_a68d1e6e752f2cf81551fac543cae108a"><div class="ttname"><a href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a></div><div class="ttdeci">static char * table</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/cdr__odbc_8c_source.html#l00058">cdr_odbc.c:58</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a7c67e0d63fbddc83acc3c6a161966979"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a7c67e0d63fbddc83acc3c6a161966979">static_realtime_cb</a></div><div class="ttdeci">static int static_realtime_cb(void *arg, int num_columns, char **values, char **columns)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00720">res_config_sqlite3.c:720</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a00bb45ffe96622ee283583117e564036"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a00bb45ffe96622ee283583117e564036">realtime_sqlite3_exec_query</a></div><div class="ttdeci">static int realtime_sqlite3_exec_query(const char *, const char *, callback_t, void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00633">res_config_sqlite3.c:633</a></div></div>
<div class="ttc" id="structcfg__entry__args_html_adf7e984f042083a8f38fc26293cbdb0b"><div class="ttname"><a href="../../de/d37/structcfg__entry__args.html#adf7e984f042083a8f38fc26293cbdb0b">cfg_entry_args::who_asked</a></div><div class="ttdeci">const char * who_asked</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd3/res__config__sqlite_8c_source.html#l00189">res_config_sqlite.c:189</a></div></div>
<div class="ttc" id="structcfg__entry__args_html"><div class="ttname"><a href="../../de/d37/structcfg__entry__args.html">cfg_entry_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd3/res__config__sqlite_8c_source.html#l00184">res_config_sqlite.c:184</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a74ec69bf0606b765e62003474d15eb9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74ec69bf0606b765e62003474d15eb9c">&#9670;&nbsp;</a></span>realtime_sqlite3_multi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> * realtime_sqlite3_multi </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Realtime callback for a multi-row query. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../dd/d18/structast__config.html">ast_config</a> containing possibly many results on success, NULL on empty/failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00863">863</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l03276">ast_config_new()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">realtime_sqlite3_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;{</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   <span class="keywordflow">if</span> (!(cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a3aac6b809a257df6ea7c3d2a9d22b9f5">ast_config_new</a>())) {</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;   }</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a59f45e75fe4a70db49ce1c9e7cd2b980">realtime_sqlite3_helper</a>(database, <a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>, fields, 1, cfg)) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   }</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   <span class="keywordflow">return</span> cfg;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__odbc_8c_html_a68d1e6e752f2cf81551fac543cae108a"><div class="ttname"><a href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a></div><div class="ttdeci">static char * table</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/cdr__odbc_8c_source.html#l00058">cdr_odbc.c:58</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a3aac6b809a257df6ea7c3d2a9d22b9f5"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a3aac6b809a257df6ea7c3d2a9d22b9f5">ast_config_new</a></div><div class="ttdeci">struct ast_config * ast_config_new(void)</div><div class="ttdoc">Create a new base configuration structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03276">extconf.c:3276</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a59f45e75fe4a70db49ce1c9e7cd2b980"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a59f45e75fe4a70db49ce1c9e7cd2b980">realtime_sqlite3_helper</a></div><div class="ttdeci">static int realtime_sqlite3_helper(const char *database, const char *table, const struct ast_variable *fields, int is_multi, void *arg)</div><div class="ttdoc">Helper function for single and multi-row realtime load functions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">res_config_sqlite3.c:799</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8d71fbf08296b410fae6d61438d083c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8d71fbf08296b410fae6d61438d083c">&#9670;&nbsp;</a></span>realtime_sqlite3_require()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_sqlite3_require </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for ast_realtime_require. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Required fields met specified standards </td></tr>
    <tr><td class="paramname">-1</td><td>One or more fields was missing or insufficient </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01174">1174</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01152">add_column_name()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a9607ce10e06d5a012bffa2ab3ac23742">columns</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00245">find_database()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01115">handle_missing_column()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01082">handle_missing_table()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01154">OBJ_POINTER</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00599">realtime_sqlite3_exec_query_with_handle()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01146">str_cmp_fn()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01141">str_hash_fn()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>, <a class="el" href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00250">unref_db()</a>.</p>
<div class="fragment"><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;{</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/d4b/structcolumn.html">column</a>;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;   <span class="keywordtype">char</span> *sql;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;   <span class="keywordtype">size_t</span> sz;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a9607ce10e06d5a012bffa2ab3ac23742">columns</a>;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;   <span class="comment">/* SQLite3 columns are dynamically typed, with type affinity. Built-in functions will</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment">    * return the results as char * anyway. The only field that cannot contain text</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment">    * data is an INTEGER PRIMARY KEY, which must be a 64-bit signed integer. So, for</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment">    * the purposes here we really only care whether the column exists and not what its</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="comment">    * type or length is. */</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>)) {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Must have a table to query!\n&quot;</span>);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;   }</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <span class="keywordflow">if</span> (!(db = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#aebd5ae75df083e631275a307183879a2">find_database</a>(database))) {</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;   }</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;   columns = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, 31,</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a890b11c2381f91c6b3eaeb3dae5f6aa3">str_hash_fn</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ab3409daf4c87fedacce04f347e0a41b9">str_cmp_fn</a>);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;   <span class="keywordflow">if</span> (!columns) {</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;   }</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;   <span class="keywordflow">if</span> (!(sql = sqlite3_mprintf(<span class="stringliteral">&quot;PRAGMA table_info(\&quot;%q\&quot;)&quot;</span>, <a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>))) {</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(columns, -1);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;   }</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a16e91a578458151bd3e3bdb6ee0775c8">realtime_sqlite3_exec_query_with_handle</a>(db, sql, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a15466c7cefd24499dbedc72d0cd46726">add_column_name</a>, columns)) &lt; 0) {</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(columns, -1);</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      sqlite3_free(sql);</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res == 0) {</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <span class="comment">/* Table does not exist */</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      sqlite3_free(sql);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      res = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4a040724b503f79294a39f61bec6cc28">handle_missing_table</a>(db, <a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>, ap);</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(columns, -1);</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;   }</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;   sqlite3_free(sql);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;   <span class="keywordflow">while</span> ((column = va_arg(ap, <a class="code" href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof</a>(column)))) {</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordtype">char</span> *found;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      type = va_arg(ap, <a class="code" href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof</a>(type));</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      sz = va_arg(ap, <a class="code" href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof</a>(sz));</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="keywordflow">if</span> (!(found = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(columns, column, <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>))) {</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a09389f7c1201127dda35aceb8e2a73c7">handle_missing_column</a>(db, <a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>, column, type, sz)) {</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(columns, -1);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;         }</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(found, -1);</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      }</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;   }</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(columns, -1);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;db);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;}</div><div class="ttc" id="time_8h_html_a0726afc816122530dfd83ecf14901ff2"><div class="ttname"><a href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof</a></div><div class="ttdeci">typedef typeof(dummy_tv_var_for_types.tv_sec) ast_time_t</div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_ab3409daf4c87fedacce04f347e0a41b9"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#ab3409daf4c87fedacce04f347e0a41b9">str_cmp_fn</a></div><div class="ttdeci">static int str_cmp_fn(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01146">res_config_sqlite3.c:1146</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2448088751e4d494d1981c7f4b84e8d0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a></div><div class="ttdeci">#define OBJ_POINTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01154">astobj2.h:1154</a></div></div>
<div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a09389f7c1201127dda35aceb8e2a73c7"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a09389f7c1201127dda35aceb8e2a73c7">handle_missing_column</a></div><div class="ttdeci">static int handle_missing_column(struct realtime_sqlite3_db *db, const char *table, const char *column, int type, size_t sz)</div><div class="ttdoc">If ast_realtime_require sends info about a column we don&amp;#39;t have, create it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01115">res_config_sqlite3.c:1115</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a16e91a578458151bd3e3bdb6ee0775c8"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a16e91a578458151bd3e3bdb6ee0775c8">realtime_sqlite3_exec_query_with_handle</a></div><div class="ttdeci">static int realtime_sqlite3_exec_query_with_handle(struct realtime_sqlite3_db *, const char *, callback_t, void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00599">res_config_sqlite3.c:599</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="cdr__odbc_8c_html_a68d1e6e752f2cf81551fac543cae108a"><div class="ttname"><a href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a></div><div class="ttdeci">static char * table</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/cdr__odbc_8c_source.html#l00058">cdr_odbc.c:58</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a4b60cd5f33220b8a0d24092b6e8e6932"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a></div><div class="ttdeci">static void unref_db(struct realtime_sqlite3_db **db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00250">res_config_sqlite3.c:250</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a9607ce10e06d5a012bffa2ab3ac23742"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a9607ce10e06d5a012bffa2ab3ac23742">columns</a></div><div class="ttdeci">static struct columns columns</div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structcolumn_html"><div class="ttname"><a href="../../de/d4b/structcolumn.html">column</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00098">cdr_mysql.c:98</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_aebd5ae75df083e631275a307183879a2"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#aebd5ae75df083e631275a307183879a2">find_database</a></div><div class="ttdeci">static struct realtime_sqlite3_db * find_database(const char *database)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00245">res_config_sqlite3.c:245</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a890b11c2381f91c6b3eaeb3dae5f6aa3"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a890b11c2381f91c6b3eaeb3dae5f6aa3">str_hash_fn</a></div><div class="ttdeci">static int str_hash_fn(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01141">res_config_sqlite3.c:1141</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a4a040724b503f79294a39f61bec6cc28"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a4a040724b503f79294a39f61bec6cc28">handle_missing_table</a></div><div class="ttdeci">static int handle_missing_table(struct realtime_sqlite3_db *db, const char *table, va_list ap)</div><div class="ttdoc">Create a table if ast_realtime_require shows that we are configured to handle the data...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01082">res_config_sqlite3.c:1082</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a15466c7cefd24499dbedc72d0cd46726"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a15466c7cefd24499dbedc72d0cd46726">add_column_name</a></div><div class="ttdeci">static int add_column_name(void *arg, int num_columns, char **values, char **columns)</div><div class="ttdoc">Callback for creating a hash of column names for comparison in realtime_sqlite3_require. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01152">res_config_sqlite3.c:1152</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f02b600dec57bacf0f80321fdf4f1ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f02b600dec57bacf0f80321fdf4f1ae">&#9670;&nbsp;</a></span>realtime_sqlite3_store()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_sqlite3_store </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Realtime callback for inserting a row. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of rows affected or -1 on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00971">971</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01092">first</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00695">realtime_sqlite3_exec_update()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00167">sqlite3_escape_column()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">sqlite3_escape_table()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">sqlite3_escape_value()</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>
<div class="fragment"><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;{</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *sql, *<a class="code" href="../../d2/d2b/structvalues.html">values</a>;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *field;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a> = 1, res;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>)) {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Must have a table to query!\n&quot;</span>);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   }</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   <span class="keywordflow">if</span> (!(sql = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(128))) {</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   <span class="keywordflow">if</span> (!(values = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(128))) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sql);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   }</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;   <span class="keywordflow">for</span> (field = fields; field; field = field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <span class="keywordflow">if</span> (first) {</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;sql, 0, <span class="stringliteral">&quot;INSERT INTO %s (%s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>));</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;values, 0, <span class="stringliteral">&quot;) VALUES (%s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;         first = 0;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;sql, 0, <span class="stringliteral">&quot;, %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>));</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;values, 0, <span class="stringliteral">&quot;, %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      }</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;   }</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;sql, 0, <span class="stringliteral">&quot;%s)&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(values));</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   res = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a5feed42294310fad19a3fafd359f6be4">realtime_sqlite3_exec_update</a>(database, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(sql));</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sql);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(values);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_a7c87f4d9ee5d28f2c11d1d88a481b0ac"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a></div><div class="ttdeci">static const char * sqlite3_escape_column(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00167">res_config_sqlite3.c:167</a></div></div>
<div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="cdr__odbc_8c_html_a68d1e6e752f2cf81551fac543cae108a"><div class="ttname"><a href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a></div><div class="ttdeci">static char * table</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/cdr__odbc_8c_source.html#l00058">cdr_odbc.c:58</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a3b09fa43af5b7634cfc477f8d25576ff"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a></div><div class="ttdeci">static const char * sqlite3_escape_value(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">res_config_sqlite3.c:212</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a18b6f1cf748d864dd085819a7d4e6680"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a></div><div class="ttdeci">struct sla_ringing_trunk * first</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01092">app_meetme.c:1092</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structvalues_html"><div class="ttname"><a href="../../d2/d2b/structvalues.html">values</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00066">cdr_sqlite3_custom.c:66</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a5feed42294310fad19a3fafd359f6be4"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a5feed42294310fad19a3fafd359f6be4">realtime_sqlite3_exec_update</a></div><div class="ttdeci">static int realtime_sqlite3_exec_update(const char *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00695">res_config_sqlite3.c:695</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a171509852163897527f0360d4d1e071f"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a></div><div class="ttdeci">static const char * sqlite3_escape_table(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">res_config_sqlite3.c:162</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a287b7e9f74d0dd044812a553eeecc59b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a287b7e9f74d0dd044812a553eeecc59b">&#9670;&nbsp;</a></span>realtime_sqlite3_unload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_sqlite3_unload </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for clearing any cached info. </p>
<dl class="section note"><dt>Note</dt><dd>We don't currently cache anything </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>If any cache was purged </td></tr>
    <tr><td class="paramname">-1</td><td>If no cache was found </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01254">1254</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;{</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   <span class="comment">/* We currently do no caching */</span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a54557812592ecfd386b78e864671bc56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54557812592ecfd386b78e864671bc56">&#9670;&nbsp;</a></span>realtime_sqlite3_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_sqlite3_update </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>keyfield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Realtime callback for updating a row based on a single criteria. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of rows affected or -1 on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00882">882</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01092">first</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00695">realtime_sqlite3_exec_update()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00167">sqlite3_escape_column()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00173">sqlite3_escape_column_op()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">sqlite3_escape_table()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">sqlite3_escape_value()</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>
<div class="fragment"><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;{</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *sql;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *field;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a> = 1, res;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>)) {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Must have a table to query!\n&quot;</span>);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <span class="keywordflow">if</span> (!(sql = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(128))) {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <span class="keywordflow">for</span> (field = fields; field; field = field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordflow">if</span> (first) {</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;sql, 0, <span class="stringliteral">&quot;UPDATE %s SET %s = %s&quot;</span>,</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;               <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;         first = 0;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;sql, 0, <span class="stringliteral">&quot;, %s = %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      }</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;sql, 0, <span class="stringliteral">&quot; WHERE %s %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4473765c16a546b78f6b0179da8c443e">sqlite3_escape_column_op</a>(keyfield), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(<a class="code" href="../../de/dfe/isdn__lib_8c.html#ad4e4601988acb4a95ecd1ec380359ae5">entity</a>));</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;   res = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a5feed42294310fad19a3fafd359f6be4">realtime_sqlite3_exec_update</a>(database, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(sql));</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sql);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_a7c87f4d9ee5d28f2c11d1d88a481b0ac"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a></div><div class="ttdeci">static const char * sqlite3_escape_column(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00167">res_config_sqlite3.c:167</a></div></div>
<div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a4473765c16a546b78f6b0179da8c443e"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a4473765c16a546b78f6b0179da8c443e">sqlite3_escape_column_op</a></div><div class="ttdeci">static const char * sqlite3_escape_column_op(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00173">res_config_sqlite3.c:173</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ad4e4601988acb4a95ecd1ec380359ae5"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ad4e4601988acb4a95ecd1ec380359ae5">entity</a></div><div class="ttdeci">static int entity</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00259">isdn_lib.c:259</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="cdr__odbc_8c_html_a68d1e6e752f2cf81551fac543cae108a"><div class="ttname"><a href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a></div><div class="ttdeci">static char * table</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/cdr__odbc_8c_source.html#l00058">cdr_odbc.c:58</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a3b09fa43af5b7634cfc477f8d25576ff"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a></div><div class="ttdeci">static const char * sqlite3_escape_value(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">res_config_sqlite3.c:212</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a18b6f1cf748d864dd085819a7d4e6680"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a></div><div class="ttdeci">struct sla_ringing_trunk * first</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01092">app_meetme.c:1092</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a5feed42294310fad19a3fafd359f6be4"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a5feed42294310fad19a3fafd359f6be4">realtime_sqlite3_exec_update</a></div><div class="ttdeci">static int realtime_sqlite3_exec_update(const char *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00695">res_config_sqlite3.c:695</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a171509852163897527f0360d4d1e071f"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a></div><div class="ttdeci">static const char * sqlite3_escape_table(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">res_config_sqlite3.c:162</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a95542938f53e202ca7ae65f65c47d04e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95542938f53e202ca7ae65f65c47d04e">&#9670;&nbsp;</a></span>realtime_sqlite3_update2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_sqlite3_update2 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>lookup_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>update_fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Realtime callback for updating a row based on multiple criteria. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of rows affected or -1 on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00918">918</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01092">first</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00695">realtime_sqlite3_exec_update()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00167">sqlite3_escape_column()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00173">sqlite3_escape_column_op()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">sqlite3_escape_table()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">sqlite3_escape_value()</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>
<div class="fragment"><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;{</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *sql;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *where_clause;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *field;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a> = 1, res;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>)) {</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Must have a table to query!\n&quot;</span>);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   }</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   <span class="keywordflow">if</span> (!(sql = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(128))) {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   }</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   <span class="keywordflow">if</span> (!(where_clause = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(128))) {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sql);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   }</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   <span class="keywordflow">for</span> (field = lookup_fields; field; field = field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <span class="keywordflow">if</span> (first) {</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;where_clause, 0, <span class="stringliteral">&quot; WHERE %s %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4473765c16a546b78f6b0179da8c443e">sqlite3_escape_column_op</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;         first = 0;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;where_clause, 0, <span class="stringliteral">&quot; AND %s %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4473765c16a546b78f6b0179da8c443e">sqlite3_escape_column_op</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      }</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   }</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   first = 1;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;   <span class="keywordflow">for</span> (field = update_fields; field; field = field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="keywordflow">if</span> (first) {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;sql, 0, <span class="stringliteral">&quot;UPDATE %s SET %s = %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;         first = 0;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;sql, 0, <span class="stringliteral">&quot;, %s = %s&quot;</span>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      }</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   }</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;sql, 0, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(where_clause));</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   res = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a5feed42294310fad19a3fafd359f6be4">realtime_sqlite3_exec_update</a>(database, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(sql));</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sql);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(where_clause);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_a7c87f4d9ee5d28f2c11d1d88a481b0ac"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a7c87f4d9ee5d28f2c11d1d88a481b0ac">sqlite3_escape_column</a></div><div class="ttdeci">static const char * sqlite3_escape_column(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00167">res_config_sqlite3.c:167</a></div></div>
<div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a4473765c16a546b78f6b0179da8c443e"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a4473765c16a546b78f6b0179da8c443e">sqlite3_escape_column_op</a></div><div class="ttdeci">static const char * sqlite3_escape_column_op(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00173">res_config_sqlite3.c:173</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="cdr__odbc_8c_html_a68d1e6e752f2cf81551fac543cae108a"><div class="ttname"><a href="../../d8/d56/cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a></div><div class="ttdeci">static char * table</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/cdr__odbc_8c_source.html#l00058">cdr_odbc.c:58</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a3b09fa43af5b7634cfc477f8d25576ff"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a3b09fa43af5b7634cfc477f8d25576ff">sqlite3_escape_value</a></div><div class="ttdeci">static const char * sqlite3_escape_value(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">res_config_sqlite3.c:212</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a18b6f1cf748d864dd085819a7d4e6680"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a18b6f1cf748d864dd085819a7d4e6680">first</a></div><div class="ttdeci">struct sla_ringing_trunk * first</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01092">app_meetme.c:1092</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a5feed42294310fad19a3fafd359f6be4"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a5feed42294310fad19a3fafd359f6be4">realtime_sqlite3_exec_update</a></div><div class="ttdeci">static int realtime_sqlite3_exec_update(const char *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00695">res_config_sqlite3.c:695</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a171509852163897527f0360d4d1e071f"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a171509852163897527f0360d4d1e071f">sqlite3_escape_table</a></div><div class="ttdeci">static const char * sqlite3_escape_table(const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">res_config_sqlite3.c:162</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1982509765f4870f1f63412a53ea668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1982509765f4870f1f63412a53ea668">&#9670;&nbsp;</a></span>reload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reload </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01321">1321</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">parse_config()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01372">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;{</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a0dc068d63cb9df28d4b885bb7b5c5560">parse_config</a>(1);</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_a0dc068d63cb9df28d4b885bb7b5c5560"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a0dc068d63cb9df28d4b885bb7b5c5560">parse_config</a></div><div class="ttdeci">static int parse_config(int reload)</div><div class="ttdoc">Parse the res_config_sqlite3 config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">res_config_sqlite3.c:1262</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac2359b65e79b2a3be2e97b2bb8c8f75b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2359b65e79b2a3be2e97b2bb8c8f75b">&#9670;&nbsp;</a></span>row_counter_wrapper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int row_counter_wrapper </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00576">576</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00556">row_counter_args::row_count</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00555">row_counter_args::wrapped_arg</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00554">row_counter_args::wrapped_callback</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00599">realtime_sqlite3_exec_query_with_handle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;{</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dfb/structrow__counter__args.html">row_counter_args</a> *wrapped = arg;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   wrapped-&gt;<a class="code" href="../../d8/dfb/structrow__counter__args.html#aa963fa630a27b9467529bfa5a814ea4f">row_count</a>++;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;   <span class="keywordflow">if</span> (wrapped-&gt;<a class="code" href="../../d8/dfb/structrow__counter__args.html#ab0c1dafd9af2474ca87395361123501b">wrapped_callback</a>) {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keywordflow">return</span> wrapped-&gt;<a class="code" href="../../d8/dfb/structrow__counter__args.html#ab0c1dafd9af2474ca87395361123501b">wrapped_callback</a>(wrapped-&gt;<a class="code" href="../../d8/dfb/structrow__counter__args.html#a5ebb44247e0fdd8297a02af81a56f358">wrapped_arg</a>, num_columns, <a class="code" href="../../d2/d2b/structvalues.html">values</a>, <a class="code" href="../../d7/dec/structcolumns.html">columns</a>);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;}</div><div class="ttc" id="structrow__counter__args_html_ab0c1dafd9af2474ca87395361123501b"><div class="ttname"><a href="../../d8/dfb/structrow__counter__args.html#ab0c1dafd9af2474ca87395361123501b">row_counter_args::wrapped_callback</a></div><div class="ttdeci">callback_t wrapped_callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00554">res_config_sqlite3.c:554</a></div></div>
<div class="ttc" id="structcolumns_html"><div class="ttname"><a href="../../d7/dec/structcolumns.html">columns</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00107">cdr_mysql.c:107</a></div></div>
<div class="ttc" id="structrow__counter__args_html_a5ebb44247e0fdd8297a02af81a56f358"><div class="ttname"><a href="../../d8/dfb/structrow__counter__args.html#a5ebb44247e0fdd8297a02af81a56f358">row_counter_args::wrapped_arg</a></div><div class="ttdeci">void * wrapped_arg</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00555">res_config_sqlite3.c:555</a></div></div>
<div class="ttc" id="structvalues_html"><div class="ttname"><a href="../../d2/d2b/structvalues.html">values</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00066">cdr_sqlite3_custom.c:66</a></div></div>
<div class="ttc" id="structrow__counter__args_html_aa963fa630a27b9467529bfa5a814ea4f"><div class="ttname"><a href="../../d8/dfb/structrow__counter__args.html#aa963fa630a27b9467529bfa5a814ea4f">row_counter_args::row_count</a></div><div class="ttdeci">int row_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00556">res_config_sqlite3.c:556</a></div></div>
<div class="ttc" id="structrow__counter__args_html"><div class="ttname"><a href="../../d8/dfb/structrow__counter__args.html">row_counter_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00553">res_config_sqlite3.c:553</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e24bb5eb1fd30f7480a46328ae2089f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e24bb5eb1fd30f7480a46328ae2089f">&#9670;&nbsp;</a></span>row_to_varlist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int row_to_varlist </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a varlist from a single sqlite3 result row. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00488">488</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">ast_variable_new</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">realtime_sqlite3_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;{</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> **head = arg, *tail;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<span class="keyword">new</span>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;   <span class="keywordflow">if</span> (!(<span class="keyword">new</span> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a>(<a class="code" href="../../d7/dec/structcolumns.html">columns</a>[0], <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d2/d2b/structvalues.html">values</a>[0], <span class="stringliteral">&quot;&quot;</span>), <span class="stringliteral">&quot;&quot;</span>))) {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="keywordflow">return</span> SQLITE_ABORT;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   *head = tail = <span class="keyword">new</span>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <span class="keywordflow">for</span> (i = 1; i &lt; num_columns; i++) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordflow">if</span> (!(<span class="keyword">new</span> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a>(<a class="code" href="../../d7/dec/structcolumns.html">columns</a>[i], <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d2/d2b/structvalues.html">values</a>[i], <span class="stringliteral">&quot;&quot;</span>), <span class="stringliteral">&quot;&quot;</span>))) {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;         <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(*head);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;         *head = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;         <span class="keywordflow">return</span> SQLITE_ABORT;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      tail-&gt;next = <span class="keyword">new</span>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      tail = <span class="keyword">new</span>;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div><div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structcolumns_html"><div class="ttname"><a href="../../d7/dec/structcolumns.html">columns</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00107">cdr_mysql.c:107</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a66581086d34dfe7ea86b0644bacef239"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a></div><div class="ttdeci">#define ast_variable_new(name, value, filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">include/asterisk/config.h:914</a></div></div>
<div class="ttc" id="structvalues_html"><div class="ttname"><a href="../../d2/d2b/structvalues.html">values</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00066">cdr_sqlite3_custom.c:66</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c87f4d9ee5d28f2c11d1d88a481b0ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c87f4d9ee5d28f2c11d1d88a481b0ac">&#9670;&nbsp;</a></span>sqlite3_escape_column()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* sqlite3_escape_column </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00167">167</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00117">escape_column_buf</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00130">sqlite3_escape_string_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01082">handle_missing_table()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00971">realtime_sqlite3_store()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00882">realtime_sqlite3_update()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00918">realtime_sqlite3_update2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a163718a59436c26a8e0f7e4e8d3ce83c">sqlite3_escape_string_helper</a>(&amp;<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#abf739143dddc253c0a1aa718a909b7a8">escape_column_buf</a>, param);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_abf739143dddc253c0a1aa718a909b7a8"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#abf739143dddc253c0a1aa718a909b7a8">escape_column_buf</a></div><div class="ttdeci">static struct ast_threadstorage escape_column_buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00117">res_config_sqlite3.c:117</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a163718a59436c26a8e0f7e4e8d3ce83c"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a163718a59436c26a8e0f7e4e8d3ce83c">sqlite3_escape_string_helper</a></div><div class="ttdeci">static const char * sqlite3_escape_string_helper(struct ast_threadstorage *ts, const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00130">res_config_sqlite3.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4473765c16a546b78f6b0179da8c443e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4473765c16a546b78f6b0179da8c443e">&#9670;&nbsp;</a></span>sqlite3_escape_column_op()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* sqlite3_escape_column_op </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00173">173</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00780">ast_str_make_space</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00653">ast_str_reset()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00699">ast_str_size()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00861">ast_str_thread_get()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00663">ast_str_update()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00117">escape_column_buf</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01015">realtime_sqlite3_destroy()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">realtime_sqlite3_helper()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00882">realtime_sqlite3_update()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00918">realtime_sqlite3_update2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <span class="keywordtype">size_t</span> maxlen = strlen(param) * 2 + <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;\&quot;\&quot; =&quot;</span>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> = <a class="code" href="../../d6/d90/strings_8h.html#afe8f5f844f2fd5f5bd5d0be5ef671481">ast_str_thread_get</a>(&amp;<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#abf739143dddc253c0a1aa718a909b7a8">escape_column_buf</a>, maxlen);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="keywordtype">int</span> space = 0;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#ae99d6f51ac4be6b72f8b63892cd949e1">ast_str_size</a>(buf) &lt; maxlen) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="comment">/* realloc if buf is too small */</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#aa3d67163f6a94e575ee602933adf1eab">ast_str_make_space</a>(&amp;buf, maxlen);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   tmp = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(buf);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(buf);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   *tmp++ = <span class="charliteral">&#39;&quot;&#39;</span>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   <span class="keywordflow">while</span> ((*tmp++ = *param++)) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="comment">/* If we have seen a space, don&#39;t double quotes. XXX If we ever make the column/op field</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">       * available to users via an API, we will definitely need to avoid allowing special</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">       * characters like &#39;;&#39; in the data past the space as it will be unquoted data */</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="keywordflow">if</span> (space) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keywordflow">if</span> (*(tmp - 1) == <span class="charliteral">&#39; &#39;</span>) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;         *(tmp - 1) = <span class="charliteral">&#39;&quot;&#39;</span>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;         *tmp++ = <span class="charliteral">&#39; &#39;</span>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;         space = 1;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*(tmp - 1) == <span class="charliteral">&#39;&quot;&#39;</span>) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;         *tmp++ = <span class="charliteral">&#39;&quot;&#39;</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   <span class="keywordflow">if</span> (!space) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      strcpy(tmp - 1, <span class="stringliteral">&quot;\&quot; =&quot;</span>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#aa64825674476f476402283fe4bd7ee51">ast_str_update</a>(buf);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(buf);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_abf739143dddc253c0a1aa718a909b7a8"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#abf739143dddc253c0a1aa718a909b7a8">escape_column_buf</a></div><div class="ttdeci">static struct ast_threadstorage escape_column_buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00117">res_config_sqlite3.c:117</a></div></div>
<div class="ttc" id="strings_8h_html_ae99d6f51ac4be6b72f8b63892cd949e1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ae99d6f51ac4be6b72f8b63892cd949e1">ast_str_size</a></div><div class="ttdeci">size_t ast_str_size(const struct ast_str *buf)</div><div class="ttdoc">Returns the current maximum length (without reallocation) of the current buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00699">strings.h:699</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="strings_8h_html_aa3d67163f6a94e575ee602933adf1eab"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3d67163f6a94e575ee602933adf1eab">ast_str_make_space</a></div><div class="ttdeci">#define ast_str_make_space(buf, new_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00780">strings.h:780</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="strings_8h_html_aa64825674476f476402283fe4bd7ee51"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa64825674476f476402283fe4bd7ee51">ast_str_update</a></div><div class="ttdeci">void ast_str_update(struct ast_str *buf)</div><div class="ttdoc">Update the length of the buffer, after using ast_str merely as a buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00663">strings.h:663</a></div></div>
<div class="ttc" id="strings_8h_html_afe8f5f844f2fd5f5bd5d0be5ef671481"><div class="ttname"><a href="../../d6/d90/strings_8h.html#afe8f5f844f2fd5f5bd5d0be5ef671481">ast_str_thread_get</a></div><div class="ttdeci">struct ast_str * ast_str_thread_get(struct ast_threadstorage *ts, size_t init_len)</div><div class="ttdoc">Retrieve a thread locally stored dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00861">strings.h:861</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a163718a59436c26a8e0f7e4e8d3ce83c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a163718a59436c26a8e0f7e4e8d3ce83c">&#9670;&nbsp;</a></span>sqlite3_escape_string_helper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* sqlite3_escape_string_helper </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> *&#160;</td>
          <td class="paramname"><em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00130">130</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00780">ast_str_make_space</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00653">ast_str_reset()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00699">ast_str_size()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00861">ast_str_thread_get()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00663">ast_str_update()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00118">escape_value_buf</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00167">sqlite3_escape_column()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">sqlite3_escape_table()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">sqlite3_escape_value()</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   <span class="keywordtype">size_t</span> maxlen = strlen(param) * 2 + <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;\&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <span class="comment">/* It doesn&#39;t appear that sqlite3_snprintf will do more than double the</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">    * length of a string with %q as an option. %Q could double and possibly</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">    * add two quotes, and convert NULL pointers to the word &quot;NULL&quot;, but we</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">    * don&#39;t allow those anyway. Just going to use %q for now. */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> = <a class="code" href="../../d6/d90/strings_8h.html#afe8f5f844f2fd5f5bd5d0be5ef671481">ast_str_thread_get</a>(ts, maxlen);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   <span class="keywordtype">char</span> q = ts == &amp;<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#af82ec768da4f8b68400844a230dc4f22">escape_value_buf</a> ? <span class="charliteral">&#39;\&#39;&#39;</span> : <span class="charliteral">&#39;&quot;&#39;</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#ae99d6f51ac4be6b72f8b63892cd949e1">ast_str_size</a>(buf) &lt; maxlen) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="comment">/* realloc if buf is too small */</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#aa3d67163f6a94e575ee602933adf1eab">ast_str_make_space</a>(&amp;buf, maxlen);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   tmp = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(buf);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(buf);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   *tmp++ = q; <span class="comment">/* Initial quote */</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <span class="keywordflow">while</span> ((*tmp++ = *param++)) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="comment">/* Did we just copy a quote? Then double it. */</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">if</span> (*(tmp - 1) == q) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;         *tmp++ = q;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   *tmp = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">/* Terminate past NULL from copy */</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   *(tmp - 1) = q; <span class="comment">/* Replace original NULL with the quote */</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#aa64825674476f476402283fe4bd7ee51">ast_str_update</a>(buf);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(buf);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="ttc" id="strings_8h_html_ae99d6f51ac4be6b72f8b63892cd949e1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ae99d6f51ac4be6b72f8b63892cd949e1">ast_str_size</a></div><div class="ttdeci">size_t ast_str_size(const struct ast_str *buf)</div><div class="ttdoc">Returns the current maximum length (without reallocation) of the current buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00699">strings.h:699</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="strings_8h_html_aa3d67163f6a94e575ee602933adf1eab"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3d67163f6a94e575ee602933adf1eab">ast_str_make_space</a></div><div class="ttdeci">#define ast_str_make_space(buf, new_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00780">strings.h:780</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="strings_8h_html_aa64825674476f476402283fe4bd7ee51"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa64825674476f476402283fe4bd7ee51">ast_str_update</a></div><div class="ttdeci">void ast_str_update(struct ast_str *buf)</div><div class="ttdoc">Update the length of the buffer, after using ast_str merely as a buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00663">strings.h:663</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_af82ec768da4f8b68400844a230dc4f22"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#af82ec768da4f8b68400844a230dc4f22">escape_value_buf</a></div><div class="ttdeci">static struct ast_threadstorage escape_value_buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00118">res_config_sqlite3.c:118</a></div></div>
<div class="ttc" id="strings_8h_html_afe8f5f844f2fd5f5bd5d0be5ef671481"><div class="ttname"><a href="../../d6/d90/strings_8h.html#afe8f5f844f2fd5f5bd5d0be5ef671481">ast_str_thread_get</a></div><div class="ttdeci">struct ast_str * ast_str_thread_get(struct ast_threadstorage *ts, size_t init_len)</div><div class="ttdoc">Retrieve a thread locally stored dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00861">strings.h:861</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a171509852163897527f0360d4d1e071f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a171509852163897527f0360d4d1e071f">&#9670;&nbsp;</a></span>sqlite3_escape_table()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* sqlite3_escape_table </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">162</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00116">escape_table_buf</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00130">sqlite3_escape_string_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01082">handle_missing_table()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01015">realtime_sqlite3_destroy()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">realtime_sqlite3_helper()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00971">realtime_sqlite3_store()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00882">realtime_sqlite3_update()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00918">realtime_sqlite3_update2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a163718a59436c26a8e0f7e4e8d3ce83c">sqlite3_escape_string_helper</a>(&amp;<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a11fd2e5f4df65ff24b771080564d4772">escape_table_buf</a>, param);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_a163718a59436c26a8e0f7e4e8d3ce83c"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a163718a59436c26a8e0f7e4e8d3ce83c">sqlite3_escape_string_helper</a></div><div class="ttdeci">static const char * sqlite3_escape_string_helper(struct ast_threadstorage *ts, const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00130">res_config_sqlite3.c:130</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a11fd2e5f4df65ff24b771080564d4772"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a11fd2e5f4df65ff24b771080564d4772">escape_table_buf</a></div><div class="ttdeci">static struct ast_threadstorage escape_table_buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00116">res_config_sqlite3.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b09fa43af5b7634cfc477f8d25576ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b09fa43af5b7634cfc477f8d25576ff">&#9670;&nbsp;</a></span>sqlite3_escape_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* sqlite3_escape_value </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">212</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00118">escape_value_buf</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00130">sqlite3_escape_string_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01015">realtime_sqlite3_destroy()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">realtime_sqlite3_helper()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00971">realtime_sqlite3_store()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00882">realtime_sqlite3_update()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00918">realtime_sqlite3_update2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;{</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a163718a59436c26a8e0f7e4e8d3ce83c">sqlite3_escape_string_helper</a>(&amp;<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#af82ec768da4f8b68400844a230dc4f22">escape_value_buf</a>, param);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_a163718a59436c26a8e0f7e4e8d3ce83c"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a163718a59436c26a8e0f7e4e8d3ce83c">sqlite3_escape_string_helper</a></div><div class="ttdeci">static const char * sqlite3_escape_string_helper(struct ast_threadstorage *ts, const char *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00130">res_config_sqlite3.c:130</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_af82ec768da4f8b68400844a230dc4f22"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#af82ec768da4f8b68400844a230dc4f22">escape_value_buf</a></div><div class="ttdeci">static struct ast_threadstorage escape_value_buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00118">res_config_sqlite3.c:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c67e0d63fbddc83acc3c6a161966979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c67e0d63fbddc83acc3c6a161966979">&#9670;&nbsp;</a></span>static_realtime_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int static_realtime_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00720">720</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02835">ast_category_append()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02847">ast_category_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00832">ast_category_new_dynamic</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03112">ast_config_internal_load()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01178">ast_variable_append()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">ast_variable_new</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00186">cfg_entry_args::cat</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00187">cfg_entry_args::cat_name</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00185">cfg_entry_args::cfg</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00714">COL_CATEGORY</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00715">COL_VAR_NAME</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00716">COL_VAR_VAL</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00188">cfg_entry_args::flags</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>, and <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00189">cfg_entry_args::who_asked</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00768">realtime_sqlite3_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;{</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d37/structcfg__entry__args.html">cfg_entry_args</a> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a> = arg;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d2/d2b/structvalues.html">values</a>[<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916eadbe6ef5e78c685b450cc5ca4441192c0">COL_VAR_NAME</a>], <span class="stringliteral">&quot;#include&quot;</span>)) {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../d5/d85/structval.html">val</a>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      val = <a class="code" href="../../d2/d2b/structvalues.html">values</a>[<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916ea800e2edabff9628bd8131c8ab2c58670">COL_VAR_VAL</a>];</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keywordflow">if</span> (!(cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a721d5cd60abda2bdd96838336dc09669">ast_config_internal_load</a>(val, args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#aed07742ca473475e764f354e18f785d7">cfg</a>, args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#aec78000b2897c094f68ed72559e18acd">flags</a>, <span class="stringliteral">&quot;&quot;</span>, args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#adf7e984f042083a8f38fc26293cbdb0b">who_asked</a>))) {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to include %s\n&quot;</span>, val);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;         <span class="keywordflow">return</span> SQLITE_ABORT;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;         args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#aed07742ca473475e764f354e18f785d7">cfg</a> = cfg;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;   <span class="keywordflow">if</span> (!args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#ac609ac3bda8695af295e0e0abfd3934f">cat_name</a> || strcmp(args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#ac609ac3bda8695af295e0e0abfd3934f">cat_name</a>, <a class="code" href="../../d2/d2b/structvalues.html">values</a>[<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916eaca0ca3cc6436a82fdf4cb077a0f912c5">COL_CATEGORY</a>])) {</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#aefd64b78e9c3c182e9aba1a1bac01a33">cat</a> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ae5deebf8bc8c13fdd4a4dad0110d8b9b">ast_category_new_dynamic</a>(<a class="code" href="../../d2/d2b/structvalues.html">values</a>[COL_CATEGORY]);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keywordflow">if</span> (!args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#aefd64b78e9c3c182e9aba1a1bac01a33">cat</a>) {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;         <span class="keywordflow">return</span> SQLITE_ABORT;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#ac609ac3bda8695af295e0e0abfd3934f">cat_name</a>);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">if</span> (!(args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#ac609ac3bda8695af295e0e0abfd3934f">cat_name</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d2/d2b/structvalues.html">values</a>[COL_CATEGORY]))) {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;         <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a94ba5ab9fffe6dd755ee95db7ff2432f">ast_category_destroy</a>(args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#aefd64b78e9c3c182e9aba1a1bac01a33">cat</a>);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;         <span class="keywordflow">return</span> SQLITE_ABORT;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      }</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aa422e1cc73c1ac4db7ed8cd1a0e36e1a">ast_category_append</a>(args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#aed07742ca473475e764f354e18f785d7">cfg</a>, args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#aefd64b78e9c3c182e9aba1a1bac01a33">cat</a>);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;   <span class="keywordflow">if</span> (!(var = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a>(<a class="code" href="../../d2/d2b/structvalues.html">values</a>[COL_VAR_NAME], <a class="code" href="../../d2/d2b/structvalues.html">values</a>[<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916ea800e2edabff9628bd8131c8ab2c58670">COL_VAR_VAL</a>], <span class="stringliteral">&quot;&quot;</span>))) {</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate variable\n&quot;</span>);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="keywordflow">return</span> SQLITE_ABORT;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;   }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a57a3200e5b440d7135eaf0450ea559fe">ast_variable_append</a>(args-&gt;<a class="code" href="../../de/d37/structcfg__entry__args.html#aefd64b78e9c3c182e9aba1a1bac01a33">cat</a>, var);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;}</div><div class="ttc" id="structval_html"><div class="ttname"><a href="../../d5/d85/structval.html">val</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd1/ast__expr2_8c_source.html#l00325">ast_expr2.c:325</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a443d48ef4fc56410a31da8313b6e916eaca0ca3cc6436a82fdf4cb077a0f912c5"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916eaca0ca3cc6436a82fdf4cb077a0f912c5">COL_CATEGORY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00714">res_config_sqlite3.c:714</a></div></div>
<div class="ttc" id="structcfg__entry__args_html_aec78000b2897c094f68ed72559e18acd"><div class="ttname"><a href="../../de/d37/structcfg__entry__args.html#aec78000b2897c094f68ed72559e18acd">cfg_entry_args::flags</a></div><div class="ttdeci">struct ast_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd3/res__config__sqlite_8c_source.html#l00188">res_config_sqlite.c:188</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="structcfg__entry__args_html_aed07742ca473475e764f354e18f785d7"><div class="ttname"><a href="../../de/d37/structcfg__entry__args.html#aed07742ca473475e764f354e18f785d7">cfg_entry_args::cfg</a></div><div class="ttdeci">struct ast_config * cfg</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd3/res__config__sqlite_8c_source.html#l00185">res_config_sqlite.c:185</a></div></div>
<div class="ttc" id="structcfg__entry__args_html_ac609ac3bda8695af295e0e0abfd3934f"><div class="ttname"><a href="../../de/d37/structcfg__entry__args.html#ac609ac3bda8695af295e0e0abfd3934f">cfg_entry_args::cat_name</a></div><div class="ttdeci">char * cat_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd3/res__config__sqlite_8c_source.html#l00187">res_config_sqlite.c:187</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a443d48ef4fc56410a31da8313b6e916eadbe6ef5e78c685b450cc5ca4441192c0"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916eadbe6ef5e78c685b450cc5ca4441192c0">COL_VAR_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00715">res_config_sqlite3.c:715</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a94ba5ab9fffe6dd755ee95db7ff2432f"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a94ba5ab9fffe6dd755ee95db7ff2432f">ast_category_destroy</a></div><div class="ttdeci">void ast_category_destroy(struct ast_category *cat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02847">extconf.c:2847</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a721d5cd60abda2bdd96838336dc09669"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a721d5cd60abda2bdd96838336dc09669">ast_config_internal_load</a></div><div class="ttdeci">struct ast_config * ast_config_internal_load(const char *configfile, struct ast_config *cfg, struct ast_flags flags, const char *suggested_incl_file, const char *who_asked)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03112">main/config.c:3112</a></div></div>
<div class="ttc" id="structcfg__entry__args_html_aefd64b78e9c3c182e9aba1a1bac01a33"><div class="ttname"><a href="../../de/d37/structcfg__entry__args.html#aefd64b78e9c3c182e9aba1a1bac01a33">cfg_entry_args::cat</a></div><div class="ttdeci">struct ast_category * cat</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd3/res__config__sqlite_8c_source.html#l00186">res_config_sqlite.c:186</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a66581086d34dfe7ea86b0644bacef239"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a></div><div class="ttdeci">#define ast_variable_new(name, value, filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">include/asterisk/config.h:914</a></div></div>
<div class="ttc" id="structcfg__entry__args_html_adf7e984f042083a8f38fc26293cbdb0b"><div class="ttname"><a href="../../de/d37/structcfg__entry__args.html#adf7e984f042083a8f38fc26293cbdb0b">cfg_entry_args::who_asked</a></div><div class="ttdeci">const char * who_asked</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd3/res__config__sqlite_8c_source.html#l00189">res_config_sqlite.c:189</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a443d48ef4fc56410a31da8313b6e916ea800e2edabff9628bd8131c8ab2c58670"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a443d48ef4fc56410a31da8313b6e916ea800e2edabff9628bd8131c8ab2c58670">COL_VAR_VAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00716">res_config_sqlite3.c:716</a></div></div>
<div class="ttc" id="structcfg__entry__args_html"><div class="ttname"><a href="../../de/d37/structcfg__entry__args.html">cfg_entry_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd3/res__config__sqlite_8c_source.html#l00184">res_config_sqlite.c:184</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structvalues_html"><div class="ttname"><a href="../../d2/d2b/structvalues.html">values</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00066">cdr_sqlite3_custom.c:66</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ae5deebf8bc8c13fdd4a4dad0110d8b9b"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ae5deebf8bc8c13fdd4a4dad0110d8b9b">ast_category_new_dynamic</a></div><div class="ttdeci">#define ast_category_new_dynamic(name)</div><div class="ttdoc">Create a category that is not backed by a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00832">include/asterisk/config.h:832</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a57a3200e5b440d7135eaf0450ea559fe"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a57a3200e5b440d7135eaf0450ea559fe">ast_variable_append</a></div><div class="ttdeci">void ast_variable_append(struct ast_category *category, struct ast_variable *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01178">extconf.c:1178</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aa422e1cc73c1ac4db7ed8cd1a0e36e1a"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aa422e1cc73c1ac4db7ed8cd1a0e36e1a">ast_category_append</a></div><div class="ttdeci">void ast_category_append(struct ast_config *config, struct ast_category *cat)</div><div class="ttdoc">Appends a category to a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02835">extconf.c:2835</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b72d1c376890c1942447732a2b672c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b72d1c376890c1942447732a2b672c6">&#9670;&nbsp;</a></span>stop_batch_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stop_batch_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00256">256</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00375">db_stop_batch()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01327">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a> = obj;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a6a8e2edcb2c6f25779c694a18778f350">db_stop_batch</a>(db);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_a6a8e2edcb2c6f25779c694a18778f350"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a6a8e2edcb2c6f25779c694a18778f350">db_stop_batch</a></div><div class="ttdeci">void db_stop_batch(struct realtime_sqlite3_db *db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00375">res_config_sqlite3.c:375</a></div></div>
<div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3409daf4c87fedacce04f347e0a41b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3409daf4c87fedacce04f347e0a41b9">&#9670;&nbsp;</a></span>str_cmp_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int str_cmp_fn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01146">1146</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01174">realtime_sqlite3_require()</a>.</p>
<div class="fragment"><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                                                       {</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;   <span class="keywordflow">return</span> !strcasecmp((<span class="keyword">const</span> <span class="keywordtype">char</span> *) obj, (<span class="keyword">const</span> <span class="keywordtype">char</span> *) arg);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a890b11c2381f91c6b3eaeb3dae5f6aa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a890b11c2381f91c6b3eaeb3dae5f6aa3">&#9670;&nbsp;</a></span>str_hash_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int str_hash_fn </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01141">1141</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l01206">ast_str_hash()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01174">realtime_sqlite3_require()</a>.</p>
<div class="fragment"><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;{</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *) obj);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;}</div><div class="ttc" id="strings_8h_html_a33ab7fa091d5513d8507d3bd33ef5b55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a></div><div class="ttdeci">static force_inline int attribute_pure ast_str_hash(const char *str)</div><div class="ttdoc">Compute a hash value on a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01206">strings.h:1206</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0c1ac98e5b7da311556399023e7f279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0c1ac98e5b7da311556399023e7f279">&#9670;&nbsp;</a></span>str_to_requirements()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int str_to_requirements </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00291">291</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00089">REALTIME_SQLITE3_REQ_CHAR</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00088">REALTIME_SQLITE3_REQ_CLOSE</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00087">REALTIME_SQLITE3_REQ_WARN</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00388">new_realtime_sqlite3_db()</a>.</p>
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;createclose&quot;</span>)) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a8782cb77eb4d2162c54749874d87a6a9">REALTIME_SQLITE3_REQ_CLOSE</a>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;createchar&quot;</span>)) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266ad13b13872cccfa764ec8de5729323b87">REALTIME_SQLITE3_REQ_CHAR</a>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <span class="comment">/* default */</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735">REALTIME_SQLITE3_REQ_WARN</a>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_a520f7027c256a9fbb1d1a7c278c3c266ad13b13872cccfa764ec8de5729323b87"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266ad13b13872cccfa764ec8de5729323b87">REALTIME_SQLITE3_REQ_CHAR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00089">res_config_sqlite3.c:89</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a0242c6d1e4798d46934b5cb630cff735">REALTIME_SQLITE3_REQ_WARN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00087">res_config_sqlite3.c:87</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a520f7027c256a9fbb1d1a7c278c3c266a8782cb77eb4d2162c54749874d87a6a9"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a520f7027c256a9fbb1d1a7c278c3c266a8782cb77eb4d2162c54749874d87a6a9">REALTIME_SQLITE3_REQ_CLOSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00088">res_config_sqlite3.c:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a964929bef3b1356ccfb25a5232e011f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a964929bef3b1356ccfb25a5232e011f3">&#9670;&nbsp;</a></span>trace_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trace_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>Since this is called while a query is executing, we should already hold the db lock </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00303">303</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">db</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">realtime_sqlite3_db::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00339">db_open()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00438">update_realtime_sqlite3_db()</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a> = arg;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;DB: %s SQL: %s\n&quot;</span>, db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, sql);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div><div class="ttc" id="structrealtime__sqlite3__db_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#ace9168767fc3707cf5f0a7d049682ba3">realtime_sqlite3_db::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">res_config_sqlite3.c:96</a></div></div>
<div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adb60172adc5ec119f39411f4515ed3ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb60172adc5ec119f39411f4515ed3ce">&#9670;&nbsp;</a></span>unlink_dirty_databases()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unlink_dirty_databases </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00286">286</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00276">is_dirty_cb()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">parse_config()</a>.</p>
<div class="fragment"><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;{</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(<a class="code" href="../../db/d33/structdatabases.html">databases</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a0ff54be3ac785d7c0d951ab9b26859ba">is_dirty_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a0ff54be3ac785d7c0d951ab9b26859ba"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a0ff54be3ac785d7c0d951ab9b26859ba">is_dirty_cb</a></div><div class="ttdeci">static int is_dirty_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00276">res_config_sqlite3.c:276</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structdatabases_html"><div class="ttname"><a href="../../db/d33/structdatabases.html">databases</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d18/res__config__mysql_8c_source.html#l00118">res_config_mysql.c:118</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01327">1327</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03006">ast_config_engine_deregister()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00113">config_lock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00256">stop_batch_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01372">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;{</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a502fc4d80b1f4d10bc516dbd85f9bd93">config_lock</a>);</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(<a class="code" href="../../db/d33/structdatabases.html">databases</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a1b72d1c376890c1942447732a2b672c6">stop_batch_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../db/d33/structdatabases.html">databases</a>, -1);</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;   <a class="code" href="../../db/d33/structdatabases.html">databases</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a7028ff4b11d7167ee4030b4d3e123d76">ast_config_engine_deregister</a>(&amp;<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ae604551e630c5d2bd5f24d75b58c4210">sqlite3_config_engine</a>);</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a502fc4d80b1f4d10bc516dbd85f9bd93">config_lock</a>);</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a7028ff4b11d7167ee4030b4d3e123d76"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a7028ff4b11d7167ee4030b4d3e123d76">ast_config_engine_deregister</a></div><div class="ttdeci">int ast_config_engine_deregister(struct ast_config_engine *del)</div><div class="ttdoc">Deregister config engine. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03006">main/config.c:3006</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a1b72d1c376890c1942447732a2b672c6"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a1b72d1c376890c1942447732a2b672c6">stop_batch_cb</a></div><div class="ttdeci">static int stop_batch_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00256">res_config_sqlite3.c:256</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_ae604551e630c5d2bd5f24d75b58c4210"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#ae604551e630c5d2bd5f24d75b58c4210">sqlite3_config_engine</a></div><div class="ttdeci">struct ast_config_engine sqlite3_config_engine</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00073">res_config_sqlite3.c:73</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structdatabases_html"><div class="ttname"><a href="../../db/d33/structdatabases.html">databases</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d18/res__config__mysql_8c_source.html#l00118">res_config_mysql.c:118</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a502fc4d80b1f4d10bc516dbd85f9bd93"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a502fc4d80b1f4d10bc516dbd85f9bd93">config_lock</a></div><div class="ttdeci">static ast_mutex_t config_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00113">res_config_sqlite3.c:113</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b60cd5f33220b8a0d24092b6e8e6932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b60cd5f33220b8a0d24092b6e8e6932">&#9670;&nbsp;</a></span>unref_db()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unref_db </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> **&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00250">250</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00310">db_sync_thread()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00388">new_realtime_sqlite3_db()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">parse_config()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01174">realtime_sqlite3_require()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00438">update_realtime_sqlite3_db()</a>.</p>
<div class="fragment"><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;{</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(*db, -1);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   *db = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5dd729213779e779cc10422b2f7c9dfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dd729213779e779cc10422b2f7c9dfb">&#9670;&nbsp;</a></span>update_realtime_sqlite3_db()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int update_realtime_sqlite3_db </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update an existing db object based on config data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database object to update </td></tr>
    <tr><td class="paramname">config</td><td>The configuration data with which to update the db </td></tr>
    <tr><td class="paramname">cat</td><td>The config category (which becomes db-&gt;name) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00438">438</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00106">realtime_sqlite3_db::batch</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00107">realtime_sqlite3_db::busy_timeout</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00339">db_open()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00366">db_start_batch()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00375">db_stop_batch()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00102">realtime_sqlite3_db::debug</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00101">realtime_sqlite3_db::dirty</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">realtime_sqlite3_db::filename</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00097">realtime_sqlite3_db::handle</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00388">new_realtime_sqlite3_db()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00100">realtime_sqlite3_db::requirements</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00303">trace_cb()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00250">unref_db()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">parse_config()</a>.</p>
<div class="fragment"><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;{</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a> *<span class="keyword">new</span>;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   <span class="keywordflow">if</span> (!(<span class="keyword">new</span> = <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a422f608cacb776499f3e9efda7a3aa64">new_realtime_sqlite3_db</a>(config, cat))) {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   <span class="comment">/* Copy fields that don&#39;t need anything special done on change */</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a0c066eb4daa08077a2e57993f4d93ce4">requirements</a> = <span class="keyword">new</span>-&gt;requirements;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <span class="comment">/* Handle changes that require immediate behavior modification */</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#aa3770535f39c67ca0811e27731893370">debug</a> != new-&gt;debug) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#aa3770535f39c67ca0811e27731893370">debug</a>) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;         sqlite3_trace(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;         sqlite3_trace(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>, <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a964929bef3b1356ccfb25a5232e011f3">trace_cb</a>, db);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#aa3770535f39c67ca0811e27731893370">debug</a> = <span class="keyword">new</span>-&gt;debug;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   <span class="keywordflow">if</span> (strcmp(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a92ddab484445475c5d620ad49e029420">filename</a>, new-&gt;filename)) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      sqlite3_close(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(db, <a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a92ddab484445475c5d620ad49e029420">filename</a>, new-&gt;filename);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#ab79157fcf243c6bc3ef36e95c1f6d16d">db_open</a>(db); <span class="comment">/* Also handles setting appropriate debug on new handle */</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ab4d887c2870703db99fa4f5ae8274f44">busy_timeout</a> != new-&gt;busy_timeout) {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ab4d887c2870703db99fa4f5ae8274f44">busy_timeout</a> = <span class="keyword">new</span>-&gt;busy_timeout;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      sqlite3_busy_timeout(db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">handle</a>, db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#ab4d887c2870703db99fa4f5ae8274f44">busy_timeout</a>);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">batch</a> != new-&gt;batch) {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="keywordflow">if</span> (db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">batch</a> == 0) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;         db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">batch</a> = <span class="keyword">new</span>-&gt;batch;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;         <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#af913dd2c24ca1df52a8d319dac3e6ddd">db_start_batch</a>(db);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new-&gt;batch == 0) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;         db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">batch</a> = <span class="keyword">new</span>-&gt;batch;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;         <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a6a8e2edcb2c6f25779c694a18778f350">db_stop_batch</a>(db);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">batch</a> = <span class="keyword">new</span>-&gt;batch;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   db-&gt;<a class="code" href="../../dc/db9/structrealtime__sqlite3__db.html#a930a1ab0130f619f847727300b9d156a">dirty</a> = 0;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   <a class="code" href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a>(&amp;<span class="keyword">new</span>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;}</div><div class="ttc" id="res__config__sqlite3_8c_html_ab79157fcf243c6bc3ef36e95c1f6d16d"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#ab79157fcf243c6bc3ef36e95c1f6d16d">db_open</a></div><div class="ttdeci">static int db_open(struct realtime_sqlite3_db *db)</div><div class="ttdoc">Open a database and appropriately set debugging on the db handle. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00339">res_config_sqlite3.c:339</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a422f608cacb776499f3e9efda7a3aa64"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a422f608cacb776499f3e9efda7a3aa64">new_realtime_sqlite3_db</a></div><div class="ttdeci">static struct realtime_sqlite3_db * new_realtime_sqlite3_db(struct ast_config *config, const char *cat)</div><div class="ttdoc">Create a db object based on a config category. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00388">res_config_sqlite3.c:388</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_aa3770535f39c67ca0811e27731893370"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#aa3770535f39c67ca0811e27731893370">realtime_sqlite3_db::debug</a></div><div class="ttdeci">unsigned int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00102">res_config_sqlite3.c:102</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a6a8e2edcb2c6f25779c694a18778f350"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a6a8e2edcb2c6f25779c694a18778f350">db_stop_batch</a></div><div class="ttdeci">void db_stop_batch(struct realtime_sqlite3_db *db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00375">res_config_sqlite3.c:375</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a964929bef3b1356ccfb25a5232e011f3"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a964929bef3b1356ccfb25a5232e011f3">trace_cb</a></div><div class="ttdeci">static void trace_cb(void *arg, const char *sql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00303">res_config_sqlite3.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a930a1ab0130f619f847727300b9d156a"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a930a1ab0130f619f847727300b9d156a">realtime_sqlite3_db::dirty</a></div><div class="ttdeci">unsigned int dirty</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00101">res_config_sqlite3.c:101</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_a4b60cd5f33220b8a0d24092b6e8e6932"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#a4b60cd5f33220b8a0d24092b6e8e6932">unref_db</a></div><div class="ttdeci">static void unref_db(struct realtime_sqlite3_db **db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00250">res_config_sqlite3.c:250</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a80c18fe10b90a145c3d7ce6d20183359"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a80c18fe10b90a145c3d7ce6d20183359">realtime_sqlite3_db::handle</a></div><div class="ttdeci">sqlite3 * handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00097">res_config_sqlite3.c:97</a></div></div>
<div class="ttc" id="res__config__sqlite3_8c_html_af913dd2c24ca1df52a8d319dac3e6ddd"><div class="ttname"><a href="../../d6/dbf/res__config__sqlite3_8c.html#af913dd2c24ca1df52a8d319dac3e6ddd">db_start_batch</a></div><div class="ttdeci">void db_start_batch(struct realtime_sqlite3_db *db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00366">res_config_sqlite3.c:366</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_ab4d887c2870703db99fa4f5ae8274f44"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#ab4d887c2870703db99fa4f5ae8274f44">realtime_sqlite3_db::busy_timeout</a></div><div class="ttdeci">int busy_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00107">res_config_sqlite3.c:107</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a0c066eb4daa08077a2e57993f4d93ce4"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a0c066eb4daa08077a2e57993f4d93ce4">realtime_sqlite3_db::requirements</a></div><div class="ttdeci">unsigned int requirements</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00100">res_config_sqlite3.c:100</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a5d5976ec47beec8afba58daf3a6ac1c1"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a5d5976ec47beec8afba58daf3a6ac1c1">realtime_sqlite3_db::batch</a></div><div class="ttdeci">unsigned int batch</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00106">res_config_sqlite3.c:106</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html_a92ddab484445475c5d620ad49e029420"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html#a92ddab484445475c5d620ad49e029420">realtime_sqlite3_db::filename</a></div><div class="ttdeci">const ast_string_field filename</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00096">res_config_sqlite3.c:96</a></div></div>
<div class="ttc" id="structrealtime__sqlite3__db_html"><div class="ttname"><a href="../../dc/db9/structrealtime__sqlite3__db.html">realtime_sqlite3_db</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00092">res_config_sqlite3.c:92</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;SQLite 3 realtime <a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a> engine&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .reload = reload, .load_pri = AST_MODPRI_REALTIME_DRIVER, .requires = &quot;extconfig&quot;, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01403">1403</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01403">1403</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

</div>
</div>
<a id="a502fc4d80b1f4d10bc516dbd85f9bd93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a502fc4d80b1f4d10bc516dbd85f9bd93">&#9670;&nbsp;</a></span>config_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> config_lock = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00113">113</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01262">parse_config()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01327">unload_module()</a>.</p>

</div>
</div>
<a id="ae7f338d7f6ee6377d37e46a1509ecd8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7f338d7f6ee6377d37e46a1509ecd8f">&#9670;&nbsp;</a></span>databases</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* <a class="el" href="../../db/d33/structdatabases.html">databases</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00110">110</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

</div>
</div>
<a id="abf739143dddc253c0a1aa718a909b7a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf739143dddc253c0a1aa718a909b7a8">&#9670;&nbsp;</a></span>escape_column_buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> escape_column_buf = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a63e068f6c8e595e6b44a4a9228ec17ee">__init_escape_column_buf</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00117">117</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00167">sqlite3_escape_column()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00173">sqlite3_escape_column_op()</a>.</p>

</div>
</div>
<a id="a11fd2e5f4df65ff24b771080564d4772"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11fd2e5f4df65ff24b771080564d4772">&#9670;&nbsp;</a></span>escape_table_buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> escape_table_buf = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a8891ceefa86da2df4669df7fbb7c37ee">__init_escape_table_buf</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00116">116</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00162">sqlite3_escape_table()</a>.</p>

</div>
</div>
<a id="af82ec768da4f8b68400844a230dc4f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af82ec768da4f8b68400844a230dc4f22">&#9670;&nbsp;</a></span>escape_value_buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> escape_value_buf = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d6/dbf/res__config__sqlite3_8c.html#a70701ef09e2dd328e8b28c8288224a84">__init_escape_value_buf</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00118">118</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00130">sqlite3_escape_string_helper()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00212">sqlite3_escape_value()</a>.</p>

</div>
</div>
<a id="ac54109c9752fdd0497e42276eb6d4eec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac54109c9752fdd0497e42276eb6d4eec">&#9670;&nbsp;</a></span>has_explicit_like_escaping</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int has_explicit_like_escaping</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00061">61</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l01339">discover_sqlite3_caps()</a>, and <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00799">realtime_sqlite3_helper()</a>.</p>

</div>
</div>
<a id="ae604551e630c5d2bd5f24d75b58c4210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae604551e630c5d2bd5f24d75b58c4210">&#9670;&nbsp;</a></span>sqlite3_config_engine</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/d26/structast__config__engine.html">ast_config_engine</a> sqlite3_config_engine</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00073">73</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

</div>
</div>
<a id="a8867f0ca25d934ad7945ec1b34106236"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8867f0ca25d934ad7945ec1b34106236">&#9670;&nbsp;</a></span>static_sql</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* static_sql = &quot;SELECT category, var_name, var_val FROM \&quot;%q\&quot; WHERE filename = %Q AND commented = 0 ORDER BY cat_metric ASC, var_metric ASC&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>It is important that the COL_* enum matches the order of the columns selected in static_sql </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00712">712</a> of file <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html">res_config_sqlite3.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00768">realtime_sqlite3_load()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:23 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
