<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: stasis_test.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">stasis_test.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Test infrastructure for dealing with Stasis.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d79/stasis_8h_source.html">asterisk/stasis.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for stasis_test.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d56/stasis__test_8h__incl.png" border="0" usemap="#stasis__test_8h" alt=""/></div>
<map name="stasis__test_8h" id="stasis__test_8h">
<area shape="rect" id="node2" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="336,229,449,256"/>
<area shape="rect" id="node16" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="639,80,765,107"/>
<area shape="rect" id="node4" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="85,304,148,331"/>
<area shape="rect" id="node8" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="266,379,413,405"/>
<area shape="rect" id="node11" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="460,304,611,331"/>
<area shape="rect" id="node12" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1001,304,1128,331"/>
<area shape="rect" id="node14" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="635,304,777,331"/>
<area shape="rect" id="node5" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="373,453,527,480"/>
<area shape="rect" id="node13" href="../../d7/d5b/options_8h.html" title="Options provided by main asterisk program. " alt="" coords="717,379,852,405"/>
<area shape="rect" id="node17" href="../../d4/d05/json_8h.html" title="Asterisk JSON abstraction layer. " alt="" coords="1143,155,1258,181"/>
<area shape="rect" id="node19" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="629,155,775,181"/>
<area shape="rect" id="node23" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="430,155,545,181"/>
<area shape="rect" id="node24" href="../../dd/d20/event_8h.html" title="asterisk/event.h" alt="" coords="919,155,1043,181"/>
<area shape="rect" id="node18" href="../../db/df1/netsock2_8h.html" title="Network socket handling. " alt="" coords="1205,229,1351,256"/>
<area shape="rect" id="node20" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="525,229,663,256"/>
<area shape="rect" id="node21" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="688,229,839,256"/>
<area shape="rect" id="node22" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="863,229,997,256"/>
<area shape="rect" id="node25" href="../../d6/d37/event__defs_8h.html" title="Generic event system. " alt="" coords="1021,229,1180,256"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d91/stasis__test_8h__dep__incl.png" border="0" usemap="#stasis__test_8hdep" alt=""/></div>
<map name="stasis__test_8hdep" id="stasis__test_8hdep">
<area shape="rect" id="node2" href="../../da/dca/res__stasis__test_8c.html" title="Test infrastructure for dealing with Stasis. " alt="" coords="5,80,135,107"/>
<area shape="rect" id="node3" href="../../d5/d3c/test__stasis__endpoints_8c.html" title="Test endpoints. " alt="" coords="159,80,331,107"/>
</map>
</div>
</div>
<p><a href="../../d6/d31/stasis__test_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure that collects messages from a topic.  <a href="../../d1/db7/structstasis__message__sink.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a103860a3f1a266f9f379fe4d1ae7285e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d31/stasis__test_8h.html#a103860a3f1a266f9f379fe4d1ae7285e">STASIS_SINK_DEFAULT_WAIT</a>&#160;&#160;&#160;5000</td></tr>
<tr class="separator:a103860a3f1a266f9f379fe4d1ae7285e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2ff062ff74f4e2e0b3d2d616a0809321"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d31/stasis__test_8h.html#a2ff062ff74f4e2e0b3d2d616a0809321">stasis_wait_cb</a>) (struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg, const void *data)</td></tr>
<tr class="separator:a2ff062ff74f4e2e0b3d2d616a0809321"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aed5dc93cef18d85a7ad8e49f803fe860"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d79/stasis_8h.html#a2b7854b4fb538be6f885943a24d60c8f">stasis_subscription_cb</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d31/stasis__test_8h.html#aed5dc93cef18d85a7ad8e49f803fe860">stasis_message_sink_cb</a> (void)</td></tr>
<tr class="memdesc:aed5dc93cef18d85a7ad8e49f803fe860"><td class="mdescLeft">&#160;</td><td class="mdescRight">Topic callback to receive messages.  <a href="#aed5dc93cef18d85a7ad8e49f803fe860">More...</a><br /></td></tr>
<tr class="separator:aed5dc93cef18d85a7ad8e49f803fe860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cbf24ef1829924094bca0c90ee2e933"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d31/stasis__test_8h.html#a7cbf24ef1829924094bca0c90ee2e933">stasis_message_sink_create</a> (void)</td></tr>
<tr class="memdesc:a7cbf24ef1829924094bca0c90ee2e933"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a message sink.  <a href="#a7cbf24ef1829924094bca0c90ee2e933">More...</a><br /></td></tr>
<tr class="separator:a7cbf24ef1829924094bca0c90ee2e933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bcb44162d4355ad60ec420b1cef2cb7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d31/stasis__test_8h.html#a0bcb44162d4355ad60ec420b1cef2cb7">stasis_message_sink_should_stay</a> (struct <a class="el" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a> *sink, int num_messages, int timeout_millis)</td></tr>
<tr class="memdesc:a0bcb44162d4355ad60ec420b1cef2cb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensures that no new messages are received.  <a href="#a0bcb44162d4355ad60ec420b1cef2cb7">More...</a><br /></td></tr>
<tr class="separator:a0bcb44162d4355ad60ec420b1cef2cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d88a9f84cee5cc16fbab577bbeeeaa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d31/stasis__test_8h.html#ab3d88a9f84cee5cc16fbab577bbeeeaa">stasis_message_sink_wait_for</a> (struct <a class="el" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a> *sink, int start, <a class="el" href="../../d6/d31/stasis__test_8h.html#a2ff062ff74f4e2e0b3d2d616a0809321">stasis_wait_cb</a> cmp_cb, const void *data, int timeout_millis)</td></tr>
<tr class="memdesc:ab3d88a9f84cee5cc16fbab577bbeeeaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for a message that matches the given criteria.  <a href="#ab3d88a9f84cee5cc16fbab577bbeeeaa">More...</a><br /></td></tr>
<tr class="separator:ab3d88a9f84cee5cc16fbab577bbeeeaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa22cd15a52dfd21c087bc817c2e5845d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d31/stasis__test_8h.html#aa22cd15a52dfd21c087bc817c2e5845d">stasis_message_sink_wait_for_count</a> (struct <a class="el" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a> *sink, int num_messages, int timeout_millis)</td></tr>
<tr class="memdesc:aa22cd15a52dfd21c087bc817c2e5845d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for a sink's num_messages field to reach a certain level.  <a href="#aa22cd15a52dfd21c087bc817c2e5845d">More...</a><br /></td></tr>
<tr class="separator:aa22cd15a52dfd21c087bc817c2e5845d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5abf633202a5c4e0caec70cf8df00047"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5abf633202a5c4e0caec70cf8df00047">stasis_test_message_create</a> (void)</td></tr>
<tr class="memdesc:ga5abf633202a5c4e0caec70cf8df00047"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a test message.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#ga5abf633202a5c4e0caec70cf8df00047">More...</a><br /></td></tr>
<tr class="separator:ga5abf633202a5c4e0caec70cf8df00047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0a46c6b720362854b798adef799ce78"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaa0a46c6b720362854b798adef799ce78">stasis_test_message_type</a> (void)</td></tr>
<tr class="memdesc:gaa0a46c6b720362854b798adef799ce78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the type of messages created by <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5abf633202a5c4e0caec70cf8df00047" title="Creates a test message. ">stasis_test_message_create()</a>.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#gaa0a46c6b720362854b798adef799ce78">More...</a><br /></td></tr>
<tr class="separator:gaa0a46c6b720362854b798adef799ce78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Test infrastructure for dealing with Stasis. </p>
<dl class="section author"><dt>Author</dt><dd>David M. Lee, II <a href="#" onclick="location.href='mai'+'lto:'+'dle'+'e@'+'dig'+'iu'+'m.c'+'om'; return false;">dlee@<span style="display: none;">.nosp@m.</span>digi<span style="display: none;">.nosp@m.</span>um.co<span style="display: none;">.nosp@m.</span>m</a></dd></dl>
<p>This file contains some helpful utilities for testing Stasis related topics and messages. The <a class="el" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a> is something you can subscribe to a topic which will receive all of the messages from the topic. This messages are accumulated in its <code>messages</code> field.</p>
<p>There are a set of wait functions (<a class="el" href="../../d6/d31/stasis__test_8h.html#aa22cd15a52dfd21c087bc817c2e5845d" title="Wait for a sink&#39;s num_messages field to reach a certain level. ">stasis_message_sink_wait_for_count()</a>, <a class="el" href="../../d6/d31/stasis__test_8h.html#ab3d88a9f84cee5cc16fbab577bbeeeaa" title="Wait for a message that matches the given criteria. ">stasis_message_sink_wait_for()</a>, etc.) which will block waiting for conditions to be met in the <a class="el" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a>. </p>

<p class="definition">Definition in file <a class="el" href="../../d6/d31/stasis__test_8h_source.html">stasis_test.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a103860a3f1a266f9f379fe4d1ae7285e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a103860a3f1a266f9f379fe4d1ae7285e">&#9670;&nbsp;</a></span>STASIS_SINK_DEFAULT_WAIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STASIS_SINK_DEFAULT_WAIT&#160;&#160;&#160;5000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d31/stasis__test_8h_source.html#l00041">41</a> of file <a class="el" href="../../d6/d31/stasis__test_8h_source.html">stasis_test.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00070">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a2ff062ff74f4e2e0b3d2d616a0809321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff062ff74f4e2e0b3d2d616a0809321">&#9670;&nbsp;</a></span>stasis_wait_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* stasis_wait_cb) (struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg, const void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d31/stasis__test_8h_source.html#l00095">95</a> of file <a class="el" href="../../d6/d31/stasis__test_8h_source.html">stasis_test.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aed5dc93cef18d85a7ad8e49f803fe860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed5dc93cef18d85a7ad8e49f803fe860">&#9670;&nbsp;</a></span>stasis_message_sink_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d79/stasis_8h.html#a2b7854b4fb538be6f885943a24d60c8f">stasis_subscription_cb</a> stasis_message_sink_cb </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Topic callback to receive messages. </p>
<p>We return a function pointer instead of simply exposing the function because of the vagaries of dlopen(), <code>RTLD_LAZY</code>, and function pointers. See the comment on the implementation for details why.</p>
<dl class="section return"><dt>Returns</dt><dd>Function pointer to <a class="el" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a>'s message handling function </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00143">143</a> of file <a class="el" href="../../da/dca/res__stasis__test_8c_source.html">res_stasis_test.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00108">message_sink_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00070">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/dca/res__stasis__test_8c.html#a3dc12c9df35267a85e65b120956cc809">message_sink_cb</a>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div><div class="ttc" id="res__stasis__test_8c_html_a3dc12c9df35267a85e65b120956cc809"><div class="ttname"><a href="../../da/dca/res__stasis__test_8c.html#a3dc12c9df35267a85e65b120956cc809">message_sink_cb</a></div><div class="ttdeci">static void message_sink_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdoc">Implementation of the stasis_message_sink_cb() callback. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dca/res__stasis__test_8c_source.html#l00108">res_stasis_test.c:108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7cbf24ef1829924094bca0c90ee2e933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cbf24ef1829924094bca0c90ee2e933">&#9670;&nbsp;</a></span>stasis_message_sink_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a>* stasis_message_sink_create </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a message sink. </p>
<p>This is an AO2 managed object, which you <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a> when done. The destructor waits for an unsubscribe message to be received, to ensure the object isn't disposed of before the topic is finished. </p>

<p class="definition">Definition at line <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00079">79</a> of file <a class="el" href="../../da/dca/res__stasis__test_8c_source.html">res_stasis_test.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00199">ast_cond_init</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00184">ast_mutex_init</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00039">stasis_message_sink_dtor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00070">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a> *, sink, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   sink = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*sink), <a class="code" href="../../da/dca/res__stasis__test_8c.html#a9aaa11026150e5bc050702005327a25d">stasis_message_sink_dtor</a>);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <span class="keywordflow">if</span> (!sink) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;sink-&gt;lock);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a>(&amp;sink-&gt;cond, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   sink-&gt;max_messages = 4;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;   sink-&gt;messages =</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(*sink-&gt;messages) * sink-&gt;max_messages);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <span class="keywordflow">if</span> (!sink-&gt;messages) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(sink, +1);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;   <span class="keywordflow">return</span> sink;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div><div class="ttc" id="structstasis__message__sink_html"><div class="ttname"><a href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a></div><div class="ttdoc">Structure that collects messages from a topic. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/stasis__test_8h_source.html#l00044">stasis_test.h:44</a></div></div>
<div class="ttc" id="lock_8h_html_a69e9591803d36f5683eb9b084442be9b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a></div><div class="ttdeci">#define ast_cond_init(cond, attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00199">lock.h:199</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="res__stasis__test_8c_html_a9aaa11026150e5bc050702005327a25d"><div class="ttname"><a href="../../da/dca/res__stasis__test_8c.html#a9aaa11026150e5bc050702005327a25d">stasis_message_sink_dtor</a></div><div class="ttdeci">static void stasis_message_sink_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dca/res__stasis__test_8c_source.html#l00039">res_stasis_test.c:39</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="lock_8h_html_a76e8ed6bb354be6c6dd9e51acc1d7a1b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a></div><div class="ttdeci">#define ast_mutex_init(pmutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00184">lock.h:184</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0bcb44162d4355ad60ec420b1cef2cb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bcb44162d4355ad60ec420b1cef2cb7">&#9670;&nbsp;</a></span>stasis_message_sink_should_stay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_message_sink_should_stay </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a> *&#160;</td>
          <td class="paramname"><em>sink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_messages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_millis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ensures that no new messages are received. </p>
<p>The optional timeout prevents complete deadlock in a test.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sink</td><td>Sink to wait on. </td></tr>
    <tr><td class="paramname">num_messages</td><td>expecte <em>sink-&gt;num_messages</em>. </td></tr>
    <tr><td class="paramname">timeout_millis</td><td>Number of milliseconds to wait for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Actual sink-&gt;num_messages value at return. If this is &lt; <em>num_messages</em>, then the timeout expired. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00170">170</a> of file <a class="el" href="../../da/dca/res__stasis__test_8c_source.html">res_stasis_test.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00204">ast_cond_timedwait</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d31/stasis__test_8h_source.html#l00048">stasis_message_sink::cond</a>, <a class="el" href="../../d6/d31/stasis__test_8h_source.html#l00046">stasis_message_sink::lock</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00063">make_deadline()</a>, <a class="el" href="../../d6/d31/stasis__test_8h_source.html#l00053">stasis_message_sink::num_messages</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00587">SCOPED_MUTEX</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <span class="keyword">struct </span>timespec deadline = <a class="code" href="../../da/dca/res__stasis__test_8c.html#a697ee0eea34570cb67e9b4ab805e03c9">make_deadline</a>(timeout_millis);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab13590ad27fac3b9c7c7b792c603c9b3">SCOPED_MUTEX</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <span class="keywordflow">while</span> (sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#ab011c00a1ee07d6bccad0127c0130dd5">num_messages</a> == num_messages) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordtype">int</span> r = <a class="code" href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a>(&amp;sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, &amp;sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;deadline);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">if</span> (r == ETIMEDOUT) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keywordflow">if</span> (r != 0) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unexpected condition error: %s\n&quot;</span>,</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            strerror(r));</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   <span class="keywordflow">return</span> sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#ab011c00a1ee07d6bccad0127c0130dd5">num_messages</a>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div><div class="ttc" id="structstasis__message__sink_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../d1/db7/structstasis__message__sink.html#a1c7181c39f99ee801943a0d0aa9872b9">stasis_message_sink::cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/stasis__test_8h_source.html#l00048">stasis_test.h:48</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="lock_8h_html_ab13590ad27fac3b9c7c7b792c603c9b3"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab13590ad27fac3b9c7c7b792c603c9b3">SCOPED_MUTEX</a></div><div class="ttdeci">#define SCOPED_MUTEX(varname, lock)</div><div class="ttdoc">scoped lock specialization for mutexes </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00587">lock.h:587</a></div></div>
<div class="ttc" id="structstasis__message__sink_html_ab011c00a1ee07d6bccad0127c0130dd5"><div class="ttname"><a href="../../d1/db7/structstasis__message__sink.html#ab011c00a1ee07d6bccad0127c0130dd5">stasis_message_sink::num_messages</a></div><div class="ttdeci">size_t num_messages</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/stasis__test_8h_source.html#l00053">stasis_test.h:53</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__stasis__test_8c_html_a697ee0eea34570cb67e9b4ab805e03c9"><div class="ttname"><a href="../../da/dca/res__stasis__test_8c.html#a697ee0eea34570cb67e9b4ab805e03c9">make_deadline</a></div><div class="ttdeci">static struct timespec make_deadline(int timeout_millis)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dca/res__stasis__test_8c_source.html#l00063">res_stasis_test.c:63</a></div></div>
<div class="ttc" id="structstasis__message__sink_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d1/db7/structstasis__message__sink.html#adf04f66344e3fb0a6f6a69bf39d19902">stasis_message_sink::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/stasis__test_8h_source.html#l00046">stasis_test.h:46</a></div></div>
<div class="ttc" id="lock_8h_html_a6add1f30b2d53ca9384b15529a6f126e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a></div><div class="ttdeci">#define ast_cond_timedwait(cond, mutex, time)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00204">lock.h:204</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3d88a9f84cee5cc16fbab577bbeeeaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d88a9f84cee5cc16fbab577bbeeeaa">&#9670;&nbsp;</a></span>stasis_message_sink_wait_for()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_message_sink_wait_for </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a> *&#160;</td>
          <td class="paramname"><em>sink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d31/stasis__test_8h.html#a2ff062ff74f4e2e0b3d2d616a0809321">stasis_wait_cb</a>&#160;</td>
          <td class="paramname"><em>cmp_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_millis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for a message that matches the given criteria. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sink</td><td>Sink to wait on. </td></tr>
    <tr><td class="paramname">start</td><td>Index of message to start with. </td></tr>
    <tr><td class="paramname">cmp_cb</td><td>comparison function. This returns true (non-zero) on match and false (zero) on match. </td></tr>
    <tr><td class="paramname">timeout_millis</td><td>Number of milliseconds to wait. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Index of the matching message. </dd>
<dd>
Negative for no match. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00191">191</a> of file <a class="el" href="../../da/dca/res__stasis__test_8c_source.html">res_stasis_test.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00204">ast_cond_timedwait</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d31/stasis__test_8h_source.html#l00048">stasis_message_sink::cond</a>, <a class="el" href="../../d6/d31/stasis__test_8h_source.html#l00046">stasis_message_sink::lock</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00063">make_deadline()</a>, <a class="el" href="../../d6/d31/stasis__test_8h_source.html#l00057">stasis_message_sink::messages</a>, <a class="el" href="../../d6/d31/stasis__test_8h_source.html#l00053">stasis_message_sink::num_messages</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00587">SCOPED_MUTEX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00126">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;{</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <span class="keyword">struct </span>timespec deadline = <a class="code" href="../../da/dca/res__stasis__test_8c.html#a697ee0eea34570cb67e9b4ab805e03c9">make_deadline</a>(timeout_millis);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab13590ad27fac3b9c7c7b792c603c9b3">SCOPED_MUTEX</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <span class="comment">/* wait for the start */</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="keywordflow">while</span> (sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#ab011c00a1ee07d6bccad0127c0130dd5">num_messages</a> &lt; start + 1) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordtype">int</span> r = <a class="code" href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a>(&amp;sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, &amp;sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;deadline);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">if</span> (r == ETIMEDOUT) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;         <span class="comment">/* Timed out waiting for the start */</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">if</span> (r != 0) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unexpected condition error: %s\n&quot;</span>,</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            strerror(r));</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;         <span class="keywordflow">return</span> -2;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   <span class="keywordflow">while</span> (!cmp_cb(sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#a7657d3ac0a1e4b72fd1f8db2e0cc56cb">messages</a>[start], data)) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      ++start;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">while</span> (sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#ab011c00a1ee07d6bccad0127c0130dd5">num_messages</a> &lt; start + 1) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;         <span class="keywordtype">int</span> r = <a class="code" href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a>(&amp;sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>,</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            &amp;sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;deadline);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;         <span class="keywordflow">if</span> (r == ETIMEDOUT) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;         }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;         <span class="keywordflow">if</span> (r != 0) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;               <span class="stringliteral">&quot;Unexpected condition error: %s\n&quot;</span>,</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;               strerror(r));</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">return</span> -2;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;         }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="keywordflow">return</span> start;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div><div class="ttc" id="structstasis__message__sink_html_a7657d3ac0a1e4b72fd1f8db2e0cc56cb"><div class="ttname"><a href="../../d1/db7/structstasis__message__sink.html#a7657d3ac0a1e4b72fd1f8db2e0cc56cb">stasis_message_sink::messages</a></div><div class="ttdeci">struct stasis_message ** messages</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/stasis__test_8h_source.html#l00057">stasis_test.h:57</a></div></div>
<div class="ttc" id="structstasis__message__sink_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../d1/db7/structstasis__message__sink.html#a1c7181c39f99ee801943a0d0aa9872b9">stasis_message_sink::cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/stasis__test_8h_source.html#l00048">stasis_test.h:48</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="lock_8h_html_ab13590ad27fac3b9c7c7b792c603c9b3"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab13590ad27fac3b9c7c7b792c603c9b3">SCOPED_MUTEX</a></div><div class="ttdeci">#define SCOPED_MUTEX(varname, lock)</div><div class="ttdoc">scoped lock specialization for mutexes </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00587">lock.h:587</a></div></div>
<div class="ttc" id="structstasis__message__sink_html_ab011c00a1ee07d6bccad0127c0130dd5"><div class="ttname"><a href="../../d1/db7/structstasis__message__sink.html#ab011c00a1ee07d6bccad0127c0130dd5">stasis_message_sink::num_messages</a></div><div class="ttdeci">size_t num_messages</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/stasis__test_8h_source.html#l00053">stasis_test.h:53</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__stasis__test_8c_html_a697ee0eea34570cb67e9b4ab805e03c9"><div class="ttname"><a href="../../da/dca/res__stasis__test_8c.html#a697ee0eea34570cb67e9b4ab805e03c9">make_deadline</a></div><div class="ttdeci">static struct timespec make_deadline(int timeout_millis)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dca/res__stasis__test_8c_source.html#l00063">res_stasis_test.c:63</a></div></div>
<div class="ttc" id="structstasis__message__sink_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d1/db7/structstasis__message__sink.html#adf04f66344e3fb0a6f6a69bf39d19902">stasis_message_sink::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/stasis__test_8h_source.html#l00046">stasis_test.h:46</a></div></div>
<div class="ttc" id="lock_8h_html_a6add1f30b2d53ca9384b15529a6f126e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a></div><div class="ttdeci">#define ast_cond_timedwait(cond, mutex, time)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00204">lock.h:204</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa22cd15a52dfd21c087bc817c2e5845d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa22cd15a52dfd21c087bc817c2e5845d">&#9670;&nbsp;</a></span>stasis_message_sink_wait_for_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_message_sink_wait_for_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/db7/structstasis__message__sink.html">stasis_message_sink</a> *&#160;</td>
          <td class="paramname"><em>sink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_messages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_millis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for a sink's num_messages field to reach a certain level. </p>
<p>The optional timeout prevents complete deadlock in a test.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sink</td><td>Sink to wait on. </td></tr>
    <tr><td class="paramname">num_messages</td><td>sink-&gt;num_messages value to wait for. </td></tr>
    <tr><td class="paramname">timeout_millis</td><td>Number of milliseconds to wait. -1 to wait forever. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Actual sink-&gt;num_messages value at return. If this is &lt; <em>num_messages</em>, then the timeout expired. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00149">149</a> of file <a class="el" href="../../da/dca/res__stasis__test_8c_source.html">res_stasis_test.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00204">ast_cond_timedwait</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d31/stasis__test_8h_source.html#l00048">stasis_message_sink::cond</a>, <a class="el" href="../../d6/d31/stasis__test_8h_source.html#l00046">stasis_message_sink::lock</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00063">make_deadline()</a>, <a class="el" href="../../d6/d31/stasis__test_8h_source.html#l00053">stasis_message_sink::num_messages</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00587">SCOPED_MUTEX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00070">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <span class="keyword">struct </span>timespec deadline = <a class="code" href="../../da/dca/res__stasis__test_8c.html#a697ee0eea34570cb67e9b4ab805e03c9">make_deadline</a>(timeout_millis);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab13590ad27fac3b9c7c7b792c603c9b3">SCOPED_MUTEX</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="keywordflow">while</span> (sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#ab011c00a1ee07d6bccad0127c0130dd5">num_messages</a> &lt; num_messages) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordtype">int</span> r = <a class="code" href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a>(&amp;sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, &amp;sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;deadline);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keywordflow">if</span> (r == ETIMEDOUT) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">if</span> (r != 0) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unexpected condition error: %s\n&quot;</span>,</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            strerror(r));</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   <span class="keywordflow">return</span> sink-&gt;<a class="code" href="../../d1/db7/structstasis__message__sink.html#ab011c00a1ee07d6bccad0127c0130dd5">num_messages</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div><div class="ttc" id="structstasis__message__sink_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../d1/db7/structstasis__message__sink.html#a1c7181c39f99ee801943a0d0aa9872b9">stasis_message_sink::cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/stasis__test_8h_source.html#l00048">stasis_test.h:48</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="lock_8h_html_ab13590ad27fac3b9c7c7b792c603c9b3"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab13590ad27fac3b9c7c7b792c603c9b3">SCOPED_MUTEX</a></div><div class="ttdeci">#define SCOPED_MUTEX(varname, lock)</div><div class="ttdoc">scoped lock specialization for mutexes </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00587">lock.h:587</a></div></div>
<div class="ttc" id="structstasis__message__sink_html_ab011c00a1ee07d6bccad0127c0130dd5"><div class="ttname"><a href="../../d1/db7/structstasis__message__sink.html#ab011c00a1ee07d6bccad0127c0130dd5">stasis_message_sink::num_messages</a></div><div class="ttdeci">size_t num_messages</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/stasis__test_8h_source.html#l00053">stasis_test.h:53</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__stasis__test_8c_html_a697ee0eea34570cb67e9b4ab805e03c9"><div class="ttname"><a href="../../da/dca/res__stasis__test_8c.html#a697ee0eea34570cb67e9b4ab805e03c9">make_deadline</a></div><div class="ttdeci">static struct timespec make_deadline(int timeout_millis)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dca/res__stasis__test_8c_source.html#l00063">res_stasis_test.c:63</a></div></div>
<div class="ttc" id="structstasis__message__sink_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d1/db7/structstasis__message__sink.html#adf04f66344e3fb0a6f6a69bf39d19902">stasis_message_sink::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/stasis__test_8h_source.html#l00046">stasis_test.h:46</a></div></div>
<div class="ttc" id="lock_8h_html_a6add1f30b2d53ca9384b15529a6f126e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a></div><div class="ttdeci">#define ast_cond_timedwait(cond, mutex, time)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00204">lock.h:204</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:50 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
