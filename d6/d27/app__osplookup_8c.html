<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: app_osplookup.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_9654b8d08f4bba4e84b362c5fd320bee.html">apps</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">app_osplookup.c File Reference<div class="ingroups"><a class="el" href="../../d9/dc9/group__applications.html">Dial plan applications</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Open Settlement Protocol (OSP) Applications.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;osp/osp.h&gt;</code><br />
<code>#include &lt;osp/osputils.h&gt;</code><br />
<code>#include &lt;osp/ospb64.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../dd/df2/paths_8h_source.html">asterisk/paths.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html">asterisk/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/da3/causes_8h_source.html">asterisk/causes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for app_osplookup.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d84/app__osplookup_8c__incl.png" border="0" usemap="#app__osplookup_8c" alt=""/></div>
<map name="app__osplookup_8c" id="app__osplookup_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="1993,304,2077,331"/>
<area shape="rect" id="node13" href="../../dd/df2/paths_8h.html" title="Asterisk file paths, configured in asterisk.conf. " alt="" coords="405,80,529,107"/>
<area shape="rect" id="node14" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1124,603,1237,629"/>
<area shape="rect" id="node22" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="77,229,204,256"/>
<area shape="rect" id="node23" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="571,304,686,331"/>
<area shape="rect" id="node31" href="../../d4/da3/causes_8h.html" title="Internal Asterisk hangup causes. " alt="" coords="706,80,839,107"/>
<area shape="rect" id="node32" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1471,155,1610,181"/>
<area shape="rect" id="node46" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="494,155,606,181"/>
<area shape="rect" id="node48" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="301,155,437,181"/>
<area shape="rect" id="node49" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="948,80,1059,107"/>
<area shape="rect" id="node50" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="963,304,1065,331"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1469,752,1623,779"/>
<area shape="rect" id="node4" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="1804,528,1941,555"/>
<area shape="rect" id="node9" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="1837,379,1972,405"/>
<area shape="rect" id="node5" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1555,677,1697,704"/>
<area shape="rect" id="node16" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="861,677,924,704"/>
<area shape="rect" id="node17" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="389,752,535,779"/>
<area shape="rect" id="node20" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="1211,677,1361,704"/>
<area shape="rect" id="node21" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="633,677,760,704"/>
<area shape="rect" id="node24" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="514,379,653,405"/>
<area shape="rect" id="node25" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="677,379,823,405"/>
<area shape="rect" id="node26" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="181,379,338,405"/>
<area shape="rect" id="node27" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="949,379,1079,405"/>
<area shape="rect" id="node28" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="286,453,465,480"/>
<area shape="rect" id="node29" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="995,453,1129,480"/>
<area shape="rect" id="node30" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1249,528,1400,555"/>
<area shape="rect" id="node33" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1135,229,1279,256"/>
<area shape="rect" id="node34" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="2053,229,2212,256"/>
<area shape="rect" id="node35" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="2236,229,2400,256"/>
<area shape="rect" id="node36" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1485,304,1612,331"/>
<area shape="rect" id="node37" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="965,229,1111,256"/>
<area shape="rect" id="node38" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="2425,229,2531,256"/>
<area shape="rect" id="node39" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1307,453,1457,480"/>
<area shape="rect" id="node40" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="2556,229,2717,256"/>
<area shape="rect" id="node41" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="2793,229,2963,256"/>
<area shape="rect" id="node42" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1739,229,1855,256"/>
<area shape="rect" id="node43" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1405,229,1562,256"/>
<area shape="rect" id="node44" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="613,229,738,256"/>
<area shape="rect" id="node45" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1879,229,2029,256"/>
<area shape="rect" id="node47" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="381,229,487,256"/>
</map>
</div>
</div>
<p><a href="../../d6/d27/app__osplookup_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/de1/structosp__callid.html">osp_callid</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcd/structosp__headers.html">osp_headers</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d69/structosp__metrics.html">osp_metrics</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/structosp__npdata.html">osp_npdata</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/structosp__provider.html">osp_provider</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d92/structosp__results.html">osp_results</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6cc274d33a95b3491cafc75d6e9cd01b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a6cc274d33a95b3491cafc75d6e9cd01b">AST_OSP_ERROR</a>&#160;&#160;&#160;((char*)&quot;ERROR&quot;)	/* Return <a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, <a class="el" href="../../da/d7c/utils_2frame_8h.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a> */</td></tr>
<tr class="separator:a6cc274d33a95b3491cafc75d6e9cd01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c2ee32159a9e5470c8aaf6095c589d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a5c2ee32159a9e5470c8aaf6095c589d0">AST_OSP_FAILED</a>&#160;&#160;&#160;((char*)&quot;FAILED&quot;)	/* Return <a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, failed */</td></tr>
<tr class="separator:a5c2ee32159a9e5470c8aaf6095c589d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4edfd60cd85aa2fe7e16c321ab22946e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a4edfd60cd85aa2fe7e16c321ab22946e">AST_OSP_SUCCESS</a>&#160;&#160;&#160;((char*)&quot;SUCCESS&quot;)	/* Return <a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, success */</td></tr>
<tr class="separator:a4edfd60cd85aa2fe7e16c321ab22946e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a3e02bf859a270551762f610353a5c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a>&#160;&#160;&#160;((int)-1)					/* Asterisk function <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> <a class="el" href="../../da/d7c/utils_2frame_8h.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a> */</td></tr>
<tr class="separator:a5a3e02bf859a270551762f610353a5c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55f55ec5070f815ed62f4de3fb67ea7c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a55f55ec5070f815ed62f4de3fb67ea7c">OSP_AST_OK</a>&#160;&#160;&#160;((int)0)					/* Asterisk function <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> successful */</td></tr>
<tr class="separator:a55f55ec5070f815ed62f4de3fb67ea7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0bbc59083ee029dacfb9ff39944545c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ac0bbc59083ee029dacfb9ff39944545c">OSP_AUDIT_URL</a>&#160;&#160;&#160;((const char*)&quot;localhost&quot;)	/* OSP default Audit URL */</td></tr>
<tr class="separator:ac0bbc59083ee029dacfb9ff39944545c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a1a9044e69c1b41d40f79d1216d4c3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a25a1a9044e69c1b41d40f79d1216d4c3">OSP_CALLID_H323</a>&#160;&#160;&#160;((unsigned int)(1 &lt;&lt; 1))	/* H.323 */</td></tr>
<tr class="separator:a25a1a9044e69c1b41d40f79d1216d4c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8a82820ad56cd5eb4b6baa00cf6f68a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#aa8a82820ad56cd5eb4b6baa00cf6f68a">OSP_CALLID_IAX</a>&#160;&#160;&#160;((unsigned int)(1 &lt;&lt; 2))	/* IAX2 */</td></tr>
<tr class="separator:aa8a82820ad56cd5eb4b6baa00cf6f68a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b374a60989e0a5e46b9e3d493e62533"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a5b374a60989e0a5e46b9e3d493e62533">OSP_CALLID_MAXNUM</a>&#160;&#160;&#160;((unsigned int)3)			/* Max <a class="el" href="../../d6/d49/structnumber.html">number</a> of <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> ID types */</td></tr>
<tr class="separator:a5b374a60989e0a5e46b9e3d493e62533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1725c43ee772f3901c2bd542f9582ee1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a1725c43ee772f3901c2bd542f9582ee1">OSP_CALLID_SIP</a>&#160;&#160;&#160;((unsigned int)(1 &lt;&lt; 0))	/* SIP */</td></tr>
<tr class="separator:a1725c43ee772f3901c2bd542f9582ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefa6bd9c7b781d33a0bf68200c549921"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#aefa6bd9c7b781d33a0bf68200c549921">OSP_CALLID_UNDEF</a>&#160;&#160;&#160;((unsigned int)0)			/* Undefined */</td></tr>
<tr class="separator:aefa6bd9c7b781d33a0bf68200c549921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f0d992c57ee30bdaf32796741f827a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a3f0d992c57ee30bdaf32796741f827a8">OSP_CONFIG_FILE</a>&#160;&#160;&#160;((const char*)&quot;osp.conf&quot;)	/* OSP configuration file <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td></tr>
<tr class="separator:a3f0d992c57ee30bdaf32796741f827a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb4205a9cf5fb9fb31cb22b73d685e02"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#adb4205a9cf5fb9fb31cb22b73d685e02">OSP_CUSTOMER_ID</a>&#160;&#160;&#160;((const char*)&quot;&quot;)			/* OSP customer ID */</td></tr>
<tr class="separator:adb4205a9cf5fb9fb31cb22b73d685e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ac883183e1140c2f254abca99cae0a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a6ac883183e1140c2f254abca99cae0a2">OSP_DEF_AUTHPOLICY</a>&#160;&#160;&#160;<a class="el" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c">OSP_AUTH_YES</a>				/* OSP default auth policy, yes */</td></tr>
<tr class="separator:a6ac883183e1140c2f254abca99cae0a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e965e22355f9a33371ac39fdeca9ecf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>&#160;&#160;&#160;((float)-1)					/* OSP default float statistic */</td></tr>
<tr class="separator:a5e965e22355f9a33371ac39fdeca9ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3e751d63fd0ae9c251df53fdcf1f111"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>&#160;&#160;&#160;((int)-1)					/* OSP default int statistic */</td></tr>
<tr class="separator:ab3e751d63fd0ae9c251df53fdcf1f111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b362aecd6cc02ebad1cc744b707a9e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a2b362aecd6cc02ebad1cc744b707a9e4">OSP_DEF_MAXCONNECT</a>&#160;&#160;&#160;((unsigned int)20)			/* OSP default max_connections */</td></tr>
<tr class="separator:a2b362aecd6cc02ebad1cc744b707a9e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad818c7a48408a089fa3a804e541709d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#aad818c7a48408a089fa3a804e541709d">OSP_DEF_MAXDESTS</a>&#160;&#160;&#160;((unsigned int)12)			/* OSP default <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> <a class="el" href="../../d6/d49/structnumber.html">number</a> of destinations */</td></tr>
<tr class="separator:aad818c7a48408a089fa3a804e541709d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9ea65ddfcb75c30bd9a976bb3ac61a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ac9ea65ddfcb75c30bd9a976bb3ac61a7">OSP_DEF_PROTOCOL</a>&#160;&#160;&#160;<a class="el" href="../../d6/d27/app__osplookup_8c.html#a2d59871d2b33932ab6cd5acca414c2dc">OSP_PROT_SIP</a>				/* OSP default signaling protocol, SIP */</td></tr>
<tr class="separator:ac9ea65ddfcb75c30bd9a976bb3ac61a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af74db93429d82818224639f0097189b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#af74db93429d82818224639f0097189b2">OSP_DEF_PROVIDER</a>&#160;&#160;&#160;((const char*)&quot;default&quot;)	/* OSP default <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a> <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a> <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td></tr>
<tr class="separator:af74db93429d82818224639f0097189b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95dd1b545000ce7fc31a6dd3b53d3d2d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a95dd1b545000ce7fc31a6dd3b53d3d2d">OSP_DEF_RETRYDELAY</a>&#160;&#160;&#160;((unsigned int)0)			/* OSP default retry delay */</td></tr>
<tr class="separator:a95dd1b545000ce7fc31a6dd3b53d3d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36c654250d30dc9f04f066078652ffd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ad36c654250d30dc9f04f066078652ffd">OSP_DEF_RETRYLIMIT</a>&#160;&#160;&#160;((unsigned int)2)			/* OSP default retry times */</td></tr>
<tr class="separator:ad36c654250d30dc9f04f066078652ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ea7a4fc72536b43f30f9f063600ea0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a70ea7a4fc72536b43f30f9f063600ea0">OSP_DEF_SRVTYPE</a>&#160;&#160;&#160;<a class="el" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106ac65012551eee5b9b7fdcf61c8ce0bd56">OSP_SRV_VOICE</a>				/* OSP default <a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, voice */</td></tr>
<tr class="separator:a70ea7a4fc72536b43f30f9f063600ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa216d244dea7f5d816cc35504c4390cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>&#160;&#160;&#160;((unsigned int)0)			/* OSP default duration limit, no limit */</td></tr>
<tr class="separator:aa216d244dea7f5d816cc35504c4390cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af41fd1b7d5fe4fab7275c19e5be93faf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#af41fd1b7d5fe4fab7275c19e5be93faf">OSP_DEF_TIMEOUT</a>&#160;&#160;&#160;((unsigned int)500)			/* OSP default <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> <a class="el" href="../../da/d7c/utils_2frame_8h.html#aca392a8d3941cd0740aef3ad92545d67">in</a> ms */</td></tr>
<tr class="separator:af41fd1b7d5fe4fab7275c19e5be93faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0805d660cee0ed192260f42fb895c8ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a0805d660cee0ed192260f42fb895c8ce">OSP_DEF_WORKMODE</a>&#160;&#160;&#160;<a class="el" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a250bfcd0779a034665876cb1d38749cd">OSP_MODE_DIRECT</a>				/* OSP default work mode, direct */</td></tr>
<tr class="separator:a0805d660cee0ed192260f42fb895c8ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab886d2f17400b1c84a703f2a78703f71"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ab886d2f17400b1c84a703f2a78703f71">OSP_DEVICE_ID</a>&#160;&#160;&#160;((const char*)&quot;&quot;)			/* OSP device ID */</td></tr>
<tr class="separator:ab886d2f17400b1c84a703f2a78703f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f04966dacabe124fd55b281303a560a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>&#160;&#160;&#160;((int)-1)					/* OSP function <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> <a class="el" href="../../da/d7c/utils_2frame_8h.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a> */</td></tr>
<tr class="separator:a0f04966dacabe124fd55b281303a560a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994a6462629a5ad5016167d04ed3a9ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>&#160;&#160;&#160;((int)0)					/* OSP function <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> failed */</td></tr>
<tr class="separator:a994a6462629a5ad5016167d04ed3a9ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a953047f54a6cca10a1546c6a9170df38"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a953047f54a6cca10a1546c6a9170df38">OSP_GENERAL_CAT</a>&#160;&#160;&#160;((const char*)&quot;general&quot;)	/* OSP <a class="el" href="../../d8/d4f/test__config_8c.html#ab8aa28659d870c360b8afb1662c1b302">global</a> configuration <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a> <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td></tr>
<tr class="separator:a953047f54a6cca10a1546c6a9170df38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ba2ad1a2c176493519a8401688f4a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a70ba2ad1a2c176493519a8401688f4a4">OSP_HTTP_PERSISTENCE</a>&#160;&#160;&#160;((int)1)					/* In seconds */</td></tr>
<tr class="separator:a70ba2ad1a2c176493519a8401688f4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693603e5e4556641af06c8ebec1dffc5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>&#160;&#160;&#160;((int)-1)					/* Invalid OSP handle, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>, transaction etc. */</td></tr>
<tr class="separator:a693603e5e4556641af06c8ebec1dffc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb174b635395f4dfa6aa18c620860ee9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#adb174b635395f4dfa6aa18c620860ee9">OSP_LOCAL_VALIDATION</a>&#160;&#160;&#160;((int)1)					/* Validate OSP token locally */</td></tr>
<tr class="separator:adb174b635395f4dfa6aa18c620860ee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e5aa3485d963d46940150952788067e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a7e5aa3485d963d46940150952788067e">OSP_MAX_CERTS</a>&#160;&#160;&#160;((unsigned int)10)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> <a class="el" href="../../d6/d49/structnumber.html">number</a> of cacerts */</td></tr>
<tr class="separator:a7e5aa3485d963d46940150952788067e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af684b74cdf8d5ba9f94ecd31269cbe5f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#af684b74cdf8d5ba9f94ecd31269cbe5f">OSP_MAX_CUSTOMINFO</a>&#160;&#160;&#160;((unsigned int)8)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> <a class="el" href="../../d6/d49/structnumber.html">number</a> of custom info */</td></tr>
<tr class="separator:af684b74cdf8d5ba9f94ecd31269cbe5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dfaff92993999768c875b5c2cef0418"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a4dfaff92993999768c875b5c2cef0418">OSP_MAX_MAXCONNECT</a>&#160;&#160;&#160;((unsigned int)1000)		/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> max_connections */</td></tr>
<tr class="separator:a4dfaff92993999768c875b5c2cef0418"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed8af19a7b6dc236071e11d067d3222a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#aed8af19a7b6dc236071e11d067d3222a">OSP_MAX_RETRYDELAY</a>&#160;&#160;&#160;((unsigned int)10)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> retry delay */</td></tr>
<tr class="separator:aed8af19a7b6dc236071e11d067d3222a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a345b7fdd7075bffae65d67aaf300fcb9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a345b7fdd7075bffae65d67aaf300fcb9">OSP_MAX_RETRYLIMIT</a>&#160;&#160;&#160;((unsigned int)100)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> retry times */</td></tr>
<tr class="separator:a345b7fdd7075bffae65d67aaf300fcb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add761a56c3a38612a47b079ad5d943bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#add761a56c3a38612a47b079ad5d943bc">OSP_MAX_SPOINTS</a>&#160;&#160;&#160;((unsigned int)10)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> <a class="el" href="../../d6/d49/structnumber.html">number</a> of <a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a> points */</td></tr>
<tr class="separator:add761a56c3a38612a47b079ad5d943bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7a3ff9d63c0e30ee94430056b2ac82c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ac7a3ff9d63c0e30ee94430056b2ac82c">OSP_MAX_TIMEOUT</a>&#160;&#160;&#160;((unsigned int)10000)		/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> <a class="el" href="../../da/d7c/utils_2frame_8h.html#aca392a8d3941cd0740aef3ad92545d67">in</a> ms */</td></tr>
<tr class="separator:ac7a3ff9d63c0e30ee94430056b2ac82c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f83fdd55a8cc31ee71974138f8a8b63"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a9f83fdd55a8cc31ee71974138f8a8b63">OSP_MIN_MAXCONNECT</a>&#160;&#160;&#160;((unsigned int)1)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a> max_connections */</td></tr>
<tr class="separator:a9f83fdd55a8cc31ee71974138f8a8b63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecc0ca5e6e73e6f92cc828c409801700"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#aecc0ca5e6e73e6f92cc828c409801700">OSP_MIN_RETRYDELAY</a>&#160;&#160;&#160;((unsigned int)0)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a> retry delay */</td></tr>
<tr class="separator:aecc0ca5e6e73e6f92cc828c409801700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a258abbda51de2390bf0185bbbd4040ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a258abbda51de2390bf0185bbbd4040ca">OSP_MIN_RETRYLIMIT</a>&#160;&#160;&#160;((unsigned int)0)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a> retry times */</td></tr>
<tr class="separator:a258abbda51de2390bf0185bbbd4040ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73d87c526fda549fef6b81a22da2090a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a73d87c526fda549fef6b81a22da2090a">OSP_MIN_TIMEOUT</a>&#160;&#160;&#160;((unsigned int)200)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a> <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> <a class="el" href="../../da/d7c/utils_2frame_8h.html#aca392a8d3941cd0740aef3ad92545d67">in</a> ms */</td></tr>
<tr class="separator:a73d87c526fda549fef6b81a22da2090a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4bbe72b192aceaa24e43c59b1c9cad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>&#160;&#160;&#160;((int)1)					/* OSP function <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> successful */</td></tr>
<tr class="separator:a8e4bbe72b192aceaa24e43c59b1c9cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece924ab64f6f37fb6b01b24816ecf7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#aece924ab64f6f37fb6b01b24816ecf7d">OSP_PROT_H323</a>&#160;&#160;&#160;((const char*)&quot;H323&quot;)		/* H.323 Q.931 protocol <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>*/</td></tr>
<tr class="separator:aece924ab64f6f37fb6b01b24816ecf7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c83ec0ffd2dadcd13ab875afa37025"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a37c83ec0ffd2dadcd13ab875afa37025">OSP_PROT_IAX</a>&#160;&#160;&#160;((const char*)&quot;IAX&quot;)		/* IAX2 protocol <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td></tr>
<tr class="separator:a37c83ec0ffd2dadcd13ab875afa37025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d59871d2b33932ab6cd5acca414c2dc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a2d59871d2b33932ab6cd5acca414c2dc">OSP_PROT_SIP</a>&#160;&#160;&#160;((const char*)&quot;SIP&quot;)		/* SIP protocol <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td></tr>
<tr class="separator:a2d59871d2b33932ab6cd5acca414c2dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50c5a9ce143c5bbf66abf65ec808513c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a50c5a9ce143c5bbf66abf65ec808513c">OSP_PROT_SKYPE</a>&#160;&#160;&#160;((const char*)&quot;SKYPE&quot;)		/* Skype protocol <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td></tr>
<tr class="separator:a50c5a9ce143c5bbf66abf65ec808513c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93310672c1358e732400908dc7a11ffd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a93310672c1358e732400908dc7a11ffd">OSP_SIP_HEADER</a>&#160;&#160;&#160;((const char*)&quot;P-OSP-Auth-Token&quot;)</td></tr>
<tr class="separator:a93310672c1358e732400908dc7a11ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6860ea5596044814f83cc17d128d02d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#aa6860ea5596044814f83cc17d128d02d">OSP_SIZE_INTSTR</a>&#160;&#160;&#160;((unsigned int)16)			/* OSP signed/unsigned int <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> buffer size */</td></tr>
<tr class="separator:aa6860ea5596044814f83cc17d128d02d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0d803ea366335bc405bfc1f59cd3399"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#af0d803ea366335bc405bfc1f59cd3399">OSP_SIZE_KEYSTR</a>&#160;&#160;&#160;((unsigned int)1024)		/* OSP certificate <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> buffer size */</td></tr>
<tr class="separator:af0d803ea366335bc405bfc1f59cd3399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14d1713206e0c29b3af28d8c3a50024f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>&#160;&#160;&#160;((unsigned int)256)			/* OSP normal <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> buffer size */</td></tr>
<tr class="separator:a14d1713206e0c29b3af28d8c3a50024f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34493e33ef3bc392a891e8b9679c99a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a34493e33ef3bc392a891e8b9679c99a6">OSP_SIZE_OUTSTR</a>&#160;&#160;&#160;((unsigned int)288)		/* OSP <a class="el" href="../../da/d7c/utils_2frame_8h.html#a48bc11919b2752df9d14ce89557cfb25">out</a> size for <a class="el" href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a> */</td></tr>
<tr class="separator:a34493e33ef3bc392a891e8b9679c99a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41e9564a68e4b87da4917bbaaed5f016"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a41e9564a68e4b87da4917bbaaed5f016">OSP_SIZE_QOSSTR</a>&#160;&#160;&#160;((unsigned int)1024)		/* QoS <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> buffer size */</td></tr>
<tr class="separator:a41e9564a68e4b87da4917bbaaed5f016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1c128846f4f4b3323db07721039fe7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a4d1c128846f4f4b3323db07721039fe7">OSP_SIZE_TECHSTR</a>&#160;&#160;&#160;((unsigned int)32)			/* OSP signed/unsigned int <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> buffer size */</td></tr>
<tr class="separator:a4d1c128846f4f4b3323db07721039fe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d60693a007b72ca378317284f1e63e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a1d60693a007b72ca378317284f1e63e3">OSP_SIZE_TOKSTR</a>&#160;&#160;&#160;((unsigned int)4096)		/* OSP token <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> buffer size */</td></tr>
<tr class="separator:a1d60693a007b72ca378317284f1e63e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af57c2093c6f920c59f7a12125882b80c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#af57c2093c6f920c59f7a12125882b80c">OSP_SIZE_UUID</a>&#160;&#160;&#160;((unsigned int)16)			/* UUID size */</td></tr>
<tr class="separator:af57c2093c6f920c59f7a12125882b80c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2621bb444d890c400eee207b3573ed5e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a2621bb444d890c400eee207b3573ed5e">OSP_SIZE_UUIDSTR</a>&#160;&#160;&#160;((unsigned int)36)			/* UUID <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> size */</td></tr>
<tr class="separator:a2621bb444d890c400eee207b3573ed5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3e4c2f6886beeb3167baea11338365b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#aa3e4c2f6886beeb3167baea11338365b">OSP_SSL_LIFETIME</a>&#160;&#160;&#160;((unsigned int)300)			/* <a class="el" href="../../dd/d27/iostream_8h.html#a71f21e09bf365489dab9d85bd4785e24">SSL</a> life time, <a class="el" href="../../da/d7c/utils_2frame_8h.html#aca392a8d3941cd0740aef3ad92545d67">in</a> seconds */</td></tr>
<tr class="separator:aa3e4c2f6886beeb3167baea11338365b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232b5abec331065cc0ab6381c5ac5ea1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a232b5abec331065cc0ab6381c5ac5ea1">OSP_TECH_H323</a>&#160;&#160;&#160;((const char*)&quot;H323&quot;)		/* OH323 tech <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td></tr>
<tr class="separator:a232b5abec331065cc0ab6381c5ac5ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab00665d0be85f5bdb470e104eb3659b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ab00665d0be85f5bdb470e104eb3659b4">OSP_TECH_IAX</a>&#160;&#160;&#160;((const char*)&quot;IAX2&quot;)		/* IAX2 tech <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td></tr>
<tr class="separator:ab00665d0be85f5bdb470e104eb3659b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bb2e8490ca2aae2ef00dd0666a0d637"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a3bb2e8490ca2aae2ef00dd0666a0d637">OSP_TECH_SIP</a>&#160;&#160;&#160;((const char*)&quot;SIP&quot;)		/* SIP tech <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td></tr>
<tr class="separator:a3bb2e8490ca2aae2ef00dd0666a0d637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0eeb414133a31e953150038886078f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ab0eeb414133a31e953150038886078f6">OSP_TECH_SKYPE</a>&#160;&#160;&#160;((const char*)&quot;SKYPE&quot;)		/* Skype tech <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td></tr>
<tr class="separator:ab0eeb414133a31e953150038886078f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a973bb7ee8e420cae3117b3d08d395fcb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcb">osp_authpolicy</a> { <a class="el" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcbabdd97707a7a03ac645574bd924a77685">OSP_AUTH_NO</a> = 0, 
<a class="el" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c">OSP_AUTH_YES</a>, 
<a class="el" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba5e1f97e56cc00a9688e4971be1d47e44">OSP_AUTH_EXC</a>
 }</td></tr>
<tr class="separator:a973bb7ee8e420cae3117b3d08d395fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c4f5cc82d4cdd84bf0815e69c92124f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124f">osp_callleg</a> { <a class="el" href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124fadda1fe888f9cef3fc0b1501c3089a8e7">OSP_CALL_INBOUND</a>, 
<a class="el" href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124fa618ee04e0fad20814aabec0ba83e10b6">OSP_CALL_OUTBOUND</a>
 }</td></tr>
<tr class="separator:a2c4f5cc82d4cdd84bf0815e69c92124f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447c6c9f6ec11f5abfe7d812cbb90589"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589">osp_direction</a> { <a class="el" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a> = 0, 
<a class="el" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>, 
<a class="el" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88">OSP_DIR_NUMBER</a>
 }</td></tr>
<tr class="separator:a447c6c9f6ec11f5abfe7d812cbb90589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab539b964be69a0940bdca784ea442106"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106">osp_srvtype</a> { <a class="el" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106ac65012551eee5b9b7fdcf61c8ce0bd56">OSP_SRV_VOICE</a> = 0, 
<a class="el" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106a15963018b6837aa98637501b4be60399">OSP_SRV_NPQUERY</a>
 }</td></tr>
<tr class="separator:ab539b964be69a0940bdca784ea442106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b476e1bebcccf8b406321897704c08"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08">osp_workmode</a> { <a class="el" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a250bfcd0779a034665876cb1d38749cd">OSP_MODE_DIRECT</a> = 0, 
<a class="el" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a53ec5913992131e1a1ac837c30c8ab5b">OSP_MODE_INDIRECT</a>
 }</td></tr>
<tr class="separator:a57b476e1bebcccf8b406321897704c08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af51938903a4cc1d253bfbf03b2a70d90"><td class="memItemLeft" align="right" valign="top">static OSPEFAILREASON&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#af51938903a4cc1d253bfbf03b2a70d90">asterisk2osp</a> (int cause)</td></tr>
<tr class="memdesc:af51938903a4cc1d253bfbf03b2a70d90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert Asterisk status to TC code.  <a href="#af51938903a4cc1d253bfbf03b2a70d90">More...</a><br /></td></tr>
<tr class="separator:af51938903a4cc1d253bfbf03b2a70d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c819d70b0fbac62fc53d35fb9918ffd"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a8c819d70b0fbac62fc53d35fb9918ffd">handle_cli_osp_show</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a8c819d70b0fbac62fc53d35fb9918ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0207ebf9b72261964e9223dd921e73b9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a0207ebf9b72261964e9223dd921e73b9">osp_auth</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, int *trans, const char *source, const char *calling, const char *called, const char *token, unsigned int *timelimit)</td></tr>
<tr class="memdesc:a0207ebf9b72261964e9223dd921e73b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">OSP Authentication function.  <a href="#a0207ebf9b72261964e9223dd921e73b9">More...</a><br /></td></tr>
<tr class="separator:a0207ebf9b72261964e9223dd921e73b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13252e3d1cc1d7b3d20d37834eb6588e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a13252e3d1cc1d7b3d20d37834eb6588e">osp_check_destination</a> (struct <a class="el" href="../../d9/de8/structosp__provider.html">osp_provider</a> *<a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>, const char *calling, const char *called, const char *destination, unsigned int tokenlen, const char *token, OSPEFAILREASON *reason, struct <a class="el" href="../../d4/d92/structosp__results.html">osp_results</a> *results)</td></tr>
<tr class="memdesc:a13252e3d1cc1d7b3d20d37834eb6588e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Choose min duration limit.  <a href="#a13252e3d1cc1d7b3d20d37834eb6588e">More...</a><br /></td></tr>
<tr class="separator:a13252e3d1cc1d7b3d20d37834eb6588e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad1656c35ed21d307a509194041383e"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#acad1656c35ed21d307a509194041383e">osp_choose_timelimit</a> (unsigned int <a class="el" href="../../da/d7c/utils_2frame_8h.html#aca392a8d3941cd0740aef3ad92545d67">in</a>, unsigned int <a class="el" href="../../da/d7c/utils_2frame_8h.html#a48bc11919b2752df9d14ce89557cfb25">out</a>)</td></tr>
<tr class="memdesc:acad1656c35ed21d307a509194041383e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Choose min duration limit.  <a href="#acad1656c35ed21d307a509194041383e">More...</a><br /></td></tr>
<tr class="separator:acad1656c35ed21d307a509194041383e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab76700b23001d9fccd14fc003d88b599"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a> (const char *src, char *dest, unsigned int destsize)</td></tr>
<tr class="memdesc:ab76700b23001d9fccd14fc003d88b599"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert "address:port" to "[x.x.x.x]:port" or "hostname:port" format.  <a href="#ab76700b23001d9fccd14fc003d88b599">More...</a><br /></td></tr>
<tr class="separator:ab76700b23001d9fccd14fc003d88b599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3a8b68420cb327d2d184e9f313c9de7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ab3a8b68420cb327d2d184e9f313c9de7">osp_convert_outin</a> (const char *src, char *dest, unsigned int destsize)</td></tr>
<tr class="memdesc:ab3a8b68420cb327d2d184e9f313c9de7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert "[x.x.x.x]:port" or "hostname:prot" to "address:port" format.  <a href="#ab3a8b68420cb327d2d184e9f313c9de7">More...</a><br /></td></tr>
<tr class="separator:ab3a8b68420cb327d2d184e9f313c9de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f5a73f76d19b25d7666d4a3517d64a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ae9f5a73f76d19b25d7666d4a3517d64a">osp_create_callid</a> (unsigned int <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../da/de1/structosp__callid.html">osp_callid</a> *callid)</td></tr>
<tr class="memdesc:ae9f5a73f76d19b25d7666d4a3517d64a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a call ID according to the type.  <a href="#ae9f5a73f76d19b25d7666d4a3517d64a">More...</a><br /></td></tr>
<tr class="separator:ae9f5a73f76d19b25d7666d4a3517d64a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a300cfd86f48019deab149c7a21131f66"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a300cfd86f48019deab149c7a21131f66">osp_create_provider</a> (struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *cfg, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a300cfd86f48019deab149c7a21131f66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create OSP provider handle according to configuration.  <a href="#a300cfd86f48019deab149c7a21131f66">More...</a><br /></td></tr>
<tr class="separator:a300cfd86f48019deab149c7a21131f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5dbdc8dc40e969bb49e15442cebf037"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ab5dbdc8dc40e969bb49e15442cebf037">osp_create_transaction</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, int *trans, char *source, unsigned int srcsize)</td></tr>
<tr class="memdesc:ab5dbdc8dc40e969bb49e15442cebf037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create OSP transaction handle.  <a href="#ab5dbdc8dc40e969bb49e15442cebf037">More...</a><br /></td></tr>
<tr class="separator:ab5dbdc8dc40e969bb49e15442cebf037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f69bca08e4ca9b69fc311c9031f25ec"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a9f69bca08e4ca9b69fc311c9031f25ec">osp_create_uuid</a> (unsigned char *uuid, unsigned int *bufsize)</td></tr>
<tr class="memdesc:a9f69bca08e4ca9b69fc311c9031f25ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a UUID.  <a href="#a9f69bca08e4ca9b69fc311c9031f25ec">More...</a><br /></td></tr>
<tr class="separator:a9f69bca08e4ca9b69fc311c9031f25ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad32b342c53cb42f9fbfabef494313ea6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ad32b342c53cb42f9fbfabef494313ea6">osp_finish</a> (int trans, int recorded, int cause, time_t start, time_t connect, time_t <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>, unsigned int release, const char *inqos, const char *outqos)</td></tr>
<tr class="memdesc:ad32b342c53cb42f9fbfabef494313ea6"><td class="mdescLeft">&#160;</td><td class="mdescRight">OSP Finish function.  <a href="#ad32b342c53cb42f9fbfabef494313ea6">More...</a><br /></td></tr>
<tr class="separator:ad32b342c53cb42f9fbfabef494313ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af21fa85fa457a1235efc74c9e8d51bbb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#af21fa85fa457a1235efc74c9e8d51bbb">osp_get_provider</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, struct <a class="el" href="../../d9/de8/structosp__provider.html">osp_provider</a> **<a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>)</td></tr>
<tr class="memdesc:af21fa85fa457a1235efc74c9e8d51bbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get OSP provider by name.  <a href="#af21fa85fa457a1235efc74c9e8d51bbb">More...</a><br /></td></tr>
<tr class="separator:af21fa85fa457a1235efc74c9e8d51bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3592bfc5c6fc9a7a87e24704bcd74656"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a> (const char *vstr)</td></tr>
<tr class="memdesc:a3592bfc5c6fc9a7a87e24704bcd74656"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get float from variable string.  <a href="#a3592bfc5c6fc9a7a87e24704bcd74656">More...</a><br /></td></tr>
<tr class="separator:a3592bfc5c6fc9a7a87e24704bcd74656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6477b002539f2810c932b5700c531b1d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a6477b002539f2810c932b5700c531b1d">osp_get_varint</a> (const char *vstr)</td></tr>
<tr class="memdesc:a6477b002539f2810c932b5700c531b1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get integer from variable string.  <a href="#a6477b002539f2810c932b5700c531b1d">More...</a><br /></td></tr>
<tr class="separator:a6477b002539f2810c932b5700c531b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf1e551f818049bd8744a6ece49a5ba"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#abbf1e551f818049bd8744a6ece49a5ba">osp_load</a> (int <a class="el" href="../../dc/d6b/res__xmpp_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>)</td></tr>
<tr class="separator:abbf1e551f818049bd8744a6ece49a5ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30929a679a8408ef8a4e022d594ebcea"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a30929a679a8408ef8a4e022d594ebcea">osp_lookup</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, unsigned int callidtypes, const char *actualsrc, const char *srcdev, const char *calling, const char *called, const char *snetid, struct <a class="el" href="../../dd/d9a/structosp__npdata.html">osp_npdata</a> *np, struct <a class="el" href="../../de/dcd/structosp__headers.html">osp_headers</a> *headers, const char *cinfo[], struct <a class="el" href="../../d4/d92/structosp__results.html">osp_results</a> *results)</td></tr>
<tr class="memdesc:a30929a679a8408ef8a4e022d594ebcea"><td class="mdescLeft">&#160;</td><td class="mdescRight">OSP Lookup function.  <a href="#a30929a679a8408ef8a4e022d594ebcea">More...</a><br /></td></tr>
<tr class="separator:a30929a679a8408ef8a4e022d594ebcea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eed7d4186b9b366692466bca5f47bba"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a0eed7d4186b9b366692466bca5f47bba">osp_next</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, int cause, struct <a class="el" href="../../d4/d92/structosp__results.html">osp_results</a> *results)</td></tr>
<tr class="memdesc:a0eed7d4186b9b366692466bca5f47bba"><td class="mdescLeft">&#160;</td><td class="mdescRight">OSP Lookup Next function.  <a href="#a0eed7d4186b9b366692466bca5f47bba">More...</a><br /></td></tr>
<tr class="separator:a0eed7d4186b9b366692466bca5f47bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add0a83ded5551efdeebc15a7f5ddb962"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#add0a83ded5551efdeebc15a7f5ddb962">osp_report_qos</a> (int trans, enum <a class="el" href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124f">osp_callleg</a> leg, const char *<a class="el" href="../../d1/d6d/chan__unistim_8c.html#a9c85033c8f4f4551e9efc18dc56c2aeb">qos</a>)</td></tr>
<tr class="memdesc:add0a83ded5551efdeebc15a7f5ddb962"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report QoS.  <a href="#add0a83ded5551efdeebc15a7f5ddb962">More...</a><br /></td></tr>
<tr class="separator:add0a83ded5551efdeebc15a7f5ddb962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa07e9dab5c74f1438507a11962f9f4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#aeaa07e9dab5c74f1438507a11962f9f4">osp_unload</a> (void)</td></tr>
<tr class="separator:aeaa07e9dab5c74f1438507a11962f9f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74576e757755b840a1cdf5e5319b8ecd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a74576e757755b840a1cdf5e5319b8ecd">osp_uuid2str</a> (unsigned char *uuid, char *buffer, unsigned int bufsize)</td></tr>
<tr class="memdesc:a74576e757755b840a1cdf5e5319b8ecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">UUID to string.  <a href="#a74576e757755b840a1cdf5e5319b8ecd">More...</a><br /></td></tr>
<tr class="separator:a74576e757755b840a1cdf5e5319b8ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa79880aa57acaa11946296a8a1be6685"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#aa79880aa57acaa11946296a8a1be6685">osp_validate_token</a> (int trans, const char *source, const char *destination, const char *calling, const char *called, const char *token, unsigned int *timelimit)</td></tr>
<tr class="memdesc:aa79880aa57acaa11946296a8a1be6685"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate OSP token of inbound call.  <a href="#aa79880aa57acaa11946296a8a1be6685">More...</a><br /></td></tr>
<tr class="separator:aa79880aa57acaa11946296a8a1be6685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9439512050302cf411cbf93e78572b16"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a9439512050302cf411cbf93e78572b16">ospauth_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:a9439512050302cf411cbf93e78572b16"><td class="mdescLeft">&#160;</td><td class="mdescRight">OSP Application OSPAuth.  <a href="#a9439512050302cf411cbf93e78572b16">More...</a><br /></td></tr>
<tr class="separator:a9439512050302cf411cbf93e78572b16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d4580d61828f602a5e001499f6a180"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a07d4580d61828f602a5e001499f6a180">ospfinished_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:a07d4580d61828f602a5e001499f6a180"><td class="mdescLeft">&#160;</td><td class="mdescRight">OSP Application OSPFinish.  <a href="#a07d4580d61828f602a5e001499f6a180">More...</a><br /></td></tr>
<tr class="separator:a07d4580d61828f602a5e001499f6a180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92886f60961457bc04de0bb39a7d1c20"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a92886f60961457bc04de0bb39a7d1c20">osplookup_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:a92886f60961457bc04de0bb39a7d1c20"><td class="mdescLeft">&#160;</td><td class="mdescRight">OSP Application OSPLookup.  <a href="#a92886f60961457bc04de0bb39a7d1c20">More...</a><br /></td></tr>
<tr class="separator:a92886f60961457bc04de0bb39a7d1c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae72fad1fd75a7bebdd9c9b11e2022a29"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ae72fad1fd75a7bebdd9c9b11e2022a29">ospnext_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:ae72fad1fd75a7bebdd9c9b11e2022a29"><td class="mdescLeft">&#160;</td><td class="mdescRight">OSP Application OSPNext.  <a href="#ae72fad1fd75a7bebdd9c9b11e2022a29">More...</a><br /></td></tr>
<tr class="separator:ae72fad1fd75a7bebdd9c9b11e2022a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1982509765f4870f1f63412a53ea668"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> (void)</td></tr>
<tr class="separator:ad1982509765f4870f1f63412a53ea668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a> , .description = &quot;Open Settlement Protocol Applications&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_EXTENDED, .load = load_module, .unload = unload_module, .reload = reload, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a130651e69005942433505bd534ad9e51"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a130651e69005942433505bd534ad9e51">app1</a> [] = &quot;OSPAuth&quot;</td></tr>
<tr class="separator:a130651e69005942433505bd534ad9e51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cffecf2a021a06d24eaf268c3ef2895"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a6cffecf2a021a06d24eaf268c3ef2895">app2</a> [] = &quot;OSPLookup&quot;</td></tr>
<tr class="separator:a6cffecf2a021a06d24eaf268c3ef2895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad58282d90fddc0dcc234189388a6b01"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#aad58282d90fddc0dcc234189388a6b01">app3</a> [] = &quot;OSPNext&quot;</td></tr>
<tr class="separator:aad58282d90fddc0dcc234189388a6b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae77cf0b3c2d8cf2f4cae97c6e46c8bcc"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ae77cf0b3c2d8cf2f4cae97c6e46c8bcc">app4</a> [] = &quot;OSPFinish&quot;</td></tr>
<tr class="separator:ae77cf0b3c2d8cf2f4cae97c6e46c8bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95eab91cdab5818081a2231805064780"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a95eab91cdab5818081a2231805064780">B64CACert</a> = &quot;MIIBYDCCAQoCAQEwDQYJKoZIhvcNAQEEBQAwOzElMCMGA1UEAxMcb3NwdGVzdHNlcnZlci50cmFuc25leHVzLmNvbTESMBAGA1UEChMJT1NQU2VydmVyMB4XDTAyMDIwNDE4MjU1MloXDTEyMDIwMzE4MjU1MlowOzElMCMGA1UEAxMcb3NwdGVzdHNlcnZlci50cmFuc25leHVzLmNvbTESMBAGA1UEChMJT1NQU2VydmVyMFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAPGeGwV41EIhX0jEDFLRXQhDEr50OUQPq+f55VwQd0TQNts06BP29+UiNdRW3c3IRHdZcJdC1Cg68ME9cgeq0h8CAwEAATANBgkqhkiG9w0BAQQFAANBAGkzBSj1EnnmUxbaiG1N4xjIuLAWydun7o3bFk2tV8dBIhnuh445obYyk1EnQ27kI7eACCILBZqi2MHDOIMnoN0=&quot;</td></tr>
<tr class="separator:a95eab91cdab5818081a2231805064780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58271f737afdcc8d021e8439cd0e1b9f"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a58271f737afdcc8d021e8439cd0e1b9f">B64LCert</a> = &quot;MIIBeTCCASMCEHqkOHVRRWr+1COq3CR/xsowDQYJKoZIhvcNAQEEBQAwOzElMCMGA1UEAxMcb3NwdGVzdHNlcnZlci50cmFuc25leHVzLmNvbTESMBAGA1UEChMJT1NQU2VydmVyMB4XDTA1MDYyMzAwMjkxOFoXDTA2MDYyNDAwMjkxOFowRTELMAkGA1UEBhMCQVUxEzARBgNVBAgTClNvbWUtU3RhdGUxITAfBgNVBAoTGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDBcMA0GCSqGSIb3DQEBAQUAA0sAMEgCQQCvLeZfj1G0wuJb8JTcVeZaZftncEmRluOnaME3ustd918lRMDYokZmtmDZN8SrP0yd1pfVqZ7NkmBACbBX0k7pAgMBAAEwDQYJKoZIhvcNAQEEBQADQQDnV8QNFVVJx/+7IselU0wsepqMurivXZzuxOmTEmTVDzCJx1xhA8jd3vGAj7XDIYiPub1PV23eY5a2ARJuw5w9&quot;</td></tr>
<tr class="separator:a58271f737afdcc8d021e8439cd0e1b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdedc703cb4d6f39a1d0813d1e5456ee"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#acdedc703cb4d6f39a1d0813d1e5456ee">B64PKey</a> = &quot;MIIBOgIBAAJBAK8t5l+PUbTC4lvwlNxV5lpl+2dwSZGW46dowTe6y133XyVEwNiiRma2YNk3xKs/TJ3Wl9Wpns2SYEAJsFfSTukCAwEAAQJAPz13vCm2GmZ8Zyp74usTxLCqSJZNyMRLHQWBM0g44Iuy4wE3vpi7Wq+xYuSOH2mu4OddnxswCP4QhaXVQavTAQIhAOBVCKXtppEw9UaOBL4vW0Ed/6EA/1D8hDW6St0h7EXJAiEAx+iRmZKhJD6VT84dtX5ZYNVk3j3dAcIOovpzUj9a0CECIEduTCapmZQ5xqAEsLXuVlxRtQgLTUD4ZxDElPn8x0MhAiBE2HlcND0+qDbvtwJQQOUzDgqg5xk3w8capboVdzAlQQIhAMC+lDL7+gDYkNAft5Mu+NObJmQs4Cr+DkDFsKqoxqrm&quot;</td></tr>
<tr class="separator:acdedc703cb4d6f39a1d0813d1e5456ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d006ccda399620ddcbdac150680853"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a10d006ccda399620ddcbdac150680853">cli_osp</a> []</td></tr>
<tr class="separator:a10d006ccda399620ddcbdac150680853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ef0958fa463ae932e3e71ec39cd1337"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a5ef0958fa463ae932e3e71ec39cd1337">osp_hardware</a> = 0</td></tr>
<tr class="separator:a5ef0958fa463ae932e3e71ec39cd1337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b65a944814a9fe8b45330072c875e46"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a7b65a944814a9fe8b45330072c875e46">osp_initialized</a> = 0</td></tr>
<tr class="separator:a7b65a944814a9fe8b45330072c875e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c9a5234ff1ee322a81e9632bd2119b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td></tr>
<tr class="separator:a16c9a5234ff1ee322a81e9632bd2119b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dc761e67618d6f48b8c5ad7bc59fb8c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d9/de8/structosp__provider.html">osp_provider</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a2dc761e67618d6f48b8c5ad7bc59fb8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba7b476b11a1793f6c5ae0b81ee8b99"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a> = 0</td></tr>
<tr class="separator:a2ba7b476b11a1793f6c5ae0b81ee8b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab918a4031e5d25153fe54e91be1ac56e"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d27/app__osplookup_8c.html#ab918a4031e5d25153fe54e91be1ac56e">osp_tokenformat</a> = TOKEN_ALGO_SIGNED</td></tr>
<tr class="separator:ab918a4031e5d25153fe54e91be1ac56e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Open Settlement Protocol (OSP) Applications. </p>
<dl class="section author"><dt>Author</dt><dd>Mark Spencer <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'ks'+'ter'+'@d'+'igi'+'um'+'.co'+'m'; return false;">marks<span style="display: none;">.nosp@m.</span>ter@<span style="display: none;">.nosp@m.</span>digiu<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a></dd></dl>
<dl class="extref"><dt><b><a class="el" href="../../db/d1d/extref.html#_extref000003">ExtRef:</a></b></dt><dd><p class="startdd">The OSP Toolkit: <a href="http://www.transnexus.com">http://www.transnexus.com</a> </p>
<p class="enddd">OpenSSL <a href="http://www.openssl.org">http://www.openssl.org</a></p>
</dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6cc274d33a95b3491cafc75d6e9cd01b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc274d33a95b3491cafc75d6e9cd01b">&#9670;&nbsp;</a></span>AST_OSP_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_OSP_ERROR&#160;&#160;&#160;((char*)&quot;ERROR&quot;)	/* Return <a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, <a class="el" href="../../da/d7c/utils_2frame_8h.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00441">441</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="a5c2ee32159a9e5470c8aaf6095c589d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c2ee32159a9e5470c8aaf6095c589d0">&#9670;&nbsp;</a></span>AST_OSP_FAILED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_OSP_FAILED&#160;&#160;&#160;((char*)&quot;FAILED&quot;)	/* Return <a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, failed */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00440">440</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="a4edfd60cd85aa2fe7e16c321ab22946e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4edfd60cd85aa2fe7e16c321ab22946e">&#9670;&nbsp;</a></span>AST_OSP_SUCCESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_OSP_SUCCESS&#160;&#160;&#160;((char*)&quot;SUCCESS&quot;)	/* Return <a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, success */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00439">439</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="a5a3e02bf859a270551762f610353a5c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a3e02bf859a270551762f610353a5c5">&#9670;&nbsp;</a></span>OSP_AST_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_AST_ERROR&#160;&#160;&#160;((int)-1)					/* Asterisk function <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> <a class="el" href="../../da/d7c/utils_2frame_8h.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00500">500</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="a55f55ec5070f815ed62f4de3fb67ea7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55f55ec5070f815ed62f4de3fb67ea7c">&#9670;&nbsp;</a></span>OSP_AST_OK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_AST_OK&#160;&#160;&#160;((int)0)					/* Asterisk function <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> successful */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00499">499</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="ac0bbc59083ee029dacfb9ff39944545c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0bbc59083ee029dacfb9ff39944545c">&#9670;&nbsp;</a></span>OSP_AUDIT_URL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_AUDIT_URL&#160;&#160;&#160;((const char*)&quot;localhost&quot;)	/* OSP default Audit URL */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00520">520</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a25a1a9044e69c1b41d40f79d1216d4c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25a1a9044e69c1b41d40f79d1216d4c3">&#9670;&nbsp;</a></span>OSP_CALLID_H323</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_CALLID_H323&#160;&#160;&#160;((unsigned int)(1 &lt;&lt; 1))	/* H.323 */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00457">457</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01451">osp_create_callid()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="aa8a82820ad56cd5eb4b6baa00cf6f68a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8a82820ad56cd5eb4b6baa00cf6f68a">&#9670;&nbsp;</a></span>OSP_CALLID_IAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_CALLID_IAX&#160;&#160;&#160;((unsigned int)(1 &lt;&lt; 2))	/* IAX2 */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00458">458</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01451">osp_create_callid()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>.</p>

</div>
</div>
<a id="a5b374a60989e0a5e46b9e3d493e62533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b374a60989e0a5e46b9e3d493e62533">&#9670;&nbsp;</a></span>OSP_CALLID_MAXNUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_CALLID_MAXNUM&#160;&#160;&#160;((unsigned int)3)			/* Max <a class="el" href="../../d6/d49/structnumber.html">number</a> of <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> ID types */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00459">459</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>.</p>

</div>
</div>
<a id="a1725c43ee772f3901c2bd542f9582ee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1725c43ee772f3901c2bd542f9582ee1">&#9670;&nbsp;</a></span>OSP_CALLID_SIP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_CALLID_SIP&#160;&#160;&#160;((unsigned int)(1 &lt;&lt; 0))	/* SIP */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00456">456</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01451">osp_create_callid()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>.</p>

</div>
</div>
<a id="aefa6bd9c7b781d33a0bf68200c549921"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefa6bd9c7b781d33a0bf68200c549921">&#9670;&nbsp;</a></span>OSP_CALLID_UNDEF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_CALLID_UNDEF&#160;&#160;&#160;((unsigned int)0)			/* Undefined */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00455">455</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="a3f0d992c57ee30bdaf32796741f827a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f0d992c57ee30bdaf32796741f827a8">&#9670;&nbsp;</a></span>OSP_CONFIG_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_CONFIG_FILE&#160;&#160;&#160;((const char*)&quot;osp.conf&quot;)	/* OSP configuration file <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00502">502</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02955">osp_load()</a>.</p>

</div>
</div>
<a id="adb4205a9cf5fb9fb31cb22b73d685e02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb4205a9cf5fb9fb31cb22b73d685e02">&#9670;&nbsp;</a></span>OSP_CUSTOMER_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_CUSTOMER_ID&#160;&#160;&#160;((const char*)&quot;&quot;)			/* OSP customer ID */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00524">524</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a6ac883183e1140c2f254abca99cae0a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ac883183e1140c2f254abca99cae0a2">&#9670;&nbsp;</a></span>OSP_DEF_AUTHPOLICY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_AUTHPOLICY&#160;&#160;&#160;<a class="el" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c">OSP_AUTH_YES</a>				/* OSP default auth policy, yes */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00519">519</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a5e965e22355f9a33371ac39fdeca9ecf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e965e22355f9a33371ac39fdeca9ecf">&#9670;&nbsp;</a></span>OSP_DEF_FLOATSTATS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_FLOATSTATS&#160;&#160;&#160;((float)-1)					/* OSP default float statistic */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00533">533</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01946">osp_get_varfloat()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01971">osp_report_qos()</a>.</p>

</div>
</div>
<a id="ab3e751d63fd0ae9c251df53fdcf1f111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3e751d63fd0ae9c251df53fdcf1f111">&#9670;&nbsp;</a></span>OSP_DEF_INTSTATS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_INTSTATS&#160;&#160;&#160;((int)-1)					/* OSP default int statistic */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00532">532</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02188">osp_finish()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01923">osp_get_varint()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01971">osp_report_qos()</a>.</p>

</div>
</div>
<a id="a2b362aecd6cc02ebad1cc744b707a9e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b362aecd6cc02ebad1cc744b707a9e4">&#9670;&nbsp;</a></span>OSP_DEF_MAXCONNECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_MAXCONNECT&#160;&#160;&#160;((unsigned int)20)			/* OSP default max_connections */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00507">507</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="aad818c7a48408a089fa3a804e541709d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad818c7a48408a089fa3a804e541709d">&#9670;&nbsp;</a></span>OSP_DEF_MAXDESTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_MAXDESTS&#160;&#160;&#160;((unsigned int)12)			/* OSP default <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> <a class="el" href="../../d6/d49/structnumber.html">number</a> of destinations */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00526">526</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>.</p>

</div>
</div>
<a id="ac9ea65ddfcb75c30bd9a976bb3ac61a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9ea65ddfcb75c30bd9a976bb3ac61a7">&#9670;&nbsp;</a></span>OSP_DEF_PROTOCOL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_PROTOCOL&#160;&#160;&#160;<a class="el" href="../../d6/d27/app__osplookup_8c.html#a2d59871d2b33932ab6cd5acca414c2dc">OSP_PROT_SIP</a>				/* OSP default signaling protocol, SIP */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00528">528</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="af74db93429d82818224639f0097189b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af74db93429d82818224639f0097189b2">&#9670;&nbsp;</a></span>OSP_DEF_PROVIDER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_PROVIDER&#160;&#160;&#160;((const char*)&quot;default&quot;)	/* OSP default <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a> <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a> <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00504">504</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="a95dd1b545000ce7fc31a6dd3b53d3d2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95dd1b545000ce7fc31a6dd3b53d3d2d">&#9670;&nbsp;</a></span>OSP_DEF_RETRYDELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_RETRYDELAY&#160;&#160;&#160;((unsigned int)0)			/* OSP default retry delay */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00510">510</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="ad36c654250d30dc9f04f066078652ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad36c654250d30dc9f04f066078652ffd">&#9670;&nbsp;</a></span>OSP_DEF_RETRYLIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_RETRYLIMIT&#160;&#160;&#160;((unsigned int)2)			/* OSP default retry times */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00513">513</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a70ea7a4fc72536b43f30f9f063600ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70ea7a4fc72536b43f30f9f063600ea0">&#9670;&nbsp;</a></span>OSP_DEF_SRVTYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_SRVTYPE&#160;&#160;&#160;<a class="el" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106ac65012551eee5b9b7fdcf61c8ce0bd56">OSP_SRV_VOICE</a>				/* OSP default <a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, voice */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00530">530</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="aa216d244dea7f5d816cc35504c4390cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa216d244dea7f5d816cc35504c4390cc">&#9670;&nbsp;</a></span>OSP_DEF_TIMELIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_TIMELIMIT&#160;&#160;&#160;((unsigned int)0)			/* OSP default duration limit, no limit */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00527">527</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01330">osp_auth()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01146">osp_choose_timelimit()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">osp_next()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="af41fd1b7d5fe4fab7275c19e5be93faf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af41fd1b7d5fe4fab7275c19e5be93faf">&#9670;&nbsp;</a></span>OSP_DEF_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_TIMEOUT&#160;&#160;&#160;((unsigned int)500)			/* OSP default <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> <a class="el" href="../../da/d7c/utils_2frame_8h.html#aca392a8d3941cd0740aef3ad92545d67">in</a> ms */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00516">516</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a0805d660cee0ed192260f42fb895c8ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0805d660cee0ed192260f42fb895c8ce">&#9670;&nbsp;</a></span>OSP_DEF_WORKMODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEF_WORKMODE&#160;&#160;&#160;<a class="el" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a250bfcd0779a034665876cb1d38749cd">OSP_MODE_DIRECT</a>				/* OSP default work mode, direct */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00529">529</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="ab886d2f17400b1c84a703f2a78703f71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab886d2f17400b1c84a703f2a78703f71">&#9670;&nbsp;</a></span>OSP_DEVICE_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_DEVICE_ID&#160;&#160;&#160;((const char*)&quot;&quot;)			/* OSP device ID */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00525">525</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a0f04966dacabe124fd55b281303a560a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f04966dacabe124fd55b281303a560a">&#9670;&nbsp;</a></span>OSP_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_ERROR&#160;&#160;&#160;((int)-1)					/* OSP function <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> <a class="el" href="../../da/d7c/utils_2frame_8h.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00498">498</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01330">osp_auth()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01171">osp_check_destination()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01451">osp_create_callid()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00945">osp_create_transaction()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01394">osp_create_uuid()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02188">osp_finish()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">osp_next()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01423">osp_uuid2str()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01081">osp_validate_token()</a>.</p>

</div>
</div>
<a id="a994a6462629a5ad5016167d04ed3a9ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a994a6462629a5ad5016167d04ed3a9ab">&#9670;&nbsp;</a></span>OSP_FAILED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_FAILED&#160;&#160;&#160;((int)0)					/* OSP function <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> failed */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00497">497</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01330">osp_auth()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01171">osp_check_destination()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01451">osp_create_callid()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00945">osp_create_transaction()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02188">osp_finish()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00914">osp_get_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">osp_next()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01971">osp_report_qos()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01081">osp_validate_token()</a>.</p>

</div>
</div>
<a id="a953047f54a6cca10a1546c6a9170df38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a953047f54a6cca10a1546c6a9170df38">&#9670;&nbsp;</a></span>OSP_GENERAL_CAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_GENERAL_CAT&#160;&#160;&#160;((const char*)&quot;general&quot;)	/* OSP <a class="el" href="../../d8/d4f/test__config_8c.html#ab8aa28659d870c360b8afb1662c1b302">global</a> configuration <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a> <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00503">503</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02955">osp_load()</a>.</p>

</div>
</div>
<a id="a70ba2ad1a2c176493519a8401688f4a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70ba2ad1a2c176493519a8401688f4a4">&#9670;&nbsp;</a></span>OSP_HTTP_PERSISTENCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_HTTP_PERSISTENCE&#160;&#160;&#160;((int)1)					/* In seconds */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00523">523</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a693603e5e4556641af06c8ebec1dffc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a693603e5e4556641af06c8ebec1dffc5">&#9670;&nbsp;</a></span>OSP_INVALID_HANDLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_INVALID_HANDLE&#160;&#160;&#160;((int)-1)					/* Invalid OSP handle, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>, transaction etc. */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00501">501</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01330">osp_auth()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00945">osp_create_transaction()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02188">osp_finish()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">osp_next()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="adb174b635395f4dfa6aa18c620860ee9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb174b635395f4dfa6aa18c620860ee9">&#9670;&nbsp;</a></span>OSP_LOCAL_VALIDATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_LOCAL_VALIDATION&#160;&#160;&#160;((int)1)					/* Validate OSP token locally */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00521">521</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a7e5aa3485d963d46940150952788067e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e5aa3485d963d46940150952788067e">&#9670;&nbsp;</a></span>OSP_MAX_CERTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_MAX_CERTS&#160;&#160;&#160;((unsigned int)10)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> <a class="el" href="../../d6/d49/structnumber.html">number</a> of cacerts */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00505">505</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="af684b74cdf8d5ba9f94ecd31269cbe5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af684b74cdf8d5ba9f94ecd31269cbe5f">&#9670;&nbsp;</a></span>OSP_MAX_CUSTOMINFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_MAX_CUSTOMINFO&#160;&#160;&#160;((unsigned int)8)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> <a class="el" href="../../d6/d49/structnumber.html">number</a> of custom info */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00531">531</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>.</p>

</div>
</div>
<a id="a4dfaff92993999768c875b5c2cef0418"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dfaff92993999768c875b5c2cef0418">&#9670;&nbsp;</a></span>OSP_MAX_MAXCONNECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_MAX_MAXCONNECT&#160;&#160;&#160;((unsigned int)1000)		/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> max_connections */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00509">509</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="aed8af19a7b6dc236071e11d067d3222a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed8af19a7b6dc236071e11d067d3222a">&#9670;&nbsp;</a></span>OSP_MAX_RETRYDELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_MAX_RETRYDELAY&#160;&#160;&#160;((unsigned int)10)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> retry delay */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00512">512</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a345b7fdd7075bffae65d67aaf300fcb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a345b7fdd7075bffae65d67aaf300fcb9">&#9670;&nbsp;</a></span>OSP_MAX_RETRYLIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_MAX_RETRYLIMIT&#160;&#160;&#160;((unsigned int)100)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> retry times */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00515">515</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="add761a56c3a38612a47b079ad5d943bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add761a56c3a38612a47b079ad5d943bc">&#9670;&nbsp;</a></span>OSP_MAX_SPOINTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_MAX_SPOINTS&#160;&#160;&#160;((unsigned int)10)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> <a class="el" href="../../d6/d49/structnumber.html">number</a> of <a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a> points */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00506">506</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="ac7a3ff9d63c0e30ee94430056b2ac82c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7a3ff9d63c0e30ee94430056b2ac82c">&#9670;&nbsp;</a></span>OSP_MAX_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_MAX_TIMEOUT&#160;&#160;&#160;((unsigned int)10000)		/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> <a class="el" href="../../da/d7c/utils_2frame_8h.html#aca392a8d3941cd0740aef3ad92545d67">in</a> ms */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00518">518</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a9f83fdd55a8cc31ee71974138f8a8b63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f83fdd55a8cc31ee71974138f8a8b63">&#9670;&nbsp;</a></span>OSP_MIN_MAXCONNECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_MIN_MAXCONNECT&#160;&#160;&#160;((unsigned int)1)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a> max_connections */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00508">508</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="aecc0ca5e6e73e6f92cc828c409801700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecc0ca5e6e73e6f92cc828c409801700">&#9670;&nbsp;</a></span>OSP_MIN_RETRYDELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_MIN_RETRYDELAY&#160;&#160;&#160;((unsigned int)0)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a> retry delay */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00511">511</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a258abbda51de2390bf0185bbbd4040ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a258abbda51de2390bf0185bbbd4040ca">&#9670;&nbsp;</a></span>OSP_MIN_RETRYLIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_MIN_RETRYLIMIT&#160;&#160;&#160;((unsigned int)0)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a> retry times */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00514">514</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a73d87c526fda549fef6b81a22da2090a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73d87c526fda549fef6b81a22da2090a">&#9670;&nbsp;</a></span>OSP_MIN_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_MIN_TIMEOUT&#160;&#160;&#160;((unsigned int)200)			/* OSP <a class="el" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a> <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> <a class="el" href="../../da/d7c/utils_2frame_8h.html#aca392a8d3941cd0740aef3ad92545d67">in</a> ms */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00517">517</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a8e4bbe72b192aceaa24e43c59b1c9cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e4bbe72b192aceaa24e43c59b1c9cad">&#9670;&nbsp;</a></span>OSP_OK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_OK&#160;&#160;&#160;((int)1)					/* OSP function <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> successful */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">496</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01330">osp_auth()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01171">osp_check_destination()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01451">osp_create_callid()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00945">osp_create_transaction()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01394">osp_create_uuid()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02188">osp_finish()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00914">osp_get_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">osp_next()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01971">osp_report_qos()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01423">osp_uuid2str()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01081">osp_validate_token()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="aece924ab64f6f37fb6b01b24816ecf7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aece924ab64f6f37fb6b01b24816ecf7d">&#9670;&nbsp;</a></span>OSP_PROT_H323</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_PROT_H323&#160;&#160;&#160;((const char*)&quot;H323&quot;)		/* H.323 Q.931 protocol <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>*/</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00463">463</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a37c83ec0ffd2dadcd13ab875afa37025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37c83ec0ffd2dadcd13ab875afa37025">&#9670;&nbsp;</a></span>OSP_PROT_IAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_PROT_IAX&#160;&#160;&#160;((const char*)&quot;IAX&quot;)		/* IAX2 protocol <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00464">464</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a2d59871d2b33932ab6cd5acca414c2dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d59871d2b33932ab6cd5acca414c2dc">&#9670;&nbsp;</a></span>OSP_PROT_SIP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_PROT_SIP&#160;&#160;&#160;((const char*)&quot;SIP&quot;)		/* SIP protocol <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00462">462</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a50c5a9ce143c5bbf66abf65ec808513c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50c5a9ce143c5bbf66abf65ec808513c">&#9670;&nbsp;</a></span>OSP_PROT_SKYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_PROT_SKYPE&#160;&#160;&#160;((const char*)&quot;SKYPE&quot;)		/* Skype protocol <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00465">465</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a93310672c1358e732400908dc7a11ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93310672c1358e732400908dc7a11ffd">&#9670;&nbsp;</a></span>OSP_SIP_HEADER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_SIP_HEADER&#160;&#160;&#160;((const char*)&quot;P-OSP-Auth-Token&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00474">474</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="aa6860ea5596044814f83cc17d128d02d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6860ea5596044814f83cc17d128d02d">&#9670;&nbsp;</a></span>OSP_SIZE_INTSTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_SIZE_INTSTR&#160;&#160;&#160;((unsigned int)16)			/* OSP signed/unsigned int <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> buffer size */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00444">444</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>.</p>

</div>
</div>
<a id="af0d803ea366335bc405bfc1f59cd3399"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0d803ea366335bc405bfc1f59cd3399">&#9670;&nbsp;</a></span>OSP_SIZE_KEYSTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_SIZE_KEYSTR&#160;&#160;&#160;((unsigned int)1024)		/* OSP certificate <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> buffer size */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00446">446</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a14d1713206e0c29b3af28d8c3a50024f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14d1713206e0c29b3af28d8c3a50024f">&#9670;&nbsp;</a></span>OSP_SIZE_NORSTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_SIZE_NORSTR&#160;&#160;&#160;((unsigned int)256)			/* OSP normal <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> buffer size */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00445">445</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01330">osp_auth()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01171">osp_check_destination()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00992">osp_convert_inout()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01032">osp_convert_outin()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">osp_next()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01971">osp_report_qos()</a>.</p>

</div>
</div>
<a id="a34493e33ef3bc392a891e8b9679c99a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34493e33ef3bc392a891e8b9679c99a6">&#9670;&nbsp;</a></span>OSP_SIZE_OUTSTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_SIZE_OUTSTR&#160;&#160;&#160;((unsigned int)288)		/* OSP <a class="el" href="../../da/d7c/utils_2frame_8h.html#a48bc11919b2752df9d14ce89557cfb25">out</a> size for <a class="el" href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00452">452</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01081">osp_validate_token()</a>.</p>

</div>
</div>
<a id="a41e9564a68e4b87da4917bbaaed5f016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41e9564a68e4b87da4917bbaaed5f016">&#9670;&nbsp;</a></span>OSP_SIZE_QOSSTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_SIZE_QOSSTR&#160;&#160;&#160;((unsigned int)1024)		/* QoS <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> buffer size */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00451">451</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>.</p>

</div>
</div>
<a id="a4d1c128846f4f4b3323db07721039fe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d1c128846f4f4b3323db07721039fe7">&#9670;&nbsp;</a></span>OSP_SIZE_TECHSTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_SIZE_TECHSTR&#160;&#160;&#160;((unsigned int)32)			/* OSP signed/unsigned int <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> buffer size */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00448">448</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

</div>
</div>
<a id="a1d60693a007b72ca378317284f1e63e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d60693a007b72ca378317284f1e63e3">&#9670;&nbsp;</a></span>OSP_SIZE_TOKSTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_SIZE_TOKSTR&#160;&#160;&#160;((unsigned int)4096)		/* OSP token <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> buffer size */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00447">447</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">osp_next()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01081">osp_validate_token()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="af57c2093c6f920c59f7a12125882b80c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af57c2093c6f920c59f7a12125882b80c">&#9670;&nbsp;</a></span>OSP_SIZE_UUID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_SIZE_UUID&#160;&#160;&#160;((unsigned int)16)			/* UUID size */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00449">449</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01394">osp_create_uuid()</a>.</p>

</div>
</div>
<a id="a2621bb444d890c400eee207b3573ed5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2621bb444d890c400eee207b3573ed5e">&#9670;&nbsp;</a></span>OSP_SIZE_UUIDSTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_SIZE_UUIDSTR&#160;&#160;&#160;((unsigned int)36)			/* UUID <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> size */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00450">450</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01423">osp_uuid2str()</a>.</p>

</div>
</div>
<a id="aa3e4c2f6886beeb3167baea11338365b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3e4c2f6886beeb3167baea11338365b">&#9670;&nbsp;</a></span>OSP_SSL_LIFETIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_SSL_LIFETIME&#160;&#160;&#160;((unsigned int)300)			/* <a class="el" href="../../dd/d27/iostream_8h.html#a71f21e09bf365489dab9d85bd4785e24">SSL</a> life time, <a class="el" href="../../da/d7c/utils_2frame_8h.html#aca392a8d3941cd0740aef3ad92545d67">in</a> seconds */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00522">522</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a232b5abec331065cc0ab6381c5ac5ea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a232b5abec331065cc0ab6381c5ac5ea1">&#9670;&nbsp;</a></span>OSP_TECH_H323</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_TECH_H323&#160;&#160;&#160;((const char*)&quot;H323&quot;)		/* OH323 tech <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00469">469</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01171">osp_check_destination()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="ab00665d0be85f5bdb470e104eb3659b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab00665d0be85f5bdb470e104eb3659b4">&#9670;&nbsp;</a></span>OSP_TECH_IAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_TECH_IAX&#160;&#160;&#160;((const char*)&quot;IAX2&quot;)		/* IAX2 tech <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00470">470</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01171">osp_check_destination()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="a3bb2e8490ca2aae2ef00dd0666a0d637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bb2e8490ca2aae2ef00dd0666a0d637">&#9670;&nbsp;</a></span>OSP_TECH_SIP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_TECH_SIP&#160;&#160;&#160;((const char*)&quot;SIP&quot;)		/* SIP tech <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00468">468</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01171">osp_check_destination()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<a id="ab0eeb414133a31e953150038886078f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0eeb414133a31e953150038886078f6">&#9670;&nbsp;</a></span>OSP_TECH_SKYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSP_TECH_SKYPE&#160;&#160;&#160;((const char*)&quot;SKYPE&quot;)		/* Skype tech <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00471">471</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01171">osp_check_destination()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a973bb7ee8e420cae3117b3d08d395fcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a973bb7ee8e420cae3117b3d08d395fcb">&#9670;&nbsp;</a></span>osp_authpolicy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcb">osp_authpolicy</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a973bb7ee8e420cae3117b3d08d395fcbabdd97707a7a03ac645574bd924a77685"></a>OSP_AUTH_NO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c"></a>OSP_AUTH_YES&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a973bb7ee8e420cae3117b3d08d395fcba5e1f97e56cc00a9688e4971be1d47e44"></a>OSP_AUTH_EXC&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00477">477</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                    {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcbabdd97707a7a03ac645574bd924a77685">OSP_AUTH_NO</a> = 0,  <span class="comment">/* Accept any call */</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c">OSP_AUTH_YES</a>,     <span class="comment">/* Accept call with valid OSP token or without OSP token */</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba5e1f97e56cc00a9688e4971be1d47e44">OSP_AUTH_EXC</a>      <span class="comment">/* Only accept call with valid OSP token */</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;};</div><div class="ttc" id="app__osplookup_8c_html_a973bb7ee8e420cae3117b3d08d395fcbabdd97707a7a03ac645574bd924a77685"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcbabdd97707a7a03ac645574bd924a77685">OSP_AUTH_NO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00478">app_osplookup.c:478</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c">OSP_AUTH_YES</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00479">app_osplookup.c:479</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a973bb7ee8e420cae3117b3d08d395fcba5e1f97e56cc00a9688e4971be1d47e44"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba5e1f97e56cc00a9688e4971be1d47e44">OSP_AUTH_EXC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00480">app_osplookup.c:480</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c4f5cc82d4cdd84bf0815e69c92124f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c4f5cc82d4cdd84bf0815e69c92124f">&#9670;&nbsp;</a></span>osp_callleg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124f">osp_callleg</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2c4f5cc82d4cdd84bf0815e69c92124fadda1fe888f9cef3fc0b1501c3089a8e7"></a>OSP_CALL_INBOUND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2c4f5cc82d4cdd84bf0815e69c92124fa618ee04e0fad20814aabec0ba83e10b6"></a>OSP_CALL_OUTBOUND&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00602">602</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                 {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124fadda1fe888f9cef3fc0b1501c3089a8e7">OSP_CALL_INBOUND</a>, <span class="comment">/* Inbound call leg */</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124fa618ee04e0fad20814aabec0ba83e10b6">OSP_CALL_OUTBOUND</a> <span class="comment">/* Outbound call leg */</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;};</div><div class="ttc" id="app__osplookup_8c_html_a2c4f5cc82d4cdd84bf0815e69c92124fa618ee04e0fad20814aabec0ba83e10b6"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124fa618ee04e0fad20814aabec0ba83e10b6">OSP_CALL_OUTBOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00604">app_osplookup.c:604</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2c4f5cc82d4cdd84bf0815e69c92124fadda1fe888f9cef3fc0b1501c3089a8e7"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124fadda1fe888f9cef3fc0b1501c3089a8e7">OSP_CALL_INBOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00603">app_osplookup.c:603</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a447c6c9f6ec11f5abfe7d812cbb90589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a447c6c9f6ec11f5abfe7d812cbb90589">&#9670;&nbsp;</a></span>osp_direction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589">osp_direction</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1"></a>OSP_DIR_RX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153"></a>OSP_DIR_TX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88"></a>OSP_DIR_NUMBER&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00608">608</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                   {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a> = 0,      <span class="comment">/* Receive */</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>,       <span class="comment">/* Send */</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88">OSP_DIR_NUMBER</a>    <span class="comment">/* Number of directions */</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;};</div><div class="ttc" id="app__osplookup_8c_html_a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00610">app_osplookup.c:610</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88">OSP_DIR_NUMBER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00611">app_osplookup.c:611</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00609">app_osplookup.c:609</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab539b964be69a0940bdca784ea442106"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab539b964be69a0940bdca784ea442106">&#9670;&nbsp;</a></span>osp_srvtype</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106">osp_srvtype</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab539b964be69a0940bdca784ea442106ac65012551eee5b9b7fdcf61c8ce0bd56"></a>OSP_SRV_VOICE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab539b964be69a0940bdca784ea442106a15963018b6837aa98637501b4be60399"></a>OSP_SRV_NPQUERY&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00490">490</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                 {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106ac65012551eee5b9b7fdcf61c8ce0bd56">OSP_SRV_VOICE</a> = 0,   <span class="comment">/* Normal voice service */</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106a15963018b6837aa98637501b4be60399">OSP_SRV_NPQUERY</a>      <span class="comment">/* Ported number query service */</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;};</div><div class="ttc" id="app__osplookup_8c_html_ab539b964be69a0940bdca784ea442106ac65012551eee5b9b7fdcf61c8ce0bd56"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106ac65012551eee5b9b7fdcf61c8ce0bd56">OSP_SRV_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00491">app_osplookup.c:491</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab539b964be69a0940bdca784ea442106a15963018b6837aa98637501b4be60399"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106a15963018b6837aa98637501b4be60399">OSP_SRV_NPQUERY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00492">app_osplookup.c:492</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a57b476e1bebcccf8b406321897704c08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b476e1bebcccf8b406321897704c08">&#9670;&nbsp;</a></span>osp_workmode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08">osp_workmode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a57b476e1bebcccf8b406321897704c08a250bfcd0779a034665876cb1d38749cd"></a>OSP_MODE_DIRECT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a57b476e1bebcccf8b406321897704c08a53ec5913992131e1a1ac837c30c8ab5b"></a>OSP_MODE_INDIRECT&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00484">484</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                  {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a250bfcd0779a034665876cb1d38749cd">OSP_MODE_DIRECT</a>= 0,  <span class="comment">/* Direct */</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a53ec5913992131e1a1ac837c30c8ab5b">OSP_MODE_INDIRECT</a> <span class="comment">/* Indirect */</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;};</div><div class="ttc" id="app__osplookup_8c_html_a57b476e1bebcccf8b406321897704c08a53ec5913992131e1a1ac837c30c8ab5b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a53ec5913992131e1a1ac837c30c8ab5b">OSP_MODE_INDIRECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00486">app_osplookup.c:486</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a57b476e1bebcccf8b406321897704c08a250bfcd0779a034665876cb1d38749cd"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a250bfcd0779a034665876cb1d38749cd">OSP_MODE_DIRECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00485">app_osplookup.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03170">3170</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03170">3170</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03170">3170</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

</div>
</div>
<a id="af51938903a4cc1d253bfbf03b2a70d90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af51938903a4cc1d253bfbf03b2a70d90">&#9670;&nbsp;</a></span>asterisk2osp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static OSPEFAILREASON asterisk2osp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cause</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert Asterisk status to TC code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cause</td><td>Asterisk hangup cause </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP TC code </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01313">1313</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02188">osp_finish()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">osp_next()</a>.</p>
<div class="fragment"><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;{</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;   <span class="keywordflow">return</span> (OSPEFAILREASON)cause;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a8c819d70b0fbac62fc53d35fb9918ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c819d70b0fbac62fc53d35fb9918ffd">&#9670;&nbsp;</a></span>handle_cli_osp_show()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cli_osp_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03022">3022</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00550">osp_provider::authpolicy</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00542">osp_provider::cacerts</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00541">osp_provider::canum</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00551">osp_provider::defprotocol</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00537">osp_provider::handle</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00540">osp_provider::localcert</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00545">osp_provider::maxconnect</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00538">osp_provider::name</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00554">osp_provider::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00626">osp_hardware</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00625">osp_initialized</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00624">osp_lock</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00627">osp_security</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00629">osp_tokenformat</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00539">osp_provider::privatekey</a>, <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00178">provider</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00546">osp_provider::retrydelay</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00547">osp_provider::retrylimit</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00549">osp_provider::source</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00543">osp_provider::spnum</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00544">osp_provider::spoints</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00553">osp_provider::srvtype</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00548">osp_provider::timeout</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00552">osp_provider::workmode</a>.</p>
<div class="fragment"><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;{</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;   <span class="keywordtype">int</span> found = 0;</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/de8/structosp__provider.html">osp_provider</a>* <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>;</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* tokenalgo;</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;osp show&quot;</span>;</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;         <span class="stringliteral">&quot;Usage: osp show\n&quot;</span></div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;         <span class="stringliteral">&quot;       Displays information on Open Settlement Protocol support\n&quot;</span>;</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;   }</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;   <span class="keywordflow">if</span> ((a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &lt; 2) || (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &gt; 3)) {</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;   }</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &gt; 2) {</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;      name = a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2];</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;   }</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;   <span class="keywordflow">if</span> (!name) {</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="../../d6/d27/app__osplookup_8c.html#ab918a4031e5d25153fe54e91be1ac56e">osp_tokenformat</a>) {</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;      <span class="keywordflow">case</span> TOKEN_ALGO_BOTH:</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;         tokenalgo = <span class="stringliteral">&quot;Both&quot;</span>;</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;      <span class="keywordflow">case</span> TOKEN_ALGO_UNSIGNED:</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;         tokenalgo = <span class="stringliteral">&quot;Unsigned&quot;</span>;</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;      <span class="keywordflow">case</span> TOKEN_ALGO_SIGNED:</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;         tokenalgo = <span class="stringliteral">&quot;Signed&quot;</span>;</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      }</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;OSP: %s/%s/%s/%s\n&quot;</span>,</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#a7b65a944814a9fe8b45330072c875e46">osp_initialized</a> ? <span class="stringliteral">&quot;Initialized&quot;</span> : <span class="stringliteral">&quot;Uninitialized&quot;</span>,</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5ef0958fa463ae932e3e71ec39cd1337">osp_hardware</a> ? <span class="stringliteral">&quot;Accelerated&quot;</span> : <span class="stringliteral">&quot;Normal&quot;</span>,</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a> ? <span class="stringliteral">&quot;Enabled&quot;</span> : <span class="stringliteral">&quot;Disabled&quot;</span>,</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;         tokenalgo);</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;   }</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a>);</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;   <span class="keywordflow">for</span> (provider = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a>; <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>; provider = provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a63a14d2d4363005a28ebcd7449452d43">next</a>) {</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;      <span class="keywordflow">if</span> (!name || !strcasecmp(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aa71edd0087e0e813c48841745a4643f6">name</a>, name)) {</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;         <span class="keywordflow">if</span> (found) {</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;         }</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot; == OSP Provider &#39;%s&#39; == \n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aa71edd0087e0e813c48841745a4643f6">name</a>);</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a>) {</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Local Private Key: %s\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">privatekey</a>);</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Local Certificate: %s\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">localcert</a>);</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a>; i++) {</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;               <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;CA Certificate %d:  %s\n&quot;</span>, i + 1, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">cacerts</a>[i]);</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;            }</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;         }</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab8460d0013a58d2110dbb36313437c2c">spnum</a>; i++) {</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Service Point %d:   %s\n&quot;</span>, i + 1, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab3d07409bb99f586c110141311ee1f00">spoints</a>[i]);</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;         }</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Max Connections:   %d\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a164df5d5fcaaba36d59a438aa163f23f">maxconnect</a>);</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Retry Delay:       %d seconds\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a95eba7a37533480a142325ed35ba0567">retrydelay</a>);</div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Retry Limit:       %d\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acba73caca275d414a4aad88137ed1f16">retrylimit</a>);</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Timeout:           %d milliseconds\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a25af7eefd48048fb067a60b8e295caf1">timeout</a>);</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Source:            %s\n&quot;</span>, strlen(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a>) ? provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a> : <span class="stringliteral">&quot;&lt;unspecified&gt;&quot;</span>);</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Auth Policy        %d\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a635fd679943876b710e3c99e24907dc3">authpolicy</a>);</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Default protocol   %s\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a0046f57b7fea37d0bfeadfafe405dfea">defprotocol</a>);</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Work mode          %d\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a2bf37ada3c48a03c6d0bcf7b5908b85a">workmode</a>);</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Service type       %d\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a4807a4d7e75a128ef0cfff947f84a59c">srvtype</a>);</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;OSP Handle:        %d\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a62668053aefe0d5985c4ae7451db8486">handle</a>);</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;         found++;</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;      }</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;   }</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a>);</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;   <span class="keywordflow">if</span> (!found) {</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;      <span class="keywordflow">if</span> (name) {</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Unable to find OSP provider &#39;%s&#39;\n&quot;</span>, name);</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;No OSP providers configured\n&quot;</span>);</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;      }</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;   }</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;}</div><div class="ttc" id="app__osplookup_8c_html_a5ef0958fa463ae932e3e71ec39cd1337"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5ef0958fa463ae932e3e71ec39cd1337">osp_hardware</a></div><div class="ttdeci">static int osp_hardware</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00626">app_osplookup.c:626</a></div></div>
<div class="ttc" id="structosp__provider_html_a635fd679943876b710e3c99e24907dc3"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a635fd679943876b710e3c99e24907dc3">osp_provider::authpolicy</a></div><div class="ttdeci">enum osp_authpolicy authpolicy</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00550">app_osplookup.c:550</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="structosp__provider_html_a62668053aefe0d5985c4ae7451db8486"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a62668053aefe0d5985c4ae7451db8486">osp_provider::handle</a></div><div class="ttdeci">OSPTPROVHANDLE handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00537">app_osplookup.c:537</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structosp__provider_html_a164df5d5fcaaba36d59a438aa163f23f"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a164df5d5fcaaba36d59a438aa163f23f">osp_provider::maxconnect</a></div><div class="ttdeci">unsigned int maxconnect</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00545">app_osplookup.c:545</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structosp__provider_html_aa71edd0087e0e813c48841745a4643f6"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#aa71edd0087e0e813c48841745a4643f6">osp_provider::name</a></div><div class="ttdeci">char name[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00538">app_osplookup.c:538</a></div></div>
<div class="ttc" id="structosp__provider_html_acba73caca275d414a4aad88137ed1f16"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#acba73caca275d414a4aad88137ed1f16">osp_provider::retrylimit</a></div><div class="ttdeci">unsigned int retrylimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00547">app_osplookup.c:547</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a7b65a944814a9fe8b45330072c875e46"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a7b65a944814a9fe8b45330072c875e46">osp_initialized</a></div><div class="ttdeci">static int osp_initialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00625">app_osplookup.c:625</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structosp__provider_html_aca8d35af0144c5dd6cc8a9ebca374e9e"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">osp_provider::localcert</a></div><div class="ttdeci">char localcert[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00540">app_osplookup.c:540</a></div></div>
<div class="ttc" id="structosp__provider_html_a0046f57b7fea37d0bfeadfafe405dfea"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a0046f57b7fea37d0bfeadfafe405dfea">osp_provider::defprotocol</a></div><div class="ttdeci">const char * defprotocol</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00551">app_osplookup.c:551</a></div></div>
<div class="ttc" id="structosp__provider_html_acde02795cae9dfc30095136a74361daa"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">osp_provider::canum</a></div><div class="ttdeci">unsigned int canum</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00541">app_osplookup.c:541</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="structosp__provider_html_a25af7eefd48048fb067a60b8e295caf1"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a25af7eefd48048fb067a60b8e295caf1">osp_provider::timeout</a></div><div class="ttdeci">unsigned int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00548">app_osplookup.c:548</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="structosp__provider_html_a95eba7a37533480a142325ed35ba0567"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a95eba7a37533480a142325ed35ba0567">osp_provider::retrydelay</a></div><div class="ttdeci">unsigned int retrydelay</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00546">app_osplookup.c:546</a></div></div>
<div class="ttc" id="structosp__provider_html_a3137316667213b7b19c9124ad25d43d2"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">osp_provider::cacerts</a></div><div class="ttdeci">char cacerts[OSP_MAX_CERTS][OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00542">app_osplookup.c:542</a></div></div>
<div class="ttc" id="structosp__provider_html"><div class="ttname"><a href="../../d9/de8/structosp__provider.html">osp_provider</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00536">app_osplookup.c:536</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structosp__provider_html_a2bf37ada3c48a03c6d0bcf7b5908b85a"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a2bf37ada3c48a03c6d0bcf7b5908b85a">osp_provider::workmode</a></div><div class="ttdeci">enum osp_workmode workmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00552">app_osplookup.c:552</a></div></div>
<div class="ttc" id="structosp__provider_html_a68a5e9ae8653802c57d25f372e4af0ec"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">osp_provider::privatekey</a></div><div class="ttdeci">char privatekey[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00539">app_osplookup.c:539</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab918a4031e5d25153fe54e91be1ac56e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab918a4031e5d25153fe54e91be1ac56e">osp_tokenformat</a></div><div class="ttdeci">static unsigned int osp_tokenformat</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00629">app_osplookup.c:629</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2ba7b476b11a1793f6c5ae0b81ee8b99"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a></div><div class="ttdeci">static int osp_security</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00627">app_osplookup.c:627</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2dc761e67618d6f48b8c5ad7bc59fb8c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a></div><div class="ttdeci">static struct osp_provider * osp_providers</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00628">app_osplookup.c:628</a></div></div>
<div class="ttc" id="structosp__provider_html_a63a14d2d4363005a28ebcd7449452d43"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a63a14d2d4363005a28ebcd7449452d43">osp_provider::next</a></div><div class="ttdeci">struct osp_provider * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00554">app_osplookup.c:554</a></div></div>
<div class="ttc" id="structosp__provider_html_ab8460d0013a58d2110dbb36313437c2c"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#ab8460d0013a58d2110dbb36313437c2c">osp_provider::spnum</a></div><div class="ttdeci">unsigned int spnum</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00543">app_osplookup.c:543</a></div></div>
<div class="ttc" id="structosp__provider_html_a950c439bf7874a44561d16a9e1895760"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">osp_provider::source</a></div><div class="ttdeci">char source[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00549">app_osplookup.c:549</a></div></div>
<div class="ttc" id="structosp__provider_html_a4807a4d7e75a128ef0cfff947f84a59c"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a4807a4d7e75a128ef0cfff947f84a59c">osp_provider::srvtype</a></div><div class="ttdeci">enum osp_srvtype srvtype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00553">app_osplookup.c:553</a></div></div>
<div class="ttc" id="bridges_8c_html_ab1760b9a6a6c8d063d49ab9b5bcdfa49"><div class="ttname"><a href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a></div><div class="ttdeci">static struct prometheus_metrics_provider provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/bridges_8c_source.html#l00178">bridges.c:178</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a16c9a5234ff1ee322a81e9632bd2119b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a></div><div class="ttdeci">static ast_mutex_t osp_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00624">app_osplookup.c:624</a></div></div>
<div class="ttc" id="structosp__provider_html_ab3d07409bb99f586c110141311ee1f00"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#ab3d07409bb99f586c110141311ee1f00">osp_provider::spoints</a></div><div class="ttdeci">char spoints[OSP_MAX_SPOINTS][OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00544">app_osplookup.c:544</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03128">3128</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03113">app1</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03116">app2</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03119">app3</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03122">app4</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00265">ast_cli_register_multiple</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00626">ast_register_application_xml</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02955">osp_load()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03158">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;{</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d27/app__osplookup_8c.html#abbf1e551f818049bd8744a6ece49a5ba">osp_load</a>(0))</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a10d006ccda399620ddcbdac150680853">cli_osp</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a10d006ccda399620ddcbdac150680853">cli_osp</a>) / <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>));</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;   res = <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a130651e69005942433505bd534ad9e51">app1</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a9439512050302cf411cbf93e78572b16">ospauth_exec</a>);</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a6cffecf2a021a06d24eaf268c3ef2895">app2</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a92886f60961457bc04de0bb39a7d1c20">osplookup_exec</a>);</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#aad58282d90fddc0dcc234189388a6b01">app3</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ae72fad1fd75a7bebdd9c9b11e2022a29">ospnext_exec</a>);</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#ae77cf0b3c2d8cf2f4cae97c6e46c8bcc">app4</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a07d4580d61828f602a5e001499f6a180">ospfinished_exec</a>);</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;}</div><div class="ttc" id="structast__cli__entry_html"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a></div><div class="ttdoc">descriptor for a cli entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00171">cli.h:171</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a130651e69005942433505bd534ad9e51"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a130651e69005942433505bd534ad9e51">app1</a></div><div class="ttdeci">static const char app1[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l03113">app_osplookup.c:3113</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aad58282d90fddc0dcc234189388a6b01"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aad58282d90fddc0dcc234189388a6b01">app3</a></div><div class="ttdeci">static const char app3[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l03119">app_osplookup.c:3119</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ae77cf0b3c2d8cf2f4cae97c6e46c8bcc"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ae77cf0b3c2d8cf2f4cae97c6e46c8bcc">app4</a></div><div class="ttdeci">static const char app4[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l03122">app_osplookup.c:3122</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_abbf1e551f818049bd8744a6ece49a5ba"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#abbf1e551f818049bd8744a6ece49a5ba">osp_load</a></div><div class="ttdeci">static int osp_load(int reload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l02955">app_osplookup.c:2955</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ae72fad1fd75a7bebdd9c9b11e2022a29"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ae72fad1fd75a7bebdd9c9b11e2022a29">ospnext_exec</a></div><div class="ttdeci">static int ospnext_exec(struct ast_channel *chan, const char *data)</div><div class="ttdoc">OSP Application OSPNext. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l02629">app_osplookup.c:2629</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a07d4580d61828f602a5e001499f6a180"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a07d4580d61828f602a5e001499f6a180">ospfinished_exec</a></div><div class="ttdeci">static int ospfinished_exec(struct ast_channel *chan, const char *data)</div><div class="ttdoc">OSP Application OSPFinish. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l02811">app_osplookup.c:2811</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a9439512050302cf411cbf93e78572b16"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a9439512050302cf411cbf93e78572b16">ospauth_exec</a></div><div class="ttdeci">static int ospauth_exec(struct ast_channel *chan, const char *data)</div><div class="ttdoc">OSP Application OSPAuth. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l02257">app_osplookup.c:2257</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a10d006ccda399620ddcbdac150680853"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a10d006ccda399620ddcbdac150680853">cli_osp</a></div><div class="ttdeci">static struct ast_cli_entry cli_osp[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l03124">app_osplookup.c:3124</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a92886f60961457bc04de0bb39a7d1c20"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a92886f60961457bc04de0bb39a7d1c20">osplookup_exec</a></div><div class="ttdeci">static int osplookup_exec(struct ast_channel *chan, const char *data)</div><div class="ttdoc">OSP Application OSPLookup. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l02337">app_osplookup.c:2337</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a6cffecf2a021a06d24eaf268c3ef2895"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a6cffecf2a021a06d24eaf268c3ef2895">app2</a></div><div class="ttdeci">static const char app2[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l03116">app_osplookup.c:3116</a></div></div>
<div class="ttc" id="module_8h_html_afba4eb7a910b10969041ae4cd488729d"><div class="ttname"><a href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a></div><div class="ttdeci">#define ast_register_application_xml(app, execute)</div><div class="ttdoc">Register an application using XML documentation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00626">module.h:626</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0207ebf9b72261964e9223dd921e73b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0207ebf9b72261964e9223dd921e73b9">&#9670;&nbsp;</a></span>osp_auth()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_auth </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>calling</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>called</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>timelimit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OSP Authentication function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>OSP provider context name </td></tr>
    <tr><td class="paramname">trans</td><td>OSP transaction handle, output </td></tr>
    <tr><td class="paramname">source</td><td>Source of inbound call </td></tr>
    <tr><td class="paramname">calling</td><td>Calling number </td></tr>
    <tr><td class="paramname">called</td><td>Called number </td></tr>
    <tr><td class="paramname">token</td><td>OSP token, may be empty </td></tr>
    <tr><td class="paramname">timelimit</td><td>Call duration limit, output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_OK Authenricated, OSP_FAILED Unauthenticated, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01330">1330</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00550">osp_provider::authpolicy</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00480">OSP_AUTH_EXC</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00478">OSP_AUTH_NO</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00479">OSP_AUTH_YES</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00945">osp_create_transaction()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00527">OSP_DEF_TIMELIMIT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00498">OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00497">OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00914">osp_get_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00501">OSP_INVALID_HANDLE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00445">OSP_SIZE_NORSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01081">osp_validate_token()</a>, and <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00178">provider</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;{</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/de8/structosp__provider.html">osp_provider</a>* <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   <span class="keywordtype">char</span> dest[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>];</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;   <span class="keywordflow">if</span> ((trans == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (timelimit == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid parameters\n&quot;</span>);</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;   }</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;   *trans = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;   *timelimit = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#af21fa85fa457a1235efc74c9e8d51bbb">osp_get_provider</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, &amp;provider)) &lt;= 0) {</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unabe to find OSP provider &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;   }</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;   <span class="keywordflow">switch</span> (provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a635fd679943876b710e3c99e24907dc3">authpolicy</a>) {</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcbabdd97707a7a03ac645574bd924a77685">OSP_AUTH_NO</a>:</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba5e1f97e56cc00a9688e4971be1d47e44">OSP_AUTH_EXC</a>:</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(token)) {</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;         res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab5dbdc8dc40e969bb49e15442cebf037">osp_create_transaction</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, trans, dest, <span class="keyword">sizeof</span>(dest))) &lt;= 0) {</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to generate transaction handle\n&quot;</span>);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;         *trans = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;         res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>((res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa79880aa57acaa11946296a8a1be6685">osp_validate_token</a>(*trans, <a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a>, dest, calling, called, token, timelimit)) &lt;= 0) {</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;         OSPPTransactionRecordFailure(*trans, OSPC_FAIL_CALL_REJECTED);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      }</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c">OSP_AUTH_YES</a>:</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(token)) {</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;         res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab5dbdc8dc40e969bb49e15442cebf037">osp_create_transaction</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, trans, dest, <span class="keyword">sizeof</span>(dest))) &lt;= 0) {</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to generate transaction handle\n&quot;</span>);</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;         *trans = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;         res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>((res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa79880aa57acaa11946296a8a1be6685">osp_validate_token</a>(*trans, <a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a>, dest, calling, called, token, timelimit)) &lt;= 0) {</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;         OSPPTransactionRecordFailure(*trans, OSPC_FAIL_CALL_REJECTED);</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      }</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;   }</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;}</div><div class="ttc" id="structosp__provider_html_a635fd679943876b710e3c99e24907dc3"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a635fd679943876b710e3c99e24907dc3">osp_provider::authpolicy</a></div><div class="ttdeci">enum osp_authpolicy authpolicy</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00550">app_osplookup.c:550</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aa79880aa57acaa11946296a8a1be6685"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa79880aa57acaa11946296a8a1be6685">osp_validate_token</a></div><div class="ttdeci">static int osp_validate_token(int trans, const char *source, const char *destination, const char *calling, const char *called, const char *token, unsigned int *timelimit)</div><div class="ttdoc">Validate OSP token of inbound call. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01081">app_osplookup.c:1081</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af21fa85fa457a1235efc74c9e8d51bbb"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af21fa85fa457a1235efc74c9e8d51bbb">osp_get_provider</a></div><div class="ttdeci">static int osp_get_provider(const char *name, struct osp_provider **provider)</div><div class="ttdoc">Get OSP provider by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00914">app_osplookup.c:914</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab5dbdc8dc40e969bb49e15442cebf037"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab5dbdc8dc40e969bb49e15442cebf037">osp_create_transaction</a></div><div class="ttdeci">static int osp_create_transaction(const char *name, int *trans, char *source, unsigned int srcsize)</div><div class="ttdoc">Create OSP transaction handle. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00945">app_osplookup.c:945</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a973bb7ee8e420cae3117b3d08d395fcbabdd97707a7a03ac645574bd924a77685"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcbabdd97707a7a03ac645574bd924a77685">OSP_AUTH_NO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00478">app_osplookup.c:478</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0f04966dacabe124fd55b281303a560a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a></div><div class="ttdeci">#define OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00498">app_osplookup.c:498</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structosp__provider_html"><div class="ttname"><a href="../../d9/de8/structosp__provider.html">osp_provider</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00536">app_osplookup.c:536</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c">OSP_AUTH_YES</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00479">app_osplookup.c:479</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aa216d244dea7f5d816cc35504c4390cc"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a></div><div class="ttdeci">#define OSP_DEF_TIMELIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00527">app_osplookup.c:527</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a693603e5e4556641af06c8ebec1dffc5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a></div><div class="ttdeci">#define OSP_INVALID_HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00501">app_osplookup.c:501</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a14d1713206e0c29b3af28d8c3a50024f"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a></div><div class="ttdeci">#define OSP_SIZE_NORSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00445">app_osplookup.c:445</a></div></div>
<div class="ttc" id="structosp__provider_html_a950c439bf7874a44561d16a9e1895760"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">osp_provider::source</a></div><div class="ttdeci">char source[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00549">app_osplookup.c:549</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a973bb7ee8e420cae3117b3d08d395fcba5e1f97e56cc00a9688e4971be1d47e44"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba5e1f97e56cc00a9688e4971be1d47e44">OSP_AUTH_EXC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00480">app_osplookup.c:480</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a994a6462629a5ad5016167d04ed3a9ab"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a></div><div class="ttdeci">#define OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00497">app_osplookup.c:497</a></div></div>
<div class="ttc" id="bridges_8c_html_ab1760b9a6a6c8d063d49ab9b5bcdfa49"><div class="ttname"><a href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a></div><div class="ttdeci">static struct prometheus_metrics_provider provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/bridges_8c_source.html#l00178">bridges.c:178</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a13252e3d1cc1d7b3d20d37834eb6588e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13252e3d1cc1d7b3d20d37834eb6588e">&#9670;&nbsp;</a></span>osp_check_destination()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_check_destination </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/de8/structosp__provider.html">osp_provider</a> *&#160;</td>
          <td class="paramname"><em>provider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>calling</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>called</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tokenlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OSPEFAILREASON *&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d92/structosp__results.html">osp_results</a> *&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Choose min duration limit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">provider</td><td>OSP provider </td></tr>
    <tr><td class="paramname">calling</td><td>Calling number </td></tr>
    <tr><td class="paramname">called</td><td>Called number </td></tr>
    <tr><td class="paramname">destination</td><td>Destination IP in '[x.x.x.x]' format </td></tr>
    <tr><td class="paramname">tokenlen</td><td>OSP token length </td></tr>
    <tr><td class="paramname">token</td><td>OSP token </td></tr>
    <tr><td class="paramname">reason</td><td>Failure reason, output </td></tr>
    <tr><td class="paramname">results</td><td>OSP lookup results, in/output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_OK Success, OSP_FAILED Failed, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01171">1171</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00404">ast_base64encode()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00590">osp_results::called</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00589">osp_results::calling</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00551">osp_provider::defprotocol</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00588">osp_results::dest</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00091">enabled</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00999">error()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00592">osp_results::networkid</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00594">osp_results::npcic</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00595">osp_results::npdi</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00593">osp_results::nprn</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00596">osp_results::opname</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01032">osp_convert_outin()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00498">OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00497">OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00445">OSP_SIZE_NORSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00469">OSP_TECH_H323</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00470">OSP_TECH_IAX</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00468">OSP_TECH_SIP</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00471">OSP_TECH_SKYPE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00583">osp_results::outhandle</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00587">osp_results::outtech</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00591">osp_results::token</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">osp_next()</a>.</p>
<div class="fragment"><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;{</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;   OSPE_DEST_OSPENABLED <a class="code" href="../../d0/d5d/dnsmgr_8c.html#a03e6cca0c879c0443efb431c30c14f76">enabled</a>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;   OSPE_PROTOCOL_NAME protocol;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;   <span class="keywordtype">char</span> dest[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>];</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;   OSPE_OPERATOR_NAME <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;   <span class="keywordflow">if</span> ((provider == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (reason == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (results == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid parameters\n&quot;</span>);</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;   }</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;   <span class="keywordflow">if</span> ((error = OSPPTransactionIsDestOSPEnabled(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, &amp;enabled)) != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to get destination OSP version, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      *reason = OSPC_FAIL_NORMAL_UNSPECIFIED;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;   }</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;   <span class="keywordflow">if</span> (enabled == OSPC_DOSP_FALSE) {</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#aeaab4f4002923faca19a77732670a245">token</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a555dad1bd5b23acf01cf08f1affab879">ast_base64encode</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#aeaab4f4002923faca19a77732670a245">token</a>, (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)token, tokenlen, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#aeaab4f4002923faca19a77732670a245">token</a>) - 1);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;   }</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;   <span class="keywordflow">if</span> ((error = OSPPTransactionGetDestinationNetworkId(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a8a40878f698d0e7d139412c28a0c729c">networkid</a>), results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a8a40878f698d0e7d139412c28a0c729c">networkid</a>)) != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to get destination network ID, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a8a40878f698d0e7d139412c28a0c729c">networkid</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;   }</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;   error = OSPPTransactionGetNumberPortabilityParameters(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>,</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a35e09574d85d055fc9b5a444be5f4f01">nprn</a>),</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a35e09574d85d055fc9b5a444be5f4f01">nprn</a>,</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a92001ea9c449e8ac4ff73e26f6356310">npcic</a>),</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a92001ea9c449e8ac4ff73e26f6356310">npcic</a>,</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      &amp;results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9b18be0183ba3a1cbcac4bf6aad3a042">npdi</a>);</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;   <span class="keywordflow">if</span> (error != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to get number portability parameters, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a35e09574d85d055fc9b5a444be5f4f01">nprn</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a92001ea9c449e8ac4ff73e26f6356310">npcic</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9b18be0183ba3a1cbcac4bf6aad3a042">npdi</a> = 0;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;   }</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;   <span class="keywordflow">for</span> (type = OSPC_OPNAME_START; type &lt; OSPC_OPNAME_NUMBER; type++) {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      error = OSPPTransactionGetOperatorName(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, type, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a96097f356daf14846c8d826b4670870b">opname</a>[type]), results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a96097f356daf14846c8d826b4670870b">opname</a>[type]);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="keywordflow">if</span> (error != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to get operator name of type &#39;%d&#39;, error &#39;%d&#39;\n&quot;</span>, type, error);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a96097f356daf14846c8d826b4670870b">opname</a>[<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>][0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      }</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;   }</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;   <span class="keywordflow">if</span> ((error = OSPPTransactionGetDestProtocol(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, &amp;protocol)) != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to get destination protocol, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      *reason = OSPC_FAIL_NORMAL_UNSPECIFIED;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#aeaab4f4002923faca19a77732670a245">token</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a8a40878f698d0e7d139412c28a0c729c">networkid</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a35e09574d85d055fc9b5a444be5f4f01">nprn</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a92001ea9c449e8ac4ff73e26f6356310">npcic</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9b18be0183ba3a1cbcac4bf6aad3a042">npdi</a> = 0;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <span class="keywordflow">for</span> (type = OSPC_OPNAME_START; type &lt; OSPC_OPNAME_NUMBER; type++) {</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a96097f356daf14846c8d826b4670870b">opname</a>[<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>][0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      }</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;   }</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;   res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3a8b68420cb327d2d184e9f313c9de7">osp_convert_outin</a>(destination, dest, <span class="keyword">sizeof</span>(dest));</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   <span class="keywordflow">switch</span>(protocol) {</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;   <span class="keywordflow">case</span> OSPC_PROTNAME_SIP:</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: protocol SIP\n&quot;</span>);</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">outtech</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3bb2e8490ca2aae2ef00dd0666a0d637">OSP_TECH_SIP</a>, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">outtech</a>));</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">dest</a>, dest, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">dest</a>));</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">calling</a>, calling, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">calling</a>));</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">called</a>, called, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">called</a>));</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;   <span class="keywordflow">case</span> OSPC_PROTNAME_Q931:</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: protocol Q.931\n&quot;</span>);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">outtech</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a232b5abec331065cc0ab6381c5ac5ea1">OSP_TECH_H323</a>, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">outtech</a>));</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">dest</a>, dest, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">dest</a>));</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">calling</a>, calling, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">calling</a>));</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">called</a>, called, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">called</a>));</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;   <span class="keywordflow">case</span> OSPC_PROTNAME_IAX:</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: protocol IAX\n&quot;</span>);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">outtech</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab00665d0be85f5bdb470e104eb3659b4">OSP_TECH_IAX</a>, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">outtech</a>));</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">dest</a>, dest, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">dest</a>));</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">calling</a>, calling, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">calling</a>));</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">called</a>, called, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">called</a>));</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;   <span class="keywordflow">case</span> OSPC_PROTNAME_SKYPE:</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: protocol Skype\n&quot;</span>);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">outtech</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab0eeb414133a31e953150038886078f6">OSP_TECH_SKYPE</a>, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">outtech</a>));</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">dest</a>, dest, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">dest</a>));</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">calling</a>, calling, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">calling</a>));</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">called</a>, called, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">called</a>));</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;   <span class="keywordflow">case</span> OSPC_PROTNAME_UNDEFINED:</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;   <span class="keywordflow">case</span> OSPC_PROTNAME_UNKNOWN:</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: unknown/undefined protocol &#39;%d&#39;\n&quot;</span>, protocol);</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: use default protocol &#39;%s&#39;\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a0046f57b7fea37d0bfeadfafe405dfea">defprotocol</a>);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">outtech</a>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a0046f57b7fea37d0bfeadfafe405dfea">defprotocol</a>, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">outtech</a>));</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">dest</a>, dest, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">dest</a>));</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">calling</a>, calling, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">calling</a>));</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">called</a>, called, <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">called</a>));</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;   <span class="keywordflow">case</span> OSPC_PROTNAME_LRQ:</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;   <span class="keywordflow">case</span> OSPC_PROTNAME_T37:</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;   <span class="keywordflow">case</span> OSPC_PROTNAME_T38:</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;   <span class="keywordflow">case</span> OSPC_PROTNAME_SMPP:</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   <span class="keywordflow">case</span> OSPC_PROTNAME_XMPP:</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: unsupported protocol &#39;%d&#39;\n&quot;</span>, protocol);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      *reason = OSPC_FAIL_PROTOCOL_ERROR;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#aeaab4f4002923faca19a77732670a245">token</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a8a40878f698d0e7d139412c28a0c729c">networkid</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a35e09574d85d055fc9b5a444be5f4f01">nprn</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a92001ea9c449e8ac4ff73e26f6356310">npcic</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9b18be0183ba3a1cbcac4bf6aad3a042">npdi</a> = 0;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <span class="keywordflow">for</span> (type = OSPC_OPNAME_START; type &lt; OSPC_OPNAME_NUMBER; type++) {</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a96097f356daf14846c8d826b4670870b">opname</a>[<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>][0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      }</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;   }</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a3bb2e8490ca2aae2ef00dd0666a0d637"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a3bb2e8490ca2aae2ef00dd0666a0d637">OSP_TECH_SIP</a></div><div class="ttdeci">#define OSP_TECH_SIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00468">app_osplookup.c:468</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a232b5abec331065cc0ab6381c5ac5ea1"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a232b5abec331065cc0ab6381c5ac5ea1">OSP_TECH_H323</a></div><div class="ttdeci">#define OSP_TECH_H323</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00469">app_osplookup.c:469</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structosp__results_html_ad6e676f723426600c66fc642e26b1493"><div class="ttname"><a href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">osp_results::dest</a></div><div class="ttdeci">char dest[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00588">app_osplookup.c:588</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab0eeb414133a31e953150038886078f6"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab0eeb414133a31e953150038886078f6">OSP_TECH_SKYPE</a></div><div class="ttdeci">#define OSP_TECH_SKYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00471">app_osplookup.c:471</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structosp__results_html_a73cadffe2ff8e4bebbea7db612fe78a7"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">osp_results::outtech</a></div><div class="ttdeci">char outtech[OSP_SIZE_TECHSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00587">app_osplookup.c:587</a></div></div>
<div class="ttc" id="structosp__results_html_a35e09574d85d055fc9b5a444be5f4f01"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a35e09574d85d055fc9b5a444be5f4f01">osp_results::nprn</a></div><div class="ttdeci">char nprn[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00593">app_osplookup.c:593</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structosp__results_html_a884af616aa6da01d2bb1fcd3e4699d63"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">osp_results::calling</a></div><div class="ttdeci">char calling[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00589">app_osplookup.c:589</a></div></div>
<div class="ttc" id="structosp__provider_html_a0046f57b7fea37d0bfeadfafe405dfea"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a0046f57b7fea37d0bfeadfafe405dfea">osp_provider::defprotocol</a></div><div class="ttdeci">const char * defprotocol</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00551">app_osplookup.c:551</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0f04966dacabe124fd55b281303a560a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a></div><div class="ttdeci">#define OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00498">app_osplookup.c:498</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab3a8b68420cb327d2d184e9f313c9de7"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab3a8b68420cb327d2d184e9f313c9de7">osp_convert_outin</a></div><div class="ttdeci">static void osp_convert_outin(const char *src, char *dest, unsigned int destsize)</div><div class="ttdoc">Convert &quot;[x.x.x.x]:port&quot; or &quot;hostname:prot&quot; to &quot;address:port&quot; format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01032">app_osplookup.c:1032</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structosp__results_html_a9510d026d1fc5261f447c25136359281"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">osp_results::outhandle</a></div><div class="ttdeci">int outhandle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00583">app_osplookup.c:583</a></div></div>
<div class="ttc" id="structosp__results_html_a96097f356daf14846c8d826b4670870b"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a96097f356daf14846c8d826b4670870b">osp_results::opname</a></div><div class="ttdeci">char opname[OSPC_OPNAME_NUMBER][OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00596">app_osplookup.c:596</a></div></div>
<div class="ttc" id="utils_8h_html_a555dad1bd5b23acf01cf08f1affab879"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a555dad1bd5b23acf01cf08f1affab879">ast_base64encode</a></div><div class="ttdeci">int ast_base64encode(char *dst, const unsigned char *src, int srclen, int max)</div><div class="ttdoc">Encode data in base64. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00404">main/utils.c:404</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab00665d0be85f5bdb470e104eb3659b4"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab00665d0be85f5bdb470e104eb3659b4">OSP_TECH_IAX</a></div><div class="ttdeci">#define OSP_TECH_IAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00470">app_osplookup.c:470</a></div></div>
<div class="ttc" id="structosp__results_html_a92001ea9c449e8ac4ff73e26f6356310"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a92001ea9c449e8ac4ff73e26f6356310">osp_results::npcic</a></div><div class="ttdeci">char npcic[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00594">app_osplookup.c:594</a></div></div>
<div class="ttc" id="structosp__results_html_a8a40878f698d0e7d139412c28a0c729c"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a8a40878f698d0e7d139412c28a0c729c">osp_results::networkid</a></div><div class="ttdeci">char networkid[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00592">app_osplookup.c:592</a></div></div>
<div class="ttc" id="structosp__results_html_aeaab4f4002923faca19a77732670a245"><div class="ttname"><a href="../../d4/d92/structosp__results.html#aeaab4f4002923faca19a77732670a245">osp_results::token</a></div><div class="ttdeci">char token[OSP_SIZE_TOKSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00591">app_osplookup.c:591</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a14d1713206e0c29b3af28d8c3a50024f"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a></div><div class="ttdeci">#define OSP_SIZE_NORSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00445">app_osplookup.c:445</a></div></div>
<div class="ttc" id="structosp__results_html_a7a5c140c1fbb0cebedbb35382dcf72da"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">osp_results::called</a></div><div class="ttdeci">char called[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00590">app_osplookup.c:590</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
<div class="ttc" id="structosp__results_html_a9b18be0183ba3a1cbcac4bf6aad3a042"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a9b18be0183ba3a1cbcac4bf6aad3a042">osp_results::npdi</a></div><div class="ttdeci">int npdi</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00595">app_osplookup.c:595</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a994a6462629a5ad5016167d04ed3a9ab"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a></div><div class="ttdeci">#define OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00497">app_osplookup.c:497</a></div></div>
<div class="ttc" id="dnsmgr_8c_html_a03e6cca0c879c0443efb431c30c14f76"><div class="ttname"><a href="../../d0/d5d/dnsmgr_8c.html#a03e6cca0c879c0443efb431c30c14f76">enabled</a></div><div class="ttdeci">static int enabled</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5d/dnsmgr_8c_source.html#l00091">dnsmgr.c:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acad1656c35ed21d307a509194041383e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acad1656c35ed21d307a509194041383e">&#9670;&nbsp;</a></span>osp_choose_timelimit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int osp_choose_timelimit </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Choose min duration limit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>Inbound duration limit </td></tr>
    <tr><td class="paramname">out</td><td>Outbound duration limit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>min duration limit </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01146">1146</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00033">in</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00527">OSP_DEF_TIMELIMIT</a>, and <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00033">out</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">osp_next()</a>.</p>
<div class="fragment"><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;{</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d47/utils_2frame_8c.html#aca392a8d3941cd0740aef3ad92545d67">in</a> == <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>) {</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a>;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a> == <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>) {</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#aca392a8d3941cd0740aef3ad92545d67">in</a>;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#aca392a8d3941cd0740aef3ad92545d67">in</a> &lt; <a class="code" href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a> ? <a class="code" href="../../d6/d47/utils_2frame_8c.html#aca392a8d3941cd0740aef3ad92545d67">in</a> : <a class="code" href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a>;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;   }</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;}</div><div class="ttc" id="utils_2frame_8c_html_aca392a8d3941cd0740aef3ad92545d67"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#aca392a8d3941cd0740aef3ad92545d67">in</a></div><div class="ttdeci">FILE * in</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00033">utils/frame.c:33</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aa216d244dea7f5d816cc35504c4390cc"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a></div><div class="ttdeci">#define OSP_DEF_TIMELIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00527">app_osplookup.c:527</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a48bc11919b2752df9d14ce89557cfb25"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a></div><div class="ttdeci">FILE * out</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00033">utils/frame.c:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab76700b23001d9fccd14fc003d88b599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab76700b23001d9fccd14fc003d88b599">&#9670;&nbsp;</a></span>osp_convert_inout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void osp_convert_inout </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>destsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert "address:port" to "[x.x.x.x]:port" or "hostname:port" format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>Source address string </td></tr>
    <tr><td class="paramname">dest</td><td>Destination address string </td></tr>
    <tr><td class="paramname">destsize</td><td>Size of dest buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00992">992</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00445">OSP_SIZE_NORSTR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01081">osp_validate_token()</a>.</p>
<div class="fragment"><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;{</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;   <span class="keyword">struct </span>in_addr inp;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <span class="keywordtype">char</span> buffer[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>];</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;   <span class="keywordtype">char</span>* port;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   <span class="keywordflow">if</span> ((dest != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (destsize &gt; 0)) {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(src)) {</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(buffer, src, <span class="keyword">sizeof</span>(buffer));</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;         <span class="keywordflow">if</span>((port = strchr(buffer, <span class="charliteral">&#39;:&#39;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            *port = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            port++;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;         }</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;         <span class="keywordflow">if</span> (inet_pton(AF_INET, buffer, &amp;inp) == 1) {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <span class="keywordflow">if</span> (port != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;               snprintf(dest, destsize, <span class="stringliteral">&quot;[%s]:%s&quot;</span>, buffer, port);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;               snprintf(dest, destsize, <span class="stringliteral">&quot;[%s]&quot;</span>, buffer);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            dest[destsize - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(dest, src, destsize);</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;         }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;         *dest = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      }</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;   }</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a14d1713206e0c29b3af28d8c3a50024f"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a></div><div class="ttdeci">#define OSP_SIZE_NORSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00445">app_osplookup.c:445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3a8b68420cb327d2d184e9f313c9de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3a8b68420cb327d2d184e9f313c9de7">&#9670;&nbsp;</a></span>osp_convert_outin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void osp_convert_outin </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>destsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert "[x.x.x.x]:port" or "hostname:prot" to "address:port" format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>Source address string </td></tr>
    <tr><td class="paramname">dest</td><td>Destination address string </td></tr>
    <tr><td class="paramname">destsize</td><td>Size of dest buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01032">1032</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">end</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00445">OSP_SIZE_NORSTR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01171">osp_check_destination()</a>.</p>
<div class="fragment"><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;{</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;   <span class="keywordtype">char</span> buffer[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>];</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;   <span class="keywordtype">char</span>* <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;   <span class="keywordtype">char</span>* port;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;   <span class="keywordflow">if</span> ((dest != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (destsize &gt; 0)) {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(src)) {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(buffer, src, <span class="keyword">sizeof</span>(buffer));</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;         <span class="keywordflow">if</span> (buffer[0] == <span class="charliteral">&#39;[&#39;</span>) {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <span class="keywordflow">if</span>((port = strchr(buffer + 1, <span class="charliteral">&#39;:&#39;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;               *port = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;               port++;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            }</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            <span class="keywordflow">if</span> ((end = strchr(buffer + 1, <span class="charliteral">&#39;]&#39;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;               *end = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            }</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            <span class="keywordflow">if</span> (port != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;               snprintf(dest, destsize, <span class="stringliteral">&quot;%s:%s&quot;</span>, buffer + 1, port);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;               dest[destsize - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(dest, buffer + 1, destsize);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            }</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(dest, src, destsize);</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;         }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;         *dest = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      }</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;   }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a8fd806ad19b8f5513a4cf18cbf77532c"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a></div><div class="ttdeci">char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a14d1713206e0c29b3af28d8c3a50024f"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a></div><div class="ttdeci">#define OSP_SIZE_NORSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00445">app_osplookup.c:445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9f5a73f76d19b25d7666d4a3517d64a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f5a73f76d19b25d7666d4a3517d64a">&#9670;&nbsp;</a></span>osp_create_callid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_create_callid </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../da/de1/structosp__callid.html">osp_callid</a> *&#160;</td>
          <td class="paramname"><em>callid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a call ID according to the type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Call ID type </td></tr>
    <tr><td class="paramname">callid</td><td>Call ID buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSK_OK Created, OSP_FAILED Not create, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01451">1451</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00559">osp_callid::buf</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00560">osp_callid::len</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00457">OSP_CALLID_H323</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00458">OSP_CALLID_IAX</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00456">OSP_CALLID_SIP</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01394">osp_create_uuid()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00498">OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00497">OSP_FAILED</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>.</p>
<div class="fragment"><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;{</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;   <span class="keywordflow">if</span> (callid == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid parameters\n&quot;</span>);</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;   }</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;   callid-&gt;<a class="code" href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">len</a> = <span class="keyword">sizeof</span>(callid-&gt;<a class="code" href="../../da/de1/structosp__callid.html#add6beb7c0e4ac47a29fd9e8c4b2ebb2d">buf</a>);</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a25a1a9044e69c1b41d40f79d1216d4c3">OSP_CALLID_H323</a>:</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a9f69bca08e4ca9b69fc311c9031f25ec">osp_create_uuid</a>(callid-&gt;<a class="code" href="../../da/de1/structosp__callid.html#add6beb7c0e4ac47a29fd9e8c4b2ebb2d">buf</a>, &amp;callid-&gt;<a class="code" href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">len</a>);</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a1725c43ee772f3901c2bd542f9582ee1">OSP_CALLID_SIP</a>:</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa8a82820ad56cd5eb4b6baa00cf6f68a">OSP_CALLID_IAX</a>:</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;   }</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;   <span class="keywordflow">if</span> ((res != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>) &amp;&amp; (callid-&gt;<a class="code" href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">len</a> != 0)) {</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      callid-&gt;<a class="code" href="../../da/de1/structosp__callid.html#add6beb7c0e4ac47a29fd9e8c4b2ebb2d">buf</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      callid-&gt;<a class="code" href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">len</a> = 0;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;   }</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a25a1a9044e69c1b41d40f79d1216d4c3"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a25a1a9044e69c1b41d40f79d1216d4c3">OSP_CALLID_H323</a></div><div class="ttdeci">#define OSP_CALLID_H323</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00457">app_osplookup.c:457</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a9f69bca08e4ca9b69fc311c9031f25ec"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a9f69bca08e4ca9b69fc311c9031f25ec">osp_create_uuid</a></div><div class="ttdeci">static int osp_create_uuid(unsigned char *uuid, unsigned int *bufsize)</div><div class="ttdoc">Create a UUID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01394">app_osplookup.c:1394</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a1725c43ee772f3901c2bd542f9582ee1"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a1725c43ee772f3901c2bd542f9582ee1">OSP_CALLID_SIP</a></div><div class="ttdeci">#define OSP_CALLID_SIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00456">app_osplookup.c:456</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0f04966dacabe124fd55b281303a560a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a></div><div class="ttdeci">#define OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00498">app_osplookup.c:498</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aa8a82820ad56cd5eb4b6baa00cf6f68a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa8a82820ad56cd5eb4b6baa00cf6f68a">OSP_CALLID_IAX</a></div><div class="ttdeci">#define OSP_CALLID_IAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00458">app_osplookup.c:458</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structosp__callid_html_add6beb7c0e4ac47a29fd9e8c4b2ebb2d"><div class="ttname"><a href="../../da/de1/structosp__callid.html#add6beb7c0e4ac47a29fd9e8c4b2ebb2d">osp_callid::buf</a></div><div class="ttdeci">unsigned char buf[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00559">app_osplookup.c:559</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a994a6462629a5ad5016167d04ed3a9ab"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a></div><div class="ttdeci">#define OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00497">app_osplookup.c:497</a></div></div>
<div class="ttc" id="structosp__callid_html_a77124bd5f7e31e6fffc19f335da0c23f"><div class="ttname"><a href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">osp_callid::len</a></div><div class="ttdeci">unsigned int len</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00560">app_osplookup.c:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a300cfd86f48019deab149c7a21131f66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a300cfd86f48019deab149c7a21131f66">&#9670;&nbsp;</a></span>osp_create_provider()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_create_provider </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create OSP provider handle according to configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>OSP configuration </td></tr>
    <tr><td class="paramname">name</td><td>OSP provider context name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_OK Success, OSP_FAILED Failed, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">644</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00161">ast_config_AST_KEY_DIR</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01216">ast_variable_browse()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00550">osp_provider::authpolicy</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00634">B64CACert</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00633">B64LCert</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00632">B64PKey</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00542">osp_provider::cacerts</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00541">osp_provider::canum</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00551">osp_provider::defprotocol</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00999">error()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00537">osp_provider::handle</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00095">ast_variable::lineno</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00540">osp_provider::localcert</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00545">osp_provider::maxconnect</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00538">osp_provider::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00554">osp_provider::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00520">OSP_AUDIT_URL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00480">OSP_AUTH_EXC</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00478">OSP_AUTH_NO</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00479">OSP_AUTH_YES</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00524">OSP_CUSTOMER_ID</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00519">OSP_DEF_AUTHPOLICY</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00507">OSP_DEF_MAXCONNECT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00528">OSP_DEF_PROTOCOL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00510">OSP_DEF_RETRYDELAY</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00513">OSP_DEF_RETRYLIMIT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00530">OSP_DEF_SRVTYPE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00516">OSP_DEF_TIMEOUT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00529">OSP_DEF_WORKMODE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00525">OSP_DEVICE_ID</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00498">OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00497">OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00523">OSP_HTTP_PERSISTENCE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00501">OSP_INVALID_HANDLE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00521">OSP_LOCAL_VALIDATION</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00624">osp_lock</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00505">OSP_MAX_CERTS</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00509">OSP_MAX_MAXCONNECT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00512">OSP_MAX_RETRYDELAY</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00515">OSP_MAX_RETRYLIMIT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00506">OSP_MAX_SPOINTS</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00518">OSP_MAX_TIMEOUT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00508">OSP_MIN_MAXCONNECT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00511">OSP_MIN_RETRYDELAY</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00514">OSP_MIN_RETRYLIMIT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00517">OSP_MIN_TIMEOUT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00485">OSP_MODE_DIRECT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00486">OSP_MODE_INDIRECT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00463">OSP_PROT_H323</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00464">OSP_PROT_IAX</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00462">OSP_PROT_SIP</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00465">OSP_PROT_SKYPE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00628">osp_providers</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00627">osp_security</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00446">OSP_SIZE_KEYSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00492">OSP_SRV_NPQUERY</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00491">OSP_SRV_VOICE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00522">OSP_SSL_LIFETIME</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00539">osp_provider::privatekey</a>, <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00178">provider</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00546">osp_provider::retrydelay</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00547">osp_provider::retrylimit</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00549">osp_provider::source</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00543">osp_provider::spnum</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00544">osp_provider::spoints</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00553">osp_provider::srvtype</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00548">osp_provider::timeout</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>, <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00552">osp_provider::workmode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02955">osp_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;{</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a>* <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/de8/structosp__provider.html">osp_provider</a>* <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   OSPTPRIVATEKEY <a class="code" href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">privatekey</a>;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   OSPT_CERT <a class="code" href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">localcert</a>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   OSPT_CERT <a class="code" href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">cacerts</a>[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a7e5aa3485d963d46940150952788067e">OSP_MAX_CERTS</a>];</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;   <span class="keyword">const</span> OSPT_CERT* pcacerts[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a7e5aa3485d963d46940150952788067e">OSP_MAX_CERTS</a>];</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* pspoints[<a class="code" href="../../d6/d27/app__osplookup_8c.html#add761a56c3a38612a47b079ad5d943bc">OSP_MAX_SPOINTS</a>];</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> privatekeydata[<a class="code" href="../../d6/d27/app__osplookup_8c.html#af0d803ea366335bc405bfc1f59cd3399">OSP_SIZE_KEYSTR</a>];</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> localcertdata[<a class="code" href="../../d6/d27/app__osplookup_8c.html#af0d803ea366335bc405bfc1f59cd3399">OSP_SIZE_KEYSTR</a>];</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cacertdata[<a class="code" href="../../d6/d27/app__osplookup_8c.html#af0d803ea366335bc405bfc1f59cd3399">OSP_SIZE_KEYSTR</a>];</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   <span class="keywordtype">int</span> i, num, <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a> = OSPC_ERR_NO_ERROR;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <span class="keywordflow">if</span> (!(provider = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*provider)))) {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Out of memory\n&quot;</span>);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   <span class="comment">/* ast_calloc has set 0 in provider */</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a62668053aefe0d5985c4ae7451db8486">handle</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aa71edd0087e0e813c48841745a4643f6">name</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aa71edd0087e0e813c48841745a4643f6">name</a>));</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   snprintf(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">privatekey</a>, <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">privatekey</a>), <span class="stringliteral">&quot;%s/%s-privatekey.pem&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a0334adace37c0e8de8ea89c8651336a2">ast_config_AST_KEY_DIR</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   snprintf(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">localcert</a>, <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">localcert</a>), <span class="stringliteral">&quot;%s/%s-localcert.pem&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a0334adace37c0e8de8ea89c8651336a2">ast_config_AST_KEY_DIR</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   snprintf(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">cacerts</a>[0], <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">cacerts</a>[0]), <span class="stringliteral">&quot;%s/%s-cacert_0.pem&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a0334adace37c0e8de8ea89c8651336a2">ast_config_AST_KEY_DIR</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a164df5d5fcaaba36d59a438aa163f23f">maxconnect</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2b362aecd6cc02ebad1cc744b707a9e4">OSP_DEF_MAXCONNECT</a>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a95eba7a37533480a142325ed35ba0567">retrydelay</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a95dd1b545000ce7fc31a6dd3b53d3d2d">OSP_DEF_RETRYDELAY</a>;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acba73caca275d414a4aad88137ed1f16">retrylimit</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#ad36c654250d30dc9f04f066078652ffd">OSP_DEF_RETRYLIMIT</a>;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;   provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a25af7eefd48048fb067a60b8e295caf1">timeout</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#af41fd1b7d5fe4fab7275c19e5be93faf">OSP_DEF_TIMEOUT</a>;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a635fd679943876b710e3c99e24907dc3">authpolicy</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a6ac883183e1140c2f254abca99cae0a2">OSP_DEF_AUTHPOLICY</a>;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;   provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a0046f57b7fea37d0bfeadfafe405dfea">defprotocol</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#ac9ea65ddfcb75c30bd9a976bb3ac61a7">OSP_DEF_PROTOCOL</a>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a2bf37ada3c48a03c6d0bcf7b5908b85a">workmode</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0805d660cee0ed192260f42fb895c8ce">OSP_DEF_WORKMODE</a>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a4807a4d7e75a128ef0cfff947f84a59c">srvtype</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a70ea7a4fc72536b43f30f9f063600ea0">OSP_DEF_SRVTYPE</a>;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;   <span class="keywordflow">for</span> (var = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>); var != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; var = var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;privatekey&quot;</span>)) {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a>) {</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            <span class="keywordflow">if</span> (var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>[0] == <span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">privatekey</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">privatekey</a>));</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;               snprintf(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">privatekey</a>, <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">privatekey</a>), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a0334adace37c0e8de8ea89c8651336a2">ast_config_AST_KEY_DIR</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: privatekey &#39;%s&#39;\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">privatekey</a>);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;         }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;localcert&quot;</span>)) {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a>) {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <span class="keywordflow">if</span> (var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>[0] == <span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">localcert</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">localcert</a>));</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;               snprintf(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">localcert</a>, <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">localcert</a>), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a0334adace37c0e8de8ea89c8651336a2">ast_config_AST_KEY_DIR</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: localcert &#39;%s&#39;\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">localcert</a>);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;         }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;cacert&quot;</span>)) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a>) {</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            <span class="keywordflow">if</span> (provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a> &lt; <a class="code" href="../../d6/d27/app__osplookup_8c.html#a7e5aa3485d963d46940150952788067e">OSP_MAX_CERTS</a>) {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;               <span class="keywordflow">if</span> (var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>[0] == <span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                  <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">cacerts</a>[provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a>], var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">cacerts</a>[provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a>]));</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                  snprintf(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">cacerts</a>[provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a>], <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">cacerts</a>[provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a>]), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a0334adace37c0e8de8ea89c8651336a2">ast_config_AST_KEY_DIR</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;               }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: cacerts[%d]: &#39;%s&#39;\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">cacerts</a>[provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a>]);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;               provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a>++;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Too many CA Certificates at line %d\n&quot;</span>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;         }</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;servicepoint&quot;</span>)) {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;         <span class="keywordflow">if</span> (provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab8460d0013a58d2110dbb36313437c2c">spnum</a> &lt; <a class="code" href="../../d6/d27/app__osplookup_8c.html#add761a56c3a38612a47b079ad5d943bc">OSP_MAX_SPOINTS</a>) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab3d07409bb99f586c110141311ee1f00">spoints</a>[provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab8460d0013a58d2110dbb36313437c2c">spnum</a>], var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab3d07409bb99f586c110141311ee1f00">spoints</a>[provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab8460d0013a58d2110dbb36313437c2c">spnum</a>]));</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: servicepoint[%d]: &#39;%s&#39;\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab8460d0013a58d2110dbb36313437c2c">spnum</a>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab3d07409bb99f586c110141311ee1f00">spoints</a>[provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab8460d0013a58d2110dbb36313437c2c">spnum</a>]);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab8460d0013a58d2110dbb36313437c2c">spnum</a>++;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Too many Service Points at line %d\n&quot;</span>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;         }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;maxconnect&quot;</span>)) {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;         <span class="keywordflow">if</span> ((sscanf(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;num) == 1) &amp;&amp; (num &gt;= <a class="code" href="../../d6/d27/app__osplookup_8c.html#a9f83fdd55a8cc31ee71974138f8a8b63">OSP_MIN_MAXCONNECT</a>) &amp;&amp; (num &lt;= <a class="code" href="../../d6/d27/app__osplookup_8c.html#a4dfaff92993999768c875b5c2cef0418">OSP_MAX_MAXCONNECT</a>)) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a164df5d5fcaaba36d59a438aa163f23f">maxconnect</a> = num;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: maxconnect &#39;%d&#39;\n&quot;</span>, num);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: maxconnect should be an integer from %d to %d, not &#39;%s&#39; at line %d\n&quot;</span>,</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;               <a class="code" href="../../d6/d27/app__osplookup_8c.html#a9f83fdd55a8cc31ee71974138f8a8b63">OSP_MIN_MAXCONNECT</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a4dfaff92993999768c875b5c2cef0418">OSP_MAX_MAXCONNECT</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;         }</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;retrydelay&quot;</span>)) {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;         <span class="keywordflow">if</span> ((sscanf(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;num) == 1) &amp;&amp; (num &gt;= <a class="code" href="../../d6/d27/app__osplookup_8c.html#aecc0ca5e6e73e6f92cc828c409801700">OSP_MIN_RETRYDELAY</a>) &amp;&amp; (num &lt;= <a class="code" href="../../d6/d27/app__osplookup_8c.html#aed8af19a7b6dc236071e11d067d3222a">OSP_MAX_RETRYDELAY</a>)) {</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a95eba7a37533480a142325ed35ba0567">retrydelay</a> = num;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: retrydelay &#39;%d&#39;\n&quot;</span>, num);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: retrydelay should be an integer from %d to %d, not &#39;%s&#39; at line %d\n&quot;</span>,</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;               <a class="code" href="../../d6/d27/app__osplookup_8c.html#aecc0ca5e6e73e6f92cc828c409801700">OSP_MIN_RETRYDELAY</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#aed8af19a7b6dc236071e11d067d3222a">OSP_MAX_RETRYDELAY</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;         }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;retrylimit&quot;</span>)) {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;         <span class="keywordflow">if</span> ((sscanf(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;num) == 1) &amp;&amp; (num &gt;= <a class="code" href="../../d6/d27/app__osplookup_8c.html#a258abbda51de2390bf0185bbbd4040ca">OSP_MIN_RETRYLIMIT</a>) &amp;&amp; (num &lt;= <a class="code" href="../../d6/d27/app__osplookup_8c.html#a345b7fdd7075bffae65d67aaf300fcb9">OSP_MAX_RETRYLIMIT</a>)) {</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acba73caca275d414a4aad88137ed1f16">retrylimit</a> = num;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: retrylimit &#39;%d&#39;\n&quot;</span>, num);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: retrylimit should be an integer from %d to %d, not &#39;%s&#39; at line %d\n&quot;</span>,</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;               <a class="code" href="../../d6/d27/app__osplookup_8c.html#a258abbda51de2390bf0185bbbd4040ca">OSP_MIN_RETRYLIMIT</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a345b7fdd7075bffae65d67aaf300fcb9">OSP_MAX_RETRYLIMIT</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;         }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;timeout&quot;</span>)) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;         <span class="keywordflow">if</span> ((sscanf(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;num) == 1) &amp;&amp; (num &gt;= <a class="code" href="../../d6/d27/app__osplookup_8c.html#a73d87c526fda549fef6b81a22da2090a">OSP_MIN_TIMEOUT</a>) &amp;&amp; (num &lt;= <a class="code" href="../../d6/d27/app__osplookup_8c.html#ac7a3ff9d63c0e30ee94430056b2ac82c">OSP_MAX_TIMEOUT</a>)) {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a25af7eefd48048fb067a60b8e295caf1">timeout</a> = num;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: timeout &#39;%d&#39;\n&quot;</span>, num);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: timeout should be an integer from %d to %d, not &#39;%s&#39; at line %d\n&quot;</span>,</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;               <a class="code" href="../../d6/d27/app__osplookup_8c.html#a73d87c526fda549fef6b81a22da2090a">OSP_MIN_TIMEOUT</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ac7a3ff9d63c0e30ee94430056b2ac82c">OSP_MAX_TIMEOUT</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;         }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;source&quot;</span>)) {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a>));</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: source &#39;%s&#39;\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a>);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;authpolicy&quot;</span>)) {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;         <span class="keywordflow">if</span> ((sscanf(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;num) == 1) &amp;&amp; ((num == <a class="code" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcbabdd97707a7a03ac645574bd924a77685">OSP_AUTH_NO</a>) || (num == <a class="code" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c">OSP_AUTH_YES</a>) || (num == <a class="code" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba5e1f97e56cc00a9688e4971be1d47e44">OSP_AUTH_EXC</a>))) {</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a635fd679943876b710e3c99e24907dc3">authpolicy</a> = num;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: authpolicy &#39;%d&#39;\n&quot;</span>, num);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: authpolicy should be %d, %d or %d, not &#39;%s&#39; at line %d\n&quot;</span>,</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;               <a class="code" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcbabdd97707a7a03ac645574bd924a77685">OSP_AUTH_NO</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c">OSP_AUTH_YES</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba5e1f97e56cc00a9688e4971be1d47e44">OSP_AUTH_EXC</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;         }</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;defprotocol&quot;</span>)) {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;         <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2d59871d2b33932ab6cd5acca414c2dc">OSP_PROT_SIP</a>)) {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a0046f57b7fea37d0bfeadfafe405dfea">defprotocol</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2d59871d2b33932ab6cd5acca414c2dc">OSP_PROT_SIP</a>;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: default protocol SIP\n&quot;</span>);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#aece924ab64f6f37fb6b01b24816ecf7d">OSP_PROT_H323</a>)) {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a0046f57b7fea37d0bfeadfafe405dfea">defprotocol</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aece924ab64f6f37fb6b01b24816ecf7d">OSP_PROT_H323</a>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: default protocol H.323\n&quot;</span>);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a37c83ec0ffd2dadcd13ab875afa37025">OSP_PROT_IAX</a>)) {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a0046f57b7fea37d0bfeadfafe405dfea">defprotocol</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a37c83ec0ffd2dadcd13ab875afa37025">OSP_PROT_IAX</a>;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: default protocol IAX\n&quot;</span>);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a50c5a9ce143c5bbf66abf65ec808513c">OSP_PROT_SKYPE</a>)) {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a0046f57b7fea37d0bfeadfafe405dfea">defprotocol</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a50c5a9ce143c5bbf66abf65ec808513c">OSP_PROT_SKYPE</a>;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: default protocol Skype\n&quot;</span>);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: default protocol should be %s, %s, %s or %s not &#39;%s&#39; at line %d\n&quot;</span>,</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;               <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2d59871d2b33932ab6cd5acca414c2dc">OSP_PROT_SIP</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#aece924ab64f6f37fb6b01b24816ecf7d">OSP_PROT_H323</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a37c83ec0ffd2dadcd13ab875afa37025">OSP_PROT_IAX</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a50c5a9ce143c5bbf66abf65ec808513c">OSP_PROT_SKYPE</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;         }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;workmode&quot;</span>)) {</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;         <span class="keywordflow">if</span> ((sscanf(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;num) == 1) &amp;&amp; ((num == <a class="code" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a250bfcd0779a034665876cb1d38749cd">OSP_MODE_DIRECT</a>) || (num == <a class="code" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a53ec5913992131e1a1ac837c30c8ab5b">OSP_MODE_INDIRECT</a>))) {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a2bf37ada3c48a03c6d0bcf7b5908b85a">workmode</a> = num;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: workmode &#39;%d&#39;\n&quot;</span>, num);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: workmode should be %d or %d, not &#39;%s&#39; at line %d\n&quot;</span>,</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;               <a class="code" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a250bfcd0779a034665876cb1d38749cd">OSP_MODE_DIRECT</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a53ec5913992131e1a1ac837c30c8ab5b">OSP_MODE_INDIRECT</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;         }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;servicetype&quot;</span>)) {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;         <span class="keywordflow">if</span> ((sscanf(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;num) == 1) &amp;&amp; ((num == <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106ac65012551eee5b9b7fdcf61c8ce0bd56">OSP_SRV_VOICE</a>) || (num == <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106a15963018b6837aa98637501b4be60399">OSP_SRV_NPQUERY</a>))) {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a4807a4d7e75a128ef0cfff947f84a59c">srvtype</a> = num;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: servicetype &#39;%d&#39;\n&quot;</span>, num);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: servicetype should be %d or %d, not &#39;%s&#39; at line %d\n&quot;</span>,</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;               <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106ac65012551eee5b9b7fdcf61c8ce0bd56">OSP_SRV_VOICE</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106a15963018b6837aa98637501b4be60399">OSP_SRV_NPQUERY</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;         }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   }</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   <span class="keywordflow">if</span> (provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a> == 0) {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a> = 1;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;   }</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab8460d0013a58d2110dbb36313437c2c">spnum</a>; i++) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      pspoints[i] = provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab3d07409bb99f586c110141311ee1f00">spoints</a>[i];</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a>) {</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      privatekey.PrivateKeyData = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      privatekey.PrivateKeyLength = 0;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      localcert.CertData = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      localcert.CertDataLength = 0;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a>; i++) {</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;         cacerts[i].CertData = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;         cacerts[i].CertDataLength = 0;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <span class="keywordflow">if</span> ((error = OSPPUtilLoadPEMPrivateKey((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">privatekey</a>, &amp;privatekey)) != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Unable to load privatekey &#39;%s&#39;, error &#39;%d&#39;\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">privatekey</a>, error);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((error = OSPPUtilLoadPEMCert((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">localcert</a>, &amp;localcert)) != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Unable to load localcert &#39;%s&#39;, error &#39;%d&#39;\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">localcert</a>, error);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a>; i++) {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordflow">if</span> ((error = OSPPUtilLoadPEMCert((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">cacerts</a>[i], &amp;cacerts[i])) != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Unable to load cacert &#39;%s&#39;, error &#39;%d&#39;\n&quot;</span>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">cacerts</a>[i], error);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;               pcacerts[i] = &amp;cacerts[i];</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            }</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;         }</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      }</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      privatekey.PrivateKeyData = privatekeydata;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      privatekey.PrivateKeyLength = <span class="keyword">sizeof</span>(privatekeydata);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      localcert.CertData = localcertdata;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      localcert.CertDataLength = <span class="keyword">sizeof</span>(localcertdata);</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      cacerts[0].CertData = cacertdata;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      cacerts[0].CertDataLength = <span class="keyword">sizeof</span>(cacertdata);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      pcacerts[0] = &amp;cacerts[0];</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <span class="keywordflow">if</span> ((error = OSPPBase64Decode(<a class="code" href="../../d6/d27/app__osplookup_8c.html#acdedc703cb4d6f39a1d0813d1e5456ee">B64PKey</a>, strlen(<a class="code" href="../../d6/d27/app__osplookup_8c.html#acdedc703cb4d6f39a1d0813d1e5456ee">B64PKey</a>), privatekey.PrivateKeyData, &amp;privatekey.PrivateKeyLength)) != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Unable to decode private key, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((error = OSPPBase64Decode(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a58271f737afdcc8d021e8439cd0e1b9f">B64LCert</a>, strlen(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a58271f737afdcc8d021e8439cd0e1b9f">B64LCert</a>), localcert.CertData, &amp;localcert.CertDataLength)) != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Unable to decode local cert, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((error = OSPPBase64Decode(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a95eab91cdab5818081a2231805064780">B64CACert</a>, strlen(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a95eab91cdab5818081a2231805064780">B64CACert</a>), cacerts[0].CertData, &amp;cacerts[0].CertDataLength)) != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Unable to decode cacert, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      }</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <span class="keywordflow">if</span> (error == OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      error = OSPPProviderNew(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#ab8460d0013a58d2110dbb36313437c2c">spnum</a>,</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;         pspoints,</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#ac0bbc59083ee029dacfb9ff39944545c">OSP_AUDIT_URL</a>,</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;         &amp;privatekey,</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;         &amp;localcert,</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;         provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a>,</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;         pcacerts,</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#adb174b635395f4dfa6aa18c620860ee9">OSP_LOCAL_VALIDATION</a>,</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa3e4c2f6886beeb3167baea11338365b">OSP_SSL_LIFETIME</a>,</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;         provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a164df5d5fcaaba36d59a438aa163f23f">maxconnect</a>,</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#a70ba2ad1a2c176493519a8401688f4a4">OSP_HTTP_PERSISTENCE</a>,</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;         provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a95eba7a37533480a142325ed35ba0567">retrydelay</a>,</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;         provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acba73caca275d414a4aad88137ed1f16">retrylimit</a>,</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;         provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a25af7eefd48048fb067a60b8e295caf1">timeout</a>,</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#adb4205a9cf5fb9fb31cb22b73d685e02">OSP_CUSTOMER_ID</a>,</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab886d2f17400b1c84a703f2a78703f71">OSP_DEVICE_ID</a>,</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;         &amp;provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a62668053aefe0d5985c4ae7451db8486">handle</a>);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">if</span> (error != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Unable to create provider &#39;%s&#39;, error &#39;%d&#39;\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, error);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;         res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: provider &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a>);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;         provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a63a14d2d4363005a28ebcd7449452d43">next</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a>;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a> = <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a>);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;         res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      }</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   }</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a>) {</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">canum</a>; i++) {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;         <span class="keywordflow">if</span> (cacerts[i].CertData) {</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cacerts[i].CertData);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;         }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      }</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="keywordflow">if</span> (localcert.CertData) {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(localcert.CertData);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordflow">if</span> (privatekey.PrivateKeyData) {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(privatekey.PrivateKeyData);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      }</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <span class="keywordflow">if</span> (res != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>) {</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(provider);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   }</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="paths_8h_html_a0334adace37c0e8de8ea89c8651336a2"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a0334adace37c0e8de8ea89c8651336a2">ast_config_AST_KEY_DIR</a></div><div class="ttdeci">const char * ast_config_AST_KEY_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00161">options.c:161</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_adb174b635395f4dfa6aa18c620860ee9"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#adb174b635395f4dfa6aa18c620860ee9">OSP_LOCAL_VALIDATION</a></div><div class="ttdeci">#define OSP_LOCAL_VALIDATION</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00521">app_osplookup.c:521</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aed8af19a7b6dc236071e11d067d3222a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aed8af19a7b6dc236071e11d067d3222a">OSP_MAX_RETRYDELAY</a></div><div class="ttdeci">#define OSP_MAX_RETRYDELAY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00512">app_osplookup.c:512</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2d59871d2b33932ab6cd5acca414c2dc"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2d59871d2b33932ab6cd5acca414c2dc">OSP_PROT_SIP</a></div><div class="ttdeci">#define OSP_PROT_SIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00462">app_osplookup.c:462</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a58271f737afdcc8d021e8439cd0e1b9f"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a58271f737afdcc8d021e8439cd0e1b9f">B64LCert</a></div><div class="ttdeci">const char * B64LCert</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00633">app_osplookup.c:633</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2b362aecd6cc02ebad1cc744b707a9e4"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2b362aecd6cc02ebad1cc744b707a9e4">OSP_DEF_MAXCONNECT</a></div><div class="ttdeci">#define OSP_DEF_MAXCONNECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00507">app_osplookup.c:507</a></div></div>
<div class="ttc" id="structosp__provider_html_a635fd679943876b710e3c99e24907dc3"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a635fd679943876b710e3c99e24907dc3">osp_provider::authpolicy</a></div><div class="ttdeci">enum osp_authpolicy authpolicy</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00550">app_osplookup.c:550</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a95dd1b545000ce7fc31a6dd3b53d3d2d"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a95dd1b545000ce7fc31a6dd3b53d3d2d">OSP_DEF_RETRYDELAY</a></div><div class="ttdeci">#define OSP_DEF_RETRYDELAY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00510">app_osplookup.c:510</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a95eab91cdab5818081a2231805064780"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a95eab91cdab5818081a2231805064780">B64CACert</a></div><div class="ttdeci">const char * B64CACert</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00634">app_osplookup.c:634</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a70ba2ad1a2c176493519a8401688f4a4"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a70ba2ad1a2c176493519a8401688f4a4">OSP_HTTP_PERSISTENCE</a></div><div class="ttdeci">#define OSP_HTTP_PERSISTENCE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00523">app_osplookup.c:523</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structosp__provider_html_a62668053aefe0d5985c4ae7451db8486"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a62668053aefe0d5985c4ae7451db8486">osp_provider::handle</a></div><div class="ttdeci">OSPTPROVHANDLE handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00537">app_osplookup.c:537</a></div></div>
<div class="ttc" id="structast__variable_html_a501b314f49b3a9ff6e7be599d94686ee"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">ast_variable::lineno</a></div><div class="ttdeci">int lineno</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00095">include/asterisk/config.h:95</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ac9ea65ddfcb75c30bd9a976bb3ac61a7"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ac9ea65ddfcb75c30bd9a976bb3ac61a7">OSP_DEF_PROTOCOL</a></div><div class="ttdeci">#define OSP_DEF_PROTOCOL</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00528">app_osplookup.c:528</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab886d2f17400b1c84a703f2a78703f71"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab886d2f17400b1c84a703f2a78703f71">OSP_DEVICE_ID</a></div><div class="ttdeci">#define OSP_DEVICE_ID</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00525">app_osplookup.c:525</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a70ea7a4fc72536b43f30f9f063600ea0"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a70ea7a4fc72536b43f30f9f063600ea0">OSP_DEF_SRVTYPE</a></div><div class="ttdeci">#define OSP_DEF_SRVTYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00530">app_osplookup.c:530</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a9f83fdd55a8cc31ee71974138f8a8b63"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a9f83fdd55a8cc31ee71974138f8a8b63">OSP_MIN_MAXCONNECT</a></div><div class="ttdeci">#define OSP_MIN_MAXCONNECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00508">app_osplookup.c:508</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ac7a3ff9d63c0e30ee94430056b2ac82c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ac7a3ff9d63c0e30ee94430056b2ac82c">OSP_MAX_TIMEOUT</a></div><div class="ttdeci">#define OSP_MAX_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00518">app_osplookup.c:518</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab539b964be69a0940bdca784ea442106ac65012551eee5b9b7fdcf61c8ce0bd56"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106ac65012551eee5b9b7fdcf61c8ce0bd56">OSP_SRV_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00491">app_osplookup.c:491</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structosp__provider_html_a164df5d5fcaaba36d59a438aa163f23f"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a164df5d5fcaaba36d59a438aa163f23f">osp_provider::maxconnect</a></div><div class="ttdeci">unsigned int maxconnect</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00545">app_osplookup.c:545</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a57b476e1bebcccf8b406321897704c08a53ec5913992131e1a1ac837c30c8ab5b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a53ec5913992131e1a1ac837c30c8ab5b">OSP_MODE_INDIRECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00486">app_osplookup.c:486</a></div></div>
<div class="ttc" id="structosp__provider_html_aa71edd0087e0e813c48841745a4643f6"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#aa71edd0087e0e813c48841745a4643f6">osp_provider::name</a></div><div class="ttdeci">char name[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00538">app_osplookup.c:538</a></div></div>
<div class="ttc" id="structosp__provider_html_acba73caca275d414a4aad88137ed1f16"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#acba73caca275d414a4aad88137ed1f16">osp_provider::retrylimit</a></div><div class="ttdeci">unsigned int retrylimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00547">app_osplookup.c:547</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a73d87c526fda549fef6b81a22da2090a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a73d87c526fda549fef6b81a22da2090a">OSP_MIN_TIMEOUT</a></div><div class="ttdeci">#define OSP_MIN_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00517">app_osplookup.c:517</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af0d803ea366335bc405bfc1f59cd3399"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af0d803ea366335bc405bfc1f59cd3399">OSP_SIZE_KEYSTR</a></div><div class="ttdeci">#define OSP_SIZE_KEYSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00446">app_osplookup.c:446</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a973bb7ee8e420cae3117b3d08d395fcbabdd97707a7a03ac645574bd924a77685"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcbabdd97707a7a03ac645574bd924a77685">OSP_AUTH_NO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00478">app_osplookup.c:478</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab539b964be69a0940bdca784ea442106a15963018b6837aa98637501b4be60399"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106a15963018b6837aa98637501b4be60399">OSP_SRV_NPQUERY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00492">app_osplookup.c:492</a></div></div>
<div class="ttc" id="structosp__provider_html_aca8d35af0144c5dd6cc8a9ebca374e9e"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#aca8d35af0144c5dd6cc8a9ebca374e9e">osp_provider::localcert</a></div><div class="ttdeci">char localcert[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00540">app_osplookup.c:540</a></div></div>
<div class="ttc" id="structosp__provider_html_a0046f57b7fea37d0bfeadfafe405dfea"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a0046f57b7fea37d0bfeadfafe405dfea">osp_provider::defprotocol</a></div><div class="ttdeci">const char * defprotocol</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00551">app_osplookup.c:551</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0f04966dacabe124fd55b281303a560a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a></div><div class="ttdeci">#define OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00498">app_osplookup.c:498</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a6ac883183e1140c2f254abca99cae0a2"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a6ac883183e1140c2f254abca99cae0a2">OSP_DEF_AUTHPOLICY</a></div><div class="ttdeci">#define OSP_DEF_AUTHPOLICY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00519">app_osplookup.c:519</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="structosp__provider_html_acde02795cae9dfc30095136a74361daa"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#acde02795cae9dfc30095136a74361daa">osp_provider::canum</a></div><div class="ttdeci">unsigned int canum</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00541">app_osplookup.c:541</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structosp__provider_html_a25af7eefd48048fb067a60b8e295caf1"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a25af7eefd48048fb067a60b8e295caf1">osp_provider::timeout</a></div><div class="ttdeci">unsigned int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00548">app_osplookup.c:548</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0805d660cee0ed192260f42fb895c8ce"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0805d660cee0ed192260f42fb895c8ce">OSP_DEF_WORKMODE</a></div><div class="ttdeci">#define OSP_DEF_WORKMODE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00529">app_osplookup.c:529</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a37c83ec0ffd2dadcd13ab875afa37025"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a37c83ec0ffd2dadcd13ab875afa37025">OSP_PROT_IAX</a></div><div class="ttdeci">#define OSP_PROT_IAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00464">app_osplookup.c:464</a></div></div>
<div class="ttc" id="structosp__provider_html_a95eba7a37533480a142325ed35ba0567"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a95eba7a37533480a142325ed35ba0567">osp_provider::retrydelay</a></div><div class="ttdeci">unsigned int retrydelay</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00546">app_osplookup.c:546</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a4dfaff92993999768c875b5c2cef0418"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a4dfaff92993999768c875b5c2cef0418">OSP_MAX_MAXCONNECT</a></div><div class="ttdeci">#define OSP_MAX_MAXCONNECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00509">app_osplookup.c:509</a></div></div>
<div class="ttc" id="structosp__provider_html_a3137316667213b7b19c9124ad25d43d2"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a3137316667213b7b19c9124ad25d43d2">osp_provider::cacerts</a></div><div class="ttdeci">char cacerts[OSP_MAX_CERTS][OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00542">app_osplookup.c:542</a></div></div>
<div class="ttc" id="structosp__provider_html"><div class="ttname"><a href="../../d9/de8/structosp__provider.html">osp_provider</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00536">app_osplookup.c:536</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba0d4b098bf4a527dd729e74819bb52b9c">OSP_AUTH_YES</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00479">app_osplookup.c:479</a></div></div>
<div class="ttc" id="structosp__provider_html_a2bf37ada3c48a03c6d0bcf7b5908b85a"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a2bf37ada3c48a03c6d0bcf7b5908b85a">osp_provider::workmode</a></div><div class="ttdeci">enum osp_workmode workmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00552">app_osplookup.c:552</a></div></div>
<div class="ttc" id="structosp__provider_html_a68a5e9ae8653802c57d25f372e4af0ec"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a68a5e9ae8653802c57d25f372e4af0ec">osp_provider::privatekey</a></div><div class="ttdeci">char privatekey[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00539">app_osplookup.c:539</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_acdedc703cb4d6f39a1d0813d1e5456ee"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#acdedc703cb4d6f39a1d0813d1e5456ee">B64PKey</a></div><div class="ttdeci">const char * B64PKey</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00632">app_osplookup.c:632</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aece924ab64f6f37fb6b01b24816ecf7d"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aece924ab64f6f37fb6b01b24816ecf7d">OSP_PROT_H323</a></div><div class="ttdeci">#define OSP_PROT_H323</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00463">app_osplookup.c:463</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2ba7b476b11a1793f6c5ae0b81ee8b99"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a></div><div class="ttdeci">static int osp_security</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00627">app_osplookup.c:627</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a693603e5e4556641af06c8ebec1dffc5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a></div><div class="ttdeci">#define OSP_INVALID_HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00501">app_osplookup.c:501</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a57b476e1bebcccf8b406321897704c08a250bfcd0779a034665876cb1d38749cd"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a250bfcd0779a034665876cb1d38749cd">OSP_MODE_DIRECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00485">app_osplookup.c:485</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2dc761e67618d6f48b8c5ad7bc59fb8c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a></div><div class="ttdeci">static struct osp_provider * osp_providers</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00628">app_osplookup.c:628</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a258abbda51de2390bf0185bbbd4040ca"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a258abbda51de2390bf0185bbbd4040ca">OSP_MIN_RETRYLIMIT</a></div><div class="ttdeci">#define OSP_MIN_RETRYLIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00514">app_osplookup.c:514</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
<div class="ttc" id="structosp__provider_html_a63a14d2d4363005a28ebcd7449452d43"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a63a14d2d4363005a28ebcd7449452d43">osp_provider::next</a></div><div class="ttdeci">struct osp_provider * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00554">app_osplookup.c:554</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aecc0ca5e6e73e6f92cc828c409801700"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aecc0ca5e6e73e6f92cc828c409801700">OSP_MIN_RETRYDELAY</a></div><div class="ttdeci">#define OSP_MIN_RETRYDELAY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00511">app_osplookup.c:511</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a7e5aa3485d963d46940150952788067e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a7e5aa3485d963d46940150952788067e">OSP_MAX_CERTS</a></div><div class="ttdeci">#define OSP_MAX_CERTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00505">app_osplookup.c:505</a></div></div>
<div class="ttc" id="structosp__provider_html_ab8460d0013a58d2110dbb36313437c2c"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#ab8460d0013a58d2110dbb36313437c2c">osp_provider::spnum</a></div><div class="ttdeci">unsigned int spnum</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00543">app_osplookup.c:543</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_adb4205a9cf5fb9fb31cb22b73d685e02"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#adb4205a9cf5fb9fb31cb22b73d685e02">OSP_CUSTOMER_ID</a></div><div class="ttdeci">#define OSP_CUSTOMER_ID</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00524">app_osplookup.c:524</a></div></div>
<div class="ttc" id="structosp__provider_html_a950c439bf7874a44561d16a9e1895760"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">osp_provider::source</a></div><div class="ttdeci">char source[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00549">app_osplookup.c:549</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a973bb7ee8e420cae3117b3d08d395fcba5e1f97e56cc00a9688e4971be1d47e44"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a973bb7ee8e420cae3117b3d08d395fcba5e1f97e56cc00a9688e4971be1d47e44">OSP_AUTH_EXC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00480">app_osplookup.c:480</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a994a6462629a5ad5016167d04ed3a9ab"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a></div><div class="ttdeci">#define OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00497">app_osplookup.c:497</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ad36c654250d30dc9f04f066078652ffd"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ad36c654250d30dc9f04f066078652ffd">OSP_DEF_RETRYLIMIT</a></div><div class="ttdeci">#define OSP_DEF_RETRYLIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00513">app_osplookup.c:513</a></div></div>
<div class="ttc" id="structosp__provider_html_a4807a4d7e75a128ef0cfff947f84a59c"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a4807a4d7e75a128ef0cfff947f84a59c">osp_provider::srvtype</a></div><div class="ttdeci">enum osp_srvtype srvtype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00553">app_osplookup.c:553</a></div></div>
<div class="ttc" id="bridges_8c_html_ab1760b9a6a6c8d063d49ab9b5bcdfa49"><div class="ttname"><a href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a></div><div class="ttdeci">static struct prometheus_metrics_provider provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/bridges_8c_source.html#l00178">bridges.c:178</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ac0bbc59083ee029dacfb9ff39944545c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ac0bbc59083ee029dacfb9ff39944545c">OSP_AUDIT_URL</a></div><div class="ttdeci">#define OSP_AUDIT_URL</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00520">app_osplookup.c:520</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a16c9a5234ff1ee322a81e9632bd2119b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a></div><div class="ttdeci">static ast_mutex_t osp_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00624">app_osplookup.c:624</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af41fd1b7d5fe4fab7275c19e5be93faf"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af41fd1b7d5fe4fab7275c19e5be93faf">OSP_DEF_TIMEOUT</a></div><div class="ttdeci">#define OSP_DEF_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00516">app_osplookup.c:516</a></div></div>
<div class="ttc" id="structosp__provider_html_ab3d07409bb99f586c110141311ee1f00"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#ab3d07409bb99f586c110141311ee1f00">osp_provider::spoints</a></div><div class="ttdeci">char spoints[OSP_MAX_SPOINTS][OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00544">app_osplookup.c:544</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a50c5a9ce143c5bbf66abf65ec808513c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a50c5a9ce143c5bbf66abf65ec808513c">OSP_PROT_SKYPE</a></div><div class="ttdeci">#define OSP_PROT_SKYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00465">app_osplookup.c:465</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a345b7fdd7075bffae65d67aaf300fcb9"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a345b7fdd7075bffae65d67aaf300fcb9">OSP_MAX_RETRYLIMIT</a></div><div class="ttdeci">#define OSP_MAX_RETRYLIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00515">app_osplookup.c:515</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_add761a56c3a38612a47b079ad5d943bc"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#add761a56c3a38612a47b079ad5d943bc">OSP_MAX_SPOINTS</a></div><div class="ttdeci">#define OSP_MAX_SPOINTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00506">app_osplookup.c:506</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aa3e4c2f6886beeb3167baea11338365b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa3e4c2f6886beeb3167baea11338365b">OSP_SSL_LIFETIME</a></div><div class="ttdeci">#define OSP_SSL_LIFETIME</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00522">app_osplookup.c:522</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab5dbdc8dc40e969bb49e15442cebf037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5dbdc8dc40e969bb49e15442cebf037">&#9670;&nbsp;</a></span>osp_create_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_create_transaction </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>srcsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create OSP transaction handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>OSP provider context name </td></tr>
    <tr><td class="paramname">trans</td><td>OSP transaction handle, output </td></tr>
    <tr><td class="paramname">source</td><td>Source of provider, output </td></tr>
    <tr><td class="paramname">srcsize</td><td>Size of source buffer, in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSK_OK Success, OSK_FAILED Failed, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00945">945</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00999">error()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00537">osp_provider::handle</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00538">osp_provider::name</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00554">osp_provider::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00498">OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00497">OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00501">OSP_INVALID_HANDLE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00624">osp_lock</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00178">provider</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00549">osp_provider::source</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01330">osp_auth()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;{</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/de8/structosp__provider.html">osp_provider</a>* <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;   <span class="keywordflow">if</span> ((trans == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (<a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (srcsize &lt;= 0)) {</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid parameters\n&quot;</span>);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   }</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   *trans = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;   *<a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a> = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a>);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;   <span class="keywordflow">for</span> (provider = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a>; <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>; provider = provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a63a14d2d4363005a28ebcd7449452d43">next</a>) {</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aa71edd0087e0e813c48841745a4643f6">name</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;         error = OSPPTransactionNew(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a62668053aefe0d5985c4ae7451db8486">handle</a>, trans);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;         <span class="keywordflow">if</span> (error == OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: transaction &#39;%d&#39;\n&quot;</span>, *trans);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a>, provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a>, srcsize);</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: source &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a>);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            *trans = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to create transaction handle, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            *<a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a> = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;         }</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      }</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   }</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a>);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;}</div><div class="ttc" id="structosp__provider_html_a62668053aefe0d5985c4ae7451db8486"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a62668053aefe0d5985c4ae7451db8486">osp_provider::handle</a></div><div class="ttdeci">OSPTPROVHANDLE handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00537">app_osplookup.c:537</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structosp__provider_html_aa71edd0087e0e813c48841745a4643f6"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#aa71edd0087e0e813c48841745a4643f6">osp_provider::name</a></div><div class="ttdeci">char name[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00538">app_osplookup.c:538</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0f04966dacabe124fd55b281303a560a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a></div><div class="ttdeci">#define OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00498">app_osplookup.c:498</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structosp__provider_html"><div class="ttname"><a href="../../d9/de8/structosp__provider.html">osp_provider</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00536">app_osplookup.c:536</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a693603e5e4556641af06c8ebec1dffc5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a></div><div class="ttdeci">#define OSP_INVALID_HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00501">app_osplookup.c:501</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2dc761e67618d6f48b8c5ad7bc59fb8c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a></div><div class="ttdeci">static struct osp_provider * osp_providers</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00628">app_osplookup.c:628</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
<div class="ttc" id="structosp__provider_html_a63a14d2d4363005a28ebcd7449452d43"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a63a14d2d4363005a28ebcd7449452d43">osp_provider::next</a></div><div class="ttdeci">struct osp_provider * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00554">app_osplookup.c:554</a></div></div>
<div class="ttc" id="structosp__provider_html_a950c439bf7874a44561d16a9e1895760"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">osp_provider::source</a></div><div class="ttdeci">char source[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00549">app_osplookup.c:549</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a994a6462629a5ad5016167d04ed3a9ab"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a></div><div class="ttdeci">#define OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00497">app_osplookup.c:497</a></div></div>
<div class="ttc" id="bridges_8c_html_ab1760b9a6a6c8d063d49ab9b5bcdfa49"><div class="ttname"><a href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a></div><div class="ttdeci">static struct prometheus_metrics_provider provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/bridges_8c_source.html#l00178">bridges.c:178</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a16c9a5234ff1ee322a81e9632bd2119b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a></div><div class="ttdeci">static ast_mutex_t osp_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00624">app_osplookup.c:624</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f69bca08e4ca9b69fc311c9031f25ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f69bca08e4ca9b69fc311c9031f25ec">&#9670;&nbsp;</a></span>osp_create_uuid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_create_uuid </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>bufsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a UUID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uuid</td><td>UUID buffer </td></tr>
    <tr><td class="paramname">bufsize</td><td>UUID buffer size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSK_OK Created, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01394">1394</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02064">ast_random()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00498">OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00449">OSP_SIZE_UUID</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01451">osp_create_callid()</a>.</p>
<div class="fragment"><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;{</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;   <span class="keywordtype">int</span> i, res;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;   <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>[<a class="code" href="../../d6/d27/app__osplookup_8c.html#af57c2093c6f920c59f7a12125882b80c">OSP_SIZE_UUID</a> / <span class="keyword">sizeof</span>(<span class="keywordtype">long</span> int)];</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;   <span class="keywordflow">if</span> ((uuid != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (*bufsize &gt;= <a class="code" href="../../d6/d27/app__osplookup_8c.html#af57c2093c6f920c59f7a12125882b80c">OSP_SIZE_UUID</a>)) {</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d27/app__osplookup_8c.html#af57c2093c6f920c59f7a12125882b80c">OSP_SIZE_UUID</a> / <span class="keyword">sizeof</span>(<span class="keywordtype">long</span> int); i++) {</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;         <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>[i] = <a class="code" href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a>();</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      }</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      memcpy(uuid, <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#af57c2093c6f920c59f7a12125882b80c">OSP_SIZE_UUID</a>);</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      *bufsize = <a class="code" href="../../d6/d27/app__osplookup_8c.html#af57c2093c6f920c59f7a12125882b80c">OSP_SIZE_UUID</a>;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid parameters\n&quot;</span>);</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;   }</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;}</div><div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0f04966dacabe124fd55b281303a560a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a></div><div class="ttdeci">#define OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00498">app_osplookup.c:498</a></div></div>
<div class="ttc" id="utils_8h_html_a7b4f10b070e95ba413e258a3e4b03c20"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a></div><div class="ttdeci">long int ast_random(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02064">main/utils.c:2064</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af57c2093c6f920c59f7a12125882b80c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af57c2093c6f920c59f7a12125882b80c">OSP_SIZE_UUID</a></div><div class="ttdeci">#define OSP_SIZE_UUID</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00449">app_osplookup.c:449</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad32b342c53cb42f9fbfabef494313ea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad32b342c53cb42f9fbfabef494313ea6">&#9670;&nbsp;</a></span>osp_finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_finish </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recorded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cause</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>connect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>release</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inqos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outqos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OSP Finish function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trans</td><td>OSP in/outbound transaction handle </td></tr>
    <tr><td class="paramname">recorded</td><td>If failure reason has been recorded </td></tr>
    <tr><td class="paramname">cause</td><td>Asterisk hangup cause </td></tr>
    <tr><td class="paramname">start</td><td>Call start time </td></tr>
    <tr><td class="paramname">connect</td><td>Call connect time </td></tr>
    <tr><td class="paramname">end</td><td>Call end time </td></tr>
    <tr><td class="paramname">release</td><td>Who release first, 0 source, 1 destination </td></tr>
    <tr><td class="paramname">inqos</td><td>Inbound QoS string </td></tr>
    <tr><td class="paramname">outqos</td><td>Outbound QoS string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_OK Success, OSP_FAILED Failed, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02188">2188</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01313">asterisk2osp()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l00220">dummy()</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00999">error()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00603">OSP_CALL_INBOUND</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00604">OSP_CALL_OUTBOUND</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00532">OSP_DEF_INTSTATS</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00498">OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00497">OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00501">OSP_INVALID_HANDLE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01971">osp_report_qos()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;{</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;   OSPEFAILREASON reason;</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;   time_t alert = 0;</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;   <span class="keywordtype">unsigned</span> isPddInfoPresent = 0;</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;   <span class="keywordtype">unsigned</span> pdd = 0;</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/d6d/chan__unistim_8c.html#abc0ce15d00b4bfb69266c5fd016dc88c">dummy</a> = 0;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;   <span class="keywordflow">if</span> (trans == <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;   }</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;   OSPPTransactionSetRoleInfo(trans, OSPC_RSTATE_STOP, OSPC_RFORMAT_OSP, OSPC_RVENDOR_ASTERISK);</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;   <span class="keywordflow">if</span> (!recorded) {</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;      reason = <a class="code" href="../../d6/d27/app__osplookup_8c.html#af51938903a4cc1d253bfbf03b2a70d90">asterisk2osp</a>(cause);</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      OSPPTransactionRecordFailure(trans, reason);</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;   }</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#add0a83ded5551efdeebc15a7f5ddb962">osp_report_qos</a>(trans, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124fadda1fe888f9cef3fc0b1501c3089a8e7">OSP_CALL_INBOUND</a>, inqos);</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#add0a83ded5551efdeebc15a7f5ddb962">osp_report_qos</a>(trans, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124fa618ee04e0fad20814aabec0ba83e10b6">OSP_CALL_OUTBOUND</a>, outqos);</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;   error = OSPPTransactionReportUsage(trans,</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      difftime(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>, connect),</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;      start,</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>,</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      alert,</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;      connect,</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      isPddInfoPresent,</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      pdd,</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      release,</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>,</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>,</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>,</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>,</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;      &amp;dummy,</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;   <span class="keywordflow">if</span> (error == OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Usage reported\n&quot;</span>);</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to report usage, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;   }</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;   OSPPTransactionDelete(trans);</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;}</div><div class="ttc" id="chan__unistim_8c_html_abc0ce15d00b4bfb69266c5fd016dc88c"><div class="ttname"><a href="../../d1/d6d/chan__unistim_8c.html#abc0ce15d00b4bfb69266c5fd016dc88c">dummy</a></div><div class="ttdeci">static void dummy(char *unused,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6d/chan__unistim_8c_source.html#l00220">chan_unistim.c:220</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2c4f5cc82d4cdd84bf0815e69c92124fa618ee04e0fad20814aabec0ba83e10b6"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124fa618ee04e0fad20814aabec0ba83e10b6">OSP_CALL_OUTBOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00604">app_osplookup.c:604</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a8fd806ad19b8f5513a4cf18cbf77532c"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a></div><div class="ttdeci">char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0f04966dacabe124fd55b281303a560a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a></div><div class="ttdeci">#define OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00498">app_osplookup.c:498</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_add0a83ded5551efdeebc15a7f5ddb962"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#add0a83ded5551efdeebc15a7f5ddb962">osp_report_qos</a></div><div class="ttdeci">static int osp_report_qos(int trans, enum osp_callleg leg, const char *qos)</div><div class="ttdoc">Report QoS. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01971">app_osplookup.c:1971</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af51938903a4cc1d253bfbf03b2a70d90"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af51938903a4cc1d253bfbf03b2a70d90">asterisk2osp</a></div><div class="ttdeci">static OSPEFAILREASON asterisk2osp(int cause)</div><div class="ttdoc">Convert Asterisk status to TC code. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01313">app_osplookup.c:1313</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a693603e5e4556641af06c8ebec1dffc5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a></div><div class="ttdeci">#define OSP_INVALID_HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00501">app_osplookup.c:501</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab3e751d63fd0ae9c251df53fdcf1f111"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a></div><div class="ttdeci">#define OSP_DEF_INTSTATS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00532">app_osplookup.c:532</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a994a6462629a5ad5016167d04ed3a9ab"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a></div><div class="ttdeci">#define OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00497">app_osplookup.c:497</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2c4f5cc82d4cdd84bf0815e69c92124fadda1fe888f9cef3fc0b1501c3089a8e7"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124fadda1fe888f9cef3fc0b1501c3089a8e7">OSP_CALL_INBOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00603">app_osplookup.c:603</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af21fa85fa457a1235efc74c9e8d51bbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af21fa85fa457a1235efc74c9e8d51bbb">&#9670;&nbsp;</a></span>osp_get_provider()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_get_provider </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de8/structosp__provider.html">osp_provider</a> **&#160;</td>
          <td class="paramname"><em>provider</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get OSP provider by name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>OSP provider context name </td></tr>
    <tr><td class="paramname">provider</td><td>OSP provider structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_OK Success, OSP_FAILED Failed, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00914">914</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00538">osp_provider::name</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00554">osp_provider::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00497">OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00624">osp_lock</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01330">osp_auth()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">osp_next()</a>.</p>
<div class="fragment"><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;{</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/de8/structosp__provider.html">osp_provider</a>* p;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   *provider = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a>);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;   <span class="keywordflow">for</span> (p = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a>; p != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; p = p-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a63a14d2d4363005a28ebcd7449452d43">next</a>) {</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(p-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#aa71edd0087e0e813c48841745a4643f6">name</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;         *provider = p;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: find provider &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;         res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      }</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   }</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a>);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;}</div><div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structosp__provider_html_aa71edd0087e0e813c48841745a4643f6"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#aa71edd0087e0e813c48841745a4643f6">osp_provider::name</a></div><div class="ttdeci">char name[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00538">app_osplookup.c:538</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structosp__provider_html"><div class="ttname"><a href="../../d9/de8/structosp__provider.html">osp_provider</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00536">app_osplookup.c:536</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2dc761e67618d6f48b8c5ad7bc59fb8c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a></div><div class="ttdeci">static struct osp_provider * osp_providers</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00628">app_osplookup.c:628</a></div></div>
<div class="ttc" id="structosp__provider_html_a63a14d2d4363005a28ebcd7449452d43"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a63a14d2d4363005a28ebcd7449452d43">osp_provider::next</a></div><div class="ttdeci">struct osp_provider * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00554">app_osplookup.c:554</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a994a6462629a5ad5016167d04ed3a9ab"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a></div><div class="ttdeci">#define OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00497">app_osplookup.c:497</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a16c9a5234ff1ee322a81e9632bd2119b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a></div><div class="ttdeci">static ast_mutex_t osp_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00624">app_osplookup.c:624</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3592bfc5c6fc9a7a87e24704bcd74656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3592bfc5c6fc9a7a87e24704bcd74656">&#9670;&nbsp;</a></span>osp_get_varfloat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float osp_get_varfloat </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>vstr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get float from variable string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vstr</td><td>Variable string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_DEF_FLOATSTATS Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01946">1946</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00533">OSP_DEF_FLOATSTATS</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01971">osp_report_qos()</a>.</p>
<div class="fragment"><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;{</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;   <span class="keywordtype">char</span>* <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;   <span class="keywordtype">float</span> <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(vstr)) {</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;      <span class="keywordflow">if</span> ((tmp = strchr(vstr, <span class="charliteral">&#39;=&#39;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;         tmp++;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;         <span class="keywordflow">if</span> (sscanf(tmp, <span class="stringliteral">&quot;%30f&quot;</span>, &amp;value) != 1) {</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;            value = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;         }</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      }</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;   }</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;}</div><div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a5e965e22355f9a33371ac39fdeca9ecf"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a></div><div class="ttdeci">#define OSP_DEF_FLOATSTATS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00533">app_osplookup.c:533</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6477b002539f2810c932b5700c531b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6477b002539f2810c932b5700c531b1d">&#9670;&nbsp;</a></span>osp_get_varint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_get_varint </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>vstr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get integer from variable string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vstr</td><td>Variable string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_DEF_INTSTATS Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01923">1923</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00532">OSP_DEF_INTSTATS</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01971">osp_report_qos()</a>.</p>
<div class="fragment"><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;{</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;   <span class="keywordtype">char</span>* <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(vstr)) {</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;      <span class="keywordflow">if</span> ((tmp = strchr(vstr, <span class="charliteral">&#39;=&#39;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;         tmp++;</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;         <span class="keywordflow">if</span> (sscanf(tmp, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;value) != 1) {</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;            value = <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;         }</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      }</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;   }</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;}</div><div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab3e751d63fd0ae9c251df53fdcf1f111"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a></div><div class="ttdeci">#define OSP_DEF_INTSTATS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00532">app_osplookup.c:532</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abbf1e551f818049bd8744a6ece49a5ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbf1e551f818049bd8744a6ece49a5ba">&#9670;&nbsp;</a></span>osp_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_load </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02955">2955</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/dc5/extconf_8c_source.html#l03328">ast_category_browse()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">ast_config_load</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00694">ast_variable_retrieve()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">CONFIG_FLAG_FILEUNCHANGED</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">CONFIG_STATUS_FILEUNCHANGED</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00999">error()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00502">OSP_CONFIG_FILE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00503">OSP_GENERAL_CAT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00626">osp_hardware</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00625">osp_initialized</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00627">osp_security</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00629">osp_tokenformat</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02929">osp_unload()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03128">load_module()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03158">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;{</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* cvar;</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ivar;</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a>* cfg;</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { <a class="code" href="../../d6/d27/app__osplookup_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> ? <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a> : 0 };</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a> = OSPC_ERR_NO_ERROR;</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;   <span class="keywordflow">if</span> ((cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a3f0d992c57ee30bdaf32796741f827a8">OSP_CONFIG_FILE</a>, config_flags)) == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a>) {</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Config file %s is in an invalid format.  Aborting.\n&quot;</span>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3f0d992c57ee30bdaf32796741f827a8">OSP_CONFIG_FILE</a>);</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;   }</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;   <span class="keywordflow">if</span> (cfg) {</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d27/app__osplookup_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>) {</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#aeaa07e9dab5c74f1438507a11962f9f4">osp_unload</a>();</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;      }</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;      <span class="keywordflow">if</span> ((cvar = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a953047f54a6cca10a1546c6a9170df38">OSP_GENERAL_CAT</a>, <span class="stringliteral">&quot;accelerate&quot;</span>)) &amp;&amp; <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(cvar)) {</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;         <span class="keywordflow">if</span> ((error = OSPPInit(1)) != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Unable to enable hardware acceleration, error=&#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;            OSPPInit(0);</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;            <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5ef0958fa463ae932e3e71ec39cd1337">osp_hardware</a> = 1;</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;         }</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;         OSPPInit(0);</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;      }</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: osp_hardware &#39;%d&#39;\n&quot;</span>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5ef0958fa463ae932e3e71ec39cd1337">osp_hardware</a>);</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;      <span class="keywordflow">if</span> ((cvar = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a953047f54a6cca10a1546c6a9170df38">OSP_GENERAL_CAT</a>, <span class="stringliteral">&quot;securityfeatures&quot;</span>)) &amp;&amp; <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(cvar)) {</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a> = 1;</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;      }</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: osp_security &#39;%d&#39;\n&quot;</span>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a>);</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;      <span class="keywordflow">if</span> ((cvar = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a953047f54a6cca10a1546c6a9170df38">OSP_GENERAL_CAT</a>, <span class="stringliteral">&quot;tokenformat&quot;</span>))) {</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;         <span class="keywordflow">if</span> ((sscanf(cvar, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;ivar) == 1) &amp;&amp;</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;            ((ivar == TOKEN_ALGO_SIGNED) || (ivar == TOKEN_ALGO_UNSIGNED) || (ivar == TOKEN_ALGO_BOTH)))</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;         {</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;            <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab918a4031e5d25153fe54e91be1ac56e">osp_tokenformat</a> = ivar;</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;tokenformat should be an integer from %d, %d or %d, not &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;               TOKEN_ALGO_SIGNED, TOKEN_ALGO_UNSIGNED, TOKEN_ALGO_BOTH, cvar);</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;         }</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;      }</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: osp_tokenformat &#39;%d&#39;\n&quot;</span>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab918a4031e5d25153fe54e91be1ac56e">osp_tokenformat</a>);</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;      <span class="keywordflow">for</span> (cvar = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); cvar != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; cvar = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, cvar)) {</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;         <span class="keywordflow">if</span> (strcasecmp(cvar, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a953047f54a6cca10a1546c6a9170df38">OSP_GENERAL_CAT</a>)) {</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;            <a class="code" href="../../d6/d27/app__osplookup_8c.html#a300cfd86f48019deab149c7a21131f66">osp_create_provider</a>(cfg, cvar);</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;         }</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;      }</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#a7b65a944814a9fe8b45330072c875e46">osp_initialized</a> = 1;</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Unable to find configuration. OSP support disabled\n&quot;</span>);</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;   }</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: osp_initialized &#39;%d&#39;\n&quot;</span>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a7b65a944814a9fe8b45330072c875e46">osp_initialized</a>);</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;}</div><div class="ttc" id="app__osplookup_8c_html_a5ef0958fa463ae932e3e71ec39cd1337"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5ef0958fa463ae932e3e71ec39cd1337">osp_hardware</a></div><div class="ttdeci">static int osp_hardware</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00626">app_osplookup.c:626</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aeaa07e9dab5c74f1438507a11962f9f4"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aeaa07e9dab5c74f1438507a11962f9f4">osp_unload</a></div><div class="ttdeci">static int osp_unload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l02929">app_osplookup.c:2929</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1e5e3d08eff5e2357e75c01e127e7922"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a></div><div class="ttdeci">char * ast_category_browse(struct ast_config *config, const char *prev_name)</div><div class="ttdoc">Browse categories. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03328">extconf.c:3328</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a953047f54a6cca10a1546c6a9170df38"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a953047f54a6cca10a1546c6a9170df38">OSP_GENERAL_CAT</a></div><div class="ttdeci">#define OSP_GENERAL_CAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00503">app_osplookup.c:503</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a300cfd86f48019deab149c7a21131f66"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a300cfd86f48019deab149c7a21131f66">osp_create_provider</a></div><div class="ttdeci">static int osp_create_provider(struct ast_config *cfg, const char *name)</div><div class="ttdoc">Create OSP provider handle according to configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00644">app_osplookup.c:644</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a7b65a944814a9fe8b45330072c875e46"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a7b65a944814a9fe8b45330072c875e46">osp_initialized</a></div><div class="ttdeci">static int osp_initialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00625">app_osplookup.c:625</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a0a07ddd6bbcf44485e01c14c96109482"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a></div><div class="ttdeci">#define ast_config_load(filename, flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">include/asterisk/config.h:179</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ad1982509765f4870f1f63412a53ea668"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a></div><div class="ttdeci">static int reload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l03158">app_osplookup.c:3158</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a846844eb2c4eb44554445936b3770711"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEUNCHANGED</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">include/asterisk/config.h:59</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a3f0d992c57ee30bdaf32796741f827a8"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a3f0d992c57ee30bdaf32796741f827a8">OSP_CONFIG_FILE</a></div><div class="ttdeci">#define OSP_CONFIG_FILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00502">app_osplookup.c:502</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab918a4031e5d25153fe54e91be1ac56e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab918a4031e5d25153fe54e91be1ac56e">osp_tokenformat</a></div><div class="ttdeci">static unsigned int osp_tokenformat</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00629">app_osplookup.c:629</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2ba7b476b11a1793f6c5ae0b81ee8b99"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a></div><div class="ttdeci">static int osp_security</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00627">app_osplookup.c:627</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a9ff7aa27ae5f1a980bcf81f91cd6e470"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a></div><div class="ttdeci">const char * ast_variable_retrieve(struct ast_config *config, const char *category, const char *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00694">main/config.c:694</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">include/asterisk/config.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a30929a679a8408ef8a4e022d594ebcea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30929a679a8408ef8a4e022d594ebcea">&#9670;&nbsp;</a></span>osp_lookup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_lookup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>callidtypes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>actualsrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>srcdev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>calling</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>called</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>snetid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9a/structosp__npdata.html">osp_npdata</a> *&#160;</td>
          <td class="paramname"><em>np</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/dcd/structosp__headers.html">osp_headers</a> *&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cinfo</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d92/structosp__results.html">osp_results</a> *&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OSP Lookup function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>OSP provider context name </td></tr>
    <tr><td class="paramname">callidtypes</td><td>Call ID types </td></tr>
    <tr><td class="paramname">actualsrc</td><td>Actual source device in indirect mode </td></tr>
    <tr><td class="paramname">srcdev</td><td>Source device of outbound call </td></tr>
    <tr><td class="paramname">calling</td><td>Calling number </td></tr>
    <tr><td class="paramname">called</td><td>Called number </td></tr>
    <tr><td class="paramname">snetid</td><td>Source network ID </td></tr>
    <tr><td class="paramname">np</td><td>NP parameters </td></tr>
    <tr><td class="paramname">headers</td><td>SIP header parameters </td></tr>
    <tr><td class="paramname">cinfo</td><td>Custom info </td></tr>
    <tr><td class="paramname">results</td><td>Lookup results </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_OK Found , OSP_FAILED No route, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">1499</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00559">osp_callid::buf</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00590">osp_results::called</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00589">osp_results::calling</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00566">osp_npdata::cic</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00588">osp_results::dest</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00576">osp_headers::divhost</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00575">osp_headers::divuser</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l00220">dummy()</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00999">error()</a>, <a class="el" href="../../d0/d8a/muted_8c_source.html#l00077">host</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00582">osp_results::inhandle</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00586">osp_results::intech</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00584">osp_results::intimelimit</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00560">osp_callid::len</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00592">osp_results::networkid</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00594">osp_results::npcic</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00567">osp_npdata::npdi</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00595">osp_results::npdi</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00593">osp_results::nprn</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00597">osp_results::numdests</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00568">osp_npdata::opname</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00596">osp_results::opname</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00459">OSP_CALLID_MAXNUM</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01171">osp_check_destination()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01146">osp_choose_timelimit()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00992">osp_convert_inout()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01451">osp_create_callid()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00945">osp_create_transaction()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00526">OSP_DEF_MAXDESTS</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00527">OSP_DEF_TIMELIMIT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00498">OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00497">OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00914">osp_get_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00501">OSP_INVALID_HANDLE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00531">OSP_MAX_CUSTOMINFO</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00486">OSP_MODE_INDIRECT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00445">OSP_SIZE_NORSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00452">OSP_SIZE_OUTSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00447">OSP_SIZE_TOKSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00492">OSP_SRV_NPQUERY</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00469">OSP_TECH_H323</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00470">OSP_TECH_IAX</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00468">OSP_TECH_SIP</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00471">OSP_TECH_SKYPE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00598">osp_results::outcallid</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00583">osp_results::outhandle</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00587">osp_results::outtech</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00585">osp_results::outtimelimit</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00574">osp_headers::paiuser</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00577">osp_headers::pciuser</a>, <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00178">provider</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00565">osp_npdata::rn</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00573">osp_headers::rpiduser</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00549">osp_provider::source</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00553">osp_provider::srvtype</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00591">osp_results::token</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00552">osp_provider::workmode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;{</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/de8/structosp__provider.html">osp_provider</a>* <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;   OSPE_PROTOCOL_NAME protocol;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a>[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>];</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;   <span class="keywordtype">char</span> callingnum[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>];</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;   <span class="keywordtype">char</span> callednum[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>];</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;   <span class="keywordtype">char</span> destination[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>];</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;   <span class="keywordtype">char</span>* <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tokenlen;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;   <span class="keywordtype">char</span> token[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a1d60693a007b72ca378317284f1e63e3">OSP_SIZE_TOKSTR</a>];</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;   <span class="keywordtype">char</span> src[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a34493e33ef3bc392a891e8b9679c99a6">OSP_SIZE_OUTSTR</a>];</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;   <span class="keywordtype">char</span> dev[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a34493e33ef3bc392a891e8b9679c99a6">OSP_SIZE_OUTSTR</a>];</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a>[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a34493e33ef3bc392a891e8b9679c99a6">OSP_SIZE_OUTSTR</a>];</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/de1/structosp__callid.html">osp_callid</a> callid;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> callidnum;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;   OSPT_CALL_ID* callids[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a5b374a60989e0a5e46b9e3d493e62533">OSP_CALLID_MAXNUM</a>];</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;   <span class="keywordtype">char</span> dest[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a34493e33ef3bc392a891e8b9679c99a6">OSP_SIZE_OUTSTR</a>];</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* preferred[2] = { <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> };</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/d6d/chan__unistim_8c.html#abc0ce15d00b4bfb69266c5fd016dc88c">dummy</a> = 0;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;   OSPEFAILREASON reason;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;   <span class="keywordflow">if</span> (results == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid parameters\n&quot;</span>);</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;   }</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">dest</a>, dest, <span class="keyword">sizeof</span>(dest));</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">outtech</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">calling</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">called</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#aeaab4f4002923faca19a77732670a245">token</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a8a40878f698d0e7d139412c28a0c729c">networkid</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a35e09574d85d055fc9b5a444be5f4f01">nprn</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a92001ea9c449e8ac4ff73e26f6356310">npcic</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9b18be0183ba3a1cbcac4bf6aad3a042">npdi</a> = 0;</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;   <span class="keywordflow">for</span> (type = OSPC_OPNAME_START; type &lt; OSPC_OPNAME_NUMBER; type++) {</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a96097f356daf14846c8d826b4670870b">opname</a>[<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>][0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;   }</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a> = 0;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#af21fa85fa457a1235efc74c9e8d51bbb">osp_get_provider</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, &amp;provider)) &lt;= 0) {</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unabe to find OSP provider &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;   }</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab5dbdc8dc40e969bb49e15442cebf037">osp_create_transaction</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, &amp;results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, source, <span class="keyword">sizeof</span>(source))) &lt;= 0) {</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to generate transaction handle\n&quot;</span>);</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      <span class="keywordflow">if</span> (results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a> != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;         OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a>, OSPC_FAIL_NORMAL_UNSPECIFIED);</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      }</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;   }</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#acb9cda70393267dea79cd0cb6a148f73">intech</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3bb2e8490ca2aae2ef00dd0666a0d637">OSP_TECH_SIP</a>)) {</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      protocol = OSPC_PROTNAME_SIP;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#acb9cda70393267dea79cd0cb6a148f73">intech</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a232b5abec331065cc0ab6381c5ac5ea1">OSP_TECH_H323</a>)) {</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      protocol = OSPC_PROTNAME_Q931;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#acb9cda70393267dea79cd0cb6a148f73">intech</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab00665d0be85f5bdb470e104eb3659b4">OSP_TECH_IAX</a>)) {</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      protocol = OSPC_PROTNAME_IAX;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#acb9cda70393267dea79cd0cb6a148f73">intech</a>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab0eeb414133a31e953150038886078f6">OSP_TECH_SKYPE</a>)) {</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      protocol = OSPC_PROTNAME_SKYPE;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      protocol = OSPC_PROTNAME_SIP;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;   }</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;   OSPPTransactionSetProtocol(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, OSPC_PROTTYPE_SOURCE, protocol);</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(snetid)) {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      OSPPTransactionSetNetworkIds(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, snetid, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;   }</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;   OSPPTransactionSetNumberPortability(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, np-&gt;<a class="code" href="../../dd/d9a/structosp__npdata.html#aaee3c25bc45f1fb8e2beaba71a5d85de">rn</a>, np-&gt;<a class="code" href="../../dd/d9a/structosp__npdata.html#a8eb041c568ad0884396cdd1475682a0e">cic</a>, np-&gt;<a class="code" href="../../dd/d9a/structosp__npdata.html#a9b18be0183ba3a1cbcac4bf6aad3a042">npdi</a>);</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;   <span class="keywordflow">for</span> (type = OSPC_OPNAME_START; type &lt; OSPC_OPNAME_NUMBER; type++) {</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      OSPPTransactionSetOperatorName(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, type, np-&gt;<a class="code" href="../../dd/d9a/structosp__npdata.html#a0cbe39d41fb52a773e153216763eae15">opname</a>[type]);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;   }</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    OSPPTransactionSetRemotePartyId(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, OSPC_NFORMAT_E164, headers-&gt;<a class="code" href="../../de/dcd/structosp__headers.html#a6ea88ed69ed92d616e47578a555e0d3e">rpiduser</a>);</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    OSPPTransactionSetAssertedId(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, OSPC_NFORMAT_E164, headers-&gt;<a class="code" href="../../de/dcd/structosp__headers.html#add3ee7a0644b52cf34886b4f8dc15bc4">paiuser</a>);</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a>(headers-&gt;<a class="code" href="../../de/dcd/structosp__headers.html#a3600887b5e9713f818e55d95ad32868b">divhost</a>, host, <span class="keyword">sizeof</span>(host));</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;   OSPPTransactionSetDiversion(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, headers-&gt;<a class="code" href="../../de/dcd/structosp__headers.html#a1708268349e165f2b432d83ca7d02fa7">divuser</a>, host);</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    OSPPTransactionSetChargeInfo(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, OSPC_NFORMAT_E164, headers-&gt;<a class="code" href="../../de/dcd/structosp__headers.html#a99422a6adbc9f5ba9d56837a5dace773">pciuser</a>);</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;   <span class="keywordflow">if</span> (cinfo != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d27/app__osplookup_8c.html#af684b74cdf8d5ba9f94ecd31269cbe5f">OSP_MAX_CUSTOMINFO</a>; i++) {</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(cinfo[i])) {</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            OSPPTransactionSetCustomInfo(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, i, cinfo[i]);</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;         }</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      }</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;   }</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(callednum, called, <span class="keyword">sizeof</span>(callednum));</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;   <span class="keywordflow">if</span>((tmp = strchr(callednum, <span class="charliteral">&#39;;&#39;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      *tmp = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;   }</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;   callidnum = 0;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;   callids[0] = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5b374a60989e0a5e46b9e3d493e62533">OSP_CALLID_MAXNUM</a>; i++) {</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      type = 1 &lt;&lt; i;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      <span class="keywordflow">if</span> (callidtypes &amp; type) {</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;         error = <a class="code" href="../../d6/d27/app__osplookup_8c.html#ae9f5a73f76d19b25d7666d4a3517d64a">osp_create_callid</a>(type, &amp;callid);</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;         <span class="keywordflow">if</span> (error == 1) {</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            callids[callidnum] = OSPPCallIdNew(callid.len, callid.buf);</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            callidnum++;</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;         }</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      }</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;   }</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;   <span class="keywordflow">if</span> (provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a2bf37ada3c48a03c6d0bcf7b5908b85a">workmode</a> == <a class="code" href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a53ec5913992131e1a1ac837c30c8ab5b">OSP_MODE_INDIRECT</a>) {</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a>(srcdev, src, <span class="keyword">sizeof</span>(src));</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(actualsrc)) {</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a>(srcdev, dev, <span class="keyword">sizeof</span>(dev));</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a>(actualsrc, dev, <span class="keyword">sizeof</span>(dev));</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      }</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a>(source, src, <span class="keyword">sizeof</span>(src));</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a>(srcdev, dev, <span class="keyword">sizeof</span>(dev));</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;   }</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;   <span class="keywordflow">if</span> (provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a4807a4d7e75a128ef0cfff947f84a59c">srvtype</a> == <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106a15963018b6837aa98637501b4be60399">OSP_SRV_NPQUERY</a>) {</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      OSPPTransactionSetServiceType(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, OSPC_SERVICE_NPQUERY);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(dest)) {</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;         preferred[0] = dest;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      }</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a> = 1;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      OSPPTransactionSetServiceType(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, OSPC_SERVICE_VOICE);</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aad818c7a48408a089fa3a804e541709d">OSP_DEF_MAXDESTS</a>;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;   }</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;   error = OSPPTransactionRequestAuthorisation(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>,</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      src,</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      dev,</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      calling ? calling : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      OSPC_NFORMAT_E164,</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      callednum,</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      OSPC_NFORMAT_E164,</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      callidnum,</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      callids,</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      preferred,</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      &amp;results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a>,</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      &amp;dummy,</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; callidnum; i++) {</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      OSPPCallIdDelete(&amp;callids[i]);</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;   }</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;   <span class="keywordflow">if</span> (error != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Unable to request authorization, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a> = 0;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <span class="keywordflow">if</span> (results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a> != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;         OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a>, OSPC_FAIL_NORMAL_UNSPECIFIED);</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      }</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;   }</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;   <span class="keywordflow">if</span> (!results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a>) {</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: No more destination\n&quot;</span>);</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      <span class="keywordflow">if</span> (results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a> != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;         OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a>, OSPC_FAIL_NO_ROUTE_TO_DEST);</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      }</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;   }</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">outcallid</a>.<a class="code" href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">len</a> = <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">outcallid</a>.<a class="code" href="../../da/de1/structosp__callid.html#add6beb7c0e4ac47a29fd9e8c4b2ebb2d">buf</a>);</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;   tokenlen = <span class="keyword">sizeof</span>(token);</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;   error = OSPPTransactionGetFirstDestination(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>,</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      0,</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      &amp;results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a>,</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      &amp;results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">outcallid</a>.<a class="code" href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">len</a>,</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">outcallid</a>.<a class="code" href="../../da/de1/structosp__callid.html#add6beb7c0e4ac47a29fd9e8c4b2ebb2d">buf</a>,</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="keyword">sizeof</span>(callednum),</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      callednum,</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      <span class="keyword">sizeof</span>(callingnum),</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      callingnum,</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <span class="keyword">sizeof</span>(destination),</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      destination,</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      0,</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      &amp;tokenlen,</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      token);</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;   <span class="keywordflow">if</span> (error != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to get first route, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a> = 0;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      <span class="keywordflow">if</span> (results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a> != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;         OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a>, OSPC_FAIL_NO_ROUTE_TO_DEST);</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      }</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;   }</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a>--;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#acad1656c35ed21d307a509194041383e">osp_choose_timelimit</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a63345dee69cafbcbc77a6966338e3c57">intimelimit</a>, results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a>);</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: outtimelimit &#39;%d&#39;\n&quot;</span>, results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a>);</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: calling &#39;%s&#39;\n&quot;</span>, callingnum);</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: called &#39;%s&#39;\n&quot;</span>, callednum);</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: destination &#39;%s&#39;\n&quot;</span>, destination);</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: token size &#39;%d&#39;\n&quot;</span>, tokenlen);</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a13252e3d1cc1d7b3d20d37834eb6588e">osp_check_destination</a>(provider, callingnum, callednum, destination, tokenlen, token, &amp;reason, results)) &gt; 0) {</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;   }</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;   <span class="keywordflow">if</span> (!results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a>) {</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: No more destination\n&quot;</span>);</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, reason);</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      <span class="keywordflow">if</span> (results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a> != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;         OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a>, OSPC_FAIL_NO_ROUTE_TO_DEST);</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      }</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;   }</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;   <span class="keywordflow">while</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a>) {</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">outcallid</a>.<a class="code" href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">len</a> = <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">outcallid</a>.<a class="code" href="../../da/de1/structosp__callid.html#add6beb7c0e4ac47a29fd9e8c4b2ebb2d">buf</a>);</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;      tokenlen = <span class="keyword">sizeof</span>(token);</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;      error = OSPPTransactionGetNextDestination(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>,</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;         reason,</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;         0,</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;         &amp;results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a>,</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;         &amp;results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">outcallid</a>.<a class="code" href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">len</a>,</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">outcallid</a>.<a class="code" href="../../da/de1/structosp__callid.html#add6beb7c0e4ac47a29fd9e8c4b2ebb2d">buf</a>,</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;         <span class="keyword">sizeof</span>(callednum),</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;         callednum,</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;         <span class="keyword">sizeof</span>(callingnum),</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;         callingnum,</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;         <span class="keyword">sizeof</span>(destination),</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;         destination,</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;         0,</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;         &amp;tokenlen,</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;         token);</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      <span class="keywordflow">if</span> (error == OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a>--;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#acad1656c35ed21d307a509194041383e">osp_choose_timelimit</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a63345dee69cafbcbc77a6966338e3c57">intimelimit</a>, results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a>);</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: outtimelimit &#39;%d&#39;\n&quot;</span>, results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a>);</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: calling &#39;%s&#39;\n&quot;</span>, callingnum);</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: called &#39;%s&#39;\n&quot;</span>, callednum);</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: destination &#39;%s&#39;\n&quot;</span>, destination);</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: token size &#39;%d&#39;\n&quot;</span>, tokenlen);</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;         <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a13252e3d1cc1d7b3d20d37834eb6588e">osp_check_destination</a>(provider, callingnum, callednum, destination, tokenlen, token, &amp;reason, results)) &gt; 0) {</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a>) {</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: No more destination\n&quot;</span>);</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, reason);</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            <span class="keywordflow">if</span> (results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a> != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;               OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a>, OSPC_FAIL_NO_ROUTE_TO_DEST);</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            }</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;         }</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to get route, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a> = 0;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;         <span class="keywordflow">if</span> (results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a> != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a>, OSPC_FAIL_NORMAL_UNSPECIFIED);</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;         }</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;         res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;      }</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;   }</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structosp__headers_html_add3ee7a0644b52cf34886b4f8dc15bc4"><div class="ttname"><a href="../../de/dcd/structosp__headers.html#add3ee7a0644b52cf34886b4f8dc15bc4">osp_headers::paiuser</a></div><div class="ttdeci">const char * paiuser</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00574">app_osplookup.c:574</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a3bb2e8490ca2aae2ef00dd0666a0d637"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a3bb2e8490ca2aae2ef00dd0666a0d637">OSP_TECH_SIP</a></div><div class="ttdeci">#define OSP_TECH_SIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00468">app_osplookup.c:468</a></div></div>
<div class="ttc" id="structosp__results_html_a388041f010d6c445bc6625dad76bc321"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">osp_results::inhandle</a></div><div class="ttdeci">int inhandle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00582">app_osplookup.c:582</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a232b5abec331065cc0ab6381c5ac5ea1"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a232b5abec331065cc0ab6381c5ac5ea1">OSP_TECH_H323</a></div><div class="ttdeci">#define OSP_TECH_H323</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00469">app_osplookup.c:469</a></div></div>
<div class="ttc" id="structosp__npdata_html_a8eb041c568ad0884396cdd1475682a0e"><div class="ttname"><a href="../../dd/d9a/structosp__npdata.html#a8eb041c568ad0884396cdd1475682a0e">osp_npdata::cic</a></div><div class="ttdeci">const char * cic</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00566">app_osplookup.c:566</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structosp__headers_html_a1708268349e165f2b432d83ca7d02fa7"><div class="ttname"><a href="../../de/dcd/structosp__headers.html#a1708268349e165f2b432d83ca7d02fa7">osp_headers::divuser</a></div><div class="ttdeci">const char * divuser</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00575">app_osplookup.c:575</a></div></div>
<div class="ttc" id="chan__unistim_8c_html_abc0ce15d00b4bfb69266c5fd016dc88c"><div class="ttname"><a href="../../d1/d6d/chan__unistim_8c.html#abc0ce15d00b4bfb69266c5fd016dc88c">dummy</a></div><div class="ttdeci">static void dummy(char *unused,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6d/chan__unistim_8c_source.html#l00220">chan_unistim.c:220</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structosp__results_html_ad6e676f723426600c66fc642e26b1493"><div class="ttname"><a href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">osp_results::dest</a></div><div class="ttdeci">char dest[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00588">app_osplookup.c:588</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a1d60693a007b72ca378317284f1e63e3"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a1d60693a007b72ca378317284f1e63e3">OSP_SIZE_TOKSTR</a></div><div class="ttdeci">#define OSP_SIZE_TOKSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00447">app_osplookup.c:447</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab0eeb414133a31e953150038886078f6"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab0eeb414133a31e953150038886078f6">OSP_TECH_SKYPE</a></div><div class="ttdeci">#define OSP_TECH_SKYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00471">app_osplookup.c:471</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af21fa85fa457a1235efc74c9e8d51bbb"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af21fa85fa457a1235efc74c9e8d51bbb">osp_get_provider</a></div><div class="ttdeci">static int osp_get_provider(const char *name, struct osp_provider **provider)</div><div class="ttdoc">Get OSP provider by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00914">app_osplookup.c:914</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structosp__results_html_ac402ff1c775a60a42e724ff547275cc1"><div class="ttname"><a href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">osp_results::numdests</a></div><div class="ttdeci">unsigned int numdests</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00597">app_osplookup.c:597</a></div></div>
<div class="ttc" id="structosp__results_html_a73cadffe2ff8e4bebbea7db612fe78a7"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">osp_results::outtech</a></div><div class="ttdeci">char outtech[OSP_SIZE_TECHSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00587">app_osplookup.c:587</a></div></div>
<div class="ttc" id="structosp__results_html_a35e09574d85d055fc9b5a444be5f4f01"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a35e09574d85d055fc9b5a444be5f4f01">osp_results::nprn</a></div><div class="ttdeci">char nprn[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00593">app_osplookup.c:593</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a57b476e1bebcccf8b406321897704c08a53ec5913992131e1a1ac837c30c8ab5b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a57b476e1bebcccf8b406321897704c08a53ec5913992131e1a1ac837c30c8ab5b">OSP_MODE_INDIRECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00486">app_osplookup.c:486</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structosp__results_html_acb9cda70393267dea79cd0cb6a148f73"><div class="ttname"><a href="../../d4/d92/structosp__results.html#acb9cda70393267dea79cd0cb6a148f73">osp_results::intech</a></div><div class="ttdeci">char intech[OSP_SIZE_TECHSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00586">app_osplookup.c:586</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab5dbdc8dc40e969bb49e15442cebf037"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab5dbdc8dc40e969bb49e15442cebf037">osp_create_transaction</a></div><div class="ttdeci">static int osp_create_transaction(const char *name, int *trans, char *source, unsigned int srcsize)</div><div class="ttdoc">Create OSP transaction handle. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00945">app_osplookup.c:945</a></div></div>
<div class="ttc" id="muted_8c_html_a41c3a180b50c6b2ddcc1b6843a48f205"><div class="ttname"><a href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a></div><div class="ttdeci">static char host[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00077">muted.c:77</a></div></div>
<div class="ttc" id="structosp__results_html_add3e2b56eb4cf1825b2f025088e2e3fb"><div class="ttname"><a href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">osp_results::outtimelimit</a></div><div class="ttdeci">unsigned int outtimelimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00585">app_osplookup.c:585</a></div></div>
<div class="ttc" id="structosp__callid_html"><div class="ttname"><a href="../../da/de1/structosp__callid.html">osp_callid</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00558">app_osplookup.c:558</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab539b964be69a0940bdca784ea442106a15963018b6837aa98637501b4be60399"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab539b964be69a0940bdca784ea442106a15963018b6837aa98637501b4be60399">OSP_SRV_NPQUERY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00492">app_osplookup.c:492</a></div></div>
<div class="ttc" id="structosp__results_html_a884af616aa6da01d2bb1fcd3e4699d63"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">osp_results::calling</a></div><div class="ttdeci">char calling[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00589">app_osplookup.c:589</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0f04966dacabe124fd55b281303a560a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a></div><div class="ttdeci">#define OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00498">app_osplookup.c:498</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_acad1656c35ed21d307a509194041383e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#acad1656c35ed21d307a509194041383e">osp_choose_timelimit</a></div><div class="ttdeci">static unsigned int osp_choose_timelimit(unsigned int in, unsigned int out)</div><div class="ttdoc">Choose min duration limit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01146">app_osplookup.c:1146</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab76700b23001d9fccd14fc003d88b599"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a></div><div class="ttdeci">static void osp_convert_inout(const char *src, char *dest, unsigned int destsize)</div><div class="ttdoc">Convert &quot;address:port&quot; to &quot;[x.x.x.x]:port&quot; or &quot;hostname:port&quot; format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00992">app_osplookup.c:992</a></div></div>
<div class="ttc" id="structosp__results_html_a63345dee69cafbcbc77a6966338e3c57"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a63345dee69cafbcbc77a6966338e3c57">osp_results::intimelimit</a></div><div class="ttdeci">unsigned int intimelimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00584">app_osplookup.c:584</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a13252e3d1cc1d7b3d20d37834eb6588e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a13252e3d1cc1d7b3d20d37834eb6588e">osp_check_destination</a></div><div class="ttdeci">static int osp_check_destination(struct osp_provider *provider, const char *calling, const char *called, const char *destination, unsigned int tokenlen, const char *token, OSPEFAILREASON *reason, struct osp_results *results)</div><div class="ttdoc">Choose min duration limit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01171">app_osplookup.c:1171</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structosp__results_html_a9510d026d1fc5261f447c25136359281"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">osp_results::outhandle</a></div><div class="ttdeci">int outhandle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00583">app_osplookup.c:583</a></div></div>
<div class="ttc" id="structosp__results_html_a96097f356daf14846c8d826b4670870b"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a96097f356daf14846c8d826b4670870b">osp_results::opname</a></div><div class="ttdeci">char opname[OSPC_OPNAME_NUMBER][OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00596">app_osplookup.c:596</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab00665d0be85f5bdb470e104eb3659b4"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab00665d0be85f5bdb470e104eb3659b4">OSP_TECH_IAX</a></div><div class="ttdeci">#define OSP_TECH_IAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00470">app_osplookup.c:470</a></div></div>
<div class="ttc" id="structosp__results_html_a92001ea9c449e8ac4ff73e26f6356310"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a92001ea9c449e8ac4ff73e26f6356310">osp_results::npcic</a></div><div class="ttdeci">char npcic[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00594">app_osplookup.c:594</a></div></div>
<div class="ttc" id="structosp__provider_html"><div class="ttname"><a href="../../d9/de8/structosp__provider.html">osp_provider</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00536">app_osplookup.c:536</a></div></div>
<div class="ttc" id="structosp__npdata_html_aaee3c25bc45f1fb8e2beaba71a5d85de"><div class="ttname"><a href="../../dd/d9a/structosp__npdata.html#aaee3c25bc45f1fb8e2beaba71a5d85de">osp_npdata::rn</a></div><div class="ttdeci">const char * rn</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00565">app_osplookup.c:565</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a34493e33ef3bc392a891e8b9679c99a6"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a34493e33ef3bc392a891e8b9679c99a6">OSP_SIZE_OUTSTR</a></div><div class="ttdeci">#define OSP_SIZE_OUTSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00452">app_osplookup.c:452</a></div></div>
<div class="ttc" id="structosp__provider_html_a2bf37ada3c48a03c6d0bcf7b5908b85a"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a2bf37ada3c48a03c6d0bcf7b5908b85a">osp_provider::workmode</a></div><div class="ttdeci">enum osp_workmode workmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00552">app_osplookup.c:552</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aa216d244dea7f5d816cc35504c4390cc"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a></div><div class="ttdeci">#define OSP_DEF_TIMELIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00527">app_osplookup.c:527</a></div></div>
<div class="ttc" id="structosp__npdata_html_a9b18be0183ba3a1cbcac4bf6aad3a042"><div class="ttname"><a href="../../dd/d9a/structosp__npdata.html#a9b18be0183ba3a1cbcac4bf6aad3a042">osp_npdata::npdi</a></div><div class="ttdeci">int npdi</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00567">app_osplookup.c:567</a></div></div>
<div class="ttc" id="structosp__results_html_a8a40878f698d0e7d139412c28a0c729c"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a8a40878f698d0e7d139412c28a0c729c">osp_results::networkid</a></div><div class="ttdeci">char networkid[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00592">app_osplookup.c:592</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a693603e5e4556641af06c8ebec1dffc5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a></div><div class="ttdeci">#define OSP_INVALID_HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00501">app_osplookup.c:501</a></div></div>
<div class="ttc" id="structosp__results_html_aeaab4f4002923faca19a77732670a245"><div class="ttname"><a href="../../d4/d92/structosp__results.html#aeaab4f4002923faca19a77732670a245">osp_results::token</a></div><div class="ttdeci">char token[OSP_SIZE_TOKSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00591">app_osplookup.c:591</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af684b74cdf8d5ba9f94ecd31269cbe5f"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af684b74cdf8d5ba9f94ecd31269cbe5f">OSP_MAX_CUSTOMINFO</a></div><div class="ttdeci">#define OSP_MAX_CUSTOMINFO</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00531">app_osplookup.c:531</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ae9f5a73f76d19b25d7666d4a3517d64a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ae9f5a73f76d19b25d7666d4a3517d64a">osp_create_callid</a></div><div class="ttdeci">static int osp_create_callid(unsigned int type, struct osp_callid *callid)</div><div class="ttdoc">Create a call ID according to the type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01451">app_osplookup.c:1451</a></div></div>
<div class="ttc" id="structosp__headers_html_a99422a6adbc9f5ba9d56837a5dace773"><div class="ttname"><a href="../../de/dcd/structosp__headers.html#a99422a6adbc9f5ba9d56837a5dace773">osp_headers::pciuser</a></div><div class="ttdeci">const char * pciuser</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00577">app_osplookup.c:577</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a14d1713206e0c29b3af28d8c3a50024f"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a></div><div class="ttdeci">#define OSP_SIZE_NORSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00445">app_osplookup.c:445</a></div></div>
<div class="ttc" id="structosp__results_html_a7a5c140c1fbb0cebedbb35382dcf72da"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">osp_results::called</a></div><div class="ttdeci">char called[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00590">app_osplookup.c:590</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a5b374a60989e0a5e46b9e3d493e62533"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5b374a60989e0a5e46b9e3d493e62533">OSP_CALLID_MAXNUM</a></div><div class="ttdeci">#define OSP_CALLID_MAXNUM</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00459">app_osplookup.c:459</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aad818c7a48408a089fa3a804e541709d"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aad818c7a48408a089fa3a804e541709d">OSP_DEF_MAXDESTS</a></div><div class="ttdeci">#define OSP_DEF_MAXDESTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00526">app_osplookup.c:526</a></div></div>
<div class="ttc" id="structosp__callid_html_add6beb7c0e4ac47a29fd9e8c4b2ebb2d"><div class="ttname"><a href="../../da/de1/structosp__callid.html#add6beb7c0e4ac47a29fd9e8c4b2ebb2d">osp_callid::buf</a></div><div class="ttdeci">unsigned char buf[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00559">app_osplookup.c:559</a></div></div>
<div class="ttc" id="structosp__results_html_a9b18be0183ba3a1cbcac4bf6aad3a042"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a9b18be0183ba3a1cbcac4bf6aad3a042">osp_results::npdi</a></div><div class="ttdeci">int npdi</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00595">app_osplookup.c:595</a></div></div>
<div class="ttc" id="structosp__results_html_a1c4f969b78b88b37312e1b21bd759139"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">osp_results::outcallid</a></div><div class="ttdeci">struct osp_callid outcallid</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00598">app_osplookup.c:598</a></div></div>
<div class="ttc" id="structosp__provider_html_a950c439bf7874a44561d16a9e1895760"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">osp_provider::source</a></div><div class="ttdeci">char source[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00549">app_osplookup.c:549</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a994a6462629a5ad5016167d04ed3a9ab"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a></div><div class="ttdeci">#define OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00497">app_osplookup.c:497</a></div></div>
<div class="ttc" id="structosp__provider_html_a4807a4d7e75a128ef0cfff947f84a59c"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a4807a4d7e75a128ef0cfff947f84a59c">osp_provider::srvtype</a></div><div class="ttdeci">enum osp_srvtype srvtype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00553">app_osplookup.c:553</a></div></div>
<div class="ttc" id="bridges_8c_html_ab1760b9a6a6c8d063d49ab9b5bcdfa49"><div class="ttname"><a href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a></div><div class="ttdeci">static struct prometheus_metrics_provider provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/bridges_8c_source.html#l00178">bridges.c:178</a></div></div>
<div class="ttc" id="structosp__headers_html_a3600887b5e9713f818e55d95ad32868b"><div class="ttname"><a href="../../de/dcd/structosp__headers.html#a3600887b5e9713f818e55d95ad32868b">osp_headers::divhost</a></div><div class="ttdeci">const char * divhost</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00576">app_osplookup.c:576</a></div></div>
<div class="ttc" id="structosp__callid_html_a77124bd5f7e31e6fffc19f335da0c23f"><div class="ttname"><a href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">osp_callid::len</a></div><div class="ttdeci">unsigned int len</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00560">app_osplookup.c:560</a></div></div>
<div class="ttc" id="structosp__headers_html_a6ea88ed69ed92d616e47578a555e0d3e"><div class="ttname"><a href="../../de/dcd/structosp__headers.html#a6ea88ed69ed92d616e47578a555e0d3e">osp_headers::rpiduser</a></div><div class="ttdeci">const char * rpiduser</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00573">app_osplookup.c:573</a></div></div>
<div class="ttc" id="structosp__npdata_html_a0cbe39d41fb52a773e153216763eae15"><div class="ttname"><a href="../../dd/d9a/structosp__npdata.html#a0cbe39d41fb52a773e153216763eae15">osp_npdata::opname</a></div><div class="ttdeci">const char * opname[OSPC_OPNAME_NUMBER]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00568">app_osplookup.c:568</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0eed7d4186b9b366692466bca5f47bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eed7d4186b9b366692466bca5f47bba">&#9670;&nbsp;</a></span>osp_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_next </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cause</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d92/structosp__results.html">osp_results</a> *&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OSP Lookup Next function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>OSP provider name </td></tr>
    <tr><td class="paramname">cause</td><td>Asterisk hangup cause </td></tr>
    <tr><td class="paramname">results</td><td>Lookup results, in/output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_OK Found , OSP_FAILED No route, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">1799</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01313">asterisk2osp()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00559">osp_callid::buf</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00590">osp_results::called</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00589">osp_results::calling</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00588">osp_results::dest</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00999">error()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00582">osp_results::inhandle</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00584">osp_results::intimelimit</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00560">osp_callid::len</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00592">osp_results::networkid</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00594">osp_results::npcic</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00595">osp_results::npdi</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00593">osp_results::nprn</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00597">osp_results::numdests</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00596">osp_results::opname</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01171">osp_check_destination()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01146">osp_choose_timelimit()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00527">OSP_DEF_TIMELIMIT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00498">OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00497">OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00914">osp_get_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00501">OSP_INVALID_HANDLE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00445">OSP_SIZE_NORSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00447">OSP_SIZE_TOKSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00598">osp_results::outcallid</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00583">osp_results::outhandle</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00587">osp_results::outtech</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00585">osp_results::outtimelimit</a>, <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00178">provider</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00591">osp_results::token</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;{</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/de8/structosp__provider.html">osp_provider</a>* <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;   <span class="keywordtype">char</span> calling[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>];</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;   <span class="keywordtype">char</span> called[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>];</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;   <span class="keywordtype">char</span> dest[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>];</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tokenlen;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;   <span class="keywordtype">char</span> token[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a1d60693a007b72ca378317284f1e63e3">OSP_SIZE_TOKSTR</a>];</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;   OSPEFAILREASON reason;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;   OSPE_OPERATOR_NAME <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;   <span class="keywordflow">if</span> (results == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid parameters\n&quot;</span>);</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;   }</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">outtech</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">dest</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">calling</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">called</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#aeaab4f4002923faca19a77732670a245">token</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a8a40878f698d0e7d139412c28a0c729c">networkid</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a35e09574d85d055fc9b5a444be5f4f01">nprn</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a92001ea9c449e8ac4ff73e26f6356310">npcic</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9b18be0183ba3a1cbcac4bf6aad3a042">npdi</a> = 0;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;   <span class="keywordflow">for</span> (type = OSPC_OPNAME_START; type &lt; OSPC_OPNAME_NUMBER; type++) {</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a96097f356daf14846c8d826b4670870b">opname</a>[<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>][0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;   }</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;   results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#af21fa85fa457a1235efc74c9e8d51bbb">osp_get_provider</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, &amp;provider)) &lt;= 0) {</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unabe to find OSP provider &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;   }</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;   <span class="keywordflow">if</span> (results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a> == <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Transaction handle undefined\n&quot;</span>);</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a> = 0;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      <span class="keywordflow">if</span> (results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a> != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;         OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a>, OSPC_FAIL_NORMAL_UNSPECIFIED);</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      }</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;   }</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;   reason = <a class="code" href="../../d6/d27/app__osplookup_8c.html#af51938903a4cc1d253bfbf03b2a70d90">asterisk2osp</a>(cause);</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;   <span class="keywordflow">if</span> (!results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a>) {</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: No more destination\n&quot;</span>);</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;      OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, reason);</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      <span class="keywordflow">if</span> (results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a> != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;         OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a>, OSPC_FAIL_NO_ROUTE_TO_DEST);</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      }</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;   }</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;   <span class="keywordflow">while</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a>) {</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">outcallid</a>.<a class="code" href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">len</a> = <span class="keyword">sizeof</span>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">outcallid</a>.<a class="code" href="../../da/de1/structosp__callid.html#add6beb7c0e4ac47a29fd9e8c4b2ebb2d">buf</a>);</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      tokenlen = <span class="keyword">sizeof</span>(token);</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      error = OSPPTransactionGetNextDestination(</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>,</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;         reason,</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;         0,</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;         &amp;results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a>,</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;         &amp;results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">outcallid</a>.<a class="code" href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">len</a>,</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">outcallid</a>.<a class="code" href="../../da/de1/structosp__callid.html#add6beb7c0e4ac47a29fd9e8c4b2ebb2d">buf</a>,</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;         <span class="keyword">sizeof</span>(called),</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;         called,</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;         <span class="keyword">sizeof</span>(calling),</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;         calling,</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;         <span class="keyword">sizeof</span>(dest),</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;         dest,</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;         0,</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;         &amp;tokenlen,</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;         token);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;      <span class="keywordflow">if</span> (error == OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a>--;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#acad1656c35ed21d307a509194041383e">osp_choose_timelimit</a>(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a63345dee69cafbcbc77a6966338e3c57">intimelimit</a>, results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a>);</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: outtimelimit &#39;%d&#39;\n&quot;</span>, results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a>);</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: calling &#39;%s&#39;\n&quot;</span>, calling);</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: called &#39;%s&#39;\n&quot;</span>, called);</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: destination &#39;%s&#39;\n&quot;</span>, dest);</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: token size &#39;%d&#39;\n&quot;</span>, tokenlen);</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;         <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a13252e3d1cc1d7b3d20d37834eb6588e">osp_check_destination</a>(provider, calling, called, dest, tokenlen, token, &amp;reason, results)) &gt; 0) {</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a>) {</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: No more destination\n&quot;</span>);</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">outhandle</a>, reason);</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            <span class="keywordflow">if</span> (results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a> != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;               OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a>, OSPC_FAIL_NO_ROUTE_TO_DEST);</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;            }</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;         }</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unable to get route, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#aeaab4f4002923faca19a77732670a245">token</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">numdests</a> = 0;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;         results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">outtimelimit</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;         <span class="keywordflow">if</span> (results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a> != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>) {</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            OSPPTransactionRecordFailure(results-&gt;<a class="code" href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">inhandle</a>, OSPC_FAIL_NORMAL_UNSPECIFIED);</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;         }</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;         res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;      }</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;   }</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structosp__results_html_a388041f010d6c445bc6625dad76bc321"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a388041f010d6c445bc6625dad76bc321">osp_results::inhandle</a></div><div class="ttdeci">int inhandle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00582">app_osplookup.c:582</a></div></div>
<div class="ttc" id="structosp__results_html_ad6e676f723426600c66fc642e26b1493"><div class="ttname"><a href="../../d4/d92/structosp__results.html#ad6e676f723426600c66fc642e26b1493">osp_results::dest</a></div><div class="ttdeci">char dest[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00588">app_osplookup.c:588</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a1d60693a007b72ca378317284f1e63e3"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a1d60693a007b72ca378317284f1e63e3">OSP_SIZE_TOKSTR</a></div><div class="ttdeci">#define OSP_SIZE_TOKSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00447">app_osplookup.c:447</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af21fa85fa457a1235efc74c9e8d51bbb"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af21fa85fa457a1235efc74c9e8d51bbb">osp_get_provider</a></div><div class="ttdeci">static int osp_get_provider(const char *name, struct osp_provider **provider)</div><div class="ttdoc">Get OSP provider by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00914">app_osplookup.c:914</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structosp__results_html_ac402ff1c775a60a42e724ff547275cc1"><div class="ttname"><a href="../../d4/d92/structosp__results.html#ac402ff1c775a60a42e724ff547275cc1">osp_results::numdests</a></div><div class="ttdeci">unsigned int numdests</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00597">app_osplookup.c:597</a></div></div>
<div class="ttc" id="structosp__results_html_a73cadffe2ff8e4bebbea7db612fe78a7"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a73cadffe2ff8e4bebbea7db612fe78a7">osp_results::outtech</a></div><div class="ttdeci">char outtech[OSP_SIZE_TECHSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00587">app_osplookup.c:587</a></div></div>
<div class="ttc" id="structosp__results_html_a35e09574d85d055fc9b5a444be5f4f01"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a35e09574d85d055fc9b5a444be5f4f01">osp_results::nprn</a></div><div class="ttdeci">char nprn[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00593">app_osplookup.c:593</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structosp__results_html_add3e2b56eb4cf1825b2f025088e2e3fb"><div class="ttname"><a href="../../d4/d92/structosp__results.html#add3e2b56eb4cf1825b2f025088e2e3fb">osp_results::outtimelimit</a></div><div class="ttdeci">unsigned int outtimelimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00585">app_osplookup.c:585</a></div></div>
<div class="ttc" id="structosp__results_html_a884af616aa6da01d2bb1fcd3e4699d63"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a884af616aa6da01d2bb1fcd3e4699d63">osp_results::calling</a></div><div class="ttdeci">char calling[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00589">app_osplookup.c:589</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0f04966dacabe124fd55b281303a560a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a></div><div class="ttdeci">#define OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00498">app_osplookup.c:498</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_acad1656c35ed21d307a509194041383e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#acad1656c35ed21d307a509194041383e">osp_choose_timelimit</a></div><div class="ttdeci">static unsigned int osp_choose_timelimit(unsigned int in, unsigned int out)</div><div class="ttdoc">Choose min duration limit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01146">app_osplookup.c:1146</a></div></div>
<div class="ttc" id="structosp__results_html_a63345dee69cafbcbc77a6966338e3c57"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a63345dee69cafbcbc77a6966338e3c57">osp_results::intimelimit</a></div><div class="ttdeci">unsigned int intimelimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00584">app_osplookup.c:584</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a13252e3d1cc1d7b3d20d37834eb6588e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a13252e3d1cc1d7b3d20d37834eb6588e">osp_check_destination</a></div><div class="ttdeci">static int osp_check_destination(struct osp_provider *provider, const char *calling, const char *called, const char *destination, unsigned int tokenlen, const char *token, OSPEFAILREASON *reason, struct osp_results *results)</div><div class="ttdoc">Choose min duration limit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01171">app_osplookup.c:1171</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structosp__results_html_a9510d026d1fc5261f447c25136359281"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a9510d026d1fc5261f447c25136359281">osp_results::outhandle</a></div><div class="ttdeci">int outhandle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00583">app_osplookup.c:583</a></div></div>
<div class="ttc" id="structosp__results_html_a96097f356daf14846c8d826b4670870b"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a96097f356daf14846c8d826b4670870b">osp_results::opname</a></div><div class="ttdeci">char opname[OSPC_OPNAME_NUMBER][OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00596">app_osplookup.c:596</a></div></div>
<div class="ttc" id="structosp__results_html_a92001ea9c449e8ac4ff73e26f6356310"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a92001ea9c449e8ac4ff73e26f6356310">osp_results::npcic</a></div><div class="ttdeci">char npcic[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00594">app_osplookup.c:594</a></div></div>
<div class="ttc" id="structosp__provider_html"><div class="ttname"><a href="../../d9/de8/structosp__provider.html">osp_provider</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00536">app_osplookup.c:536</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aa216d244dea7f5d816cc35504c4390cc"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a></div><div class="ttdeci">#define OSP_DEF_TIMELIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00527">app_osplookup.c:527</a></div></div>
<div class="ttc" id="structosp__results_html_a8a40878f698d0e7d139412c28a0c729c"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a8a40878f698d0e7d139412c28a0c729c">osp_results::networkid</a></div><div class="ttdeci">char networkid[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00592">app_osplookup.c:592</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af51938903a4cc1d253bfbf03b2a70d90"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af51938903a4cc1d253bfbf03b2a70d90">asterisk2osp</a></div><div class="ttdeci">static OSPEFAILREASON asterisk2osp(int cause)</div><div class="ttdoc">Convert Asterisk status to TC code. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01313">app_osplookup.c:1313</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a693603e5e4556641af06c8ebec1dffc5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a></div><div class="ttdeci">#define OSP_INVALID_HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00501">app_osplookup.c:501</a></div></div>
<div class="ttc" id="structosp__results_html_aeaab4f4002923faca19a77732670a245"><div class="ttname"><a href="../../d4/d92/structosp__results.html#aeaab4f4002923faca19a77732670a245">osp_results::token</a></div><div class="ttdeci">char token[OSP_SIZE_TOKSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00591">app_osplookup.c:591</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a14d1713206e0c29b3af28d8c3a50024f"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a></div><div class="ttdeci">#define OSP_SIZE_NORSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00445">app_osplookup.c:445</a></div></div>
<div class="ttc" id="structosp__results_html_a7a5c140c1fbb0cebedbb35382dcf72da"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a7a5c140c1fbb0cebedbb35382dcf72da">osp_results::called</a></div><div class="ttdeci">char called[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00590">app_osplookup.c:590</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
<div class="ttc" id="structosp__callid_html_add6beb7c0e4ac47a29fd9e8c4b2ebb2d"><div class="ttname"><a href="../../da/de1/structosp__callid.html#add6beb7c0e4ac47a29fd9e8c4b2ebb2d">osp_callid::buf</a></div><div class="ttdeci">unsigned char buf[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00559">app_osplookup.c:559</a></div></div>
<div class="ttc" id="structosp__results_html_a9b18be0183ba3a1cbcac4bf6aad3a042"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a9b18be0183ba3a1cbcac4bf6aad3a042">osp_results::npdi</a></div><div class="ttdeci">int npdi</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00595">app_osplookup.c:595</a></div></div>
<div class="ttc" id="structosp__results_html_a1c4f969b78b88b37312e1b21bd759139"><div class="ttname"><a href="../../d4/d92/structosp__results.html#a1c4f969b78b88b37312e1b21bd759139">osp_results::outcallid</a></div><div class="ttdeci">struct osp_callid outcallid</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00598">app_osplookup.c:598</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a994a6462629a5ad5016167d04ed3a9ab"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a></div><div class="ttdeci">#define OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00497">app_osplookup.c:497</a></div></div>
<div class="ttc" id="bridges_8c_html_ab1760b9a6a6c8d063d49ab9b5bcdfa49"><div class="ttname"><a href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a></div><div class="ttdeci">static struct prometheus_metrics_provider provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/bridges_8c_source.html#l00178">bridges.c:178</a></div></div>
<div class="ttc" id="structosp__callid_html_a77124bd5f7e31e6fffc19f335da0c23f"><div class="ttname"><a href="../../da/de1/structosp__callid.html#a77124bd5f7e31e6fffc19f335da0c23f">osp_callid::len</a></div><div class="ttdeci">unsigned int len</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00560">app_osplookup.c:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="add0a83ded5551efdeebc15a7f5ddb962"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add0a83ded5551efdeebc15a7f5ddb962">&#9670;&nbsp;</a></span>osp_report_qos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_report_qos </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124f">osp_callleg</a>&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>qos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Report QoS. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trans</td><td>OSP in/outbound transaction handle </td></tr>
    <tr><td class="paramname">leg</td><td>Inbound/outbound </td></tr>
    <tr><td class="paramname">qos</td><td>QoS string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_OK Success, OSP_FAILED Failed, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01971">1971</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00619">osp_metrics::avg</a>, <a class="el" href="../../d8/d4f/test__config_8c_source.html#l01463">item</a>, <a class="el" href="../../dc/dc2/f2c_8h_source.html#l00198">max</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00618">osp_metrics::max</a>, <a class="el" href="../../dc/dc2/f2c_8h_source.html#l00197">min</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00617">osp_metrics::min</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00603">OSP_CALL_INBOUND</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00533">OSP_DEF_FLOATSTATS</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00532">OSP_DEF_INTSTATS</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00611">OSP_DIR_NUMBER</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00609">OSP_DIR_RX</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00610">OSP_DIR_TX</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00497">OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01946">osp_get_varfloat()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01923">osp_get_varint()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00445">OSP_SIZE_NORSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00620">osp_metrics::sdev</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00616">osp_metrics::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02188">osp_finish()</a>.</p>
<div class="fragment"><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;{</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589">osp_direction</a> dir;</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;   <span class="keywordtype">char</span> buffer[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a>];</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;   <span class="keywordtype">char</span>* <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;   <span class="keywordtype">char</span>* <a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>;</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;   <span class="keywordtype">int</span> totalpackets[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88">OSP_DIR_NUMBER</a>];</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d69/structosp__metrics.html">osp_metrics</a> lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88">OSP_DIR_NUMBER</a>];</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d69/structosp__metrics.html">osp_metrics</a> jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88">OSP_DIR_NUMBER</a>];</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d69/structosp__metrics.html">osp_metrics</a> rtt;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dff/chan__iax2_8c.html#a6b10e3663f82435983fbd40c2c01bb6a">qos</a>)) {</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      <span class="keywordflow">for</span> (dir = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>; dir &lt; <a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88">OSP_DIR_NUMBER</a>; dir++) {</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;         totalpackets[dir] = <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      }</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      <span class="keywordflow">for</span> (dir = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>; dir &lt; <a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88">OSP_DIR_NUMBER</a>; dir++) {</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;         lost[dir].value = <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;         lost[dir].min = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;         lost[dir].max = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;         lost[dir].avg = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;         lost[dir].sdev = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      }</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      <span class="keywordflow">for</span> (dir = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>; dir &lt; <a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88">OSP_DIR_NUMBER</a>; dir++) {</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;         jitter[dir].value = <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;         jitter[dir].min = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;         jitter[dir].max = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;         jitter[dir].avg = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;         jitter[dir].sdev = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      }</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      rtt.value = <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      rtt.min = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;      rtt.max = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;      rtt.avg = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;      rtt.sdev = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a>;</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(buffer, <a class="code" href="../../d5/dff/chan__iax2_8c.html#a6b10e3663f82435983fbd40c2c01bb6a">qos</a>, <span class="keyword">sizeof</span>(buffer));</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      <span class="keywordflow">for</span> (item = strtok_r(buffer, <span class="stringliteral">&quot;;&quot;</span>, &amp;tmp); <a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>; item = strtok_r(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;;&quot;</span>, &amp;tmp)) {</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;         <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;rxcount&quot;</span>, strlen(<span class="stringliteral">&quot;rxcount&quot;</span>))) {</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;            totalpackets[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>] = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a6477b002539f2810c932b5700c531b1d">osp_get_varint</a>(item);</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;txcount&quot;</span>, strlen(<span class="stringliteral">&quot;txcount&quot;</span>))) {</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;            totalpackets[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>] = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a6477b002539f2810c932b5700c531b1d">osp_get_varint</a>(item);</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;lp&quot;</span>, strlen(<span class="stringliteral">&quot;lp&quot;</span>))) {</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;            lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].value = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a6477b002539f2810c932b5700c531b1d">osp_get_varint</a>(item);</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;minrxlost&quot;</span>, strlen(<span class="stringliteral">&quot;minrxlost&quot;</span>))) {</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;            lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].min = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;maxrxlost&quot;</span>, strlen(<span class="stringliteral">&quot;maxrxlost&quot;</span>))) {</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;            lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].max = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;avgrxlost&quot;</span>, strlen(<span class="stringliteral">&quot;avgrxlost&quot;</span>))) {</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;            lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].avg = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;stdevrxlost&quot;</span>, strlen(<span class="stringliteral">&quot;stdevrxlost&quot;</span>))) {</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;            lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].sdev = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;rlp&quot;</span>, strlen(<span class="stringliteral">&quot;rlp&quot;</span>))) {</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;            lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].value = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a6477b002539f2810c932b5700c531b1d">osp_get_varint</a>(item);</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;reported_minlost&quot;</span>, strlen(<span class="stringliteral">&quot;reported_minlost&quot;</span>))) {</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;            lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].min = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;reported_maxlost&quot;</span>, strlen(<span class="stringliteral">&quot;reported_maxlost&quot;</span>))) {</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;            lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].max = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;reported_avglost&quot;</span>, strlen(<span class="stringliteral">&quot;reported_avglost&quot;</span>))) {</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;            lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].avg = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;reported_stdevlost&quot;</span>, strlen(<span class="stringliteral">&quot;reported_stdevlost&quot;</span>))) {</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;            lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].sdev = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;rxjitter&quot;</span>, strlen(<span class="stringliteral">&quot;rxjitter&quot;</span>))) {</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;            jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].value = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a6477b002539f2810c932b5700c531b1d">osp_get_varint</a>(item);</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;minrxjitter&quot;</span>, strlen(<span class="stringliteral">&quot;minrxjitter&quot;</span>))) {</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;            jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].min = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;maxrxjitter&quot;</span>, strlen(<span class="stringliteral">&quot;maxrxjitter&quot;</span>))) {</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;            jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].max = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;avgrxjitter&quot;</span>, strlen(<span class="stringliteral">&quot;avgjitter&quot;</span>))) {</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;            jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].avg = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;stdevrxjitter&quot;</span>, strlen(<span class="stringliteral">&quot;stdevjitter&quot;</span>))) {</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;            jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].sdev = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;txjitter&quot;</span>, strlen(<span class="stringliteral">&quot;txjitter&quot;</span>))) {</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;            jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].value = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a6477b002539f2810c932b5700c531b1d">osp_get_varint</a>(item);</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;reported_minjitter&quot;</span>, strlen(<span class="stringliteral">&quot;reported_minjitter&quot;</span>))) {</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;            jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].min = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;reported_maxjitter&quot;</span>, strlen(<span class="stringliteral">&quot;reported_maxjitter&quot;</span>))) {</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;            jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].max = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;reported_avgjitter&quot;</span>, strlen(<span class="stringliteral">&quot;reported_avgjitter&quot;</span>))) {</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;            jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].avg = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;reported_stdevjitter&quot;</span>, strlen(<span class="stringliteral">&quot;reported_stdevjitter&quot;</span>))) {</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;            jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].sdev = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;rtt&quot;</span>, strlen(<span class="stringliteral">&quot;rtt&quot;</span>))) {</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;            rtt.value = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a6477b002539f2810c932b5700c531b1d">osp_get_varint</a>(item);</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;minrtt&quot;</span>, strlen(<span class="stringliteral">&quot;minrtt&quot;</span>))) {</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;            rtt.min = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;maxrtt&quot;</span>, strlen(<span class="stringliteral">&quot;maxrtt&quot;</span>))) {</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;            rtt.max = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;avgrtt&quot;</span>, strlen(<span class="stringliteral">&quot;avgrtt&quot;</span>))) {</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            rtt.avg = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(item, <span class="stringliteral">&quot;stdevrtt&quot;</span>, strlen(<span class="stringliteral">&quot;stdevrtt&quot;</span>))) {</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            rtt.sdev = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a>(item);</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;         }</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      }</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: call leg &#39;%d&#39;\n&quot;</span>, leg);</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: rxcount &#39;%d&#39;\n&quot;</span>, totalpackets[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>]);</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: txcount &#39;%d&#39;\n&quot;</span>, totalpackets[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>]);</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: lp &#39;%d&#39;\n&quot;</span>,lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].value);</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: minrxlost &#39;%f&#39;\n&quot;</span>, lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>);</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: maxrxlost &#39;%f&#39;\n&quot;</span>, lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>);</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: avgrxlost &#39;%f&#39;\n&quot;</span>, lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ac031a0922fc33110fb91fd4d76ee0273">avg</a>);</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: stdevrxlost &#39;%f&#39;\n&quot;</span>, lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ae951a9fca46f36b3eba630ccfab91381">sdev</a>);</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: rlp &#39;%d&#39;\n&quot;</span>, lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].value);</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: reported_minlost &#39;%f&#39;\n&quot;</span>, lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>);</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: reported_maxlost &#39;%f&#39;\n&quot;</span>, lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>);</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: reported_avglost &#39;%f&#39;\n&quot;</span>, lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ac031a0922fc33110fb91fd4d76ee0273">avg</a>);</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: reported_stdevlost &#39;%f&#39;\n&quot;</span>, lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ae951a9fca46f36b3eba630ccfab91381">sdev</a>);</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: rxjitter &#39;%d&#39;\n&quot;</span>, jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].value);</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: minrxjitter &#39;%f&#39;\n&quot;</span>, jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>);</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: maxrxjitter &#39;%f&#39;\n&quot;</span>, jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>);</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: avgrxjitter &#39;%f&#39;\n&quot;</span>, jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ac031a0922fc33110fb91fd4d76ee0273">avg</a>);</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: stdevrxjitter &#39;%f&#39;\n&quot;</span>, jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ae951a9fca46f36b3eba630ccfab91381">sdev</a>);</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: txjitter &#39;%d&#39;\n&quot;</span>, jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].value);</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: reported_minjitter &#39;%f&#39;\n&quot;</span>, jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>);</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: reported_maxjitter &#39;%f&#39;\n&quot;</span>, jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>);</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: reported_avgjitter &#39;%f&#39;\n&quot;</span>, jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ac031a0922fc33110fb91fd4d76ee0273">avg</a>);</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: reported_stdevjitter &#39;%f&#39;\n&quot;</span>, jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ae951a9fca46f36b3eba630ccfab91381">sdev</a>);</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: rtt &#39;%d&#39;\n&quot;</span>, rtt.value);</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: minrtt &#39;%f&#39;\n&quot;</span>, rtt.min);</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: maxrtt &#39;%f&#39;\n&quot;</span>, rtt.max);</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: avgrtt &#39;%f&#39;\n&quot;</span>, rtt.avg);</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: stdevrtt &#39;%f&#39;\n&quot;</span>, rtt.sdev);</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;      <span class="keywordflow">if</span> (leg == <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124fadda1fe888f9cef3fc0b1501c3089a8e7">OSP_CALL_INBOUND</a>) {</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;         OSPPTransactionSetPackets(trans, OSPC_SMETRIC_RTP, OSPC_SDIR_SRCREP, totalpackets[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>]);</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;         OSPPTransactionSetPackets(trans, OSPC_SMETRIC_RTCP, OSPC_SDIR_DESTREP, totalpackets[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>]);</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;         <span class="keywordflow">if</span> (lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].value &gt;= 0) {</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;            value = lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].value;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;            value = (int)lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ac031a0922fc33110fb91fd4d76ee0273">avg</a>;</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;         }</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;         OSPPTransactionSetLost(trans, OSPC_SMETRIC_RTP, OSPC_SDIR_SRCREP, value, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>);</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;         <span class="keywordflow">if</span> (lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].value &gt;= 0) {</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;            value = lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].value;</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            value = (int)lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ac031a0922fc33110fb91fd4d76ee0273">avg</a>;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;         }</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;         OSPPTransactionSetLost(trans, OSPC_SMETRIC_RTCP, OSPC_SDIR_DESTREP, value, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>);</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;         <span class="keywordflow">if</span> (jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].value &gt;= 0) {</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;            value = jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].value;</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;            value = (int)jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ac031a0922fc33110fb91fd4d76ee0273">avg</a>;</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;         }</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;         OSPPTransactionSetJitter(trans,</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;            OSPC_SMETRIC_RTP,</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            OSPC_SDIR_SRCREP,</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;            <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>,</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;            (<span class="keywordtype">int</span>)jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>,</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;            (<span class="keywordtype">int</span>)jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>,</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;            value, jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ae951a9fca46f36b3eba630ccfab91381">sdev</a>);</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;         <span class="keywordflow">if</span> (jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].value &gt;= 0) {</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;            value = jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].value;</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;            value = (int)jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ac031a0922fc33110fb91fd4d76ee0273">avg</a>;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;         }</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;         OSPPTransactionSetJitter(trans, OSPC_SMETRIC_RTCP, OSPC_SDIR_DESTREP,</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;            <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>, (<span class="keywordtype">int</span>)jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].min, (<span class="keywordtype">int</span>)jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>, value, jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ae951a9fca46f36b3eba630ccfab91381">sdev</a>);</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;         OSPPTransactionSetPackets(trans, OSPC_SMETRIC_RTP, OSPC_SDIR_DESTREP, totalpackets[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>]);</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;         OSPPTransactionSetPackets(trans, OSPC_SMETRIC_RTCP, OSPC_SDIR_SRCREP, totalpackets[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>]);</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;         OSPPTransactionSetLost(trans, OSPC_SMETRIC_RTP, OSPC_SDIR_DESTREP, lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].value, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>);</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;         OSPPTransactionSetLost(trans, OSPC_SMETRIC_RTCP, OSPC_SDIR_SRCREP, lost[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].value, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>);</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;         <span class="keywordflow">if</span> (jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].value &gt;= 0) {</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;            value = jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].value;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;            value = (int)jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ac031a0922fc33110fb91fd4d76ee0273">avg</a>;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;         }</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;         OSPPTransactionSetJitter(trans,</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;            OSPC_SMETRIC_RTP,</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;            OSPC_SDIR_DESTREP,</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;            <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>,</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;            (<span class="keywordtype">int</span>)jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].min,</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;            (<span class="keywordtype">int</span>)jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>,</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;            value,</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;            jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ae951a9fca46f36b3eba630ccfab91381">sdev</a>);</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;         <span class="keywordflow">if</span> (jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].value &gt;= 0) {</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;            value = jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].value;</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;            value = (int)jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ac031a0922fc33110fb91fd4d76ee0273">avg</a>;</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;         }</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;         OSPPTransactionSetJitter(trans,</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;            OSPC_SMETRIC_RTCP,</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;            OSPC_SDIR_SRCREP,</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;            <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a>,</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            (<span class="keywordtype">int</span>)jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].min,</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            (<span class="keywordtype">int</span>)jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>,</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;            value,</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;            jitter[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a>].<a class="code" href="../../df/d69/structosp__metrics.html#ae951a9fca46f36b3eba630ccfab91381">sdev</a>);</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;      }</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;   }</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;}</div><div class="ttc" id="app__osplookup_8c_html_a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a3820542138764c9f06c47e18aeb98153">OSP_DIR_TX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00610">app_osplookup.c:610</a></div></div>
<div class="ttc" id="chan__iax2_8c_html_a6b10e3663f82435983fbd40c2c01bb6a"><div class="ttname"><a href="../../d5/dff/chan__iax2_8c.html#a6b10e3663f82435983fbd40c2c01bb6a">qos</a></div><div class="ttdeci">static struct @111 qos</div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="structosp__metrics_html_ae951a9fca46f36b3eba630ccfab91381"><div class="ttname"><a href="../../df/d69/structosp__metrics.html#ae951a9fca46f36b3eba630ccfab91381">osp_metrics::sdev</a></div><div class="ttdeci">float sdev</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00620">app_osplookup.c:620</a></div></div>
<div class="ttc" id="test__config_8c_html_aecdc7cbd5dfa76493c0212caa55d706c"><div class="ttname"><a href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a></div><div class="ttdeci">static struct aco_type item</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4f/test__config_8c_source.html#l01463">test_config.c:1463</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structosp__metrics_html"><div class="ttname"><a href="../../df/d69/structosp__metrics.html">osp_metrics</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00615">app_osplookup.c:615</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589a43800a25e2cbd4bf1d4e7e76027c0a88">OSP_DIR_NUMBER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00611">app_osplookup.c:611</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a447c6c9f6ec11f5abfe7d812cbb90589"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589">osp_direction</a></div><div class="ttdeci">osp_direction</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00608">app_osplookup.c:608</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a6477b002539f2810c932b5700c531b1d"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a6477b002539f2810c932b5700c531b1d">osp_get_varint</a></div><div class="ttdeci">static int osp_get_varint(const char *vstr)</div><div class="ttdoc">Get integer from variable string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01923">app_osplookup.c:1923</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a5e965e22355f9a33371ac39fdeca9ecf"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5e965e22355f9a33371ac39fdeca9ecf">OSP_DEF_FLOATSTATS</a></div><div class="ttdeci">#define OSP_DEF_FLOATSTATS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00533">app_osplookup.c:533</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a3592bfc5c6fc9a7a87e24704bcd74656"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a3592bfc5c6fc9a7a87e24704bcd74656">osp_get_varfloat</a></div><div class="ttdeci">static float osp_get_varfloat(const char *vstr)</div><div class="ttdoc">Get float from variable string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01946">app_osplookup.c:1946</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a14d1713206e0c29b3af28d8c3a50024f"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a14d1713206e0c29b3af28d8c3a50024f">OSP_SIZE_NORSTR</a></div><div class="ttdeci">#define OSP_SIZE_NORSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00445">app_osplookup.c:445</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a447c6c9f6ec11f5abfe7d812cbb90589aacf0f24d453951cdb1b73ede7a9bc7c1">OSP_DIR_RX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00609">app_osplookup.c:609</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab3e751d63fd0ae9c251df53fdcf1f111"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab3e751d63fd0ae9c251df53fdcf1f111">OSP_DEF_INTSTATS</a></div><div class="ttdeci">#define OSP_DEF_INTSTATS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00532">app_osplookup.c:532</a></div></div>
<div class="ttc" id="structosp__metrics_html_ac031a0922fc33110fb91fd4d76ee0273"><div class="ttname"><a href="../../df/d69/structosp__metrics.html#ac031a0922fc33110fb91fd4d76ee0273">osp_metrics::avg</a></div><div class="ttdeci">float avg</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00619">app_osplookup.c:619</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a994a6462629a5ad5016167d04ed3a9ab"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a></div><div class="ttdeci">#define OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00497">app_osplookup.c:497</a></div></div>
<div class="ttc" id="f2c_8h_html_ac6afabdc09a49a433ee19d8a9486056d"><div class="ttname"><a href="../../dc/dc2/f2c_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a></div><div class="ttdeci">#define min(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc2/f2c_8h_source.html#l00197">f2c.h:197</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2c4f5cc82d4cdd84bf0815e69c92124fadda1fe888f9cef3fc0b1501c3089a8e7"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2c4f5cc82d4cdd84bf0815e69c92124fadda1fe888f9cef3fc0b1501c3089a8e7">OSP_CALL_INBOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00603">app_osplookup.c:603</a></div></div>
<div class="ttc" id="f2c_8h_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc2/f2c_8h_source.html#l00198">f2c.h:198</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeaa07e9dab5c74f1438507a11962f9f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaa07e9dab5c74f1438507a11962f9f4">&#9670;&nbsp;</a></span>osp_unload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_unload </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02929">2929</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00537">osp_provider::handle</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00554">osp_provider::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00626">osp_hardware</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00625">osp_initialized</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00624">osp_lock</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00627">osp_security</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00629">osp_tokenformat</a>, and <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00178">provider</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02955">osp_load()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03144">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;{</div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/de8/structosp__provider.html">osp_provider</a>* <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>;</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/de8/structosp__provider.html">osp_provider</a>* <a class="code" href="../../d9/de8/structosp__provider.html#a63a14d2d4363005a28ebcd7449452d43">next</a>;</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d27/app__osplookup_8c.html#a7b65a944814a9fe8b45330072c875e46">osp_initialized</a>) {</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a>);</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;      <span class="keywordflow">for</span> (provider = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a>; <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a>; provider = <a class="code" href="../../d9/de8/structosp__provider.html#a63a14d2d4363005a28ebcd7449452d43">next</a>) {</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;         next = provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a63a14d2d4363005a28ebcd7449452d43">next</a>;</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;         OSPPProviderDelete(provider-&gt;<a class="code" href="../../d9/de8/structosp__provider.html#a62668053aefe0d5985c4ae7451db8486">handle</a>, 0);</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(provider);</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;      }</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a>);</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;      OSPPCleanup();</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab918a4031e5d25153fe54e91be1ac56e">osp_tokenformat</a> = TOKEN_ALGO_SIGNED;</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a> = 0;</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5ef0958fa463ae932e3e71ec39cd1337">osp_hardware</a> = 0;</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#a7b65a944814a9fe8b45330072c875e46">osp_initialized</a> = 0;</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;   }</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;}</div><div class="ttc" id="app__osplookup_8c_html_a5ef0958fa463ae932e3e71ec39cd1337"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5ef0958fa463ae932e3e71ec39cd1337">osp_hardware</a></div><div class="ttdeci">static int osp_hardware</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00626">app_osplookup.c:626</a></div></div>
<div class="ttc" id="structosp__provider_html_a62668053aefe0d5985c4ae7451db8486"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a62668053aefe0d5985c4ae7451db8486">osp_provider::handle</a></div><div class="ttdeci">OSPTPROVHANDLE handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00537">app_osplookup.c:537</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a7b65a944814a9fe8b45330072c875e46"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a7b65a944814a9fe8b45330072c875e46">osp_initialized</a></div><div class="ttdeci">static int osp_initialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00625">app_osplookup.c:625</a></div></div>
<div class="ttc" id="structosp__provider_html"><div class="ttname"><a href="../../d9/de8/structosp__provider.html">osp_provider</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00536">app_osplookup.c:536</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab918a4031e5d25153fe54e91be1ac56e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab918a4031e5d25153fe54e91be1ac56e">osp_tokenformat</a></div><div class="ttdeci">static unsigned int osp_tokenformat</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00629">app_osplookup.c:629</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2ba7b476b11a1793f6c5ae0b81ee8b99"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2ba7b476b11a1793f6c5ae0b81ee8b99">osp_security</a></div><div class="ttdeci">static int osp_security</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00627">app_osplookup.c:627</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2dc761e67618d6f48b8c5ad7bc59fb8c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2dc761e67618d6f48b8c5ad7bc59fb8c">osp_providers</a></div><div class="ttdeci">static struct osp_provider * osp_providers</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00628">app_osplookup.c:628</a></div></div>
<div class="ttc" id="structosp__provider_html_a63a14d2d4363005a28ebcd7449452d43"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a63a14d2d4363005a28ebcd7449452d43">osp_provider::next</a></div><div class="ttdeci">struct osp_provider * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00554">app_osplookup.c:554</a></div></div>
<div class="ttc" id="bridges_8c_html_ab1760b9a6a6c8d063d49ab9b5bcdfa49"><div class="ttname"><a href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a></div><div class="ttdeci">static struct prometheus_metrics_provider provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/bridges_8c_source.html#l00178">bridges.c:178</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a16c9a5234ff1ee322a81e9632bd2119b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a16c9a5234ff1ee322a81e9632bd2119b">osp_lock</a></div><div class="ttdeci">static ast_mutex_t osp_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00624">app_osplookup.c:624</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a74576e757755b840a1cdf5e5319b8ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74576e757755b840a1cdf5e5319b8ecd">&#9670;&nbsp;</a></span>osp_uuid2str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_uuid2str </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>bufsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>UUID to string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uuid</td><td>UUID </td></tr>
    <tr><td class="paramname">buffer</td><td>String buffer </td></tr>
    <tr><td class="paramname">bufsize</td><td>String buffer size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_OK Successed, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01423">1423</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00498">OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00450">OSP_SIZE_UUIDSTR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;{</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;   <span class="keywordflow">if</span> ((uuid != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (bufsize &gt; <a class="code" href="../../d6/d27/app__osplookup_8c.html#a2621bb444d890c400eee207b3573ed5e">OSP_SIZE_UUIDSTR</a>)) {</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      snprintf(buffer, bufsize, <span class="stringliteral">&quot;%02hhx%02hhx%02hhx%02hhx-%02hhx%02hhx-&quot;</span></div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                 <span class="stringliteral">&quot;%02hhx%02hhx-%02hhx%02hhx-&quot;</span></div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                 <span class="stringliteral">&quot;%02hhx%02hhx%02hhx%02hhx%02hhx%02hhx&quot;</span>,</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;         uuid[0], uuid[1], uuid[2], uuid[3], uuid[4], uuid[5], uuid[6], uuid[7],</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;         uuid[8], uuid[9], uuid[10], uuid[11], uuid[12], uuid[13], uuid[14], uuid[15]);</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid parameters\n&quot;</span>);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;   }</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;}</div><div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0f04966dacabe124fd55b281303a560a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a></div><div class="ttdeci">#define OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00498">app_osplookup.c:498</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a2621bb444d890c400eee207b3573ed5e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a2621bb444d890c400eee207b3573ed5e">OSP_SIZE_UUIDSTR</a></div><div class="ttdeci">#define OSP_SIZE_UUIDSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00450">app_osplookup.c:450</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa79880aa57acaa11946296a8a1be6685"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa79880aa57acaa11946296a8a1be6685">&#9670;&nbsp;</a></span>osp_validate_token()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_validate_token </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>calling</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>called</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>timelimit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate OSP token of inbound call. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trans</td><td>OSP transaction handle </td></tr>
    <tr><td class="paramname">source</td><td>Source of inbound call </td></tr>
    <tr><td class="paramname">destination</td><td>Destination of inbound call </td></tr>
    <tr><td class="paramname">calling</td><td>Calling number </td></tr>
    <tr><td class="paramname">called</td><td>Called number </td></tr>
    <tr><td class="paramname">token</td><td>OSP token, may be empty </td></tr>
    <tr><td class="paramname">timelimit</td><td>Call duration limit, output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_OK Success, OSP_FAILED Failed, OSP_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01081">1081</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00294">ast_base64decode()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l00220">dummy()</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00999">error()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00992">osp_convert_inout()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00498">OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00497">OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00452">OSP_SIZE_OUTSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00447">OSP_SIZE_TOKSTR</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00629">osp_tokenformat</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01330">osp_auth()</a>.</p>
<div class="fragment"><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;{</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;   <span class="keywordtype">int</span> tokenlen;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> tokenstr[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a1d60693a007b72ca378317284f1e63e3">OSP_SIZE_TOKSTR</a>];</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;   <span class="keywordtype">char</span> src[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a34493e33ef3bc392a891e8b9679c99a6">OSP_SIZE_OUTSTR</a>];</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;   <span class="keywordtype">char</span> dest[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a34493e33ef3bc392a891e8b9679c99a6">OSP_SIZE_OUTSTR</a>];</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> authorised;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/d6d/chan__unistim_8c.html#abc0ce15d00b4bfb69266c5fd016dc88c">dummy</a> = 0;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;   <span class="keywordflow">if</span> (timelimit == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid parameters\n&quot;</span>);</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;   }</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;   tokenlen = <a class="code" href="../../d5/d60/utils_8h.html#a1e7e06bd20719ecfd58b67f230780ffa">ast_base64decode</a>(tokenstr, token, strlen(token));</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a>(<a class="code" href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">source</a>, src, <span class="keyword">sizeof</span>(src));</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a>(destination, dest, <span class="keyword">sizeof</span>(dest));</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;   error = OSPPTransactionValidateAuthorisation(trans,</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      src,</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      dest,</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      calling ? calling : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      OSPC_NFORMAT_E164,</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      called,</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      OSPC_NFORMAT_E164,</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      0,</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      tokenlen,</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      (<span class="keywordtype">char</span>*)tokenstr,</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      &amp;authorised,</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      timelimit,</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      &amp;dummy,</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab918a4031e5d25153fe54e91be1ac56e">osp_tokenformat</a>);</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;   <span class="keywordflow">if</span> (error != OSPC_ERR_NO_ERROR) {</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSP: Unable to validate inbound token, error &#39;%d&#39;\n&quot;</span>, error);</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      *timelimit = 0;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a>;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (authorised) {</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Authorised\n&quot;</span>);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSP: Unauthorised\n&quot;</span>);</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;   }</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="chan__unistim_8c_html_abc0ce15d00b4bfb69266c5fd016dc88c"><div class="ttname"><a href="../../d1/d6d/chan__unistim_8c.html#abc0ce15d00b4bfb69266c5fd016dc88c">dummy</a></div><div class="ttdeci">static void dummy(char *unused,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6d/chan__unistim_8c_source.html#l00220">chan_unistim.c:220</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a1d60693a007b72ca378317284f1e63e3"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a1d60693a007b72ca378317284f1e63e3">OSP_SIZE_TOKSTR</a></div><div class="ttdeci">#define OSP_SIZE_TOKSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00447">app_osplookup.c:447</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a1e7e06bd20719ecfd58b67f230780ffa"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1e7e06bd20719ecfd58b67f230780ffa">ast_base64decode</a></div><div class="ttdeci">int ast_base64decode(unsigned char *dst, const char *src, int max)</div><div class="ttdoc">Decode data from base64. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00294">main/utils.c:294</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0f04966dacabe124fd55b281303a560a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0f04966dacabe124fd55b281303a560a">OSP_ERROR</a></div><div class="ttdeci">#define OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00498">app_osplookup.c:498</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab76700b23001d9fccd14fc003d88b599"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab76700b23001d9fccd14fc003d88b599">osp_convert_inout</a></div><div class="ttdeci">static void osp_convert_inout(const char *src, char *dest, unsigned int destsize)</div><div class="ttdoc">Convert &quot;address:port&quot; to &quot;[x.x.x.x]:port&quot; or &quot;hostname:port&quot; format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00992">app_osplookup.c:992</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a34493e33ef3bc392a891e8b9679c99a6"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a34493e33ef3bc392a891e8b9679c99a6">OSP_SIZE_OUTSTR</a></div><div class="ttdeci">#define OSP_SIZE_OUTSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00452">app_osplookup.c:452</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab918a4031e5d25153fe54e91be1ac56e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab918a4031e5d25153fe54e91be1ac56e">osp_tokenformat</a></div><div class="ttdeci">static unsigned int osp_tokenformat</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00629">app_osplookup.c:629</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
<div class="ttc" id="structosp__provider_html_a950c439bf7874a44561d16a9e1895760"><div class="ttname"><a href="../../d9/de8/structosp__provider.html#a950c439bf7874a44561d16a9e1895760">osp_provider::source</a></div><div class="ttdeci">char source[OSP_SIZE_NORSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00549">app_osplookup.c:549</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a994a6462629a5ad5016167d04ed3a9ab"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a994a6462629a5ad5016167d04ed3a9ab">OSP_FAILED</a></div><div class="ttdeci">#define OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00497">app_osplookup.c:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9439512050302cf411cbf93e78572b16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9439512050302cf411cbf93e78572b16">&#9670;&nbsp;</a></span>ospauth_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ospauth_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OSP Application OSPAuth. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel </td></tr>
    <tr><td class="paramname">data</td><td>Parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_AST_OK Success, OSP_AST_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">2257</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00888">ast_channel_caller()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00932">ast_channel_varshead()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00441">AST_OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00440">AST_OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00439">AST_OSP_SUCCESS</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00060">ast_var_name()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00080">ast_var_value()</a>, <a class="el" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00537">osp_provider::handle</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">options</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00500">OSP_AST_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00499">OSP_AST_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01330">osp_auth()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00504">OSP_DEF_PROVIDER</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00527">OSP_DEF_TIMELIMIT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00444">OSP_SIZE_INTSTR</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00178">provider</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00085">S_COR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00549">osp_provider::source</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00146">status</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03128">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;{</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#af74db93429d82818224639f0097189b2">OSP_DEF_PROVIDER</a>;</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/de6/structvarshead.html">varshead</a>* headp;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a>* current;</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* source = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* token = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;   <span class="keywordtype">int</span> handle;</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> timelimit;</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;   <span class="keywordtype">char</span> buffer[<a class="code" href="../../d6/d27/app__osplookup_8c.html#aa6860ea5596044814f83cc17d128d02d">OSP_SIZE_INTSTR</a>];</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>;</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;   <span class="keywordtype">char</span>* <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(provider);</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>);</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;   );</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;   tmp = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data);</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, tmp);</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.provider)) {</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;      provider = <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.provider;</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;   }</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPAuth: provider &#39;%s&#39;\n&quot;</span>, provider);</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;   headp = <a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(chan);</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(headp, current, <a class="code" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">entries</a>) {</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINPEERIP&quot;</span>)) {</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;         source = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINTOKEN&quot;</span>)) {</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;         token = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;      }</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;   }</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPAuth: source &#39;%s&#39;\n&quot;</span>, source);</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPAuth: token size &#39;%zd&#39;\n&quot;</span>, strlen(token));</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;   res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0207ebf9b72261964e9223dd921e73b9">osp_auth</a>(provider, &amp;handle, source,</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chan), token, &amp;timelimit);</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;   <span class="keywordflow">if</span> (res &gt; 0) {</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      status = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a4edfd60cd85aa2fe7e16c321ab22946e">AST_OSP_SUCCESS</a>;</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;      timelimit = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;      <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;         status = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5c2ee32159a9e5470c8aaf6095c589d0">AST_OSP_FAILED</a>;</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;         status = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a6cc274d33a95b3491cafc75d6e9cd01b">AST_OSP_ERROR</a>;</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      }</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;   }</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;   snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d&quot;</span>, handle);</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPINHANDLE&quot;</span>, buffer);</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPAuth: OSPINHANDLE &#39;%s&#39;\n&quot;</span>, buffer);</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;   snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d&quot;</span>, timelimit);</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPINTIMELIMIT&quot;</span>, buffer);</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPAuth: OSPINTIMELIMIT &#39;%s&#39;\n&quot;</span>, buffer);</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPAUTHSTATUS&quot;</span>, status);</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPAuth: %s\n&quot;</span>, status);</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;   <span class="keywordflow">if</span>(res != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>) {</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a>;</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a55f55ec5070f815ed62f4de3fb67ea7c">OSP_AST_OK</a>;</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;   }</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;}</div><div class="ttc" id="channel_8h_html_ac2dc872b606534943c98304aed841b34"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a></div><div class="ttdeci">struct ast_party_caller * ast_channel_caller(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00888">channel_internal_api.c:888</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a5c2ee32159a9e5470c8aaf6095c589d0"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5c2ee32159a9e5470c8aaf6095c589d0">AST_OSP_FAILED</a></div><div class="ttdeci">#define AST_OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00440">app_osplookup.c:440</a></div></div>
<div class="ttc" id="chanvars_8h_html_a8e0081172db71c5021d20706c50d959c"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a></div><div class="ttdeci">const char * ast_var_value(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00080">chanvars.c:80</a></div></div>
<div class="ttc" id="chanvars_8h_html_a356a31cd608ec07d3668dcd589be49d8"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a></div><div class="ttdeci">const char * ast_var_name(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00060">chanvars.c:60</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a4edfd60cd85aa2fe7e16c321ab22946e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a4edfd60cd85aa2fe7e16c321ab22946e">AST_OSP_SUCCESS</a></div><div class="ttdeci">#define AST_OSP_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00439">app_osplookup.c:439</a></div></div>
<div class="ttc" id="channel_8h_html_add6255866ea1651a90cf70d963c4920a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a></div><div class="ttdeci">struct varshead * ast_channel_varshead(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00932">channel_internal_api.c:932</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structnumber_html"><div class="ttname"><a href="../../d6/d49/structnumber.html">number</a></div><div class="ttdoc">Number structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d55/app__followme_8c_source.html#l00154">app_followme.c:154</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0207ebf9b72261964e9223dd921e73b9"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0207ebf9b72261964e9223dd921e73b9">osp_auth</a></div><div class="ttdeci">static int osp_auth(const char *name, int *trans, const char *source, const char *calling, const char *called, const char *token, unsigned int *timelimit)</div><div class="ttdoc">OSP Authentication function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01330">app_osplookup.c:1330</a></div></div>
<div class="ttc" id="strings_8h_html_a38a896048b2ca84076864505f0aa8f01"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a></div><div class="ttdeci">#define S_COR(a, b, c)</div><div class="ttdoc">returns the equivalent of logic or for strings, with an additional boolean check: second one if not e...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00085">strings.h:85</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a5a3e02bf859a270551762f610353a5c5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a></div><div class="ttdeci">#define OSP_AST_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00500">app_osplookup.c:500</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aa6860ea5596044814f83cc17d128d02d"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa6860ea5596044814f83cc17d128d02d">OSP_SIZE_INTSTR</a></div><div class="ttdeci">#define OSP_SIZE_INTSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00444">app_osplookup.c:444</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="structvarshead_html"><div class="ttname"><a href="../../dd/de6/structvarshead.html">varshead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__var__t_html_a55d5c7988e3164d7310d88c67d97a1db"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a></div><div class="ttdeci">struct ast_var_t::@249 entries</div></div>
<div class="ttc" id="app__osplookup_8c_html_aa216d244dea7f5d816cc35504c4390cc"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a></div><div class="ttdeci">#define OSP_DEF_TIMELIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00527">app_osplookup.c:527</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af74db93429d82818224639f0097189b2"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af74db93429d82818224639f0097189b2">OSP_DEF_PROVIDER</a></div><div class="ttdeci">#define OSP_DEF_PROVIDER</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00504">app_osplookup.c:504</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a6cc274d33a95b3491cafc75d6e9cd01b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a6cc274d33a95b3491cafc75d6e9cd01b">AST_OSP_ERROR</a></div><div class="ttdeci">#define AST_OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00441">app_osplookup.c:441</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="bridges_8c_html_ab1760b9a6a6c8d063d49ab9b5bcdfa49"><div class="ttname"><a href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a></div><div class="ttdeci">static struct prometheus_metrics_provider provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/bridges_8c_source.html#l00178">bridges.c:178</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a55f55ec5070f815ed62f4de3fb67ea7c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a55f55ec5070f815ed62f4de3fb67ea7c">OSP_AST_OK</a></div><div class="ttdeci">#define OSP_AST_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00499">app_osplookup.c:499</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a07d4580d61828f602a5e001499f6a180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07d4580d61828f602a5e001499f6a180">&#9670;&nbsp;</a></span>ospfinished_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ospfinished_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OSP Application OSPFinish. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel </td></tr>
    <tr><td class="paramname">data</td><td>Parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_AST_OK Success, OSP_AST_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">2811</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00099">AST_CAUSE_NO_ROUTE_DESTINATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00105">AST_CAUSE_NORMAL_CLEARING</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00986">ast_channel_answertime()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00976">ast_channel_creationtime()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00932">ast_channel_varshead()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l00445">ast_check_hangup()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00441">AST_OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00440">AST_OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00439">AST_OSP_SUCCESS</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00108">ast_tvzero()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00060">ast_var_name()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00080">ast_var_value()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">end</a>, <a class="el" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">options</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00500">OSP_AST_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00499">OSP_AST_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02188">osp_finish()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00501">OSP_INVALID_HANDLE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00444">OSP_SIZE_INTSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00451">OSP_SIZE_QOSSTR</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00146">status</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03128">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;{</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>;</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;   <span class="keywordtype">int</span> cause = 0;</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/de6/structvarshead.html">varshead</a>* headp;</div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a>* current;</div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;   <span class="keywordtype">int</span> inhandle = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;   <span class="keywordtype">int</span> outhandle = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;   <span class="keywordtype">int</span> recorded = 0;</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;   time_t start = 0, connect = 0, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a> = 0;</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> release;</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;   <span class="keywordtype">char</span> buffer[<a class="code" href="../../d6/d27/app__osplookup_8c.html#aa6860ea5596044814f83cc17d128d02d">OSP_SIZE_INTSTR</a>];</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;   <span class="keywordtype">char</span> inqos[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a41e9564a68e4b87da4917bbaaed5f016">OSP_SIZE_QOSSTR</a>] = { 0 };</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;   <span class="keywordtype">char</span> outqos[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a41e9564a68e4b87da4917bbaaed5f016">OSP_SIZE_QOSSTR</a>] = { 0 };</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>;</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;   <span class="keywordtype">char</span>* <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(cause);</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>);</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;   );</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;   tmp = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data);</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, tmp);</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;   headp = <a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(chan);</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(headp, current, <a class="code" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">entries</a>) {</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINHANDLE&quot;</span>)) {</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;         <span class="keywordflow">if</span> (sscanf(<a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="stringliteral">&quot;%30d&quot;</span>, &amp;inhandle) != 1) {</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;            inhandle = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;         }</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPOUTHANDLE&quot;</span>)) {</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;         <span class="keywordflow">if</span> (sscanf(<a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="stringliteral">&quot;%30d&quot;</span>, &amp;outhandle) != 1) {</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;            outhandle = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;         }</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!recorded &amp;&amp;</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;         (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPAUTHSTATUS&quot;</span>) ||</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;         !strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPLOOKUPSTATUS&quot;</span>) ||</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;         !strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPNEXTSTATUS&quot;</span>)))</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;      {</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;         <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <a class="code" href="../../d6/d27/app__osplookup_8c.html#a4edfd60cd85aa2fe7e16c321ab22946e">AST_OSP_SUCCESS</a>)) {</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;            recorded = 1;</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;         }</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINAUDIOQOS&quot;</span>)) {</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(inqos, <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="keyword">sizeof</span>(inqos));</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPOUTAUDIOQOS&quot;</span>)) {</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(outqos, <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="keyword">sizeof</span>(outqos));</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;      }</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;   }</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPFinish: OSPINHANDLE &#39;%d&#39;\n&quot;</span>, inhandle);</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPFinish: OSPOUTHANDLE &#39;%d&#39;\n&quot;</span>, outhandle);</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPFinish: recorded &#39;%d&#39;\n&quot;</span>, recorded);</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPFinish: OSPINAUDIOQOS &#39;%s&#39;\n&quot;</span>, inqos);</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPFinish: OSPOUTAUDIOQOS &#39;%s&#39;\n&quot;</span>, outqos);</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.cause) &amp;&amp; sscanf(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.cause, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;cause) != 1) {</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;      cause = 0;</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;   }</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPFinish: cause &#39;%d&#39;\n&quot;</span>, cause);</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../de/df7/time_8h.html#a4e7b3508884147c7991a68361ac781a2">ast_tvzero</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a8873859a4dbc3d0d053d696667e49012">ast_channel_creationtime</a>(chan))) {</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;      start = <a class="code" href="../../d5/d7b/channel_8h.html#a8873859a4dbc3d0d053d696667e49012">ast_channel_creationtime</a>(chan).tv_sec;</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;   }</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../de/df7/time_8h.html#a4e7b3508884147c7991a68361ac781a2">ast_tvzero</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a0a4982173c52a4b65b581ce52070a414">ast_channel_answertime</a>(chan))) {</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;      connect = <a class="code" href="../../d5/d7b/channel_8h.html#a0a4982173c52a4b65b581ce52070a414">ast_channel_answertime</a>(chan).tv_sec;</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;   }</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;   <span class="keywordflow">if</span> (connect) {</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a> = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a> = connect;</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;   }</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPFinish: start &#39;%ld&#39;\n&quot;</span>, start);</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPFinish: connect &#39;%ld&#39;\n&quot;</span>, connect);</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPFinish: end &#39;%ld&#39;\n&quot;</span>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>);</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;   release = <a class="code" href="../../d5/d7b/channel_8h.html#a9c63fff1d736568d1ee332dd7ea502bd">ast_check_hangup</a>(chan) ? 0 : 1;</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d27/app__osplookup_8c.html#ad32b342c53cb42f9fbfabef494313ea6">osp_finish</a>(outhandle, recorded, cause, start, connect, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>, release, inqos, outqos) &lt;= 0) {</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPFinish: Unable to report usage for outbound call\n&quot;</span>);</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;   }</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;   <span class="keywordflow">switch</span> (cause) {</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a>:</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;      cause = <a class="code" href="../../d4/da3/causes_8h.html#ace4ceec464072bb9e269b6a52e7a6631">AST_CAUSE_NO_ROUTE_DESTINATION</a>;</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;   }</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d27/app__osplookup_8c.html#ad32b342c53cb42f9fbfabef494313ea6">osp_finish</a>(inhandle, recorded, cause, start, connect, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>, release, inqos, outqos) &lt;= 0) {</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPFinish: Unable to report usage for inbound call\n&quot;</span>);</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;   }</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;   snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>);</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTHANDLE&quot;</span>, buffer);</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPINHANDLE&quot;</span>, buffer);</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;   <span class="keywordflow">if</span> (res &gt; 0) {</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;      status = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a4edfd60cd85aa2fe7e16c321ab22946e">AST_OSP_SUCCESS</a>;</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;      status = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5c2ee32159a9e5470c8aaf6095c589d0">AST_OSP_FAILED</a>;</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;      status = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a6cc274d33a95b3491cafc75d6e9cd01b">AST_OSP_ERROR</a>;</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;   }</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPFINISHSTATUS&quot;</span>, status);</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;   <span class="keywordflow">if</span>(res != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>) {</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a>;</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a55f55ec5070f815ed62f4de3fb67ea7c">OSP_AST_OK</a>;</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;   }</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;}</div><div class="ttc" id="app__osplookup_8c_html_a5c2ee32159a9e5470c8aaf6095c589d0"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5c2ee32159a9e5470c8aaf6095c589d0">AST_OSP_FAILED</a></div><div class="ttdeci">#define AST_OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00440">app_osplookup.c:440</a></div></div>
<div class="ttc" id="chanvars_8h_html_a8e0081172db71c5021d20706c50d959c"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a></div><div class="ttdeci">const char * ast_var_value(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00080">chanvars.c:80</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a41e9564a68e4b87da4917bbaaed5f016"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a41e9564a68e4b87da4917bbaaed5f016">OSP_SIZE_QOSSTR</a></div><div class="ttdeci">#define OSP_SIZE_QOSSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00451">app_osplookup.c:451</a></div></div>
<div class="ttc" id="chanvars_8h_html_a356a31cd608ec07d3668dcd589be49d8"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a></div><div class="ttdeci">const char * ast_var_name(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00060">chanvars.c:60</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="channel_8h_html_a0a4982173c52a4b65b581ce52070a414"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a0a4982173c52a4b65b581ce52070a414">ast_channel_answertime</a></div><div class="ttdeci">struct timeval ast_channel_answertime(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00986">channel_internal_api.c:986</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="time_8h_html_a4e7b3508884147c7991a68361ac781a2"><div class="ttname"><a href="../../de/df7/time_8h.html#a4e7b3508884147c7991a68361ac781a2">ast_tvzero</a></div><div class="ttdeci">int ast_tvzero(const struct timeval t)</div><div class="ttdoc">Returns true if the argument is 0,0. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00108">time.h:108</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a4edfd60cd85aa2fe7e16c321ab22946e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a4edfd60cd85aa2fe7e16c321ab22946e">AST_OSP_SUCCESS</a></div><div class="ttdeci">#define AST_OSP_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00439">app_osplookup.c:439</a></div></div>
<div class="ttc" id="channel_8h_html_add6255866ea1651a90cf70d963c4920a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a></div><div class="ttdeci">struct varshead * ast_channel_varshead(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00932">channel_internal_api.c:932</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a8fd806ad19b8f5513a4cf18cbf77532c"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a></div><div class="ttdeci">char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="causes_8h_html_af2235eb1c27925e4020ce286255d165f"><div class="ttname"><a href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL_CLEARING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00105">causes.h:105</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a5a3e02bf859a270551762f610353a5c5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a></div><div class="ttdeci">#define OSP_AST_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00500">app_osplookup.c:500</a></div></div>
<div class="ttc" id="channel_8h_html_a9c63fff1d736568d1ee332dd7ea502bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9c63fff1d736568d1ee332dd7ea502bd">ast_check_hangup</a></div><div class="ttdeci">int ast_check_hangup(struct ast_channel *chan)</div><div class="ttdoc">Check to see if a channel is needing hang up. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00445">channel.c:445</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aa6860ea5596044814f83cc17d128d02d"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa6860ea5596044814f83cc17d128d02d">OSP_SIZE_INTSTR</a></div><div class="ttdeci">#define OSP_SIZE_INTSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00444">app_osplookup.c:444</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="structvarshead_html"><div class="ttname"><a href="../../dd/de6/structvarshead.html">varshead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="channel_8h_html_a8873859a4dbc3d0d053d696667e49012"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a8873859a4dbc3d0d053d696667e49012">ast_channel_creationtime</a></div><div class="ttdeci">struct timeval ast_channel_creationtime(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00976">channel_internal_api.c:976</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__var__t_html_a55d5c7988e3164d7310d88c67d97a1db"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a></div><div class="ttdeci">struct ast_var_t::@249 entries</div></div>
<div class="ttc" id="app__osplookup_8c_html_a693603e5e4556641af06c8ebec1dffc5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a></div><div class="ttdeci">#define OSP_INVALID_HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00501">app_osplookup.c:501</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="causes_8h_html_ace4ceec464072bb9e269b6a52e7a6631"><div class="ttname"><a href="../../d4/da3/causes_8h.html#ace4ceec464072bb9e269b6a52e7a6631">AST_CAUSE_NO_ROUTE_DESTINATION</a></div><div class="ttdeci">#define AST_CAUSE_NO_ROUTE_DESTINATION</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00099">causes.h:99</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a6cc274d33a95b3491cafc75d6e9cd01b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a6cc274d33a95b3491cafc75d6e9cd01b">AST_OSP_ERROR</a></div><div class="ttdeci">#define AST_OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00441">app_osplookup.c:441</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ad32b342c53cb42f9fbfabef494313ea6"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ad32b342c53cb42f9fbfabef494313ea6">osp_finish</a></div><div class="ttdeci">static int osp_finish(int trans, int recorded, int cause, time_t start, time_t connect, time_t end, unsigned int release, const char *inqos, const char *outqos)</div><div class="ttdoc">OSP Finish function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l02188">app_osplookup.c:2188</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a55f55ec5070f815ed62f4de3fb67ea7c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a55f55ec5070f815ed62f4de3fb67ea7c">OSP_AST_OK</a></div><div class="ttdeci">#define OSP_AST_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00499">app_osplookup.c:499</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a92886f60961457bc04de0bb39a7d1c20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92886f60961457bc04de0bb39a7d1c20">&#9670;&nbsp;</a></span>osplookup_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int osplookup_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OSP Application OSPLookup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel </td></tr>
    <tr><td class="paramname">data</td><td>Parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_AST_OK Success, OSP_AST_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">2337</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00200">ast_autoservice_start()</a>, <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00266">ast_autoservice_stop()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00888">ast_channel_caller()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00932">ast_channel_varshead()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00441">AST_OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00440">AST_OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00439">AST_OSP_SUCCESS</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00060">ast_var_name()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00080">ast_var_value()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00559">osp_callid::buf</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00590">osp_results::called</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00589">osp_results::calling</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00566">osp_npdata::cic</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00588">osp_results::dest</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00576">osp_headers::divhost</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00575">osp_headers::divuser</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00118">exten</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00582">osp_results::inhandle</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00586">osp_results::intech</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00584">osp_results::intimelimit</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00560">osp_callid::len</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00592">osp_results::networkid</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00594">osp_results::npcic</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00567">osp_npdata::npdi</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00595">osp_results::npdi</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00593">osp_results::nprn</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00597">osp_results::numdests</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00568">osp_npdata::opname</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00596">osp_results::opname</a>, <a class="el" href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">options</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00500">OSP_AST_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00499">OSP_AST_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00457">OSP_CALLID_H323</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00458">OSP_CALLID_IAX</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00456">OSP_CALLID_SIP</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00455">OSP_CALLID_UNDEF</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00504">OSP_DEF_PROVIDER</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00527">OSP_DEF_TIMELIMIT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00501">OSP_INVALID_HANDLE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01499">osp_lookup()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00531">OSP_MAX_CUSTOMINFO</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00474">OSP_SIP_HEADER</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00447">OSP_SIZE_TOKSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00469">OSP_TECH_H323</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00470">OSP_TECH_IAX</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00468">OSP_TECH_SIP</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00471">OSP_TECH_SKYPE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01423">osp_uuid2str()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00598">osp_results::outcallid</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00583">osp_results::outhandle</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00587">osp_results::outtech</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00585">osp_results::outtimelimit</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00574">osp_headers::paiuser</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00577">osp_headers::pciuser</a>, <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00178">provider</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00565">osp_npdata::rn</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00573">osp_headers::rpiduser</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00085">S_COR</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00146">status</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00591">osp_results::token</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03128">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;{</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#af74db93429d82818224639f0097189b2">OSP_DEF_PROVIDER</a>;</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> callidtypes = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aefa6bd9c7b781d33a0bf68200c549921">OSP_CALLID_UNDEF</a>;</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/de6/structvarshead.html">varshead</a>* headp;</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a>* current;</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* actualsrc = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* srcdev = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* snetid = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9a/structosp__npdata.html">osp_npdata</a> np;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;   OSPE_OPERATOR_NAME <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/dcd/structosp__headers.html">osp_headers</a> headers;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* cinfo[<a class="code" href="../../d6/d27/app__osplookup_8c.html#af684b74cdf8d5ba9f94ecd31269cbe5f">OSP_MAX_CUSTOMINFO</a>] = { <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> };</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;   <span class="keywordtype">char</span> buffer[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a1d60693a007b72ca378317284f1e63e3">OSP_SIZE_TOKSTR</a> + strlen(<span class="stringliteral">&quot;: &quot;</span>) + strlen(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a93310672c1358e732400908dc7a11ffd">OSP_SIP_HEADER</a>)];</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d92/structosp__results.html">osp_results</a> results;</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>;</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;   <span class="keywordtype">char</span>* <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(provider);</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>);</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;   );</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data)) {</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSPLookup: Arg required, OSPLookup(exten[,provider[,options]])\n&quot;</span>);</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a>;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;   }</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;   tmp = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data);</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, tmp);</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: exten &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.exten);</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.provider)) {</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;      provider = <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.provider;</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;   }</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPlookup: provider &#39;%s&#39;\n&quot;</span>, provider);</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options) {</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      <span class="keywordflow">if</span> (strchr(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options, <span class="charliteral">&#39;h&#39;</span>)) {</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;         callidtypes |= <a class="code" href="../../d6/d27/app__osplookup_8c.html#a25a1a9044e69c1b41d40f79d1216d4c3">OSP_CALLID_H323</a>;</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;      }</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;      <span class="keywordflow">if</span> (strchr(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options, <span class="charliteral">&#39;s&#39;</span>)) {</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;         callidtypes |= <a class="code" href="../../d6/d27/app__osplookup_8c.html#a1725c43ee772f3901c2bd542f9582ee1">OSP_CALLID_SIP</a>;</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;      }</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;      <span class="keywordflow">if</span> (strchr(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options, <span class="charliteral">&#39;i&#39;</span>)) {</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;         callidtypes |= <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa8a82820ad56cd5eb4b6baa00cf6f68a">OSP_CALLID_IAX</a>;</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;      }</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;   }</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: call id types &#39;%d&#39;\n&quot;</span>, callidtypes);</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;   results.inhandle = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;   results.intimelimit = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;   results.dest[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;   np.rn = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;   np.cic = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;   np.npdi = 0;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;   <span class="keywordflow">for</span> (type = OSPC_OPNAME_START; type &lt; OSPC_OPNAME_NUMBER; type++) {</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;      np.opname[<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;   }</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;   headers.rpiduser = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;   headers.paiuser = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;   headers.divuser = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;   headers.divhost = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;   headers.pciuser = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;   headp = <a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(chan);</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(headp, current, entries) {</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINACTUALSRC&quot;</span>)) {</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;         actualsrc = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINPEERIP&quot;</span>)) {</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;         srcdev = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINTECH&quot;</span>)) {</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results.intech, <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="keyword">sizeof</span>(results.intech));</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINHANDLE&quot;</span>)) {</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;         <span class="keywordflow">if</span> (sscanf(<a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="stringliteral">&quot;%30d&quot;</span>, &amp;results.inhandle) != 1) {</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;            results.inhandle = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;         }</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINTIMELIMIT&quot;</span>)) {</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;         <span class="keywordflow">if</span> (sscanf(<a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="stringliteral">&quot;%30d&quot;</span>, &amp;results.intimelimit) != 1) {</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;            results.intimelimit = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;         }</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINNETWORKID&quot;</span>)) {</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;         snetid = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINNPRN&quot;</span>)) {</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;         np.rn = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINNPCIC&quot;</span>)) {</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;         np.cic = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINNPDI&quot;</span>)) {</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current))) {</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;            np.npdi = 1;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;         }</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINSPID&quot;</span>)) {</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;         np.opname[OSPC_OPNAME_SPID] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINOCN&quot;</span>)) {</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;         np.opname[OSPC_OPNAME_OCN] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINSPN&quot;</span>)) {</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;         np.opname[OSPC_OPNAME_SPN] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINALTSPN&quot;</span>)) {</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;         np.opname[OSPC_OPNAME_ALTSPN] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINMCC&quot;</span>)) {</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;         np.opname[OSPC_OPNAME_MCC] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINMNC&quot;</span>)) {</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;         np.opname[OSPC_OPNAME_MNC] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINTOHOST&quot;</span>)) {</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(results.dest, <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="keyword">sizeof</span>(results.dest));</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINRPIDUSER&quot;</span>)) {</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;         headers.rpiduser = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINPAIUSER&quot;</span>)) {</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;         headers.paiuser = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINDIVUSER&quot;</span>)) {</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;         headers.divuser = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINDIVHOST&quot;</span>)) {</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;         headers.divhost = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINPCIUSER&quot;</span>)) {</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;         headers.pciuser = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINCUSTOMINFO1&quot;</span>)) {</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;         cinfo[0] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINCUSTOMINFO2&quot;</span>)) {</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;         cinfo[1] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINCUSTOMINFO3&quot;</span>)) {</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;         cinfo[2] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINCUSTOMINFO4&quot;</span>)) {</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;         cinfo[3] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINCUSTOMINFO5&quot;</span>)) {</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;         cinfo[4] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINCUSTOMINFO6&quot;</span>)) {</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;         cinfo[5] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINCUSTOMINFO7&quot;</span>)) {</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;         cinfo[6] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINCUSTOMINFO8&quot;</span>)) {</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;         cinfo[7] = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current);</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;      }</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;   }</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: actual source device &#39;%s&#39;\n&quot;</span>, actualsrc);</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: source device &#39;%s&#39;\n&quot;</span>, srcdev);</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINTECH &#39;%s&#39;\n&quot;</span>, results.intech);</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINHANDLE &#39;%d&#39;\n&quot;</span>, results.inhandle);</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINTIMELIMIT &#39;%d&#39;\n&quot;</span>, results.intimelimit);</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINNETWORKID &#39;%s&#39;\n&quot;</span>, snetid);</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINNPRN &#39;%s&#39;\n&quot;</span>, np.rn);</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINNPCIC &#39;%s&#39;\n&quot;</span>, np.cic);</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINNPDI &#39;%d&#39;\n&quot;</span>, np.npdi);</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINSPID &#39;%s&#39;\n&quot;</span>, np.opname[OSPC_OPNAME_SPID]);</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINOCN &#39;%s&#39;\n&quot;</span>, np.opname[OSPC_OPNAME_OCN]);</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINSPN &#39;%s&#39;\n&quot;</span>, np.opname[OSPC_OPNAME_SPN]);</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINALTSPN &#39;%s&#39;\n&quot;</span>, np.opname[OSPC_OPNAME_ALTSPN]);</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINMCC &#39;%s&#39;\n&quot;</span>, np.opname[OSPC_OPNAME_MCC]);</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINMNC &#39;%s&#39;\n&quot;</span>, np.opname[OSPC_OPNAME_MNC]);</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINTOHOST &#39;%s&#39;\n&quot;</span>, results.dest);</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINRPIDUSER &#39;%s&#39;\n&quot;</span>, headers.rpiduser);</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINPAIUSER &#39;%s&#39;\n&quot;</span>, headers.paiuser);</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINDIVUSER &#39;%s&#39;\n&quot;</span>, headers.divuser);</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINDIVHOST&#39;%s&#39;\n&quot;</span>, headers.divhost);</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINPCIUSER &#39;%s&#39;\n&quot;</span>, headers.pciuser);</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d27/app__osplookup_8c.html#af684b74cdf8d5ba9f94ecd31269cbe5f">OSP_MAX_CUSTOMINFO</a>; i++) {</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(cinfo[i])) {</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPINCUSTOMINFO%d &#39;%s&#39;\n&quot;</span>, i, cinfo[i]);</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;      }</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;   }</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a7a8f6a50f3db42cb40cad7cfbd1d54f9">ast_autoservice_start</a>(chan) &lt; 0) {</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a>;</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;   }</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;   res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a30929a679a8408ef8a4e022d594ebcea">osp_lookup</a>(provider, callidtypes, actualsrc, srcdev,</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;      <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.exten, snetid, &amp;np, &amp;headers, cinfo, &amp;results);</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;   <span class="keywordflow">if</span> (res &gt; 0) {</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;      status = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a4edfd60cd85aa2fe7e16c321ab22946e">AST_OSP_SUCCESS</a>;</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;      results.outtech[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;      results.dest[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;      results.calling[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;      results.called[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;      results.token[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;      results.networkid[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      results.nprn[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;      results.npcic[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;      results.npdi = 0;</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;      <span class="keywordflow">for</span> (type = OSPC_OPNAME_START; type &lt; OSPC_OPNAME_NUMBER; type++) {</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;         results.opname[<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>][0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;      }</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;      results.numdests = 0;</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;      results.outtimelimit = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;      results.outcallid.buf[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      results.outcallid.len = 0;</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;      <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;         status = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5c2ee32159a9e5470c8aaf6095c589d0">AST_OSP_FAILED</a>;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;         status = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a6cc274d33a95b3491cafc75d6e9cd01b">AST_OSP_ERROR</a>;</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      }</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;   }</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;   snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d&quot;</span>, results.outhandle);</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTHANDLE&quot;</span>, buffer);</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTHANDLE &#39;%s&#39;\n&quot;</span>, buffer);</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTTECH&quot;</span>, results.outtech);</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTTECH &#39;%s&#39;\n&quot;</span>, results.outtech);</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPDESTINATION&quot;</span>, results.dest);</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPDESTINATION &#39;%s&#39;\n&quot;</span>, results.dest);</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTCALLING&quot;</span>, results.calling);</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTCALLING &#39;%s&#39;\n&quot;</span>, results.calling);</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTCALLED&quot;</span>, results.called);</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTCALLED &#39;%s&#39;\n&quot;</span>, results.called);</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTNETWORKID&quot;</span>, results.networkid);</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTNETWORKID &#39;%s&#39;\n&quot;</span>, results.networkid);</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTNPRN&quot;</span>, results.nprn);</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTNPRN &#39;%s&#39;\n&quot;</span>, results.nprn);</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTNPCIC&quot;</span>, results.npcic);</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTNPCIC &#39;%s&#39;\n&quot;</span>, results.npcic);</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;   snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d&quot;</span>, results.npdi);</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTNPDI&quot;</span>, buffer);</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTNPDI&#39;%s&#39;\n&quot;</span>, buffer);</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTSPID&quot;</span>, results.opname[OSPC_OPNAME_SPID]);</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTSPID &#39;%s&#39;\n&quot;</span>, results.opname[OSPC_OPNAME_SPID]);</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTOCN&quot;</span>, results.opname[OSPC_OPNAME_OCN]);</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTOCN &#39;%s&#39;\n&quot;</span>, results.opname[OSPC_OPNAME_OCN]);</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTSPN&quot;</span>, results.opname[OSPC_OPNAME_SPN]);</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTSPN &#39;%s&#39;\n&quot;</span>, results.opname[OSPC_OPNAME_SPN]);</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTALTSPN&quot;</span>, results.opname[OSPC_OPNAME_ALTSPN]);</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTALTSPN &#39;%s&#39;\n&quot;</span>, results.opname[OSPC_OPNAME_ALTSPN]);</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTMCC&quot;</span>, results.opname[OSPC_OPNAME_MCC]);</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTMCC &#39;%s&#39;\n&quot;</span>, results.opname[OSPC_OPNAME_MCC]);</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTMNC&quot;</span>, results.opname[OSPC_OPNAME_MNC]);</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTMNC &#39;%s&#39;\n&quot;</span>, results.opname[OSPC_OPNAME_MNC]);</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTTOKEN&quot;</span>, results.token);</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTTOKEN size &#39;%zd&#39;\n&quot;</span>, strlen(results.token));</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;   snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d&quot;</span>, results.numdests);</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPDESTREMAILS&quot;</span>, buffer);</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPDESTREMAILS &#39;%s&#39;\n&quot;</span>, buffer);</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;   snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d&quot;</span>, results.outtimelimit);</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTTIMELIMIT&quot;</span>, buffer);</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTTIMELIMIT &#39;%s&#39;\n&quot;</span>, buffer);</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;   snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d&quot;</span>, callidtypes);</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTCALLIDTYPES&quot;</span>, buffer);</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTCALLIDTYPES &#39;%s&#39;\n&quot;</span>, buffer);</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPLOOKUPSTATUS&quot;</span>, status);</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: %s\n&quot;</span>, status);</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(results.outtech, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3bb2e8490ca2aae2ef00dd0666a0d637">OSP_TECH_SIP</a>)) {</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;      snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%s/%s@%s&quot;</span>, results.outtech, results.called, results.dest);</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPDIALSTR&quot;</span>, buffer);</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(results.token)) {</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;         snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a93310672c1358e732400908dc7a11ffd">OSP_SIP_HEADER</a>, results.token);</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;_SIPADDHEADER&quot;</span>, buffer);</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: SIPADDHEADER size &#39;%zd&#39;\n&quot;</span>, strlen(buffer));</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;      }</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(results.outtech, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a232b5abec331065cc0ab6381c5ac5ea1">OSP_TECH_H323</a>)) {</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;      <span class="keywordflow">if</span> ((callidtypes &amp; <a class="code" href="../../d6/d27/app__osplookup_8c.html#a25a1a9044e69c1b41d40f79d1216d4c3">OSP_CALLID_H323</a>) &amp;&amp; (results.outcallid.len != 0)) {</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#a74576e757755b840a1cdf5e5319b8ecd">osp_uuid2str</a>(results.outcallid.buf, buffer, <span class="keyword">sizeof</span>(buffer));</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;         buffer[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;      }</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTCALLID&quot;</span>, buffer);</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;      snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%s/%s@%s&quot;</span>, results.outtech, results.called, results.dest);</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPDIALSTR&quot;</span>, buffer);</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(results.outtech, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab00665d0be85f5bdb470e104eb3659b4">OSP_TECH_IAX</a>)) {</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;      snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%s/%s/%s&quot;</span>, results.outtech, results.dest, results.called);</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPDIALSTR&quot;</span>, buffer);</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(results.outtech, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab0eeb414133a31e953150038886078f6">OSP_TECH_SKYPE</a>)) {</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;      snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%s/%s&quot;</span>, results.outtech, results.called);</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPDIALSTR&quot;</span>, buffer);</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;   }</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a08bde7d8cf72457fc8c519a4443b413b">ast_autoservice_stop</a>(chan) &lt; 0) {</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a>;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;   }</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;   <span class="keywordflow">if</span>(res != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>) {</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a>;</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a55f55ec5070f815ed62f4de3fb67ea7c">OSP_AST_OK</a>;</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;   }</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;}</div><div class="ttc" id="channel_8h_html_ac2dc872b606534943c98304aed841b34"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a></div><div class="ttdeci">struct ast_party_caller * ast_channel_caller(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00888">channel_internal_api.c:888</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a3bb2e8490ca2aae2ef00dd0666a0d637"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a3bb2e8490ca2aae2ef00dd0666a0d637">OSP_TECH_SIP</a></div><div class="ttdeci">#define OSP_TECH_SIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00468">app_osplookup.c:468</a></div></div>
<div class="ttc" id="channel_8h_html_a7a8f6a50f3db42cb40cad7cfbd1d54f9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7a8f6a50f3db42cb40cad7cfbd1d54f9">ast_autoservice_start</a></div><div class="ttdeci">int ast_autoservice_start(struct ast_channel *chan)</div><div class="ttdoc">Automatically service a channel for us... </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d66/autoservice_8c_source.html#l00200">autoservice.c:200</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a5c2ee32159a9e5470c8aaf6095c589d0"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5c2ee32159a9e5470c8aaf6095c589d0">AST_OSP_FAILED</a></div><div class="ttdeci">#define AST_OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00440">app_osplookup.c:440</a></div></div>
<div class="ttc" id="chanvars_8h_html_a8e0081172db71c5021d20706c50d959c"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a></div><div class="ttdeci">const char * ast_var_value(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00080">chanvars.c:80</a></div></div>
<div class="ttc" id="chanvars_8h_html_a356a31cd608ec07d3668dcd589be49d8"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a></div><div class="ttdeci">const char * ast_var_name(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00060">chanvars.c:60</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a232b5abec331065cc0ab6381c5ac5ea1"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a232b5abec331065cc0ab6381c5ac5ea1">OSP_TECH_H323</a></div><div class="ttdeci">#define OSP_TECH_H323</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00469">app_osplookup.c:469</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a30929a679a8408ef8a4e022d594ebcea"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a30929a679a8408ef8a4e022d594ebcea">osp_lookup</a></div><div class="ttdeci">static int osp_lookup(const char *name, unsigned int callidtypes, const char *actualsrc, const char *srcdev, const char *calling, const char *called, const char *snetid, struct osp_npdata *np, struct osp_headers *headers, const char *cinfo[], struct osp_results *results)</div><div class="ttdoc">OSP Lookup function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01499">app_osplookup.c:1499</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a1d60693a007b72ca378317284f1e63e3"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a1d60693a007b72ca378317284f1e63e3">OSP_SIZE_TOKSTR</a></div><div class="ttdeci">#define OSP_SIZE_TOKSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00447">app_osplookup.c:447</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab0eeb414133a31e953150038886078f6"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab0eeb414133a31e953150038886078f6">OSP_TECH_SKYPE</a></div><div class="ttdeci">#define OSP_TECH_SKYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00471">app_osplookup.c:471</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a4edfd60cd85aa2fe7e16c321ab22946e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a4edfd60cd85aa2fe7e16c321ab22946e">AST_OSP_SUCCESS</a></div><div class="ttdeci">#define AST_OSP_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00439">app_osplookup.c:439</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a25a1a9044e69c1b41d40f79d1216d4c3"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a25a1a9044e69c1b41d40f79d1216d4c3">OSP_CALLID_H323</a></div><div class="ttdeci">#define OSP_CALLID_H323</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00457">app_osplookup.c:457</a></div></div>
<div class="ttc" id="channel_8h_html_add6255866ea1651a90cf70d963c4920a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a></div><div class="ttdeci">struct varshead * ast_channel_varshead(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00932">channel_internal_api.c:932</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structosp__npdata_html"><div class="ttname"><a href="../../dd/d9a/structosp__npdata.html">osp_npdata</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00564">app_osplookup.c:564</a></div></div>
<div class="ttc" id="structosp__results_html"><div class="ttname"><a href="../../d4/d92/structosp__results.html">osp_results</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00581">app_osplookup.c:581</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a74576e757755b840a1cdf5e5319b8ecd"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a74576e757755b840a1cdf5e5319b8ecd">osp_uuid2str</a></div><div class="ttdeci">static int osp_uuid2str(unsigned char *uuid, char *buffer, unsigned int bufsize)</div><div class="ttdoc">UUID to string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01423">app_osplookup.c:1423</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structnumber_html"><div class="ttname"><a href="../../d6/d49/structnumber.html">number</a></div><div class="ttdoc">Number structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d55/app__followme_8c_source.html#l00154">app_followme.c:154</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a1725c43ee772f3901c2bd542f9582ee1"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a1725c43ee772f3901c2bd542f9582ee1">OSP_CALLID_SIP</a></div><div class="ttdeci">#define OSP_CALLID_SIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00456">app_osplookup.c:456</a></div></div>
<div class="ttc" id="strings_8h_html_a38a896048b2ca84076864505f0aa8f01"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a></div><div class="ttdeci">#define S_COR(a, b, c)</div><div class="ttdoc">returns the equivalent of logic or for strings, with an additional boolean check: second one if not e...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00085">strings.h:85</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aa8a82820ad56cd5eb4b6baa00cf6f68a"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa8a82820ad56cd5eb4b6baa00cf6f68a">OSP_CALLID_IAX</a></div><div class="ttdeci">#define OSP_CALLID_IAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00458">app_osplookup.c:458</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a5a3e02bf859a270551762f610353a5c5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a></div><div class="ttdeci">#define OSP_AST_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00500">app_osplookup.c:500</a></div></div>
<div class="ttc" id="channel_8h_html_a08bde7d8cf72457fc8c519a4443b413b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a08bde7d8cf72457fc8c519a4443b413b">ast_autoservice_stop</a></div><div class="ttdeci">int ast_autoservice_stop(struct ast_channel *chan)</div><div class="ttdoc">Stop servicing a channel for us... </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d66/autoservice_8c_source.html#l00266">autoservice.c:266</a></div></div>
<div class="ttc" id="structosp__headers_html"><div class="ttname"><a href="../../de/dcd/structosp__headers.html">osp_headers</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00572">app_osplookup.c:572</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab00665d0be85f5bdb470e104eb3659b4"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab00665d0be85f5bdb470e104eb3659b4">OSP_TECH_IAX</a></div><div class="ttdeci">#define OSP_TECH_IAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00470">app_osplookup.c:470</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="structvarshead_html"><div class="ttname"><a href="../../dd/de6/structvarshead.html">varshead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a93310672c1358e732400908dc7a11ffd"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a93310672c1358e732400908dc7a11ffd">OSP_SIP_HEADER</a></div><div class="ttdeci">#define OSP_SIP_HEADER</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00474">app_osplookup.c:474</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aa216d244dea7f5d816cc35504c4390cc"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a></div><div class="ttdeci">#define OSP_DEF_TIMELIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00527">app_osplookup.c:527</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a693603e5e4556641af06c8ebec1dffc5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a></div><div class="ttdeci">#define OSP_INVALID_HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00501">app_osplookup.c:501</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af74db93429d82818224639f0097189b2"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af74db93429d82818224639f0097189b2">OSP_DEF_PROVIDER</a></div><div class="ttdeci">#define OSP_DEF_PROVIDER</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00504">app_osplookup.c:504</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af684b74cdf8d5ba9f94ecd31269cbe5f"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af684b74cdf8d5ba9f94ecd31269cbe5f">OSP_MAX_CUSTOMINFO</a></div><div class="ttdeci">#define OSP_MAX_CUSTOMINFO</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00531">app_osplookup.c:531</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a6cc274d33a95b3491cafc75d6e9cd01b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a6cc274d33a95b3491cafc75d6e9cd01b">AST_OSP_ERROR</a></div><div class="ttdeci">#define AST_OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00441">app_osplookup.c:441</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aefa6bd9c7b781d33a0bf68200c549921"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aefa6bd9c7b781d33a0bf68200c549921">OSP_CALLID_UNDEF</a></div><div class="ttdeci">#define OSP_CALLID_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00455">app_osplookup.c:455</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="bridges_8c_html_ab1760b9a6a6c8d063d49ab9b5bcdfa49"><div class="ttname"><a href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a></div><div class="ttdeci">static struct prometheus_metrics_provider provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/bridges_8c_source.html#l00178">bridges.c:178</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a55f55ec5070f815ed62f4de3fb67ea7c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a55f55ec5070f815ed62f4de3fb67ea7c">OSP_AST_OK</a></div><div class="ttdeci">#define OSP_AST_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00499">app_osplookup.c:499</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae72fad1fd75a7bebdd9c9b11e2022a29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae72fad1fd75a7bebdd9c9b11e2022a29">&#9670;&nbsp;</a></span>ospnext_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ospnext_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OSP Application OSPNext. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel </td></tr>
    <tr><td class="paramname">data</td><td>Parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OSP_AST_OK Success, OSP_AST_ERROR Error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">2629</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00932">ast_channel_varshead()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00441">AST_OSP_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00440">AST_OSP_FAILED</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00439">AST_OSP_SUCCESS</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00060">ast_var_name()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00080">ast_var_value()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00559">osp_callid::buf</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00590">osp_results::called</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00589">osp_results::calling</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00588">osp_results::dest</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00582">osp_results::inhandle</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00584">osp_results::intimelimit</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00560">osp_callid::len</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00592">osp_results::networkid</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00594">osp_results::npcic</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00595">osp_results::npdi</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00593">osp_results::nprn</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00597">osp_results::numdests</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00596">osp_results::opname</a>, <a class="el" href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">options</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00500">OSP_AST_ERROR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00499">OSP_AST_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00457">OSP_CALLID_H323</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00455">OSP_CALLID_UNDEF</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00504">OSP_DEF_PROVIDER</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00527">OSP_DEF_TIMELIMIT</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00501">OSP_INVALID_HANDLE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01799">osp_next()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00496">OSP_OK</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00474">OSP_SIP_HEADER</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00447">OSP_SIZE_TOKSTR</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00469">OSP_TECH_H323</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00470">OSP_TECH_IAX</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00468">OSP_TECH_SIP</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00471">OSP_TECH_SKYPE</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01423">osp_uuid2str()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00598">osp_results::outcallid</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00583">osp_results::outhandle</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00587">osp_results::outtech</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00585">osp_results::outtimelimit</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00178">provider</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00146">status</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00591">osp_results::token</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03128">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;{</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a> = <a class="code" href="../../d6/d27/app__osplookup_8c.html#af74db93429d82818224639f0097189b2">OSP_DEF_PROVIDER</a>;</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;   <span class="keywordtype">int</span> cause = 0;</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/de6/structvarshead.html">varshead</a>* headp;</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a>* current;</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d92/structosp__results.html">osp_results</a> results;</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;   OSPE_OPERATOR_NAME <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;   <span class="keywordtype">char</span> buffer[<a class="code" href="../../d6/d27/app__osplookup_8c.html#a1d60693a007b72ca378317284f1e63e3">OSP_SIZE_TOKSTR</a> + strlen(<span class="stringliteral">&quot;: &quot;</span>) + strlen(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a93310672c1358e732400908dc7a11ffd">OSP_SIP_HEADER</a>)];</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> callidtypes = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aefa6bd9c7b781d33a0bf68200c549921">OSP_CALLID_UNDEF</a>;</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>;</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;   <span class="keywordtype">char</span>* <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(cause);</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(provider);</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>);</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;   );</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data)) {</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;OSPNext: Arg required, OSPNext(cause[,provider[,options]])\n&quot;</span>);</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a>;</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;   }</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;   tmp = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data);</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, tmp);</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.cause) &amp;&amp; sscanf(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.cause, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;cause) != 1) {</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;      cause = 0;</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;   }</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: cause &#39;%d&#39;\n&quot;</span>, cause);</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.provider)) {</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;      provider = <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.provider;</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;   }</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPlookup: provider &#39;%s&#39;\n&quot;</span>, provider);</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;   results.inhandle = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;   results.outhandle = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;   results.intimelimit = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;   results.numdests = 0;</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;   headp = <a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(chan);</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(headp, current, entries) {</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINHANDLE&quot;</span>)) {</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;         <span class="keywordflow">if</span> (sscanf(<a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="stringliteral">&quot;%30d&quot;</span>, &amp;results.inhandle) != 1) {</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;            results.inhandle = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;         }</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPOUTHANDLE&quot;</span>)) {</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;         <span class="keywordflow">if</span> (sscanf(<a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="stringliteral">&quot;%30d&quot;</span>, &amp;results.outhandle) != 1) {</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;            results.outhandle = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a>;</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;         }</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPINTIMELIMIT&quot;</span>)) {</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;         <span class="keywordflow">if</span> (sscanf(<a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="stringliteral">&quot;%30d&quot;</span>, &amp;results.intimelimit) != 1) {</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;            results.intimelimit = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;         }</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPOUTCALLIDTYPES&quot;</span>)) {</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;         <span class="keywordflow">if</span> (sscanf(<a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="stringliteral">&quot;%30d&quot;</span>, &amp;callidtypes) != 1) {</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;            callidtypes = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aefa6bd9c7b781d33a0bf68200c549921">OSP_CALLID_UNDEF</a>;</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;         }</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;OSPDESTREMAILS&quot;</span>)) {</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;         <span class="keywordflow">if</span> (sscanf(<a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="stringliteral">&quot;%30d&quot;</span>, &amp;results.numdests) != 1) {</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;            results.numdests = 0;</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;         }</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;      }</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;   }</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: OSPINHANDLE &#39;%d&#39;\n&quot;</span>, results.inhandle);</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: OSPOUTHANDLE &#39;%d&#39;\n&quot;</span>, results.outhandle);</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: OSPINTIMELIMIT &#39;%d&#39;\n&quot;</span>, results.intimelimit);</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: OSPOUTCALLIDTYPES &#39;%d&#39;\n&quot;</span>, callidtypes);</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: OSPDESTREMAILS &#39;%d&#39;\n&quot;</span>, results.numdests);</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a0eed7d4186b9b366692466bca5f47bba">osp_next</a>(provider, cause, &amp;results)) &gt; 0) {</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;      status = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a4edfd60cd85aa2fe7e16c321ab22946e">AST_OSP_SUCCESS</a>;</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;      results.outtech[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;      results.dest[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;      results.calling[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;      results.called[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      results.token[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      results.networkid[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;      results.nprn[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      results.npcic[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;      results.npdi = 0;</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;      <span class="keywordflow">for</span> (type = OSPC_OPNAME_START; type &lt; OSPC_OPNAME_NUMBER; type++) {</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;         results.opname[<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>][0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;      }</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;      results.numdests = 0;</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      results.outtimelimit = <a class="code" href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a>;</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;      results.outcallid.buf[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;      results.outcallid.len = 0;</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;         status = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5c2ee32159a9e5470c8aaf6095c589d0">AST_OSP_FAILED</a>;</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;         status = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a6cc274d33a95b3491cafc75d6e9cd01b">AST_OSP_ERROR</a>;</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;      }</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;   }</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTTECH&quot;</span>, results.outtech);</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: OSPOUTTECH &#39;%s&#39;\n&quot;</span>, results.outtech);</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPDESTINATION&quot;</span>, results.dest);</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: OSPDESTINATION &#39;%s&#39;\n&quot;</span>, results.dest);</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTCALLING&quot;</span>, results.calling);</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: OSPOUTCALLING &#39;%s&#39;\n&quot;</span>, results.calling);</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTCALLED&quot;</span>, results.called);</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: OSPOUTCALLED&#39;%s&#39;\n&quot;</span>, results.called);</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTNETWORKID&quot;</span>, results.networkid);</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTNETWORKID &#39;%s&#39;\n&quot;</span>, results.networkid);</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTNPRN&quot;</span>, results.nprn);</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTNPRN &#39;%s&#39;\n&quot;</span>, results.nprn);</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTNPCIC&quot;</span>, results.npcic);</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTNPCIC &#39;%s&#39;\n&quot;</span>, results.npcic);</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;   snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d&quot;</span>, results.npdi);</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTNPDI&quot;</span>, buffer);</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTNPDI&#39;%s&#39;\n&quot;</span>, buffer);</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTSPID&quot;</span>, results.opname[OSPC_OPNAME_SPID]);</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTSPID &#39;%s&#39;\n&quot;</span>, results.opname[OSPC_OPNAME_SPID]);</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTOCN&quot;</span>, results.opname[OSPC_OPNAME_OCN]);</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTOCN &#39;%s&#39;\n&quot;</span>, results.opname[OSPC_OPNAME_OCN]);</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTSPN&quot;</span>, results.opname[OSPC_OPNAME_SPN]);</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTSPN &#39;%s&#39;\n&quot;</span>, results.opname[OSPC_OPNAME_SPN]);</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTALTSPN&quot;</span>, results.opname[OSPC_OPNAME_ALTSPN]);</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTALTSPN &#39;%s&#39;\n&quot;</span>, results.opname[OSPC_OPNAME_ALTSPN]);</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTMCC&quot;</span>, results.opname[OSPC_OPNAME_MCC]);</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTMCC &#39;%s&#39;\n&quot;</span>, results.opname[OSPC_OPNAME_MCC]);</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTMNC&quot;</span>, results.opname[OSPC_OPNAME_MNC]);</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: OSPOUTMNC &#39;%s&#39;\n&quot;</span>, results.opname[OSPC_OPNAME_MNC]);</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTTOKEN&quot;</span>, results.token);</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: OSPOUTTOKEN size &#39;%zd&#39;\n&quot;</span>, strlen(results.token));</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;   snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d&quot;</span>, results.numdests);</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPDESTREMAILS&quot;</span>, buffer);</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: OSPDESTREMAILS &#39;%s&#39;\n&quot;</span>, buffer);</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;   snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d&quot;</span>, results.outtimelimit);</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTTIMELIMIT&quot;</span>, buffer);</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: OSPOUTTIMELIMIT &#39;%s&#39;\n&quot;</span>, buffer);</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPNEXTSTATUS&quot;</span>, status);</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPNext: %s\n&quot;</span>, status);</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(results.outtech, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a3bb2e8490ca2aae2ef00dd0666a0d637">OSP_TECH_SIP</a>)) {</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;      snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%s/%s@%s&quot;</span>, results.outtech, results.called, results.dest);</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPDIALSTR&quot;</span>, buffer);</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(results.token)) {</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;         snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a93310672c1358e732400908dc7a11ffd">OSP_SIP_HEADER</a>, results.token);</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;_SIPADDHEADER&quot;</span>, buffer);</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;OSPLookup: SIPADDHEADER size &#39;%zd&#39;\n&quot;</span>, strlen(buffer));</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;      }</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(results.outtech, <a class="code" href="../../d6/d27/app__osplookup_8c.html#a232b5abec331065cc0ab6381c5ac5ea1">OSP_TECH_H323</a>)) {</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;      <span class="keywordflow">if</span> ((callidtypes &amp; <a class="code" href="../../d6/d27/app__osplookup_8c.html#a25a1a9044e69c1b41d40f79d1216d4c3">OSP_CALLID_H323</a>) &amp;&amp; (results.outcallid.len != 0)) {</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;         <a class="code" href="../../d6/d27/app__osplookup_8c.html#a74576e757755b840a1cdf5e5319b8ecd">osp_uuid2str</a>(results.outcallid.buf, buffer, <span class="keyword">sizeof</span>(buffer));</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;         buffer[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;      }</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPOUTCALLID&quot;</span>, buffer);</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;      snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%s/%s@%s&quot;</span>, results.outtech, results.called, results.dest);</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPDIALSTR&quot;</span>, buffer);</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(results.outtech, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab00665d0be85f5bdb470e104eb3659b4">OSP_TECH_IAX</a>)) {</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;      snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%s/%s/%s&quot;</span>, results.outtech, results.dest, results.called);</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPDIALSTR&quot;</span>, buffer);</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(results.outtech, <a class="code" href="../../d6/d27/app__osplookup_8c.html#ab0eeb414133a31e953150038886078f6">OSP_TECH_SKYPE</a>)) {</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;      snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%s/%s&quot;</span>, results.outtech, results.called);</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;OSPDIALSTR&quot;</span>, buffer);</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;   }</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;   <span class="keywordflow">if</span>(res != <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a>) {</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a>;</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;      res = <a class="code" href="../../d6/d27/app__osplookup_8c.html#a55f55ec5070f815ed62f4de3fb67ea7c">OSP_AST_OK</a>;</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;   }</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a3bb2e8490ca2aae2ef00dd0666a0d637"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a3bb2e8490ca2aae2ef00dd0666a0d637">OSP_TECH_SIP</a></div><div class="ttdeci">#define OSP_TECH_SIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00468">app_osplookup.c:468</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a0eed7d4186b9b366692466bca5f47bba"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a0eed7d4186b9b366692466bca5f47bba">osp_next</a></div><div class="ttdeci">static int osp_next(const char *name, int cause, struct osp_results *results)</div><div class="ttdoc">OSP Lookup Next function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01799">app_osplookup.c:1799</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a5c2ee32159a9e5470c8aaf6095c589d0"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5c2ee32159a9e5470c8aaf6095c589d0">AST_OSP_FAILED</a></div><div class="ttdeci">#define AST_OSP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00440">app_osplookup.c:440</a></div></div>
<div class="ttc" id="chanvars_8h_html_a8e0081172db71c5021d20706c50d959c"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a></div><div class="ttdeci">const char * ast_var_value(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00080">chanvars.c:80</a></div></div>
<div class="ttc" id="chanvars_8h_html_a356a31cd608ec07d3668dcd589be49d8"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a></div><div class="ttdeci">const char * ast_var_name(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00060">chanvars.c:60</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a232b5abec331065cc0ab6381c5ac5ea1"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a232b5abec331065cc0ab6381c5ac5ea1">OSP_TECH_H323</a></div><div class="ttdeci">#define OSP_TECH_H323</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00469">app_osplookup.c:469</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a1d60693a007b72ca378317284f1e63e3"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a1d60693a007b72ca378317284f1e63e3">OSP_SIZE_TOKSTR</a></div><div class="ttdeci">#define OSP_SIZE_TOKSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00447">app_osplookup.c:447</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a8e4bbe72b192aceaa24e43c59b1c9cad"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8e4bbe72b192aceaa24e43c59b1c9cad">OSP_OK</a></div><div class="ttdeci">#define OSP_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00496">app_osplookup.c:496</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab0eeb414133a31e953150038886078f6"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab0eeb414133a31e953150038886078f6">OSP_TECH_SKYPE</a></div><div class="ttdeci">#define OSP_TECH_SKYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00471">app_osplookup.c:471</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a4edfd60cd85aa2fe7e16c321ab22946e"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a4edfd60cd85aa2fe7e16c321ab22946e">AST_OSP_SUCCESS</a></div><div class="ttdeci">#define AST_OSP_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00439">app_osplookup.c:439</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a25a1a9044e69c1b41d40f79d1216d4c3"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a25a1a9044e69c1b41d40f79d1216d4c3">OSP_CALLID_H323</a></div><div class="ttdeci">#define OSP_CALLID_H323</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00457">app_osplookup.c:457</a></div></div>
<div class="ttc" id="channel_8h_html_add6255866ea1651a90cf70d963c4920a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a></div><div class="ttdeci">struct varshead * ast_channel_varshead(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00932">channel_internal_api.c:932</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="structosp__results_html"><div class="ttname"><a href="../../d4/d92/structosp__results.html">osp_results</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00581">app_osplookup.c:581</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a74576e757755b840a1cdf5e5319b8ecd"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a74576e757755b840a1cdf5e5319b8ecd">osp_uuid2str</a></div><div class="ttdeci">static int osp_uuid2str(unsigned char *uuid, char *buffer, unsigned int bufsize)</div><div class="ttdoc">UUID to string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l01423">app_osplookup.c:1423</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a5a3e02bf859a270551762f610353a5c5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a5a3e02bf859a270551762f610353a5c5">OSP_AST_ERROR</a></div><div class="ttdeci">#define OSP_AST_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00500">app_osplookup.c:500</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ab00665d0be85f5bdb470e104eb3659b4"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ab00665d0be85f5bdb470e104eb3659b4">OSP_TECH_IAX</a></div><div class="ttdeci">#define OSP_TECH_IAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00470">app_osplookup.c:470</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="structvarshead_html"><div class="ttname"><a href="../../dd/de6/structvarshead.html">varshead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a93310672c1358e732400908dc7a11ffd"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a93310672c1358e732400908dc7a11ffd">OSP_SIP_HEADER</a></div><div class="ttdeci">#define OSP_SIP_HEADER</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00474">app_osplookup.c:474</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aa216d244dea7f5d816cc35504c4390cc"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aa216d244dea7f5d816cc35504c4390cc">OSP_DEF_TIMELIMIT</a></div><div class="ttdeci">#define OSP_DEF_TIMELIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00527">app_osplookup.c:527</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a693603e5e4556641af06c8ebec1dffc5"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a693603e5e4556641af06c8ebec1dffc5">OSP_INVALID_HANDLE</a></div><div class="ttdeci">#define OSP_INVALID_HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00501">app_osplookup.c:501</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_af74db93429d82818224639f0097189b2"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#af74db93429d82818224639f0097189b2">OSP_DEF_PROVIDER</a></div><div class="ttdeci">#define OSP_DEF_PROVIDER</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00504">app_osplookup.c:504</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a6cc274d33a95b3491cafc75d6e9cd01b"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a6cc274d33a95b3491cafc75d6e9cd01b">AST_OSP_ERROR</a></div><div class="ttdeci">#define AST_OSP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00441">app_osplookup.c:441</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aefa6bd9c7b781d33a0bf68200c549921"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aefa6bd9c7b781d33a0bf68200c549921">OSP_CALLID_UNDEF</a></div><div class="ttdeci">#define OSP_CALLID_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00455">app_osplookup.c:455</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="bridges_8c_html_ab1760b9a6a6c8d063d49ab9b5bcdfa49"><div class="ttname"><a href="../../d8/d3a/bridges_8c.html#ab1760b9a6a6c8d063d49ab9b5bcdfa49">provider</a></div><div class="ttdeci">static struct prometheus_metrics_provider provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/bridges_8c_source.html#l00178">bridges.c:178</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a55f55ec5070f815ed62f4de3fb67ea7c"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a55f55ec5070f815ed62f4de3fb67ea7c">OSP_AST_OK</a></div><div class="ttdeci">#define OSP_AST_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l00499">app_osplookup.c:499</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1982509765f4870f1f63412a53ea668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1982509765f4870f1f63412a53ea668">&#9670;&nbsp;</a></span>reload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reload </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03158">3158</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00315">AST_MODFLAG_DEFAULT</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00122">AST_MODULE_SUPPORT_EXTENDED</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03128">load_module()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02955">osp_load()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03144">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;{</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#abbf1e551f818049bd8744a6ece49a5ba">osp_load</a>(1);</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;}</div><div class="ttc" id="app__osplookup_8c_html_abbf1e551f818049bd8744a6ece49a5ba"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#abbf1e551f818049bd8744a6ece49a5ba">osp_load</a></div><div class="ttdeci">static int osp_load(int reload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l02955">app_osplookup.c:2955</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03144">3144</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03113">app1</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03116">app2</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03119">app3</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03122">app4</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00030">ast_cli_unregister_multiple()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">ast_unregister_application()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02929">osp_unload()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03158">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;{</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;   res = <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#ae77cf0b3c2d8cf2f4cae97c6e46c8bcc">app4</a>);</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#aad58282d90fddc0dcc234189388a6b01">app3</a>);</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a6cffecf2a021a06d24eaf268c3ef2895">app2</a>);</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a130651e69005942433505bd534ad9e51">app1</a>);</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a10d006ccda399620ddcbdac150680853">cli_osp</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/d27/app__osplookup_8c.html#a10d006ccda399620ddcbdac150680853">cli_osp</a>) / <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>));</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;   <a class="code" href="../../d6/d27/app__osplookup_8c.html#aeaa07e9dab5c74f1438507a11962f9f4">osp_unload</a>();</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;}</div><div class="ttc" id="app__osplookup_8c_html_aeaa07e9dab5c74f1438507a11962f9f4"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aeaa07e9dab5c74f1438507a11962f9f4">osp_unload</a></div><div class="ttdeci">static int osp_unload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l02929">app_osplookup.c:2929</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="structast__cli__entry_html"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a></div><div class="ttdoc">descriptor for a cli entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00171">cli.h:171</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a130651e69005942433505bd534ad9e51"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a130651e69005942433505bd534ad9e51">app1</a></div><div class="ttdeci">static const char app1[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l03113">app_osplookup.c:3113</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_aad58282d90fddc0dcc234189388a6b01"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#aad58282d90fddc0dcc234189388a6b01">app3</a></div><div class="ttdeci">static const char app3[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l03119">app_osplookup.c:3119</a></div></div>
<div class="ttc" id="module_8h_html_ad2ca15621101154f29748cf1dac3c3cf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a></div><div class="ttdeci">int ast_unregister_application(const char *app)</div><div class="ttdoc">Unregister an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00392">pbx_app.c:392</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_ae77cf0b3c2d8cf2f4cae97c6e46c8bcc"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#ae77cf0b3c2d8cf2f4cae97c6e46c8bcc">app4</a></div><div class="ttdeci">static const char app4[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l03122">app_osplookup.c:3122</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a10d006ccda399620ddcbdac150680853"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a10d006ccda399620ddcbdac150680853">cli_osp</a></div><div class="ttdeci">static struct ast_cli_entry cli_osp[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l03124">app_osplookup.c:3124</a></div></div>
<div class="ttc" id="app__osplookup_8c_html_a6cffecf2a021a06d24eaf268c3ef2895"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a6cffecf2a021a06d24eaf268c3ef2895">app2</a></div><div class="ttdeci">static const char app2[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l03116">app_osplookup.c:3116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a> , .description = &quot;Open Settlement Protocol Applications&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_EXTENDED, .load = load_module, .unload = unload_module, .reload = reload, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03170">3170</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

</div>
</div>
<a id="a130651e69005942433505bd534ad9e51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a130651e69005942433505bd534ad9e51">&#9670;&nbsp;</a></span>app1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char app1[] = &quot;OSPAuth&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03113">3113</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03128">load_module()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03144">unload_module()</a>.</p>

</div>
</div>
<a id="a6cffecf2a021a06d24eaf268c3ef2895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cffecf2a021a06d24eaf268c3ef2895">&#9670;&nbsp;</a></span>app2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char app2[] = &quot;OSPLookup&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03116">3116</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03128">load_module()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03144">unload_module()</a>.</p>

</div>
</div>
<a id="aad58282d90fddc0dcc234189388a6b01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad58282d90fddc0dcc234189388a6b01">&#9670;&nbsp;</a></span>app3</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char app3[] = &quot;OSPNext&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03119">3119</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03128">load_module()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03144">unload_module()</a>.</p>

</div>
</div>
<a id="ae77cf0b3c2d8cf2f4cae97c6e46c8bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae77cf0b3c2d8cf2f4cae97c6e46c8bcc">&#9670;&nbsp;</a></span>app4</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char app4[] = &quot;OSPFinish&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03122">3122</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03128">load_module()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03144">unload_module()</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03170">3170</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

</div>
</div>
<a id="a95eab91cdab5818081a2231805064780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95eab91cdab5818081a2231805064780">&#9670;&nbsp;</a></span>B64CACert</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* B64CACert = &quot;MIIBYDCCAQoCAQEwDQYJKoZIhvcNAQEEBQAwOzElMCMGA1UEAxMcb3NwdGVzdHNlcnZlci50cmFuc25leHVzLmNvbTESMBAGA1UEChMJT1NQU2VydmVyMB4XDTAyMDIwNDE4MjU1MloXDTEyMDIwMzE4MjU1MlowOzElMCMGA1UEAxMcb3NwdGVzdHNlcnZlci50cmFuc25leHVzLmNvbTESMBAGA1UEChMJT1NQU2VydmVyMFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAPGeGwV41EIhX0jEDFLRXQhDEr50OUQPq+f55VwQd0TQNts06BP29+UiNdRW3c3IRHdZcJdC1Cg68ME9cgeq0h8CAwEAATANBgkqhkiG9w0BAQQFAANBAGkzBSj1EnnmUxbaiG1N4xjIuLAWydun7o3bFk2tV8dBIhnuh445obYyk1EnQ27kI7eACCILBZqi2MHDOIMnoN0=&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00634">634</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a58271f737afdcc8d021e8439cd0e1b9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58271f737afdcc8d021e8439cd0e1b9f">&#9670;&nbsp;</a></span>B64LCert</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* B64LCert = &quot;MIIBeTCCASMCEHqkOHVRRWr+1COq3CR/xsowDQYJKoZIhvcNAQEEBQAwOzElMCMGA1UEAxMcb3NwdGVzdHNlcnZlci50cmFuc25leHVzLmNvbTESMBAGA1UEChMJT1NQU2VydmVyMB4XDTA1MDYyMzAwMjkxOFoXDTA2MDYyNDAwMjkxOFowRTELMAkGA1UEBhMCQVUxEzARBgNVBAgTClNvbWUtU3RhdGUxITAfBgNVBAoTGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDBcMA0GCSqGSIb3DQEBAQUAA0sAMEgCQQCvLeZfj1G0wuJb8JTcVeZaZftncEmRluOnaME3ustd918lRMDYokZmtmDZN8SrP0yd1pfVqZ7NkmBACbBX0k7pAgMBAAEwDQYJKoZIhvcNAQEEBQADQQDnV8QNFVVJx/+7IselU0wsepqMurivXZzuxOmTEmTVDzCJx1xhA8jd3vGAj7XDIYiPub1PV23eY5a2ARJuw5w9&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00633">633</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="acdedc703cb4d6f39a1d0813d1e5456ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdedc703cb4d6f39a1d0813d1e5456ee">&#9670;&nbsp;</a></span>B64PKey</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* B64PKey = &quot;MIIBOgIBAAJBAK8t5l+PUbTC4lvwlNxV5lpl+2dwSZGW46dowTe6y133XyVEwNiiRma2YNk3xKs/TJ3Wl9Wpns2SYEAJsFfSTukCAwEAAQJAPz13vCm2GmZ8Zyp74usTxLCqSJZNyMRLHQWBM0g44Iuy4wE3vpi7Wq+xYuSOH2mu4OddnxswCP4QhaXVQavTAQIhAOBVCKXtppEw9UaOBL4vW0Ed/6EA/1D8hDW6St0h7EXJAiEAx+iRmZKhJD6VT84dtX5ZYNVk3j3dAcIOovpzUj9a0CECIEduTCapmZQ5xqAEsLXuVlxRtQgLTUD4ZxDElPn8x0MhAiBE2HlcND0+qDbvtwJQQOUzDgqg5xk3w8capboVdzAlQQIhAMC+lDL7+gDYkNAft5Mu+NObJmQs4Cr+DkDFsKqoxqrm&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00632">632</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a10d006ccda399620ddcbdac150680853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10d006ccda399620ddcbdac150680853">&#9670;&nbsp;</a></span>cli_osp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> cli_osp[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   { .handler =  <a class="code" href="../../d6/d27/app__osplookup_8c.html#a8c819d70b0fbac62fc53d35fb9918ffd">handle_cli_osp_show</a> , .summary =  <span class="stringliteral">&quot;Displays OSF information&quot;</span> ,}</div><div class="line">}</div><div class="ttc" id="app__osplookup_8c_html_a8c819d70b0fbac62fc53d35fb9918ffd"><div class="ttname"><a href="../../d6/d27/app__osplookup_8c.html#a8c819d70b0fbac62fc53d35fb9918ffd">handle_cli_osp_show</a></div><div class="ttdeci">static char * handle_cli_osp_show(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d27/app__osplookup_8c_source.html#l03022">app_osplookup.c:3022</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03124">3124</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

</div>
</div>
<a id="a5ef0958fa463ae932e3e71ec39cd1337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ef0958fa463ae932e3e71ec39cd1337">&#9670;&nbsp;</a></span>osp_hardware</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int osp_hardware = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00626">626</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03022">handle_cli_osp_show()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02955">osp_load()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02929">osp_unload()</a>.</p>

</div>
</div>
<a id="a7b65a944814a9fe8b45330072c875e46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b65a944814a9fe8b45330072c875e46">&#9670;&nbsp;</a></span>osp_initialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int osp_initialized = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00625">625</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03022">handle_cli_osp_show()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02955">osp_load()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02929">osp_unload()</a>.</p>

</div>
</div>
<a id="a16c9a5234ff1ee322a81e9632bd2119b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c9a5234ff1ee322a81e9632bd2119b">&#9670;&nbsp;</a></span>osp_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> osp_lock = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00624">624</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03022">handle_cli_osp_show()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00945">osp_create_transaction()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00914">osp_get_provider()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02929">osp_unload()</a>.</p>

</div>
</div>
<a id="a2dc761e67618d6f48b8c5ad7bc59fb8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dc761e67618d6f48b8c5ad7bc59fb8c">&#9670;&nbsp;</a></span>osp_providers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/de8/structosp__provider.html">osp_provider</a>* osp_providers = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00628">628</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>.</p>

</div>
</div>
<a id="a2ba7b476b11a1793f6c5ae0b81ee8b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ba7b476b11a1793f6c5ae0b81ee8b99">&#9670;&nbsp;</a></span>osp_security</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int osp_security = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00627">627</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03022">handle_cli_osp_show()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02955">osp_load()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02929">osp_unload()</a>.</p>

</div>
</div>
<a id="ab918a4031e5d25153fe54e91be1ac56e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab918a4031e5d25153fe54e91be1ac56e">&#9670;&nbsp;</a></span>osp_tokenformat</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int osp_tokenformat = TOKEN_ALGO_SIGNED</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00629">629</a> of file <a class="el" href="../../d6/d27/app__osplookup_8c_source.html">app_osplookup.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03022">handle_cli_osp_show()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02955">osp_load()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02929">osp_unload()</a>, and <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l01081">osp_validate_token()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:37 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
