<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: test_astobj2.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_59425e443f801f1f2fd8bbe4959a3ccf.html">tests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">test_astobj2.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> test module  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/ddc/test_8h_source.html">asterisk/test.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da5/astobj2_8h_source.html">asterisk/astobj2.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test_astobj2.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d6e/test__astobj2_8c__incl.png" border="0" usemap="#test__astobj2_8c" alt=""/></div>
<map name="test__astobj2_8c" id="test__astobj2_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="107,304,191,331"/>
<area shape="rect" id="node22" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1635,155,1750,181"/>
<area shape="rect" id="node46" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1956,304,2091,331"/>
<area shape="rect" id="node48" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="1674,80,1810,107"/>
<area shape="rect" id="node49" href="../../d2/ddc/test_8h.html" title="Test Framework API. " alt="" coords="1835,80,1948,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="130,603,285,629"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="853,379,991,405"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="5,379,140,405"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="134,677,281,704"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="841,528,984,555"/>
<area shape="rect" id="node23" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="1086,229,1225,256"/>
<area shape="rect" id="node33" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1527,528,1589,555"/>
<area shape="rect" id="node36" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1917,453,2031,480"/>
<area shape="rect" id="node41" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1665,528,1792,555"/>
<area shape="rect" id="node42" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="1570,229,1717,256"/>
<area shape="rect" id="node44" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1722,379,1879,405"/>
<area shape="rect" id="node45" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1893,229,2023,256"/>
<area shape="rect" id="node35" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1951,603,2098,629"/>
<area shape="rect" id="node40" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="2053,528,2204,555"/>
<area shape="rect" id="node47" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="2056,379,2207,405"/>
<area shape="rect" id="node50" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="1922,155,2023,181"/>
</map>
</div>
</div>
<p><a href="../../d6/d08/test__astobj2_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d4a/structtest__obj.html">test_obj</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa9cc087d076e4fa101f8794a947bd01a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#aa9cc087d076e4fa101f8794a947bd01a">ITERATIONS</a>&#160;&#160;&#160;100000</td></tr>
<tr class="separator:aa9cc087d076e4fa101f8794a947bd01a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad15e0f6530352f2b65cb6147c597c61b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#ad15e0f6530352f2b65cb6147c597c61b">OBJS</a>&#160;&#160;&#160;73</td></tr>
<tr class="separator:ad15e0f6530352f2b65cb6147c597c61b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a1876c233004e415feb620fb85973ec74"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a> { <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>, 
<a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>, 
<a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>
 }</td></tr>
<tr class="separator:a1876c233004e415feb620fb85973ec74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a826fd6f75c78e180842907b2132f4ee0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a826fd6f75c78e180842907b2132f4ee0">all_but_one_cb</a> (void *obj, void *arg, int <a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>)</td></tr>
<tr class="separator:a826fd6f75c78e180842907b2132f4ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa60968ce6e073123832c3af1407baf09"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#aa60968ce6e073123832c3af1407baf09">AO2_GLOBAL_OBJ_STATIC</a> (astobj2_holder)</td></tr>
<tr class="separator:aa60968ce6e073123832c3af1407baf09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac740956e4c4bf6d2d3a53de45226aa97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#ac740956e4c4bf6d2d3a53de45226aa97">AST_TEST_DEFINE</a> (astobj2_test_1)</td></tr>
<tr class="separator:ac740956e4c4bf6d2d3a53de45226aa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab350f1cc0c4d9d0b93793f2a26d2aaf7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#ab350f1cc0c4d9d0b93793f2a26d2aaf7">AST_TEST_DEFINE</a> (astobj2_test_2)</td></tr>
<tr class="separator:ab350f1cc0c4d9d0b93793f2a26d2aaf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58057a1b59d6b9514c33d89c79fbec86"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a58057a1b59d6b9514c33d89c79fbec86">AST_TEST_DEFINE</a> (astobj2_test_3)</td></tr>
<tr class="separator:a58057a1b59d6b9514c33d89c79fbec86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5d57e7c2889a079ad6518a4bb632ff1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#aa5d57e7c2889a079ad6518a4bb632ff1">AST_TEST_DEFINE</a> (astobj2_test_4)</td></tr>
<tr class="separator:aa5d57e7c2889a079ad6518a4bb632ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1b25c9acb06644efec9f1c573c7086"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#afa1b25c9acb06644efec9f1c573c7086">AST_TEST_DEFINE</a> (astobj2_test_perf)</td></tr>
<tr class="separator:afa1b25c9acb06644efec9f1c573c7086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae63159297fdad3938ebb92d5c1f5b9ba"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#ae63159297fdad3938ebb92d5c1f5b9ba">astobj2_test_1_helper</a> (int tst_num, enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, int use_sort, unsigned int lim, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:ae63159297fdad3938ebb92d5c1f5b9ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0c81f93852da876ea3ce7bfa06432a7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#aa0c81f93852da876ea3ce7bfa06432a7">increment_cb</a> (void *obj, void *arg, int <a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>)</td></tr>
<tr class="separator:aa0c81f93852da876ea3ce7bfa06432a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a074d944a0c54877453be39d15d90b9d6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a074d944a0c54877453be39d15d90b9d6">insert_test_duplicates</a> (struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="el" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, int *destroy_counter, int <a class="el" href="../../d6/d49/structnumber.html">number</a>, const char *<a class="el" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:a074d944a0c54877453be39d15d90b9d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae710ae4b292c4d22219ec90a1a3d085f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a> (struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="el" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, int *destroy_counter, const int *vector, int count, const char *<a class="el" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:ae710ae4b292c4d22219ec90a1a3d085f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23627249e4f6063ddc9c45dc6b1a2f4b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a23627249e4f6063ddc9c45dc6b1a2f4b">multiple_cb</a> (void *obj, void *arg, int <a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>)</td></tr>
<tr class="separator:a23627249e4f6063ddc9c45dc6b1a2f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c7efce90c5a6bb192c83fad0b4e7f1a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a> (int res, struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="el" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, enum <a class="el" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a> flags, <a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a> *cmp_fn, void *arg, const int *vector, int count, const char *<a class="el" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:a9c7efce90c5a6bb192c83fad0b4e7f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a81f9b970be638af460352360d2df47"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a5a81f9b970be638af460352360d2df47">test_ao2_find_w_no_flags</a> (int res, struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *look_in, int limit, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:a5a81f9b970be638af460352360d2df47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71d1a03b0dda30606bb5a2c2e933e96f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a71d1a03b0dda30606bb5a2c2e933e96f">test_ao2_find_w_OBJ_KEY</a> (int res, struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *look_in, int limit, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:a71d1a03b0dda30606bb5a2c2e933e96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cd812b3826f6e8b4dbe01105fed03ba"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a2cd812b3826f6e8b4dbe01105fed03ba">test_ao2_find_w_OBJ_PARTIAL_KEY</a> (int res, struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *look_in, int limit, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:a2cd812b3826f6e8b4dbe01105fed03ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ac27a519641753a72c7d70678a98a06"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a2ac27a519641753a72c7d70678a98a06">test_ao2_find_w_OBJ_POINTER</a> (int res, struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *look_in, int limit, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:a2ac27a519641753a72c7d70678a98a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a51accc2c3490747b9c844dfe8516e2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a> (int res, struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="el" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, enum <a class="el" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6ab">ao2_iterator_flags</a> flags, const int *vector, int count, const char *<a class="el" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:a1a51accc2c3490747b9c844dfe8516e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6b6b74f9c92cb3f50ff403eeeaac36"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:a7b6b6b74f9c92cb3f50ff403eeeaac36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd64107b4f8d4ee93083dbb8e2f6e2c9"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#afd64107b4f8d4ee93083dbb8e2f6e2c9">test_container2str</a> (enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="separator:afd64107b4f8d4ee93083dbb8e2f6e2c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c88f7885283e8602264cd228bb2e23c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a4c88f7885283e8602264cd228bb2e23c">test_container_clone</a> (int res, struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *orig, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:a4c88f7885283e8602264cd228bb2e23c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a466f9884ff4216e6753b9c34b2ebfa81"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a466f9884ff4216e6753b9c34b2ebfa81">test_expected_duplicates</a> (int res, struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="el" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, enum <a class="el" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a> flags, int <a class="el" href="../../d6/d49/structnumber.html">number</a>, const int *vector, int count, const char *<a class="el" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:a466f9884ff4216e6753b9c34b2ebfa81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e2bbde140955f3935483750c6ab0f45"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a5e2bbde140955f3935483750c6ab0f45">test_hash_cb</a> (const void *obj, const int flags)</td></tr>
<tr class="separator:a5e2bbde140955f3935483750c6ab0f45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a787556b237c6bc938e4ecee87ffa4e7b"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a787556b237c6bc938e4ecee87ffa4e7b">test_make_nonsorted</a> (enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, int <a class="el" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>)</td></tr>
<tr class="separator:a787556b237c6bc938e4ecee87ffa4e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc6cac6c60588338f1bc1cf604592863"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#abc6cac6c60588338f1bc1cf604592863">test_make_sorted</a> (enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, int <a class="el" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>)</td></tr>
<tr class="separator:abc6cac6c60588338f1bc1cf604592863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6f2d47e32a867d75129a5e1f728192"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a> (void *v_obj)</td></tr>
<tr class="separator:a1f6f2d47e32a867d75129a5e1f728192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a059fcaa03a44c6708bea12b520a5b898"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a059fcaa03a44c6708bea12b520a5b898">test_performance</a> (struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>, enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, unsigned int copt)</td></tr>
<tr class="separator:a059fcaa03a44c6708bea12b520a5b898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9000b365764033bb24467c32152e4b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a> (const void *obj_left, const void *obj_right, int flags)</td></tr>
<tr class="separator:abf9000b365764033bb24467c32152e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a993f5bf8f615aac672b3f5dc24d00ba0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a993f5bf8f615aac672b3f5dc24d00ba0">test_traversal_nonsorted</a> (int res, int tst_num, enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:a993f5bf8f615aac672b3f5dc24d00ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a210a686b2a441a4a604aed485e8d4573"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a210a686b2a441a4a604aed485e8d4573">test_traversal_sorted</a> (int res, int tst_num, enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:a210a686b2a441a4a604aed485e8d4573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab86c0a1f1f7dedd698e3ed34364ca2cc"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#ab86c0a1f1f7dedd698e3ed34364ca2cc">testloop</a> (struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>, enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, int copt, int iterations)</td></tr>
<tr class="separator:ab86c0a1f1f7dedd698e3ed34364ca2cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;ASTOBJ2 Unit Tests&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .load_pri = <a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45a96d697d505aacfafbcbcc269e9fb0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d08/test__astobj2_8c.html#a45a96d697d505aacfafbcbcc269e9fb0">partial_key_match_range</a></td></tr>
<tr class="separator:a45a96d697d505aacfafbcbcc269e9fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> test module </p>
<dl class="section author"><dt>Author</dt><dd>David Vossel <a href="#" onclick="location.href='mai'+'lto:'+'dvo'+'ss'+'el@'+'di'+'giu'+'m.'+'com'; return false;">dvoss<span style="display: none;">.nosp@m.</span>el@d<span style="display: none;">.nosp@m.</span>igium<span style="display: none;">.nosp@m.</span>.com</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa9cc087d076e4fa101f8794a947bd01a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9cc087d076e4fa101f8794a947bd01a">&#9670;&nbsp;</a></span>ITERATIONS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ITERATIONS&#160;&#160;&#160;100000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l02013">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="ad15e0f6530352f2b65cb6147c597c61b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad15e0f6530352f2b65cb6147c597c61b">&#9670;&nbsp;</a></span>OBJS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OBJS&#160;&#160;&#160;73</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01925">test_performance()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a1876c233004e415feb620fb85973ec74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1876c233004e415feb620fb85973ec74">&#9670;&nbsp;</a></span>test_container_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5"></a>TEST_CONTAINER_LIST&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd"></a>TEST_CONTAINER_HASH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b"></a>TEST_CONTAINER_RBTREE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00041">41</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                         {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;   <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;   <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>,</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;};</div><div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00042">test_astobj2.c:42</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00043">test_astobj2.c:43</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00044">test_astobj2.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l02074">2074</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l02074">2074</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

</div>
</div>
<a id="a826fd6f75c78e180842907b2132f4ee0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a826fd6f75c78e180842907b2132f4ee0">&#9670;&nbsp;</a></span>all_but_one_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int all_but_one_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00104">104</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *cmp_obj = (<span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *) obj;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <span class="keywordflow">return</span> (cmp_obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>) ? <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> : 0;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa60968ce6e073123832c3af1407baf09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa60968ce6e073123832c3af1407baf09">&#9670;&nbsp;</a></span>AO2_GLOBAL_OBJ_STATIC()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static AO2_GLOBAL_OBJ_STATIC </td>
          <td>(</td>
          <td class="paramtype">astobj2_holder&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00690">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l02074">2074</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

</div>
</div>
<a id="ac740956e4c4bf6d2d3a53de45226aa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac740956e4c4bf6d2d3a53de45226aa97">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">astobj2_test_1&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00648">648</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00043">TEST_CONTAINER_HASH</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00042">TEST_CONTAINER_LIST</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00044">TEST_CONTAINER_RBTREE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, and <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>.</p>
<div class="fragment"><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;{</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;astobj2_test1&quot;</span>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/astobj2/&quot;</span>;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test ao2 objects, containers, callbacks, and iterators&quot;</span>;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;         <span class="stringliteral">&quot;Builds ao2_containers with various item numbers, bucket sizes, cmp and hash &quot;</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;         <span class="stringliteral">&quot;functions. Runs a series of tests to manipulate the container using callbacks &quot;</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;         <span class="stringliteral">&quot;and iterators.  Verifies expected behavior.&quot;</span>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   <span class="comment">/* Test number, container_type, use_sort, number of objects. */</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#ae63159297fdad3938ebb92d5c1f5b9ba">astobj2_test_1_helper</a>(1, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>, 0, 50, <a class="code" href="../../d8/d89/structtest.html">test</a>)) == <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>) {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   }</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#ae63159297fdad3938ebb92d5c1f5b9ba">astobj2_test_1_helper</a>(2, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>, 1, 50, <a class="code" href="../../d8/d89/structtest.html">test</a>)) == <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>) {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#ae63159297fdad3938ebb92d5c1f5b9ba">astobj2_test_1_helper</a>(3, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>, 0, 1000, <a class="code" href="../../d8/d89/structtest.html">test</a>)) == <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>) {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;   }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#ae63159297fdad3938ebb92d5c1f5b9ba">astobj2_test_1_helper</a>(4, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>, 1, 1000, <a class="code" href="../../d8/d89/structtest.html">test</a>)) == <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>) {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;   }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#ae63159297fdad3938ebb92d5c1f5b9ba">astobj2_test_1_helper</a>(4, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>, 1, 1000, <a class="code" href="../../d8/d89/structtest.html">test</a>)) == <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>) {</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;}</div><div class="ttc" id="test__astobj2_8c_html_ae63159297fdad3938ebb92d5c1f5b9ba"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#ae63159297fdad3938ebb92d5c1f5b9ba">astobj2_test_1_helper</a></div><div class="ttdeci">static int astobj2_test_1_helper(int tst_num, enum test_container_type type, int use_sort, unsigned int lim, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00421">test_astobj2.c:421</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00042">test_astobj2.c:42</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00043">test_astobj2.c:43</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00044">test_astobj2.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab350f1cc0c4d9d0b93793f2a26d2aaf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab350f1cc0c4d9d0b93793f2a26d2aaf7">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">astobj2_test_2&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00690">690</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00856">ao2_container_check()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d6/d08/test__astobj2_8c.html#aa60968ce6e073123832c3af1407baf09">AO2_GLOBAL_OBJ_STATIC()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../d2/d2c/pbx__realtime_8c_source.html#l00124">cleanup()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_obj::destructor_count</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01154">OBJ_POINTER</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_cmp_cb()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00087">test_obj_destructor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;{</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   <span class="keywordtype">int</span> num;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_OBJS = 5;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a> = NUM_OBJS;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> tmp_obj = { 0, };</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;astobj2_test2&quot;</span>;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/astobj2/&quot;</span>;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test a certain scenario using ao2 iterators&quot;</span>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;         <span class="stringliteral">&quot;This test is aimed at testing for a specific regression that occurred. &quot;</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;         <span class="stringliteral">&quot;Add some objects into a container.  Mix finds and iteration and make &quot;</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;         <span class="stringliteral">&quot;sure that the iterator still sees all objects.&quot;</span>;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   }</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   c = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;ao2_container_alloc_list failed.\n&quot;</span>);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <span class="keywordflow">for</span> (num = 1; num &lt;= NUM_OBJS; num++) {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">if</span> (!(obj = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a>), <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a>))) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;ao2_alloc failed.\n&quot;</span>);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a> = &amp;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a>;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = num;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(c, obj);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(c) != num) {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;container did not link correctly\n&quot;</span>);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a>(c, 0)) {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;container integrity check failed\n&quot;</span>);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;   }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">    * Iteration take 1.  Just make sure we see all NUM_OBJS objects.</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   num = 0;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;   <a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(c, 0);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;   <span class="keywordflow">while</span> ((obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>))) {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      num++;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;   }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   <span class="keywordflow">if</span> (num != NUM_OBJS) {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;iterate take 1, expected &#39;%d&#39;, only saw &#39;%d&#39; objects\n&quot;</span>,</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            NUM_OBJS, num);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;   }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">    * Iteration take 2.  Do a find for the last object, then iterate and make</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">    * sure we find all NUM_OBJS objects.</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   tmp_obj.<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = NUM_OBJS;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(c, &amp;tmp_obj, <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a>);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;ao2_find() failed.\n&quot;</span>);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;   }</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   num = 0;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;   <a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(c, 0);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   <span class="keywordflow">while</span> ((obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>))) {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      num++;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   <span class="keywordflow">if</span> (num != NUM_OBJS) {</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;iterate take 2, expected &#39;%d&#39;, only saw &#39;%d&#39; objects\n&quot;</span>,</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            NUM_OBJS, num);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   }</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">    * Iteration take 3.  Do a find for an object while in the middle</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">    * of iterating;</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;   num = 0;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;   <a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(c, 0);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;   <span class="keywordflow">while</span> ((obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>))) {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <span class="keywordflow">if</span> (num == 1) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj2;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;         tmp_obj.<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = NUM_OBJS - 1;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;         obj2 = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(c, &amp;tmp_obj, <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a>);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;         <span class="keywordflow">if</span> (!obj2) {</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;ao2_find() failed.\n&quot;</span>);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj2, -1);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;         }</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      num++;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   <span class="keywordflow">if</span> (num != NUM_OBJS) {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;iterate take 3, expected &#39;%d&#39;, only saw &#39;%d&#39; objects\n&quot;</span>,</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            NUM_OBJS, num);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   }</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>:</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;   <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(c, -1);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;   }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div><div class="ttc" id="structtest__obj_html_a85b1e1da18d227afa1523a747d93c8eb"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">test_obj::destructor_count</a></div><div class="ttdeci">int * destructor_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_astobj2.c:77</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2448088751e4d494d1981c7f4b84e8d0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a></div><div class="ttdeci">#define OBJ_POINTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01154">astobj2.h:1154</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a7b6b6b74f9c92cb3f50ff403eeeaac36"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a></div><div class="ttdeci">static int test_cmp_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_astobj2.c:119</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1f6f2d47e32a867d75129a5e1f728192"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a></div><div class="ttdeci">static void test_obj_destructor(void *v_obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00087">test_astobj2.c:87</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3f39314e9c8139579f646e0e2f8d0bf5"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a></div><div class="ttdeci">int ao2_container_check(struct ao2_container *self, enum search_flags flags)</div><div class="ttdoc">Perform an integrity check on the specified container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00856">astobj2_container.c:856</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="pbx__realtime_8c_html_a10b51e1931bd03dd172cbfb9d3d67efb"><div class="ttname"><a href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a></div><div class="ttdeci">static void * cleanup(void *unused)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2c/pbx__realtime_8c_source.html#l00124">pbx_realtime.c:124</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58057a1b59d6b9514c33d89c79fbec86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58057a1b59d6b9514c33d89c79fbec86">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">astobj2_test_3&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00827">827</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00923">ao2_t_global_obj_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00863">ao2_t_global_obj_release</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00883">ao2_t_global_obj_replace</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00906">ao2_t_global_obj_replace_unref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d2/d2c/pbx__realtime_8c_source.html#l00124">cleanup()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_obj::destructor_count</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00087">test_obj_destructor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;{</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a> = 0;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;   <span class="keywordtype">int</span> num_objects = 0;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj2 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj3 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;astobj2_test3&quot;</span>;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/astobj2/&quot;</span>;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test global ao2 holder&quot;</span>;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;         <span class="stringliteral">&quot;This test is to see if the global ao2 holder works as intended.&quot;</span>;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;   }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <span class="comment">/* Put an object in the holder */</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   obj = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a>), <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a>);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;ao2_alloc failed.\n&quot;</span>);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   }</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a> = &amp;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a>;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = ++num_objects;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   obj2 = <a class="code" href="../../d5/da5/astobj2_8h.html#ac7cb53aee8c3c3fe13f996b52264f8a8">ao2_t_global_obj_replace</a>(astobj2_holder, obj, <span class="stringliteral">&quot;Save object in the holder&quot;</span>);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   <span class="keywordflow">if</span> (obj2) {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Returned object not expected.\n&quot;</span>);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;   }</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <span class="comment">/* Save object for next check. */</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   obj3 = obj;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;   <span class="comment">/* Replace an object in the holder */</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   obj = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a>), <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a>);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;ao2_alloc failed.\n&quot;</span>);</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   }</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;   obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a> = &amp;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = ++num_objects;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   obj2 = <a class="code" href="../../d5/da5/astobj2_8h.html#ac7cb53aee8c3c3fe13f996b52264f8a8">ao2_t_global_obj_replace</a>(astobj2_holder, obj, <span class="stringliteral">&quot;Replace object in the holder&quot;</span>);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   <span class="keywordflow">if</span> (!obj2) {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Expected an object.\n&quot;</span>);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   }</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;   <span class="keywordflow">if</span> (obj2 != obj3) {</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Replaced object not expected object.\n&quot;</span>);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   }</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj3, -1);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   obj3 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj2, -1);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   obj2 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   <span class="comment">/* Replace with unref of an object in the holder */</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   obj = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a>), <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a>);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;ao2_alloc failed.\n&quot;</span>);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;   }</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a> = &amp;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a>;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = ++num_objects;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/da5/astobj2_8h.html#a45fc2eb2ef13e15588fc04088c3d8694">ao2_t_global_obj_replace_unref</a>(astobj2_holder, obj, <span class="stringliteral">&quot;Replace w/ unref object in the holder&quot;</span>)) {</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Expected an object to be replaced.\n&quot;</span>);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   <span class="comment">/* Save object for next check. */</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   obj3 = obj;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;   <span class="comment">/* Get reference to held object. */</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   obj = <a class="code" href="../../d5/da5/astobj2_8h.html#af1ad3e22cf888adac5f762ca493ea7a6">ao2_t_global_obj_ref</a>(astobj2_holder, <span class="stringliteral">&quot;Get a held object reference&quot;</span>);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;   <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Expected an object.\n&quot;</span>);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;   }</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;   <span class="keywordflow">if</span> (obj != obj3) {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Referenced object not expected object.\n&quot;</span>);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   }</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj3, -1);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   obj3 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;   obj = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <span class="comment">/* Release the object in the global holder. */</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ae70b4c4ad5b431314ecf40d29d224eee">ao2_t_global_obj_release</a>(astobj2_holder, <span class="stringliteral">&quot;Check release all objects&quot;</span>);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   destructor_count += num_objects;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;   <span class="keywordflow">if</span> (0 &lt; destructor_count) {</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>,</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;         <span class="stringliteral">&quot;all destructors were not called, destructor count is %d\n&quot;</span>,</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;         destructor_count);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (destructor_count &lt; 0) {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>,</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;         <span class="stringliteral">&quot;Destructor was called too many times, destructor count is %d\n&quot;</span>,</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;         destructor_count);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   }</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>:</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   <span class="keywordflow">if</span> (obj) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;Test cleanup external object 1&quot;</span>);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   }</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;   <span class="keywordflow">if</span> (obj2) {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj2, -1, <span class="stringliteral">&quot;Test cleanup external object 2&quot;</span>);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   <span class="keywordflow">if</span> (obj3) {</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj3, -1, <span class="stringliteral">&quot;Test cleanup external object 3&quot;</span>);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ae70b4c4ad5b431314ecf40d29d224eee">ao2_t_global_obj_release</a>(astobj2_holder, <span class="stringliteral">&quot;Test cleanup holder&quot;</span>);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="structtest__obj_html_a85b1e1da18d227afa1523a747d93c8eb"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">test_obj::destructor_count</a></div><div class="ttdeci">int * destructor_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_astobj2.c:77</a></div></div>
<div class="ttc" id="astobj2_8h_html_a45fc2eb2ef13e15588fc04088c3d8694"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a45fc2eb2ef13e15588fc04088c3d8694">ao2_t_global_obj_replace_unref</a></div><div class="ttdeci">#define ao2_t_global_obj_replace_unref(holder, obj, tag)</div><div class="ttdoc">Replace an ao2 object in the global holder, throwing away any old object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00906">astobj2.h:906</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1f6f2d47e32a867d75129a5e1f728192"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a></div><div class="ttdeci">static void test_obj_destructor(void *v_obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00087">test_astobj2.c:87</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae70b4c4ad5b431314ecf40d29d224eee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae70b4c4ad5b431314ecf40d29d224eee">ao2_t_global_obj_release</a></div><div class="ttdeci">#define ao2_t_global_obj_release(holder, tag)</div><div class="ttdoc">Release the ao2 object held in the global holder. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00863">astobj2.h:863</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac7cb53aee8c3c3fe13f996b52264f8a8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac7cb53aee8c3c3fe13f996b52264f8a8">ao2_t_global_obj_replace</a></div><div class="ttdeci">#define ao2_t_global_obj_replace(holder, obj, tag)</div><div class="ttdoc">Replace an ao2 object in the global holder. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00883">astobj2.h:883</a></div></div>
<div class="ttc" id="astobj2_8h_html_af1ad3e22cf888adac5f762ca493ea7a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#af1ad3e22cf888adac5f762ca493ea7a6">ao2_t_global_obj_ref</a></div><div class="ttdeci">#define ao2_t_global_obj_ref(holder, tag)</div><div class="ttdoc">Get a reference to the object stored in the global holder. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00923">astobj2.h:923</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="pbx__realtime_8c_html_a10b51e1931bd03dd172cbfb9d3d67efb"><div class="ttname"><a href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a></div><div class="ttdeci">static void * cleanup(void *unused)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2c/pbx__realtime_8c_source.html#l00124">pbx_realtime.c:124</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5d57e7c2889a079ad6518a4bb632ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5d57e7c2889a079ad6518a4bb632ff1">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">astobj2_test_4&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01898">1898</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00043">TEST_CONTAINER_HASH</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00042">TEST_CONTAINER_LIST</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00044">TEST_CONTAINER_RBTREE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01348">test_traversal_nonsorted()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01554">test_traversal_sorted()</a>.</p>
<div class="fragment"><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;{</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;astobj2_test4&quot;</span>;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/astobj2/&quot;</span>;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test container traversal/iteration&quot;</span>;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;         <span class="stringliteral">&quot;This test is to see if the container traversal/iteration works &quot;</span></div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;         <span class="stringliteral">&quot;as intended for each supported container type.&quot;</span>;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;   }</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a993f5bf8f615aac672b3f5dc24d00ba0">test_traversal_nonsorted</a>(res, 1, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>, <a class="code" href="../../d8/d89/structtest.html">test</a>);</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a993f5bf8f615aac672b3f5dc24d00ba0">test_traversal_nonsorted</a>(res, 2, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>, <a class="code" href="../../d8/d89/structtest.html">test</a>);</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a210a686b2a441a4a604aed485e8d4573">test_traversal_sorted</a>(res, 3, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>, <a class="code" href="../../d8/d89/structtest.html">test</a>);</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a210a686b2a441a4a604aed485e8d4573">test_traversal_sorted</a>(res, 4, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>, <a class="code" href="../../d8/d89/structtest.html">test</a>);</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a210a686b2a441a4a604aed485e8d4573">test_traversal_sorted</a>(res, 5, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>, <a class="code" href="../../d8/d89/structtest.html">test</a>);</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;}</div><div class="ttc" id="test__astobj2_8c_html_a210a686b2a441a4a604aed485e8d4573"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a210a686b2a441a4a604aed485e8d4573">test_traversal_sorted</a></div><div class="ttdeci">static int test_traversal_sorted(int res, int tst_num, enum test_container_type type, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01554">test_astobj2.c:1554</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00042">test_astobj2.c:42</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a993f5bf8f615aac672b3f5dc24d00ba0"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a993f5bf8f615aac672b3f5dc24d00ba0">test_traversal_nonsorted</a></div><div class="ttdeci">static int test_traversal_nonsorted(int res, int tst_num, enum test_container_type type, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01348">test_astobj2.c:1348</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00043">test_astobj2.c:43</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00044">test_astobj2.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afa1b25c9acb06644efec9f1c573c7086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa1b25c9acb06644efec9f1c573c7086">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">astobj2_test_perf&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of iteration of testloop to be performed. </p><dl class="section note"><dt>Note</dt><dd>In order to keep the elapsed time sane, if AO2_DEBUG is defined in menuselect, only 25000 iterations are performed. Otherwise 100000.</dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l02013">2013</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c.html#aa9cc087d076e4fa101f8794a947bd01a">ITERATIONS</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00043">TEST_CONTAINER_HASH</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00042">TEST_CONTAINER_LIST</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00044">TEST_CONTAINER_RBTREE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01992">testloop()</a>.</p>
<div class="fragment"><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;<span class="comment"> * \brief The number of iteration of testloop to be performed.</span></div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;<span class="comment"> * \note</span></div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="comment"> * In order to keep the elapsed time sane, if AO2_DEBUG is defined in menuselect,</span></div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="comment"> * only 25000 iterations are performed.   Otherwise 100000.</span></div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;<span class="preprocessor">#ifdef AO2_DEBUG</span></div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="preprocessor">#define ITERATIONS 25000</span></div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="preprocessor">#define ITERATIONS 100000</span></div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;astobj2_test_perf&quot;</span>;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/astobj2/perf/&quot;</span>;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test container performance&quot;</span>;</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;         <span class="stringliteral">&quot;Runs container traversal tests.&quot;</span>;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;   }</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#ab86c0a1f1f7dedd698e3ed34364ca2cc">testloop</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>, 0, <a class="code" href="../../d6/d08/test__astobj2_8c.html#aa9cc087d076e4fa101f8794a947bd01a">ITERATIONS</a>);</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;   <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;   }</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#ab86c0a1f1f7dedd698e3ed34364ca2cc">testloop</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>, 0, <a class="code" href="../../d6/d08/test__astobj2_8c.html#aa9cc087d076e4fa101f8794a947bd01a">ITERATIONS</a>);</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;   <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;   }</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#ab86c0a1f1f7dedd698e3ed34364ca2cc">testloop</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>, 0, <a class="code" href="../../d6/d08/test__astobj2_8c.html#aa9cc087d076e4fa101f8794a947bd01a">ITERATIONS</a>);</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;}</div><div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_aa9cc087d076e4fa101f8794a947bd01a"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#aa9cc087d076e4fa101f8794a947bd01a">ITERATIONS</a></div><div class="ttdeci">#define ITERATIONS</div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00042">test_astobj2.c:42</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00043">test_astobj2.c:43</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_ab86c0a1f1f7dedd698e3ed34364ca2cc"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#ab86c0a1f1f7dedd698e3ed34364ca2cc">testloop</a></div><div class="ttdeci">static enum ast_test_result_state testloop(struct ast_test *test, enum test_container_type type, int copt, int iterations)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01992">test_astobj2.c:1992</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00044">test_astobj2.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae63159297fdad3938ebb92d5c1f5b9ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae63159297fdad3938ebb92d5c1f5b9ba">&#9670;&nbsp;</a></span>astobj2_test_1_helper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int astobj2_test_1_helper </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tst_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>use_sort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>lim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">421</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00104">all_but_one_cb()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00856">ao2_container_check()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00792">ao2_container_dump()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00819">ao2_container_stats()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00409">ao2_t_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01714">ao2_t_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01308">ao2_t_container_alloc_hash</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01333">ao2_t_container_alloc_list</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01356">ao2_t_container_alloc_rbtree</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01931">ao2_t_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01547">ao2_t_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01596">ao2_t_unlink</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02064">ast_random()</a>, <a class="el" href="../../d8/db9/test_8c_source.html#l00113">ast_test_debug()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d2/d2c/pbx__realtime_8c_source.html#l00124">cleanup()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_obj::destructor_count</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00096">increment_cb()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00111">multiple_cb()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00278">test_ao2_find_w_no_flags()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00356">test_ao2_find_w_OBJ_KEY()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00393">test_ao2_find_w_OBJ_PARTIAL_KEY()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00317">test_ao2_find_w_OBJ_POINTER()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_cmp_cb()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00056">test_container2str()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00216">test_container_clone()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00043">TEST_CONTAINER_HASH</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00042">TEST_CONTAINER_LIST</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00044">TEST_CONTAINER_RBTREE</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00139">test_hash_cb()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00087">test_obj_destructor()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00158">test_sort_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00648">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;{</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *c_type;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *c1;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *c2;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> it;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> *mult_it;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <span class="keywordtype">int</span> n_buckets = 0;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   <span class="keywordtype">int</span> increment = 0;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a> = 0;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keywordtype">int</span> num;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   c_type = <a class="code" href="../../d6/d08/test__astobj2_8c.html#afd64107b4f8d4ee93083dbb8e2f6e2c9">test_container2str</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Test %d, %s containers (%s).\n&quot;</span>,</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      tst_num, c_type, use_sort ? <span class="stringliteral">&quot;sorted&quot;</span> : <span class="stringliteral">&quot;non-sorted&quot;</span>);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   c1 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>:</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="comment">/* Lists just have one bucket. */</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      n_buckets = 1;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      c1 = <a class="code" href="../../d5/da5/astobj2_8h.html#a9655839d618bd82973896f957ed00e31">ao2_t_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0,</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;         use_sort ? <a class="code" href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>:</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      n_buckets = (<a class="code" href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a>() % ((lim / 4) + 1)) + 1;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      c1 = <a class="code" href="../../d5/da5/astobj2_8h.html#ab5c800b526ca7de022a0a3e79d0292ad">ao2_t_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, n_buckets,</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#a5e2bbde140955f3935483750c6ab0f45">test_hash_cb</a>, use_sort ? <a class="code" href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>:</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <span class="comment">/* RBTrees just have one bucket. */</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      n_buckets = 1;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      c1 = <a class="code" href="../../d5/da5/astobj2_8h.html#a5a6c944a290feba87599655a5cbd3942">ao2_t_container_alloc_rbtree</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0,</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   c2 = <a class="code" href="../../d5/da5/astobj2_8h.html#a9655839d618bd82973896f957ed00e31">ao2_t_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   <span class="keywordflow">if</span> (!c1 || !c2) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;ao2_container_alloc failed.\n&quot;</span>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   <span class="comment">/* Create objects and link into container */</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   <span class="keywordflow">for</span> (num = 0; num &lt; lim; ++num) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="keywordflow">if</span> (!(obj = <a class="code" href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a>), <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a>, <span class="stringliteral">&quot;making zombies&quot;</span>))) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;ao2_alloc failed.\n&quot;</span>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      ++<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a> = &amp;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = num;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(c1, obj);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a>(c1, 0)) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;container integrity check failed linking obj num:%d\n&quot;</span>, num);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(c1) != num + 1) {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;container did not link correctly\n&quot;</span>);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s container created: buckets: %d, items: %u\n&quot;</span>,</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      c_type, n_buckets, lim);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   <span class="comment">/* Testing ao2_container_clone */</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a4c88f7885283e8602264cd228bb2e23c">test_container_clone</a>(res, c1, test);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   <span class="comment">/* Testing ao2_find with no flags */</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a5a81f9b970be638af460352360d2df47">test_ao2_find_w_no_flags</a>(res, c1, lim, test);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <span class="comment">/* Testing ao2_find with OBJ_POINTER */</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a2ac27a519641753a72c7d70678a98a06">test_ao2_find_w_OBJ_POINTER</a>(res, c1, lim, test);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <span class="comment">/* Testing ao2_find with OBJ_KEY */</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a71d1a03b0dda30606bb5a2c2e933e96f">test_ao2_find_w_OBJ_KEY</a>(res, c1, lim, test);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   <span class="comment">/* Testing ao2_find with OBJ_PARTIAL_KEY */</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a2cd812b3826f6e8b4dbe01105fed03ba">test_ao2_find_w_OBJ_PARTIAL_KEY</a>(res, c1, lim, test);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <span class="comment">/* Test Callback with no flags. */</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   increment = 0;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(c1, 0, <a class="code" href="../../d6/d08/test__astobj2_8c.html#aa0c81f93852da876ea3ce7bfa06432a7">increment_cb</a>, &amp;increment, <span class="stringliteral">&quot;test callback&quot;</span>);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   <span class="keywordflow">if</span> (increment != lim) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;callback with no flags failed. Increment is %d\n&quot;</span>, increment);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <span class="comment">/* Test Callback with OBJ_NODATA. This should do nothing different than with no flags here. */</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   increment = 0;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#aa0c81f93852da876ea3ce7bfa06432a7">increment_cb</a>, &amp;increment, <span class="stringliteral">&quot;test callback&quot;</span>);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   <span class="keywordflow">if</span> (increment != lim) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;callback with OBJ_NODATA failed. Increment is %d\n&quot;</span>, increment);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   <span class="comment">/* Test OBJ_MULTIPLE with OBJ_UNLINK, add items back afterwards */</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   num = lim &lt; 25 ? lim : 25;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <span class="keywordflow">if</span> (!(mult_it = <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a23627249e4f6063ddc9c45dc6b1a2f4b">multiple_cb</a>, &amp;num, <span class="stringliteral">&quot;test multiple&quot;</span>))) {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;OBJ_MULTIPLE with OBJ_UNLINK test failed.\n&quot;</span>);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <span class="comment">/* make sure num items unlinked is as expected */</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordflow">if</span> ((lim - <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(c1)) != num) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;OBJ_MULTIPLE | OBJ_UNLINK test failed, did not unlink correct number of objects.\n&quot;</span>);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a>(c1, 0)) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;container integrity check failed\n&quot;</span>);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="comment">/* link what was unlinked back into c1 */</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="keywordflow">while</span> ((obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a2f87a873c7ff5f3150044300fe83bb61">ao2_t_iterator_next</a>(mult_it, <span class="stringliteral">&quot;test&quot;</span>))) {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6db9934459f5cdc95cb3af77d55d426e">ao2_t_link</a>(c1, obj, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test&quot;</span>); <span class="comment">/* remove ref from iterator */</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      }</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(mult_it);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a>(c1, 0)) {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;container integrity check failed\n&quot;</span>);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;   <span class="comment">/* Test OBJ_MULTIPLE without unlink and iterate the returned container */</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   num = 5;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   <span class="keywordflow">if</span> (!(mult_it = <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a23627249e4f6063ddc9c45dc6b1a2f4b">multiple_cb</a>, &amp;num, <span class="stringliteral">&quot;test multiple&quot;</span>))) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;OBJ_MULTIPLE without OBJ_UNLINK test failed.\n&quot;</span>);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">while</span> ((obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a2f87a873c7ff5f3150044300fe83bb61">ao2_t_iterator_next</a>(mult_it, <span class="stringliteral">&quot;test&quot;</span>))) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test&quot;</span>); <span class="comment">/* remove ref from iterator */</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(mult_it);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   <span class="comment">/* Test OBJ_MULTIPLE without unlink and no iterating */</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   num = 5;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   <span class="keywordflow">if</span> (!(mult_it = <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a23627249e4f6063ddc9c45dc6b1a2f4b">multiple_cb</a>, &amp;num, <span class="stringliteral">&quot;test multiple&quot;</span>))) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;OBJ_MULTIPLE with no OBJ_UNLINK and no iterating failed.\n&quot;</span>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(mult_it);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;   }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   <span class="comment">/* Is the container count what we expect after all the finds and unlinks? */</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(c1) != lim) {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;container count does not match what is expected after ao2_find tests.\n&quot;</span>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;   <span class="comment">/* Testing iterator.  Unlink a single object and break. do not add item back */</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   it = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(c1, 0);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;   num = <a class="code" href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a>() % lim; <span class="comment">/* remove a random object */</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;   <span class="keywordflow">if</span> (!num) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">       * Well we cannot remove object zero because of test with</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">       * all_but_one_cb later.</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      num = 1;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <span class="keywordflow">while</span> ((obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a2f87a873c7ff5f3150044300fe83bb61">ao2_t_iterator_next</a>(&amp;it, <span class="stringliteral">&quot;test&quot;</span>))) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">if</span> (obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> == num) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#abd79d7936e873108860cd00d59e1cede">ao2_t_unlink</a>(c1, obj, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;it);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   <span class="comment">/* Is the container count what we expect after removing a single item? */</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(c1) != (lim - 1)) {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;unlink during iterator failed. Number %d was not removed.\n&quot;</span>, num);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a>(c1, 0)) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;container integrity check failed\n&quot;</span>);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <span class="comment">/* Test unlink all with OBJ_MULTIPLE, leave a single object for the container to destroy */</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a826fd6f75c78e180842907b2132f4ee0">all_but_one_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;test multiple&quot;</span>);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <span class="comment">/* check to make sure all test_obj destructors were called except for 1 */</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   <span class="keywordflow">if</span> (destructor_count != 1) {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;OBJ_MULTIPLE | OBJ_UNLINK | OBJ_NODATA failed. destructor count %d\n&quot;</span>, destructor_count);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;   }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a>(c1, 0)) {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;container integrity check failed\n&quot;</span>);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="preprocessor">#if defined(TEST_CONTAINER_DEBUG_DUMP)</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ac7d4a4a47aa65ff7edd53bac70bd1a90">ao2_container_dump</a>(c1, 0, <span class="stringliteral">&quot;test_1 c1&quot;</span>, (<span class="keywordtype">void</span> *) test, (<a class="code" href="../../d5/da5/astobj2_8h.html#af236ed10cd1eddcbad0579ed0cf9f4c5">ao2_prnt_fn</a> *) <a class="code" href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a>, test_prnt_obj);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a747dacdc275ea957cda1b6dde3d7d290">ao2_container_stats</a>(c1, 0, <span class="stringliteral">&quot;test_1 c1&quot;</span>, (<span class="keywordtype">void</span> *) test, (<a class="code" href="../../d5/da5/astobj2_8h.html#af236ed10cd1eddcbad0579ed0cf9f4c5">ao2_prnt_fn</a> *) <a class="code" href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a>);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="preprocessor">#endif   </span><span class="comment">/* defined(TEST_CONTAINER_DEBUG_DUMP) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<a class="code" href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a>:</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <span class="comment">/* destroy containers */</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   <span class="keywordflow">if</span> (c1) {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(c1, -1, <span class="stringliteral">&quot;bye c1&quot;</span>);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   <span class="keywordflow">if</span> (c2) {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(c2, -1, <span class="stringliteral">&quot;bye c2&quot;</span>);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;   <span class="keywordflow">if</span> (destructor_count &gt; 0) {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;all destructors were not called, destructor count is %d\n&quot;</span>, destructor_count);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (destructor_count &lt; 0) {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Destructor was called too many times, destructor count is %d\n&quot;</span>, destructor_count);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="structtest__obj_html_a85b1e1da18d227afa1523a747d93c8eb"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">test_obj::destructor_count</a></div><div class="ttdeci">int * destructor_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_astobj2.c:77</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac7d4a4a47aa65ff7edd53bac70bd1a90"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac7d4a4a47aa65ff7edd53bac70bd1a90">ao2_container_dump</a></div><div class="ttdeci">void ao2_container_dump(struct ao2_container *self, enum search_flags flags, const char *name, void *where, ao2_prnt_fn *prnt, ao2_prnt_obj_fn *prnt_obj)</div><div class="ttdoc">Display contents of the specified container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00792">astobj2_container.c:792</a></div></div>
<div class="ttc" id="test_8c_html_a71eb9e6ef65c0a002e55f10b774796c4"><div class="ttname"><a href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a></div><div class="ttdeci">void ast_test_debug(struct ast_test *test, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db9/test_8c_source.html#l00113">test.c:113</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad57326008c326db88dc36779741622b8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a></div><div class="ttdeci">#define ao2_t_alloc(data_size, destructor_fn, debug_msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00409">astobj2.h:409</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a5a81f9b970be638af460352360d2df47"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a5a81f9b970be638af460352360d2df47">test_ao2_find_w_no_flags</a></div><div class="ttdeci">static int test_ao2_find_w_no_flags(int res, struct ao2_container *look_in, int limit, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00278">test_astobj2.c:278</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a23627249e4f6063ddc9c45dc6b1a2f4b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a23627249e4f6063ddc9c45dc6b1a2f4b">multiple_cb</a></div><div class="ttdeci">static int multiple_cb(void *obj, void *arg, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00111">test_astobj2.c:111</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a7b6b6b74f9c92cb3f50ff403eeeaac36"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a></div><div class="ttdeci">static int test_cmp_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_astobj2.c:119</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1f6f2d47e32a867d75129a5e1f728192"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a></div><div class="ttdeci">static void test_obj_destructor(void *v_obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00087">test_astobj2.c:87</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a71d1a03b0dda30606bb5a2c2e933e96f"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a71d1a03b0dda30606bb5a2c2e933e96f">test_ao2_find_w_OBJ_KEY</a></div><div class="ttdeci">static int test_ao2_find_w_OBJ_KEY(int res, struct ao2_container *look_in, int limit, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00356">test_astobj2.c:356</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_aa0c81f93852da876ea3ce7bfa06432a7"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#aa0c81f93852da876ea3ce7bfa06432a7">increment_cb</a></div><div class="ttdeci">static int increment_cb(void *obj, void *arg, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00096">test_astobj2.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6db9934459f5cdc95cb3af77d55d426e"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6db9934459f5cdc95cb3af77d55d426e">ao2_t_link</a></div><div class="ttdeci">#define ao2_t_link(container, obj, tag)</div><div class="ttdoc">Add an object to a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01547">astobj2.h:1547</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9655839d618bd82973896f957ed00e31"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9655839d618bd82973896f957ed00e31">ao2_t_container_alloc_list</a></div><div class="ttdeci">#define ao2_t_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn, tag)</div><div class="ttdoc">Allocate and initialize a list container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01333">astobj2.h:1333</a></div></div>
<div class="ttc" id="astobj2_8h_html_abd79d7936e873108860cd00d59e1cede"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#abd79d7936e873108860cd00d59e1cede">ao2_t_unlink</a></div><div class="ttdeci">#define ao2_t_unlink(container, obj, tag)</div><div class="ttdoc">Remove an object from a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01596">astobj2.h:1596</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a826fd6f75c78e180842907b2132f4ee0"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a826fd6f75c78e180842907b2132f4ee0">all_but_one_cb</a></div><div class="ttdeci">static int all_but_one_cb(void *obj, void *arg, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00104">test_astobj2.c:104</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a747dacdc275ea957cda1b6dde3d7d290"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a747dacdc275ea957cda1b6dde3d7d290">ao2_container_stats</a></div><div class="ttdeci">void ao2_container_stats(struct ao2_container *self, enum search_flags flags, const char *name, void *where, ao2_prnt_fn *prnt)</div><div class="ttdoc">Display statistics of the specified container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00819">astobj2_container.c:819</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="astobj2_8h_html_af236ed10cd1eddcbad0579ed0cf9f4c5"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#af236ed10cd1eddcbad0579ed0cf9f4c5">ao2_prnt_fn</a></div><div class="ttdeci">void() ao2_prnt_fn(void *where, const char *fmt,...)</div><div class="ttdoc">Print output. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01442">astobj2.h:1442</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3f39314e9c8139579f646e0e2f8d0bf5"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a></div><div class="ttdeci">int ao2_container_check(struct ao2_container *self, enum search_flags flags)</div><div class="ttdoc">Perform an integrity check on the specified container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00856">astobj2_container.c:856</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a4c88f7885283e8602264cd228bb2e23c"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a4c88f7885283e8602264cd228bb2e23c">test_container_clone</a></div><div class="ttdeci">static int test_container_clone(int res, struct ao2_container *orig, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00216">test_astobj2.c:216</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_abf9000b365764033bb24467c32152e4b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a></div><div class="ttdeci">static int test_sort_cb(const void *obj_left, const void *obj_right, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00158">test_astobj2.c:158</a></div></div>
<div class="ttc" id="utils_8h_html_a7b4f10b070e95ba413e258a3e4b03c20"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a></div><div class="ttdeci">long int ast_random(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02064">main/utils.c:2064</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00042">test_astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2f87a873c7ff5f3150044300fe83bb61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2f87a873c7ff5f3150044300fe83bb61">ao2_t_iterator_next</a></div><div class="ttdeci">#define ao2_t_iterator_next(iter, tag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01931">astobj2.h:1931</a></div></div>
<div class="ttc" id="astobj2_8h_html_aeca960ec22a1d0384f6e285b25df8501"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a></div><div class="ttdeci">#define ao2_t_callback(c, flags, cb_fn, arg, tag)</div><div class="ttdoc">ao2_callback() is a generic function that applies cb_fn() to all objects in a container, as described below. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01714">astobj2.h:1714</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab5c800b526ca7de022a0a3e79d0292ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab5c800b526ca7de022a0a3e79d0292ad">ao2_t_container_alloc_hash</a></div><div class="ttdeci">#define ao2_t_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn, tag)</div><div class="ttdoc">Allocate and initialize a hash container with the desired number of buckets. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01308">astobj2.h:1308</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a2cd812b3826f6e8b4dbe01105fed03ba"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a2cd812b3826f6e8b4dbe01105fed03ba">test_ao2_find_w_OBJ_PARTIAL_KEY</a></div><div class="ttdeci">static int test_ao2_find_w_OBJ_PARTIAL_KEY(int res, struct ao2_container *look_in, int limit, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00393">test_astobj2.c:393</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a5e2bbde140955f3935483750c6ab0f45"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a5e2bbde140955f3935483750c6ab0f45">test_hash_cb</a></div><div class="ttdeci">static int test_hash_cb(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00139">test_astobj2.c:139</a></div></div>
<div class="ttc" id="pbx__realtime_8c_html_a10b51e1931bd03dd172cbfb9d3d67efb"><div class="ttname"><a href="../../d2/d2c/pbx__realtime_8c.html#a10b51e1931bd03dd172cbfb9d3d67efb">cleanup</a></div><div class="ttdeci">static void * cleanup(void *unused)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2c/pbx__realtime_8c_source.html#l00124">pbx_realtime.c:124</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00043">test_astobj2.c:43</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a2ac27a519641753a72c7d70678a98a06"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a2ac27a519641753a72c7d70678a98a06">test_ao2_find_w_OBJ_POINTER</a></div><div class="ttdeci">static int test_ao2_find_w_OBJ_POINTER(int res, struct ao2_container *look_in, int limit, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00317">test_astobj2.c:317</a></div></div>
<div class="ttc" id="astobj2_8h_html_a5a6c944a290feba87599655a5cbd3942"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a5a6c944a290feba87599655a5cbd3942">ao2_t_container_alloc_rbtree</a></div><div class="ttdeci">#define ao2_t_container_alloc_rbtree(ao2_options, container_options, sort_fn, cmp_fn, tag)</div><div class="ttdoc">Allocate and initialize a red-black tree container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01356">astobj2.h:1356</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_afd64107b4f8d4ee93083dbb8e2f6e2c9"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#afd64107b4f8d4ee93083dbb8e2f6e2c9">test_container2str</a></div><div class="ttdeci">static const char * test_container2str(enum test_container_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00056">test_astobj2.c:56</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00044">test_astobj2.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0c81f93852da876ea3ce7bfa06432a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0c81f93852da876ea3ce7bfa06432a7">&#9670;&nbsp;</a></span>increment_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int increment_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00096">96</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   <span class="keywordtype">int</span> *<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = (<span class="keywordtype">int</span> *) arg;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;   *i = *i + 1;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a074d944a0c54877453be39d15d90b9d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a074d944a0c54877453be39d15d90b9d6">&#9670;&nbsp;</a></span>insert_test_duplicates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int insert_test_duplicates </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>destroy_counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01092">1092</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00856">ao2_container_check()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_obj::destructor_count</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00081">test_obj::dup_number</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00087">test_obj_destructor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01554">test_traversal_sorted()</a>.</p>
<div class="fragment"><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;{</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;   <span class="keywordtype">int</span> count;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj_dup;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;   <span class="comment">/* Check if object already exists in the container. */</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;   obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(container, &amp;<a class="code" href="../../d6/d49/structnumber.html">number</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;   <span class="keywordflow">if</span> (obj) {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Object %d already exists.\n&quot;</span>, <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, <a class="code" href="../../d6/d49/structnumber.html">number</a>);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;   }</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   <span class="comment">/* Add three duplicate keyed objects. */</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;   obj_dup = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;   <span class="keywordflow">for</span> (count = 0; count &lt; 4; ++count) {</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      obj = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a>), <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a>);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: ao2_alloc failed.\n&quot;</span>, <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;         <span class="keywordflow">if</span> (obj_dup) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj_dup, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;         }</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      }</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <span class="keywordflow">if</span> (destroy_counter) {</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;         <span class="comment">/* This object ultimately needs to be destroyed. */</span></div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;         ++*destroy_counter;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      }</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a> = destroy_counter;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d6/d49/structnumber.html">number</a>;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#aa816c09f91ca6718d9e2a12070909f1c">dup_number</a> = count;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(container, obj);</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <span class="keywordflow">if</span> (count == 2) {</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;         <span class="comment">/* Duplicate this object. */</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;         obj_dup = obj;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a>(container, 0)) {</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Container integrity check failed linking num:%d dup:%d\n&quot;</span>,</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, <a class="code" href="../../d6/d49/structnumber.html">number</a>, count);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;         <span class="keywordflow">if</span> (obj_dup) {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj_dup, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;         }</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      }</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;   }</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;   <span class="comment">/* Add the duplicate object. */</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(container, obj_dup);</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj_dup, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a>(container, 0)) {</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Container integrity check failed linking obj_dup\n&quot;</span>,</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;         <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>);</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;   }</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="structtest__obj_html_a85b1e1da18d227afa1523a747d93c8eb"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">test_obj::destructor_count</a></div><div class="ttdeci">int * destructor_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_astobj2.c:77</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1f6f2d47e32a867d75129a5e1f728192"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a></div><div class="ttdeci">static void test_obj_destructor(void *v_obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00087">test_astobj2.c:87</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structnumber_html"><div class="ttname"><a href="../../d6/d49/structnumber.html">number</a></div><div class="ttdoc">Number structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d55/app__followme_8c_source.html#l00154">app_followme.c:154</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3f39314e9c8139579f646e0e2f8d0bf5"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a></div><div class="ttdeci">int ao2_container_check(struct ao2_container *self, enum search_flags flags)</div><div class="ttdoc">Perform an integrity check on the specified container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00856">astobj2_container.c:856</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="structtest__obj_html_aa816c09f91ca6718d9e2a12070909f1c"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#aa816c09f91ca6718d9e2a12070909f1c">test_obj::dup_number</a></div><div class="ttdeci">int dup_number</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00081">test_astobj2.c:81</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae710ae4b292c4d22219ec90a1a3d085f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae710ae4b292c4d22219ec90a1a3d085f">&#9670;&nbsp;</a></span>insert_test_vector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int insert_test_vector </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>destroy_counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01040">1040</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00856">ao2_container_check()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_obj::destructor_count</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00087">test_obj_destructor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01348">test_traversal_nonsorted()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01554">test_traversal_sorted()</a>.</p>
<div class="fragment"><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;{</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; count; ++idx) {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      obj = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a>), <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a>);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: ao2_alloc failed.\n&quot;</span>, <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      }</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <span class="keywordflow">if</span> (destroy_counter) {</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;         <span class="comment">/* This object ultimately needs to be destroyed. */</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;         ++*destroy_counter;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      }</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a> = destroy_counter;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = vector[idx];</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(container, obj);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a>(container, 0)) {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Container integrity check failed linking vector[%d]:%d\n&quot;</span>,</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, idx, vector[idx]);</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(container) != idx + 1) {</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test,</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            <span class="stringliteral">&quot;%s: Unexpected container count.  Expected:%d Got:%d\n&quot;</span>,</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, idx + 1, <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(container));</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      }</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;   }</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="structtest__obj_html_a85b1e1da18d227afa1523a747d93c8eb"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">test_obj::destructor_count</a></div><div class="ttdeci">int * destructor_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_astobj2.c:77</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1f6f2d47e32a867d75129a5e1f728192"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a></div><div class="ttdeci">static void test_obj_destructor(void *v_obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00087">test_astobj2.c:87</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3f39314e9c8139579f646e0e2f8d0bf5"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a></div><div class="ttdeci">int ao2_container_check(struct ao2_container *self, enum search_flags flags)</div><div class="ttdoc">Perform an integrity check on the specified container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00856">astobj2_container.c:856</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l02064">2064</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, and <a class="el" href="../../d2/ddc/test_8h_source.html#l00127">AST_TEST_REGISTER</a>.</p>
<div class="fragment"><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;{</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(astobj2_test_1);</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(astobj2_test_2);</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(astobj2_test_3);</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(astobj2_test_4);</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(astobj2_test_perf);</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="test_8h_html_a34f64a69c09d98ceb693b077efd7ef97"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a></div><div class="ttdeci">#define AST_TEST_REGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00127">test.h:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a23627249e4f6063ddc9c45dc6b1a2f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23627249e4f6063ddc9c45dc6b1a2f4b">&#9670;&nbsp;</a></span>multiple_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int multiple_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00111">111</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   <span class="keywordtype">int</span> *<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = (<span class="keywordtype">int</span> *) arg;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *cmp_obj = (<span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *) obj;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <span class="keywordflow">return</span> (cmp_obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; *i) ? <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> : 0;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div><div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c7efce90c5a6bb192c83fad0b4e7f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c7efce90c5a6bb192c83fad0b4e7f1a">&#9670;&nbsp;</a></span>test_ao2_callback_traversal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_ao2_callback_traversal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a> *&#160;</td>
          <td class="paramname"><em>cmp_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01232">1232</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01348">test_traversal_nonsorted()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01554">test_traversal_sorted()</a>.</p>
<div class="fragment"><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;{</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> *mult_iter;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;   mult_iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(container, flags | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, cmp_fn, arg);</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;   <span class="keywordflow">if</span> (!mult_iter) {</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Did not return iterator.\n&quot;</span>, <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>);</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   }</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;   <span class="comment">/* Check matching objects against the given vector. */</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; count; ++idx) {</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(mult_iter);</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Too few objects found.\n&quot;</span>, <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      }</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keywordflow">if</span> (vector[idx] != obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Object %d != vector[%d] %d.\n&quot;</span>,</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>, idx, vector[idx]);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      }</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1); <span class="comment">/* remove ref from iterator */</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;   }</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;   obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(mult_iter);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;   <span class="keywordflow">if</span> (obj) {</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Too many objects found.  Object %d\n&quot;</span>,</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;         <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1); <span class="comment">/* remove ref from iterator */</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;   }</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(mult_iter);</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a81f9b970be638af460352360d2df47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a81f9b970be638af460352360d2df47">&#9670;&nbsp;</a></span>test_ao2_find_w_no_flags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_ao2_find_w_no_flags </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>look_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00278">278</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02064">ast_random()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <span class="keywordtype">int</span> num;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> tmp_obj = { 0, };</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="keywordflow">for</span> (num = 100; num--;) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      i = <a class="code" href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a>() % limit; <span class="comment">/* find a random object */</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      tmp_obj.<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(look_in, &amp;tmp_obj, 0);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;COULD NOT FIND:%d, ao2_find() with no flags failed.\n&quot;</span>, i);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;         <span class="keywordflow">if</span> (obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> != i) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;object %d does not match %d\n&quot;</span>, obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>, i);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;         }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="utils_8h_html_a7b4f10b070e95ba413e258a3e4b03c20"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a></div><div class="ttdeci">long int ast_random(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02064">main/utils.c:2064</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a71d1a03b0dda30606bb5a2c2e933e96f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71d1a03b0dda30606bb5a2c2e933e96f">&#9670;&nbsp;</a></span>test_ao2_find_w_OBJ_KEY()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_ao2_find_w_OBJ_KEY </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>look_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00356">356</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02064">ast_random()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   <span class="keywordtype">int</span> num;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <span class="keywordflow">for</span> (num = 75; num--;) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      i = <a class="code" href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a>() % limit; <span class="comment">/* find a random object */</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(look_in, &amp;i, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;COULD NOT FIND:%d, ao2_find() with OBJ_KEY flag failed.\n&quot;</span>, i);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;         <span class="keywordflow">if</span> (obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> != i) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;object %d does not match %d\n&quot;</span>, obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>, i);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;         }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="utils_8h_html_a7b4f10b070e95ba413e258a3e4b03c20"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a></div><div class="ttdeci">long int ast_random(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02064">main/utils.c:2064</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cd812b3826f6e8b4dbe01105fed03ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cd812b3826f6e8b4dbe01105fed03ba">&#9670;&nbsp;</a></span>test_ao2_find_w_OBJ_PARTIAL_KEY()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_ao2_find_w_OBJ_PARTIAL_KEY </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>look_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00393">393</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02064">ast_random()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01156">OBJ_PARTIAL_KEY</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00085">partial_key_match_range</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;{</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <span class="keywordtype">int</span> num;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   <span class="comment">/* Set partial match to find exactly. */</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   <a class="code" href="../../d6/d08/test__astobj2_8c.html#a45a96d697d505aacfafbcbcc269e9fb0">partial_key_match_range</a> = 0;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <span class="keywordflow">for</span> (num = 100; num--;) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      i = <a class="code" href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a>() % limit; <span class="comment">/* find a random object */</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(look_in, &amp;i, <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;COULD NOT FIND:%d, ao2_find() with OBJ_PARTIAL_KEY flag failed.\n&quot;</span>, i);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;         <span class="keywordflow">if</span> (obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> != i) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;object %d does not match %d\n&quot;</span>, obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>, i);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;         }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a45a96d697d505aacfafbcbcc269e9fb0"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a45a96d697d505aacfafbcbcc269e9fb0">partial_key_match_range</a></div><div class="ttdeci">int partial_key_match_range</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00085">test_astobj2.c:85</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab0b4e11aba1e0a898b5d75427d3b13fa"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a></div><div class="ttdeci">#define OBJ_PARTIAL_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01156">astobj2.h:1156</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="utils_8h_html_a7b4f10b070e95ba413e258a3e4b03c20"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a></div><div class="ttdeci">long int ast_random(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02064">main/utils.c:2064</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ac27a519641753a72c7d70678a98a06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ac27a519641753a72c7d70678a98a06">&#9670;&nbsp;</a></span>test_ao2_find_w_OBJ_POINTER()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_ao2_find_w_OBJ_POINTER </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>look_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00317">317</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02064">ast_random()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01154">OBJ_POINTER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <span class="keywordtype">int</span> num;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> tmp_obj = { 0, };</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="keywordflow">for</span> (num = 75; num--;) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      i = <a class="code" href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a>() % limit; <span class="comment">/* find a random object */</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      tmp_obj.<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(look_in, &amp;tmp_obj, <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;COULD NOT FIND:%d, ao2_find() with OBJ_POINTER flag failed.\n&quot;</span>, i);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;         <span class="keywordflow">if</span> (obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> != i) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;object %d does not match %d\n&quot;</span>, obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>, i);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;         }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2448088751e4d494d1981c7f4b84e8d0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a></div><div class="ttdeci">#define OBJ_POINTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01154">astobj2.h:1154</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="utils_8h_html_a7b4f10b070e95ba413e258a3e4b03c20"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a></div><div class="ttdeci">long int ast_random(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02064">main/utils.c:2064</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a51accc2c3490747b9c844dfe8516e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a51accc2c3490747b9c844dfe8516e2">&#9670;&nbsp;</a></span>test_ao2_iteration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_ao2_iteration </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6ab">ao2_iterator_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01171">1171</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01348">test_traversal_nonsorted()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01554">test_traversal_sorted()</a>.</p>
<div class="fragment"><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;{</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> iter;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(container) != count) {</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Container count doesn&#39;t match vector count.\n&quot;</span>,</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;         <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;   }</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;   iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(container, flags);</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;   <span class="comment">/* Check iterated objects against the given vector. */</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; count; ++idx) {</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;iter);</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Too few objects found.\n&quot;</span>, <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      }</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <span class="keywordflow">if</span> (vector[idx] != obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Object %d != vector[%d] %d.\n&quot;</span>,</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>, idx, vector[idx]);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      }</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1); <span class="comment">/* remove ref from iterator */</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;   }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;   obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;iter);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;   <span class="keywordflow">if</span> (obj) {</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Too many objects found.  Object %d\n&quot;</span>,</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;         <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1); <span class="comment">/* remove ref from iterator */</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;   }</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;iter);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b6b6b74f9c92cb3f50ff403eeeaac36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b6b6b74f9c92cb3f50ff403eeeaac36">&#9670;&nbsp;</a></span>test_cmp_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_cmp_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00119">119</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01156">OBJ_PARTIAL_KEY</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00085">partial_key_match_range</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00690">AST_TEST_DEFINE()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00967">test_make_nonsorted()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01000">test_make_sorted()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01925">test_performance()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01348">test_traversal_nonsorted()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01554">test_traversal_sorted()</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *cmp_obj = (<span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *) obj;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="keywordflow">if</span> (flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="keywordtype">int</span> *<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = (<span class="keywordtype">int</span> *) arg;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="keywordflow">return</span> (cmp_obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> == *i) ? <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> : 0;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a>) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keywordtype">int</span> *i = (<span class="keywordtype">int</span> *) arg;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span> (*i - partial_key_match_range &lt;= cmp_obj-&gt;i</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;         &amp;&amp; cmp_obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= *i + <a class="code" href="../../d6/d08/test__astobj2_8c.html#a45a96d697d505aacfafbcbcc269e9fb0">partial_key_match_range</a>) ? <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> : 0;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *arg_obj = (<span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *) arg;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordflow">return</span> (cmp_obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> == arg_obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>) ? <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> : 0;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div><div class="ttc" id="test__astobj2_8c_html_a45a96d697d505aacfafbcbcc269e9fb0"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a45a96d697d505aacfafbcbcc269e9fb0">partial_key_match_range</a></div><div class="ttdeci">int partial_key_match_range</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00085">test_astobj2.c:85</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab0b4e11aba1e0a898b5d75427d3b13fa"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a></div><div class="ttdeci">#define OBJ_PARTIAL_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01156">astobj2.h:1156</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afd64107b4f8d4ee93083dbb8e2f6e2c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd64107b4f8d4ee93083dbb8e2f6e2c9">&#9670;&nbsp;</a></span>test_container2str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* test_container2str </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00056">56</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00043">TEST_CONTAINER_HASH</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00042">TEST_CONTAINER_LIST</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00044">TEST_CONTAINER_RBTREE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01348">test_traversal_nonsorted()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01554">test_traversal_sorted()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01992">testloop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *c_type;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   c_type = <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>:</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      c_type = <span class="stringliteral">&quot;List&quot;</span>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>:</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      c_type = <span class="stringliteral">&quot;Hash&quot;</span>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>:</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      c_type = <span class="stringliteral">&quot;RBTree&quot;</span>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;   <span class="keywordflow">return</span> c_type;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00042">test_astobj2.c:42</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00043">test_astobj2.c:43</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00044">test_astobj2.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c88f7885283e8602264cd228bb2e23c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c88f7885283e8602264cd228bb2e23c">&#9670;&nbsp;</a></span>test_container_clone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_container_clone </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>orig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00216">216</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00856">ao2_container_check()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01430">ao2_container_clone</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00166">ao2_match_by_addr()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01714">ao2_t_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01931">ao2_t_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01154">OBJ_POINTER</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *clone;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj2;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> iter;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   clone = <a class="code" href="../../d5/da5/astobj2_8h.html#afb289446aea47e0ca2b4f54de137b0c7">ao2_container_clone</a>(orig, 0);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;   <span class="keywordflow">if</span> (!clone) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;ao2_container_clone failed.\n&quot;</span>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a>(clone, 0)) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;container integrity check failed\n&quot;</span>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(orig) != <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(clone)) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Cloned container does not have the same number of objects.\n&quot;</span>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(orig, 0);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">for</span> (; (obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a2f87a873c7ff5f3150044300fe83bb61">ao2_t_iterator_next</a>(&amp;iter, <span class="stringliteral">&quot;test orig&quot;</span>)); <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <span class="stringliteral">&quot;test orig&quot;</span>)) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">          * Unlink the matching object from the cloned container to make</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">          * the next search faster.  This is a big speed optimization!</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;         obj2 = <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(clone, <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a3af694648c6f4ef1defc943e2a4b53b8">ao2_match_by_addr</a>, obj,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="stringliteral">&quot;test clone&quot;</span>);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;         <span class="keywordflow">if</span> (obj2) {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj2, -1, <span class="stringliteral">&quot;test clone&quot;</span>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;         }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="stringliteral">&quot;Orig container has an object %p not in the clone container.\n&quot;</span>, obj);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;iter);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(clone)) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Cloned container still has objects.\n&quot;</span>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a>(clone, 0)) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;container integrity check failed\n&quot;</span>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(clone, -1, <span class="stringliteral">&quot;bye clone&quot;</span>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_afb289446aea47e0ca2b4f54de137b0c7"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#afb289446aea47e0ca2b4f54de137b0c7">ao2_container_clone</a></div><div class="ttdeci">#define ao2_container_clone(orig, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01430">astobj2.h:1430</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2448088751e4d494d1981c7f4b84e8d0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a></div><div class="ttdeci">#define OBJ_POINTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01154">astobj2.h:1154</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3f39314e9c8139579f646e0e2f8d0bf5"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3f39314e9c8139579f646e0e2f8d0bf5">ao2_container_check</a></div><div class="ttdeci">int ao2_container_check(struct ao2_container *self, enum search_flags flags)</div><div class="ttdoc">Perform an integrity check on the specified container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00856">astobj2_container.c:856</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2f87a873c7ff5f3150044300fe83bb61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2f87a873c7ff5f3150044300fe83bb61">ao2_t_iterator_next</a></div><div class="ttdeci">#define ao2_t_iterator_next(iter, tag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01931">astobj2.h:1931</a></div></div>
<div class="ttc" id="astobj2_8h_html_aeca960ec22a1d0384f6e285b25df8501"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a></div><div class="ttdeci">#define ao2_t_callback(c, flags, cb_fn, arg, tag)</div><div class="ttdoc">ao2_callback() is a generic function that applies cb_fn() to all objects in a container, as described below. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01714">astobj2.h:1714</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3af694648c6f4ef1defc943e2a4b53b8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3af694648c6f4ef1defc943e2a4b53b8">ao2_match_by_addr</a></div><div class="ttdeci">int ao2_match_by_addr(void *obj, void *arg, int flags)</div><div class="ttdoc">A common ao2_callback is one that matches by address. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00166">astobj2_container.c:166</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a466f9884ff4216e6753b9c34b2ebfa81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a466f9884ff4216e6753b9c34b2ebfa81">&#9670;&nbsp;</a></span>test_expected_duplicates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_expected_duplicates </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01289">1289</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00081">test_obj::dup_number</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01554">test_traversal_sorted()</a>.</p>
<div class="fragment"><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;{</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> *mult_iter;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;   mult_iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(container, &amp;<a class="code" href="../../d6/d49/structnumber.html">number</a>, flags | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>);</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;   <span class="keywordflow">if</span> (!mult_iter) {</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Did not return iterator.\n&quot;</span>, <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>);</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   }</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;   <span class="comment">/* Check matching objects against the given vector. */</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; count; ++idx) {</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(mult_iter);</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <span class="keywordflow">if</span> (!obj) {</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Too few objects found.\n&quot;</span>, <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>);</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      }</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d49/structnumber.html">number</a> != obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Object %d != %d.\n&quot;</span>,</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="../../d6/d49/structnumber.html">number</a>);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      }</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <span class="keywordflow">if</span> (vector[idx] != obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#aa816c09f91ca6718d9e2a12070909f1c">dup_number</a>) {</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%s: Object dup id %d != vector[%d] %d.\n&quot;</span>,</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;            <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#aa816c09f91ca6718d9e2a12070909f1c">dup_number</a>, idx, vector[idx]);</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      }</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1); <span class="comment">/* remove ref from iterator */</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;   }</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;   obj = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(mult_iter);</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;   <span class="keywordflow">if</span> (obj) {</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test,</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;         <span class="stringliteral">&quot;%s: Too many objects found.  Object %d, dup id %d\n&quot;</span>,</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;         <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>, obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#aa816c09f91ca6718d9e2a12070909f1c">dup_number</a>);</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj, -1); <span class="comment">/* remove ref from iterator */</span></div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;   }</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(mult_iter);</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="structnumber_html"><div class="ttname"><a href="../../d6/d49/structnumber.html">number</a></div><div class="ttdoc">Number structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d55/app__followme_8c_source.html#l00154">app_followme.c:154</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="structtest__obj_html_aa816c09f91ca6718d9e2a12070909f1c"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#aa816c09f91ca6718d9e2a12070909f1c">test_obj::dup_number</a></div><div class="ttdeci">int dup_number</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00081">test_astobj2.c:81</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e2bbde140955f3935483750c6ab0f45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e2bbde140955f3935483750c6ab0f45">&#9670;&nbsp;</a></span>test_hash_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_hash_cb </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00139">139</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01156">OBJ_PARTIAL_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00967">test_make_nonsorted()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01000">test_make_sorted()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01925">test_performance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;{</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <span class="keywordflow">if</span> (flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> *<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = obj;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">return</span> *<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a>) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="comment">/* This is absolutely wrong to be called with this flag value. */</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      abort();</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="comment">/* Just in case abort() doesn&#39;t work or something else super silly */</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      *((<span class="keywordtype">int</span> *) 0) = 0;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *hash_obj = obj;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">return</span> hash_obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab0b4e11aba1e0a898b5d75427d3b13fa"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a></div><div class="ttdeci">#define OBJ_PARTIAL_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01156">astobj2.h:1156</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a787556b237c6bc938e4ecee87ffa4e7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a787556b237c6bc938e4ecee87ffa4e7b">&#9670;&nbsp;</a></span>test_make_nonsorted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* test_make_nonsorted </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00967">967</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l00502">container</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_cmp_cb()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00043">TEST_CONTAINER_HASH</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00042">TEST_CONTAINER_LIST</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00044">TEST_CONTAINER_RBTREE</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00139">test_hash_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01348">test_traversal_nonsorted()</a>.</p>
<div class="fragment"><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;{</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   container = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>:</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      container = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>,</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>:</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      container = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>, 5,</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#a5e2bbde140955f3935483750c6ab0f45">test_hash_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>:</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="comment">/* Container type must be sorted. */</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a7b6b6b74f9c92cb3f50ff403eeeaac36"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a></div><div class="ttdeci">static int test_cmp_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_astobj2.c:119</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00042">test_astobj2.c:42</a></div></div>
<div class="ttc" id="res__fax_8c_html_a7ea220e4d14b05876af4430e9832ce47"><div class="ttname"><a href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a></div><div class="ttdeci">struct ao2_container * container</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d60/res__fax_8c_source.html#l00502">res_fax.c:502</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a5e2bbde140955f3935483750c6ab0f45"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a5e2bbde140955f3935483750c6ab0f45">test_hash_cb</a></div><div class="ttdeci">static int test_hash_cb(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00139">test_astobj2.c:139</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00043">test_astobj2.c:43</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00044">test_astobj2.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc6cac6c60588338f1bc1cf604592863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc6cac6c60588338f1bc1cf604592863">&#9670;&nbsp;</a></span>test_make_sorted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* test_make_sorted </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01000">1000</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01308">ao2_t_container_alloc_hash</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01333">ao2_t_container_alloc_list</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01356">ao2_t_container_alloc_rbtree</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l00502">container</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_cmp_cb()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00043">TEST_CONTAINER_HASH</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00042">TEST_CONTAINER_LIST</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00044">TEST_CONTAINER_RBTREE</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00139">test_hash_cb()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00158">test_sort_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01554">test_traversal_sorted()</a>.</p>
<div class="fragment"><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;{</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   container = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>:</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      container = <a class="code" href="../../d5/da5/astobj2_8h.html#a9655839d618bd82973896f957ed00e31">ao2_t_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>,</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>:</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      container = <a class="code" href="../../d5/da5/astobj2_8h.html#ab5c800b526ca7de022a0a3e79d0292ad">ao2_t_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>, 5,</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#a5e2bbde140955f3935483750c6ab0f45">test_hash_cb</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>:</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      container = <a class="code" href="../../d5/da5/astobj2_8h.html#a5a6c944a290feba87599655a5cbd3942">ao2_t_container_alloc_rbtree</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>,</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, <span class="stringliteral">&quot;test&quot;</span>);</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   }</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a7b6b6b74f9c92cb3f50ff403eeeaac36"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a></div><div class="ttdeci">static int test_cmp_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_astobj2.c:119</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9655839d618bd82973896f957ed00e31"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9655839d618bd82973896f957ed00e31">ao2_t_container_alloc_list</a></div><div class="ttdeci">#define ao2_t_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn, tag)</div><div class="ttdoc">Allocate and initialize a list container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01333">astobj2.h:1333</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_abf9000b365764033bb24467c32152e4b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a></div><div class="ttdeci">static int test_sort_cb(const void *obj_left, const void *obj_right, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00158">test_astobj2.c:158</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00042">test_astobj2.c:42</a></div></div>
<div class="ttc" id="res__fax_8c_html_a7ea220e4d14b05876af4430e9832ce47"><div class="ttname"><a href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a></div><div class="ttdeci">struct ao2_container * container</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d60/res__fax_8c_source.html#l00502">res_fax.c:502</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab5c800b526ca7de022a0a3e79d0292ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab5c800b526ca7de022a0a3e79d0292ad">ao2_t_container_alloc_hash</a></div><div class="ttdeci">#define ao2_t_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn, tag)</div><div class="ttdoc">Allocate and initialize a hash container with the desired number of buckets. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01308">astobj2.h:1308</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a5e2bbde140955f3935483750c6ab0f45"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a5e2bbde140955f3935483750c6ab0f45">test_hash_cb</a></div><div class="ttdeci">static int test_hash_cb(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00139">test_astobj2.c:139</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00043">test_astobj2.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a5a6c944a290feba87599655a5cbd3942"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a5a6c944a290feba87599655a5cbd3942">ao2_t_container_alloc_rbtree</a></div><div class="ttdeci">#define ao2_t_container_alloc_rbtree(ao2_options, container_options, sort_fn, cmp_fn, tag)</div><div class="ttdoc">Allocate and initialize a red-black tree container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01356">astobj2.h:1356</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00044">test_astobj2.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f6f2d47e32a867d75129a5e1f728192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f6f2d47e32a867d75129a5e1f728192">&#9670;&nbsp;</a></span>test_obj_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_obj_destructor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>v_obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00087">87</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_obj::destructor_count</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00690">AST_TEST_DEFINE()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01092">insert_test_duplicates()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01040">insert_test_vector()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01925">test_performance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *obj = (<span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *) v_obj;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   <span class="keywordflow">if</span> (obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a>) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      --*obj-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">destructor_count</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div><div class="ttc" id="structtest__obj_html_a85b1e1da18d227afa1523a747d93c8eb"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#a85b1e1da18d227afa1523a747d93c8eb">test_obj::destructor_count</a></div><div class="ttdeci">int * destructor_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_astobj2.c:77</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a059fcaa03a44c6708bea12b520a5b898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a059fcaa03a44c6708bea12b520a5b898">&#9670;&nbsp;</a></span>test_performance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> test_performance </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>copt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of objects inserted and searched for in the container under test.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01925">1925</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01358">ao2_container_alloc_rbtree</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d6/d08/test__astobj2_8c.html#ad15e0f6530352f2b65cb6147c597c61b">OBJS</a>, <a class="el" href="../../d8/db9/test_8c_source.html#l01211">test_cleanup()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_cmp_cb()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00043">TEST_CONTAINER_HASH</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00042">TEST_CONTAINER_LIST</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00044">TEST_CONTAINER_RBTREE</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00139">test_hash_cb()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00087">test_obj_destructor()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00158">test_sort_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01992">testloop()</a>.</p>
<div class="fragment"><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="comment"> * \brief The number of objects inserted and searched for in the container under test.</span></div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="preprocessor">#define OBJS 73</span></div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *c1 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *tobj[<a class="code" href="../../d6/d08/test__astobj2_8c.html#ad15e0f6530352f2b65cb6147c597c61b">OBJS</a>];</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *tobj2;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>:</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      c1 = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, copt, 17,</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#a5e2bbde140955f3935483750c6ab0f45">test_hash_cb</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>);</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>:</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      c1 = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, copt,</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>);</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>:</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;      c1 = <a class="code" href="../../d5/da5/astobj2_8h.html#a9657c4f40f012fc1d426c3c94b3d32c0">ao2_container_alloc_rbtree</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, copt,</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a>, <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>);</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;   }</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d08/test__astobj2_8c.html#ad15e0f6530352f2b65cb6147c597c61b">OBJS</a>; i++) {</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      tobj[<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;   }</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;   <span class="keywordflow">if</span> (!c1) {</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Container c1 creation failed.\n&quot;</span>);</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;   }</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d08/test__astobj2_8c.html#ad15e0f6530352f2b65cb6147c597c61b">OBJS</a>; i++) {</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      tobj[<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a>), <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a>);</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;      <span class="keywordflow">if</span> (!tobj[i]) {</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;test object creation failed.\n&quot;</span>);</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      }</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;      tobj[<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(c1, tobj[i]);</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;   }</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d08/test__astobj2_8c.html#ad15e0f6530352f2b65cb6147c597c61b">OBJS</a>; i++) {</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      <span class="keywordflow">if</span> ((!(tobj2 = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(c1, &amp;i, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>)))) {</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Should have found object %d in container.\n&quot;</span>, i);</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;         res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      }</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(tobj2, -1);</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;      tobj2 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;   }</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;<a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>:</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d08/test__astobj2_8c.html#ad15e0f6530352f2b65cb6147c597c61b">OBJS</a> ; i++) {</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(tobj[i]);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;   }</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(c1);</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a7b6b6b74f9c92cb3f50ff403eeeaac36"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a></div><div class="ttdeci">static int test_cmp_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_astobj2.c:119</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1f6f2d47e32a867d75129a5e1f728192"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1f6f2d47e32a867d75129a5e1f728192">test_obj_destructor</a></div><div class="ttdeci">static void test_obj_destructor(void *v_obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00087">test_astobj2.c:87</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_abf9000b365764033bb24467c32152e4b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#abf9000b365764033bb24467c32152e4b">test_sort_cb</a></div><div class="ttdeci">static int test_sort_cb(const void *obj_left, const void *obj_right, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00158">test_astobj2.c:158</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00042">test_astobj2.c:42</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_ad15e0f6530352f2b65cb6147c597c61b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#ad15e0f6530352f2b65cb6147c597c61b">OBJS</a></div><div class="ttdeci">#define OBJS</div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="test_8c_html_a65fe5c5b911f9df67968e778a9680379"><div class="ttname"><a href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a></div><div class="ttdeci">static void test_cleanup(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db9/test_8c_source.html#l01211">test.c:1211</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a5e2bbde140955f3935483750c6ab0f45"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a5e2bbde140955f3935483750c6ab0f45">test_hash_cb</a></div><div class="ttdeci">static int test_hash_cb(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00139">test_astobj2.c:139</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00043">test_astobj2.c:43</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9657c4f40f012fc1d426c3c94b3d32c0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9657c4f40f012fc1d426c3c94b3d32c0">ao2_container_alloc_rbtree</a></div><div class="ttdeci">#define ao2_container_alloc_rbtree(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01358">astobj2.h:1358</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00044">test_astobj2.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf9000b365764033bb24467c32152e4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf9000b365764033bb24467c32152e4b">&#9670;&nbsp;</a></span>test_sort_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_sort_cb </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj_right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00158">158</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00081">test_obj::dup_number</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01156">OBJ_PARTIAL_KEY</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00085">partial_key_match_range</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00421">astobj2_test_1_helper()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01000">test_make_sorted()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01925">test_performance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *test_left = obj_left;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <span class="keywordflow">if</span> (flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> *<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = obj_right;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">return</span> test_left-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> - *<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a>) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="keywordtype">int</span> *<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> = (<span class="keywordtype">int</span> *) obj_right;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">if</span> (*i - partial_key_match_range &lt;= test_left-&gt;i</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;         &amp;&amp; test_left-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= *i + <a class="code" href="../../d6/d08/test__astobj2_8c.html#a45a96d697d505aacfafbcbcc269e9fb0">partial_key_match_range</a>) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">return</span> test_left-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> - *<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d9/d4a/structtest__obj.html">test_obj</a> *test_right = obj_right;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">return</span> test_left-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a> - test_right-&gt;<a class="code" href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div><div class="ttc" id="test__astobj2_8c_html_a45a96d697d505aacfafbcbcc269e9fb0"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a45a96d697d505aacfafbcbcc269e9fb0">partial_key_match_range</a></div><div class="ttdeci">int partial_key_match_range</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00085">test_astobj2.c:85</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structtest__obj_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html#acb559820d9ca11295b4500f179ef6392">test_obj::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_astobj2.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab0b4e11aba1e0a898b5d75427d3b13fa"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a></div><div class="ttdeci">#define OBJ_PARTIAL_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01156">astobj2.h:1156</a></div></div>
<div class="ttc" id="structtest__obj_html"><div class="ttname"><a href="../../d9/d4a/structtest__obj.html">test_obj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00075">test_astobj2.c:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a993f5bf8f615aac672b3f5dc24d00ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a993f5bf8f615aac672b3f5dc24d00ba0">&#9670;&nbsp;</a></span>test_traversal_nonsorted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_traversal_nonsorted </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tst_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Container object insertion vector.</p>
<p>Container object insertion vector reversed. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01348">1348</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01176">AO2_CONTAINER_ALLOC_OPT_INSERT_BEGIN</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01895">AO2_ITERATOR_DESCENDING</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_obj::destructor_count</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01040">insert_test_vector()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01125">OBJ_ORDER_ASCENDING</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01127">OBJ_ORDER_DESCENDING</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01156">OBJ_PARTIAL_KEY</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00085">partial_key_match_range</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01232">test_ao2_callback_traversal()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01171">test_ao2_iteration()</a>, <a class="el" href="../../d8/db9/test_8c_source.html#l01211">test_cleanup()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_cmp_cb()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00056">test_container2str()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00043">TEST_CONTAINER_HASH</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00042">TEST_CONTAINER_LIST</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00044">TEST_CONTAINER_RBTREE</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00967">test_make_nonsorted()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01898">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;{</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *c1;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *c2 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;   <span class="keywordtype">int</span> partial;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;   <span class="keywordtype">int</span> destructor_count = 0;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="comment">   /*! Container object insertion vector. */</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_initial[] = {</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      1, 0, 2, 6, 4, 7, 5, 3, 9, 8</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;   };</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">   /*! Container object insertion vector reversed. */</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_reverse[] = {</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      8, 9, 3, 5, 7, 4, 6, 2, 0, 1</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;   };</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_list_partial_forward[] = {</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      6, 7, 5</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;   };</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_list_partial_backward[] = {</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      5, 7, 6</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;   };</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;   <span class="comment">/* The hash orders assume that there are 5 buckets. */</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_hash_end_forward[] = {</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      0, 5, 1, 6, 2, 7, 3, 8, 4, 9</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;   };</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_hash_end_backward[] = {</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      9, 4, 8, 3, 7, 2, 6, 1, 5, 0</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;   };</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_hash_begin_forward[] = {</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      5, 0, 6, 1, 7, 2, 8, 3, 9, 4</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;   };</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_hash_begin_backward[] = {</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      4, 9, 3, 8, 2, 7, 1, 6, 0, 5</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;   };</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_hash_partial_forward[] = {</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      5, 6, 7</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;   };</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_hash_partial_backward[] = {</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      7, 6, 5</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;   };</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Test %d, %s containers.\n&quot;</span>,</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      tst_num, <a class="code" href="../../d6/d08/test__astobj2_8c.html#afd64107b4f8d4ee93083dbb8e2f6e2c9">test_container2str</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>));</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;   <span class="comment">/* Create container that inserts objects at the end. */</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;   c1 = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a787556b237c6bc938e4ecee87ffa4e7b">test_make_nonsorted</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, 0);</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;   <span class="keywordflow">if</span> (!c1) {</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Container c1 creation failed.\n&quot;</span>);</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;   }</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a>(c1, &amp;destructor_count, test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial), <span class="stringliteral">&quot;c1&quot;</span>, test)) {</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;   }</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;   <span class="comment">/* Create container that inserts objects at the beginning. */</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;   c2 = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a787556b237c6bc938e4ecee87ffa4e7b">test_make_nonsorted</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca572586ed5de176d0301f441d283dc9f6">AO2_CONTAINER_ALLOC_OPT_INSERT_BEGIN</a>);</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;   <span class="keywordflow">if</span> (!c2) {</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Container c2 creation failed.\n&quot;</span>);</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;   }</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a>(c2, &amp;destructor_count, test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial), <span class="stringliteral">&quot;c2&quot;</span>, test)) {</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;   }</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;   <span class="comment">/* Check container iteration directions */</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>:</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a>(res, c1, 0,</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;         test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial),</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;         <span class="stringliteral">&quot;Iteration (ascending, insert end)&quot;</span>, test);</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6ababe6512b98f090eb679b56a7d9f545c5f">AO2_ITERATOR_DESCENDING</a>,</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;         test_reverse, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_reverse),</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;         <span class="stringliteral">&quot;Iteration (descending, insert end)&quot;</span>, test);</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a>(res, c2, 0,</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;         test_reverse, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_reverse),</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;         <span class="stringliteral">&quot;Iteration (ascending, insert begin)&quot;</span>, test);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a>(res, c2, <a class="code" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6ababe6512b98f090eb679b56a7d9f545c5f">AO2_ITERATOR_DESCENDING</a>,</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;         test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial),</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;         <span class="stringliteral">&quot;Iteration (descending, insert begin)&quot;</span>, test);</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>:</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a>(res, c1, 0,</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;         test_hash_end_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_end_forward),</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;         <span class="stringliteral">&quot;Iteration (ascending, insert end)&quot;</span>, test);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6ababe6512b98f090eb679b56a7d9f545c5f">AO2_ITERATOR_DESCENDING</a>,</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;         test_hash_end_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_end_backward),</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;         <span class="stringliteral">&quot;Iteration (descending, insert end)&quot;</span>, test);</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a>(res, c2, 0,</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;         test_hash_begin_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_begin_forward),</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;         <span class="stringliteral">&quot;Iteration (ascending, insert begin)&quot;</span>, test);</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a>(res, c2, <a class="code" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6ababe6512b98f090eb679b56a7d9f545c5f">AO2_ITERATOR_DESCENDING</a>,</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;         test_hash_begin_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_begin_backward),</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;         <span class="stringliteral">&quot;Iteration (descending, insert begin)&quot;</span>, test);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>:</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;   }</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;   <span class="comment">/* Check container traversal directions */</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>:</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;         test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial),</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;         <span class="stringliteral">&quot;Traversal (ascending, insert end)&quot;</span>, test);</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;         test_reverse, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_reverse),</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;         <span class="stringliteral">&quot;Traversal (descending, insert end)&quot;</span>, test);</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c2, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;         test_reverse, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_reverse),</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;         <span class="stringliteral">&quot;Traversal (ascending, insert begin)&quot;</span>, test);</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c2, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;         test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial),</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;         <span class="stringliteral">&quot;Traversal (descending, insert begin)&quot;</span>, test);</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>:</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;         test_hash_end_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_end_forward),</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;         <span class="stringliteral">&quot;Traversal (ascending, insert end)&quot;</span>, test);</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;         test_hash_end_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_end_backward),</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;         <span class="stringliteral">&quot;Traversal (descending, insert end)&quot;</span>, test);</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c2, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;         test_hash_begin_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_begin_forward),</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;         <span class="stringliteral">&quot;Traversal (ascending, insert begin)&quot;</span>, test);</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c2, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;         test_hash_begin_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_begin_backward),</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;         <span class="stringliteral">&quot;Traversal (descending, insert begin)&quot;</span>, test);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>:</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;   }</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;   <span class="comment">/* Check traversal with OBJ_PARTIAL_KEY search range. */</span></div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;   partial = 6;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;   <a class="code" href="../../d6/d08/test__astobj2_8c.html#a45a96d697d505aacfafbcbcc269e9fb0">partial_key_match_range</a> = 1;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>:</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>,</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, &amp;partial,</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;         test_list_partial_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_list_partial_forward),</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;         <span class="stringliteral">&quot;Traversal OBJ_PARTIAL_KEY (ascending)&quot;</span>, test);</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>,</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, &amp;partial,</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;         test_list_partial_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_list_partial_backward),</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;         <span class="stringliteral">&quot;Traversal OBJ_PARTIAL_KEY (descending)&quot;</span>, test);</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>:</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>,</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, &amp;partial,</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;         test_hash_partial_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_partial_forward),</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;         <span class="stringliteral">&quot;Traversal OBJ_PARTIAL_KEY (ascending)&quot;</span>, test);</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>,</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, &amp;partial,</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;         test_hash_partial_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_partial_backward),</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;         <span class="stringliteral">&quot;Traversal OBJ_PARTIAL_KEY (descending)&quot;</span>, test);</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>:</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;   }</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>:</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;   <span class="comment">/* destroy containers */</span></div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;   <span class="keywordflow">if</span> (c1) {</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(c1, -1, <span class="stringliteral">&quot;bye c1&quot;</span>);</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;   }</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;   <span class="keywordflow">if</span> (c2) {</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(c2, -1, <span class="stringliteral">&quot;bye c2&quot;</span>);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;   }</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;   <span class="keywordflow">if</span> (destructor_count &gt; 0) {</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test,</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;         <span class="stringliteral">&quot;all destructors were not called, destructor count is %d\n&quot;</span>,</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;         destructor_count);</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (destructor_count &lt; 0) {</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test,</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;         <span class="stringliteral">&quot;Destructor was called too many times, destructor count is %d\n&quot;</span>,</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;         destructor_count);</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;   }</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a45a96d697d505aacfafbcbcc269e9fb0"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a45a96d697d505aacfafbcbcc269e9fb0">partial_key_match_range</a></div><div class="ttdeci">int partial_key_match_range</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00085">test_astobj2.c:85</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1a51accc2c3490747b9c844dfe8516e2"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a></div><div class="ttdeci">static int test_ao2_iteration(int res, struct ao2_container *container, enum ao2_iterator_flags flags, const int *vector, int count, const char *prefix, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01171">test_astobj2.c:1171</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a7b6b6b74f9c92cb3f50ff403eeeaac36"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a></div><div class="ttdeci">static int test_cmp_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_astobj2.c:119</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7b5de2aa80f528d3dc554caadb8dc6ababe6512b98f090eb679b56a7d9f545c5f"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6ababe6512b98f090eb679b56a7d9f545c5f">AO2_ITERATOR_DESCENDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01895">astobj2.h:1895</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a787556b237c6bc938e4ecee87ffa4e7b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a787556b237c6bc938e4ecee87ffa4e7b">test_make_nonsorted</a></div><div class="ttdeci">static struct ao2_container * test_make_nonsorted(enum test_container_type type, int options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00967">test_astobj2.c:967</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_afe7a6b368052cb171d371d873b7520aca572586ed5de176d0301f441d283dc9f6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca572586ed5de176d0301f441d283dc9f6">AO2_CONTAINER_ALLOC_OPT_INSERT_BEGIN</a></div><div class="ttdoc">Insert objects at the beginning of the container. (Otherwise it is the opposite; insert at the end...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01176">astobj2.h:1176</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab0b4e11aba1e0a898b5d75427d3b13fa"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a></div><div class="ttdeci">#define OBJ_PARTIAL_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01156">astobj2.h:1156</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a></div><div class="ttdoc">Traverse in ascending order (First to last container object) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01125">astobj2.h:1125</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00042">test_astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a></div><div class="ttdoc">Traverse in descending order (Last to first container object) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01127">astobj2.h:1127</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a9c7efce90c5a6bb192c83fad0b4e7f1a"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a></div><div class="ttdeci">static int test_ao2_callback_traversal(int res, struct ao2_container *container, enum search_flags flags, ao2_callback_fn *cmp_fn, void *arg, const int *vector, int count, const char *prefix, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01232">test_astobj2.c:1232</a></div></div>
<div class="ttc" id="test_8c_html_a65fe5c5b911f9df67968e778a9680379"><div class="ttname"><a href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a></div><div class="ttdeci">static void test_cleanup(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db9/test_8c_source.html#l01211">test.c:1211</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00043">test_astobj2.c:43</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_ae710ae4b292c4d22219ec90a1a3d085f"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a></div><div class="ttdeci">static int insert_test_vector(struct ao2_container *container, int *destroy_counter, const int *vector, int count, const char *prefix, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01040">test_astobj2.c:1040</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_afd64107b4f8d4ee93083dbb8e2f6e2c9"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#afd64107b4f8d4ee93083dbb8e2f6e2c9">test_container2str</a></div><div class="ttdeci">static const char * test_container2str(enum test_container_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00056">test_astobj2.c:56</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00044">test_astobj2.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a210a686b2a441a4a604aed485e8d4573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a210a686b2a441a4a604aed485e8d4573">&#9670;&nbsp;</a></span>test_traversal_sorted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_traversal_sorted </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tst_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Container object insertion vector.</p>
<p>Container forward traversal/iteration.</p>
<p>Container backward traversal/iteration. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01554">1554</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01185">AO2_CONTAINER_ALLOC_OPT_DUPS_ALLOW</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01205">AO2_CONTAINER_ALLOC_OPT_DUPS_OBJ_REJECT</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01192">AO2_CONTAINER_ALLOC_OPT_DUPS_REJECT</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01215">AO2_CONTAINER_ALLOC_OPT_DUPS_REPLACE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01176">AO2_CONTAINER_ALLOC_OPT_INSERT_BEGIN</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00792">ao2_container_dump()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00819">ao2_container_stats()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01895">AO2_ITERATOR_DESCENDING</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d8/db9/test_8c_source.html#l00113">ast_test_debug()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00077">test_obj::destructor_count</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01092">insert_test_duplicates()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01040">insert_test_vector()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01125">OBJ_ORDER_ASCENDING</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01127">OBJ_ORDER_DESCENDING</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01156">OBJ_PARTIAL_KEY</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00085">partial_key_match_range</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01232">test_ao2_callback_traversal()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01171">test_ao2_iteration()</a>, <a class="el" href="../../d8/db9/test_8c_source.html#l01211">test_cleanup()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_cmp_cb()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00056">test_container2str()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00043">TEST_CONTAINER_HASH</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00042">TEST_CONTAINER_LIST</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00044">TEST_CONTAINER_RBTREE</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01289">test_expected_duplicates()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01000">test_make_sorted()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01898">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;{</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *c1;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *c2 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;   <span class="keywordtype">int</span> partial;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;   <span class="keywordtype">int</span> destructor_count = 0;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;   <span class="keywordtype">int</span> duplicate_number = 100;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="comment">   /*! Container object insertion vector. */</span></div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_initial[] = {</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      1, 0, 2, 6, 4, 7, 5, 3, 9, 8</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;   };</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="comment">   /*! Container forward traversal/iteration. */</span></div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_forward[] = {</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      0, 1, 2, 3, 4, 5, 6, 7, 8, 9</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;   };<span class="comment"></span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment">   /*! Container backward traversal/iteration. */</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_backward[] = {</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      9, 8, 7, 6, 5, 4, 3, 2, 1, 0</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;   };</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_partial_forward[] = {</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      5, 6, 7</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;   };</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_partial_backward[] = {</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      7, 6, 5</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;   };</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;   <span class="comment">/* The hash orders assume that there are 5 buckets. */</span></div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_hash_forward[] = {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      0, 5, 1, 6, 2, 7, 3, 8, 4, 9</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;   };</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_hash_backward[] = {</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      9, 4, 8, 3, 7, 2, 6, 1, 5, 0</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;   };</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_hash_partial_forward[] = {</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      5, 6, 7</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;   };</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_hash_partial_backward[] = {</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      7, 6, 5</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;   };</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;   <span class="comment">/* Duplicate identifier order */</span></div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_dup_allow_forward[] = {</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      0, 1, 2, 3, 2</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;   };</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_dup_allow_backward[] = {</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      2, 3, 2, 1, 0</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;   };</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_dup_reject[] = {</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      0</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;   };</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_dup_obj_reject_forward[] = {</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;      0, 1, 2, 3</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;   };</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_dup_obj_reject_backward[] = {</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      3, 2, 1, 0</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;   };</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> test_dup_replace[] = {</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      2</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;   };</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Test %d, %s containers.\n&quot;</span>,</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      tst_num, <a class="code" href="../../d6/d08/test__astobj2_8c.html#afd64107b4f8d4ee93083dbb8e2f6e2c9">test_container2str</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>));</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;   <span class="comment">/* Create container that inserts duplicate objects after matching objects. */</span></div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;   c1 = <a class="code" href="../../d6/d08/test__astobj2_8c.html#abc6cac6c60588338f1bc1cf604592863">test_make_sorted</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca6eebd7656b574b9640d1460da84f771b">AO2_CONTAINER_ALLOC_OPT_DUPS_ALLOW</a>);</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;   <span class="keywordflow">if</span> (!c1) {</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Container c1 creation failed.\n&quot;</span>);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;   }</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a>(c1, &amp;destructor_count, test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial), <span class="stringliteral">&quot;c1(DUPS_ALLOW)&quot;</span>, test)) {</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;   }</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;   <span class="comment">/* Create container that inserts duplicate objects before matching objects. */</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;   c2 = <a class="code" href="../../d6/d08/test__astobj2_8c.html#abc6cac6c60588338f1bc1cf604592863">test_make_sorted</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca572586ed5de176d0301f441d283dc9f6">AO2_CONTAINER_ALLOC_OPT_INSERT_BEGIN</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca6eebd7656b574b9640d1460da84f771b">AO2_CONTAINER_ALLOC_OPT_DUPS_ALLOW</a>);</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;   <span class="keywordflow">if</span> (!c2) {</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Container c2 creation failed.\n&quot;</span>);</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;   }</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a>(c2, &amp;destructor_count, test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial), <span class="stringliteral">&quot;c2(DUPS_ALLOW)&quot;</span>, test)) {</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;   }</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="preprocessor">#if defined(TEST_CONTAINER_DEBUG_DUMP)</span></div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ac7d4a4a47aa65ff7edd53bac70bd1a90">ao2_container_dump</a>(c1, 0, <span class="stringliteral">&quot;c1(DUPS_ALLOW)&quot;</span>, (<span class="keywordtype">void</span> *) test, (<a class="code" href="../../d5/da5/astobj2_8h.html#af236ed10cd1eddcbad0579ed0cf9f4c5">ao2_prnt_fn</a> *) <a class="code" href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a>, test_prnt_obj);</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a747dacdc275ea957cda1b6dde3d7d290">ao2_container_stats</a>(c1, 0, <span class="stringliteral">&quot;c1(DUPS_ALLOW)&quot;</span>, (<span class="keywordtype">void</span> *) test, (<a class="code" href="../../d5/da5/astobj2_8h.html#af236ed10cd1eddcbad0579ed0cf9f4c5">ao2_prnt_fn</a> *) <a class="code" href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a>);</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ac7d4a4a47aa65ff7edd53bac70bd1a90">ao2_container_dump</a>(c2, 0, <span class="stringliteral">&quot;c2(DUPS_ALLOW)&quot;</span>, (<span class="keywordtype">void</span> *) test, (<a class="code" href="../../d5/da5/astobj2_8h.html#af236ed10cd1eddcbad0579ed0cf9f4c5">ao2_prnt_fn</a> *) <a class="code" href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a>, test_prnt_obj);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a747dacdc275ea957cda1b6dde3d7d290">ao2_container_stats</a>(c2, 0, <span class="stringliteral">&quot;c2(DUPS_ALLOW)&quot;</span>, (<span class="keywordtype">void</span> *) test, (<a class="code" href="../../d5/da5/astobj2_8h.html#af236ed10cd1eddcbad0579ed0cf9f4c5">ao2_prnt_fn</a> *) <a class="code" href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a>);</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="preprocessor">#endif   </span><span class="comment">/* defined(TEST_CONTAINER_DEBUG_DUMP) */</span><span class="preprocessor"></span></div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;   <span class="comment">/* Check container iteration directions */</span></div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>:</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>:</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a>(res, c1, 0,</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;         test_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_forward),</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;         <span class="stringliteral">&quot;Iteration (ascending)&quot;</span>, test);</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6ababe6512b98f090eb679b56a7d9f545c5f">AO2_ITERATOR_DESCENDING</a>,</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;         test_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_backward),</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;         <span class="stringliteral">&quot;Iteration (descending)&quot;</span>, test);</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>:</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a>(res, c1, 0,</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;         test_hash_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_forward),</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;         <span class="stringliteral">&quot;Iteration (ascending)&quot;</span>, test);</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6ababe6512b98f090eb679b56a7d9f545c5f">AO2_ITERATOR_DESCENDING</a>,</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;         test_hash_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_backward),</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;         <span class="stringliteral">&quot;Iteration (descending)&quot;</span>, test);</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;   }</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;   <span class="comment">/* Check container traversal directions */</span></div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>:</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>:</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;         test_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_forward),</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;         <span class="stringliteral">&quot;Traversal (ascending)&quot;</span>, test);</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;         test_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_backward),</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;         <span class="stringliteral">&quot;Traversal (descending)&quot;</span>, test);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>:</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;         test_hash_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_forward),</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;         <span class="stringliteral">&quot;Traversal (ascending, insert end)&quot;</span>, test);</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;         test_hash_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_backward),</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;         <span class="stringliteral">&quot;Traversal (descending)&quot;</span>, test);</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;   }</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;   <span class="comment">/* Check traversal with OBJ_PARTIAL_KEY search range. */</span></div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;   partial = 6;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;   <a class="code" href="../../d6/d08/test__astobj2_8c.html#a45a96d697d505aacfafbcbcc269e9fb0">partial_key_match_range</a> = 1;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a>:</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a>:</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>,</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, &amp;partial,</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;         test_partial_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_partial_forward),</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;         <span class="stringliteral">&quot;Traversal OBJ_PARTIAL_KEY (ascending)&quot;</span>, test);</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>,</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, &amp;partial,</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;         test_partial_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_partial_backward),</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;         <span class="stringliteral">&quot;Traversal OBJ_PARTIAL_KEY (descending)&quot;</span>, test);</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a>:</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>,</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, &amp;partial,</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;         test_hash_partial_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_partial_forward),</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;         <span class="stringliteral">&quot;Traversal OBJ_PARTIAL_KEY (ascending)&quot;</span>, test);</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>,</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;         <a class="code" href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a>, &amp;partial,</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;         test_hash_partial_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_hash_partial_backward),</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;         <span class="stringliteral">&quot;Traversal OBJ_PARTIAL_KEY (descending)&quot;</span>, test);</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;   }</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;   <span class="comment">/* Add duplicates to initial containers that allow duplicates */</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#a074d944a0c54877453be39d15d90b9d6">insert_test_duplicates</a>(c1, &amp;destructor_count, duplicate_number, <span class="stringliteral">&quot;c1(DUPS_ALLOW)&quot;</span>, test)) {</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;   }</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#a074d944a0c54877453be39d15d90b9d6">insert_test_duplicates</a>(c2, &amp;destructor_count, duplicate_number, <span class="stringliteral">&quot;c2(DUPS_ALLOW)&quot;</span>, test)) {</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;   }</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="preprocessor">#if defined(TEST_CONTAINER_DEBUG_DUMP)</span></div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ac7d4a4a47aa65ff7edd53bac70bd1a90">ao2_container_dump</a>(c1, 0, <span class="stringliteral">&quot;c1(DUPS_ALLOW) w/ dups&quot;</span>, (<span class="keywordtype">void</span> *) test, (<a class="code" href="../../d5/da5/astobj2_8h.html#af236ed10cd1eddcbad0579ed0cf9f4c5">ao2_prnt_fn</a> *) <a class="code" href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a>, test_prnt_obj);</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a747dacdc275ea957cda1b6dde3d7d290">ao2_container_stats</a>(c1, 0, <span class="stringliteral">&quot;c1(DUPS_ALLOW) w/ dups&quot;</span>, (<span class="keywordtype">void</span> *) test, (<a class="code" href="../../d5/da5/astobj2_8h.html#af236ed10cd1eddcbad0579ed0cf9f4c5">ao2_prnt_fn</a> *) <a class="code" href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a>);</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ac7d4a4a47aa65ff7edd53bac70bd1a90">ao2_container_dump</a>(c2, 0, <span class="stringliteral">&quot;c2(DUPS_ALLOW) w/ dups&quot;</span>, (<span class="keywordtype">void</span> *) test, (<a class="code" href="../../d5/da5/astobj2_8h.html#af236ed10cd1eddcbad0579ed0cf9f4c5">ao2_prnt_fn</a> *) <a class="code" href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a>, test_prnt_obj);</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a747dacdc275ea957cda1b6dde3d7d290">ao2_container_stats</a>(c2, 0, <span class="stringliteral">&quot;c2(DUPS_ALLOW) w/ dups&quot;</span>, (<span class="keywordtype">void</span> *) test, (<a class="code" href="../../d5/da5/astobj2_8h.html#af236ed10cd1eddcbad0579ed0cf9f4c5">ao2_prnt_fn</a> *) <a class="code" href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a>);</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="preprocessor">#endif   </span><span class="comment">/* defined(TEST_CONTAINER_DEBUG_DUMP) */</span><span class="preprocessor"></span></div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;   <span class="comment">/* Check duplicates in containers that allow duplicates. */</span></div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a466f9884ff4216e6753b9c34b2ebfa81">test_expected_duplicates</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>, duplicate_number,</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;      test_dup_allow_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_dup_allow_forward),</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;      <span class="stringliteral">&quot;Duplicates (ascending, DUPS_ALLOW)&quot;</span>, test);</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a466f9884ff4216e6753b9c34b2ebfa81">test_expected_duplicates</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>, duplicate_number,</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;      test_dup_allow_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_dup_allow_backward),</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      <span class="stringliteral">&quot;Duplicates (descending, DUPS_ALLOW)&quot;</span>, test);</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(c1, -1, <span class="stringliteral">&quot;bye c1&quot;</span>);</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;   c1 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(c2, -1, <span class="stringliteral">&quot;bye c2&quot;</span>);</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;   c2 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;   <span class="comment">/* Create containers that reject duplicate keyed objects. */</span></div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;   c1 = <a class="code" href="../../d6/d08/test__astobj2_8c.html#abc6cac6c60588338f1bc1cf604592863">test_make_sorted</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520acadaba53a115685d6a8944dd2c6a8d7bfb">AO2_CONTAINER_ALLOC_OPT_DUPS_REJECT</a>);</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;   <span class="keywordflow">if</span> (!c1) {</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Container c1 creation failed.\n&quot;</span>);</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;   }</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a>(c1, &amp;destructor_count, test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial), <span class="stringliteral">&quot;c1(DUPS_REJECT)&quot;</span>, test)) {</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;   }</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#a074d944a0c54877453be39d15d90b9d6">insert_test_duplicates</a>(c1, &amp;destructor_count, duplicate_number, <span class="stringliteral">&quot;c1(DUPS_REJECT)&quot;</span>, test)) {</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;   }</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;   c2 = <a class="code" href="../../d6/d08/test__astobj2_8c.html#abc6cac6c60588338f1bc1cf604592863">test_make_sorted</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca572586ed5de176d0301f441d283dc9f6">AO2_CONTAINER_ALLOC_OPT_INSERT_BEGIN</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520acadaba53a115685d6a8944dd2c6a8d7bfb">AO2_CONTAINER_ALLOC_OPT_DUPS_REJECT</a>);</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;   <span class="keywordflow">if</span> (!c2) {</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Container c2 creation failed.\n&quot;</span>);</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;   }</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a>(c2, &amp;destructor_count, test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial), <span class="stringliteral">&quot;c2(DUPS_REJECT)&quot;</span>, test)) {</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;   }</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#a074d944a0c54877453be39d15d90b9d6">insert_test_duplicates</a>(c2, &amp;destructor_count, duplicate_number, <span class="stringliteral">&quot;c2(DUPS_REJECT)&quot;</span>, test)) {</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;   }</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;   <span class="comment">/* Check duplicates in containers that reject duplicate keyed objects. */</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a466f9884ff4216e6753b9c34b2ebfa81">test_expected_duplicates</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>, duplicate_number,</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      test_dup_reject, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_dup_reject),</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      <span class="stringliteral">&quot;Duplicates (ascending, DUPS_REJECT)&quot;</span>, test);</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a466f9884ff4216e6753b9c34b2ebfa81">test_expected_duplicates</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>, duplicate_number,</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      test_dup_reject, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_dup_reject),</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;      <span class="stringliteral">&quot;Duplicates (descending, DUPS_REJECT)&quot;</span>, test);</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(c1, -1, <span class="stringliteral">&quot;bye c1&quot;</span>);</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;   c1 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(c2, -1, <span class="stringliteral">&quot;bye c2&quot;</span>);</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;   c2 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;   <span class="comment">/* Create containers that reject duplicate objects. */</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;   c1 = <a class="code" href="../../d6/d08/test__astobj2_8c.html#abc6cac6c60588338f1bc1cf604592863">test_make_sorted</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca2ee9edd754d08a5f1773d48534c15dfa">AO2_CONTAINER_ALLOC_OPT_DUPS_OBJ_REJECT</a>);</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;   <span class="keywordflow">if</span> (!c1) {</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Container c1 creation failed.\n&quot;</span>);</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;   }</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a>(c1, &amp;destructor_count, test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial), <span class="stringliteral">&quot;c1(DUPS_OBJ_REJECT)&quot;</span>, test)) {</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;   }</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#a074d944a0c54877453be39d15d90b9d6">insert_test_duplicates</a>(c1, &amp;destructor_count, duplicate_number, <span class="stringliteral">&quot;c1(DUPS_OBJ_REJECT)&quot;</span>, test)) {</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;   }</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;   c2 = <a class="code" href="../../d6/d08/test__astobj2_8c.html#abc6cac6c60588338f1bc1cf604592863">test_make_sorted</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca572586ed5de176d0301f441d283dc9f6">AO2_CONTAINER_ALLOC_OPT_INSERT_BEGIN</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca2ee9edd754d08a5f1773d48534c15dfa">AO2_CONTAINER_ALLOC_OPT_DUPS_OBJ_REJECT</a>);</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;   <span class="keywordflow">if</span> (!c2) {</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Container c2 creation failed.\n&quot;</span>);</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;   }</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a>(c2, &amp;destructor_count, test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial), <span class="stringliteral">&quot;c2(DUPS_OBJ_REJECT)&quot;</span>, test)) {</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;   }</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#a074d944a0c54877453be39d15d90b9d6">insert_test_duplicates</a>(c2, &amp;destructor_count, duplicate_number, <span class="stringliteral">&quot;c2(DUPS_OBJ_REJECT)&quot;</span>, test)) {</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;   }</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;   <span class="comment">/* Check duplicates in containers that reject duplicate objects. */</span></div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a466f9884ff4216e6753b9c34b2ebfa81">test_expected_duplicates</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>, duplicate_number,</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      test_dup_obj_reject_forward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_dup_obj_reject_forward),</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <span class="stringliteral">&quot;Duplicates (ascending, DUPS_OBJ_REJECT)&quot;</span>, test);</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a466f9884ff4216e6753b9c34b2ebfa81">test_expected_duplicates</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>, duplicate_number,</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      test_dup_obj_reject_backward, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_dup_obj_reject_backward),</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;      <span class="stringliteral">&quot;Duplicates (descending, DUPS_OBJ_REJECT)&quot;</span>, test);</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(c1, -1, <span class="stringliteral">&quot;bye c1&quot;</span>);</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;   c1 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(c2, -1, <span class="stringliteral">&quot;bye c2&quot;</span>);</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;   c2 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;   <span class="comment">/* Create container that replaces duplicate keyed objects. */</span></div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;   c1 = <a class="code" href="../../d6/d08/test__astobj2_8c.html#abc6cac6c60588338f1bc1cf604592863">test_make_sorted</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520acadb2bfd83bc54a380d86d3a9b02d99c35">AO2_CONTAINER_ALLOC_OPT_DUPS_REPLACE</a>);</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;   <span class="keywordflow">if</span> (!c1) {</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Container c1 creation failed.\n&quot;</span>);</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;   }</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a>(c1, &amp;destructor_count, test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial), <span class="stringliteral">&quot;c1(DUPS_REJECT)&quot;</span>, test)) {</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;   }</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#a074d944a0c54877453be39d15d90b9d6">insert_test_duplicates</a>(c1, &amp;destructor_count, duplicate_number, <span class="stringliteral">&quot;c1(DUPS_REJECT)&quot;</span>, test)) {</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;   }</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;   c2 = <a class="code" href="../../d6/d08/test__astobj2_8c.html#abc6cac6c60588338f1bc1cf604592863">test_make_sorted</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca572586ed5de176d0301f441d283dc9f6">AO2_CONTAINER_ALLOC_OPT_INSERT_BEGIN</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520acadb2bfd83bc54a380d86d3a9b02d99c35">AO2_CONTAINER_ALLOC_OPT_DUPS_REPLACE</a>);</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;   <span class="keywordflow">if</span> (!c2) {</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Container c2 creation failed.\n&quot;</span>);</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;   }</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a>(c2, &amp;destructor_count, test_initial, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_initial), <span class="stringliteral">&quot;c2(DUPS_REPLACE)&quot;</span>, test)) {</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;   }</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d08/test__astobj2_8c.html#a074d944a0c54877453be39d15d90b9d6">insert_test_duplicates</a>(c2, &amp;destructor_count, duplicate_number, <span class="stringliteral">&quot;c2(DUPS_REPLACE)&quot;</span>, test)) {</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;   }</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;   <span class="comment">/* Check duplicates in containers that replaces duplicate keyed objects. */</span></div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a466f9884ff4216e6753b9c34b2ebfa81">test_expected_duplicates</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a>, duplicate_number,</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      test_dup_replace, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_dup_replace),</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <span class="stringliteral">&quot;Duplicates (ascending, DUPS_REPLACE)&quot;</span>, test);</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;   res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a466f9884ff4216e6753b9c34b2ebfa81">test_expected_duplicates</a>(res, c1, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a>, duplicate_number,</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      test_dup_replace, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(test_dup_replace),</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;      <span class="stringliteral">&quot;Duplicates (descending, DUPS_REPLACE)&quot;</span>, test);</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;<a class="code" href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a>:</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;   <span class="comment">/* destroy containers */</span></div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;   <span class="keywordflow">if</span> (c1) {</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(c1, -1, <span class="stringliteral">&quot;bye c1&quot;</span>);</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;   }</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;   <span class="keywordflow">if</span> (c2) {</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(c2, -1, <span class="stringliteral">&quot;bye c2&quot;</span>);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;   }</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;   <span class="keywordflow">if</span> (destructor_count &gt; 0) {</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test,</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;         <span class="stringliteral">&quot;all destructors were not called, destructor count is %d\n&quot;</span>,</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;         destructor_count);</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (destructor_count &lt; 0) {</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test,</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;         <span class="stringliteral">&quot;Destructor was called too many times, destructor count is %d\n&quot;</span>,</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;         destructor_count);</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;   }</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a074d944a0c54877453be39d15d90b9d6"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a074d944a0c54877453be39d15d90b9d6">insert_test_duplicates</a></div><div class="ttdeci">static int insert_test_duplicates(struct ao2_container *container, int *destroy_counter, int number, const char *prefix, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01092">test_astobj2.c:1092</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac7d4a4a47aa65ff7edd53bac70bd1a90"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac7d4a4a47aa65ff7edd53bac70bd1a90">ao2_container_dump</a></div><div class="ttdeci">void ao2_container_dump(struct ao2_container *self, enum search_flags flags, const char *name, void *where, ao2_prnt_fn *prnt, ao2_prnt_obj_fn *prnt_obj)</div><div class="ttdoc">Display contents of the specified container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00792">astobj2_container.c:792</a></div></div>
<div class="ttc" id="test_8c_html_a71eb9e6ef65c0a002e55f10b774796c4"><div class="ttname"><a href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a></div><div class="ttdeci">void ast_test_debug(struct ast_test *test, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db9/test_8c_source.html#l00113">test.c:113</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a45a96d697d505aacfafbcbcc269e9fb0"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a45a96d697d505aacfafbcbcc269e9fb0">partial_key_match_range</a></div><div class="ttdeci">int partial_key_match_range</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00085">test_astobj2.c:85</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1a51accc2c3490747b9c844dfe8516e2"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1a51accc2c3490747b9c844dfe8516e2">test_ao2_iteration</a></div><div class="ttdeci">static int test_ao2_iteration(int res, struct ao2_container *container, enum ao2_iterator_flags flags, const int *vector, int count, const char *prefix, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01171">test_astobj2.c:1171</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a7b6b6b74f9c92cb3f50ff403eeeaac36"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a7b6b6b74f9c92cb3f50ff403eeeaac36">test_cmp_cb</a></div><div class="ttdeci">static int test_cmp_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_astobj2.c:119</a></div></div>
<div class="ttc" id="astobj2_8h_html_afe7a6b368052cb171d371d873b7520aca6eebd7656b574b9640d1460da84f771b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca6eebd7656b574b9640d1460da84f771b">AO2_CONTAINER_ALLOC_OPT_DUPS_ALLOW</a></div><div class="ttdoc">Allow objects with duplicate keys in container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01185">astobj2.h:1185</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7b5de2aa80f528d3dc554caadb8dc6ababe6512b98f090eb679b56a7d9f545c5f"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6ababe6512b98f090eb679b56a7d9f545c5f">AO2_ITERATOR_DESCENDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01895">astobj2.h:1895</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a747dacdc275ea957cda1b6dde3d7d290"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a747dacdc275ea957cda1b6dde3d7d290">ao2_container_stats</a></div><div class="ttdeci">void ao2_container_stats(struct ao2_container *self, enum search_flags flags, const char *name, void *where, ao2_prnt_fn *prnt)</div><div class="ttdoc">Display statistics of the specified container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00819">astobj2_container.c:819</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a466f9884ff4216e6753b9c34b2ebfa81"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a466f9884ff4216e6753b9c34b2ebfa81">test_expected_duplicates</a></div><div class="ttdeci">static int test_expected_duplicates(int res, struct ao2_container *container, enum search_flags flags, int number, const int *vector, int count, const char *prefix, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01289">test_astobj2.c:1289</a></div></div>
<div class="ttc" id="astobj2_8h_html_afe7a6b368052cb171d371d873b7520aca572586ed5de176d0301f441d283dc9f6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca572586ed5de176d0301f441d283dc9f6">AO2_CONTAINER_ALLOC_OPT_INSERT_BEGIN</a></div><div class="ttdoc">Insert objects at the beginning of the container. (Otherwise it is the opposite; insert at the end...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01176">astobj2.h:1176</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab0b4e11aba1e0a898b5d75427d3b13fa"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a></div><div class="ttdeci">#define OBJ_PARTIAL_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01156">astobj2.h:1156</a></div></div>
<div class="ttc" id="astobj2_8h_html_af236ed10cd1eddcbad0579ed0cf9f4c5"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#af236ed10cd1eddcbad0579ed0cf9f4c5">ao2_prnt_fn</a></div><div class="ttdeci">void() ao2_prnt_fn(void *where, const char *fmt,...)</div><div class="ttdoc">Print output. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01442">astobj2.h:1442</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_abc6cac6c60588338f1bc1cf604592863"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#abc6cac6c60588338f1bc1cf604592863">test_make_sorted</a></div><div class="ttdeci">static struct ao2_container * test_make_sorted(enum test_container_type type, int options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01000">test_astobj2.c:1000</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4ddf9e2a1952dfbbba7c4408475f0d49">OBJ_ORDER_ASCENDING</a></div><div class="ttdoc">Traverse in ascending order (First to last container object) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01125">astobj2.h:1125</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74ae68bb4b8c8a7bf7fbbb89fa3330ec8d5">TEST_CONTAINER_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00042">test_astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4346b25b6535848803887e731b130e9a">OBJ_ORDER_DESCENDING</a></div><div class="ttdoc">Traverse in descending order (Last to first container object) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01127">astobj2.h:1127</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a9c7efce90c5a6bb192c83fad0b4e7f1a"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a9c7efce90c5a6bb192c83fad0b4e7f1a">test_ao2_callback_traversal</a></div><div class="ttdeci">static int test_ao2_callback_traversal(int res, struct ao2_container *container, enum search_flags flags, ao2_callback_fn *cmp_fn, void *arg, const int *vector, int count, const char *prefix, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01232">test_astobj2.c:1232</a></div></div>
<div class="ttc" id="test_8c_html_a65fe5c5b911f9df67968e778a9680379"><div class="ttname"><a href="../../d8/db9/test_8c.html#a65fe5c5b911f9df67968e778a9680379">test_cleanup</a></div><div class="ttdeci">static void test_cleanup(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db9/test_8c_source.html#l01211">test.c:1211</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a3a09118e724b3bb82ac70a2eae1282bd">TEST_CONTAINER_HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00043">test_astobj2.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_afe7a6b368052cb171d371d873b7520acadb2bfd83bc54a380d86d3a9b02d99c35"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520acadb2bfd83bc54a380d86d3a9b02d99c35">AO2_CONTAINER_ALLOC_OPT_DUPS_REPLACE</a></div><div class="ttdoc">Replace objects with duplicate keys in container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01215">astobj2.h:1215</a></div></div>
<div class="ttc" id="astobj2_8h_html_afe7a6b368052cb171d371d873b7520acadaba53a115685d6a8944dd2c6a8d7bfb"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520acadaba53a115685d6a8944dd2c6a8d7bfb">AO2_CONTAINER_ALLOC_OPT_DUPS_REJECT</a></div><div class="ttdoc">Reject objects with duplicate keys in container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01192">astobj2.h:1192</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_afe7a6b368052cb171d371d873b7520aca2ee9edd754d08a5f1773d48534c15dfa"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca2ee9edd754d08a5f1773d48534c15dfa">AO2_CONTAINER_ALLOC_OPT_DUPS_OBJ_REJECT</a></div><div class="ttdoc">Reject duplicate objects in container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01205">astobj2.h:1205</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_ae710ae4b292c4d22219ec90a1a3d085f"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#ae710ae4b292c4d22219ec90a1a3d085f">insert_test_vector</a></div><div class="ttdeci">static int insert_test_vector(struct ao2_container *container, int *destroy_counter, const int *vector, int count, const char *prefix, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01040">test_astobj2.c:1040</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_afd64107b4f8d4ee93083dbb8e2f6e2c9"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#afd64107b4f8d4ee93083dbb8e2f6e2c9">test_container2str</a></div><div class="ttdeci">static const char * test_container2str(enum test_container_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00056">test_astobj2.c:56</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74a36bfc5b830a15894392368a2b7c4736b">TEST_CONTAINER_RBTREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00044">test_astobj2.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab86c0a1f1f7dedd698e3ed34364ca2cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab86c0a1f1f7dedd698e3ed34364ca2cc">&#9670;&nbsp;</a></span>testloop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> testloop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d08/test__astobj2_8c.html#a1876c233004e415feb620fb85973ec74">test_container_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>copt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iterations</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01992">1992</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00098">ast_tvdiff_ms()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00079">test_obj::i</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00056">test_container2str()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01925">test_performance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l02013">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;{</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;   <span class="keywordtype">int</span> reportcount = iterations / 5;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;   <span class="keyword">struct </span>timeval start;</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;   start = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;   <span class="keywordflow">for</span> (i = 1 ; i &lt;= iterations &amp;&amp; res == <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a> ; i++) {</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <span class="keywordflow">if</span> (i % reportcount == 0 &amp;&amp; i != iterations) {</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%5.2fK traversals, %9s\n&quot;</span>,</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            i / 1000.0, <a class="code" href="../../d6/d08/test__astobj2_8c.html#afd64107b4f8d4ee93083dbb8e2f6e2c9">test_container2str</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>));</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      }</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      res = <a class="code" href="../../d6/d08/test__astobj2_8c.html#a059fcaa03a44c6708bea12b520a5b898">test_performance</a>(test, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, copt);</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;   }</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;%5.2fK traversals, %9s : %5lu ms\n&quot;</span>,</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      iterations / 1000.0, <a class="code" href="../../d6/d08/test__astobj2_8c.html#afd64107b4f8d4ee93083dbb8e2f6e2c9">test_container2str</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>), (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)<a class="code" href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a>(<a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>(), start));</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="time_8h_html_aca4ecdab7d8d3519062aad9a90fcb29d"><div class="ttname"><a href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a></div><div class="ttdeci">int64_t ast_tvdiff_ms(struct timeval end, struct timeval start)</div><div class="ttdoc">Computes the difference (in milliseconds) between two struct timeval instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00098">time.h:98</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_a059fcaa03a44c6708bea12b520a5b898"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#a059fcaa03a44c6708bea12b520a5b898">test_performance</a></div><div class="ttdeci">static enum ast_test_result_state test_performance(struct ast_test *test, enum test_container_type type, unsigned int copt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l01925">test_astobj2.c:1925</a></div></div>
<div class="ttc" id="test__astobj2_8c_html_afd64107b4f8d4ee93083dbb8e2f6e2c9"><div class="ttname"><a href="../../d6/d08/test__astobj2_8c.html#afd64107b4f8d4ee93083dbb8e2f6e2c9">test_container2str</a></div><div class="ttdeci">static const char * test_container2str(enum test_container_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d08/test__astobj2_8c_source.html#l00056">test_astobj2.c:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l02054">2054</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00128">AST_TEST_UNREGISTER</a>.</p>
<div class="fragment"><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;{</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(astobj2_test_1);</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(astobj2_test_2);</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(astobj2_test_3);</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(astobj2_test_4);</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(astobj2_test_perf);</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;}</div><div class="ttc" id="test_8h_html_a79bc64a935b14b1b181156e5ada58ead"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a></div><div class="ttdeci">#define AST_TEST_UNREGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00128">test.h:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;ASTOBJ2 Unit Tests&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .load_pri = <a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l02074">2074</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l02074">2074</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

</div>
</div>
<a id="a45a96d697d505aacfafbcbcc269e9fb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45a96d697d505aacfafbcbcc269e9fb0">&#9670;&nbsp;</a></span>partial_key_match_range</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int partial_key_match_range</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Partial search key +/- matching range. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00085">85</a> of file <a class="el" href="../../d6/d08/test__astobj2_8c_source.html">test_astobj2.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00393">test_ao2_find_w_OBJ_PARTIAL_KEY()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00119">test_cmp_cb()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l00158">test_sort_cb()</a>, <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01348">test_traversal_nonsorted()</a>, and <a class="el" href="../../d6/d08/test__astobj2_8c_source.html#l01554">test_traversal_sorted()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:53 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
