<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: test_sorcery_memory_cache_thrash.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_59425e443f801f1f2fd8bbe4959a3ccf.html">tests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">test_sorcery_memory_cache_thrash.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Sorcery Unit Tests.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/ddc/test_8h_source.html">asterisk/test.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d25/sorcery_8h_source.html">asterisk/sorcery.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d8c/logger_8h_source.html">asterisk/logger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d68/vector_8h_source.html">asterisk/vector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test_sorcery_memory_cache_thrash.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d81/test__sorcery__memory__cache__thrash_8c__incl.png" border="0" usemap="#test__sorcery__memory__cache__thrash_8c" alt=""/></div>
<map name="test__sorcery__memory__cache__thrash_8c" id="test__sorcery__memory__cache__thrash_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="645,95,729,121"/>
<area shape="rect" id="node22" href="../../d2/ddc/test_8h.html" title="Test Framework API. " alt="" coords="876,95,989,121"/>
<area shape="rect" id="node23" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="882,169,983,196"/>
<area shape="rect" id="node27" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1407,393,1533,420"/>
<area shape="rect" id="node29" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="1297,244,1433,271"/>
<area shape="rect" id="node30" href="../../d8/d25/sorcery_8h.html" title="Sorcery Data Access Layer API. " alt="" coords="1143,95,1277,121"/>
<area shape="rect" id="node35" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="1508,95,1635,121"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="442,169,597,196"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="723,393,860,420"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="672,169,807,196"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="446,244,593,271"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="541,468,684,495"/>
<area shape="rect" id="node25" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="790,244,921,271"/>
<area shape="rect" id="node24" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="884,393,1035,420"/>
<area shape="rect" id="node26" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1261,319,1375,345"/>
<area shape="rect" id="node28" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="787,319,921,345"/>
<area shape="rect" id="node31" href="../../db/dfe/config__options_8h.html" title="Configuration option&#45;handling. " alt="" coords="1147,169,1327,196"/>
<area shape="rect" id="node34" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="1007,169,1122,196"/>
<area shape="rect" id="node33" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="1145,244,1272,271"/>
</map>
</div>
</div>
<p><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for memory cache thrasing.  <a href="../../db/d8a/structsorcery__memory__cache__thrash.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for a memory cache thras thread.  <a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9a/structtest__data.html">test_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sorcery object created based on backend data.  <a href="../../dc/d9a/structtest__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac709a3ca2d7607ed518a1e2d0b9ce025"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a>&#160;&#160;&#160;25</td></tr>
<tr class="memdesc:ac709a3ca2d7607ed518a1e2d0b9ce025"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of threads to use for retrieving for applicable tests.  <a href="#ac709a3ca2d7607ed518a1e2d0b9ce025">More...</a><br /></td></tr>
<tr class="separator:ac709a3ca2d7607ed518a1e2d0b9ce025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8e055d01e6d8e22be9f6342dc6d202"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:a5c8e055d01e6d8e22be9f6342dc6d202"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default amount of time (in seconds) that thrash unit tests execute for.  <a href="#a5c8e055d01e6d8e22be9f6342dc6d202">More...</a><br /></td></tr>
<tr class="separator:a5c8e055d01e6d8e22be9f6342dc6d202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a078291c45429bfa3b62d254a242a19b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a078291c45429bfa3b62d254a242a19b1">TEST_THRASH_UPDATERS</a>&#160;&#160;&#160;25</td></tr>
<tr class="memdesc:a078291c45429bfa3b62d254a242a19b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of threads to use for updating for applicable tests.  <a href="#a078291c45429bfa3b62d254a242a19b1">More...</a><br /></td></tr>
<tr class="separator:a078291c45429bfa3b62d254a242a19b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf8feeee1b5138c7d227666100c32d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a9cf8feeee1b5138c7d227666100c32d8">AST_TEST_DEFINE</a> (low_unique_object_count_immediately_stale)</td></tr>
<tr class="separator:a9cf8feeee1b5138c7d227666100c32d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc3581a1e2ba9eb171d8fe11a0284b17"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#acc3581a1e2ba9eb171d8fe11a0284b17">AST_TEST_DEFINE</a> (low_unique_object_count_immediately_expire)</td></tr>
<tr class="separator:acc3581a1e2ba9eb171d8fe11a0284b17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2bfd334f1066dbcd84a9487879158e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ae2bfd334f1066dbcd84a9487879158e9">AST_TEST_DEFINE</a> (low_unique_object_count_high_concurrent_updates)</td></tr>
<tr class="separator:ae2bfd334f1066dbcd84a9487879158e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d2a20777a32766e848d6435b076eeb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a30d2a20777a32766e848d6435b076eeb">AST_TEST_DEFINE</a> (unique_objects_exceeding_maximum)</td></tr>
<tr class="separator:a30d2a20777a32766e848d6435b076eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fc36a517338563bd0a388f74210b089"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5fc36a517338563bd0a388f74210b089">AST_TEST_DEFINE</a> (unique_objects_exceeding_maximum_with_expire_and_stale)</td></tr>
<tr class="separator:a5fc36a517338563bd0a388f74210b089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d7f2c95fde39a04d84dd8bc8ee67f7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a2d7f2c95fde39a04d84dd8bc8ee67f7b">AST_TEST_DEFINE</a> (conflicting_expire_and_stale)</td></tr>
<tr class="separator:a2d7f2c95fde39a04d84dd8bc8ee67f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47bcdcd27fa4aced4cd8c30bb9ee7d4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a47bcdcd27fa4aced4cd8c30bb9ee7d4e">AST_TEST_DEFINE</a> (high_object_count_without_expiration)</td></tr>
<tr class="separator:a47bcdcd27fa4aced4cd8c30bb9ee7d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab28609572a132139c835e70368bdddb"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#aab28609572a132139c835e70368bdddb">mock_retrieve_id</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, void *data, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="memdesc:aab28609572a132139c835e70368bdddb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for retrieving sorcery object by ID.  <a href="#aab28609572a132139c835e70368bdddb">More...</a><br /></td></tr>
<tr class="separator:aab28609572a132139c835e70368bdddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea16e4b3bef0a293567f7ad671aded16"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#aea16e4b3bef0a293567f7ad671aded16">mock_update</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, void *data, void *object)</td></tr>
<tr class="memdesc:aea16e4b3bef0a293567f7ad671aded16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for updating a sorcery object.  <a href="#aea16e4b3bef0a293567f7ad671aded16">More...</a><br /></td></tr>
<tr class="separator:aea16e4b3bef0a293567f7ad671aded16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5401d49bb875857c3f8214f9d37d25"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a> (struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>, const char *cache_configuration, unsigned int thrash_time, unsigned int unique_objects, unsigned int retrieve_threads, unsigned int update_threads)</td></tr>
<tr class="separator:a8f5401d49bb875857c3f8214f9d37d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2e86931a07ee94a5d49568b5f54dd32"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#af2e86931a07ee94a5d49568b5f54dd32">sorcery_memory_cache_cli_thrash</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:af2e86931a07ee94a5d49568b5f54dd32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adef9edbf6f9f14318555dea51b575d50"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#adef9edbf6f9f14318555dea51b575d50">sorcery_memory_cache_thrash_create</a> (const char *cache_configuration, unsigned int update_threads, unsigned int retrieve_threads, unsigned int unique_objects)</td></tr>
<tr class="separator:adef9edbf6f9f14318555dea51b575d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a875b12c5ac4da2ea6d5678afe785abbb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a875b12c5ac4da2ea6d5678afe785abbb">sorcery_memory_cache_thrash_destroy</a> (void *obj)</td></tr>
<tr class="separator:a875b12c5ac4da2ea6d5678afe785abbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c7f616ec10306c1f704d2b5797f2df"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac3c7f616ec10306c1f704d2b5797f2df">sorcery_memory_cache_thrash_retrieve</a> (void *data)</td></tr>
<tr class="separator:ac3c7f616ec10306c1f704d2b5797f2df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac92adbb220468c0c9ae4990117671fa5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac92adbb220468c0c9ae4990117671fa5">sorcery_memory_cache_thrash_start</a> (struct <a class="el" href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a> *thrash)</td></tr>
<tr class="separator:ac92adbb220468c0c9ae4990117671fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956494ad585bcb689f3afcea9dbd3299"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a956494ad585bcb689f3afcea9dbd3299">sorcery_memory_cache_thrash_stop</a> (struct <a class="el" href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a> *thrash)</td></tr>
<tr class="separator:a956494ad585bcb689f3afcea9dbd3299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde936bbd9611b5ce7a2854b6ad2f411"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#acde936bbd9611b5ce7a2854b6ad2f411">sorcery_memory_cache_thrash_update</a> (void *data)</td></tr>
<tr class="separator:acde936bbd9611b5ce7a2854b6ad2f411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42cfb1ae93ed6226126180bc40c3eb7c"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a42cfb1ae93ed6226126180bc40c3eb7c">test_data_alloc</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="memdesc:a42cfb1ae93ed6226126180bc40c3eb7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocation callback for <a class="el" href="../../dc/d9a/structtest__data.html" title="Sorcery object created based on backend data. ">test_data</a> sorcery object.  <a href="#a42cfb1ae93ed6226126180bc40c3eb7c">More...</a><br /></td></tr>
<tr class="separator:a42cfb1ae93ed6226126180bc40c3eb7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Sorcery Cache Thrasing <a class="el" href="../../d8/d89/structtest.html">test</a> module&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .load_pri = <a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632411aeea075309ceef516310968327"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a632411aeea075309ceef516310968327">cli_memory_cache_thrash</a> []</td></tr>
<tr class="separator:a632411aeea075309ceef516310968327"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93253ad88664252f13a1eb0650303691"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a93253ad88664252f13a1eb0650303691">mock_wizard</a></td></tr>
<tr class="memdesc:a93253ad88664252f13a1eb0650303691"><td class="mdescLeft">&#160;</td><td class="mdescRight">A mock sorcery wizard used for the stale test.  <a href="#a93253ad88664252f13a1eb0650303691">More...</a><br /></td></tr>
<tr class="separator:a93253ad88664252f13a1eb0650303691"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sorcery Unit Tests. </p>
<dl class="section author"><dt>Author</dt><dd>Joshua Colp <a href="#" onclick="location.href='mai'+'lto:'+'jco'+'lp'+'@di'+'gi'+'um.'+'co'+'m'; return false;">jcolp<span style="display: none;">.nosp@m.</span>@dig<span style="display: none;">.nosp@m.</span>ium.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ac709a3ca2d7607ed518a1e2d0b9ce025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac709a3ca2d7607ed518a1e2d0b9ce025">&#9670;&nbsp;</a></span>TEST_THRASH_RETRIEVERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEST_THRASH_RETRIEVERS&#160;&#160;&#160;25</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of threads to use for retrieving for applicable tests. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">45</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00467">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a5c8e055d01e6d8e22be9f6342dc6d202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c8e055d01e6d8e22be9f6342dc6d202">&#9670;&nbsp;</a></span>TEST_THRASH_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEST_THRASH_TIME&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The default amount of time (in seconds) that thrash unit tests execute for. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">42</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00467">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a078291c45429bfa3b62d254a242a19b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a078291c45429bfa3b62d254a242a19b1">&#9670;&nbsp;</a></span>TEST_THRASH_UPDATERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEST_THRASH_UPDATERS&#160;&#160;&#160;25</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of threads to use for updating for applicable tests. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00048">48</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00506">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00631">631</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00631">631</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00631">631</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

</div>
</div>
<a id="a9cf8feeee1b5138c7d227666100c32d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cf8feeee1b5138c7d227666100c32d8">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">low_unique_object_count_immediately_stale&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00467">467</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">nominal_thrash()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">TEST_THRASH_RETRIEVERS</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">TEST_THRASH_TIME</a>.</p>
<div class="fragment"><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;{</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;low_unique_object_count_immediately_stale&quot;</span>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/res/res_sorcery_memory_cache/thrash/&quot;</span>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Thrash a cache with low number of unique objects that are immediately stale&quot;</span>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description = <span class="stringliteral">&quot;This test creates a cache with objects that are stale\n&quot;</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;         <span class="stringliteral">&quot;after 1 second. It also creates 25 threads which are constantly attempting\n&quot;</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;         <span class="stringliteral">&quot;to retrieve the objects. This test confirms that the background refreshes\n&quot;</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;         <span class="stringliteral">&quot;being done as a result of going stale do not conflict or cause problems with\n&quot;</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;         <span class="stringliteral">&quot;the large number of retrieve threads.&quot;</span>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;object_lifetime_stale=1&quot;</span>, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a>, 10, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a>, 0);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;}</div><div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_ac709a3ca2d7607ed518a1e2d0b9ce025"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a></div><div class="ttdeci">#define TEST_THRASH_RETRIEVERS</div><div class="ttdoc">The number of threads to use for retrieving for applicable tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">test_sorcery_memory_cache_thrash.c:45</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a8f5401d49bb875857c3f8214f9d37d25"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a></div><div class="ttdeci">static enum ast_test_result_state nominal_thrash(struct ast_test *test, const char *cache_configuration, unsigned int thrash_time, unsigned int unique_objects, unsigned int retrieve_threads, unsigned int update_threads)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">test_sorcery_memory_cache_thrash.c:447</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a5c8e055d01e6d8e22be9f6342dc6d202"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a></div><div class="ttdeci">#define TEST_THRASH_TIME</div><div class="ttdoc">The default amount of time (in seconds) that thrash unit tests execute for. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">test_sorcery_memory_cache_thrash.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acc3581a1e2ba9eb171d8fe11a0284b17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc3581a1e2ba9eb171d8fe11a0284b17">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">low_unique_object_count_immediately_expire&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00487">487</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">nominal_thrash()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">TEST_THRASH_RETRIEVERS</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">TEST_THRASH_TIME</a>.</p>
<div class="fragment"><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;{</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;low_unique_object_count_immediately_expire&quot;</span>;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/res/res_sorcery_memory_cache/thrash/&quot;</span>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Thrash a cache with low number of unique objects that are immediately expired&quot;</span>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description = <span class="stringliteral">&quot;This test creates a cache with objects that are expired\n&quot;</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;         <span class="stringliteral">&quot;after 1 second. It also creates 25 threads which are constantly attempting\n&quot;</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;         <span class="stringliteral">&quot;to retrieve the objects. This test confirms that the expiration process does\n&quot;</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;         <span class="stringliteral">&quot;not cause a problem as the retrieve threads execute.&quot;</span>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;object_lifetime_maximum=1&quot;</span>, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a>, 10, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a>, 0);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div><div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_ac709a3ca2d7607ed518a1e2d0b9ce025"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a></div><div class="ttdeci">#define TEST_THRASH_RETRIEVERS</div><div class="ttdoc">The number of threads to use for retrieving for applicable tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">test_sorcery_memory_cache_thrash.c:45</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a8f5401d49bb875857c3f8214f9d37d25"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a></div><div class="ttdeci">static enum ast_test_result_state nominal_thrash(struct ast_test *test, const char *cache_configuration, unsigned int thrash_time, unsigned int unique_objects, unsigned int retrieve_threads, unsigned int update_threads)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">test_sorcery_memory_cache_thrash.c:447</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a5c8e055d01e6d8e22be9f6342dc6d202"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a></div><div class="ttdeci">#define TEST_THRASH_TIME</div><div class="ttdoc">The default amount of time (in seconds) that thrash unit tests execute for. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">test_sorcery_memory_cache_thrash.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2bfd334f1066dbcd84a9487879158e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2bfd334f1066dbcd84a9487879158e9">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">low_unique_object_count_high_concurrent_updates&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00506">506</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">nominal_thrash()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">TEST_THRASH_RETRIEVERS</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">TEST_THRASH_TIME</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00048">TEST_THRASH_UPDATERS</a>.</p>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;{</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;low_unique_object_count_high_concurrent_updates&quot;</span>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/res/res_sorcery_memory_cache/thrash/&quot;</span>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Thrash a cache with low number of unique objects that are updated frequently&quot;</span>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description = <span class="stringliteral">&quot;This test creates a cache with objects that are being constantly\n&quot;</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;         <span class="stringliteral">&quot;updated and retrieved at the same time. This will create contention between all\n&quot;</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;         <span class="stringliteral">&quot;of the threads as the write lock is held for the updates. This test confirms that\n&quot;</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;         <span class="stringliteral">&quot;no problems occur in this situation.&quot;</span>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;   }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a>, 10, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a>, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a078291c45429bfa3b62d254a242a19b1">TEST_THRASH_UPDATERS</a>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div><div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_ac709a3ca2d7607ed518a1e2d0b9ce025"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a></div><div class="ttdeci">#define TEST_THRASH_RETRIEVERS</div><div class="ttdoc">The number of threads to use for retrieving for applicable tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">test_sorcery_memory_cache_thrash.c:45</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a8f5401d49bb875857c3f8214f9d37d25"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a></div><div class="ttdeci">static enum ast_test_result_state nominal_thrash(struct ast_test *test, const char *cache_configuration, unsigned int thrash_time, unsigned int unique_objects, unsigned int retrieve_threads, unsigned int update_threads)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">test_sorcery_memory_cache_thrash.c:447</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a078291c45429bfa3b62d254a242a19b1"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a078291c45429bfa3b62d254a242a19b1">TEST_THRASH_UPDATERS</a></div><div class="ttdeci">#define TEST_THRASH_UPDATERS</div><div class="ttdoc">The number of threads to use for updating for applicable tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00048">test_sorcery_memory_cache_thrash.c:48</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a5c8e055d01e6d8e22be9f6342dc6d202"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a></div><div class="ttdeci">#define TEST_THRASH_TIME</div><div class="ttdoc">The default amount of time (in seconds) that thrash unit tests execute for. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">test_sorcery_memory_cache_thrash.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a30d2a20777a32766e848d6435b076eeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30d2a20777a32766e848d6435b076eeb">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">unique_objects_exceeding_maximum&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00525">525</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">nominal_thrash()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">TEST_THRASH_RETRIEVERS</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">TEST_THRASH_TIME</a>.</p>
<div class="fragment"><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;{</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;unique_objects_exceeding_maximum&quot;</span>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/res/res_sorcery_memory_cache/thrash/&quot;</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Thrash a cache with a fixed maximum object count&quot;</span>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description = <span class="stringliteral">&quot;This test creates a cache with a maximum number of objects\n&quot;</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;         <span class="stringliteral">&quot;allowed in it. The maximum number of unique objects, however, far exceeds the\n&quot;</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;         <span class="stringliteral">&quot;the maximum number allowed in the cache. This test confirms that the cache does\n&quot;</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;         <span class="stringliteral">&quot;not exceed the maximum and that the removal of older objects does not cause\n&quot;</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;         <span class="stringliteral">&quot;a problem.&quot;</span>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;maximum_objects=10&quot;</span>, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a>, 100, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a>, 0);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div><div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_ac709a3ca2d7607ed518a1e2d0b9ce025"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a></div><div class="ttdeci">#define TEST_THRASH_RETRIEVERS</div><div class="ttdoc">The number of threads to use for retrieving for applicable tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">test_sorcery_memory_cache_thrash.c:45</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a8f5401d49bb875857c3f8214f9d37d25"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a></div><div class="ttdeci">static enum ast_test_result_state nominal_thrash(struct ast_test *test, const char *cache_configuration, unsigned int thrash_time, unsigned int unique_objects, unsigned int retrieve_threads, unsigned int update_threads)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">test_sorcery_memory_cache_thrash.c:447</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a5c8e055d01e6d8e22be9f6342dc6d202"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a></div><div class="ttdeci">#define TEST_THRASH_TIME</div><div class="ttdoc">The default amount of time (in seconds) that thrash unit tests execute for. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">test_sorcery_memory_cache_thrash.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5fc36a517338563bd0a388f74210b089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fc36a517338563bd0a388f74210b089">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">unique_objects_exceeding_maximum_with_expire_and_stale&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00545">545</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">nominal_thrash()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">TEST_THRASH_RETRIEVERS</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">TEST_THRASH_TIME</a>.</p>
<div class="fragment"><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;unique_objects_exceeding_maximum_with_expire_and_stale&quot;</span>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/res/res_sorcery_memory_cache/thrash/&quot;</span>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Thrash a cache with a fixed maximum object count with objects that expire and go stale&quot;</span>;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description = <span class="stringliteral">&quot;This test creates a cache with a maximum number of objects\n&quot;</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;         <span class="stringliteral">&quot;allowed in it with objects that also go stale after a period of time and expire.\n&quot;</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;         <span class="stringliteral">&quot;A number of threads are created that constantly retrieve from the cache, causing\n&quot;</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;         <span class="stringliteral">&quot;both stale refresh and expiration to occur. This test confirms that the combination\n&quot;</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;         <span class="stringliteral">&quot;of these do not present a problem.&quot;</span>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;maximum_objects=10,object_lifetime_maximum=2,object_lifetime_stale=1&quot;</span>,</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a> * 2, 100, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a>, 0);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div><div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_ac709a3ca2d7607ed518a1e2d0b9ce025"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a></div><div class="ttdeci">#define TEST_THRASH_RETRIEVERS</div><div class="ttdoc">The number of threads to use for retrieving for applicable tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">test_sorcery_memory_cache_thrash.c:45</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a8f5401d49bb875857c3f8214f9d37d25"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a></div><div class="ttdeci">static enum ast_test_result_state nominal_thrash(struct ast_test *test, const char *cache_configuration, unsigned int thrash_time, unsigned int unique_objects, unsigned int retrieve_threads, unsigned int update_threads)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">test_sorcery_memory_cache_thrash.c:447</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a5c8e055d01e6d8e22be9f6342dc6d202"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a></div><div class="ttdeci">#define TEST_THRASH_TIME</div><div class="ttdoc">The default amount of time (in seconds) that thrash unit tests execute for. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">test_sorcery_memory_cache_thrash.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d7f2c95fde39a04d84dd8bc8ee67f7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d7f2c95fde39a04d84dd8bc8ee67f7b">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">conflicting_expire_and_stale&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00566">566</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">nominal_thrash()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">TEST_THRASH_RETRIEVERS</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">TEST_THRASH_TIME</a>.</p>
<div class="fragment"><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;{</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;conflicting_expire_and_stale&quot;</span>;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/res/res_sorcery_memory_cache/thrash/&quot;</span>;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Thrash a cache with a large number of objects that expire and go stale&quot;</span>;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description = <span class="stringliteral">&quot;This test creates a cache with a large number of objects that expire\n&quot;</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;         <span class="stringliteral">&quot;and go stale. As there is such a large number this ensures that both operations occur.\n&quot;</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;         <span class="stringliteral">&quot;This test confirms that stale refreshing and expiration do not conflict.&quot;</span>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;object_lifetime_maximum=2,object_lifetime_stale=1&quot;</span>, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a> * 2, 5000,</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a>, 0);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div><div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_ac709a3ca2d7607ed518a1e2d0b9ce025"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a></div><div class="ttdeci">#define TEST_THRASH_RETRIEVERS</div><div class="ttdoc">The number of threads to use for retrieving for applicable tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">test_sorcery_memory_cache_thrash.c:45</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a8f5401d49bb875857c3f8214f9d37d25"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a></div><div class="ttdeci">static enum ast_test_result_state nominal_thrash(struct ast_test *test, const char *cache_configuration, unsigned int thrash_time, unsigned int unique_objects, unsigned int retrieve_threads, unsigned int update_threads)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">test_sorcery_memory_cache_thrash.c:447</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a5c8e055d01e6d8e22be9f6342dc6d202"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a></div><div class="ttdeci">#define TEST_THRASH_TIME</div><div class="ttdoc">The default amount of time (in seconds) that thrash unit tests execute for. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">test_sorcery_memory_cache_thrash.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a47bcdcd27fa4aced4cd8c30bb9ee7d4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47bcdcd27fa4aced4cd8c30bb9ee7d4e">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">high_object_count_without_expiration&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00585">585</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">nominal_thrash()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">TEST_THRASH_RETRIEVERS</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">TEST_THRASH_TIME</a>.</p>
<div class="fragment"><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;{</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;high_object_count_without_expiration&quot;</span>;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/res/res_sorcery_memory_cache/thrash/&quot;</span>;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Thrash a cache with a large number of objects&quot;</span>;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description = <span class="stringliteral">&quot;This test creates a cache with a large number of objects that persist.\n&quot;</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;         <span class="stringliteral">&quot;A large number of threads are created which constantly retrieve from the cache.\n&quot;</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;         <span class="stringliteral">&quot;This test confirms that the large number of retrieves do not cause a problem.&quot;</span>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a>, 5000, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a>, 0);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_ac709a3ca2d7607ed518a1e2d0b9ce025"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac709a3ca2d7607ed518a1e2d0b9ce025">TEST_THRASH_RETRIEVERS</a></div><div class="ttdeci">#define TEST_THRASH_RETRIEVERS</div><div class="ttdoc">The number of threads to use for retrieving for applicable tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00045">test_sorcery_memory_cache_thrash.c:45</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a8f5401d49bb875857c3f8214f9d37d25"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a8f5401d49bb875857c3f8214f9d37d25">nominal_thrash</a></div><div class="ttdeci">static enum ast_test_result_state nominal_thrash(struct ast_test *test, const char *cache_configuration, unsigned int thrash_time, unsigned int unique_objects, unsigned int retrieve_threads, unsigned int update_threads)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">test_sorcery_memory_cache_thrash.c:447</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a5c8e055d01e6d8e22be9f6342dc6d202"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a5c8e055d01e6d8e22be9f6342dc6d202">TEST_THRASH_TIME</a></div><div class="ttdeci">#define TEST_THRASH_TIME</div><div class="ttdoc">The default amount of time (in seconds) that thrash unit tests execute for. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00042">test_sorcery_memory_cache_thrash.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00617">617</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00265">ast_cli_register_multiple</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, and <a class="el" href="../../d2/ddc/test_8h_source.html#l00127">AST_TEST_REGISTER</a>.</p>
<div class="fragment"><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;{</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(<a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a632411aeea075309ceef516310968327">cli_memory_cache_thrash</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a632411aeea075309ceef516310968327">cli_memory_cache_thrash</a>));</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(low_unique_object_count_immediately_stale);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(low_unique_object_count_immediately_expire);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(low_unique_object_count_high_concurrent_updates);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(unique_objects_exceeding_maximum);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(unique_objects_exceeding_maximum_with_expire_and_stale);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(conflicting_expire_and_stale);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(high_object_count_without_expiration);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="test_8h_html_a34f64a69c09d98ceb693b077efd7ef97"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a></div><div class="ttdeci">#define AST_TEST_REGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00127">test.h:127</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a632411aeea075309ceef516310968327"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a632411aeea075309ceef516310968327">cli_memory_cache_thrash</a></div><div class="ttdeci">static struct ast_cli_entry cli_memory_cache_thrash[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00429">test_sorcery_memory_cache_thrash.c:429</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab28609572a132139c835e70368bdddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab28609572a132139c835e70368bdddb">&#9670;&nbsp;</a></span>mock_retrieve_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* mock_retrieve_id </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for retrieving sorcery object by ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>The sorcery instance </td></tr>
    <tr><td class="paramname">data</td><td>Unused </td></tr>
    <tr><td class="paramname">type</td><td>The object type. Will always be "test". </td></tr>
    <tr><td class="paramname">id</td><td>The object id. Will always be "test".</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Backend data successfully allocated </td></tr>
    <tr><td class="paramname">non-NULL</td><td>Backend data could not be successfully allocated </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00106">106</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01744">ast_sorcery_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#acb6c97c18566cf94a7ac95a43dd9a816">ast_sorcery_alloc</a>(sorcery, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="sorcery_8h_html_acb6c97c18566cf94a7ac95a43dd9a816"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#acb6c97c18566cf94a7ac95a43dd9a816">ast_sorcery_alloc</a></div><div class="ttdeci">void * ast_sorcery_alloc(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Allocate an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01744">sorcery.c:1744</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aea16e4b3bef0a293567f7ad671aded16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea16e4b3bef0a293567f7ad671aded16">&#9670;&nbsp;</a></span>mock_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int mock_update </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for updating a sorcery object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>The sorcery instance </td></tr>
    <tr><td class="paramname">data</td><td>Unused </td></tr>
    <tr><td class="paramname">object</td><td>The object to update. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00120">120</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a8f5401d49bb875857c3f8214f9d37d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f5401d49bb875857c3f8214f9d37d25">&#9670;&nbsp;</a></span>nominal_thrash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> nominal_thrash </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cache_configuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>thrash_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>unique_objects</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>retrieve_threads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>update_threads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">447</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00173">sorcery_memory_cache_thrash_create()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00345">sorcery_memory_cache_thrash_start()</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00296">sorcery_memory_cache_thrash_stop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00467">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;{</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a> *thrash;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   thrash = <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#adef9edbf6f9f14318555dea51b575d50">sorcery_memory_cache_thrash_create</a>(cache_configuration, <a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a02bb383b208a935ebaa1a11bb21b663f">update_threads</a>, <a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#ac11df594cceb8901fcf3cf87fa779776">retrieve_threads</a>, unique_objects);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   <span class="keywordflow">if</span> (!thrash) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac92adbb220468c0c9ae4990117671fa5">sorcery_memory_cache_thrash_start</a>(thrash);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   <span class="keywordflow">while</span> ((thrash_time = sleep(thrash_time)));</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a956494ad585bcb689f3afcea9dbd3299">sorcery_memory_cache_thrash_stop</a>(thrash);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(thrash, -1);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div><div class="ttc" id="structsorcery__memory__cache__thrash_html_a02bb383b208a935ebaa1a11bb21b663f"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#a02bb383b208a935ebaa1a11bb21b663f">sorcery_memory_cache_thrash::update_threads</a></div><div class="ttdeci">unsigned int update_threads</div><div class="ttdoc">The number of threads which are updating. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00069">test_sorcery_memory_cache_thrash.c:69</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_adef9edbf6f9f14318555dea51b575d50"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#adef9edbf6f9f14318555dea51b575d50">sorcery_memory_cache_thrash_create</a></div><div class="ttdeci">static struct sorcery_memory_cache_thrash * sorcery_memory_cache_thrash_create(const char *cache_configuration, unsigned int update_threads, unsigned int retrieve_threads, unsigned int unique_objects)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00173">test_sorcery_memory_cache_thrash.c:173</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a></div><div class="ttdoc">Structure for memory cache thrasing. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00065">test_sorcery_memory_cache_thrash.c:65</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html_ac11df594cceb8901fcf3cf87fa779776"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#ac11df594cceb8901fcf3cf87fa779776">sorcery_memory_cache_thrash::retrieve_threads</a></div><div class="ttdeci">unsigned int retrieve_threads</div><div class="ttdoc">The number of threads which are retrieving. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00073">test_sorcery_memory_cache_thrash.c:73</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a956494ad585bcb689f3afcea9dbd3299"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a956494ad585bcb689f3afcea9dbd3299">sorcery_memory_cache_thrash_stop</a></div><div class="ttdeci">static void sorcery_memory_cache_thrash_stop(struct sorcery_memory_cache_thrash *thrash)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00296">test_sorcery_memory_cache_thrash.c:296</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_ac92adbb220468c0c9ae4990117671fa5"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac92adbb220468c0c9ae4990117671fa5">sorcery_memory_cache_thrash_start</a></div><div class="ttdeci">static int sorcery_memory_cache_thrash_start(struct sorcery_memory_cache_thrash *thrash)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00345">test_sorcery_memory_cache_thrash.c:345</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2e86931a07ee94a5d49568b5f54dd32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2e86931a07ee94a5d49568b5f54dd32">&#9670;&nbsp;</a></span>sorcery_memory_cache_cli_thrash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* sorcery_memory_cache_cli_thrash </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00368">368</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00075">sorcery_memory_cache_thrash::average_retrieve_execution_time</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00071">sorcery_memory_cache_thrash::average_update_execution_time</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00073">sorcery_memory_cache_thrash::retrieve_threads</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00173">sorcery_memory_cache_thrash_create()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00345">sorcery_memory_cache_thrash_start()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00296">sorcery_memory_cache_thrash_stop()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00057">sorcery_memory_cache_thrash_thread::unique_objects</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00069">sorcery_memory_cache_thrash::update_threads</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a> *thrash;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> thrash_time, unique_objects, <a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#ac11df594cceb8901fcf3cf87fa779776">retrieve_threads</a>, <a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a02bb383b208a935ebaa1a11bb21b663f">update_threads</a>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;sorcery memory cache thrash&quot;</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;          <span class="stringliteral">&quot;Usage: sorcery memory cache thrash &lt;cache configuration&gt; &lt;amount of time to thrash the cache&gt; &lt;number of unique objects&gt; &lt;number of retrieve threads&gt; &lt;number of update threads&gt;\n&quot;</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;          <span class="stringliteral">&quot;       Create a sorcery instance with a memory cache using the provided configuration and thrash it.\n&quot;</span>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 9) {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   <span class="keywordflow">if</span> (sscanf(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5], <span class="stringliteral">&quot;%30u&quot;</span>, &amp;thrash_time) != 1) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;An invalid value of &#39;%s&#39; has been provided for the thrashing time\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[6], <span class="stringliteral">&quot;%30u&quot;</span>, &amp;unique_objects) != 1) {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;An invalid value of &#39;%s&#39; has been provided for number of unique objects\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[6]);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[7], <span class="stringliteral">&quot;%30u&quot;</span>, &amp;retrieve_threads) != 1) {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;An invalid value of &#39;%s&#39; has been provided for the number of retrieve threads\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[7]);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[8], <span class="stringliteral">&quot;%30u&quot;</span>, &amp;update_threads) != 1) {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;An invalid value of &#39;%s&#39; has been provided for the number of update threads\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[8]);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   thrash = <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#adef9edbf6f9f14318555dea51b575d50">sorcery_memory_cache_thrash_create</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4], update_threads, retrieve_threads, unique_objects);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <span class="keywordflow">if</span> (!thrash) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Could not create a sorcery memory cache thrash test using the provided arguments\n&quot;</span>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Starting cache thrash test.\n&quot;</span>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Memory cache configuration: %s\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4]);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Amount of time to perform test: %u seconds\n&quot;</span>, thrash_time);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Number of unique objects: %u\n&quot;</span>, unique_objects);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Number of retrieve threads: %u\n&quot;</span>, retrieve_threads);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Number of update threads: %u\n&quot;</span>, update_threads);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac92adbb220468c0c9ae4990117671fa5">sorcery_memory_cache_thrash_start</a>(thrash);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <span class="keywordflow">while</span> ((thrash_time = sleep(thrash_time)));</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a956494ad585bcb689f3afcea9dbd3299">sorcery_memory_cache_thrash_stop</a>(thrash);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Stopped cache thrash test\n&quot;</span>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Average retrieve execution time (in milliseconds): %u\n&quot;</span>, thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#aaf6495a5bf0f435f1edf22066fa953d6">average_retrieve_execution_time</a>);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Average update execution time (in milliseconds): %u\n&quot;</span>, thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a7949b3048db11c7d8932bf18fa7e50e9">average_update_execution_time</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(thrash, -1);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div><div class="ttc" id="structsorcery__memory__cache__thrash_html_a02bb383b208a935ebaa1a11bb21b663f"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#a02bb383b208a935ebaa1a11bb21b663f">sorcery_memory_cache_thrash::update_threads</a></div><div class="ttdeci">unsigned int update_threads</div><div class="ttdoc">The number of threads which are updating. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00069">test_sorcery_memory_cache_thrash.c:69</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html_aaf6495a5bf0f435f1edf22066fa953d6"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#aaf6495a5bf0f435f1edf22066fa953d6">sorcery_memory_cache_thrash::average_retrieve_execution_time</a></div><div class="ttdeci">unsigned int average_retrieve_execution_time</div><div class="ttdoc">The average execution time of sorcery retrieve operations. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00075">test_sorcery_memory_cache_thrash.c:75</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_adef9edbf6f9f14318555dea51b575d50"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#adef9edbf6f9f14318555dea51b575d50">sorcery_memory_cache_thrash_create</a></div><div class="ttdeci">static struct sorcery_memory_cache_thrash * sorcery_memory_cache_thrash_create(const char *cache_configuration, unsigned int update_threads, unsigned int retrieve_threads, unsigned int unique_objects)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00173">test_sorcery_memory_cache_thrash.c:173</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a></div><div class="ttdoc">Structure for memory cache thrasing. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00065">test_sorcery_memory_cache_thrash.c:65</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html_ac11df594cceb8901fcf3cf87fa779776"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#ac11df594cceb8901fcf3cf87fa779776">sorcery_memory_cache_thrash::retrieve_threads</a></div><div class="ttdeci">unsigned int retrieve_threads</div><div class="ttdoc">The number of threads which are retrieving. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00073">test_sorcery_memory_cache_thrash.c:73</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html_a7949b3048db11c7d8932bf18fa7e50e9"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#a7949b3048db11c7d8932bf18fa7e50e9">sorcery_memory_cache_thrash::average_update_execution_time</a></div><div class="ttdeci">unsigned int average_update_execution_time</div><div class="ttdoc">The average execution time of sorcery update operations. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00071">test_sorcery_memory_cache_thrash.c:71</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a956494ad585bcb689f3afcea9dbd3299"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a956494ad585bcb689f3afcea9dbd3299">sorcery_memory_cache_thrash_stop</a></div><div class="ttdeci">static void sorcery_memory_cache_thrash_stop(struct sorcery_memory_cache_thrash *thrash)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00296">test_sorcery_memory_cache_thrash.c:296</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_ac92adbb220468c0c9ae4990117671fa5"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac92adbb220468c0c9ae4990117671fa5">sorcery_memory_cache_thrash_start</a></div><div class="ttdeci">static int sorcery_memory_cache_thrash_start(struct sorcery_memory_cache_thrash *thrash)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00345">test_sorcery_memory_cache_thrash.c:345</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adef9edbf6f9f14318555dea51b575d50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adef9edbf6f9f14318555dea51b575d50">&#9670;&nbsp;</a></span>sorcery_memory_cache_thrash_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a>* sorcery_memory_cache_thrash_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cache_configuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>update_threads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>retrieve_threads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>unique_objects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00173">173</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00406">ao2_alloc_options</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00066">AST_PTHREADT_NULL</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00511">ast_sorcery_apply_wizard_mapping</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00868">ast_sorcery_internal_object_register</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00408">ast_sorcery_open</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00383">ast_sorcery_wizard_register</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00073">sorcery_memory_cache_thrash::retrieve_threads</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00055">sorcery_memory_cache_thrash_thread::sorcery</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00067">sorcery_memory_cache_thrash::sorcery</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00141">sorcery_memory_cache_thrash_destroy()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00090">test_data_alloc()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00053">sorcery_memory_cache_thrash_thread::thread</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00057">sorcery_memory_cache_thrash_thread::unique_objects</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00069">sorcery_memory_cache_thrash::update_threads</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">nominal_thrash()</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00368">sorcery_memory_cache_cli_thrash()</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a> *thrash;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a> *<a class="code" href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> total_threads = update_threads + retrieve_threads;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   thrash = <a class="code" href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a>(<span class="keyword">sizeof</span>(*thrash), <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a875b12c5ac4da2ea6d5678afe785abbb">sorcery_memory_cache_thrash_destroy</a>,</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <span class="keywordflow">if</span> (!thrash) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a02bb383b208a935ebaa1a11bb21b663f">update_threads</a> = update_threads;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#ac11df594cceb8901fcf3cf87fa779776">retrieve_threads</a> = retrieve_threads;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#aa2b2d9798c21334810a480fdc3260bb8">ast_sorcery_wizard_register</a>(&amp;<a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a93253ad88664252f13a1eb0650303691">mock_wizard</a>);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a> = <a class="code" href="../../d8/d25/sorcery_8h.html#ad60f3b81bed748245f8045cb48fadee2">ast_sorcery_open</a>();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <span class="keywordflow">if</span> (!thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(thrash, -1);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a02d1aa896acd254e31664df39e3086c9">ast_sorcery_apply_wizard_mapping</a>(thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;test&quot;</span>, <span class="stringliteral">&quot;memory_cache&quot;</span>,</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;         !strcmp(cache_configuration, <span class="stringliteral">&quot;default&quot;</span>) ? <span class="stringliteral">&quot;&quot;</span> : cache_configuration, 1);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a02d1aa896acd254e31664df39e3086c9">ast_sorcery_apply_wizard_mapping</a>(thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;test&quot;</span>, <span class="stringliteral">&quot;mock&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a6f16dd100bbc816e1d8eb67026ab4ee3">ast_sorcery_internal_object_register</a>(thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;test&quot;</span>, <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a42cfb1ae93ed6226126180bc40c3eb7c">test_data_alloc</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;thrash-&gt;threads, update_threads + retrieve_threads)) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(thrash, -1);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <span class="keywordflow">while</span> (<a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;thrash-&gt;threads) != total_threads) {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      thread = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*thread));</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordflow">if</span> (!thread) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(thrash, -1);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> = <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a54527fcd0ab0ada087bf0e46690779b1">unique_objects</a> = <a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a54527fcd0ab0ada087bf0e46690779b1">unique_objects</a>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="comment">/* This purposely holds no ref as the main thrash structure does */</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a> = thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(&amp;thrash-&gt;threads, thread)) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(thread);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(thrash, -1);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="keywordflow">return</span> thrash;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div><div class="ttc" id="structsorcery__memory__cache__thrash_html_a02bb383b208a935ebaa1a11bb21b663f"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#a02bb383b208a935ebaa1a11bb21b663f">sorcery_memory_cache_thrash::update_threads</a></div><div class="ttdeci">unsigned int update_threads</div><div class="ttdoc">The number of threads which are updating. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00069">test_sorcery_memory_cache_thrash.c:69</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery_memory_cache_thrash_thread::sorcery</a></div><div class="ttdeci">struct ast_sorcery * sorcery</div><div class="ttdoc">Sorcery instance being tested. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00055">test_sorcery_memory_cache_thrash.c:55</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01089">app_meetme.c:1089</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="sorcery_8h_html_a02d1aa896acd254e31664df39e3086c9"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a02d1aa896acd254e31664df39e3086c9">ast_sorcery_apply_wizard_mapping</a></div><div class="ttdeci">#define ast_sorcery_apply_wizard_mapping(sorcery, type, name, data, caching)</div><div class="ttdoc">Apply additional object wizard mappings. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00511">sorcery.h:511</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a></div><div class="ttdoc">Structure for a memory cache thras thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00051">test_sorcery_memory_cache_thrash.c:51</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab3c44e28d661616129b7819069effe61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a></div><div class="ttdeci">#define ao2_alloc_options(data_size, destructor_fn, options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00406">astobj2.h:406</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a42cfb1ae93ed6226126180bc40c3eb7c"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a42cfb1ae93ed6226126180bc40c3eb7c">test_data_alloc</a></div><div class="ttdeci">static void * test_data_alloc(const char *id)</div><div class="ttdoc">Allocation callback for test_data sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00090">test_sorcery_memory_cache_thrash.c:90</a></div></div>
<div class="ttc" id="lock_8h_html_a6009440c7a72f8e2e3b1ec97641ad160"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></div><div class="ttdeci">#define AST_PTHREADT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00066">lock.h:66</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a01f75a9ad916f63a94e06a27635ba278">sorcery_memory_cache_thrash_thread::thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdoc">The thread thrashing the cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00053">test_sorcery_memory_cache_thrash.c:53</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a54527fcd0ab0ada087bf0e46690779b1"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a54527fcd0ab0ada087bf0e46690779b1">sorcery_memory_cache_thrash_thread::unique_objects</a></div><div class="ttdeci">unsigned int unique_objects</div><div class="ttdoc">The number of unique objects we should restrict ourself to. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00057">test_sorcery_memory_cache_thrash.c:57</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery_memory_cache_thrash::sorcery</a></div><div class="ttdeci">struct ast_sorcery * sorcery</div><div class="ttdoc">The sorcery instance being tested. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00067">test_sorcery_memory_cache_thrash.c:67</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a></div><div class="ttdoc">Structure for memory cache thrasing. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00065">test_sorcery_memory_cache_thrash.c:65</a></div></div>
<div class="ttc" id="sorcery_8h_html_aa2b2d9798c21334810a480fdc3260bb8"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aa2b2d9798c21334810a480fdc3260bb8">ast_sorcery_wizard_register</a></div><div class="ttdeci">#define ast_sorcery_wizard_register(interface)</div><div class="ttdoc">See __ast_sorcery_wizard_register() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00383">sorcery.h:383</a></div></div>
<div class="ttc" id="sorcery_8h_html_a6f16dd100bbc816e1d8eb67026ab4ee3"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a6f16dd100bbc816e1d8eb67026ab4ee3">ast_sorcery_internal_object_register</a></div><div class="ttdeci">#define ast_sorcery_internal_object_register(sorcery, type, alloc, transform, apply)</div><div class="ttdoc">Register an internal, hidden object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00868">sorcery.h:868</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a875b12c5ac4da2ea6d5678afe785abbb"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a875b12c5ac4da2ea6d5678afe785abbb">sorcery_memory_cache_thrash_destroy</a></div><div class="ttdeci">static void sorcery_memory_cache_thrash_destroy(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00141">test_sorcery_memory_cache_thrash.c:141</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html_ac11df594cceb8901fcf3cf87fa779776"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#ac11df594cceb8901fcf3cf87fa779776">sorcery_memory_cache_thrash::retrieve_threads</a></div><div class="ttdeci">unsigned int retrieve_threads</div><div class="ttdoc">The number of threads which are retrieving. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00073">test_sorcery_memory_cache_thrash.c:73</a></div></div>
<div class="ttc" id="sorcery_8h_html_ad60f3b81bed748245f8045cb48fadee2"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ad60f3b81bed748245f8045cb48fadee2">ast_sorcery_open</a></div><div class="ttdeci">#define ast_sorcery_open()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00408">sorcery.h:408</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a93253ad88664252f13a1eb0650303691"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a93253ad88664252f13a1eb0650303691">mock_wizard</a></div><div class="ttdeci">static struct ast_sorcery_wizard mock_wizard</div><div class="ttdoc">A mock sorcery wizard used for the stale test. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00129">test_sorcery_memory_cache_thrash.c:129</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a875b12c5ac4da2ea6d5678afe785abbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a875b12c5ac4da2ea6d5678afe785abbb">&#9670;&nbsp;</a></span>sorcery_memory_cache_thrash_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sorcery_memory_cache_thrash_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00141">141</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l01502">ast_sorcery_unref</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00474">ast_sorcery_wizard_unregister()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00067">sorcery_memory_cache_thrash::sorcery</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00053">sorcery_memory_cache_thrash_thread::thread</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00173">sorcery_memory_cache_thrash_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a> *thrash = obj;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <span class="keywordflow">if</span> (thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <a class="code" href="../../d8/d25/sorcery_8h.html#a09cba9c37c702ca2bdcf94052068ed67">ast_sorcery_unref</a>(thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;thrash-&gt;threads); ++idx) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a> *<a class="code" href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      thread = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;thrash-&gt;threads, idx);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(thread);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;thrash-&gt;threads);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a14ed6490f3390526922655ab5dbc344f">ast_sorcery_wizard_unregister</a>(&amp;<a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a93253ad88664252f13a1eb0650303691">mock_wizard</a>);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div><div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01089">app_meetme.c:1089</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a></div><div class="ttdoc">Structure for a memory cache thras thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00051">test_sorcery_memory_cache_thrash.c:51</a></div></div>
<div class="ttc" id="sorcery_8h_html_a09cba9c37c702ca2bdcf94052068ed67"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a09cba9c37c702ca2bdcf94052068ed67">ast_sorcery_unref</a></div><div class="ttdeci">#define ast_sorcery_unref(sorcery)</div><div class="ttdoc">Decrease the reference count of a sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l01502">sorcery.h:1502</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery_memory_cache_thrash::sorcery</a></div><div class="ttdeci">struct ast_sorcery * sorcery</div><div class="ttdoc">The sorcery instance being tested. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00067">test_sorcery_memory_cache_thrash.c:67</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a></div><div class="ttdoc">Structure for memory cache thrasing. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00065">test_sorcery_memory_cache_thrash.c:65</a></div></div>
<div class="ttc" id="sorcery_8h_html_a14ed6490f3390526922655ab5dbc344f"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a14ed6490f3390526922655ab5dbc344f">ast_sorcery_wizard_unregister</a></div><div class="ttdeci">int ast_sorcery_wizard_unregister(const struct ast_sorcery_wizard *interface)</div><div class="ttdoc">Unregister a sorcery wizard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00474">sorcery.c:474</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a93253ad88664252f13a1eb0650303691"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a93253ad88664252f13a1eb0650303691">mock_wizard</a></div><div class="ttdeci">static struct ast_sorcery_wizard mock_wizard</div><div class="ttdoc">A mock sorcery wizard used for the stale test. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00129">test_sorcery_memory_cache_thrash.c:129</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3c7f616ec10306c1f704d2b5797f2df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3c7f616ec10306c1f704d2b5797f2df">&#9670;&nbsp;</a></span>sorcery_memory_cache_thrash_retrieve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* sorcery_memory_cache_thrash_retrieve </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00267">267</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02064">ast_random()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01853">ast_sorcery_retrieve_by_id()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00098">ast_tvdiff_ms()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../dd/d1d/uuid_8h_source.html#l00027">AST_UUID_STR_LEN</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00061">sorcery_memory_cache_thrash_thread::average_execution_time</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00055">sorcery_memory_cache_thrash_thread::sorcery</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00059">sorcery_memory_cache_thrash_thread::stop</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00053">sorcery_memory_cache_thrash_thread::thread</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00057">sorcery_memory_cache_thrash_thread::unique_objects</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00345">sorcery_memory_cache_thrash_start()</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a> *<a class="code" href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> = data;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="keyword">struct </span>timeval start;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> object_id;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   <span class="keywordtype">char</span> object_id_str[<a class="code" href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a>];</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <span class="keywordtype">void</span> *object;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   <span class="keywordflow">while</span> (!thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a111277a0849f92b793ed6aa1efe54462">stop</a>) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      object_id = <a class="code" href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a>() % thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a54527fcd0ab0ada087bf0e46690779b1">unique_objects</a>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      snprintf(object_id_str, <span class="keyword">sizeof</span>(object_id_str), <span class="stringliteral">&quot;%u&quot;</span>, object_id);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      start = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordtype">object</span> = <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;test&quot;</span>, object_id_str);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a56f19fb8a287db52edf45daf0f46e828">average_execution_time</a> = (thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a56f19fb8a287db52edf45daf0f46e828">average_execution_time</a> + <a class="code" href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a>(<a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>(), start)) / 2;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<span class="keywordtype">object</span> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<span class="keywordtype">object</span>, -1);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div><div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery_memory_cache_thrash_thread::sorcery</a></div><div class="ttdeci">struct ast_sorcery * sorcery</div><div class="ttdoc">Sorcery instance being tested. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00055">test_sorcery_memory_cache_thrash.c:55</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01089">app_meetme.c:1089</a></div></div>
<div class="ttc" id="uuid_8h_html_a127408e53d34dca0c589a099fabf1e13"><div class="ttname"><a href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a></div><div class="ttdeci">#define AST_UUID_STR_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d1d/uuid_8h_source.html#l00027">uuid.h:27</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a></div><div class="ttdoc">Structure for a memory cache thras thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00051">test_sorcery_memory_cache_thrash.c:51</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="time_8h_html_aca4ecdab7d8d3519062aad9a90fcb29d"><div class="ttname"><a href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a></div><div class="ttdeci">int64_t ast_tvdiff_ms(struct timeval end, struct timeval start)</div><div class="ttdoc">Computes the difference (in milliseconds) between two struct timeval instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00098">time.h:98</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="sorcery_8h_html_a100106a82d72aa59a66513ef3ad161c8"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_id(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Retrieve an object using its unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01853">sorcery.c:1853</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a56f19fb8a287db52edf45daf0f46e828"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a56f19fb8a287db52edf45daf0f46e828">sorcery_memory_cache_thrash_thread::average_execution_time</a></div><div class="ttdeci">unsigned int average_execution_time</div><div class="ttdoc">Average time spent executing sorcery operation in this thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00061">test_sorcery_memory_cache_thrash.c:61</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="utils_8h_html_a7b4f10b070e95ba413e258a3e4b03c20"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a></div><div class="ttdeci">long int ast_random(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02064">main/utils.c:2064</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a54527fcd0ab0ada087bf0e46690779b1"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a54527fcd0ab0ada087bf0e46690779b1">sorcery_memory_cache_thrash_thread::unique_objects</a></div><div class="ttdeci">unsigned int unique_objects</div><div class="ttdoc">The number of unique objects we should restrict ourself to. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00057">test_sorcery_memory_cache_thrash.c:57</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a111277a0849f92b793ed6aa1efe54462"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a111277a0849f92b793ed6aa1efe54462">sorcery_memory_cache_thrash_thread::stop</a></div><div class="ttdeci">unsigned int stop</div><div class="ttdoc">Set when the thread should stop. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00059">test_sorcery_memory_cache_thrash.c:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac92adbb220468c0c9ae4990117671fa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac92adbb220468c0c9ae4990117671fa5">&#9670;&nbsp;</a></span>sorcery_memory_cache_thrash_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int sorcery_memory_cache_thrash_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a> *&#160;</td>
          <td class="paramname"><em>thrash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00345">345</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00559">ast_pthread_create</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00267">sorcery_memory_cache_thrash_retrieve()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00296">sorcery_memory_cache_thrash_stop()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00237">sorcery_memory_cache_thrash_update()</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00053">sorcery_memory_cache_thrash_thread::thread</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">nominal_thrash()</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00368">sorcery_memory_cache_cli_thrash()</a>.</p>
<div class="fragment"><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;thrash-&gt;threads); ++idx) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a> *<a class="code" href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      thread = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;thrash-&gt;threads, idx);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a>(&amp;thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, idx &lt; thrash-&gt;update_threads ?</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;         <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#acde936bbd9611b5ce7a2854b6ad2f411">sorcery_memory_cache_thrash_update</a> : <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac3c7f616ec10306c1f704d2b5797f2df">sorcery_memory_cache_thrash_retrieve</a>, thread)) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;         <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a956494ad585bcb689f3afcea9dbd3299">sorcery_memory_cache_thrash_stop</a>(thrash);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div><div class="ttc" id="app__meetme_8c_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01089">app_meetme.c:1089</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_ac3c7f616ec10306c1f704d2b5797f2df"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#ac3c7f616ec10306c1f704d2b5797f2df">sorcery_memory_cache_thrash_retrieve</a></div><div class="ttdeci">static void * sorcery_memory_cache_thrash_retrieve(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00267">test_sorcery_memory_cache_thrash.c:267</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a></div><div class="ttdoc">Structure for a memory cache thras thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00051">test_sorcery_memory_cache_thrash.c:51</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a01f75a9ad916f63a94e06a27635ba278">sorcery_memory_cache_thrash_thread::thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdoc">The thread thrashing the cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00053">test_sorcery_memory_cache_thrash.c:53</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_acde936bbd9611b5ce7a2854b6ad2f411"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#acde936bbd9611b5ce7a2854b6ad2f411">sorcery_memory_cache_thrash_update</a></div><div class="ttdeci">static void * sorcery_memory_cache_thrash_update(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00237">test_sorcery_memory_cache_thrash.c:237</a></div></div>
<div class="ttc" id="utils_8h_html_a4781fd54a4ca8c7f0f8a32a6cce503c0"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a></div><div class="ttdeci">#define ast_pthread_create(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00559">utils.h:559</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a956494ad585bcb689f3afcea9dbd3299"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a956494ad585bcb689f3afcea9dbd3299">sorcery_memory_cache_thrash_stop</a></div><div class="ttdeci">static void sorcery_memory_cache_thrash_stop(struct sorcery_memory_cache_thrash *thrash)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00296">test_sorcery_memory_cache_thrash.c:296</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a956494ad585bcb689f3afcea9dbd3299"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a956494ad585bcb689f3afcea9dbd3299">&#9670;&nbsp;</a></span>sorcery_memory_cache_thrash_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sorcery_memory_cache_thrash_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d8a/structsorcery__memory__cache__thrash.html">sorcery_memory_cache_thrash</a> *&#160;</td>
          <td class="paramname"><em>thrash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00296">296</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00066">AST_PTHREADT_NULL</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00061">sorcery_memory_cache_thrash_thread::average_execution_time</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00075">sorcery_memory_cache_thrash::average_retrieve_execution_time</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00071">sorcery_memory_cache_thrash::average_update_execution_time</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00073">sorcery_memory_cache_thrash::retrieve_threads</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00059">sorcery_memory_cache_thrash_thread::stop</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00053">sorcery_memory_cache_thrash_thread::thread</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00069">sorcery_memory_cache_thrash::update_threads</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00447">nominal_thrash()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00368">sorcery_memory_cache_cli_thrash()</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00345">sorcery_memory_cache_thrash_start()</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;{</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;thrash-&gt;threads); ++idx) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a> *<a class="code" href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      thread = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;thrash-&gt;threads, idx);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordflow">if</span> (thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> == <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a111277a0849f92b793ed6aa1efe54462">stop</a> = 1;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;thrash-&gt;threads); ++idx) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a> *<a class="code" href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      thread = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;thrash-&gt;threads, idx);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">if</span> (thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> == <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      pthread_join(thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keywordflow">if</span> (idx &lt; thrash-&gt;update_threads) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;         thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a7949b3048db11c7d8932bf18fa7e50e9">average_update_execution_time</a> += thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a56f19fb8a287db52edf45daf0f46e828">average_execution_time</a>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;         thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#aaf6495a5bf0f435f1edf22066fa953d6">average_retrieve_execution_time</a> += thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a56f19fb8a287db52edf45daf0f46e828">average_execution_time</a>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <span class="keywordflow">if</span> (thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a02bb383b208a935ebaa1a11bb21b663f">update_threads</a>) {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a7949b3048db11c7d8932bf18fa7e50e9">average_update_execution_time</a> /= thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#a02bb383b208a935ebaa1a11bb21b663f">update_threads</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <span class="keywordflow">if</span> (thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#ac11df594cceb8901fcf3cf87fa779776">retrieve_threads</a>) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#aaf6495a5bf0f435f1edf22066fa953d6">average_retrieve_execution_time</a> /= thrash-&gt;<a class="code" href="../../db/d8a/structsorcery__memory__cache__thrash.html#ac11df594cceb8901fcf3cf87fa779776">retrieve_threads</a>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div><div class="ttc" id="structsorcery__memory__cache__thrash_html_a02bb383b208a935ebaa1a11bb21b663f"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#a02bb383b208a935ebaa1a11bb21b663f">sorcery_memory_cache_thrash::update_threads</a></div><div class="ttdeci">unsigned int update_threads</div><div class="ttdoc">The number of threads which are updating. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00069">test_sorcery_memory_cache_thrash.c:69</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01089">app_meetme.c:1089</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a></div><div class="ttdoc">Structure for a memory cache thras thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00051">test_sorcery_memory_cache_thrash.c:51</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html_aaf6495a5bf0f435f1edf22066fa953d6"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#aaf6495a5bf0f435f1edf22066fa953d6">sorcery_memory_cache_thrash::average_retrieve_execution_time</a></div><div class="ttdeci">unsigned int average_retrieve_execution_time</div><div class="ttdoc">The average execution time of sorcery retrieve operations. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00075">test_sorcery_memory_cache_thrash.c:75</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a56f19fb8a287db52edf45daf0f46e828"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a56f19fb8a287db52edf45daf0f46e828">sorcery_memory_cache_thrash_thread::average_execution_time</a></div><div class="ttdeci">unsigned int average_execution_time</div><div class="ttdoc">Average time spent executing sorcery operation in this thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00061">test_sorcery_memory_cache_thrash.c:61</a></div></div>
<div class="ttc" id="lock_8h_html_a6009440c7a72f8e2e3b1ec97641ad160"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></div><div class="ttdeci">#define AST_PTHREADT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00066">lock.h:66</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a01f75a9ad916f63a94e06a27635ba278">sorcery_memory_cache_thrash_thread::thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdoc">The thread thrashing the cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00053">test_sorcery_memory_cache_thrash.c:53</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html_ac11df594cceb8901fcf3cf87fa779776"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#ac11df594cceb8901fcf3cf87fa779776">sorcery_memory_cache_thrash::retrieve_threads</a></div><div class="ttdeci">unsigned int retrieve_threads</div><div class="ttdoc">The number of threads which are retrieving. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00073">test_sorcery_memory_cache_thrash.c:73</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a111277a0849f92b793ed6aa1efe54462"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a111277a0849f92b793ed6aa1efe54462">sorcery_memory_cache_thrash_thread::stop</a></div><div class="ttdeci">unsigned int stop</div><div class="ttdoc">Set when the thread should stop. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00059">test_sorcery_memory_cache_thrash.c:59</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash_html_a7949b3048db11c7d8932bf18fa7e50e9"><div class="ttname"><a href="../../db/d8a/structsorcery__memory__cache__thrash.html#a7949b3048db11c7d8932bf18fa7e50e9">sorcery_memory_cache_thrash::average_update_execution_time</a></div><div class="ttdeci">unsigned int average_update_execution_time</div><div class="ttdoc">The average execution time of sorcery update operations. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00071">test_sorcery_memory_cache_thrash.c:71</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acde936bbd9611b5ce7a2854b6ad2f411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acde936bbd9611b5ce7a2854b6ad2f411">&#9670;&nbsp;</a></span>sorcery_memory_cache_thrash_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* sorcery_memory_cache_thrash_update </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00237">237</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02064">ast_random()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01744">ast_sorcery_alloc()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02145">ast_sorcery_update()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00098">ast_tvdiff_ms()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../dd/d1d/uuid_8h_source.html#l00027">AST_UUID_STR_LEN</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00061">sorcery_memory_cache_thrash_thread::average_execution_time</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00055">sorcery_memory_cache_thrash_thread::sorcery</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00059">sorcery_memory_cache_thrash_thread::stop</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00053">sorcery_memory_cache_thrash_thread::thread</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00057">sorcery_memory_cache_thrash_thread::unique_objects</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00345">sorcery_memory_cache_thrash_start()</a>.</p>
<div class="fragment"><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;{</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a> *<a class="code" href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> = data;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   <span class="keyword">struct </span>timeval start;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> object_id;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <span class="keywordtype">char</span> object_id_str[<a class="code" href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a>];</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <span class="keywordtype">void</span> *object;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   <span class="keywordflow">while</span> (!thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a111277a0849f92b793ed6aa1efe54462">stop</a>) {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      object_id = <a class="code" href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a>() % thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a54527fcd0ab0ada087bf0e46690779b1">unique_objects</a>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      snprintf(object_id_str, <span class="keyword">sizeof</span>(object_id_str), <span class="stringliteral">&quot;%u&quot;</span>, object_id);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordtype">object</span> = <a class="code" href="../../d8/d25/sorcery_8h.html#acb6c97c18566cf94a7ac95a43dd9a816">ast_sorcery_alloc</a>(thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;test&quot;</span>, object_id_str);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<span class="keywordtype">object</span> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      start = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <a class="code" href="../../d8/d25/sorcery_8h.html#ab9184a8cdeb14537309e5e020948ecd3">ast_sorcery_update</a>(thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="keywordtype">object</span>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a56f19fb8a287db52edf45daf0f46e828">average_execution_time</a> = (thread-&gt;<a class="code" href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a56f19fb8a287db52edf45daf0f46e828">average_execution_time</a> + <a class="code" href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a>(<a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>(), start)) / 2;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<span class="keywordtype">object</span>, -1);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div><div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery_memory_cache_thrash_thread::sorcery</a></div><div class="ttdeci">struct ast_sorcery * sorcery</div><div class="ttdoc">Sorcery instance being tested. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00055">test_sorcery_memory_cache_thrash.c:55</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01089">app_meetme.c:1089</a></div></div>
<div class="ttc" id="uuid_8h_html_a127408e53d34dca0c589a099fabf1e13"><div class="ttname"><a href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a></div><div class="ttdeci">#define AST_UUID_STR_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d1d/uuid_8h_source.html#l00027">uuid.h:27</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html">sorcery_memory_cache_thrash_thread</a></div><div class="ttdoc">Structure for a memory cache thras thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00051">test_sorcery_memory_cache_thrash.c:51</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="time_8h_html_aca4ecdab7d8d3519062aad9a90fcb29d"><div class="ttname"><a href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a></div><div class="ttdeci">int64_t ast_tvdiff_ms(struct timeval end, struct timeval start)</div><div class="ttdoc">Computes the difference (in milliseconds) between two struct timeval instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00098">time.h:98</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a56f19fb8a287db52edf45daf0f46e828"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a56f19fb8a287db52edf45daf0f46e828">sorcery_memory_cache_thrash_thread::average_execution_time</a></div><div class="ttdeci">unsigned int average_execution_time</div><div class="ttdoc">Average time spent executing sorcery operation in this thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00061">test_sorcery_memory_cache_thrash.c:61</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="utils_8h_html_a7b4f10b070e95ba413e258a3e4b03c20"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a></div><div class="ttdeci">long int ast_random(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02064">main/utils.c:2064</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a54527fcd0ab0ada087bf0e46690779b1"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a54527fcd0ab0ada087bf0e46690779b1">sorcery_memory_cache_thrash_thread::unique_objects</a></div><div class="ttdeci">unsigned int unique_objects</div><div class="ttdoc">The number of unique objects we should restrict ourself to. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00057">test_sorcery_memory_cache_thrash.c:57</a></div></div>
<div class="ttc" id="sorcery_8h_html_acb6c97c18566cf94a7ac95a43dd9a816"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#acb6c97c18566cf94a7ac95a43dd9a816">ast_sorcery_alloc</a></div><div class="ttdeci">void * ast_sorcery_alloc(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Allocate an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01744">sorcery.c:1744</a></div></div>
<div class="ttc" id="structsorcery__memory__cache__thrash__thread_html_a111277a0849f92b793ed6aa1efe54462"><div class="ttname"><a href="../../d1/d06/structsorcery__memory__cache__thrash__thread.html#a111277a0849f92b793ed6aa1efe54462">sorcery_memory_cache_thrash_thread::stop</a></div><div class="ttdeci">unsigned int stop</div><div class="ttdoc">Set when the thread should stop. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00059">test_sorcery_memory_cache_thrash.c:59</a></div></div>
<div class="ttc" id="sorcery_8h_html_ab9184a8cdeb14537309e5e020948ecd3"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ab9184a8cdeb14537309e5e020948ecd3">ast_sorcery_update</a></div><div class="ttdeci">int ast_sorcery_update(const struct ast_sorcery *sorcery, void *object)</div><div class="ttdoc">Update an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02145">sorcery.c:2145</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42cfb1ae93ed6226126180bc40c3eb7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42cfb1ae93ed6226126180bc40c3eb7c">&#9670;&nbsp;</a></span>test_data_alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* test_data_alloc </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocation callback for <a class="el" href="../../dc/d9a/structtest__data.html" title="Sorcery object created based on backend data. ">test_data</a> sorcery object. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00090">90</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01728">ast_sorcery_generic_alloc()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00173">sorcery_memory_cache_thrash_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#a4c03ccef909474831717c93679065508">ast_sorcery_generic_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../dc/d9a/structtest__data.html">test_data</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structtest__data_html"><div class="ttname"><a href="../../dc/d9a/structtest__data.html">test_data</a></div><div class="ttdoc">Sorcery object created based on backend data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02986">res_sorcery_memory_cache.c:2986</a></div></div>
<div class="ttc" id="sorcery_8h_html_a4c03ccef909474831717c93679065508"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a4c03ccef909474831717c93679065508">ast_sorcery_generic_alloc</a></div><div class="ttdeci">void * ast_sorcery_generic_alloc(size_t size, ao2_destructor_fn destructor)</div><div class="ttdoc">Allocate a generic sorcery capable object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01728">sorcery.c:1728</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00603">603</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00030">ast_cli_unregister_multiple()</a>, and <a class="el" href="../../d2/ddc/test_8h_source.html#l00128">AST_TEST_UNREGISTER</a>.</p>
<div class="fragment"><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;{</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(<a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a632411aeea075309ceef516310968327">cli_memory_cache_thrash</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a632411aeea075309ceef516310968327">cli_memory_cache_thrash</a>));</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(low_unique_object_count_immediately_stale);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(low_unique_object_count_immediately_expire);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(low_unique_object_count_high_concurrent_updates);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(unique_objects_exceeding_maximum);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(unique_objects_exceeding_maximum_with_expire_and_stale);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(conflicting_expire_and_stale);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(high_object_count_without_expiration);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_a632411aeea075309ceef516310968327"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#a632411aeea075309ceef516310968327">cli_memory_cache_thrash</a></div><div class="ttdeci">static struct ast_cli_entry cli_memory_cache_thrash[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00429">test_sorcery_memory_cache_thrash.c:429</a></div></div>
<div class="ttc" id="test_8h_html_a79bc64a935b14b1b181156e5ada58ead"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a></div><div class="ttdeci">#define AST_TEST_UNREGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00128">test.h:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Sorcery Cache Thrasing <a class="el" href="../../d8/d89/structtest.html">test</a> module&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .load_pri = <a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00631">631</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00631">631</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

</div>
</div>
<a id="a632411aeea075309ceef516310968327"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a632411aeea075309ceef516310968327">&#9670;&nbsp;</a></span>cli_memory_cache_thrash</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> cli_memory_cache_thrash[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   { .handler =  <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#af2e86931a07ee94a5d49568b5f54dd32">sorcery_memory_cache_cli_thrash</a> , .summary =  <span class="stringliteral">&quot;Thrash a sorcery memory cache&quot;</span> ,},</div><div class="line">}</div><div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_af2e86931a07ee94a5d49568b5f54dd32"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#af2e86931a07ee94a5d49568b5f54dd32">sorcery_memory_cache_cli_thrash</a></div><div class="ttdeci">static char * sorcery_memory_cache_cli_thrash(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00368">test_sorcery_memory_cache_thrash.c:368</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00429">429</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

</div>
</div>
<a id="a93253ad88664252f13a1eb0650303691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93253ad88664252f13a1eb0650303691">&#9670;&nbsp;</a></span>mock_wizard</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> mock_wizard</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;mock&quot;</span>,</div><div class="line">   .retrieve_id = <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#aab28609572a132139c835e70368bdddb">mock_retrieve_id</a>,</div><div class="line">   .update = <a class="code" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#aea16e4b3bef0a293567f7ad671aded16">mock_update</a>,</div><div class="line">}</div><div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_aea16e4b3bef0a293567f7ad671aded16"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#aea16e4b3bef0a293567f7ad671aded16">mock_update</a></div><div class="ttdeci">static int mock_update(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdoc">Callback for updating a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00120">test_sorcery_memory_cache_thrash.c:120</a></div></div>
<div class="ttc" id="test__sorcery__memory__cache__thrash_8c_html_aab28609572a132139c835e70368bdddb"><div class="ttname"><a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html#aab28609572a132139c835e70368bdddb">mock_retrieve_id</a></div><div class="ttdeci">static void * mock_retrieve_id(const struct ast_sorcery *sorcery, void *data, const char *type, const char *id)</div><div class="ttdoc">Callback for retrieving sorcery object by ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00106">test_sorcery_memory_cache_thrash.c:106</a></div></div>
</div><!-- fragment -->
<p>A mock sorcery wizard used for the stale test. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00129">129</a> of file <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html">test_sorcery_memory_cache_thrash.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:57 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
