<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: app_alarmreceiver.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_9654b8d08f4bba4e84b362c5fd320bee.html">apps</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">app_alarmreceiver.c File Reference<div class="ingroups"><a class="el" href="../../d9/dc9/group__applications.html">Dial plan applications</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Central Station Alarm receiver for Ademco Contact ID.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;sys/wait.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d4d/file_8h_source.html">asterisk/file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d39/translate_8h_source.html">asterisk/translate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d08/dsp_8h_source.html">asterisk/dsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html">asterisk/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/deb/localtime_8h_source.html">asterisk/localtime.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d47/callerid_8h_source.html">asterisk/callerid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d4a/astdb_8h_source.html">asterisk/astdb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d0f/indications_8h_source.html">asterisk/indications.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d1c/format__cache_8h_source.html">asterisk/format_cache.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for app_alarmreceiver.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d3f/app__alarmreceiver_8c__incl.png" border="0" usemap="#app__alarmreceiver_8c" alt=""/></div>
<map name="app__alarmreceiver_8c" id="app__alarmreceiver_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="425,304,509,331"/>
<area shape="rect" id="node11" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1614,453,1728,480"/>
<area shape="rect" id="node19" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="3364,229,3471,256"/>
<area shape="rect" id="node22" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1306,155,1444,181"/>
<area shape="rect" id="node24" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="2502,304,2616,331"/>
<area shape="rect" id="node25" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="3376,379,3523,405"/>
<area shape="rect" id="node33" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="2522,229,2649,256"/>
<area shape="rect" id="node42" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="2178,80,2289,107"/>
<area shape="rect" id="node43" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="2948,155,3084,181"/>
<area shape="rect" id="node44" href="../../db/d39/translate_8h.html" title="Support for translation of data formats. translate.c. " alt="" coords="2232,155,2377,181"/>
<area shape="rect" id="node45" href="../../db/d1c/format__cache_8h.html" title="Media Format Cache API. " alt="" coords="2674,229,2850,256"/>
<area shape="rect" id="node46" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="3120,155,3232,181"/>
<area shape="rect" id="node47" href="../../d3/d08/dsp_8h.html" title="Convenient Signal Processing routines. " alt="" coords="3077,80,3188,107"/>
<area shape="rect" id="node48" href="../../de/d47/callerid_8h.html" title="CallerID (and other GR30) management and generation Includes code and algorithms from the Zapata libr..." alt="" coords="3212,80,3346,107"/>
<area shape="rect" id="node49" href="../../de/d4a/astdb_8h.html" title="Persistant data storage (akin to *doze registry) " alt="" coords="3370,80,3494,107"/>
<area shape="rect" id="node50" href="../../d2/d0f/indications_8h.html" title="Tone Indication Support. " alt="" coords="2342,229,2498,256"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1178,603,1332,629"/>
<area shape="rect" id="node4" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="1256,453,1393,480"/>
<area shape="rect" id="node7" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="330,379,465,405"/>
<area shape="rect" id="node5" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1317,528,1460,555"/>
<area shape="rect" id="node13" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="2004,528,2066,555"/>
<area shape="rect" id="node14" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="2082,603,2228,629"/>
<area shape="rect" id="node17" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="1594,528,1745,555"/>
<area shape="rect" id="node18" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="2246,528,2373,555"/>
<area shape="rect" id="node23" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1886,229,2030,256"/>
<area shape="rect" id="node26" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2480,379,2638,405"/>
<area shape="rect" id="node27" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="234,453,393,480"/>
<area shape="rect" id="node28" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1614,304,1749,331"/>
<area shape="rect" id="node29" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1362,379,1513,405"/>
<area shape="rect" id="node30" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="644,229,808,256"/>
<area shape="rect" id="node31" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1084,304,1210,331"/>
<area shape="rect" id="node32" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="1715,229,1862,256"/>
<area shape="rect" id="node34" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="832,229,939,256"/>
<area shape="rect" id="node35" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1337,304,1488,331"/>
<area shape="rect" id="node36" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="2054,229,2216,256"/>
<area shape="rect" id="node37" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="347,229,518,256"/>
<area shape="rect" id="node38" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="964,229,1080,256"/>
<area shape="rect" id="node39" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1104,229,1262,256"/>
<area shape="rect" id="node40" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="2924,229,3050,256"/>
<area shape="rect" id="node41" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1438,229,1589,256"/>
</map>
</div>
</div>
<p><a href="../../dc/d5c/app__alarmreceiver_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d6e/structevent__node.html">event_node</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a33fbd672e7df029f67de5fd3ed1bd1fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a33fbd672e7df029f67de5fd3ed1bd1fa">ADEMCO_AUDIO_CALL_NEXT</a>&#160;&#160;&#160;&quot;606&quot;</td></tr>
<tr class="separator:a33fbd672e7df029f67de5fd3ed1bd1fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b1df7bccd72d266f341ef9969f4eb6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a29b1df7bccd72d266f341ef9969f4eb6">ADEMCO_CONTACT_ID</a>&#160;&#160;&#160;&quot;ADEMCO_CONTACT_ID&quot;</td></tr>
<tr class="separator:a29b1df7bccd72d266f341ef9969f4eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58db8f62c66a9dd4cea866f8ecc7818f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a58db8f62c66a9dd4cea866f8ecc7818f">ADEMCO_EXPRESS_4_1</a>&#160;&#160;&#160;&quot;ADEMCO_EXPRESS_4_1&quot;</td></tr>
<tr class="separator:a58db8f62c66a9dd4cea866f8ecc7818f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7f7f08a00138735dd84b7935cd5630"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a1f7f7f08a00138735dd84b7935cd5630">ADEMCO_EXPRESS_4_2</a>&#160;&#160;&#160;&quot;ADEMCO_EXPRESS_4_2&quot;</td></tr>
<tr class="separator:a1f7f7f08a00138735dd84b7935cd5630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f8a16ec1260d4827a0e6a89ac572d35"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a2f8a16ec1260d4827a0e6a89ac572d35">ADEMCO_HIGH_SPEED</a>&#160;&#160;&#160;&quot;ADEMCO_HIGH_SPEED&quot;</td></tr>
<tr class="separator:a2f8a16ec1260d4827a0e6a89ac572d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0fcf6247ebd6283ab8fb3781e1c1fe8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ae0fcf6247ebd6283ab8fb3781e1c1fe8">ADEMCO_MSG_TYPE_1</a>&#160;&#160;&#160;&quot;18&quot;</td></tr>
<tr class="separator:ae0fcf6247ebd6283ab8fb3781e1c1fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2688b8ea92eb27077b75dd25fd6cc12c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a2688b8ea92eb27077b75dd25fd6cc12c">ADEMCO_MSG_TYPE_2</a>&#160;&#160;&#160;&quot;98&quot;</td></tr>
<tr class="separator:a2688b8ea92eb27077b75dd25fd6cc12c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43ff139caad3d667108d15c67364b5a0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a43ff139caad3d667108d15c67364b5a0">ADEMCO_MSG_TYPE_3</a>&#160;&#160;&#160;&quot;17&quot;</td></tr>
<tr class="separator:a43ff139caad3d667108d15c67364b5a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a06f2f2d560d04890126d6bf8f3b88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a09a06f2f2d560d04890126d6bf8f3b88">ADEMCO_MSG_TYPE_4</a>&#160;&#160;&#160;&quot;27&quot;</td></tr>
<tr class="separator:a09a06f2f2d560d04890126d6bf8f3b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91940bac7599a79696c870ce686b3bc9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a91940bac7599a79696c870ce686b3bc9">ADEMCO_MSG_TYPE_5</a>&#160;&#160;&#160;&quot;55&quot;</td></tr>
<tr class="separator:a91940bac7599a79696c870ce686b3bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a681fa166ac5ae4cbdcf0105c888e07e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a681fa166ac5ae4cbdcf0105c888e07e8">ADEMCO_MSG_TYPE_6</a>&#160;&#160;&#160;&quot;56&quot;</td></tr>
<tr class="separator:a681fa166ac5ae4cbdcf0105c888e07e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abafd758b2bdf469e8e81710f7115ed72"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#abafd758b2bdf469e8e81710f7115ed72">ADEMCO_SUPER_FAST</a>&#160;&#160;&#160;&quot;ADEMCO_SUPER_FAST&quot;</td></tr>
<tr class="separator:abafd758b2bdf469e8e81710f7115ed72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1550a3257e9d11cefb6328d4d10b433a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a1550a3257e9d11cefb6328d4d10b433a">ALMRCV_CONFIG</a>&#160;&#160;&#160;&quot;alarmreceiver.conf&quot;</td></tr>
<tr class="separator:a1550a3257e9d11cefb6328d4d10b433a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab80280fe1899ec6db1def2b70d98da6a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ab80280fe1899ec6db1def2b70d98da6a">UNKNOWN_FORMAT</a>&#160;&#160;&#160;&quot;UNKNOWN_FORMAT&quot;</td></tr>
<tr class="separator:ab80280fe1899ec6db1def2b70d98da6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a43430ade34d3b993bd3ac613bb94c075"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../da/d6e/structevent__node.html">event_node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a43430ade34d3b993bd3ac613bb94c075">event_node_t</a></td></tr>
<tr class="separator:a43430ade34d3b993bd3ac613bb94c075"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae109bf955fd48afd8363cede08a1ac43"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ae109bf955fd48afd8363cede08a1ac43">ademco_check_valid</a> (char *signalling_type, char *<a class="el" href="../../df/d7d/structevent.html">event</a>)</td></tr>
<tr class="memdesc:ae109bf955fd48afd8363cede08a1ac43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the message is in known and valid Ademco format.  <a href="#ae109bf955fd48afd8363cede08a1ac43">More...</a><br /></td></tr>
<tr class="separator:ae109bf955fd48afd8363cede08a1ac43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5af1d2967a28b3ce7dcbf7306c3c92"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#adb5af1d2967a28b3ce7dcbf7306c3c92">ademco_detect_format</a> (char *signalling_type, char *<a class="el" href="../../df/d7d/structevent.html">event</a>, int *no_checksum)</td></tr>
<tr class="memdesc:adb5af1d2967a28b3ce7dcbf7306c3c92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect the message format of an event.  <a href="#adb5af1d2967a28b3ce7dcbf7306c3c92">More...</a><br /></td></tr>
<tr class="separator:adb5af1d2967a28b3ce7dcbf7306c3c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff4af65869b9e48f53828c9fa042582"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a0ff4af65869b9e48f53828c9fa042582">ademco_verify_checksum</a> (char *<a class="el" href="../../df/d7d/structevent.html">event</a>, int expected)</td></tr>
<tr class="memdesc:a0ff4af65869b9e48f53828c9fa042582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify Ademco checksum.  <a href="#a0ff4af65869b9e48f53828c9fa042582">More...</a><br /></td></tr>
<tr class="separator:a0ff4af65869b9e48f53828c9fa042582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd91e96931908c9560e536180808bd5a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#abd91e96931908c9560e536180808bd5a">alarmreceiver_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:abd91e96931908c9560e536180808bd5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the main function called by Asterisk Core whenever the App is invoked in the extension logic.  <a href="#abd91e96931908c9560e536180808bd5a">More...</a><br /></td></tr>
<tr class="separator:abd91e96931908c9560e536180808bd5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc8258571ac3b3c00d011825c4283047"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#afc8258571ac3b3c00d011825c4283047">database_increment</a> (char *key)</td></tr>
<tr class="memdesc:afc8258571ac3b3c00d011825c4283047"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to access a database variable and increment it.  <a href="#afc8258571ac3b3c00d011825c4283047">More...</a><br /></td></tr>
<tr class="separator:afc8258571ac3b3c00d011825c4283047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f6114d9cab58a8ec3d9555cb466534"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ad0f6114d9cab58a8ec3d9555cb466534">load_config</a> (int <a class="el" href="../../dc/d6b/res__xmpp_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>)</td></tr>
<tr class="memdesc:ad0f6114d9cab58a8ec3d9555cb466534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the configuration from the configuration file.  <a href="#ad0f6114d9cab58a8ec3d9555cb466534">More...</a><br /></td></tr>
<tr class="separator:ad0f6114d9cab58a8ec3d9555cb466534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="memdesc:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the module.  <a href="#ac3382bf6da54c56b37069bd76bbdf4f9">More...</a><br /></td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c20a4982e564404f97899b2db906248"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a2c20a4982e564404f97899b2db906248">log_events</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, char *signalling_type, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a43430ade34d3b993bd3ac613bb94c075">event_node_t</a> *<a class="el" href="../../df/d7d/structevent.html">event</a>, int no_checksum)</td></tr>
<tr class="memdesc:a2c20a4982e564404f97899b2db906248"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log events if configuration key logindividualevents is enabled or on exit.  <a href="#a2c20a4982e564404f97899b2db906248">More...</a><br /></td></tr>
<tr class="separator:a2c20a4982e564404f97899b2db906248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7841f55adac06ca77706b214b43a781f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a7841f55adac06ca77706b214b43a781f">receive_ademco_event</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a43430ade34d3b993bd3ac613bb94c075">event_node_t</a> **ehead, char *signalling_type, int *no_checksum)</td></tr>
<tr class="memdesc:a7841f55adac06ca77706b214b43a781f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive Ademco ContactID or other format Data String.  <a href="#a7841f55adac06ca77706b214b43a781f">More...</a><br /></td></tr>
<tr class="separator:a7841f55adac06ca77706b214b43a781f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e454444ea43dd47d741c9e0c26ca8e6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a1e454444ea43dd47d741c9e0c26ca8e6">receive_dtmf_digits</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, char *digit_string, int buf_size, int expected, int *received)</td></tr>
<tr class="memdesc:a1e454444ea43dd47d741c9e0c26ca8e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a fixed length DTMF string.  <a href="#a1e454444ea43dd47d741c9e0c26ca8e6">More...</a><br /></td></tr>
<tr class="separator:a1e454444ea43dd47d741c9e0c26ca8e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1982509765f4870f1f63412a53ea668"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> (void)</td></tr>
<tr class="separator:ad1982509765f4870f1f63412a53ea668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afae483bda73c890fc979f3c2d8836bde"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#afae483bda73c890fc979f3c2d8836bde">send_tone_burst</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *tone_freq, int tone_duration, int delay)</td></tr>
<tr class="memdesc:afae483bda73c890fc979f3c2d8836bde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a single tone burst for a specified duration and frequency.  <a href="#afae483bda73c890fc979f3c2d8836bde">More...</a><br /></td></tr>
<tr class="separator:afae483bda73c890fc979f3c2d8836bde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="memdesc:ad09fa931f468002152a3cc2d5ce25eae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister Alarm Receiver App.  <a href="#ad09fa931f468002152a3cc2d5ce25eae">More...</a><br /></td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af208de313fbbdf0fbd2d4003ad32209d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#af208de313fbbdf0fbd2d4003ad32209d">write_event</a> (FILE *logfile, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a43430ade34d3b993bd3ac613bb94c075">event_node_t</a> *<a class="el" href="../../df/d7d/structevent.html">event</a>)</td></tr>
<tr class="memdesc:af208de313fbbdf0fbd2d4003ad32209d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a single event.  <a href="#af208de313fbbdf0fbd2d4003ad32209d">More...</a><br /></td></tr>
<tr class="separator:af208de313fbbdf0fbd2d4003ad32209d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50def3bb51f1fadca1189892f9d9bca9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a50def3bb51f1fadca1189892f9d9bca9">write_metadata</a> (FILE *logfile, char *signalling_type, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, int no_checksum)</td></tr>
<tr class="memdesc:a50def3bb51f1fadca1189892f9d9bca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write metadata to log file.  <a href="#a50def3bb51f1fadca1189892f9d9bca9">More...</a><br /></td></tr>
<tr class="separator:a50def3bb51f1fadca1189892f9d9bca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a> , .description = &quot;Alarm Receiver for Asterisk&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_EXTENDED, .load = load_module, .unload = unload_module, .reload = reload, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac85ab93f9c80f24fd1f682d6666980d0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ac85ab93f9c80f24fd1f682d6666980d0">answait</a> = 1250</td></tr>
<tr class="separator:ac85ab93f9c80f24fd1f682d6666980d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9b1eccfc259a14525ce817482a3f88"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> [] = &quot;AlarmReceiver&quot;</td></tr>
<tr class="separator:a1d9b1eccfc259a14525ce817482a3f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a239c58e9524b5ed36e1969c2e2bdbfa3"><td class="memItemLeft" align="right" valign="top">struct timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a239c58e9524b5ed36e1969c2e2bdbfa3">call_start_time</a></td></tr>
<tr class="separator:a239c58e9524b5ed36e1969c2e2bdbfa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3399725e30392ba5bf6ab9f7173b92c9"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a3399725e30392ba5bf6ab9f7173b92c9">db_family</a> [128] = {'\0'}</td></tr>
<tr class="separator:a3399725e30392ba5bf6ab9f7173b92c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4161d33b8260fed5c9af6f5c2cdfab6"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:ac2c887b7f7b359bfdda8a128980f5081"><td class="memItemLeft" >&#160;&#160;&#160;char&#160;&#160;&#160;<a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a></td></tr>
<tr class="separator:ac2c887b7f7b359bfdda8a128980f5081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abad164b523955988350efd52f43e7d67"><td class="memItemLeft" >&#160;&#160;&#160;char&#160;&#160;&#160;<a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#abad164b523955988350efd52f43e7d67">weight</a></td></tr>
<tr class="separator:abad164b523955988350efd52f43e7d67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4161d33b8260fed5c9af6f5c2cdfab6"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ac4161d33b8260fed5c9af6f5c2cdfab6">digits_mapping</a> []</td></tr>
<tr class="separator:ac4161d33b8260fed5c9af6f5c2cdfab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1873fb6490ef9c020bdf989769e7040"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#aa1873fb6490ef9c020bdf989769e7040">event_app</a> [128] = {'\0'}</td></tr>
<tr class="separator:aa1873fb6490ef9c020bdf989769e7040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7584922fe0ef48f70489ef09e228ef4a"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a7584922fe0ef48f70489ef09e228ef4a">event_file</a> [14] = &quot;/event-XXXXXX&quot;</td></tr>
<tr class="separator:a7584922fe0ef48f70489ef09e228ef4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66f6e37946ebc0c40cb7d784c8cec24e"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a66f6e37946ebc0c40cb7d784c8cec24e">event_spool_dir</a> [128] = {'\0'}</td></tr>
<tr class="separator:a66f6e37946ebc0c40cb7d784c8cec24e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b48abc3f5ca7a0f92edf228128e47a1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a1b48abc3f5ca7a0f92edf228128e47a1">fdtimeout</a> = 2000</td></tr>
<tr class="separator:a1b48abc3f5ca7a0f92edf228128e47a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7159e0b8e6a179209019ed4ceedfd43f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a7159e0b8e6a179209019ed4ceedfd43f">log_individual_events</a> = 0</td></tr>
<tr class="separator:a7159e0b8e6a179209019ed4ceedfd43f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5f81cc7d74df74f72d2b3e4aebea3d1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ac5f81cc7d74df74f72d2b3e4aebea3d1">no_group_meta</a> = 0</td></tr>
<tr class="separator:ac5f81cc7d74df74f72d2b3e4aebea3d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fdaf8de7337b6edff0ff641386f9dc3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a4fdaf8de7337b6edff0ff641386f9dc3">sdtimeout</a> = 200</td></tr>
<tr class="separator:a4fdaf8de7337b6edff0ff641386f9dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14a2cf1fe28ca8a247a7e67ab1612606"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a14a2cf1fe28ca8a247a7e67ab1612606">time_stamp_format</a> [128] = {&quot;%a %<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a> %<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, %Y @ %H:%M:%<a class="el" href="../../df/d44/app__meetme_8c.html#abd5465a13e11fe1c52a5a0f7b0b0812e">S</a> %Z&quot;}</td></tr>
<tr class="separator:a14a2cf1fe28ca8a247a7e67ab1612606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eb73c00a0bf16e66a674336c63ab145"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a3eb73c00a0bf16e66a674336c63ab145">toneloudness</a> = 4096</td></tr>
<tr class="separator:a3eb73c00a0bf16e66a674336c63ab145"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Central Station Alarm receiver for Ademco Contact ID. </p>
<dl class="section author"><dt>Author</dt><dd>Steve Rodgers <a href="#" onclick="location.href='mai'+'lto:'+'hws'+'ta'+'r@r'+'od'+'ger'+'s.'+'sdc'+'ox'+'mai'+'l.'+'com'; return false;">hwsta<span style="display: none;">.nosp@m.</span>r@ro<span style="display: none;">.nosp@m.</span>dgers<span style="display: none;">.nosp@m.</span>.sdc<span style="display: none;">.nosp@m.</span>oxmai<span style="display: none;">.nosp@m.</span>l.co<span style="display: none;">.nosp@m.</span>m</a></dd></dl>
<p>*** WARNING *** WARNING *** WARNING *** WARNING *** WARNING *** WARNING *** WARNING *** WARNING ***</p>
<p>Use at your own risk. Please consult the GNU GPL license document included with Asterisk. *</p>
<p>*** WARNING *** WARNING *** WARNING *** WARNING *** WARNING *** WARNING *** WARNING *** WARNING *** </p>

<p class="definition">Definition in file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a33fbd672e7df029f67de5fd3ed1bd1fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33fbd672e7df029f67de5fd3ed1bd1fa">&#9670;&nbsp;</a></span>ADEMCO_AUDIO_CALL_NEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADEMCO_AUDIO_CALL_NEXT&#160;&#160;&#160;&quot;606&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00128">128</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>

</div>
</div>
<a id="a29b1df7bccd72d266f341ef9969f4eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b1df7bccd72d266f341ef9969f4eb6">&#9670;&nbsp;</a></span>ADEMCO_CONTACT_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADEMCO_CONTACT_ID&#160;&#160;&#160;&quot;ADEMCO_CONTACT_ID&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00071">71</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>

</div>
</div>
<a id="a58db8f62c66a9dd4cea866f8ecc7818f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58db8f62c66a9dd4cea866f8ecc7818f">&#9670;&nbsp;</a></span>ADEMCO_EXPRESS_4_1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADEMCO_EXPRESS_4_1&#160;&#160;&#160;&quot;ADEMCO_EXPRESS_4_1&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00080">80</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>

</div>
</div>
<a id="a1f7f7f08a00138735dd84b7935cd5630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f7f7f08a00138735dd84b7935cd5630">&#9670;&nbsp;</a></span>ADEMCO_EXPRESS_4_2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADEMCO_EXPRESS_4_2&#160;&#160;&#160;&quot;ADEMCO_EXPRESS_4_2&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00087">87</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>

</div>
</div>
<a id="a2f8a16ec1260d4827a0e6a89ac572d35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f8a16ec1260d4827a0e6a89ac572d35">&#9670;&nbsp;</a></span>ADEMCO_HIGH_SPEED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADEMCO_HIGH_SPEED&#160;&#160;&#160;&quot;ADEMCO_HIGH_SPEED&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00094">94</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>.</p>

</div>
</div>
<a id="ae0fcf6247ebd6283ab8fb3781e1c1fe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0fcf6247ebd6283ab8fb3781e1c1fe8">&#9670;&nbsp;</a></span>ADEMCO_MSG_TYPE_1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADEMCO_MSG_TYPE_1&#160;&#160;&#160;&quot;18&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00121">121</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>.</p>

</div>
</div>
<a id="a2688b8ea92eb27077b75dd25fd6cc12c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2688b8ea92eb27077b75dd25fd6cc12c">&#9670;&nbsp;</a></span>ADEMCO_MSG_TYPE_2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADEMCO_MSG_TYPE_2&#160;&#160;&#160;&quot;98&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00122">122</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>.</p>

</div>
</div>
<a id="a43ff139caad3d667108d15c67364b5a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43ff139caad3d667108d15c67364b5a0">&#9670;&nbsp;</a></span>ADEMCO_MSG_TYPE_3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADEMCO_MSG_TYPE_3&#160;&#160;&#160;&quot;17&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00123">123</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>.</p>

</div>
</div>
<a id="a09a06f2f2d560d04890126d6bf8f3b88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a06f2f2d560d04890126d6bf8f3b88">&#9670;&nbsp;</a></span>ADEMCO_MSG_TYPE_4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADEMCO_MSG_TYPE_4&#160;&#160;&#160;&quot;27&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00124">124</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>.</p>

</div>
</div>
<a id="a91940bac7599a79696c870ce686b3bc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91940bac7599a79696c870ce686b3bc9">&#9670;&nbsp;</a></span>ADEMCO_MSG_TYPE_5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADEMCO_MSG_TYPE_5&#160;&#160;&#160;&quot;55&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00125">125</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>.</p>

</div>
</div>
<a id="a681fa166ac5ae4cbdcf0105c888e07e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a681fa166ac5ae4cbdcf0105c888e07e8">&#9670;&nbsp;</a></span>ADEMCO_MSG_TYPE_6</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADEMCO_MSG_TYPE_6&#160;&#160;&#160;&quot;56&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00126">126</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>.</p>

</div>
</div>
<a id="abafd758b2bdf469e8e81710f7115ed72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abafd758b2bdf469e8e81710f7115ed72">&#9670;&nbsp;</a></span>ADEMCO_SUPER_FAST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADEMCO_SUPER_FAST&#160;&#160;&#160;&quot;ADEMCO_SUPER_FAST&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00115">115</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>.</p>

</div>
</div>
<a id="a1550a3257e9d11cefb6328d4d10b433a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1550a3257e9d11cefb6328d4d10b433a">&#9670;&nbsp;</a></span>ALMRCV_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ALMRCV_CONFIG&#160;&#160;&#160;&quot;alarmreceiver.conf&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00068">68</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>.</p>

</div>
</div>
<a id="ab80280fe1899ec6db1def2b70d98da6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab80280fe1899ec6db1def2b70d98da6a">&#9670;&nbsp;</a></span>UNKNOWN_FORMAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNKNOWN_FORMAT&#160;&#160;&#160;&quot;UNKNOWN_FORMAT&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00069">69</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00792">alarmreceiver_exec()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a43430ade34d3b993bd3ac613bb94c075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43430ade34d3b993bd3ac613bb94c075">&#9670;&nbsp;</a></span>event_node_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../da/d6e/structevent__node.html">event_node</a> <a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a43430ade34d3b993bd3ac613bb94c075">event_node_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00142">142</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l01000">1000</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l01000">1000</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

</div>
</div>
<a id="ae109bf955fd48afd8363cede08a1ac43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae109bf955fd48afd8363cede08a1ac43">&#9670;&nbsp;</a></span>ademco_check_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ademco_check_valid </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>signalling_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the message is in known and valid Ademco format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signalling_type</td><td>Expected signalling type for the message </td></tr>
    <tr><td class="paramname">event</td><td>event received</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>The event is valid </td></tr>
    <tr><td class="paramname">-1</td><td>The event is not valid </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">523</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00071">ADEMCO_CONTACT_ID</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00080">ADEMCO_EXPRESS_4_1</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00087">ADEMCO_EXPRESS_4_2</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00094">ADEMCO_HIGH_SPEED</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00121">ADEMCO_MSG_TYPE_1</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00122">ADEMCO_MSG_TYPE_2</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00123">ADEMCO_MSG_TYPE_3</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00124">ADEMCO_MSG_TYPE_4</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00125">ADEMCO_MSG_TYPE_5</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00126">ADEMCO_MSG_TYPE_6</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00115">ADEMCO_SUPER_FAST</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00069">UNKNOWN_FORMAT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;{</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <span class="keywordflow">if</span> (!strcmp(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ab80280fe1899ec6db1def2b70d98da6a">UNKNOWN_FORMAT</a>)) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   <span class="keywordflow">if</span> (!strcmp(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a29b1df7bccd72d266f341ef9969f4eb6">ADEMCO_CONTACT_ID</a>)</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      &amp;&amp; strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 4, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ae0fcf6247ebd6283ab8fb3781e1c1fe8">ADEMCO_MSG_TYPE_1</a>, 2)</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      &amp;&amp; strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 4, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a2688b8ea92eb27077b75dd25fd6cc12c">ADEMCO_MSG_TYPE_2</a>, 2)) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;   <span class="keywordflow">if</span> (!strcmp(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a58db8f62c66a9dd4cea866f8ecc7818f">ADEMCO_EXPRESS_4_1</a>) &amp;&amp; strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 4, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a43ff139caad3d667108d15c67364b5a0">ADEMCO_MSG_TYPE_3</a>, 2)) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;   }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <span class="keywordflow">if</span> (!strcmp(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1f7f7f08a00138735dd84b7935cd5630">ADEMCO_EXPRESS_4_2</a>) &amp;&amp; strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 4, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a09a06f2f2d560d04890126d6bf8f3b88">ADEMCO_MSG_TYPE_4</a>, 2)) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;   <span class="keywordflow">if</span> (!strcmp(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a2f8a16ec1260d4827a0e6a89ac572d35">ADEMCO_HIGH_SPEED</a>) &amp;&amp; strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 4, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a91940bac7599a79696c870ce686b3bc9">ADEMCO_MSG_TYPE_5</a>, 2)) {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   }</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordflow">if</span> (!strcmp(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#abafd758b2bdf469e8e81710f7115ed72">ADEMCO_SUPER_FAST</a>) &amp;&amp; strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 4, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a681fa166ac5ae4cbdcf0105c888e07e8">ADEMCO_MSG_TYPE_6</a>, 2)) {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;   }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div><div class="ttc" id="app__alarmreceiver_8c_html_a1f7f7f08a00138735dd84b7935cd5630"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a1f7f7f08a00138735dd84b7935cd5630">ADEMCO_EXPRESS_4_2</a></div><div class="ttdeci">#define ADEMCO_EXPRESS_4_2</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00087">app_alarmreceiver.c:87</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a681fa166ac5ae4cbdcf0105c888e07e8"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a681fa166ac5ae4cbdcf0105c888e07e8">ADEMCO_MSG_TYPE_6</a></div><div class="ttdeci">#define ADEMCO_MSG_TYPE_6</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00126">app_alarmreceiver.c:126</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a09a06f2f2d560d04890126d6bf8f3b88"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a09a06f2f2d560d04890126d6bf8f3b88">ADEMCO_MSG_TYPE_4</a></div><div class="ttdeci">#define ADEMCO_MSG_TYPE_4</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00124">app_alarmreceiver.c:124</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a2f8a16ec1260d4827a0e6a89ac572d35"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a2f8a16ec1260d4827a0e6a89ac572d35">ADEMCO_HIGH_SPEED</a></div><div class="ttdeci">#define ADEMCO_HIGH_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00094">app_alarmreceiver.c:94</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_abafd758b2bdf469e8e81710f7115ed72"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#abafd758b2bdf469e8e81710f7115ed72">ADEMCO_SUPER_FAST</a></div><div class="ttdeci">#define ADEMCO_SUPER_FAST</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00115">app_alarmreceiver.c:115</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ae0fcf6247ebd6283ab8fb3781e1c1fe8"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ae0fcf6247ebd6283ab8fb3781e1c1fe8">ADEMCO_MSG_TYPE_1</a></div><div class="ttdeci">#define ADEMCO_MSG_TYPE_1</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00121">app_alarmreceiver.c:121</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a43ff139caad3d667108d15c67364b5a0"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a43ff139caad3d667108d15c67364b5a0">ADEMCO_MSG_TYPE_3</a></div><div class="ttdeci">#define ADEMCO_MSG_TYPE_3</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00123">app_alarmreceiver.c:123</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a2688b8ea92eb27077b75dd25fd6cc12c"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a2688b8ea92eb27077b75dd25fd6cc12c">ADEMCO_MSG_TYPE_2</a></div><div class="ttdeci">#define ADEMCO_MSG_TYPE_2</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00122">app_alarmreceiver.c:122</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a58db8f62c66a9dd4cea866f8ecc7818f"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a58db8f62c66a9dd4cea866f8ecc7818f">ADEMCO_EXPRESS_4_1</a></div><div class="ttdeci">#define ADEMCO_EXPRESS_4_1</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00080">app_alarmreceiver.c:80</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ab80280fe1899ec6db1def2b70d98da6a"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ab80280fe1899ec6db1def2b70d98da6a">UNKNOWN_FORMAT</a></div><div class="ttdeci">#define UNKNOWN_FORMAT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00069">app_alarmreceiver.c:69</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a29b1df7bccd72d266f341ef9969f4eb6"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a29b1df7bccd72d266f341ef9969f4eb6">ADEMCO_CONTACT_ID</a></div><div class="ttdeci">#define ADEMCO_CONTACT_ID</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00071">app_alarmreceiver.c:71</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a91940bac7599a79696c870ce686b3bc9"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a91940bac7599a79696c870ce686b3bc9">ADEMCO_MSG_TYPE_5</a></div><div class="ttdeci">#define ADEMCO_MSG_TYPE_5</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00125">app_alarmreceiver.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adb5af1d2967a28b3ce7dcbf7306c3c92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb5af1d2967a28b3ce7dcbf7306c3c92">&#9670;&nbsp;</a></span>ademco_detect_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ademco_detect_format </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>signalling_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>no_checksum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detect the message format of an event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signalling_type</td><td>Expected signalling type for the message </td></tr>
    <tr><td class="paramname">event</td><td>event received </td></tr>
    <tr><td class="paramname">no_checksum</td><td>Should we calculate checksum for the message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The expected digits for the detected event type </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">563</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00071">ADEMCO_CONTACT_ID</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00080">ADEMCO_EXPRESS_4_1</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00087">ADEMCO_EXPRESS_4_2</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00094">ADEMCO_HIGH_SPEED</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00121">ADEMCO_MSG_TYPE_1</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00122">ADEMCO_MSG_TYPE_2</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00123">ADEMCO_MSG_TYPE_3</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00124">ADEMCO_MSG_TYPE_4</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00125">ADEMCO_MSG_TYPE_5</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00126">ADEMCO_MSG_TYPE_6</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00115">ADEMCO_SUPER_FAST</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00069">UNKNOWN_FORMAT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;{</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   <span class="keywordtype">int</span> res = 16;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   <span class="keywordflow">if</span> (!strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 4, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ae0fcf6247ebd6283ab8fb3781e1c1fe8">ADEMCO_MSG_TYPE_1</a>, 2)</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      || !strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 4, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a2688b8ea92eb27077b75dd25fd6cc12c">ADEMCO_MSG_TYPE_2</a>, 2)) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      sprintf(signalling_type, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a29b1df7bccd72d266f341ef9969f4eb6">ADEMCO_CONTACT_ID</a>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   <span class="keywordflow">if</span> (!strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 4, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a43ff139caad3d667108d15c67364b5a0">ADEMCO_MSG_TYPE_3</a>, 2)) {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      sprintf(signalling_type, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a58db8f62c66a9dd4cea866f8ecc7818f">ADEMCO_EXPRESS_4_1</a>);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      res = 8;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;   <span class="keywordflow">if</span> (!strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 4, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a09a06f2f2d560d04890126d6bf8f3b88">ADEMCO_MSG_TYPE_4</a>, 2)) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      sprintf(signalling_type, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1f7f7f08a00138735dd84b7935cd5630">ADEMCO_EXPRESS_4_2</a>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      res = 9;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;   }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   <span class="keywordflow">if</span> (!strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 4, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a91940bac7599a79696c870ce686b3bc9">ADEMCO_MSG_TYPE_5</a>, 2)) {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      sprintf(signalling_type, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a2f8a16ec1260d4827a0e6a89ac572d35">ADEMCO_HIGH_SPEED</a>);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;   }</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   <span class="keywordflow">if</span> (!strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 4, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a681fa166ac5ae4cbdcf0105c888e07e8">ADEMCO_MSG_TYPE_6</a>, 2)) {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      sprintf(signalling_type, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#abafd758b2bdf469e8e81710f7115ed72">ADEMCO_SUPER_FAST</a>);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      *no_checksum = 1;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      res = 15;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;   <span class="keywordflow">if</span> (strcmp(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ab80280fe1899ec6db1def2b70d98da6a">UNKNOWN_FORMAT</a>)) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmMonitoring: Detected format %s.\n&quot;</span>, signalling_type);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;AlarmMonitoring: Autodetected format %s.\n&quot;</span>, signalling_type);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;}</div><div class="ttc" id="app__alarmreceiver_8c_html_a1f7f7f08a00138735dd84b7935cd5630"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a1f7f7f08a00138735dd84b7935cd5630">ADEMCO_EXPRESS_4_2</a></div><div class="ttdeci">#define ADEMCO_EXPRESS_4_2</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00087">app_alarmreceiver.c:87</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a681fa166ac5ae4cbdcf0105c888e07e8"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a681fa166ac5ae4cbdcf0105c888e07e8">ADEMCO_MSG_TYPE_6</a></div><div class="ttdeci">#define ADEMCO_MSG_TYPE_6</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00126">app_alarmreceiver.c:126</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a09a06f2f2d560d04890126d6bf8f3b88"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a09a06f2f2d560d04890126d6bf8f3b88">ADEMCO_MSG_TYPE_4</a></div><div class="ttdeci">#define ADEMCO_MSG_TYPE_4</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00124">app_alarmreceiver.c:124</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a2f8a16ec1260d4827a0e6a89ac572d35"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a2f8a16ec1260d4827a0e6a89ac572d35">ADEMCO_HIGH_SPEED</a></div><div class="ttdeci">#define ADEMCO_HIGH_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00094">app_alarmreceiver.c:94</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_abafd758b2bdf469e8e81710f7115ed72"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#abafd758b2bdf469e8e81710f7115ed72">ADEMCO_SUPER_FAST</a></div><div class="ttdeci">#define ADEMCO_SUPER_FAST</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00115">app_alarmreceiver.c:115</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ae0fcf6247ebd6283ab8fb3781e1c1fe8"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ae0fcf6247ebd6283ab8fb3781e1c1fe8">ADEMCO_MSG_TYPE_1</a></div><div class="ttdeci">#define ADEMCO_MSG_TYPE_1</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00121">app_alarmreceiver.c:121</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a43ff139caad3d667108d15c67364b5a0"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a43ff139caad3d667108d15c67364b5a0">ADEMCO_MSG_TYPE_3</a></div><div class="ttdeci">#define ADEMCO_MSG_TYPE_3</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00123">app_alarmreceiver.c:123</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a2688b8ea92eb27077b75dd25fd6cc12c"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a2688b8ea92eb27077b75dd25fd6cc12c">ADEMCO_MSG_TYPE_2</a></div><div class="ttdeci">#define ADEMCO_MSG_TYPE_2</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00122">app_alarmreceiver.c:122</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a58db8f62c66a9dd4cea866f8ecc7818f"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a58db8f62c66a9dd4cea866f8ecc7818f">ADEMCO_EXPRESS_4_1</a></div><div class="ttdeci">#define ADEMCO_EXPRESS_4_1</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00080">app_alarmreceiver.c:80</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ab80280fe1899ec6db1def2b70d98da6a"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ab80280fe1899ec6db1def2b70d98da6a">UNKNOWN_FORMAT</a></div><div class="ttdeci">#define UNKNOWN_FORMAT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00069">app_alarmreceiver.c:69</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a29b1df7bccd72d266f341ef9969f4eb6"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a29b1df7bccd72d266f341ef9969f4eb6">ADEMCO_CONTACT_ID</a></div><div class="ttdeci">#define ADEMCO_CONTACT_ID</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00071">app_alarmreceiver.c:71</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a91940bac7599a79696c870ce686b3bc9"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a91940bac7599a79696c870ce686b3bc9">ADEMCO_MSG_TYPE_5</a></div><div class="ttdeci">#define ADEMCO_MSG_TYPE_5</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00125">app_alarmreceiver.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ff4af65869b9e48f53828c9fa042582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ff4af65869b9e48f53828c9fa042582">&#9670;&nbsp;</a></span>ademco_verify_checksum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ademco_verify_checksum </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>expected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verify Ademco checksum. </p>
<dl class="section since"><dt>Since</dt><dd>11.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>Received DTMF String </td></tr>
    <tr><td class="paramname">expected</td><td>Number of Digits expected</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00456">456</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00131">digit</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ac4161d33b8260fed5c9af6f5c2cdfab6">digits_mapping</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;{</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <span class="keywordtype">int</span> checksum = 0;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   <span class="keywordtype">int</span> i, j;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   <span class="keywordflow">for</span> (j = 0; j &lt; expected; j++) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac4161d33b8260fed5c9af6f5c2cdfab6">digits_mapping</a>); i++) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac4161d33b8260fed5c9af6f5c2cdfab6">digits_mapping</a>[i].<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a> == <a class="code" href="../../df/d7d/structevent.html">event</a>[j]) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;         }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keywordflow">if</span> (i &gt;= <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac4161d33b8260fed5c9af6f5c2cdfab6">digits_mapping</a>)) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;AlarmReceiver: Bad DTMF character %c, trying again\n&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>[j]);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      checksum += <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac4161d33b8260fed5c9af6f5c2cdfab6">digits_mapping</a>[i].weight;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   <span class="comment">/* Checksum is mod(15) of the total */</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   <span class="keywordflow">if</span> (!(checksum % 15)) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div><div class="ttc" id="app__alarmreceiver_8c_html_ac2c887b7f7b359bfdda8a128980f5081"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a></div><div class="ttdeci">char digit</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00131">app_alarmreceiver.c:131</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ac4161d33b8260fed5c9af6f5c2cdfab6"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ac4161d33b8260fed5c9af6f5c2cdfab6">digits_mapping</a></div><div class="ttdeci">struct @10 digits_mapping[]</div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd91e96931908c9560e536180808bd5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd91e96931908c9560e536180808bd5a">&#9670;&nbsp;</a></span>alarmreceiver_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int alarmreceiver_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the main function called by Asterisk Core whenever the App is invoked in the extension logic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Asterisk Channel </td></tr>
    <tr><td class="paramname">data</td><td>Application data</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00792">792</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00184">answait</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02814">ast_answer()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00856">ast_channel_readformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00860">ast_channel_writeformat()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00091">ast_format_alaw</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00201">ast_format_cmp()</a>, <a class="el" href="../../d0/d0a/format_8h_source.html#l00038">AST_FORMAT_CMP_NOT_EQUAL</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00086">ast_format_ulaw</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01574">ast_safe_sleep()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l00829">ast_safe_system()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05849">ast_set_read_format()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05890">ast_set_write_format()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00144">call_start_time</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00189">event_app</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00402">log_events()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00186">log_individual_events</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00139">event_node::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00069">UNKNOWN_FORMAT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00974">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;{</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;   <span class="keywordtype">int</span> no_checksum = 0;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;   <a class="code" href="../../da/d6e/structevent__node.html">event_node_t</a> *elp, *efree;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   <span class="keywordtype">char</span> signalling_type[64] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;   <a class="code" href="../../da/d6e/structevent__node.html">event_node_t</a> *event_head = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   <span class="keywordflow">if</span> ((<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a>(chan), <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c">AST_FORMAT_CMP_NOT_EQUAL</a>) &amp;&amp;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a>(chan), <a class="code" href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c">AST_FORMAT_CMP_NOT_EQUAL</a>)) {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: Setting write format to Mu-law\n&quot;</span>);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a>(chan, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>)) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;AlarmReceiver: Unable to set write format to Mu-law on %s\n&quot;</span>,<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      }</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   <span class="keywordflow">if</span> ((<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a>(chan), <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c">AST_FORMAT_CMP_NOT_EQUAL</a>) &amp;&amp;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a>(chan), <a class="code" href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c">AST_FORMAT_CMP_NOT_EQUAL</a>)) {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: Setting read format to Mu-law\n&quot;</span>);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(chan, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>)) {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;AlarmReceiver: Unable to set read format to Mu-law on %s\n&quot;</span>,<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      }</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;   }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;   <span class="comment">/* Set default values for this invocation of the application */</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ab80280fe1899ec6db1def2b70d98da6a">UNKNOWN_FORMAT</a>, <span class="keyword">sizeof</span>(signalling_type));</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;   <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a239c58e9524b5ed36e1969c2e2bdbfa3">call_start_time</a> = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <span class="comment">/* Answer the channel if it is not already */</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>) {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: Answering channel\n&quot;</span>);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#aec583a3e25358ee552a4f3df53914cd0">ast_answer</a>(chan)) {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   <span class="comment">/* Wait for the connection to settle post-answer */</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: Waiting for connection to stabilize\n&quot;</span>);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#af10e3bd01602095e1908d3926afc3b76">ast_safe_sleep</a>(chan, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac85ab93f9c80f24fd1f682d6666980d0">answait</a>)) {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   }</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;   <span class="comment">/* Attempt to receive the events */</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a7841f55adac06ca77706b214b43a781f">receive_ademco_event</a>(chan, &amp;event_head, signalling_type, &amp;no_checksum);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <span class="comment">/* Events queued by receiver, write them all out here if so configured */</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a7159e0b8e6a179209019ed4ceedfd43f">log_individual_events</a>) {</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      res = <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a2c20a4982e564404f97899b2db906248">log_events</a>(chan, signalling_type, event_head, no_checksum);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   <span class="comment">/* Do we exec a command line at the end? */</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   <span class="keywordflow">if</span> ((!res) &amp;&amp; (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#aa1873fb6490ef9c020bdf989769e7040">event_app</a>)) &amp;&amp; (event_head)) {</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1,<span class="stringliteral">&quot;Alarmreceiver: executing: %s\n&quot;</span>, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#aa1873fb6490ef9c020bdf989769e7040">event_app</a>);</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a9fb5cf0385848033ee3e98625e5f9784">ast_safe_system</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#aa1873fb6490ef9c020bdf989769e7040">event_app</a>);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   }</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <span class="comment">/* Free up the data allocated in our linked list */</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;   <span class="keywordflow">for</span> (elp = event_head; (elp != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);) {</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      efree = elp;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      elp = elp-&gt;<a class="code" href="../../da/d6e/structevent__node.html#a59a73e4049ec3ef2a8b92308f83259dc">next</a>;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(efree);</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   }</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div><div class="ttc" id="channel_8h_html_af10e3bd01602095e1908d3926afc3b76"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af10e3bd01602095e1908d3926afc3b76">ast_safe_sleep</a></div><div class="ttdeci">int ast_safe_sleep(struct ast_channel *chan, int ms)</div><div class="ttdoc">Wait for a specified amount of time, looking for hangups. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01574">channel.c:1574</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ac85ab93f9c80f24fd1f682d6666980d0"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ac85ab93f9c80f24fd1f682d6666980d0">answait</a></div><div class="ttdeci">static int answait</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00184">app_alarmreceiver.c:184</a></div></div>
<div class="ttc" id="structevent__node_html"><div class="ttname"><a href="../../da/d6e/structevent__node.html">event_node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00137">app_alarmreceiver.c:137</a></div></div>
<div class="ttc" id="format__cache_8h_html_a568c3f5838b53c38f11996dbe5ff5785"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a></div><div class="ttdeci">struct ast_format * ast_format_ulaw</div><div class="ttdoc">Built-in cached ulaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00086">format_cache.c:86</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="channel_8h_html_aaced431562223538a94e0e69cf94151a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a></div><div class="ttdeci">struct ast_format * ast_channel_readformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00856">channel_internal_api.c:856</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="format_8h_html_a738c58eca291b71de4422e95bff27400"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a></div><div class="ttdeci">enum ast_format_cmp_res ast_format_cmp(const struct ast_format *format1, const struct ast_format *format2)</div><div class="ttdoc">Compare two formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00201">format.c:201</a></div></div>
<div class="ttc" id="format_8h_html_a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c">AST_FORMAT_CMP_NOT_EQUAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/format_8h_source.html#l00038">format.h:38</a></div></div>
<div class="ttc" id="channel_8h_html_a9107a83365cbf327cc0d12cb0dbd28d8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a></div><div class="ttdeci">int ast_set_read_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets read format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05849">channel.c:5849</a></div></div>
<div class="ttc" id="channel_8h_html_abbdfb98077180544657b2d16c5d25f74"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a></div><div class="ttdeci">int ast_set_write_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets write format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05890">channel.c:5890</a></div></div>
<div class="ttc" id="structevent__node_html_a59a73e4049ec3ef2a8b92308f83259dc"><div class="ttname"><a href="../../da/d6e/structevent__node.html#a59a73e4049ec3ef2a8b92308f83259dc">event_node::next</a></div><div class="ttdeci">struct event_node * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00139">app_alarmreceiver.c:139</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_aa1873fb6490ef9c020bdf989769e7040"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#aa1873fb6490ef9c020bdf989769e7040">event_app</a></div><div class="ttdeci">static char event_app[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00189">app_alarmreceiver.c:189</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a9fb5cf0385848033ee3e98625e5f9784"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a9fb5cf0385848033ee3e98625e5f9784">ast_safe_system</a></div><div class="ttdeci">int ast_safe_system(const char *s)</div><div class="ttdoc">Safely spawn an OS shell command while closing file descriptors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l00829">extconf.c:829</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a2c20a4982e564404f97899b2db906248"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a2c20a4982e564404f97899b2db906248">log_events</a></div><div class="ttdeci">static int log_events(struct ast_channel *chan, char *signalling_type, event_node_t *event, int no_checksum)</div><div class="ttdoc">Log events if configuration key logindividualevents is enabled or on exit. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00402">app_alarmreceiver.c:402</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ab80280fe1899ec6db1def2b70d98da6a"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ab80280fe1899ec6db1def2b70d98da6a">UNKNOWN_FORMAT</a></div><div class="ttdeci">#define UNKNOWN_FORMAT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00069">app_alarmreceiver.c:69</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a7159e0b8e6a179209019ed4ceedfd43f"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a7159e0b8e6a179209019ed4ceedfd43f">log_individual_events</a></div><div class="ttdeci">static int log_individual_events</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00186">app_alarmreceiver.c:186</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="format__cache_8h_html_a95c058fe6adef68780f026d6aec2481c"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a></div><div class="ttdeci">struct ast_format * ast_format_alaw</div><div class="ttdoc">Built-in cached alaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00091">format_cache.c:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="channel_8h_html_aec583a3e25358ee552a4f3df53914cd0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aec583a3e25358ee552a4f3df53914cd0">ast_answer</a></div><div class="ttdeci">int ast_answer(struct ast_channel *chan)</div><div class="ttdoc">Answer a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02814">channel.c:2814</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a239c58e9524b5ed36e1969c2e2bdbfa3"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a239c58e9524b5ed36e1969c2e2bdbfa3">call_start_time</a></div><div class="ttdeci">struct timeval call_start_time</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00144">app_alarmreceiver.c:144</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a7841f55adac06ca77706b214b43a781f"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a7841f55adac06ca77706b214b43a781f">receive_ademco_event</a></div><div class="ttdeci">static int receive_ademco_event(struct ast_channel *chan, event_node_t **ehead, char *signalling_type, int *no_checksum)</div><div class="ttdoc">Receive Ademco ContactID or other format Data String. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">app_alarmreceiver.c:611</a></div></div>
<div class="ttc" id="channel_8h_html_a1dc625bd14a7875b04bfe0c388858929"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a></div><div class="ttdeci">struct ast_format * ast_channel_writeformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00860">channel_internal_api.c:860</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l01000">1000</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

</div>
</div>
<a id="afc8258571ac3b3c00d011825c4283047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc8258571ac3b3c00d011825c4283047">&#9670;&nbsp;</a></span>database_increment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void database_increment </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempt to access a database variable and increment it. </p>
<dl class="section note"><dt>Note</dt><dd>Only if the user defined db-family in alarmreceiver.conf</dd></dl>
<p>The alarmreceiver app will write statistics to a few variables in this family if it is defined. If the new key doesn't exist in the family, then create it and set its value to 1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>A database key to increment </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00208">208</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/d21/main_2db_8c_source.html#l00412">ast_db_get()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00327">ast_db_put()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00190">db_family</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;{</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="keywordtype">unsigned</span> v;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>[16];</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a3399725e30392ba5bf6ab9f7173b92c9">db_family</a>)) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keywordflow">return</span>;  <span class="comment">/* If not defined, don&#39;t do anything */</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d4a/astdb_8h.html#a6ab91701fa0db9fad7759fe42a581c17">ast_db_get</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a3399725e30392ba5bf6ab9f7173b92c9">db_family</a>, key, value, <span class="keyword">sizeof</span>(value) - 1)) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: Creating database entry %s and setting to 1\n&quot;</span>, key);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="comment">/* Guess we have to create it */</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <a class="code" href="../../de/d4a/astdb_8h.html#a0f14f6bff4f412c88b50aba34d3a5e35">ast_db_put</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a3399725e30392ba5bf6ab9f7173b92c9">db_family</a>, key, <span class="stringliteral">&quot;1&quot;</span>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;   sscanf(value, <span class="stringliteral">&quot;%30u&quot;</span>, &amp;v);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   v++;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: New value for %s: %u\n&quot;</span>, key, v);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   snprintf(value, <span class="keyword">sizeof</span>(value), <span class="stringliteral">&quot;%u&quot;</span>, v);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d4a/astdb_8h.html#a0f14f6bff4f412c88b50aba34d3a5e35">ast_db_put</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a3399725e30392ba5bf6ab9f7173b92c9">db_family</a>, key, value)) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: database_increment write error\n&quot;</span>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astdb_8h_html_a6ab91701fa0db9fad7759fe42a581c17"><div class="ttname"><a href="../../de/d4a/astdb_8h.html#a6ab91701fa0db9fad7759fe42a581c17">ast_db_get</a></div><div class="ttdeci">int ast_db_get(const char *family, const char *key, char *value, int valuelen)</div><div class="ttdoc">Get key value specified by family/key. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d21/main_2db_8c_source.html#l00412">main/db.c:412</a></div></div>
<div class="ttc" id="astdb_8h_html_a0f14f6bff4f412c88b50aba34d3a5e35"><div class="ttname"><a href="../../de/d4a/astdb_8h.html#a0f14f6bff4f412c88b50aba34d3a5e35">ast_db_put</a></div><div class="ttdeci">int ast_db_put(const char *family, const char *key, const char *value)</div><div class="ttdoc">Store value addressed by family/key. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d21/main_2db_8c_source.html#l00327">main/db.c:327</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a3399725e30392ba5bf6ab9f7173b92c9"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a3399725e30392ba5bf6ab9f7173b92c9">db_family</a></div><div class="ttdeci">static char db_family[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00190">app_alarmreceiver.c:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0f6114d9cab58a8ec3d9555cb466534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0f6114d9cab58a8ec3d9555cb466534">&#9670;&nbsp;</a></span>load_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_config </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load the configuration from the configuration file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reload</td><td>True on reload</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>success </td></tr>
    <tr><td class="paramname">0</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">868</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00068">ALMRCV_CONFIG</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00184">answait</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">ast_config_load</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00694">ast_variable_retrieve()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">CONFIG_FLAG_FILEUNCHANGED</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">CONFIG_STATUS_FILEUNCHANGED</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00190">db_family</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00189">event_app</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00188">event_spool_dir</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00182">fdtimeout</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00186">log_individual_events</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00187">no_group_meta</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00183">sdtimeout</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00191">time_stamp_format</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00185">toneloudness</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00974">load_module()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00986">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;{</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> ? <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a> : 0 };</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   <span class="comment">/* Read in the config file */</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1550a3257e9d11cefb6328d4d10b433a">ALMRCV_CONFIG</a>, config_flags);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: No config file\n&quot;</span>);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a>) {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Config file %s is in an invalid format.  Aborting.\n&quot;</span>,</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;         <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1550a3257e9d11cefb6328d4d10b433a">ALMRCV_CONFIG</a>);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   }</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   <span class="keywordflow">if</span> ((value = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;eventcmd&quot;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#aa1873fb6490ef9c020bdf989769e7040">event_app</a>, value, <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#aa1873fb6490ef9c020bdf989769e7040">event_app</a>));</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   }</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   <span class="keywordflow">if</span> ((value = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;loudness&quot;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a3eb73c00a0bf16e66a674336c63ab145">toneloudness</a> = atoi(value);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a3eb73c00a0bf16e66a674336c63ab145">toneloudness</a> &lt; 100) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;         <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a3eb73c00a0bf16e66a674336c63ab145">toneloudness</a> = 100;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a3eb73c00a0bf16e66a674336c63ab145">toneloudness</a> &gt; 8192) {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;         <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a3eb73c00a0bf16e66a674336c63ab145">toneloudness</a> = 8192;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      }</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <span class="keywordflow">if</span> ((value = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;fdtimeout&quot;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1b48abc3f5ca7a0f92edf228128e47a1">fdtimeout</a> = atoi(value);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1b48abc3f5ca7a0f92edf228128e47a1">fdtimeout</a> &lt; 1000) {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;         <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1b48abc3f5ca7a0f92edf228128e47a1">fdtimeout</a> = 1000;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1b48abc3f5ca7a0f92edf228128e47a1">fdtimeout</a> &gt; 10000) {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;         <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1b48abc3f5ca7a0f92edf228128e47a1">fdtimeout</a> = 10000;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   }</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   <span class="keywordflow">if</span> ((value = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;sdtimeout&quot;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a4fdaf8de7337b6edff0ff641386f9dc3">sdtimeout</a> = atoi(value);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a4fdaf8de7337b6edff0ff641386f9dc3">sdtimeout</a> &lt; 110) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;         <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a4fdaf8de7337b6edff0ff641386f9dc3">sdtimeout</a> = 110;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a4fdaf8de7337b6edff0ff641386f9dc3">sdtimeout</a> &gt; 4000) {</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;         <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a4fdaf8de7337b6edff0ff641386f9dc3">sdtimeout</a> = 4000;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      }</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   }</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <span class="keywordflow">if</span> ((value = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;answait&quot;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac85ab93f9c80f24fd1f682d6666980d0">answait</a> = atoi(value);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac85ab93f9c80f24fd1f682d6666980d0">answait</a> &lt; 500) {</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;         <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac85ab93f9c80f24fd1f682d6666980d0">answait</a> = 500;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac85ab93f9c80f24fd1f682d6666980d0">answait</a> &gt; 10000) {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;         <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac85ab93f9c80f24fd1f682d6666980d0">answait</a> = 10000;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      }</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   }</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   <span class="keywordflow">if</span> ((value = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;no_group_meta&quot;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac5f81cc7d74df74f72d2b3e4aebea3d1">no_group_meta</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(value);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   }</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <span class="keywordflow">if</span> ((value = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;logindividualevents&quot;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a7159e0b8e6a179209019ed4ceedfd43f">log_individual_events</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(value);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   }</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;   <span class="keywordflow">if</span> ((value = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;eventspooldir&quot;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a66f6e37946ebc0c40cb7d784c8cec24e">event_spool_dir</a>, value, <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a66f6e37946ebc0c40cb7d784c8cec24e">event_spool_dir</a>));</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   }</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   <span class="keywordflow">if</span> ((value = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;timestampformat&quot;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a14a2cf1fe28ca8a247a7e67ab1612606">time_stamp_format</a>, value, <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a14a2cf1fe28ca8a247a7e67ab1612606">time_stamp_format</a>));</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   <span class="keywordflow">if</span> ((value = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;db-family&quot;</span>)) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a3399725e30392ba5bf6ab9f7173b92c9">db_family</a>, value, <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a3399725e30392ba5bf6ab9f7173b92c9">db_family</a>));</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   }</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;}</div><div class="ttc" id="app__alarmreceiver_8c_html_a1550a3257e9d11cefb6328d4d10b433a"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a1550a3257e9d11cefb6328d4d10b433a">ALMRCV_CONFIG</a></div><div class="ttdeci">#define ALMRCV_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00068">app_alarmreceiver.c:68</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ac85ab93f9c80f24fd1f682d6666980d0"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ac85ab93f9c80f24fd1f682d6666980d0">answait</a></div><div class="ttdeci">static int answait</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00184">app_alarmreceiver.c:184</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a1b48abc3f5ca7a0f92edf228128e47a1"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a1b48abc3f5ca7a0f92edf228128e47a1">fdtimeout</a></div><div class="ttdeci">static int fdtimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00182">app_alarmreceiver.c:182</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ad1982509765f4870f1f63412a53ea668"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a></div><div class="ttdeci">static int reload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00986">app_alarmreceiver.c:986</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a3eb73c00a0bf16e66a674336c63ab145"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a3eb73c00a0bf16e66a674336c63ab145">toneloudness</a></div><div class="ttdeci">static int toneloudness</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00185">app_alarmreceiver.c:185</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a0a07ddd6bbcf44485e01c14c96109482"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a></div><div class="ttdeci">#define ast_config_load(filename, flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">include/asterisk/config.h:179</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a846844eb2c4eb44554445936b3770711"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEUNCHANGED</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">include/asterisk/config.h:59</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_aa1873fb6490ef9c020bdf989769e7040"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#aa1873fb6490ef9c020bdf989769e7040">event_app</a></div><div class="ttdeci">static char event_app[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00189">app_alarmreceiver.c:189</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a9ff7aa27ae5f1a980bcf81f91cd6e470"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a></div><div class="ttdeci">const char * ast_variable_retrieve(struct ast_config *config, const char *category, const char *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00694">main/config.c:694</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a7159e0b8e6a179209019ed4ceedfd43f"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a7159e0b8e6a179209019ed4ceedfd43f">log_individual_events</a></div><div class="ttdeci">static int log_individual_events</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00186">app_alarmreceiver.c:186</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a4fdaf8de7337b6edff0ff641386f9dc3"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a4fdaf8de7337b6edff0ff641386f9dc3">sdtimeout</a></div><div class="ttdeci">static int sdtimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00183">app_alarmreceiver.c:183</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a14a2cf1fe28ca8a247a7e67ab1612606"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a14a2cf1fe28ca8a247a7e67ab1612606">time_stamp_format</a></div><div class="ttdeci">static char time_stamp_format[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00191">app_alarmreceiver.c:191</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a66f6e37946ebc0c40cb7d784c8cec24e"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a66f6e37946ebc0c40cb7d784c8cec24e">event_spool_dir</a></div><div class="ttdeci">static char event_spool_dir[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00188">app_alarmreceiver.c:188</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a3399725e30392ba5bf6ab9f7173b92c9"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a3399725e30392ba5bf6ab9f7173b92c9">db_family</a></div><div class="ttdeci">static char db_family[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00190">app_alarmreceiver.c:190</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ac5f81cc7d74df74f72d2b3e4aebea3d1"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ac5f81cc7d74df74f72d2b3e4aebea3d1">no_group_meta</a></div><div class="ttdeci">static int no_group_meta</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00187">app_alarmreceiver.c:187</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">include/asterisk/config.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load the module. </p>
<p>Module loading including tests for configuration or dependencies. This function can return AST_MODULE_LOAD_FAILURE, AST_MODULE_LOAD_DECLINE, or AST_MODULE_LOAD_SUCCESS. If a dependency or environment variable fails tests return AST_MODULE_LOAD_FAILURE. If the module can not load the configuration file or other non-critical problem return AST_MODULE_LOAD_DECLINE. On success return AST_MODULE_LOAD_SUCCESS. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00974">974</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00792">alarmreceiver_exec()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00146">app</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00626">ast_register_application_xml</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00986">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;{</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ad0f6114d9cab58a8ec3d9555cb466534">load_config</a>(0)) {</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#abd91e96931908c9560e536180808bd5a">alarmreceiver_exec</a>)) {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      }</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   }</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;}</div><div class="ttc" id="app__alarmreceiver_8c_html_ad0f6114d9cab58a8ec3d9555cb466534"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ad0f6114d9cab58a8ec3d9555cb466534">load_config</a></div><div class="ttdeci">static int load_config(int reload)</div><div class="ttdoc">Load the configuration from the configuration file. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">app_alarmreceiver.c:868</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00146">app_alarmreceiver.c:146</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_abd91e96931908c9560e536180808bd5a"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#abd91e96931908c9560e536180808bd5a">alarmreceiver_exec</a></div><div class="ttdeci">static int alarmreceiver_exec(struct ast_channel *chan, const char *data)</div><div class="ttdoc">This is the main function called by Asterisk Core whenever the App is invoked in the extension logic...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00792">app_alarmreceiver.c:792</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="module_8h_html_afba4eb7a910b10969041ae4cd488729d"><div class="ttname"><a href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a></div><div class="ttdeci">#define ast_register_application_xml(app, execute)</div><div class="ttdoc">Register an application using XML documentation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00626">module.h:626</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c20a4982e564404f97899b2db906248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c20a4982e564404f97899b2db906248">&#9670;&nbsp;</a></span>log_events()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int log_events </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>signalling_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a43430ade34d3b993bd3ac613bb94c075">event_node_t</a> *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>no_checksum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log events if configuration key logindividualevents is enabled or on exit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Asterisk Channel </td></tr>
    <tr><td class="paramname">signalling_type</td><td>Signaling Type </td></tr>
    <tr><td class="paramname">event</td><td>Event Structure </td></tr>
    <tr><td class="paramname">no_checksum</td><td>Expecting messages without checksum</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00402">402</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00194">event_file</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00188">event_spool_dir</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00139">event_node::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00382">write_event()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00321">write_metadata()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00792">alarmreceiver_exec()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="keywordtype">char</span> workstring[<span class="keyword">sizeof</span>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a66f6e37946ebc0c40cb7d784c8cec24e">event_spool_dir</a>) + <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a7584922fe0ef48f70489ef09e228ef4a">event_file</a>)] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <span class="keywordtype">int</span> fd;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   FILE *logfile;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <a class="code" href="../../da/d6e/structevent__node.html">event_node_t</a> *elp = event;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a66f6e37946ebc0c40cb7d784c8cec24e">event_spool_dir</a>)) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="comment">/* Make a template */</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(workstring, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a66f6e37946ebc0c40cb7d784c8cec24e">event_spool_dir</a>, <span class="keyword">sizeof</span>(workstring));</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      strncat(workstring, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a7584922fe0ef48f70489ef09e228ef4a">event_file</a>, <span class="keyword">sizeof</span>(workstring) - strlen(workstring) - 1);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="comment">/* Make the temporary file */</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      fd = mkstemp(workstring);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="keywordflow">if</span> (fd == -1) {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;AlarmReceiver: can&#39;t make temporary file\n&quot;</span>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;AlarmReceiver: can&#39;t make temporary file\n&quot;</span>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordflow">if</span> ((logfile = fdopen(fd, <span class="stringliteral">&quot;w&quot;</span>)) == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="comment">/* Write the file */</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a50def3bb51f1fadca1189892f9d9bca9">write_metadata</a>(logfile, signalling_type, chan, no_checksum)) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;         fflush(logfile);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;         fclose(logfile);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keywordflow">while</span> ((elp != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#af208de313fbbdf0fbd2d4003ad32209d">write_event</a>(logfile, elp) == 0)) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;         elp = elp-&gt;<a class="code" href="../../da/d6e/structevent__node.html#a59a73e4049ec3ef2a8b92308f83259dc">next</a>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      fflush(logfile);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      fclose(logfile);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div><div class="ttc" id="app__alarmreceiver_8c_html_a7584922fe0ef48f70489ef09e228ef4a"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a7584922fe0ef48f70489ef09e228ef4a">event_file</a></div><div class="ttdeci">static char event_file[14]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00194">app_alarmreceiver.c:194</a></div></div>
<div class="ttc" id="structevent__node_html"><div class="ttname"><a href="../../da/d6e/structevent__node.html">event_node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00137">app_alarmreceiver.c:137</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a50def3bb51f1fadca1189892f9d9bca9"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a50def3bb51f1fadca1189892f9d9bca9">write_metadata</a></div><div class="ttdeci">static int write_metadata(FILE *logfile, char *signalling_type, struct ast_channel *chan, int no_checksum)</div><div class="ttdoc">Write metadata to log file. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00321">app_alarmreceiver.c:321</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structevent__node_html_a59a73e4049ec3ef2a8b92308f83259dc"><div class="ttname"><a href="../../da/d6e/structevent__node.html#a59a73e4049ec3ef2a8b92308f83259dc">event_node::next</a></div><div class="ttdeci">struct event_node * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00139">app_alarmreceiver.c:139</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_af208de313fbbdf0fbd2d4003ad32209d"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#af208de313fbbdf0fbd2d4003ad32209d">write_event</a></div><div class="ttdeci">static int write_event(FILE *logfile, event_node_t *event)</div><div class="ttdoc">Log a single event. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00382">app_alarmreceiver.c:382</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a66f6e37946ebc0c40cb7d784c8cec24e"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a66f6e37946ebc0c40cb7d784c8cec24e">event_spool_dir</a></div><div class="ttdeci">static char event_spool_dir[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00188">app_alarmreceiver.c:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7841f55adac06ca77706b214b43a781f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7841f55adac06ca77706b214b43a781f">&#9670;&nbsp;</a></span>receive_ademco_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int receive_ademco_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a43430ade34d3b993bd3ac613bb94c075">event_node_t</a> **&#160;</td>
          <td class="paramname"><em>ehead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>signalling_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>no_checksum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Receive Ademco ContactID or other format Data String. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Asterisk Channel </td></tr>
    <tr><td class="paramname">ehead</td><td>Pointer to events list </td></tr>
    <tr><td class="paramname">signalling_type</td><td>Expected signalling type for the message </td></tr>
    <tr><td class="paramname">no_checksum</td><td>Should we calculate checksum for the message</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">611</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00128">ADEMCO_AUDIO_CALL_NEXT</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">ademco_check_valid()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00071">ADEMCO_CONTACT_ID</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">ademco_detect_format()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00080">ADEMCO_EXPRESS_4_1</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00087">ADEMCO_EXPRESS_4_2</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00456">ademco_verify_checksum()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00098">ast_tvdiff_ms()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00144">call_start_time</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00138">event_node::data</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00208">database_increment()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00402">log_events()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00186">log_individual_events</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00139">event_node::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_builtin_getvar_helper()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00253">receive_dtmf_digits()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00496">send_tone_burst()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00069">UNKNOWN_FORMAT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00792">alarmreceiver_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;{</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *limit;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   <span class="keywordtype">char</span> <span class="keyword">event</span>[17];</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;   <a class="code" href="../../da/d6e/structevent__node.html">event_node_t</a> *enew, *elp;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;   <span class="keywordtype">int</span> got_some_digits = 0;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;   <span class="keywordtype">int</span> events_received = 0;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   <span class="keywordtype">int</span> ack_retries = 0;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   <span class="keywordtype">int</span> limit_retries = 0;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;   <span class="keywordtype">int</span> expected_length = <span class="keyword">sizeof</span>(<a class="code" href="../../df/d7d/structevent.html">event</a>) - 1;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#afc8258571ac3b3c00d011825c4283047">database_increment</a>(<span class="stringliteral">&quot;calls-received&quot;</span>);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <span class="comment">/* Wait for first event */</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: Waiting for first event from panel...\n&quot;</span>);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   <span class="keywordflow">while</span> (res &gt;= 0) {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="keywordtype">int</span> digits_received = 0;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      res = 0;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a7159e0b8e6a179209019ed4ceedfd43f">log_individual_events</a>) {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;         sprintf(signalling_type, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ab80280fe1899ec6db1def2b70d98da6a">UNKNOWN_FORMAT</a>);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;         expected_length = 16;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;         *no_checksum = 0;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="keywordflow">if</span> (got_some_digits == 0) {</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;         <span class="comment">/* Send ACK tone sequence */</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: Sending 1400Hz 100ms burst (ACK)\n&quot;</span>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;         res = <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#afae483bda73c890fc979f3c2d8836bde">send_tone_burst</a>(chan, <span class="stringliteral">&quot;1400&quot;</span>, 100, 0);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;         <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: Sending 2300Hz 100ms burst (ACK)\n&quot;</span>);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            res = <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#afae483bda73c890fc979f3c2d8836bde">send_tone_burst</a>(chan, <span class="stringliteral">&quot;2300&quot;</span>, 100, 100);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;         }</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      res = <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1e454444ea43dd47d741c9e0c26ca8e6">receive_dtmf_digits</a>(chan, <a class="code" href="../../df/d7d/structevent.html">event</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d7d/structevent.html">event</a>), expected_length, &amp;digits_received);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;         <span class="keywordflow">if</span> (events_received == 0) {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="comment">/* Hangup with no events received should be logged in the DB */</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#afc8258571ac3b3c00d011825c4283047">database_increment</a>(<span class="stringliteral">&quot;no-events-received&quot;</span>);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: No events received!\n&quot;</span>);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">if</span> (ack_retries) {</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;               <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#afc8258571ac3b3c00d011825c4283047">database_increment</a>(<span class="stringliteral">&quot;ack-retries&quot;</span>);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: ACK retries during this call: %d\n&quot;</span>, ack_retries);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            }</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;         }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: App exiting...\n&quot;</span>);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="keywordflow">if</span> (!strcmp(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ab80280fe1899ec6db1def2b70d98da6a">UNKNOWN_FORMAT</a>) &amp;&amp; digits_received &gt; 5) {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;         expected_length = <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#adb5af1d2967a28b3ce7dcbf7306c3c92">ademco_detect_format</a>(signalling_type, <a class="code" href="../../df/d7d/structevent.html">event</a>, no_checksum);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;         <span class="keywordflow">if</span> (res &gt; 0) {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            <span class="keywordflow">if</span> (digits_received == expected_length) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;               res = limit_retries = 0;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (digits_received == expected_length - 1</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;               &amp;&amp; (!strcmp(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1f7f7f08a00138735dd84b7935cd5630">ADEMCO_EXPRESS_4_2</a>)</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;               || !strcmp(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a58db8f62c66a9dd4cea866f8ecc7818f">ADEMCO_EXPRESS_4_1</a>))) {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;               <span class="comment">/* ADEMCO EXPRESS without checksum */</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;               res = limit_retries = 0;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;               expected_length--;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;               *no_checksum = 1;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmMonitoring: Skipping checksum for format %s.\n&quot;</span>, signalling_type);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;AlarmMonitoring: Skipping checksum for format %s.\n&quot;</span>, signalling_type);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;         }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      limit = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;ALARMRECEIVER_CALL_LIMIT&quot;</span>);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(limit)) {</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a>(<a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>(), <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a239c58e9524b5ed36e1969c2e2bdbfa3">call_start_time</a>) &gt; atoi(limit)) {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;         }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      limit = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;ALARMRECEIVER_RETRIES_LIMIT&quot;</span>);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(limit)) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;         <span class="keywordflow">if</span> (limit_retries + 1 &gt;= atoi(limit)) {</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;         }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;         <span class="comment">/* Didn&#39;t get all of the digits */</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;AlarmReceiver: Incomplete string: %s, trying again...\n&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;         limit_retries++;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;         <span class="keywordflow">if</span> (!events_received &amp;&amp; strcmp(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ab80280fe1899ec6db1def2b70d98da6a">UNKNOWN_FORMAT</a>))</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;         {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            sprintf(signalling_type, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ab80280fe1899ec6db1def2b70d98da6a">UNKNOWN_FORMAT</a>);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            expected_length = <span class="keyword">sizeof</span>(<a class="code" href="../../df/d7d/structevent.html">event</a>) - 1;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;         }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;         <span class="keywordflow">if</span> (!got_some_digits) {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            got_some_digits = (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>)) ? 1 : 0;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            ack_retries++;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;         }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      }</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      got_some_digits = 1;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;AlarmReceiver: Received Event %s\n&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;AlarmReceiver: Received event: %s\n&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="comment">/* Calculate checksum */</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordflow">if</span> (!(*no_checksum) &amp;&amp; <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a0ff4af65869b9e48f53828c9fa042582">ademco_verify_checksum</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>, expected_length)) {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;         <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#afc8258571ac3b3c00d011825c4283047">database_increment</a>(<span class="stringliteral">&quot;checksum-errors&quot;</span>);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;AlarmReceiver: Nonzero checksum\n&quot;</span>);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;AlarmReceiver: Nonzero checksum\n&quot;</span>);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="comment">/* Check the message type for correctness */</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ae109bf955fd48afd8363cede08a1ac43">ademco_check_valid</a>(signalling_type, <a class="code" href="../../df/d7d/structevent.html">event</a>)) {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;         <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#afc8258571ac3b3c00d011825c4283047">database_increment</a>(<span class="stringliteral">&quot;format-errors&quot;</span>);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;AlarmReceiver: Wrong message type\n&quot;</span>);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;AlarmReceiver: Wrong message type\n&quot;</span>);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      events_received++;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="comment">/* Queue the Event */</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <span class="keywordflow">if</span> (!(enew = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*enew)))) {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      }</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      enew-&gt;<a class="code" href="../../da/d6e/structevent__node.html#a59a73e4049ec3ef2a8b92308f83259dc">next</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(enew-&gt;<a class="code" href="../../da/d6e/structevent__node.html#a7c3d85e54927f04c38e110e849168bb9">data</a>, <a class="code" href="../../df/d7d/structevent.html">event</a>, <span class="keyword">sizeof</span>(enew-&gt;<a class="code" href="../../da/d6e/structevent__node.html#a7c3d85e54927f04c38e110e849168bb9">data</a>));</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="comment">/* Insert event onto end of list */</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keywordflow">if</span> (*ehead == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;         *ehead = enew;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;         <span class="keywordflow">for</span> (elp = *ehead; elp-&gt;<a class="code" href="../../da/d6e/structevent__node.html#a59a73e4049ec3ef2a8b92308f83259dc">next</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; elp = elp-&gt;<a class="code" href="../../da/d6e/structevent__node.html#a59a73e4049ec3ef2a8b92308f83259dc">next</a>) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            ;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;         }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;         elp-&gt;<a class="code" href="../../da/d6e/structevent__node.html#a59a73e4049ec3ef2a8b92308f83259dc">next</a> = enew;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="comment">/* Let the user have the option of logging the single event before sending the kissoff tone */</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a7159e0b8e6a179209019ed4ceedfd43f">log_individual_events</a> &amp;&amp; <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a2c20a4982e564404f97899b2db906248">log_events</a>(chan, signalling_type, enew, *no_checksum)) {</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="comment">/* Send the kissoff tone (1400 Hz, 900 ms, after 200ms delay) */</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#afae483bda73c890fc979f3c2d8836bde">send_tone_burst</a>(chan, <span class="stringliteral">&quot;1400&quot;</span>, 900, 200)) {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      }</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="comment">/* If audio call follows, exit alarm receiver app */</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordflow">if</span> (!strcmp(signalling_type, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a29b1df7bccd72d266f341ef9969f4eb6">ADEMCO_CONTACT_ID</a>)</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;         &amp;&amp; !strncmp(<a class="code" href="../../df/d7d/structevent.html">event</a> + 7, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a33fbd672e7df029f67de5fd3ed1bd1fa">ADEMCO_AUDIO_CALL_NEXT</a>, 3)) {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: App exiting... Audio call next!\n&quot;</span>);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      }</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a1f7f7f08a00138735dd84b7935cd5630"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a1f7f7f08a00138735dd84b7935cd5630">ADEMCO_EXPRESS_4_2</a></div><div class="ttdeci">#define ADEMCO_EXPRESS_4_2</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00087">app_alarmreceiver.c:87</a></div></div>
<div class="ttc" id="structevent__node_html"><div class="ttname"><a href="../../da/d6e/structevent__node.html">event_node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00137">app_alarmreceiver.c:137</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a1e454444ea43dd47d741c9e0c26ca8e6"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a1e454444ea43dd47d741c9e0c26ca8e6">receive_dtmf_digits</a></div><div class="ttdeci">static int receive_dtmf_digits(struct ast_channel *chan, char *digit_string, int buf_size, int expected, int *received)</div><div class="ttdoc">Receive a fixed length DTMF string. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00253">app_alarmreceiver.c:253</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="time_8h_html_aca4ecdab7d8d3519062aad9a90fcb29d"><div class="ttname"><a href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a></div><div class="ttdeci">int64_t ast_tvdiff_ms(struct timeval end, struct timeval start)</div><div class="ttdoc">Computes the difference (in milliseconds) between two struct timeval instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00098">time.h:98</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_afc8258571ac3b3c00d011825c4283047"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#afc8258571ac3b3c00d011825c4283047">database_increment</a></div><div class="ttdeci">static void database_increment(char *key)</div><div class="ttdoc">Attempt to access a database variable and increment it. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00208">app_alarmreceiver.c:208</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="pbx_8h_html_a98c5425b90ec7c5e136a40f529170b1b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a></div><div class="ttdeci">const char * pbx_builtin_getvar_helper(struct ast_channel *chan, const char *name)</div><div class="ttdoc">Return a pointer to the value of the corresponding channel variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_variables.c:1000</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structevent__node_html_a59a73e4049ec3ef2a8b92308f83259dc"><div class="ttname"><a href="../../da/d6e/structevent__node.html#a59a73e4049ec3ef2a8b92308f83259dc">event_node::next</a></div><div class="ttdeci">struct event_node * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00139">app_alarmreceiver.c:139</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a0ff4af65869b9e48f53828c9fa042582"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a0ff4af65869b9e48f53828c9fa042582">ademco_verify_checksum</a></div><div class="ttdeci">static int ademco_verify_checksum(char *event, int expected)</div><div class="ttdoc">Verify Ademco checksum. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00456">app_alarmreceiver.c:456</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a58db8f62c66a9dd4cea866f8ecc7818f"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a58db8f62c66a9dd4cea866f8ecc7818f">ADEMCO_EXPRESS_4_1</a></div><div class="ttdeci">#define ADEMCO_EXPRESS_4_1</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00080">app_alarmreceiver.c:80</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_afae483bda73c890fc979f3c2d8836bde"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#afae483bda73c890fc979f3c2d8836bde">send_tone_burst</a></div><div class="ttdeci">static int send_tone_burst(struct ast_channel *chan, const char *tone_freq, int tone_duration, int delay)</div><div class="ttdoc">Send a single tone burst for a specified duration and frequency. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00496">app_alarmreceiver.c:496</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a2c20a4982e564404f97899b2db906248"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a2c20a4982e564404f97899b2db906248">log_events</a></div><div class="ttdeci">static int log_events(struct ast_channel *chan, char *signalling_type, event_node_t *event, int no_checksum)</div><div class="ttdoc">Log events if configuration key logindividualevents is enabled or on exit. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00402">app_alarmreceiver.c:402</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ab80280fe1899ec6db1def2b70d98da6a"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ab80280fe1899ec6db1def2b70d98da6a">UNKNOWN_FORMAT</a></div><div class="ttdeci">#define UNKNOWN_FORMAT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00069">app_alarmreceiver.c:69</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a7159e0b8e6a179209019ed4ceedfd43f"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a7159e0b8e6a179209019ed4ceedfd43f">log_individual_events</a></div><div class="ttdeci">static int log_individual_events</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00186">app_alarmreceiver.c:186</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a29b1df7bccd72d266f341ef9969f4eb6"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a29b1df7bccd72d266f341ef9969f4eb6">ADEMCO_CONTACT_ID</a></div><div class="ttdeci">#define ADEMCO_CONTACT_ID</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00071">app_alarmreceiver.c:71</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ae109bf955fd48afd8363cede08a1ac43"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ae109bf955fd48afd8363cede08a1ac43">ademco_check_valid</a></div><div class="ttdeci">static int ademco_check_valid(char *signalling_type, char *event)</div><div class="ttdoc">Check if the message is in known and valid Ademco format. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00523">app_alarmreceiver.c:523</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a239c58e9524b5ed36e1969c2e2bdbfa3"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a239c58e9524b5ed36e1969c2e2bdbfa3">call_start_time</a></div><div class="ttdeci">struct timeval call_start_time</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00144">app_alarmreceiver.c:144</a></div></div>
<div class="ttc" id="structevent__node_html_a7c3d85e54927f04c38e110e849168bb9"><div class="ttname"><a href="../../da/d6e/structevent__node.html#a7c3d85e54927f04c38e110e849168bb9">event_node::data</a></div><div class="ttdeci">char data[17]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00138">app_alarmreceiver.c:138</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_adb5af1d2967a28b3ce7dcbf7306c3c92"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#adb5af1d2967a28b3ce7dcbf7306c3c92">ademco_detect_format</a></div><div class="ttdeci">static int ademco_detect_format(char *signalling_type, char *event, int *no_checksum)</div><div class="ttdoc">Detect the message format of an event. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00563">app_alarmreceiver.c:563</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a33fbd672e7df029f67de5fd3ed1bd1fa"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a33fbd672e7df029f67de5fd3ed1bd1fa">ADEMCO_AUDIO_CALL_NEXT</a></div><div class="ttdeci">#define ADEMCO_AUDIO_CALL_NEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00128">app_alarmreceiver.c:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e454444ea43dd47d741c9e0c26ca8e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e454444ea43dd47d741c9e0c26ca8e6">&#9670;&nbsp;</a></span>receive_dtmf_digits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int receive_dtmf_digits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>digit_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>buf_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>expected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>received</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Receive a fixed length DTMF string. </p>
<dl class="section note"><dt>Note</dt><dd>Doesn't give preferential treatment to any digit, </dd>
<dd>
allow different timeout values for the first and all subsequent digits</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Asterisk Channel </td></tr>
    <tr><td class="paramname">digit_string</td><td>Digits String </td></tr>
    <tr><td class="paramname">buf_size</td><td>The size of the Digits String buffer </td></tr>
    <tr><td class="paramname">expected</td><td>Digits expected for this message type </td></tr>
    <tr><td class="paramname">received</td><td>Pointer to number of digits received so far</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if all digits were successfully received </td></tr>
    <tr><td class="paramname">1</td><td>if a timeout occurred </td></tr>
    <tr><td class="paramname">-1</td><td>if the caller hung up or on channel errors </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00253">253</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00431">ast_channel_hangupcause_set()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00278">AST_CONTROL_HANGUP</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">AST_FRAME_DTMF</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04302">ast_read()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00098">ast_tvdiff_ms()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03171">ast_waitfor()</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00182">fdtimeout</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00183">sdtimeout</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::uint32</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;{</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <span class="keywordtype">int</span> rtn = 0;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <span class="keywordtype">int</span> r;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *f;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <span class="keyword">struct </span>timeval lastdigittime;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   lastdigittime = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <span class="keywordflow">while</span> (*received &lt; expected &amp;&amp; *received &lt; buf_size - 1) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="comment">/* If timed out, leave */</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a>(<a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>(), lastdigittime) &gt; ((*received &gt; 0) ? <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a4fdaf8de7337b6edff0ff641386f9dc3">sdtimeout</a> : <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1b48abc3f5ca7a0f92edf228128e47a1">fdtimeout</a>)) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;AlarmReceiver: DTMF Digit Timeout on %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;AlarmReceiver: DTMF timeout on chan %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;         rtn = 1;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">if</span> ((r = <a class="code" href="../../d5/d7b/channel_8h.html#a60e0bcaed001e8d5ed1ba0eb2644b3cc">ast_waitfor</a>(chan, -1)) &lt; 0) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Waitfor returned %d\n&quot;</span>, r);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">if</span> ((f = <a class="code" href="../../d5/d7b/channel_8h.html#a7ef6737309dc9e8b6c4a7cb4800638b1">ast_read</a>(chan)) == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;         rtn = -1;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="comment">/* If they hung up, leave */</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">if</span> ((f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a>)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;         &amp;&amp; (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba">AST_CONTROL_HANGUP</a>)) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;         <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#a5ad776be1fb768f3399aafcd1b58b3a2">uint32</a>) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#ae6b4b7ba458e88fdbb2df9f39d935337">ast_channel_hangupcause_set</a>(chan, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#a5ad776be1fb768f3399aafcd1b58b3a2">uint32</a>);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;         }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;         rtn = -1;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="comment">/* If not DTMF, just do it again */</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> != <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a>) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="comment">/* Save digit */</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      digit_string[(*received)++] = f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      lastdigittime = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <span class="comment">/* Null terminate the end of the digit_string */</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   digit_string[*received] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   <span class="keywordflow">return</span> rtn;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="ttc" id="channel_8h_html_ae6b4b7ba458e88fdbb2df9f39d935337"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae6b4b7ba458e88fdbb2df9f39d935337">ast_channel_hangupcause_set</a></div><div class="ttdeci">void ast_channel_hangupcause_set(struct ast_channel *chan, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00431">channel_internal_api.c:431</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a1b48abc3f5ca7a0f92edf228128e47a1"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a1b48abc3f5ca7a0f92edf228128e47a1">fdtimeout</a></div><div class="ttdeci">static int fdtimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00182">app_alarmreceiver.c:182</a></div></div>
<div class="ttc" id="channel_8h_html_a7ef6737309dc9e8b6c4a7cb4800638b1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ef6737309dc9e8b6c4a7cb4800638b1">ast_read</a></div><div class="ttdeci">struct ast_frame * ast_read(struct ast_channel *chan)</div><div class="ttdoc">Reads a frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04302">channel.c:4302</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="time_8h_html_aca4ecdab7d8d3519062aad9a90fcb29d"><div class="ttname"><a href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a></div><div class="ttdeci">int64_t ast_tvdiff_ms(struct timeval end, struct timeval start)</div><div class="ttdoc">Computes the difference (in milliseconds) between two struct timeval instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00098">time.h:98</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a248afd6c02044259a386f6b7aee922a2"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a></div><div class="ttdeci">#define AST_FRAME_DTMF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">include/asterisk/frame.h:139</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba">AST_CONTROL_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00278">include/asterisk/frame.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a60e0bcaed001e8d5ed1ba0eb2644b3cc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a60e0bcaed001e8d5ed1ba0eb2644b3cc">ast_waitfor</a></div><div class="ttdeci">int ast_waitfor(struct ast_channel *chan, int ms)</div><div class="ttdoc">Wait for input on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l03171">channel.c:3171</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a4fdaf8de7337b6edff0ff641386f9dc3"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a4fdaf8de7337b6edff0ff641386f9dc3">sdtimeout</a></div><div class="ttdeci">static int sdtimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00183">app_alarmreceiver.c:183</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="structast__frame_html_a4027905f872af30d910929b07e261ca5"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a></div><div class="ttdeci">union ast_frame::@263 data</div></div>
<div class="ttc" id="structast__frame_html_a5ad776be1fb768f3399aafcd1b58b3a2"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a5ad776be1fb768f3399aafcd1b58b3a2">ast_frame::uint32</a></div><div class="ttdeci">uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">include/asterisk/frame.h:183</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1982509765f4870f1f63412a53ea668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1982509765f4870f1f63412a53ea668">&#9670;&nbsp;</a></span>reload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reload </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00986">986</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00315">AST_MODFLAG_DEFAULT</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00122">AST_MODULE_SUPPORT_EXTENDED</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00974">load_module()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00959">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;{</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ad0f6114d9cab58a8ec3d9555cb466534">load_config</a>(1)) {</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   }</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;}</div><div class="ttc" id="app__alarmreceiver_8c_html_ad0f6114d9cab58a8ec3d9555cb466534"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ad0f6114d9cab58a8ec3d9555cb466534">load_config</a></div><div class="ttdeci">static int load_config(int reload)</div><div class="ttdoc">Load the configuration from the configuration file. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">app_alarmreceiver.c:868</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afae483bda73c890fc979f3c2d8836bde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afae483bda73c890fc979f3c2d8836bde">&#9670;&nbsp;</a></span>send_tone_burst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int send_tone_burst </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tone_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tone_duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a single tone burst for a specified duration and frequency. </p>
<dl class="section since"><dt>Since</dt><dd>11.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Asterisk Channel </td></tr>
    <tr><td class="paramname">tone_freq</td><td>Frequency of the tone to send </td></tr>
    <tr><td class="paramname">tone_duration</td><td>Tone duration in ms </td></tr>
    <tr><td class="paramname">delay</td><td>Delay before sending the tone</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00496">496</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d6e/indications_8c_source.html#l00302">ast_playtones_start()</a>, <a class="el" href="../../df/d6e/indications_8c_source.html#l00393">ast_playtones_stop()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01574">ast_safe_sleep()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00185">toneloudness</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;{</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   <span class="keywordflow">if</span> (delay &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#af10e3bd01602095e1908d3926afc3b76">ast_safe_sleep</a>(chan, delay)) {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d2/d0f/indications_8h.html#a544e8a1dd4a986b00754103dda6a7d3b">ast_playtones_start</a>(chan, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a3eb73c00a0bf16e66a674336c63ab145">toneloudness</a>, tone_freq, 0)) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#af10e3bd01602095e1908d3926afc3b76">ast_safe_sleep</a>(chan, tone_duration)) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <a class="code" href="../../d2/d0f/indications_8h.html#a9d5be069b7060d326a213f5d60b8dc77">ast_playtones_stop</a>(chan);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div><div class="ttc" id="channel_8h_html_af10e3bd01602095e1908d3926afc3b76"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af10e3bd01602095e1908d3926afc3b76">ast_safe_sleep</a></div><div class="ttdeci">int ast_safe_sleep(struct ast_channel *chan, int ms)</div><div class="ttdoc">Wait for a specified amount of time, looking for hangups. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01574">channel.c:1574</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a3eb73c00a0bf16e66a674336c63ab145"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a3eb73c00a0bf16e66a674336c63ab145">toneloudness</a></div><div class="ttdeci">static int toneloudness</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00185">app_alarmreceiver.c:185</a></div></div>
<div class="ttc" id="indications_8h_html_a9d5be069b7060d326a213f5d60b8dc77"><div class="ttname"><a href="../../d2/d0f/indications_8h.html#a9d5be069b7060d326a213f5d60b8dc77">ast_playtones_stop</a></div><div class="ttdeci">void ast_playtones_stop(struct ast_channel *chan)</div><div class="ttdoc">Stop playing tones on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6e/indications_8c_source.html#l00393">indications.c:393</a></div></div>
<div class="ttc" id="indications_8h_html_a544e8a1dd4a986b00754103dda6a7d3b"><div class="ttname"><a href="../../d2/d0f/indications_8h.html#a544e8a1dd4a986b00754103dda6a7d3b">ast_playtones_start</a></div><div class="ttdeci">int ast_playtones_start(struct ast_channel *chan, int vol, const char *tonelist, int interruptible)</div><div class="ttdoc">Start playing a list of tones on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6e/indications_8c_source.html#l00302">indications.c:302</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unregister Alarm Receiver App. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00959">959</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00146">app</a>, and <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">ast_unregister_application()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00986">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;{</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;}</div><div class="ttc" id="app__alarmreceiver_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00146">app_alarmreceiver.c:146</a></div></div>
<div class="ttc" id="module_8h_html_ad2ca15621101154f29748cf1dac3c3cf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a></div><div class="ttdeci">int ast_unregister_application(const char *app)</div><div class="ttdoc">Unregister an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00392">pbx_app.c:392</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af208de313fbbdf0fbd2d4003ad32209d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af208de313fbbdf0fbd2d4003ad32209d">&#9670;&nbsp;</a></span>write_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int write_event </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>logfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#a43430ade34d3b993bd3ac613bb94c075">event_node_t</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log a single event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logfile</td><td>Log File Pointer </td></tr>
    <tr><td class="paramname">event</td><td>Event Structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00382">382</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00138">event_node::data</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00187">no_group_meta</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00402">log_events()</a>.</p>
<div class="fragment"><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;{</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   <span class="keywordflow">if</span> (fprintf(logfile, <span class="stringliteral">&quot;%s%s\n&quot;</span>, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac5f81cc7d74df74f72d2b3e4aebea3d1">no_group_meta</a> ? <span class="stringliteral">&quot;event=&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, event-&gt;<a class="code" href="../../da/d6e/structevent__node.html#a7c3d85e54927f04c38e110e849168bb9">data</a>) &lt; 0) {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div><div class="ttc" id="structevent__node_html_a7c3d85e54927f04c38e110e849168bb9"><div class="ttname"><a href="../../da/d6e/structevent__node.html#a7c3d85e54927f04c38e110e849168bb9">event_node::data</a></div><div class="ttdeci">char data[17]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00138">app_alarmreceiver.c:138</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ac5f81cc7d74df74f72d2b3e4aebea3d1"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ac5f81cc7d74df74f72d2b3e4aebea3d1">no_group_meta</a></div><div class="ttdeci">static int no_group_meta</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00187">app_alarmreceiver.c:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a50def3bb51f1fadca1189892f9d9bca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50def3bb51f1fadca1189892f9d9bca9">&#9670;&nbsp;</a></span>write_metadata()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int write_metadata </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>logfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>signalling_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>no_checksum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write metadata to log file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logfile</td><td>Log File Pointer </td></tr>
    <tr><td class="paramname">signalling_type</td><td>Signaling Type </td></tr>
    <tr><td class="paramname">chan</td><td>Asterisk Channel </td></tr>
    <tr><td class="paramname">no_checksum</td><td>Expecting messages without checksum</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00321">321</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00888">ast_channel_caller()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l01739">ast_localtime()</a>, <a class="el" href="../../dc/dd5/callerid_8c_source.html#l00947">ast_shrink_phone_number()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l02524">ast_strftime()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::name</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00187">no_group_meta</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00085">S_COR</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00191">time_stamp_format</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00402">log_events()</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;{</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <span class="keyword">struct </span>timeval t;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d84/structast__tm.html">ast_tm</a> now;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <span class="keywordtype">char</span> *cl;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <span class="keywordtype">char</span> *cn;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keywordtype">char</span> workstring[80];</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <span class="keywordtype">char</span> timestamp[80];</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   <span class="comment">/* Extract the caller ID location */</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(workstring,</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid,</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str, <span class="stringliteral">&quot;&quot;</span>), <span class="keyword">sizeof</span>(workstring));</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   <a class="code" href="../../de/d47/callerid_8h.html#a6a61669b28d0f994e44db5e3baab6ef2">ast_shrink_phone_number</a>(workstring);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(workstring)) {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      cl = <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      cl = workstring;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   cn = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.valid,</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.str, <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   <span class="comment">/* Get the current time */</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   t = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <a class="code" href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a>(&amp;t, &amp;now, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <span class="comment">/* Format the time */</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   <a class="code" href="../../d5/deb/localtime_8h.html#aa8e63928b14a347bd3973d680b885f93">ast_strftime</a>(timestamp, <span class="keyword">sizeof</span>(timestamp), <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#a14a2cf1fe28ca8a247a7e67ab1612606">time_stamp_format</a>, &amp;now);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac5f81cc7d74df74f72d2b3e4aebea3d1">no_group_meta</a> &amp;&amp; fprintf(logfile, <span class="stringliteral">&quot;PROTOCOL=%s\n&quot;</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;         <span class="stringliteral">&quot;CHECKSUM=%s\n&quot;</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;         <span class="stringliteral">&quot;CALLINGFROM=%s\n&quot;</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;         <span class="stringliteral">&quot;CALLERNAME=%s\n&quot;</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;         <span class="stringliteral">&quot;TIMESTAMP=%s\n\n&quot;</span>,</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;         signalling_type, (!no_checksum) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>, cl, cn, timestamp) &gt; -1) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fprintf(logfile, <span class="stringliteral">&quot;\n\n[metadata]\n\n&quot;</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;         <span class="stringliteral">&quot;PROTOCOL=%s\n&quot;</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;         <span class="stringliteral">&quot;CHECKSUM=%s\n&quot;</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;         <span class="stringliteral">&quot;CALLINGFROM=%s\n&quot;</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;         <span class="stringliteral">&quot;CALLERNAME=%s\n&quot;</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;         <span class="stringliteral">&quot;TIMESTAMP=%s\n\n&quot;</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;         <span class="stringliteral">&quot;[events]\n\n&quot;</span>,</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;         signalling_type, (!no_checksum) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>, cl, cn, timestamp) &gt; -1) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;AlarmReceiver: can&#39;t write metadata\n&quot;</span>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;AlarmReceiver: can&#39;t write metadata\n&quot;</span>);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="ttc" id="channel_8h_html_ac2dc872b606534943c98304aed841b34"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a></div><div class="ttdeci">struct ast_party_caller * ast_channel_caller(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00888">channel_internal_api.c:888</a></div></div>
<div class="ttc" id="localtime_8h_html_ae9fbda728350a9a5b9c09b29214d718e"><div class="ttname"><a href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a></div><div class="ttdeci">struct ast_tm * ast_localtime(const struct timeval *timep, struct ast_tm *p_tm, const char *zone)</div><div class="ttdoc">Timezone-independent version of localtime_r(3). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l01739">localtime.c:1739</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structnumber_html"><div class="ttname"><a href="../../d6/d49/structnumber.html">number</a></div><div class="ttdoc">Number structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d55/app__followme_8c_source.html#l00154">app_followme.c:154</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="strings_8h_html_a38a896048b2ca84076864505f0aa8f01"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a></div><div class="ttdeci">#define S_COR(a, b, c)</div><div class="ttdoc">returns the equivalent of logic or for strings, with an additional boolean check: second one if not e...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00085">strings.h:85</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="localtime_8h_html_aa8e63928b14a347bd3973d680b885f93"><div class="ttname"><a href="../../d5/deb/localtime_8h.html#aa8e63928b14a347bd3973d680b885f93">ast_strftime</a></div><div class="ttdeci">int ast_strftime(char *buf, size_t len, const char *format, const struct ast_tm *tm)</div><div class="ttdoc">Special version of strftime(3) that handles fractions of a second. Takes the same arguments as strfti...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l02524">localtime.c:2524</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_a14a2cf1fe28ca8a247a7e67ab1612606"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#a14a2cf1fe28ca8a247a7e67ab1612606">time_stamp_format</a></div><div class="ttdeci">static char time_stamp_format[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00191">app_alarmreceiver.c:191</a></div></div>
<div class="ttc" id="callerid_8h_html_a6a61669b28d0f994e44db5e3baab6ef2"><div class="ttname"><a href="../../de/d47/callerid_8h.html#a6a61669b28d0f994e44db5e3baab6ef2">ast_shrink_phone_number</a></div><div class="ttdeci">void ast_shrink_phone_number(char *n)</div><div class="ttdoc">Shrink a phone number in place to just digits (more accurately it just removes ()&amp;#39;s, .&amp;#39;s, and -&amp;#39;s... </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd5/callerid_8c_source.html#l00947">callerid.c:947</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ac5f81cc7d74df74f72d2b3e4aebea3d1"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ac5f81cc7d74df74f72d2b3e4aebea3d1">no_group_meta</a></div><div class="ttdeci">static int no_group_meta</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00187">app_alarmreceiver.c:187</a></div></div>
<div class="ttc" id="structast__tm_html"><div class="ttname"><a href="../../d5/d84/structast__tm.html">ast_tm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00035">localtime.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a> , .description = &quot;Alarm Receiver for Asterisk&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_EXTENDED, .load = load_module, .unload = unload_module, .reload = reload, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l01000">1000</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

</div>
</div>
<a id="ac85ab93f9c80f24fd1f682d6666980d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac85ab93f9c80f24fd1f682d6666980d0">&#9670;&nbsp;</a></span>answait</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int answait = 1250</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00184">184</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00792">alarmreceiver_exec()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>.</p>

</div>
</div>
<a id="a1d9b1eccfc259a14525ce817482a3f88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d9b1eccfc259a14525ce817482a3f88">&#9670;&nbsp;</a></span>app</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char app[] = &quot;AlarmReceiver&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00146">146</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00974">load_module()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00959">unload_module()</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l01000">1000</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

</div>
</div>
<a id="a239c58e9524b5ed36e1969c2e2bdbfa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a239c58e9524b5ed36e1969c2e2bdbfa3">&#9670;&nbsp;</a></span>call_start_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct timeval call_start_time</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00144">144</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00792">alarmreceiver_exec()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>

</div>
</div>
<a id="a3399725e30392ba5bf6ab9f7173b92c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3399725e30392ba5bf6ab9f7173b92c9">&#9670;&nbsp;</a></span>db_family</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char db_family[128] = {'\0'}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00190">190</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00208">database_increment()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>.</p>

</div>
</div>
<a id="ac2c887b7f7b359bfdda8a128980f5081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2c887b7f7b359bfdda8a128980f5081">&#9670;&nbsp;</a></span>digit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char digit</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a178">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00131">131</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03529">__ast_read()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05164">action_atxfer()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05218">action_cancel_atxfer()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02951">action_playback_and_continue()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00456">ademco_verify_checksum()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01738">agent_alert()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l04134">ast_rtp_dtmf_begin()</a>, <a class="el" href="../../d7/d01/say_8c_source.html#l09131">ast_translate_number_ka()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00779">ast_unreal_digit_begin()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00801">ast_unreal_digit_end()</a>, <a class="el" href="../../d0/df4/app__attended__transfer_8c_source.html#l00077">attended_transfer_exec()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01717">bridge_channel_feature_digit_add()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00082">chan_pjsip_pvt_dtor()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00877">channel_dtmf_begin_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00921">channel_dtmf_end_cb()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04283">collect_digits()</a>, <a class="el" href="../../d0/de2/app__directory_8c_source.html#l00188">compare()</a>, <a class="el" href="../../d6/dde/app__controlplayback_8c_source.html#l00197">controlplayback_exec()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l00869">dahdi_chan_conf_default()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l04237">dahdi_digit_begin()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>, <a class="el" href="../../dd/d32/app__dictate_8c_source.html#l00087">dictate_exec()</a>, <a class="el" href="../../d0/de2/app__directory_8c_source.html#l00847">directory_exec()</a>, <a class="el" href="../../d0/de2/app__directory_8c_source.html#l00768">do_directory()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01385">dtmf_end_to_json()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00899">dtmf_stream()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l03537">handle_clear_alarms()</a>, <a class="el" href="../../dd/d7c/res__pjsip__one__touch__record__info_8c_source.html#l00048">handle_incoming_request()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l06220">handle_keypad_button_message()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02205">info_dtmf_data_alloc()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01232">jb_debug_output()</a>, <a class="el" href="../../dd/d4b/console__gui_8c_source.html#l00102">keypad_cfg_read()</a>, <a class="el" href="../../dc/d37/app__senddtmf_8c_source.html#l00148">manager_play_dtmf()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00682">manager_play_mf()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01319">mgcp_senddigit_end()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l06915">misdn_digit_end()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l00548">moh_digit_match()</a>, <a class="el" href="../../d8/d8f/app__morsecode_8c_source.html#l00181">morsecode_exec()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00928">ooh323_digit_begin()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00300">phone_call()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00936">phone_check_exception()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00503">phone_exception()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l00928">play_file()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03378">send_dtmf_begin_event()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03394">send_dtmf_end_event()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00680">store_digit()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l02096">test_dtmf_amplitude_sweep()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l02176">test_dtmf_twist_sweep()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06722">try_calling()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l03356">unistim_do_senddigit()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03945">valid_exit()</a>.</p>

</div>
</div>
<a id="ac4161d33b8260fed5c9af6f5c2cdfab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4161d33b8260fed5c9af6f5c2cdfab6">&#9670;&nbsp;</a></span>digits_mapping</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   digits_mapping[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= { {<span class="charliteral">&#39;0&#39;</span>, 10}, {<span class="charliteral">&#39;1&#39;</span>, 1} , {<span class="charliteral">&#39;2&#39;</span>, 2}, {<span class="charliteral">&#39;3&#39;</span>, 3}, {<span class="charliteral">&#39;4&#39;</span>, 4}, {<span class="charliteral">&#39;5&#39;</span>, 5},</div><div class="line">   {<span class="charliteral">&#39;6&#39;</span>, 6}, {<span class="charliteral">&#39;7&#39;</span>, 7}, {<span class="charliteral">&#39;8&#39;</span>, 8}, {<span class="charliteral">&#39;9&#39;</span>, 9}, {<span class="charliteral">&#39;*&#39;</span>, 11}, {<span class="charliteral">&#39;#&#39;</span>, 12},</div><div class="line">   {<span class="charliteral">&#39;A&#39;</span>, 13}, {<span class="charliteral">&#39;B&#39;</span>, 14}, {<span class="charliteral">&#39;C&#39;</span>, 15} }</div></div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00456">ademco_verify_checksum()</a>.</p>

</div>
</div>
<a id="aa1873fb6490ef9c020bdf989769e7040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1873fb6490ef9c020bdf989769e7040">&#9670;&nbsp;</a></span>event_app</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char event_app[128] = {'\0'}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00189">189</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00792">alarmreceiver_exec()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>.</p>

</div>
</div>
<a id="a7584922fe0ef48f70489ef09e228ef4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7584922fe0ef48f70489ef09e228ef4a">&#9670;&nbsp;</a></span>event_file</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char event_file[14] = &quot;/event-XXXXXX&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00194">194</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00402">log_events()</a>.</p>

</div>
</div>
<a id="a66f6e37946ebc0c40cb7d784c8cec24e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66f6e37946ebc0c40cb7d784c8cec24e">&#9670;&nbsp;</a></span>event_spool_dir</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char event_spool_dir[128] = {'\0'}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00188">188</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00402">log_events()</a>.</p>

</div>
</div>
<a id="a1b48abc3f5ca7a0f92edf228128e47a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b48abc3f5ca7a0f92edf228128e47a1">&#9670;&nbsp;</a></span>fdtimeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int fdtimeout = 2000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00182">182</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d60/res__fax_8c_source.html#l04601">acf_faxopt_write()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00253">receive_dtmf_digits()</a>.</p>

</div>
</div>
<a id="a7159e0b8e6a179209019ed4ceedfd43f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7159e0b8e6a179209019ed4ceedfd43f">&#9670;&nbsp;</a></span>log_individual_events</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int log_individual_events = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00186">186</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00792">alarmreceiver_exec()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>.</p>

</div>
</div>
<a id="ac5f81cc7d74df74f72d2b3e4aebea3d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5f81cc7d74df74f72d2b3e4aebea3d1">&#9670;&nbsp;</a></span>no_group_meta</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int no_group_meta = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00187">187</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00382">write_event()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00321">write_metadata()</a>.</p>

</div>
</div>
<a id="a4fdaf8de7337b6edff0ff641386f9dc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fdaf8de7337b6edff0ff641386f9dc3">&#9670;&nbsp;</a></span>sdtimeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int sdtimeout = 200</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00183">183</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00253">receive_dtmf_digits()</a>.</p>

</div>
</div>
<a id="a14a2cf1fe28ca8a247a7e67ab1612606"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14a2cf1fe28ca8a247a7e67ab1612606">&#9670;&nbsp;</a></span>time_stamp_format</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char time_stamp_format[128] = {&quot;%a %<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a> %<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, %Y @ %H:%M:%<a class="el" href="../../df/d44/app__meetme_8c.html#abd5465a13e11fe1c52a5a0f7b0b0812e">S</a> %Z&quot;}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00191">191</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00321">write_metadata()</a>.</p>

</div>
</div>
<a id="a3eb73c00a0bf16e66a674336c63ab145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eb73c00a0bf16e66a674336c63ab145">&#9670;&nbsp;</a></span>toneloudness</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int toneloudness = 4096</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00185">185</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00868">load_config()</a>, and <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00496">send_tone_burst()</a>.</p>

</div>
</div>
<a id="abad164b523955988350efd52f43e7d67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abad164b523955988350efd52f43e7d67">&#9670;&nbsp;</a></span>weight</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char weight</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00132">132</a> of file <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html">app_alarmreceiver.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l01170">cache_lookup_internal()</a>, <a class="el" href="../../db/d8e/dns__srv_8c_source.html#l00042">dns_srv_alloc()</a>, <a class="el" href="../../db/d8e/dns__srv_8c_source.html#l00113">dns_srv_sort()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l00657">dundi_lookup_thread()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l02955">dundi_show_cache()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l02883">dundi_show_mappings()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l03437">precache_trans()</a>, and <a class="el" href="../../d9/d95/func__srv_8c_source.html#l00168">srv_result_read()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:30 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
