<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: bridge_features.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bridge_features.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Channel Bridging API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bridge_features.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d95/bridge__features_8h__incl.png" border="0" usemap="#bridge__features_8h" alt=""/></div>
<map name="bridge__features_8h" id="bridge__features_8h">
<area shape="rect" id="node2" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1047,80,1186,107"/>
<area shape="rect" id="node3" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="910,155,1054,181"/>
<area shape="rect" id="node4" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="958,304,1073,331"/>
<area shape="rect" id="node5" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="428,453,541,480"/>
<area shape="rect" id="node7" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="937,379,1094,405"/>
<area shape="rect" id="node8" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="1720,229,1879,256"/>
<area shape="rect" id="node12" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="5,304,140,331"/>
<area shape="rect" id="node13" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="419,379,569,405"/>
<area shape="rect" id="node14" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1884,155,2048,181"/>
<area shape="rect" id="node17" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1569,229,1696,256"/>
<area shape="rect" id="node19" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="197,155,343,181"/>
<area shape="rect" id="node20" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="317,229,444,256"/>
<area shape="rect" id="node21" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="2185,155,2291,181"/>
<area shape="rect" id="node22" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="419,304,569,331"/>
<area shape="rect" id="node23" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="2049,304,2211,331"/>
<area shape="rect" id="node24" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="1281,304,1451,331"/>
<area shape="rect" id="node26" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1183,155,1299,181"/>
<area shape="rect" id="node28" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1478,155,1635,181"/>
<area shape="rect" id="node29" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="761,155,886,181"/>
<area shape="rect" id="node33" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="552,155,703,181"/>
<area shape="rect" id="node6" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="359,528,506,555"/>
<area shape="rect" id="node10" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="1750,304,1881,331"/>
<area shape="rect" id="node11" href="../../d1/d16/codec_8h.html" title="Codec API. " alt="" coords="1909,379,2036,405"/>
<area shape="rect" id="node15" href="../../d9/dab/select_8h.html" title="Bitfield expansions for ast_select. " alt="" coords="1903,229,2029,256"/>
<area shape="rect" id="node18" href="../../d1/d84/endian_8h.html" title="Asterisk architecture endianess compatibility definitions. " alt="" coords="1595,304,1726,331"/>
<area shape="rect" id="node25" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="1263,379,1347,405"/>
<area shape="rect" id="node27" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="1281,229,1443,256"/>
<area shape="rect" id="node30" href="../../d4/d05/json_8h.html" title="Asterisk JSON abstraction layer. " alt="" coords="519,229,634,256"/>
<area shape="rect" id="node31" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="807,229,952,256"/>
<area shape="rect" id="node32" href="../../dd/d20/event_8h.html" title="asterisk/event.h" alt="" coords="659,229,783,256"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/dfc/bridge__features_8h__dep__incl.png" border="0" usemap="#bridge__features_8hdep" alt=""/></div>
<map name="bridge__features_8hdep" id="bridge__features_8hdep">
<area shape="rect" id="node2" href="../../d4/d56/bridge_8h.html" title="Bridging API. " alt="" coords="2192,155,2267,181"/>
<area shape="rect" id="node14" href="../../d0/d95/bridge_8c.html" title="Bridging API. " alt="" coords="1170,319,1243,345"/>
<area shape="rect" id="node17" href="../../d5/d92/features_8c.html" title="Routines implementing call features as call pickup, parking and transfer. " alt="" coords="4389,319,4475,345"/>
<area shape="rect" id="node18" href="../../d1/db7/parking__bridge__features_8c.html" title="Parking Bridge DTMF and Interval features. " alt="" coords="4545,319,4732,345"/>
<area shape="rect" id="node20" href="../../d4/de3/confbridge_8h.html" title="confbridge.h" alt="" coords="633,319,735,345"/>
<area shape="rect" id="node23" href="../../dc/d40/conf__config__parser_8c.html" title="ConfBridge config parser. " alt="" coords="39,393,191,420"/>
<area shape="rect" id="node48" href="../../de/de3/control_8c.html" title="Stasis application control support. " alt="" coords="4571,237,4648,263"/>
<area shape="rect" id="node49" href="../../d9/de0/stasis__bridge_8c.html" title="Stasis bridge subclass. " alt="" coords="4723,237,4840,263"/>
<area shape="rect" id="node50" href="../../de/d41/bridge__channel_8h.html" title="bridge_channel.h" alt="" coords="3904,80,4035,107"/>
<area shape="rect" id="node3" href="../../de/d11/app__agent__pool_8c.html" title="Call center agent pool. " alt="" coords="4107,237,4242,263"/>
<area shape="rect" id="node4" href="../../d0/df4/app__attended__transfer_8c.html" title="Attended transfer by caller channel. " alt="" coords="1263,237,1441,263"/>
<area shape="rect" id="node5" href="../../d7/d7c/app__blind__transfer_8c.html" title="Blind transfer by caller channel. " alt="" coords="1466,237,1617,263"/>
<area shape="rect" id="node6" href="../../d8/d6e/app__bridgeaddchan_8c.html" title="Application to place the channel into an existing Bridge. " alt="" coords="1462,319,1621,345"/>
<area shape="rect" id="node7" href="../../de/d47/features_8h.html" title="Call Parking and Pickup API Includes code and algorithms from the Zapata library. ..." alt="" coords="1895,237,1982,263"/>
<area shape="rect" id="node8" href="../../dc/d22/app__bridgewait_8c.html" title="Application to place the channel into a holding Bridge. " alt="" coords="3494,319,3623,345"/>
<area shape="rect" id="node9" href="../../d1/d97/chan__dahdi_8c.html" title="DAHDI for Pseudo TDM. " alt="" coords="1901,319,2008,345"/>
<area shape="rect" id="node10" href="../../d5/dff/chan__iax2_8c.html" title="Implementation of Inter&#45;Asterisk eXchange Version 2 as specified in RFC 5456. " alt="" coords="1645,319,1742,345"/>
<area shape="rect" id="node11" href="../../d0/dd6/chan__mgcp_8c.html" title="Implementation of Media Gateway Control Protocol. " alt="" coords="2032,319,2139,345"/>
<area shape="rect" id="node12" href="../../d7/d9b/chan__misdn_8c.html" title="the chan_misdn channel driver for Asterisk " alt="" coords="1766,319,1877,345"/>
<area shape="rect" id="node13" href="../../d2/d09/sig__analog_8c.html" title="Analog signaling module. " alt="" coords="2163,319,2264,345"/>
<area shape="rect" id="node15" href="../../d7/d9b/bridge__basic_8c.html" title="Basic bridge class. It is a subclass of struct ast_bridge. " alt="" coords="962,319,1075,345"/>
<area shape="rect" id="node16" href="../../d4/d28/channel_8c.html" title="Channel Management. " alt="" coords="2308,319,2391,345"/>
<area shape="rect" id="node19" href="../../d0/dcf/app__confbridge_8c.html" title="Conference Bridge application. " alt="" coords="516,393,647,420"/>
<area shape="rect" id="node21" href="../../d8/d4f/conf__chan__announce_8c.html" title="ConfBridge announcer channel driver. " alt="" coords="324,393,492,420"/>
<area shape="rect" id="node22" href="../../d9/d44/conf__chan__record_8c.html" title="ConfBridge recorder channel driver. " alt="" coords="671,393,817,420"/>
<area shape="rect" id="node24" href="../../dd/d92/confbridge__manager_8c.html" title="Confbridge manager events for stasis messages. " alt="" coords="842,393,1006,420"/>
<area shape="rect" id="node25" href="../../dc/d4e/stasis__bridges_8h.html" title="stasis_bridges.h" alt="" coords="911,237,1036,263"/>
<area shape="rect" id="node26" href="../../d3/d32/bridge__channel_8c.html" title="Bridging Channel API. " alt="" coords="3031,319,3161,345"/>
<area shape="rect" id="node27" href="../../da/dc9/cel_8c.html" title="Channel Event Logging API. " alt="" coords="1387,319,1437,345"/>
<area shape="rect" id="node28" href="../../df/dd3/main_2cli_8c.html" title="Standard Command Line Interface. " alt="" coords="1099,319,1146,345"/>
<area shape="rect" id="node29" href="../../d2/ddd/app__dumpchan_8c.html" title="Application to dump channel variables. " alt="" coords="2215,237,2347,263"/>
<area shape="rect" id="node30" href="../../de/dea/core__unreal_8h.html" title="Unreal channel derivative framework. " alt="" coords="429,237,539,263"/>
<area shape="rect" id="node31" href="../../df/d0c/chan__bridge__media_8c.html" title="Bridge Media Channels driver. " alt="" coords="145,319,303,345"/>
<area shape="rect" id="node32" href="../../de/d47/core__local_8c.html" title="Local proxy channel driver. " alt="" coords="327,319,425,345"/>
<area shape="rect" id="node33" href="../../df/d2e/core__unreal_8c.html" title="Unreal channel derivatives framework for channel drivers like local channels. " alt="" coords="501,319,609,345"/>
<area shape="rect" id="node34" href="../../d9/d45/bridge__builtin__features_8c.html" title="Built in bridging features. " alt="" coords="3803,319,3981,345"/>
<area shape="rect" id="node35" href="../../d2/d33/parking_8h.html" title="Call Parking API. " alt="" coords="2058,237,2139,263"/>
<area shape="rect" id="node36" href="../../d5/dfe/chan__sip_8c.html" title="Implementation of Session Initiation Protocol. " alt="" coords="4083,319,4173,345"/>
<area shape="rect" id="node37" href="../../d0/d80/chan__skinny_8c.html" title="Implementation of the Skinny protocol. " alt="" coords="4236,319,4345,345"/>
<area shape="rect" id="node38" href="../../d2/df4/bridge__builtin__interval__features_8c.html" title="Built in bridging interval features. " alt="" coords="2371,229,2533,271"/>
<area shape="rect" id="node39" href="../../d8/d66/bridge__holding_8c.html" title="Bridging technology for storing channels in a bridge for the purpose of holding, parking, queues, and other such states where a channel may need to be in a bridge but not actually communicating with anything. " alt="" coords="2557,237,2683,263"/>
<area shape="rect" id="node40" href="../../d1/d27/bridge__native__rtp_8c.html" title="Native RTP bridging technology module. " alt="" coords="2708,237,2852,263"/>
<area shape="rect" id="node41" href="../../da/daf/bridge__simple_8c.html" title="Simple two channel bridging module. " alt="" coords="2876,237,2999,263"/>
<area shape="rect" id="node42" href="../../d8/df0/bridge__softmix__internal_8h.html" title="Multi&#45;party software based channel mixing (header) " alt="" coords="3023,237,3206,263"/>
<area shape="rect" id="node43" href="../../d3/dac/chan__oss_8c.html" title="Channel driver for OSS sound cards. " alt="" coords="3231,237,3324,263"/>
<area shape="rect" id="node44" href="../../d1/d6d/chan__unistim_8c.html" title="chan_unistim channel driver for Asterisk " alt="" coords="3349,237,3467,263"/>
<area shape="rect" id="node45" href="../../d9/da5/bridge__native__dahdi_8c.html" title="Native DAHDI bridging support. " alt="" coords="3491,237,3653,263"/>
<area shape="rect" id="node46" href="../../d9/d3d/func__channel_8c.html" title="Channel info dialplan functions. " alt="" coords="3677,237,3795,263"/>
<area shape="rect" id="node47" href="../../dd/d13/bridge__roles_8c.html" title="Channel Bridging Roles API. " alt="" coords="3819,237,3930,263"/>
</map>
</div>
</div>
<p><a href="../../dc/d7a/bridge__features_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure that contains features information.  <a href="../../db/dba/structast__bridge__features.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d6e/structast__bridge__features__attended__transfer.html">ast_bridge_features_attended_transfer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure that contains configuration information for the attended transfer built in feature.  <a href="../../d2/d6e/structast__bridge__features__attended__transfer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d41/structast__bridge__features__automixmonitor.html">ast_bridge_features_automixmonitor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d21/structast__bridge__features__automonitor.html">ast_bridge_features_automonitor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dd9/structast__bridge__features__blind__transfer.html">ast_bridge_features_blind_transfer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure that contains configuration information for the blind transfer built in feature.  <a href="../../da/dd9/structast__bridge__features__blind__transfer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure that contains configuration information for the limits feature.  <a href="../../d7/da5/structast__bridge__features__limits.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3b/structast__bridge__hook.html">ast_bridge_hook</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure that is the essence of a feature hook.  <a href="../../da/d3b/structast__bridge__hook.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d92/structast__bridge__hook__dtmf.html">ast_bridge_hook_dtmf</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d00/structast__bridge__hook__dtmf__parms.html">ast_bridge_hook_dtmf_parms</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/df3/structast__bridge__hook__timer.html">ast_bridge_hook_timer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dad/structast__bridge__hook__timer__parms.html">ast_bridge_hook_timer_parms</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8f882f130b89dd63d656d176884095a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a8f882f130b89dd63d656d176884095a1">MAXIMUM_DTMF_FEATURE_STRING</a>&#160;&#160;&#160;(11 + 1)</td></tr>
<tr class="memdesc:a8f882f130b89dd63d656d176884095a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum length of a DTMF feature string.  <a href="#a8f882f130b89dd63d656d176884095a1">More...</a><br /></td></tr>
<tr class="separator:a8f882f130b89dd63d656d176884095a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:acf985c9cba5e118bd24fdf980b59f955"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#acf985c9cba5e118bd24fdf980b59f955">ast_bridge_builtin_set_limits_fn</a>) (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *<a class="el" href="../../df/dfc/structlimits.html">limits</a>, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> remove_flags)</td></tr>
<tr class="memdesc:acf985c9cba5e118bd24fdf980b59f955"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach interval hooks to a bridge features structure.  <a href="#acf985c9cba5e118bd24fdf980b59f955">More...</a><br /></td></tr>
<tr class="separator:acf985c9cba5e118bd24fdf980b59f955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8be7f6bc57379c2028c1420015abc1"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a>) (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt)</td></tr>
<tr class="memdesc:aeb8be7f6bc57379c2028c1420015abc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook callback type.  <a href="#aeb8be7f6bc57379c2028c1420015abc1">More...</a><br /></td></tr>
<tr class="separator:aeb8be7f6bc57379c2028c1420015abc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af04bebd5565286e746a028e7705ca073"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a>) (void *hook_pvt)</td></tr>
<tr class="memdesc:af04bebd5565286e746a028e7705ca073"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook pvt destructor callback.  <a href="#af04bebd5565286e746a028e7705ca073">More...</a><br /></td></tr>
<tr class="separator:af04bebd5565286e746a028e7705ca073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0394614533c00a6ac5483fbb14bae4d5"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a0394614533c00a6ac5483fbb14bae4d5">ast_bridge_move_indicate_callback</a>) (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *src, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *dst)</td></tr>
<tr class="memdesc:a0394614533c00a6ac5483fbb14bae4d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move indicator callback.  <a href="#a0394614533c00a6ac5483fbb14bae4d5">More...</a><br /></td></tr>
<tr class="separator:a0394614533c00a6ac5483fbb14bae4d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5b20a96dee3042c8cb23d45f7a93f79"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#ad5b20a96dee3042c8cb23d45f7a93f79">ast_bridge_talking_indicate_callback</a>) (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt, int talking)</td></tr>
<tr class="memdesc:ad5b20a96dee3042c8cb23d45f7a93f79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Talking indicator callback.  <a href="#ad5b20a96dee3042c8cb23d45f7a93f79">More...</a><br /></td></tr>
<tr class="separator:ad5b20a96dee3042c8cb23d45f7a93f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a59c3a69424e1d3c627ece7aeb5f0bdb3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">ast_bridge_builtin_feature</a> { <br />
&#160;&#160;<a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a1296b14dfc88f2a49818dfd08f2b80fb">AST_BRIDGE_BUILTIN_BLINDTRANSFER</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a914956d3505768cc223eb23ce407c691">AST_BRIDGE_BUILTIN_ATTENDEDTRANSFER</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a96d5e1a5c56634eb48dd78965e5e2ba4">AST_BRIDGE_BUILTIN_HANGUP</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f">AST_BRIDGE_BUILTIN_PARKCALL</a>, 
<br />
&#160;&#160;<a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3ac032caab7558973327322c284b748bf0">AST_BRIDGE_BUILTIN_AUTOMON</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9075785271a9e2a18bb65c99a6bd7744">AST_BRIDGE_BUILTIN_AUTOMIXMON</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a1abab08d2d7b893a82348e417e361717">AST_BRIDGE_BUILTIN_END</a>
<br />
 }<tr class="memdesc:a59c3a69424e1d3c627ece7aeb5f0bdb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Built in DTMF features.  <a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a59c3a69424e1d3c627ece7aeb5f0bdb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb20166cd7e9581af29556b411b960d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960d">ast_bridge_builtin_interval</a> { <a class="el" href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960da38c5af32fcc0a209b338cf6d59650351">AST_BRIDGE_BUILTIN_INTERVAL_LIMITS</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960dad5e042dd402144426b46a6590485d88b">AST_BRIDGE_BUILTIN_INTERVAL_END</a>
 }</td></tr>
<tr class="separator:afcb20166cd7e9581af29556b411b960d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb39f3c49f940cca855ef8ae3dfc5f77"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77">ast_bridge_channel_feature_flags</a> { <a class="el" href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77a88f541f13934e4f8ad5d88e31f694e2b">AST_BRIDGE_CHANNEL_FLAG_DISSOLVE_HANGUP</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77a29fbd7797e61564f5f40c3361e7f4fc2">AST_BRIDGE_CHANNEL_FLAG_LONELY</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77a0e985ea384c79e5e35055ecc0ffb2c57">AST_BRIDGE_CHANNEL_FLAG_IMMOVABLE</a> = (1 &lt;&lt; 2)
 }<tr class="memdesc:adb39f3c49f940cca855ef8ae3dfc5f77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags used for per bridge channel features.  <a href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:adb39f3c49f940cca855ef8ae3dfc5f77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65c2644d2eadb31bcec0aaeb41cb3444"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444">ast_bridge_feature_flags</a> { <br />
&#160;&#160;<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444aab11deff15a9ae22b58e49e9d6d53e16">AST_BRIDGE_FLAG_DISSOLVE_HANGUP</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7e495fdd770a14a1a2166ad18a16d8ca">AST_BRIDGE_FLAG_DISSOLVE_EMPTY</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b">AST_BRIDGE_FLAG_SMART</a> = (1 &lt;&lt; 2), 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444addba5f50cfec4a78d22c0479fbd5ac77">AST_BRIDGE_FLAG_MERGE_INHIBIT_FROM</a> = (1 &lt;&lt; 3), 
<br />
&#160;&#160;<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8349083856559d62c42c385e3e47f12b">AST_BRIDGE_FLAG_MERGE_INHIBIT_TO</a> = (1 &lt;&lt; 4), 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a2000e175bb94bcefb4f72a8e28871d9d">AST_BRIDGE_FLAG_SWAP_INHIBIT_FROM</a> = (1 &lt;&lt; 5), 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a173b4026818e079f4ad64dcb090863b0">AST_BRIDGE_FLAG_SWAP_INHIBIT_TO</a> = (1 &lt;&lt; 6), 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444aa4c16c3a1a317253eace111e15f40e6d">AST_BRIDGE_FLAG_MASQUERADE_ONLY</a> = (1 &lt;&lt; 7), 
<br />
&#160;&#160;<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3">AST_BRIDGE_FLAG_TRANSFER_PROHIBITED</a> = (1 &lt;&lt; 8), 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a165a875b9d5bac3aba4ad54da1861ab3">AST_BRIDGE_FLAG_TRANSFER_BRIDGE_ONLY</a> = (1 &lt;&lt; 9), 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444af791f0352f324b81c3eb1adcedc31364">AST_BRIDGE_FLAG_INVISIBLE</a> = (1 &lt;&lt; 10)
<br />
 }<tr class="memdesc:a65c2644d2eadb31bcec0aaeb41cb3444"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags used for bridge features.  <a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a65c2644d2eadb31bcec0aaeb41cb3444"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5edca1f8aa8a5ea765cea146507a882"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#ac5edca1f8aa8a5ea765cea146507a882">ast_bridge_features_monitor</a> { <a class="el" href="../../dc/d7a/bridge__features_8h.html#ac5edca1f8aa8a5ea765cea146507a882aeba3f2626bed370d217a903b930c574f">AUTO_MONITOR_TOGGLE</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#ac5edca1f8aa8a5ea765cea146507a882a26916a61be33d13623f6fd1d8865d7ca">AUTO_MONITOR_START</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#ac5edca1f8aa8a5ea765cea146507a882a880ad3ad184ec2bab1b23a4e8b4c3e0c">AUTO_MONITOR_STOP</a>
 }</td></tr>
<tr class="separator:ac5edca1f8aa8a5ea765cea146507a882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41510c1f43cb3401f5c7c88d9c9a8d11"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> { <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a> = (1 &lt;&lt; 1)
 }</td></tr>
<tr class="separator:a41510c1f43cb3401f5c7c88d9c9a8d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbd260bd0e5790d9c0f08775448f7fc0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#acbd260bd0e5790d9c0f08775448f7fc0">ast_bridge_hook_timer_option</a> { <a class="el" href="../../dc/d7a/bridge__features_8h.html#acbd260bd0e5790d9c0f08775448f7fc0ae066b3303d944d7f4ff5422908e1c0f4">AST_BRIDGE_HOOK_TIMER_OPTION_MEDIA</a> = (1 &lt;&lt; 0)
 }</td></tr>
<tr class="separator:acbd260bd0e5790d9c0f08775448f7fc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122c52bc5dec74974f3d4cf3870e7da3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3">ast_bridge_hook_type</a> { <br />
&#160;&#160;<a class="el" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ade37b06918c164e31bf740ea0c71f40e">AST_BRIDGE_HOOK_TYPE_NONE</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ab995ce36e6e2812a16d78cd2a890b1ef">AST_BRIDGE_HOOK_TYPE_DTMF</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3af46f831c14459a9ca7338c3028ca84fb">AST_BRIDGE_HOOK_TYPE_TIMER</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3aaffe52570f582bed6f59dc12ca2a5c9e">AST_BRIDGE_HOOK_TYPE_HANGUP</a>, 
<br />
&#160;&#160;<a class="el" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3a560e70ed0a87b3e30f0e332cfebec8ee">AST_BRIDGE_HOOK_TYPE_JOIN</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ac47686eedfc6349818302b402b72461d">AST_BRIDGE_HOOK_TYPE_LEAVE</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ad2f7e2bea8dd898409ef3166cb60543f">AST_BRIDGE_HOOK_TYPE_TALK</a>, 
<a class="el" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ab1e55b40373b3dda769e106081d9dbf1">AST_BRIDGE_HOOK_TYPE_MOVE</a>
<br />
 }</td></tr>
<tr class="separator:a122c52bc5dec74974f3d4cf3870e7da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a48ebc85ae4e4a203014711dc3a492ac5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a48ebc85ae4e4a203014711dc3a492ac5">ast_bridge_dtmf_hook</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, const char *dtmf, <a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a> callback, void *hook_pvt, <a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a> destructor, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> remove_flags)</td></tr>
<tr class="memdesc:a48ebc85ae4e4a203014711dc3a492ac5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach a DTMF hook to a bridge features structure.  <a href="#a48ebc85ae4e4a203014711dc3a492ac5">More...</a><br /></td></tr>
<tr class="separator:a48ebc85ae4e4a203014711dc3a492ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc3026d777c0bf6899e93263178e102"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features)</td></tr>
<tr class="memdesc:aafc3026d777c0bf6899e93263178e102"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up the contents of a bridge features structure.  <a href="#aafc3026d777c0bf6899e93263178e102">More...</a><br /></td></tr>
<tr class="separator:aafc3026d777c0bf6899e93263178e102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3debd15062b4b9463e5703724dd9a1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features)</td></tr>
<tr class="memdesc:ad3debd15062b4b9463e5703724dd9a1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy an allocated bridge features struct.  <a href="#ad3debd15062b4b9463e5703724dd9a1f">More...</a><br /></td></tr>
<tr class="separator:ad3debd15062b4b9463e5703724dd9a1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ad28c249794c7354336fc512fab8f7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a5ad28c249794c7354336fc512fab8f7a">ast_bridge_features_do</a> (enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">ast_bridge_builtin_feature</a> feature, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt)</td></tr>
<tr class="memdesc:a5ad28c249794c7354336fc512fab8f7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoke a built in feature hook now.  <a href="#a5ad28c249794c7354336fc512fab8f7a">More...</a><br /></td></tr>
<tr class="separator:a5ad28c249794c7354336fc512fab8f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4452a1fe505c3785b5f72f61231ad38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#ad4452a1fe505c3785b5f72f61231ad38">ast_bridge_features_enable</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">ast_bridge_builtin_feature</a> feature, const char *dtmf, void *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a> destructor, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> remove_flags)</td></tr>
<tr class="memdesc:ad4452a1fe505c3785b5f72f61231ad38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable a built in feature on a bridge features structure.  <a href="#ad4452a1fe505c3785b5f72f61231ad38">More...</a><br /></td></tr>
<tr class="separator:ad4452a1fe505c3785b5f72f61231ad38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3128b52009fb3dd764dce90ea377fce1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features)</td></tr>
<tr class="memdesc:a3128b52009fb3dd764dce90ea377fce1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize bridge features structure.  <a href="#a3128b52009fb3dd764dce90ea377fce1">More...</a><br /></td></tr>
<tr class="separator:a3128b52009fb3dd764dce90ea377fce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d37f3df31f68efc380c63b999db43f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a3d37f3df31f68efc380c63b999db43f0">ast_bridge_features_limits_construct</a> (struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *<a class="el" href="../../df/dfc/structlimits.html">limits</a>)</td></tr>
<tr class="memdesc:a3d37f3df31f68efc380c63b999db43f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor function for <a class="el" href="../../d7/da5/structast__bridge__features__limits.html" title="Structure that contains configuration information for the limits feature. ">ast_bridge_features_limits</a>.  <a href="#a3d37f3df31f68efc380c63b999db43f0">More...</a><br /></td></tr>
<tr class="separator:a3d37f3df31f68efc380c63b999db43f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b1bf34dd9aa570c5efd4dddfead1fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#ae0b1bf34dd9aa570c5efd4dddfead1fb">ast_bridge_features_limits_destroy</a> (struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *<a class="el" href="../../df/dfc/structlimits.html">limits</a>)</td></tr>
<tr class="memdesc:ae0b1bf34dd9aa570c5efd4dddfead1fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor function for <a class="el" href="../../d7/da5/structast__bridge__features__limits.html" title="Structure that contains configuration information for the limits feature. ">ast_bridge_features_limits</a>.  <a href="#ae0b1bf34dd9aa570c5efd4dddfead1fb">More...</a><br /></td></tr>
<tr class="separator:ae0b1bf34dd9aa570c5efd4dddfead1fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91794e42131b7edc3119b92d789f8268"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a91794e42131b7edc3119b92d789f8268">ast_bridge_features_merge</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *into, const struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *from)</td></tr>
<tr class="memdesc:a91794e42131b7edc3119b92d789f8268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merge one <a class="el" href="../../db/dba/structast__bridge__features.html" title="Structure that contains features information. ">ast_bridge_features</a> into another.  <a href="#a91794e42131b7edc3119b92d789f8268">More...</a><br /></td></tr>
<tr class="separator:a91794e42131b7edc3119b92d789f8268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9e5d393615c63d27e0bd530301a1ed"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#abf9e5d393615c63d27e0bd530301a1ed">ast_bridge_features_new</a> (void)</td></tr>
<tr class="memdesc:abf9e5d393615c63d27e0bd530301a1ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a new bridge features struct.  <a href="#abf9e5d393615c63d27e0bd530301a1ed">More...</a><br /></td></tr>
<tr class="separator:abf9e5d393615c63d27e0bd530301a1ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae364d78e48f19a0d5ceedc6d18cda52d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#ae364d78e48f19a0d5ceedc6d18cda52d">ast_bridge_features_register</a> (enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">ast_bridge_builtin_feature</a> feature, <a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a> callback, const char *dtmf)</td></tr>
<tr class="memdesc:ae364d78e48f19a0d5ceedc6d18cda52d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a handler for a built in feature.  <a href="#ae364d78e48f19a0d5ceedc6d18cda52d">More...</a><br /></td></tr>
<tr class="separator:ae364d78e48f19a0d5ceedc6d18cda52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e2d516216983fdab32cf3036a657f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a59e2d516216983fdab32cf3036a657f2">ast_bridge_features_set_flag</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, unsigned int <a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>)</td></tr>
<tr class="memdesc:a59e2d516216983fdab32cf3036a657f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a flag on a bridge channel features structure.  <a href="#a59e2d516216983fdab32cf3036a657f2">More...</a><br /></td></tr>
<tr class="separator:a59e2d516216983fdab32cf3036a657f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27662864d9f07a05ef11b683c245d032"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a27662864d9f07a05ef11b683c245d032">ast_bridge_features_set_limits</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *<a class="el" href="../../df/dfc/structlimits.html">limits</a>, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> remove_flags)</td></tr>
<tr class="memdesc:a27662864d9f07a05ef11b683c245d032"><td class="mdescLeft">&#160;</td><td class="mdescRight">Limit the amount of time a channel may stay in the bridge and optionally play warning messages as time runs out.  <a href="#a27662864d9f07a05ef11b683c245d032">More...</a><br /></td></tr>
<tr class="separator:a27662864d9f07a05ef11b683c245d032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a395272994b2af7bd55f871b02d2d42e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a395272994b2af7bd55f871b02d2d42e4">ast_bridge_features_unregister</a> (enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">ast_bridge_builtin_feature</a> feature)</td></tr>
<tr class="memdesc:a395272994b2af7bd55f871b02d2d42e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a handler for a built in feature.  <a href="#a395272994b2af7bd55f871b02d2d42e4">More...</a><br /></td></tr>
<tr class="separator:a395272994b2af7bd55f871b02d2d42e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b26efd7ce4e09afa9402dc0a30d5e4a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a1b26efd7ce4e09afa9402dc0a30d5e4a">ast_bridge_hangup_hook</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, <a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a> callback, void *hook_pvt, <a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a> destructor, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> remove_flags)</td></tr>
<tr class="memdesc:a1b26efd7ce4e09afa9402dc0a30d5e4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach a hangup hook to a bridge features structure.  <a href="#a1b26efd7ce4e09afa9402dc0a30d5e4a">More...</a><br /></td></tr>
<tr class="separator:a1b26efd7ce4e09afa9402dc0a30d5e4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e9bdb7b62b531f001b7dcb5c39b3551"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a3e9bdb7b62b531f001b7dcb5c39b3551">ast_bridge_interval_hook</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#acbd260bd0e5790d9c0f08775448f7fc0">ast_bridge_hook_timer_option</a> flags, unsigned int interval, <a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a> callback, void *hook_pvt, <a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a> destructor, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> remove_flags)</td></tr>
<tr class="memdesc:a3e9bdb7b62b531f001b7dcb5c39b3551"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach an interval hook to a bridge features structure.  <a href="#a3e9bdb7b62b531f001b7dcb5c39b3551">More...</a><br /></td></tr>
<tr class="separator:a3e9bdb7b62b531f001b7dcb5c39b3551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad34a20efdcfd5b19f83b5add802d9f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#aad34a20efdcfd5b19f83b5add802d9f2">ast_bridge_interval_register</a> (enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960d">ast_bridge_builtin_interval</a> interval, <a class="el" href="../../dc/d7a/bridge__features_8h.html#acf985c9cba5e118bd24fdf980b59f955">ast_bridge_builtin_set_limits_fn</a> callback)</td></tr>
<tr class="memdesc:aad34a20efdcfd5b19f83b5add802d9f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a handler for a built in interval feature.  <a href="#aad34a20efdcfd5b19f83b5add802d9f2">More...</a><br /></td></tr>
<tr class="separator:aad34a20efdcfd5b19f83b5add802d9f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ef8af740b139874195a394ba4abee3d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a5ef8af740b139874195a394ba4abee3d">ast_bridge_join_hook</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, <a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a> callback, void *hook_pvt, <a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a> destructor, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> remove_flags)</td></tr>
<tr class="memdesc:a5ef8af740b139874195a394ba4abee3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters a handler for a built in interval feature.  <a href="#a5ef8af740b139874195a394ba4abee3d">More...</a><br /></td></tr>
<tr class="separator:a5ef8af740b139874195a394ba4abee3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf5765651d9a3697813f9752660da57"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#aaaf5765651d9a3697813f9752660da57">ast_bridge_leave_hook</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, <a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a> callback, void *hook_pvt, <a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a> destructor, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> remove_flags)</td></tr>
<tr class="memdesc:aaaf5765651d9a3697813f9752660da57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach a bridge channel leave hook to a bridge features structure.  <a href="#aaaf5765651d9a3697813f9752660da57">More...</a><br /></td></tr>
<tr class="separator:aaaf5765651d9a3697813f9752660da57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a475f3511ac20e3f247e3ff3bb8060237"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a475f3511ac20e3f247e3ff3bb8060237">ast_bridge_move_hook</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, <a class="el" href="../../dc/d7a/bridge__features_8h.html#a0394614533c00a6ac5483fbb14bae4d5">ast_bridge_move_indicate_callback</a> callback, void *hook_pvt, <a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a> destructor, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> remove_flags)</td></tr>
<tr class="memdesc:a475f3511ac20e3f247e3ff3bb8060237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach a bridge channel move detection hook to a bridge features structure.  <a href="#a475f3511ac20e3f247e3ff3bb8060237">More...</a><br /></td></tr>
<tr class="separator:a475f3511ac20e3f247e3ff3bb8060237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47aa4de3736ec9da5831351848e6522d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a47aa4de3736ec9da5831351848e6522d">ast_bridge_talk_detector_hook</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, <a class="el" href="../../dc/d7a/bridge__features_8h.html#ad5b20a96dee3042c8cb23d45f7a93f79">ast_bridge_talking_indicate_callback</a> callback, void *hook_pvt, <a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a> destructor, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> remove_flags)</td></tr>
<tr class="memdesc:a47aa4de3736ec9da5831351848e6522d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach a bridge channel talk detection hook to a bridge features structure.  <a href="#a47aa4de3736ec9da5831351848e6522d">More...</a><br /></td></tr>
<tr class="separator:a47aa4de3736ec9da5831351848e6522d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Channel Bridging API. </p>
<dl class="section author"><dt>Author</dt><dd>Joshua Colp <a href="#" onclick="location.href='mai'+'lto:'+'jco'+'lp'+'@di'+'gi'+'um.'+'co'+'m'; return false;">jcolp<span style="display: none;">.nosp@m.</span>@dig<span style="display: none;">.nosp@m.</span>ium.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8f882f130b89dd63d656d176884095a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f882f130b89dd63d656d176884095a1">&#9670;&nbsp;</a></span>MAXIMUM_DTMF_FEATURE_STRING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXIMUM_DTMF_FEATURE_STRING&#160;&#160;&#160;(11 + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum length of a DTMF feature string. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00217">217</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02951">action_playback_and_continue()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="acf985c9cba5e118bd24fdf980b59f955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf985c9cba5e118bd24fdf980b59f955">&#9670;&nbsp;</a></span>ast_bridge_builtin_set_limits_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ast_bridge_builtin_set_limits_fn) (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *<a class="el" href="../../df/dfc/structlimits.html">limits</a>, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> remove_flags)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach interval hooks to a bridge features structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge features structure </td></tr>
    <tr><td class="paramname">limits</td><td>Configured limits applicable to the channel </td></tr>
    <tr><td class="paramname">remove_flags</td><td>Dictates what situations the hook should be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00422">422</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>

</div>
</div>
<a id="aeb8be7f6bc57379c2028c1420015abc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb8be7f6bc57379c2028c1420015abc1">&#9670;&nbsp;</a></span>ast_bridge_hook_callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ast_bridge_hook_callback) (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hook callback type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_channel</td><td>Channel executing the feature </td></tr>
    <tr><td class="paramname">hook_pvt</td><td>Private data passed in when the hook was created</td></tr>
  </table>
  </dd>
</dl>
<p>For interval hooks: </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Setup to fire again at the last interval. </td></tr>
    <tr><td class="paramname">positive</td><td>Setup to fire again at the new interval returned. </td></tr>
    <tr><td class="paramname">-1</td><td>Remove the callback hook.</td></tr>
  </table>
  </dd>
</dl>
<p>For other hooks: </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Keep the callback hook. </td></tr>
    <tr><td class="paramname">-1</td><td>Remove the callback hook. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00136">136</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>

</div>
</div>
<a id="af04bebd5565286e746a028e7705ca073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af04bebd5565286e746a028e7705ca073">&#9670;&nbsp;</a></span>ast_bridge_hook_pvt_destructor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ast_bridge_hook_pvt_destructor) (void *hook_pvt)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hook pvt destructor callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hook_pvt</td><td>Private data passed in when the hook was created to destroy </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00143">143</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>

</div>
</div>
<a id="a0394614533c00a6ac5483fbb14bae4d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0394614533c00a6ac5483fbb14bae4d5">&#9670;&nbsp;</a></span>ast_bridge_move_indicate_callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ast_bridge_move_indicate_callback) (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *src, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *dst)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move indicator callback. </p>
<p>This callback can be registered with the bridge channel in order to be notified when the bridge channel is being moved from one bridge to another.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_channel</td><td>The channel executing the feature </td></tr>
    <tr><td class="paramname">hook_pvt</td><td>Private data passed in when the hook was created </td></tr>
    <tr><td class="paramname">src</td><td>The bridge from which the bridge channel is moving </td></tr>
    <tr><td class="paramname">dst</td><td>The bridge into which the bridge channel is moving</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Keep the callback hook. </td></tr>
    <tr><td class="paramname">-1</td><td>Remove the callback hook. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00178">178</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>

</div>
</div>
<a id="ad5b20a96dee3042c8cb23d45f7a93f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5b20a96dee3042c8cb23d45f7a93f79">&#9670;&nbsp;</a></span>ast_bridge_talking_indicate_callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ast_bridge_talking_indicate_callback) (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt, int talking)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Talking indicator callback. </p>
<p>This callback can be registered with the bridge channel in order to receive updates when the bridge_channel has started and stopped talking.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_channel</td><td>Channel executing the feature </td></tr>
    <tr><td class="paramname">hook_pvt</td><td>Private data passed in when the hook was created </td></tr>
    <tr><td class="paramname">talking</td><td>TRUE if the channel is now talking</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Keep the callback hook. </td></tr>
    <tr><td class="paramname">-1</td><td>Remove the callback hook. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00160">160</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a59c3a69424e1d3c627ece7aeb5f0bdb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c3a69424e1d3c627ece7aeb5f0bdb3">&#9670;&nbsp;</a></span>ast_bridge_builtin_feature</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">ast_bridge_builtin_feature</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Built in DTMF features. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a59c3a69424e1d3c627ece7aeb5f0bdb3a1296b14dfc88f2a49818dfd08f2b80fb"></a>AST_BRIDGE_BUILTIN_BLINDTRANSFER&#160;</td><td class="fielddoc"><p>DTMF based Blind Transfer </p>
</td></tr>
<tr><td class="fieldname"><a id="a59c3a69424e1d3c627ece7aeb5f0bdb3a914956d3505768cc223eb23ce407c691"></a>AST_BRIDGE_BUILTIN_ATTENDEDTRANSFER&#160;</td><td class="fielddoc"><p>DTMF based Attended Transfer </p>
</td></tr>
<tr><td class="fieldname"><a id="a59c3a69424e1d3c627ece7aeb5f0bdb3a96d5e1a5c56634eb48dd78965e5e2ba4"></a>AST_BRIDGE_BUILTIN_HANGUP&#160;</td><td class="fielddoc"><p>DTMF based depart bridge feature</p>
<dl class="section note"><dt>Note</dt><dd>Imparted channels are optionally hangup depending upon how it was imparted.</dd>
<dd>
Joined channels exit the bridge with BRIDGE_CHANNEL_STATE_END_WITH_DISSOLVE. </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f"></a>AST_BRIDGE_BUILTIN_PARKCALL&#160;</td><td class="fielddoc"><p>DTMF based Park</p>
<p>The bridge is parked and the channel hears the parking slot to which it was parked. </p>
</td></tr>
<tr><td class="fieldname"><a id="a59c3a69424e1d3c627ece7aeb5f0bdb3ac032caab7558973327322c284b748bf0"></a>AST_BRIDGE_BUILTIN_AUTOMON&#160;</td><td class="fielddoc"><p>DTMF one-touch-record toggle using Monitor app.</p>
<dl class="section note"><dt>Note</dt><dd>Only valid on two party bridges. </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="a59c3a69424e1d3c627ece7aeb5f0bdb3a9075785271a9e2a18bb65c99a6bd7744"></a>AST_BRIDGE_BUILTIN_AUTOMIXMON&#160;</td><td class="fielddoc"><p>DTMF one-touch-record toggle using MixMonitor app.</p>
<dl class="section note"><dt>Note</dt><dd>Only valid on two party bridges. </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="a59c3a69424e1d3c627ece7aeb5f0bdb3a1abab08d2d7b893a82348e417e361717"></a>AST_BRIDGE_BUILTIN_END&#160;</td><td class="fielddoc"><p>End terminator for list of built in features. Must remain last. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00071">71</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                {<span class="comment"></span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">   /*! DTMF based Blind Transfer */</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a1296b14dfc88f2a49818dfd08f2b80fb">AST_BRIDGE_BUILTIN_BLINDTRANSFER</a>,<span class="comment"></span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">   /*! DTMF based Attended Transfer */</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a914956d3505768cc223eb23ce407c691">AST_BRIDGE_BUILTIN_ATTENDEDTRANSFER</a>,<span class="comment"></span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">    * DTMF based depart bridge feature</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">    * \note Imparted channels are optionally hangup depending upon</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">    * how it was imparted.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">    * \note Joined channels exit the bridge with</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">    * BRIDGE_CHANNEL_STATE_END_WITH_DISSOLVE.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a96d5e1a5c56634eb48dd78965e5e2ba4">AST_BRIDGE_BUILTIN_HANGUP</a>,<span class="comment"></span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">    * DTMF based Park</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">    * \details The bridge is parked and the channel hears the</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">    * parking slot to which it was parked.</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f">AST_BRIDGE_BUILTIN_PARKCALL</a>,<span class="comment"></span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">    * DTMF one-touch-record toggle using Monitor app.</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">    * \note Only valid on two party bridges.</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3ac032caab7558973327322c284b748bf0">AST_BRIDGE_BUILTIN_AUTOMON</a>,<span class="comment"></span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">    * DTMF one-touch-record toggle using MixMonitor app.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">    * \note Only valid on two party bridges.</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9075785271a9e2a18bb65c99a6bd7744">AST_BRIDGE_BUILTIN_AUTOMIXMON</a>,</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">   /*! End terminator for list of built in features. Must remain last. */</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a1abab08d2d7b893a82348e417e361717">AST_BRIDGE_BUILTIN_END</a></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;};</div><div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3ac032caab7558973327322c284b748bf0"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3ac032caab7558973327322c284b748bf0">AST_BRIDGE_BUILTIN_AUTOMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00098">bridge_features.h:98</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a1296b14dfc88f2a49818dfd08f2b80fb"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a1296b14dfc88f2a49818dfd08f2b80fb">AST_BRIDGE_BUILTIN_BLINDTRANSFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00073">bridge_features.h:73</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a1abab08d2d7b893a82348e417e361717"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a1abab08d2d7b893a82348e417e361717">AST_BRIDGE_BUILTIN_END</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00107">bridge_features.h:107</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f">AST_BRIDGE_BUILTIN_PARKCALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00092">bridge_features.h:92</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a96d5e1a5c56634eb48dd78965e5e2ba4"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a96d5e1a5c56634eb48dd78965e5e2ba4">AST_BRIDGE_BUILTIN_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00085">bridge_features.h:85</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a914956d3505768cc223eb23ce407c691"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a914956d3505768cc223eb23ce407c691">AST_BRIDGE_BUILTIN_ATTENDEDTRANSFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00075">bridge_features.h:75</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a9075785271a9e2a18bb65c99a6bd7744"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9075785271a9e2a18bb65c99a6bd7744">AST_BRIDGE_BUILTIN_AUTOMIXMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00104">bridge_features.h:104</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afcb20166cd7e9581af29556b411b960d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcb20166cd7e9581af29556b411b960d">&#9670;&nbsp;</a></span>ast_bridge_builtin_interval</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960d">ast_bridge_builtin_interval</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="afcb20166cd7e9581af29556b411b960da38c5af32fcc0a209b338cf6d59650351"></a>AST_BRIDGE_BUILTIN_INTERVAL_LIMITS&#160;</td><td class="fielddoc"><p>Apply Call Duration Limits </p>
</td></tr>
<tr><td class="fieldname"><a id="afcb20166cd7e9581af29556b411b960dad5e042dd402144426b46a6590485d88b"></a>AST_BRIDGE_BUILTIN_INTERVAL_END&#160;</td><td class="fielddoc"><p>End terminator for list of built in interval features. Must remain last. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00110">110</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                 {<span class="comment"></span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">   /*! Apply Call Duration Limits */</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960da38c5af32fcc0a209b338cf6d59650351">AST_BRIDGE_BUILTIN_INTERVAL_LIMITS</a>,</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">   /*! End terminator for list of built in interval features. Must remain last. */</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960dad5e042dd402144426b46a6590485d88b">AST_BRIDGE_BUILTIN_INTERVAL_END</a></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;};</div><div class="ttc" id="bridge__features_8h_html_afcb20166cd7e9581af29556b411b960da38c5af32fcc0a209b338cf6d59650351"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960da38c5af32fcc0a209b338cf6d59650351">AST_BRIDGE_BUILTIN_INTERVAL_LIMITS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00112">bridge_features.h:112</a></div></div>
<div class="ttc" id="bridge__features_8h_html_afcb20166cd7e9581af29556b411b960dad5e042dd402144426b46a6590485d88b"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960dad5e042dd402144426b46a6590485d88b">AST_BRIDGE_BUILTIN_INTERVAL_END</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00115">bridge_features.h:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adb39f3c49f940cca855ef8ae3dfc5f77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb39f3c49f940cca855ef8ae3dfc5f77">&#9670;&nbsp;</a></span>ast_bridge_channel_feature_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77">ast_bridge_channel_feature_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags used for per bridge channel features. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="adb39f3c49f940cca855ef8ae3dfc5f77a88f541f13934e4f8ad5d88e31f694e2b"></a>AST_BRIDGE_CHANNEL_FLAG_DISSOLVE_HANGUP&#160;</td><td class="fielddoc"><p>Upon channel hangup all bridge participants should be kicked out. </p>
</td></tr>
<tr><td class="fieldname"><a id="adb39f3c49f940cca855ef8ae3dfc5f77a29fbd7797e61564f5f40c3361e7f4fc2"></a>AST_BRIDGE_CHANNEL_FLAG_LONELY&#160;</td><td class="fielddoc"><p>This channel leaves the bridge if all participants have this flag set. </p>
</td></tr>
<tr><td class="fieldname"><a id="adb39f3c49f940cca855ef8ae3dfc5f77a0e985ea384c79e5e35055ecc0ffb2c57"></a>AST_BRIDGE_CHANNEL_FLAG_IMMOVABLE&#160;</td><td class="fielddoc"><p>This channel cannot be moved to another bridge. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00061">61</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                      {<span class="comment"></span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">   /*! Upon channel hangup all bridge participants should be kicked out. */</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77a88f541f13934e4f8ad5d88e31f694e2b">AST_BRIDGE_CHANNEL_FLAG_DISSOLVE_HANGUP</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">   /*! This channel leaves the bridge if all participants have this flag set. */</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77a29fbd7797e61564f5f40c3361e7f4fc2">AST_BRIDGE_CHANNEL_FLAG_LONELY</a> = (1 &lt;&lt; 1),<span class="comment"></span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">   /*! This channel cannot be moved to another bridge. */</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77a0e985ea384c79e5e35055ecc0ffb2c57">AST_BRIDGE_CHANNEL_FLAG_IMMOVABLE</a> = (1 &lt;&lt; 2),</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;};</div><div class="ttc" id="bridge__features_8h_html_adb39f3c49f940cca855ef8ae3dfc5f77a29fbd7797e61564f5f40c3361e7f4fc2"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77a29fbd7797e61564f5f40c3361e7f4fc2">AST_BRIDGE_CHANNEL_FLAG_LONELY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00065">bridge_features.h:65</a></div></div>
<div class="ttc" id="bridge__features_8h_html_adb39f3c49f940cca855ef8ae3dfc5f77a0e985ea384c79e5e35055ecc0ffb2c57"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77a0e985ea384c79e5e35055ecc0ffb2c57">AST_BRIDGE_CHANNEL_FLAG_IMMOVABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00067">bridge_features.h:67</a></div></div>
<div class="ttc" id="bridge__features_8h_html_adb39f3c49f940cca855ef8ae3dfc5f77a88f541f13934e4f8ad5d88e31f694e2b"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77a88f541f13934e4f8ad5d88e31f694e2b">AST_BRIDGE_CHANNEL_FLAG_DISSOLVE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00063">bridge_features.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a65c2644d2eadb31bcec0aaeb41cb3444"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65c2644d2eadb31bcec0aaeb41cb3444">&#9670;&nbsp;</a></span>ast_bridge_feature_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444">ast_bridge_feature_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags used for bridge features. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a65c2644d2eadb31bcec0aaeb41cb3444aab11deff15a9ae22b58e49e9d6d53e16"></a>AST_BRIDGE_FLAG_DISSOLVE_HANGUP&#160;</td><td class="fielddoc"><p>Upon channel hangup all bridge participants should be kicked out. </p>
</td></tr>
<tr><td class="fieldname"><a id="a65c2644d2eadb31bcec0aaeb41cb3444a7e495fdd770a14a1a2166ad18a16d8ca"></a>AST_BRIDGE_FLAG_DISSOLVE_EMPTY&#160;</td><td class="fielddoc"><p>The last channel to leave the bridge dissolves it. </p>
</td></tr>
<tr><td class="fieldname"><a id="a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b"></a>AST_BRIDGE_FLAG_SMART&#160;</td><td class="fielddoc"><p>Move between bridging technologies as needed. </p>
</td></tr>
<tr><td class="fieldname"><a id="a65c2644d2eadb31bcec0aaeb41cb3444addba5f50cfec4a78d22c0479fbd5ac77"></a>AST_BRIDGE_FLAG_MERGE_INHIBIT_FROM&#160;</td><td class="fielddoc"><p>Bridge channels cannot be merged from this bridge. </p>
</td></tr>
<tr><td class="fieldname"><a id="a65c2644d2eadb31bcec0aaeb41cb3444a8349083856559d62c42c385e3e47f12b"></a>AST_BRIDGE_FLAG_MERGE_INHIBIT_TO&#160;</td><td class="fielddoc"><p>Bridge channels cannot be merged to this bridge. </p>
</td></tr>
<tr><td class="fieldname"><a id="a65c2644d2eadb31bcec0aaeb41cb3444a2000e175bb94bcefb4f72a8e28871d9d"></a>AST_BRIDGE_FLAG_SWAP_INHIBIT_FROM&#160;</td><td class="fielddoc"><p>Bridge channels cannot be local channel swap optimized from this bridge. </p>
</td></tr>
<tr><td class="fieldname"><a id="a65c2644d2eadb31bcec0aaeb41cb3444a173b4026818e079f4ad64dcb090863b0"></a>AST_BRIDGE_FLAG_SWAP_INHIBIT_TO&#160;</td><td class="fielddoc"><p>Bridge channels cannot be local channel swap optimized to this bridge. </p>
</td></tr>
<tr><td class="fieldname"><a id="a65c2644d2eadb31bcec0aaeb41cb3444aa4c16c3a1a317253eace111e15f40e6d"></a>AST_BRIDGE_FLAG_MASQUERADE_ONLY&#160;</td><td class="fielddoc"><p>Bridge channels can be moved to another bridge only by masquerade (ConfBridge) </p>
</td></tr>
<tr><td class="fieldname"><a id="a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3"></a>AST_BRIDGE_FLAG_TRANSFER_PROHIBITED&#160;</td><td class="fielddoc"><p>Bridge does not allow transfers of channels out </p>
</td></tr>
<tr><td class="fieldname"><a id="a65c2644d2eadb31bcec0aaeb41cb3444a165a875b9d5bac3aba4ad54da1861ab3"></a>AST_BRIDGE_FLAG_TRANSFER_BRIDGE_ONLY&#160;</td><td class="fielddoc"><p>Bridge transfers require transfer of entire bridge rather than individual channels </p>
</td></tr>
<tr><td class="fieldname"><a id="a65c2644d2eadb31bcec0aaeb41cb3444af791f0352f324b81c3eb1adcedc31364"></a>AST_BRIDGE_FLAG_INVISIBLE&#160;</td><td class="fielddoc"><p>Bridge is invisible to AMI/CLI/ARI/etc. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00035">35</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                              {<span class="comment"></span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">   /*! Upon channel hangup all bridge participants should be kicked out. */</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444aab11deff15a9ae22b58e49e9d6d53e16">AST_BRIDGE_FLAG_DISSOLVE_HANGUP</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">   /*! The last channel to leave the bridge dissolves it. */</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7e495fdd770a14a1a2166ad18a16d8ca">AST_BRIDGE_FLAG_DISSOLVE_EMPTY</a> = (1 &lt;&lt; 1),<span class="comment"></span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">   /*! Move between bridging technologies as needed. */</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b">AST_BRIDGE_FLAG_SMART</a> = (1 &lt;&lt; 2),<span class="comment"></span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">   /*! Bridge channels cannot be merged from this bridge. */</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444addba5f50cfec4a78d22c0479fbd5ac77">AST_BRIDGE_FLAG_MERGE_INHIBIT_FROM</a> = (1 &lt;&lt; 3),<span class="comment"></span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">   /*! Bridge channels cannot be merged to this bridge. */</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8349083856559d62c42c385e3e47f12b">AST_BRIDGE_FLAG_MERGE_INHIBIT_TO</a> = (1 &lt;&lt; 4),<span class="comment"></span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">   /*! Bridge channels cannot be local channel swap optimized from this bridge. */</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a2000e175bb94bcefb4f72a8e28871d9d">AST_BRIDGE_FLAG_SWAP_INHIBIT_FROM</a> = (1 &lt;&lt; 5),<span class="comment"></span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">   /*! Bridge channels cannot be local channel swap optimized to this bridge. */</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a173b4026818e079f4ad64dcb090863b0">AST_BRIDGE_FLAG_SWAP_INHIBIT_TO</a> = (1 &lt;&lt; 6),<span class="comment"></span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">   /*! Bridge channels can be moved to another bridge only by masquerade (ConfBridge) */</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444aa4c16c3a1a317253eace111e15f40e6d">AST_BRIDGE_FLAG_MASQUERADE_ONLY</a> = (1 &lt;&lt; 7),<span class="comment"></span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">   /*! Bridge does not allow transfers of channels out */</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3">AST_BRIDGE_FLAG_TRANSFER_PROHIBITED</a> = (1 &lt;&lt; 8),<span class="comment"></span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">   /*! Bridge transfers require transfer of entire bridge rather than individual channels */</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a165a875b9d5bac3aba4ad54da1861ab3">AST_BRIDGE_FLAG_TRANSFER_BRIDGE_ONLY</a> = (1 &lt;&lt; 9),<span class="comment"></span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">   /*! Bridge is invisible to AMI/CLI/ARI/etc. */</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444af791f0352f324b81c3eb1adcedc31364">AST_BRIDGE_FLAG_INVISIBLE</a> = (1 &lt;&lt; 10),</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;};</div><div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b">AST_BRIDGE_FLAG_SMART</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00041">bridge_features.h:41</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a8349083856559d62c42c385e3e47f12b"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8349083856559d62c42c385e3e47f12b">AST_BRIDGE_FLAG_MERGE_INHIBIT_TO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00045">bridge_features.h:45</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a173b4026818e079f4ad64dcb090863b0"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a173b4026818e079f4ad64dcb090863b0">AST_BRIDGE_FLAG_SWAP_INHIBIT_TO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00049">bridge_features.h:49</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444af791f0352f324b81c3eb1adcedc31364"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444af791f0352f324b81c3eb1adcedc31364">AST_BRIDGE_FLAG_INVISIBLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00057">bridge_features.h:57</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a165a875b9d5bac3aba4ad54da1861ab3"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a165a875b9d5bac3aba4ad54da1861ab3">AST_BRIDGE_FLAG_TRANSFER_BRIDGE_ONLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00055">bridge_features.h:55</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444aab11deff15a9ae22b58e49e9d6d53e16"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444aab11deff15a9ae22b58e49e9d6d53e16">AST_BRIDGE_FLAG_DISSOLVE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00037">bridge_features.h:37</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444addba5f50cfec4a78d22c0479fbd5ac77"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444addba5f50cfec4a78d22c0479fbd5ac77">AST_BRIDGE_FLAG_MERGE_INHIBIT_FROM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00043">bridge_features.h:43</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444aa4c16c3a1a317253eace111e15f40e6d"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444aa4c16c3a1a317253eace111e15f40e6d">AST_BRIDGE_FLAG_MASQUERADE_ONLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00051">bridge_features.h:51</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3">AST_BRIDGE_FLAG_TRANSFER_PROHIBITED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00053">bridge_features.h:53</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a2000e175bb94bcefb4f72a8e28871d9d"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a2000e175bb94bcefb4f72a8e28871d9d">AST_BRIDGE_FLAG_SWAP_INHIBIT_FROM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00047">bridge_features.h:47</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a7e495fdd770a14a1a2166ad18a16d8ca"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7e495fdd770a14a1a2166ad18a16d8ca">AST_BRIDGE_FLAG_DISSOLVE_EMPTY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00039">bridge_features.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5edca1f8aa8a5ea765cea146507a882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5edca1f8aa8a5ea765cea146507a882">&#9670;&nbsp;</a></span>ast_bridge_features_monitor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#ac5edca1f8aa8a5ea765cea146507a882">ast_bridge_features_monitor</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac5edca1f8aa8a5ea765cea146507a882aeba3f2626bed370d217a903b930c574f"></a>AUTO_MONITOR_TOGGLE&#160;</td><td class="fielddoc"><p>Toggle start/stop of Monitor/MixMonitor. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac5edca1f8aa8a5ea765cea146507a882a26916a61be33d13623f6fd1d8865d7ca"></a>AUTO_MONITOR_START&#160;</td><td class="fielddoc"><p>Start Monitor/MixMonitor if not already started. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac5edca1f8aa8a5ea765cea146507a882a880ad3ad184ec2bab1b23a4e8b4c3e0c"></a>AUTO_MONITOR_STOP&#160;</td><td class="fielddoc"><p>Stop Monitor/MixMonitor if not already stopped. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00310">310</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                                 {<span class="comment"></span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">   /*! Toggle start/stop of Monitor/MixMonitor. */</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#ac5edca1f8aa8a5ea765cea146507a882aeba3f2626bed370d217a903b930c574f">AUTO_MONITOR_TOGGLE</a>,<span class="comment"></span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">   /*! Start Monitor/MixMonitor if not already started. */</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#ac5edca1f8aa8a5ea765cea146507a882a26916a61be33d13623f6fd1d8865d7ca">AUTO_MONITOR_START</a>,<span class="comment"></span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">   /*! Stop Monitor/MixMonitor if not already stopped. */</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#ac5edca1f8aa8a5ea765cea146507a882a880ad3ad184ec2bab1b23a4e8b4c3e0c">AUTO_MONITOR_STOP</a>,</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;};</div><div class="ttc" id="bridge__features_8h_html_ac5edca1f8aa8a5ea765cea146507a882aeba3f2626bed370d217a903b930c574f"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#ac5edca1f8aa8a5ea765cea146507a882aeba3f2626bed370d217a903b930c574f">AUTO_MONITOR_TOGGLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00312">bridge_features.h:312</a></div></div>
<div class="ttc" id="bridge__features_8h_html_ac5edca1f8aa8a5ea765cea146507a882a26916a61be33d13623f6fd1d8865d7ca"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#ac5edca1f8aa8a5ea765cea146507a882a26916a61be33d13623f6fd1d8865d7ca">AUTO_MONITOR_START</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00314">bridge_features.h:314</a></div></div>
<div class="ttc" id="bridge__features_8h_html_ac5edca1f8aa8a5ea765cea146507a882a880ad3ad184ec2bab1b23a4e8b4c3e0c"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#ac5edca1f8aa8a5ea765cea146507a882a880ad3ad184ec2bab1b23a4e8b4c3e0c">AUTO_MONITOR_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00316">bridge_features.h:316</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a41510c1f43cb3401f5c7c88d9c9a8d11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41510c1f43cb3401f5c7c88d9c9a8d11">&#9670;&nbsp;</a></span>ast_bridge_hook_remove_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5"></a>AST_BRIDGE_HOOK_REMOVE_ON_PULL&#160;</td><td class="fielddoc"><p>The hook is removed when the channel is pulled from the bridge. </p>
</td></tr>
<tr><td class="fieldname"><a id="a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce"></a>AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE&#160;</td><td class="fielddoc"><p>The hook is removed when the bridge's personality changes. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00181">181</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                  {<span class="comment"></span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">   /*! The hook is removed when the channel is pulled from the bridge. */</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">   /*! The hook is removed when the bridge&#39;s personality changes. */</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a> = (1 &lt;&lt; 1),</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;};</div><div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00183">bridge_features.h:183</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00185">bridge_features.h:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acbd260bd0e5790d9c0f08775448f7fc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbd260bd0e5790d9c0f08775448f7fc0">&#9670;&nbsp;</a></span>ast_bridge_hook_timer_option</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#acbd260bd0e5790d9c0f08775448f7fc0">ast_bridge_hook_timer_option</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="acbd260bd0e5790d9c0f08775448f7fc0ae066b3303d944d7f4ff5422908e1c0f4"></a>AST_BRIDGE_HOOK_TIMER_OPTION_MEDIA&#160;</td><td class="fielddoc"><p>The timer temporarily affects media. (Like a custom playfile.) </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00233">233</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                  {<span class="comment"></span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">   /*! The timer temporarily affects media. (Like a custom playfile.) */</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#acbd260bd0e5790d9c0f08775448f7fc0ae066b3303d944d7f4ff5422908e1c0f4">AST_BRIDGE_HOOK_TIMER_OPTION_MEDIA</a> = (1 &lt;&lt; 0),</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;};</div><div class="ttc" id="bridge__features_8h_html_acbd260bd0e5790d9c0f08775448f7fc0ae066b3303d944d7f4ff5422908e1c0f4"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#acbd260bd0e5790d9c0f08775448f7fc0ae066b3303d944d7f4ff5422908e1c0f4">AST_BRIDGE_HOOK_TIMER_OPTION_MEDIA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00235">bridge_features.h:235</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a122c52bc5dec74974f3d4cf3870e7da3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a122c52bc5dec74974f3d4cf3870e7da3">&#9670;&nbsp;</a></span>ast_bridge_hook_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3">ast_bridge_hook_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a122c52bc5dec74974f3d4cf3870e7da3ade37b06918c164e31bf740ea0c71f40e"></a>AST_BRIDGE_HOOK_TYPE_NONE&#160;</td><td class="fielddoc"><p>The hook type has not been specified. </p>
</td></tr>
<tr><td class="fieldname"><a id="a122c52bc5dec74974f3d4cf3870e7da3ab995ce36e6e2812a16d78cd2a890b1ef"></a>AST_BRIDGE_HOOK_TYPE_DTMF&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a122c52bc5dec74974f3d4cf3870e7da3af46f831c14459a9ca7338c3028ca84fb"></a>AST_BRIDGE_HOOK_TYPE_TIMER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a122c52bc5dec74974f3d4cf3870e7da3aaffe52570f582bed6f59dc12ca2a5c9e"></a>AST_BRIDGE_HOOK_TYPE_HANGUP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a122c52bc5dec74974f3d4cf3870e7da3a560e70ed0a87b3e30f0e332cfebec8ee"></a>AST_BRIDGE_HOOK_TYPE_JOIN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a122c52bc5dec74974f3d4cf3870e7da3ac47686eedfc6349818302b402b72461d"></a>AST_BRIDGE_HOOK_TYPE_LEAVE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a122c52bc5dec74974f3d4cf3870e7da3ad2f7e2bea8dd898409ef3166cb60543f"></a>AST_BRIDGE_HOOK_TYPE_TALK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a122c52bc5dec74974f3d4cf3870e7da3ab1e55b40373b3dda769e106081d9dbf1"></a>AST_BRIDGE_HOOK_TYPE_MOVE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00188">188</a> of file <a class="el" href="../../dc/d7a/bridge__features_8h_source.html">bridge_features.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                          {<span class="comment"></span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">   /*! The hook type has not been specified. */</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ade37b06918c164e31bf740ea0c71f40e">AST_BRIDGE_HOOK_TYPE_NONE</a>,</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ab995ce36e6e2812a16d78cd2a890b1ef">AST_BRIDGE_HOOK_TYPE_DTMF</a>,</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3af46f831c14459a9ca7338c3028ca84fb">AST_BRIDGE_HOOK_TYPE_TIMER</a>,</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3aaffe52570f582bed6f59dc12ca2a5c9e">AST_BRIDGE_HOOK_TYPE_HANGUP</a>,</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3a560e70ed0a87b3e30f0e332cfebec8ee">AST_BRIDGE_HOOK_TYPE_JOIN</a>,</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ac47686eedfc6349818302b402b72461d">AST_BRIDGE_HOOK_TYPE_LEAVE</a>,</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ad2f7e2bea8dd898409ef3166cb60543f">AST_BRIDGE_HOOK_TYPE_TALK</a>,</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ab1e55b40373b3dda769e106081d9dbf1">AST_BRIDGE_HOOK_TYPE_MOVE</a>,</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;};</div><div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3ad2f7e2bea8dd898409ef3166cb60543f"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ad2f7e2bea8dd898409ef3166cb60543f">AST_BRIDGE_HOOK_TYPE_TALK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00196">bridge_features.h:196</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3ade37b06918c164e31bf740ea0c71f40e"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ade37b06918c164e31bf740ea0c71f40e">AST_BRIDGE_HOOK_TYPE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00190">bridge_features.h:190</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3af46f831c14459a9ca7338c3028ca84fb"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3af46f831c14459a9ca7338c3028ca84fb">AST_BRIDGE_HOOK_TYPE_TIMER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00192">bridge_features.h:192</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3ab995ce36e6e2812a16d78cd2a890b1ef"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ab995ce36e6e2812a16d78cd2a890b1ef">AST_BRIDGE_HOOK_TYPE_DTMF</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00191">bridge_features.h:191</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3ac47686eedfc6349818302b402b72461d"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ac47686eedfc6349818302b402b72461d">AST_BRIDGE_HOOK_TYPE_LEAVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00195">bridge_features.h:195</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3aaffe52570f582bed6f59dc12ca2a5c9e"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3aaffe52570f582bed6f59dc12ca2a5c9e">AST_BRIDGE_HOOK_TYPE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00193">bridge_features.h:193</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3ab1e55b40373b3dda769e106081d9dbf1"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ab1e55b40373b3dda769e106081d9dbf1">AST_BRIDGE_HOOK_TYPE_MOVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00197">bridge_features.h:197</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3a560e70ed0a87b3e30f0e332cfebec8ee"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3a560e70ed0a87b3e30f0e332cfebec8ee">AST_BRIDGE_HOOK_TYPE_JOIN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00194">bridge_features.h:194</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a48ebc85ae4e4a203014711dc3a492ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ebc85ae4e4a203014711dc3a492ac5">&#9670;&nbsp;</a></span>ast_bridge_dtmf_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_dtmf_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dtmf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a>&#160;</td>
          <td class="paramname"><em>destructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a>&#160;</td>
          <td class="paramname"><em>remove_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach a DTMF hook to a bridge features structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge features structure </td></tr>
    <tr><td class="paramname">dtmf</td><td>DTMF string to be activated upon </td></tr>
    <tr><td class="paramname">callback</td><td>Function to execute upon activation </td></tr>
    <tr><td class="paramname">hook_pvt</td><td>Unique data </td></tr>
    <tr><td class="paramname">destructor</td><td>Optional destructor callback for hook_pvt data </td></tr>
    <tr><td class="paramname">remove_flags</td><td>Dictates what situations the hook should be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure (The caller must cleanup any hook_pvt resources.)</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> features;</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;features);</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a48ebc85ae4e4a203014711dc3a492ac5">ast_bridge_dtmf_hook</a>(&amp;features, <span class="stringliteral">&quot;#&quot;</span>, pound_callback, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div></div><!-- fragment --><p>This makes the bridging core call pound_callback if a channel that has this feature structure inputs the DTMF string '#'. A pointer to useful data may be provided to the hook_pvt parameter. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03245">3245</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00191">AST_BRIDGE_HOOK_TYPE_DTMF</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03225">bridge_hook_generic()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00222">ast_bridge_hook_dtmf_parms::code</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00205">ast_bridge_hook::destructor</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00230">ast_bridge_hook_dtmf::dtmf</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00265">ast_bridge_features::dtmf_hooks</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00228">ast_bridge_hook_dtmf::generic</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00211">ast_bridge_hook::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d40/conf__config__parser_8c_source.html#l02627">apply_menu_to_user()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03428">ast_bridge_features_enable()</a>, <a class="el" href="../../de/da4/test__channel__feature__hooks_8c_source.html#l00160">AST_TEST_DEFINE()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01196">bridge_agent_hold_push()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02855">bridge_personality_atxfer_push()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00544">dynamic_dtmf_hook_add()</a>.</p>
<div class="fragment"><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;{</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d92/structast__bridge__hook__dtmf.html">ast_bridge_hook_dtmf</a> *hook;</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;   <span class="comment">/* Allocate new hook and setup it&#39;s various variables */</span></div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;   hook = (<span class="keyword">struct </span><a class="code" href="../../dd/d92/structast__bridge__hook__dtmf.html">ast_bridge_hook_dtmf</a> *) <a class="code" href="../../d0/d95/bridge_8c.html#a6a9673fffe77cabb9e79c12852baae2f">bridge_hook_generic</a>(<span class="keyword">sizeof</span>(*hook), callback,</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;      hook_pvt, destructor, remove_flags);</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;   <span class="keywordflow">if</span> (!hook) {</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;   }</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;   hook-&gt;<a class="code" href="../../dd/d92/structast__bridge__hook__dtmf.html#a071aadb15e85b96f455641d6adbfdb71">generic</a>.<a class="code" href="../../da/d3b/structast__bridge__hook.html#a9b8d1356a63d1d2c5892a83ea93af921">type</a> = <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ab995ce36e6e2812a16d78cd2a890b1ef">AST_BRIDGE_HOOK_TYPE_DTMF</a>;</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(hook-&gt;<a class="code" href="../../dd/d92/structast__bridge__hook__dtmf.html#a09e6a40a51d2d887563667ee42a6c1f5">dtmf</a>.<a class="code" href="../../d3/d00/structast__bridge__hook__dtmf__parms.html#a112bc20acdbae84f53c59cffc6bf3a94">code</a>, <a class="code" href="../../dd/d92/structast__bridge__hook__dtmf.html#a09e6a40a51d2d887563667ee42a6c1f5">dtmf</a>, <span class="keyword">sizeof</span>(hook-&gt;<a class="code" href="../../dd/d92/structast__bridge__hook__dtmf.html#a09e6a40a51d2d887563667ee42a6c1f5">dtmf</a>.<a class="code" href="../../d3/d00/structast__bridge__hook__dtmf__parms.html#a112bc20acdbae84f53c59cffc6bf3a94">code</a>));</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;   <span class="comment">/* Once done we put it in the container. */</span></div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;   res = <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">dtmf_hooks</a>, hook) ? 0 : -1;</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;<span class="comment">       * Could not link the hook into the container.</span></div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;<span class="comment">       * Remove the hook_pvt destructor call from the hook since we</span></div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;<span class="comment">       * are returning failure to install the hook.</span></div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;      hook-&gt;<a class="code" href="../../dd/d92/structast__bridge__hook__dtmf.html#a071aadb15e85b96f455641d6adbfdb71">generic</a>.<a class="code" href="../../da/d3b/structast__bridge__hook.html#a7ff1fef2556947ee55ff0d194cb0d552">destructor</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;   }</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(hook, -1);</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;}</div><div class="ttc" id="bridge_8c_html_a6a9673fffe77cabb9e79c12852baae2f"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a6a9673fffe77cabb9e79c12852baae2f">bridge_hook_generic</a></div><div class="ttdeci">static struct ast_bridge_hook * bridge_hook_generic(size_t size, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03225">bridge.c:3225</a></div></div>
<div class="ttc" id="structast__bridge__hook_html_a7ff1fef2556947ee55ff0d194cb0d552"><div class="ttname"><a href="../../da/d3b/structast__bridge__hook.html#a7ff1fef2556947ee55ff0d194cb0d552">ast_bridge_hook::destructor</a></div><div class="ttdeci">ast_bridge_hook_pvt_destructor destructor</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00205">bridge_features.h:205</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a70760b613dd26b51a5667e7f0fa7fb8a"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">ast_bridge_features::dtmf_hooks</a></div><div class="ttdeci">struct ao2_container * dtmf_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00265">bridge_features.h:265</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3ab995ce36e6e2812a16d78cd2a890b1ef"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ab995ce36e6e2812a16d78cd2a890b1ef">AST_BRIDGE_HOOK_TYPE_DTMF</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00191">bridge_features.h:191</a></div></div>
<div class="ttc" id="structast__bridge__hook__dtmf_html"><div class="ttname"><a href="../../dd/d92/structast__bridge__hook__dtmf.html">ast_bridge_hook_dtmf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00226">bridge_features.h:226</a></div></div>
<div class="ttc" id="structast__bridge__hook_html_a9b8d1356a63d1d2c5892a83ea93af921"><div class="ttname"><a href="../../da/d3b/structast__bridge__hook.html#a9b8d1356a63d1d2c5892a83ea93af921">ast_bridge_hook::type</a></div><div class="ttdeci">enum ast_bridge_hook_type type</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00211">bridge_features.h:211</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__bridge__hook__dtmf_html_a09e6a40a51d2d887563667ee42a6c1f5"><div class="ttname"><a href="../../dd/d92/structast__bridge__hook__dtmf.html#a09e6a40a51d2d887563667ee42a6c1f5">ast_bridge_hook_dtmf::dtmf</a></div><div class="ttdeci">struct ast_bridge_hook_dtmf_parms dtmf</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00230">bridge_features.h:230</a></div></div>
<div class="ttc" id="structast__bridge__hook__dtmf_html_a071aadb15e85b96f455641d6adbfdb71"><div class="ttname"><a href="../../dd/d92/structast__bridge__hook__dtmf.html#a071aadb15e85b96f455641d6adbfdb71">ast_bridge_hook_dtmf::generic</a></div><div class="ttdeci">struct ast_bridge_hook generic</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00228">bridge_features.h:228</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structast__bridge__hook__dtmf__parms_html_a112bc20acdbae84f53c59cffc6bf3a94"><div class="ttname"><a href="../../d3/d00/structast__bridge__hook__dtmf__parms.html#a112bc20acdbae84f53c59cffc6bf3a94">ast_bridge_hook_dtmf_parms::code</a></div><div class="ttdeci">char code[MAXIMUM_DTMF_FEATURE_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00222">bridge_features.h:222</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aafc3026d777c0bf6899e93263178e102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafc3026d777c0bf6899e93263178e102">&#9670;&nbsp;</a></span>ast_bridge_features_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_features_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean up the contents of a bridge features structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge features structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing</dd></dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> features;</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;features);</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(&amp;features);</div></div><!-- fragment --><p>This cleans up the feature structure 'features'.</p>
<dl class="section note"><dt>Note</dt><dd>This MUST be called after the features structure is done being used or a memory leak may occur. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03720">3720</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/d29/heap_8c_source.html#l00146">ast_heap_destroy()</a>, <a class="el" href="../../d2/d29/heap_8c_source.html#l00262">ast_heap_pop()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00265">ast_bridge_features::dtmf_hooks</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00269">ast_bridge_features::interval_hooks</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00267">ast_bridge_features::other_hooks</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01889">agent_request_exec()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01520">agent_run()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00633">ast_bridge_call_with_flags()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03741">ast_bridge_features_destroy()</a>, <a class="el" href="../../de/da4/test__channel__feature__hooks_8c_source.html#l00160">AST_TEST_DEFINE()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l01007">bridge_exec()</a>, <a class="el" href="../../d8/d6e/app__bridgeaddchan_8c_source.html#l00074">bridgeadd_exec()</a>, <a class="el" href="../../dc/d22/app__bridgewait_8c_source.html#l00416">bridgewait_exec()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l11115">channel_feature_hooks_set_full()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02544">confbridge_exec()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00892">park_and_announce_app_exec()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00545">park_app_exec()</a>, and <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00603">parked_call_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;{</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/df3/structast__bridge__hook__timer.html">ast_bridge_hook_timer</a> *hook;</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;   <span class="comment">/* Destroy the interval hooks heap. */</span></div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;   <span class="keywordflow">if</span> (features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a>) {</div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;      <span class="keywordflow">while</span> ((hook = <a class="code" href="../../da/ddb/heap_8h.html#ad56625488a481df852f0b13d58b15a93">ast_heap_pop</a>(features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a>))) {</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(hook, -1);</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;      }</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;      features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a> = <a class="code" href="../../da/ddb/heap_8h.html#a66d0a4a9d9e08e704abc44c856407bb8">ast_heap_destroy</a>(features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a>);</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;   }</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;   <span class="comment">/* Destroy the miscellaneous other hooks container. */</span></div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a2918c32314a019cebcc4259e324a2745">other_hooks</a>);</div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;   features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a2918c32314a019cebcc4259e324a2745">other_hooks</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;</div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;   <span class="comment">/* Destroy the DTMF hooks container. */</span></div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">dtmf_hooks</a>);</div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;   features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">dtmf_hooks</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;}</div><div class="ttc" id="structast__bridge__hook__timer_html"><div class="ttname"><a href="../../dd/df3/structast__bridge__hook__timer.html">ast_bridge_hook_timer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00253">bridge_features.h:253</a></div></div>
<div class="ttc" id="heap_8h_html_a66d0a4a9d9e08e704abc44c856407bb8"><div class="ttname"><a href="../../da/ddb/heap_8h.html#a66d0a4a9d9e08e704abc44c856407bb8">ast_heap_destroy</a></div><div class="ttdeci">struct ast_heap * ast_heap_destroy(struct ast_heap *h)</div><div class="ttdoc">Destroy a max heap. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d29/heap_8c_source.html#l00146">heap.c:146</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a70760b613dd26b51a5667e7f0fa7fb8a"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">ast_bridge_features::dtmf_hooks</a></div><div class="ttdeci">struct ao2_container * dtmf_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00265">bridge_features.h:265</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="heap_8h_html_ad56625488a481df852f0b13d58b15a93"><div class="ttname"><a href="../../da/ddb/heap_8h.html#ad56625488a481df852f0b13d58b15a93">ast_heap_pop</a></div><div class="ttdeci">void * ast_heap_pop(struct ast_heap *h)</div><div class="ttdoc">Pop the max element off of the heap. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d29/heap_8c_source.html#l00262">heap.c:262</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__bridge__features_html_acf866276f9e32cb984c935b02d749e6f"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">ast_bridge_features::interval_hooks</a></div><div class="ttdeci">struct ast_heap * interval_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00269">bridge_features.h:269</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a2918c32314a019cebcc4259e324a2745"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a2918c32314a019cebcc4259e324a2745">ast_bridge_features::other_hooks</a></div><div class="ttdeci">struct ao2_container * other_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00267">bridge_features.h:267</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3debd15062b4b9463e5703724dd9a1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3debd15062b4b9463e5703724dd9a1f">&#9670;&nbsp;</a></span>ast_bridge_features_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_features_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy an allocated bridge features struct. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge features structure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features;</div><div class="line">features = <a class="code" href="../../dc/d7a/bridge__features_8h.html#abf9e5d393615c63d27e0bd530301a1ed">ast_bridge_features_new</a>();</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a>(features);</div></div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03741">3741</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l03720">ast_bridge_features_cleanup()</a>, and <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l02519">ast_bridge_add_channel()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00633">ast_bridge_call_with_flags()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03750">ast_bridge_features_new()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00599">ast_local_setup_bridge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01757">bridge_channel_depart_thread()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01788">bridge_channel_ind_thread()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l01007">bridge_exec()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01823">bridge_impart_internal()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l00851">conf_start_record()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00105">control_dtor()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l11094">features_destroy()</a>, and <a class="el" href="../../de/d47/core__local_8c_source.html#l00846">local_pvt_destructor()</a>.</p>
<div class="fragment"><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;{</div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;   <span class="keywordflow">if</span> (!features) {</div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;   }</div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a>(features);</div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(features);</div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;}</div><div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="bridge_8c_html_aafc3026d777c0bf6899e93263178e102"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aafc3026d777c0bf6899e93263178e102">ast_bridge_features_cleanup</a></div><div class="ttdeci">void ast_bridge_features_cleanup(struct ast_bridge_features *features)</div><div class="ttdoc">Clean up the contents of a bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03720">bridge.c:3720</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ad28c249794c7354336fc512fab8f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ad28c249794c7354336fc512fab8f7a">&#9670;&nbsp;</a></span>ast_bridge_features_do()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_features_do </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">ast_bridge_builtin_feature</a>&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoke a built in feature hook now. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">feature</td><td>The feature to invoke </td></tr>
    <tr><td class="paramname">bridge_channel</td><td>Channel executing the feature </td></tr>
    <tr><td class="paramname">hook_pvt</td><td>Private data passed in when the hook was created</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This API call is only meant to be used by bridge subclasses and hook callbacks to request a builtin feature hook to be executed.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a5ad28c249794c7354336fc512fab8f7a">ast_bridge_features_do</a>(AST_BRIDGE_BUILTIN_ATTENDED_TRANSFER, bridge_channel, hook_pvt);</div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03151">3151</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l00147">builtin_features_handlers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01034">agent_connect_caller()</a>.</p>
<div class="fragment"><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;{</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a> callback;</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a>) &lt;= feature) {</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;   }</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;   callback = <a class="code" href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a>[feature];</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;   <span class="keywordflow">if</span> (!callback) {</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;   }</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;   callback(bridge_channel, hook_pvt);</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="bridge_8c_html_a7aecde58434c6cec68d99aae71116f87"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a></div><div class="ttdeci">static ast_bridge_hook_callback builtin_features_handlers[AST_BRIDGE_BUILTIN_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00147">bridge.c:147</a></div></div>
<div class="ttc" id="bridge__features_8h_html_aeb8be7f6bc57379c2028c1420015abc1"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a></div><div class="ttdeci">int(* ast_bridge_hook_callback)(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">Hook callback type. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00136">bridge_features.h:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4452a1fe505c3785b5f72f61231ad38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4452a1fe505c3785b5f72f61231ad38">&#9670;&nbsp;</a></span>ast_bridge_features_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_features_enable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">ast_bridge_builtin_feature</a>&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dtmf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a>&#160;</td>
          <td class="paramname"><em>destructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a>&#160;</td>
          <td class="paramname"><em>remove_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable a built in feature on a bridge features structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge features structure </td></tr>
    <tr><td class="paramname">feature</td><td>Feature to enable </td></tr>
    <tr><td class="paramname">dtmf</td><td>Optionally the DTMF stream to trigger the feature, if not specified it will be the default </td></tr>
    <tr><td class="paramname">config</td><td>Configuration structure unique to the built in type </td></tr>
    <tr><td class="paramname">destructor</td><td>Optional destructor callback for config data </td></tr>
    <tr><td class="paramname">remove_flags</td><td>Dictates what situations the hook should be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> features;</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;features);</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#ad4452a1fe505c3785b5f72f61231ad38">ast_bridge_features_enable</a>(&amp;features, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a914956d3505768cc223eb23ce407c691">AST_BRIDGE_BUILTIN_ATTENDEDTRANSFER</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div></div><!-- fragment --><p>This enables the attended transfer DTMF option using the default DTMF string. An alternate string may be provided using the dtmf parameter. Internally this is simply setting up a hook to a built in feature callback function. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03428">3428</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03245">ast_bridge_dtmf_hook()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00144">builtin_features_dtmf</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l00147">builtin_features_handlers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00368">builtin_features_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;{</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a>) &lt;= feature</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;      || !<a class="code" href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a>[feature]) {</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;   }</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;   <span class="comment">/* If no alternate DTMF stream was provided use the default one */</span></div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(dtmf)) {</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;      dtmf = <a class="code" href="../../d0/d95/bridge_8c.html#a2df991cc86ea9bb473f730f2af4b2649">builtin_features_dtmf</a>[feature];</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;      <span class="comment">/* If no DTMF is still available (ie: it has been disabled) then error out now */</span></div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(dtmf)) {</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Failed to enable built in feature %u on %p, no DTMF string is available for it.\n&quot;</span>,</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;            feature, features);</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;      }</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;   }</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;<span class="comment">    * The rest is basically pretty easy.  We create another hook</span></div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;<span class="comment">    * using the built in feature&#39;s DTMF callback.  Easy as pie.</span></div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d95/bridge_8c.html#a48ebc85ae4e4a203014711dc3a492ac5">ast_bridge_dtmf_hook</a>(features, dtmf, <a class="code" href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a>[feature],</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;      <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, destructor, remove_flags);</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="bridge_8c_html_a7aecde58434c6cec68d99aae71116f87"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a></div><div class="ttdeci">static ast_bridge_hook_callback builtin_features_handlers[AST_BRIDGE_BUILTIN_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00147">bridge.c:147</a></div></div>
<div class="ttc" id="bridge_8c_html_a2df991cc86ea9bb473f730f2af4b2649"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a2df991cc86ea9bb473f730f2af4b2649">builtin_features_dtmf</a></div><div class="ttdeci">static char builtin_features_dtmf[AST_BRIDGE_BUILTIN_END][MAXIMUM_DTMF_FEATURE_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00144">bridge.c:144</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="bridge_8c_html_a48ebc85ae4e4a203014711dc3a492ac5"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a48ebc85ae4e4a203014711dc3a492ac5">ast_bridge_dtmf_hook</a></div><div class="ttdeci">int ast_bridge_dtmf_hook(struct ast_bridge_features *features, const char *dtmf, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdoc">Attach a DTMF hook to a bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03245">bridge.c:3245</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3128b52009fb3dd764dce90ea377fce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3128b52009fb3dd764dce90ea377fce1">&#9670;&nbsp;</a></span>ast_bridge_features_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_features_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize bridge features structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge featues structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> features;</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;features);</div></div><!-- fragment --><p>This initializes the feature structure 'features' to have nothing enabled.</p>
<dl class="section note"><dt>Note</dt><dd>This MUST be called before enabling features or flags. Failure to do so may result in a crash. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03687">3687</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01215">AO2_CONTAINER_ALLOC_OPT_DUPS_REPLACE</a>, <a class="el" href="../../da/ddb/heap_8h_source.html#l00102">ast_heap_create</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03606">bridge_dtmf_hook_sort()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00265">ast_bridge_features::dtmf_hooks</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00279">ast_bridge_features::dtmf_passthrough</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03575">interval_hook_time_cmp()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00269">ast_bridge_features::interval_hooks</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00267">ast_bridge_features::other_hooks</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00283">ast_bridge_features::text_messaging</a>, and <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l00360">timer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01889">agent_request_exec()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01520">agent_run()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00633">ast_bridge_call_with_flags()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03750">ast_bridge_features_new()</a>, <a class="el" href="../../de/da4/test__channel__feature__hooks_8c_source.html#l00160">AST_TEST_DEFINE()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l01007">bridge_exec()</a>, <a class="el" href="../../d8/d6e/app__bridgeaddchan_8c_source.html#l00074">bridgeadd_exec()</a>, <a class="el" href="../../dc/d22/app__bridgewait_8c_source.html#l00416">bridgewait_exec()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l11115">channel_feature_hooks_set_full()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02544">confbridge_exec()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00892">park_and_announce_app_exec()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00545">park_app_exec()</a>, and <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00603">parked_call_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;{</div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;   <span class="comment">/* Zero out the structure */</span></div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;   memset(features, 0, <span class="keyword">sizeof</span>(*features));</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;   <span class="comment">/* Initialize the DTMF hooks container */</span></div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;   features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">dtmf_hooks</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>,</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520acadb2bfd83bc54a380d86d3a9b02d99c35">AO2_CONTAINER_ALLOC_OPT_DUPS_REPLACE</a>, <a class="code" href="../../d0/d95/bridge_8c.html#a526176b2869c5287b65204cd06b2dfa7">bridge_dtmf_hook_sort</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;   <span class="keywordflow">if</span> (!features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">dtmf_hooks</a>) {</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;   }</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;   <span class="comment">/* Initialize the miscellaneous other hooks container */</span></div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;   features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a2918c32314a019cebcc4259e324a2745">other_hooks</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;   <span class="keywordflow">if</span> (!features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a2918c32314a019cebcc4259e324a2745">other_hooks</a>) {</div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;   }</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;   <span class="comment">/* Initialize the interval hooks heap */</span></div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;   features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a> = <a class="code" href="../../da/ddb/heap_8h.html#a42b42e04887dbc86276e590141147f63">ast_heap_create</a>(8, <a class="code" href="../../d0/d95/bridge_8c.html#a416007d94897495f428fdc375afc11f1">interval_hook_time_cmp</a>,</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;      offsetof(<span class="keyword">struct</span> <a class="code" href="../../dd/df3/structast__bridge__hook__timer.html">ast_bridge_hook_timer</a>, <a class="code" href="../../d5/dff/chan__iax2_8c.html#a9aed6490b63794e6c9c00af4533f255f">timer</a>.heap_index));</div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;   <span class="keywordflow">if</span> (!features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a>) {</div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;   }</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;   features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a9ed40fc6a252b84f86044f975cc94283">dtmf_passthrough</a> = 1;</div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;   features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#ad1ee5fa0669878cce5cf86ca3d3dd921">text_messaging</a> = 1;</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;}</div><div class="ttc" id="structast__bridge__hook__timer_html"><div class="ttname"><a href="../../dd/df3/structast__bridge__hook__timer.html">ast_bridge_hook_timer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00253">bridge_features.h:253</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="bridge_8c_html_a526176b2869c5287b65204cd06b2dfa7"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a526176b2869c5287b65204cd06b2dfa7">bridge_dtmf_hook_sort</a></div><div class="ttdeci">static int bridge_dtmf_hook_sort(const void *obj_left, const void *obj_right, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03606">bridge.c:3606</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a70760b613dd26b51a5667e7f0fa7fb8a"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">ast_bridge_features::dtmf_hooks</a></div><div class="ttdeci">struct ao2_container * dtmf_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00265">bridge_features.h:265</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__bridge__features_html_ad1ee5fa0669878cce5cf86ca3d3dd921"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#ad1ee5fa0669878cce5cf86ca3d3dd921">ast_bridge_features::text_messaging</a></div><div class="ttdeci">unsigned int text_messaging</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00283">bridge_features.h:283</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="structast__bridge__features_html_acf866276f9e32cb984c935b02d749e6f"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">ast_bridge_features::interval_hooks</a></div><div class="ttdeci">struct ast_heap * interval_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00269">bridge_features.h:269</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a9ed40fc6a252b84f86044f975cc94283"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a9ed40fc6a252b84f86044f975cc94283">ast_bridge_features::dtmf_passthrough</a></div><div class="ttdeci">unsigned int dtmf_passthrough</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00279">bridge_features.h:279</a></div></div>
<div class="ttc" id="bridge_8c_html_a416007d94897495f428fdc375afc11f1"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a416007d94897495f428fdc375afc11f1">interval_hook_time_cmp</a></div><div class="ttdeci">static int interval_hook_time_cmp(void *a, void *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03575">bridge.c:3575</a></div></div>
<div class="ttc" id="heap_8h_html_a42b42e04887dbc86276e590141147f63"><div class="ttname"><a href="../../da/ddb/heap_8h.html#a42b42e04887dbc86276e590141147f63">ast_heap_create</a></div><div class="ttdeci">#define ast_heap_create(init_height, cmp_fn, index_offset)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l00102">heap.h:102</a></div></div>
<div class="ttc" id="astobj2_8h_html_afe7a6b368052cb171d371d873b7520acadb2bfd83bc54a380d86d3a9b02d99c35"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520acadb2bfd83bc54a380d86d3a9b02d99c35">AO2_CONTAINER_ALLOC_OPT_DUPS_REPLACE</a></div><div class="ttdoc">Replace objects with duplicate keys in container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01215">astobj2.h:1215</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a2918c32314a019cebcc4259e324a2745"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a2918c32314a019cebcc4259e324a2745">ast_bridge_features::other_hooks</a></div><div class="ttdeci">struct ao2_container * other_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00267">bridge_features.h:267</a></div></div>
<div class="ttc" id="chan__iax2_8c_html_a9aed6490b63794e6c9c00af4533f255f"><div class="ttname"><a href="../../d5/dff/chan__iax2_8c.html#a9aed6490b63794e6c9c00af4533f255f">timer</a></div><div class="ttdeci">static struct ast_timer * timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dff/chan__iax2_8c_source.html#l00360">chan_iax2.c:360</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d37f3df31f68efc380c63b999db43f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d37f3df31f68efc380c63b999db43f0">&#9670;&nbsp;</a></span>ast_bridge_features_limits_construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_features_limits_construct </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *&#160;</td>
          <td class="paramname"><em>limits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor function for <a class="el" href="../../d7/da5/structast__bridge__features__limits.html" title="Structure that contains configuration information for the limits feature. ">ast_bridge_features_limits</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">limits</td><td>pointer to a <a class="el" href="../../d7/da5/structast__bridge__features__limits.html" title="Structure that contains configuration information for the limits feature. ">ast_bridge_features_limits</a> struct that has been allocted, but not initialized</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03459">3459</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df4/bridge__builtin__interval__features_8c_source.html#l00148">bridge_builtin_set_limits()</a>, and <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;{</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;   memset(limits, 0, <span class="keyword">sizeof</span>(*limits));</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(limits, 256)) {</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;   }</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;}</div><div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0b1bf34dd9aa570c5efd4dddfead1fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b1bf34dd9aa570c5efd4dddfead1fb">&#9670;&nbsp;</a></span>ast_bridge_features_limits_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_features_limits_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *&#160;</td>
          <td class="paramname"><em>limits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor function for <a class="el" href="../../d7/da5/structast__bridge__features__limits.html" title="Structure that contains configuration information for the limits feature. ">ast_bridge_features_limits</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">limits</td><td>pointer to an <a class="el" href="../../d7/da5/structast__bridge__features__limits.html" title="Structure that contains configuration information for the limits feature. ">ast_bridge_features_limits</a> struct that needs to be destroyed</td></tr>
  </table>
  </dd>
</dl>
<p>This function does not free memory allocated to the <a class="el" href="../../d7/da5/structast__bridge__features__limits.html" title="Structure that contains configuration information for the limits feature. ">ast_bridge_features_limits</a> struct, it only frees elements within the struct. You must still call ast_free on the struct if you allocated it with malloc. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03470">3470</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df4/bridge__builtin__interval__features_8c_source.html#l00140">bridge_features_limits_dtor()</a>, and <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;{</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(limits);</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;}</div><div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a91794e42131b7edc3119b92d789f8268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91794e42131b7edc3119b92d789f8268">&#9670;&nbsp;</a></span>ast_bridge_features_merge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_features_merge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>into</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>from</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merge one <a class="el" href="../../db/dba/structast__bridge__features.html" title="Structure that contains features information. ">ast_bridge_features</a> into another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">into</td><td>The <a class="el" href="../../db/dba/structast__bridge__features.html" title="Structure that contains features information. ">ast_bridge_features</a> that will be merged into </td></tr>
    <tr><td class="paramname">from</td><td>The <a class="el" href="../../db/dba/structast__bridge__features.html" title="Structure that contains features information. ">ast_bridge_features</a> that will be merged from </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03662">3662</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d2/d29/heap_8c_source.html#l00267">ast_heap_peek()</a>, <a class="el" href="../../da/ddb/heap_8h_source.html#l00248">ast_heap_unlock</a>, <a class="el" href="../../da/ddb/heap_8h_source.html#l00246">ast_heap_wrlock</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00265">ast_bridge_features::dtmf_hooks</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00279">ast_bridge_features::dtmf_passthrough</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00271">ast_bridge_features::feature_flags</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00200">ast_flags::flags</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00269">ast_bridge_features::interval_hooks</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03629">merge_container_cb()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00277">ast_bridge_features::mute</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00267">ast_bridge_features::other_hooks</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00275">ast_bridge_features::usable</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l03650">wrap_hook()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02902">bridge_channel_internal_join()</a>, and <a class="el" href="../../d4/d28/channel_8c_source.html#l11115">channel_feature_hooks_set_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;{</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/df3/structast__bridge__hook__timer.html">ast_bridge_hook_timer</a> *hook;</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;   <span class="comment">/* Merge hook containers */</span></div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(from-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">dtmf_hooks</a>, 0, <a class="code" href="../../d0/d95/bridge_8c.html#a7c88a2e2a58dbf7177f34ad452904bef">merge_container_cb</a>, into-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">dtmf_hooks</a>);</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(from-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a2918c32314a019cebcc4259e324a2745">other_hooks</a>, 0, <a class="code" href="../../d0/d95/bridge_8c.html#a7c88a2e2a58dbf7177f34ad452904bef">merge_container_cb</a>, into-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a2918c32314a019cebcc4259e324a2745">other_hooks</a>);</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;   <span class="comment">/* Merge hook heaps */</span></div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;   <a class="code" href="../../da/ddb/heap_8h.html#ae31f8aaa8d4c6caf049e3965ec8b576a">ast_heap_wrlock</a>(from-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a>);</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;   <span class="keywordflow">for</span> (idx = 1; (hook = <a class="code" href="../../da/ddb/heap_8h.html#aaa326b988236a0841d41cf2af8ec9b7e">ast_heap_peek</a>(from-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a>, idx)); idx++) {</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;      <a class="code" href="../../d0/d95/bridge_8c.html#a948b63016c1f8deb90c43f8f94f68321">wrap_hook</a>(into, hook);</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;   }</div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;   <a class="code" href="../../da/ddb/heap_8h.html#a44306afd9b32c0eedae9b559f13a2c5b">ast_heap_unlock</a>(from-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a>);</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;   <span class="comment">/* Merge feature flags */</span></div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;   into-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#af15c2e8b6df8ce0bf570af18aa890deb">feature_flags</a>.<a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> |= from-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#af15c2e8b6df8ce0bf570af18aa890deb">feature_flags</a>.<a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;   into-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a080125973deec97104866dd31867e3ce">usable</a> |= from-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a080125973deec97104866dd31867e3ce">usable</a>;</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;   into-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#aa09e22acd94cd548a204c100e11fd612">mute</a> |= from-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#aa09e22acd94cd548a204c100e11fd612">mute</a>;</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;   into-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a9ed40fc6a252b84f86044f975cc94283">dtmf_passthrough</a> |= from-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a9ed40fc6a252b84f86044f975cc94283">dtmf_passthrough</a>;</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;}</div><div class="ttc" id="structast__bridge__hook__timer_html"><div class="ttname"><a href="../../dd/df3/structast__bridge__hook__timer.html">ast_bridge_hook_timer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00253">bridge_features.h:253</a></div></div>
<div class="ttc" id="heap_8h_html_a44306afd9b32c0eedae9b559f13a2c5b"><div class="ttname"><a href="../../da/ddb/heap_8h.html#a44306afd9b32c0eedae9b559f13a2c5b">ast_heap_unlock</a></div><div class="ttdeci">#define ast_heap_unlock(h)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l00248">heap.h:248</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="structast__flags_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">ast_flags::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00200">utils.h:200</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a080125973deec97104866dd31867e3ce"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a080125973deec97104866dd31867e3ce">ast_bridge_features::usable</a></div><div class="ttdeci">unsigned int usable</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00275">bridge_features.h:275</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a70760b613dd26b51a5667e7f0fa7fb8a"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">ast_bridge_features::dtmf_hooks</a></div><div class="ttdeci">struct ao2_container * dtmf_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00265">bridge_features.h:265</a></div></div>
<div class="ttc" id="structast__bridge__features_html_aa09e22acd94cd548a204c100e11fd612"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#aa09e22acd94cd548a204c100e11fd612">ast_bridge_features::mute</a></div><div class="ttdeci">unsigned int mute</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00277">bridge_features.h:277</a></div></div>
<div class="ttc" id="bridge_8c_html_a7c88a2e2a58dbf7177f34ad452904bef"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a7c88a2e2a58dbf7177f34ad452904bef">merge_container_cb</a></div><div class="ttdeci">static int merge_container_cb(void *obj, void *data, int flags)</div><div class="ttdoc">Callback for merging hook ao2_containers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03629">bridge.c:3629</a></div></div>
<div class="ttc" id="structast__bridge__features_html_af15c2e8b6df8ce0bf570af18aa890deb"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#af15c2e8b6df8ce0bf570af18aa890deb">ast_bridge_features::feature_flags</a></div><div class="ttdeci">struct ast_flags feature_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00271">bridge_features.h:271</a></div></div>
<div class="ttc" id="structast__bridge__features_html_acf866276f9e32cb984c935b02d749e6f"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">ast_bridge_features::interval_hooks</a></div><div class="ttdeci">struct ast_heap * interval_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00269">bridge_features.h:269</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a9ed40fc6a252b84f86044f975cc94283"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a9ed40fc6a252b84f86044f975cc94283">ast_bridge_features::dtmf_passthrough</a></div><div class="ttdeci">unsigned int dtmf_passthrough</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00279">bridge_features.h:279</a></div></div>
<div class="ttc" id="bridge_8c_html_a948b63016c1f8deb90c43f8f94f68321"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a948b63016c1f8deb90c43f8f94f68321">wrap_hook</a></div><div class="ttdeci">static void wrap_hook(struct ast_bridge_features *features, struct ast_bridge_hook_timer *hook)</div><div class="ttdoc">Wrap the provided interval hook and add it to features. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03650">bridge.c:3650</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a2918c32314a019cebcc4259e324a2745"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a2918c32314a019cebcc4259e324a2745">ast_bridge_features::other_hooks</a></div><div class="ttdeci">struct ao2_container * other_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00267">bridge_features.h:267</a></div></div>
<div class="ttc" id="heap_8h_html_aaa326b988236a0841d41cf2af8ec9b7e"><div class="ttname"><a href="../../da/ddb/heap_8h.html#aaa326b988236a0841d41cf2af8ec9b7e">ast_heap_peek</a></div><div class="ttdeci">void * ast_heap_peek(struct ast_heap *h, unsigned int index)</div><div class="ttdoc">Peek at an element on a heap. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d29/heap_8c_source.html#l00267">heap.c:267</a></div></div>
<div class="ttc" id="heap_8h_html_ae31f8aaa8d4c6caf049e3965ec8b576a"><div class="ttname"><a href="../../da/ddb/heap_8h.html#ae31f8aaa8d4c6caf049e3965ec8b576a">ast_heap_wrlock</a></div><div class="ttdeci">#define ast_heap_wrlock(h)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l00246">heap.h:246</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf9e5d393615c63d27e0bd530301a1ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf9e5d393615c63d27e0bd530301a1ed">&#9670;&nbsp;</a></span>ast_bridge_features_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a>* ast_bridge_features_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a new bridge features struct. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features;</div><div class="line">features = <a class="code" href="../../dc/d7a/bridge__features_8h.html#abf9e5d393615c63d27e0bd530301a1ed">ast_bridge_features_new</a>();</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a>(features);</div></div><!-- fragment --><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">features</td><td>New allocated features struct. </td></tr>
    <tr><td class="paramname">NULL</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03750">3750</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l03741">ast_bridge_features_destroy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03687">ast_bridge_features_init()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00633">ast_bridge_call_with_flags()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00928">ast_unreal_channel_push_to_bridge()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l01007">bridge_exec()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01823">bridge_impart_internal()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l11115">channel_feature_hooks_set_full()</a>, <a class="el" href="../../d8/d4f/conf__chan__announce_8c_source.html#l00144">conf_announce_channel_push()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l00851">conf_start_record()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01451">stasis_app_control_bridge_features_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;{</div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features;</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;   features = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(*features));</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;   <span class="keywordflow">if</span> (features) {</div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d95/bridge_8c.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(features)) {</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;         <a class="code" href="../../d0/d95/bridge_8c.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a>(features);</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;         features = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;      }</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;   }</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;</div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;   <span class="keywordflow">return</span> features;</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;}</div><div class="ttc" id="structast__bridge__features_html"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a></div><div class="ttdoc">Structure that contains features information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00263">bridge_features.h:263</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="bridge_8c_html_a3128b52009fb3dd764dce90ea377fce1"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a></div><div class="ttdeci">int ast_bridge_features_init(struct ast_bridge_features *features)</div><div class="ttdoc">Initialize bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03687">bridge.c:3687</a></div></div>
<div class="ttc" id="bridge_8c_html_ad3debd15062b4b9463e5703724dd9a1f"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#ad3debd15062b4b9463e5703724dd9a1f">ast_bridge_features_destroy</a></div><div class="ttdeci">void ast_bridge_features_destroy(struct ast_bridge_features *features)</div><div class="ttdoc">Destroy an allocated bridge features struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03741">bridge.c:3741</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae364d78e48f19a0d5ceedc6d18cda52d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae364d78e48f19a0d5ceedc6d18cda52d">&#9670;&nbsp;</a></span>ast_bridge_features_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_features_register </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">ast_bridge_builtin_feature</a>&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dtmf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a handler for a built in feature. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">feature</td><td>The feature that the handler will be responsible for </td></tr>
    <tr><td class="paramname">callback</td><td>The callback function that will handle it </td></tr>
    <tr><td class="paramname">dtmf</td><td>Default DTMF string used to activate the feature</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#ae364d78e48f19a0d5ceedc6d18cda52d">ast_bridge_features_register</a>(AST_BRIDGE_BUILTIN_ATTENDED_TRANSFER, bridge_builtin_attended_transfer, <span class="stringliteral">&quot;*1&quot;</span>);</div></div><!-- fragment --><p>This registers the function bridge_builtin_attended_transfer as the function responsible for the built in attended transfer feature. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03123">3123</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00144">builtin_features_dtmf</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l00147">builtin_features_handlers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>, <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00512">load_module()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00802">load_parking_bridge_features()</a>.</p>
<div class="fragment"><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;{</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a>) &lt;= feature</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;      || <a class="code" href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a>[feature]) {</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;   }</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(dtmf)) {</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d95/bridge_8c.html#a2df991cc86ea9bb473f730f2af4b2649">builtin_features_dtmf</a>[feature], dtmf, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d95/bridge_8c.html#a2df991cc86ea9bb473f730f2af4b2649">builtin_features_dtmf</a>[feature]));</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;   }</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a>[feature] = callback;</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="bridge_8c_html_a7aecde58434c6cec68d99aae71116f87"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a></div><div class="ttdeci">static ast_bridge_hook_callback builtin_features_handlers[AST_BRIDGE_BUILTIN_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00147">bridge.c:147</a></div></div>
<div class="ttc" id="bridge_8c_html_a2df991cc86ea9bb473f730f2af4b2649"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a2df991cc86ea9bb473f730f2af4b2649">builtin_features_dtmf</a></div><div class="ttdeci">static char builtin_features_dtmf[AST_BRIDGE_BUILTIN_END][MAXIMUM_DTMF_FEATURE_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00144">bridge.c:144</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a59e2d516216983fdab32cf3036a657f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59e2d516216983fdab32cf3036a657f2">&#9670;&nbsp;</a></span>ast_bridge_features_set_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_features_set_flag </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a flag on a bridge channel features structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge channel features structure </td></tr>
    <tr><td class="paramname">flag</td><td>Flag to enable</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing</dd></dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> features;</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;features);</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a59e2d516216983fdab32cf3036a657f2">ast_bridge_features_set_flag</a>(&amp;features, <a class="code" href="../../dc/d7a/bridge__features_8h.html#adb39f3c49f940cca855ef8ae3dfc5f77a88f541f13934e4f8ad5d88e31f694e2b">AST_BRIDGE_CHANNEL_FLAG_DISSOLVE_HANGUP</a>);</div></div><!-- fragment --><p>This sets the AST_BRIDGE_CHANNEL_FLAG_DISSOLVE_HANGUP feature to be enabled on the features structure 'features'. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03490">3490</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00271">ast_bridge_features::feature_flags</a>, and <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00275">ast_bridge_features::usable</a>.</p>
<div class="fragment"><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;{</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#af15c2e8b6df8ce0bf570af18aa890deb">feature_flags</a>, <a class="code" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>);</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;   features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a080125973deec97104866dd31867e3ce">usable</a> = 1;</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;}</div><div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a080125973deec97104866dd31867e3ce"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a080125973deec97104866dd31867e3ce">ast_bridge_features::usable</a></div><div class="ttdeci">unsigned int usable</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00275">bridge_features.h:275</a></div></div>
<div class="ttc" id="structast__bridge__features_html_af15c2e8b6df8ce0bf570af18aa890deb"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#af15c2e8b6df8ce0bf570af18aa890deb">ast_bridge_features::feature_flags</a></div><div class="ttdeci">struct ast_flags feature_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00271">bridge_features.h:271</a></div></div>
<div class="ttc" id="f2c_8h_html_abf5d144da384425ae6cb542ce6eec8d3"><div class="ttname"><a href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a></div><div class="ttdeci">long int flag</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc2/f2c_8h_source.html#l00083">f2c.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a27662864d9f07a05ef11b683c245d032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27662864d9f07a05ef11b683c245d032">&#9670;&nbsp;</a></span>ast_bridge_features_set_limits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_features_set_limits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> *&#160;</td>
          <td class="paramname"><em>limits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a>&#160;</td>
          <td class="paramname"><em>remove_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Limit the amount of time a channel may stay in the bridge and optionally play warning messages as time runs out. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge features structure </td></tr>
    <tr><td class="paramname">limits</td><td>Configured limits applicable to the channel </td></tr>
    <tr><td class="paramname">remove_flags</td><td>Dictates what situations the hook should be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> features;</div><div class="line"><span class="keyword">struct </span><a class="code" href="../../d7/da5/structast__bridge__features__limits.html">ast_bridge_features_limits</a> <a class="code" href="../../df/dfc/structlimits.html">limits</a>;</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;features);</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3d37f3df31f68efc380c63b999db43f0">ast_bridge_features_limits_construct</a>(&amp;<a class="code" href="../../df/dfc/structlimits.html">limits</a>);</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a27662864d9f07a05ef11b683c245d032">ast_bridge_features_set_limits</a>(&amp;features, &amp;<a class="code" href="../../df/dfc/structlimits.html">limits</a>, 0);</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#ae0b1bf34dd9aa570c5efd4dddfead1fb">ast_bridge_features_limits_destroy</a>(&amp;<a class="code" href="../../df/dfc/structlimits.html">limits</a>);</div></div><!-- fragment --><p>This sets the maximum time the channel can be in the bridge to 10 seconds and does not play any warnings.</p>
<dl class="section note"><dt>Note</dt><dd>This API call can only be used on a features structure that will be used in association with a bridge channel. </dd>
<dd>
The <a class="el" href="../../d7/da5/structast__bridge__features__limits.html" title="Structure that contains configuration information for the limits feature. ">ast_bridge_features_limits</a> structure must remain accessible for the lifetime of the features structure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03475">3475</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00112">AST_BRIDGE_BUILTIN_INTERVAL_LIMITS</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00150">builtin_interval_handlers</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;{</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d95/bridge_8c.html#a76ac53f956ad8bd4f1d95868dbc6b33e">builtin_interval_handlers</a>[<a class="code" href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960da38c5af32fcc0a209b338cf6d59650351">AST_BRIDGE_BUILTIN_INTERVAL_LIMITS</a>]) {</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#acf985c9cba5e118bd24fdf980b59f955">ast_bridge_builtin_set_limits_fn</a> callback;</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;      callback = <a class="code" href="../../d0/d95/bridge_8c.html#a76ac53f956ad8bd4f1d95868dbc6b33e">builtin_interval_handlers</a>[<a class="code" href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960da38c5af32fcc0a209b338cf6d59650351">AST_BRIDGE_BUILTIN_INTERVAL_LIMITS</a>];</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;      <span class="keywordflow">return</span> callback(features, limits, remove_flags);</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;   }</div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Attempted to set limits without an AST_BRIDGE_BUILTIN_INTERVAL_LIMITS callback registered.\n&quot;</span>);</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;}</div><div class="ttc" id="bridge__features_8h_html_afcb20166cd7e9581af29556b411b960da38c5af32fcc0a209b338cf6d59650351"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960da38c5af32fcc0a209b338cf6d59650351">AST_BRIDGE_BUILTIN_INTERVAL_LIMITS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00112">bridge_features.h:112</a></div></div>
<div class="ttc" id="bridge__features_8h_html_acf985c9cba5e118bd24fdf980b59f955"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#acf985c9cba5e118bd24fdf980b59f955">ast_bridge_builtin_set_limits_fn</a></div><div class="ttdeci">int(* ast_bridge_builtin_set_limits_fn)(struct ast_bridge_features *features, struct ast_bridge_features_limits *limits, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdoc">Attach interval hooks to a bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00422">bridge_features.h:422</a></div></div>
<div class="ttc" id="bridge_8c_html_a76ac53f956ad8bd4f1d95868dbc6b33e"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a76ac53f956ad8bd4f1d95868dbc6b33e">builtin_interval_handlers</a></div><div class="ttdeci">static ast_bridge_builtin_set_limits_fn builtin_interval_handlers[AST_BRIDGE_BUILTIN_INTERVAL_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00150">bridge.c:150</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a395272994b2af7bd55f871b02d2d42e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a395272994b2af7bd55f871b02d2d42e4">&#9670;&nbsp;</a></span>ast_bridge_features_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_features_unregister </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">ast_bridge_builtin_feature</a>&#160;</td>
          <td class="paramname"><em>feature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a handler for a built in feature. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">feature</td><td>The feature to unregister</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a395272994b2af7bd55f871b02d2d42e4">ast_bridge_features_unregister</a>(AST_BRIDGE_BUILTIN_ATTENDED_TRANSFER);</div></div><!-- fragment --><p>This unregisters the function that is handling the built in attended transfer feature. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03139">3139</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00147">builtin_features_handlers</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00503">unload_module()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00795">unload_parking_bridge_features()</a>.</p>
<div class="fragment"><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;{</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a>) &lt;= feature</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;      || !<a class="code" href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a>[feature]) {</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;   }</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a>[feature] = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="bridge_8c_html_a7aecde58434c6cec68d99aae71116f87"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a7aecde58434c6cec68d99aae71116f87">builtin_features_handlers</a></div><div class="ttdeci">static ast_bridge_hook_callback builtin_features_handlers[AST_BRIDGE_BUILTIN_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00147">bridge.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b26efd7ce4e09afa9402dc0a30d5e4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b26efd7ce4e09afa9402dc0a30d5e4a">&#9670;&nbsp;</a></span>ast_bridge_hangup_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_hangup_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a>&#160;</td>
          <td class="paramname"><em>destructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a>&#160;</td>
          <td class="paramname"><em>remove_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach a hangup hook to a bridge features structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge features structure </td></tr>
    <tr><td class="paramname">callback</td><td>Function to execute upon activation </td></tr>
    <tr><td class="paramname">hook_pvt</td><td>Unique data </td></tr>
    <tr><td class="paramname">destructor</td><td>Optional destructor callback for hook_pvt data </td></tr>
    <tr><td class="paramname">remove_flags</td><td>Dictates what situations the hook should be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure (The caller must cleanup any hook_pvt resources.)</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> features;</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;features);</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a1b26efd7ce4e09afa9402dc0a30d5e4a">ast_bridge_hangup_hook</a>(&amp;features, hangup_callback, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div></div><!-- fragment --><p>This makes the bridging core call hangup_callback if a channel that has this hook hangs up. A pointer to useful data may be provided to the hook_pvt parameter. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03328">3328</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00193">AST_BRIDGE_HOOK_TYPE_HANGUP</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l03294">bridge_other_hook()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00641">add_normal_hooks()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02855">bridge_personality_atxfer_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;{</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d95/bridge_8c.html#a3a5abc6bcc708c0455a3f0d3ad134378">bridge_other_hook</a>(features, callback, hook_pvt, destructor, remove_flags,</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3aaffe52570f582bed6f59dc12ca2a5c9e">AST_BRIDGE_HOOK_TYPE_HANGUP</a>);</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;}</div><div class="ttc" id="bridge_8c_html_a3a5abc6bcc708c0455a3f0d3ad134378"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a3a5abc6bcc708c0455a3f0d3ad134378">bridge_other_hook</a></div><div class="ttdeci">static int bridge_other_hook(struct ast_bridge_features *features, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags, enum ast_bridge_hook_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03294">bridge.c:3294</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3aaffe52570f582bed6f59dc12ca2a5c9e"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3aaffe52570f582bed6f59dc12ca2a5c9e">AST_BRIDGE_HOOK_TYPE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00193">bridge_features.h:193</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e9bdb7b62b531f001b7dcb5c39b3551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e9bdb7b62b531f001b7dcb5c39b3551">&#9670;&nbsp;</a></span>ast_bridge_interval_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_interval_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#acbd260bd0e5790d9c0f08775448f7fc0">ast_bridge_hook_timer_option</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a>&#160;</td>
          <td class="paramname"><em>destructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a>&#160;</td>
          <td class="paramname"><em>remove_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach an interval hook to a bridge features structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge features structure </td></tr>
    <tr><td class="paramname">flags</td><td>Interval timer callback option flags. </td></tr>
    <tr><td class="paramname">interval</td><td>The interval that the hook should execute at in milliseconds </td></tr>
    <tr><td class="paramname">callback</td><td>Function to execute upon activation </td></tr>
    <tr><td class="paramname">hook_pvt</td><td>Unique data </td></tr>
    <tr><td class="paramname">destructor</td><td>Optional destructor callback for hook_pvt data </td></tr>
    <tr><td class="paramname">remove_flags</td><td>Dictates what situations the hook should be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure (The caller must cleanup any hook_pvt resources.)</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> features;</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;features);</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3e9bdb7b62b531f001b7dcb5c39b3551">ast_bridge_interval_hook</a>(&amp;features, 1000, playback_callback, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div></div><!-- fragment --><p>This makes the bridging core call playback_callback every second. A pointer to useful data may be provided to the hook_pvt parameter. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03382">3382</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00192">AST_BRIDGE_HOOK_TYPE_TIMER</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/ddb/heap_8h_source.html#l00126">ast_heap_push</a>, <a class="el" href="../../da/ddb/heap_8h_source.html#l00248">ast_heap_unlock</a>, <a class="el" href="../../da/ddb/heap_8h_source.html#l00246">ast_heap_wrlock</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00238">ast_samp2tv()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02283">ast_tvadd()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03225">bridge_hook_generic()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00205">ast_bridge_hook::destructor</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00249">ast_bridge_hook_timer_parms::flags</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00255">ast_bridge_hook_timer::generic</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00245">ast_bridge_hook_timer_parms::interval</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00269">ast_bridge_features::interval_hooks</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00273">ast_bridge_features::interval_sequence</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00247">ast_bridge_hook_timer_parms::seqno</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00257">ast_bridge_hook_timer::timer</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00241">ast_bridge_hook_timer_parms::trip_time</a>, and <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00211">ast_bridge_hook::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01889">agent_request_exec()</a>, <a class="el" href="../../dc/d22/app__bridgewait_8c_source.html#l00212">apply_option_timeout()</a>, <a class="el" href="../../de/da4/test__channel__feature__hooks_8c_source.html#l00253">AST_TEST_DEFINE()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01196">bridge_agent_hold_push()</a>, <a class="el" href="../../d2/df4/bridge__builtin__interval__features_8c_source.html#l00148">bridge_builtin_set_limits()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02544">confbridge_exec()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00705">parking_set_duration()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01254">set_interval_hook()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l03650">wrap_hook()</a>.</p>
<div class="fragment"><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;{</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/df3/structast__bridge__hook__timer.html">ast_bridge_hook_timer</a> *hook;</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;   <span class="keywordflow">if</span> (!features ||!interval || !callback) {</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;   }</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;   <span class="comment">/* Allocate new hook and setup it&#39;s various variables */</span></div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;   hook = (<span class="keyword">struct </span><a class="code" href="../../dd/df3/structast__bridge__hook__timer.html">ast_bridge_hook_timer</a> *) <a class="code" href="../../d0/d95/bridge_8c.html#a6a9673fffe77cabb9e79c12852baae2f">bridge_hook_generic</a>(<span class="keyword">sizeof</span>(*hook), callback,</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;      hook_pvt, destructor, remove_flags);</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;   <span class="keywordflow">if</span> (!hook) {</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;   }</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;   hook-&gt;<a class="code" href="../../dd/df3/structast__bridge__hook__timer.html#a071aadb15e85b96f455641d6adbfdb71">generic</a>.<a class="code" href="../../da/d3b/structast__bridge__hook.html#a9b8d1356a63d1d2c5892a83ea93af921">type</a> = <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3af46f831c14459a9ca7338c3028ca84fb">AST_BRIDGE_HOOK_TYPE_TIMER</a>;</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;   hook-&gt;<a class="code" href="../../dd/df3/structast__bridge__hook__timer.html#a27144173d29f9be2ef3642b7c2c29191">timer</a>.<a class="code" href="../../d1/dad/structast__bridge__hook__timer__parms.html#a23545cd41cdc93998f5b3caeb3e29936">interval</a> = interval;</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;   hook-&gt;<a class="code" href="../../dd/df3/structast__bridge__hook__timer.html#a27144173d29f9be2ef3642b7c2c29191">timer</a>.<a class="code" href="../../d1/dad/structast__bridge__hook__timer__parms.html#a3546d0f5f096b6f63f437c3d24b51d47">trip_time</a> = <a class="code" href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a>(<a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>(), <a class="code" href="../../de/df7/time_8h.html#a1d774df72e3dbb623475783e06ce4f61">ast_samp2tv</a>(interval, 1000));</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;   hook-&gt;<a class="code" href="../../dd/df3/structast__bridge__hook__timer.html#a27144173d29f9be2ef3642b7c2c29191">timer</a>.<a class="code" href="../../d1/dad/structast__bridge__hook__timer__parms.html#aac99560397aa1e3e12367419ed305d11">seqno</a> = <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>((<span class="keywordtype">int</span> *) &amp;features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a735823cab1fbe5881c54cd1493d27e80">interval_sequence</a>, +1);</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;   hook-&gt;<a class="code" href="../../dd/df3/structast__bridge__hook__timer.html#a27144173d29f9be2ef3642b7c2c29191">timer</a>.<a class="code" href="../../d1/dad/structast__bridge__hook__timer__parms.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> = flags;</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Putting interval hook %p with interval %u in the heap on features %p\n&quot;</span>,</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;      hook, hook-&gt;<a class="code" href="../../dd/df3/structast__bridge__hook__timer.html#a27144173d29f9be2ef3642b7c2c29191">timer</a>.<a class="code" href="../../d1/dad/structast__bridge__hook__timer__parms.html#a23545cd41cdc93998f5b3caeb3e29936">interval</a>, features);</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;   <a class="code" href="../../da/ddb/heap_8h.html#ae31f8aaa8d4c6caf049e3965ec8b576a">ast_heap_wrlock</a>(features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a>);</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;   res = <a class="code" href="../../da/ddb/heap_8h.html#ad181f4df20e6039b37e1b8d128884a81">ast_heap_push</a>(features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a>, hook);</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;   <a class="code" href="../../da/ddb/heap_8h.html#a44306afd9b32c0eedae9b559f13a2c5b">ast_heap_unlock</a>(features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a>);</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;<span class="comment">       * Could not push the hook into the heap</span></div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;<span class="comment">       * Remove the hook_pvt destructor call from the hook since we</span></div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;<span class="comment">       * are returning failure to install the hook.</span></div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;      hook-&gt;<a class="code" href="../../dd/df3/structast__bridge__hook__timer.html#a071aadb15e85b96f455641d6adbfdb71">generic</a>.<a class="code" href="../../da/d3b/structast__bridge__hook.html#a7ff1fef2556947ee55ff0d194cb0d552">destructor</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(hook, -1);</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;   }</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;   <span class="keywordflow">return</span> res ? -1 : 0;</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;}</div><div class="ttc" id="structast__bridge__hook__timer__parms_html_aac99560397aa1e3e12367419ed305d11"><div class="ttname"><a href="../../d1/dad/structast__bridge__hook__timer__parms.html#aac99560397aa1e3e12367419ed305d11">ast_bridge_hook_timer_parms::seqno</a></div><div class="ttdeci">unsigned int seqno</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00247">bridge_features.h:247</a></div></div>
<div class="ttc" id="structast__bridge__hook__timer__parms_html_a23545cd41cdc93998f5b3caeb3e29936"><div class="ttname"><a href="../../d1/dad/structast__bridge__hook__timer__parms.html#a23545cd41cdc93998f5b3caeb3e29936">ast_bridge_hook_timer_parms::interval</a></div><div class="ttdeci">unsigned int interval</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00245">bridge_features.h:245</a></div></div>
<div class="ttc" id="structast__bridge__hook__timer_html"><div class="ttname"><a href="../../dd/df3/structast__bridge__hook__timer.html">ast_bridge_hook_timer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00253">bridge_features.h:253</a></div></div>
<div class="ttc" id="structast__bridge__hook__timer__parms_html_a3546d0f5f096b6f63f437c3d24b51d47"><div class="ttname"><a href="../../d1/dad/structast__bridge__hook__timer__parms.html#a3546d0f5f096b6f63f437c3d24b51d47">ast_bridge_hook_timer_parms::trip_time</a></div><div class="ttdeci">struct timeval trip_time</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00241">bridge_features.h:241</a></div></div>
<div class="ttc" id="bridge_8c_html_a6a9673fffe77cabb9e79c12852baae2f"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a6a9673fffe77cabb9e79c12852baae2f">bridge_hook_generic</a></div><div class="ttdeci">static struct ast_bridge_hook * bridge_hook_generic(size_t size, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03225">bridge.c:3225</a></div></div>
<div class="ttc" id="structast__bridge__hook__timer__parms_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../d1/dad/structast__bridge__hook__timer__parms.html#ac92588540e8c1d014a08cd8a45462b19">ast_bridge_hook_timer_parms::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00249">bridge_features.h:249</a></div></div>
<div class="ttc" id="heap_8h_html_a44306afd9b32c0eedae9b559f13a2c5b"><div class="ttname"><a href="../../da/ddb/heap_8h.html#a44306afd9b32c0eedae9b559f13a2c5b">ast_heap_unlock</a></div><div class="ttdeci">#define ast_heap_unlock(h)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l00248">heap.h:248</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3af46f831c14459a9ca7338c3028ca84fb"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3af46f831c14459a9ca7338c3028ca84fb">AST_BRIDGE_HOOK_TYPE_TIMER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00192">bridge_features.h:192</a></div></div>
<div class="ttc" id="structast__bridge__hook__timer_html_a071aadb15e85b96f455641d6adbfdb71"><div class="ttname"><a href="../../dd/df3/structast__bridge__hook__timer.html#a071aadb15e85b96f455641d6adbfdb71">ast_bridge_hook_timer::generic</a></div><div class="ttdeci">struct ast_bridge_hook generic</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00255">bridge_features.h:255</a></div></div>
<div class="ttc" id="structast__bridge__hook_html_a7ff1fef2556947ee55ff0d194cb0d552"><div class="ttname"><a href="../../da/d3b/structast__bridge__hook.html#a7ff1fef2556947ee55ff0d194cb0d552">ast_bridge_hook::destructor</a></div><div class="ttdeci">ast_bridge_hook_pvt_destructor destructor</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00205">bridge_features.h:205</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="heap_8h_html_ad181f4df20e6039b37e1b8d128884a81"><div class="ttname"><a href="../../da/ddb/heap_8h.html#ad181f4df20e6039b37e1b8d128884a81">ast_heap_push</a></div><div class="ttdeci">#define ast_heap_push(h, elm)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l00126">heap.h:126</a></div></div>
<div class="ttc" id="structast__bridge__hook_html_a9b8d1356a63d1d2c5892a83ea93af921"><div class="ttname"><a href="../../da/d3b/structast__bridge__hook.html#a9b8d1356a63d1d2c5892a83ea93af921">ast_bridge_hook::type</a></div><div class="ttdeci">enum ast_bridge_hook_type type</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00211">bridge_features.h:211</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="time_8h_html_a1d774df72e3dbb623475783e06ce4f61"><div class="ttname"><a href="../../de/df7/time_8h.html#a1d774df72e3dbb623475783e06ce4f61">ast_samp2tv</a></div><div class="ttdeci">struct timeval ast_samp2tv(unsigned int _nsamp, unsigned int _rate)</div><div class="ttdoc">Returns a timeval corresponding to the duration of n samples at rate r. Useful to convert samples to ...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00238">time.h:238</a></div></div>
<div class="ttc" id="structast__bridge__features_html_acf866276f9e32cb984c935b02d749e6f"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">ast_bridge_features::interval_hooks</a></div><div class="ttdeci">struct ast_heap * interval_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00269">bridge_features.h:269</a></div></div>
<div class="ttc" id="time_8h_html_a97e1bb8fbd7a103212789e87e7ed6073"><div class="ttname"><a href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a></div><div class="ttdeci">struct timeval ast_tvadd(struct timeval a, struct timeval b)</div><div class="ttdoc">Returns the sum of two timevals a + b. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02283">extconf.c:2283</a></div></div>
<div class="ttc" id="structast__bridge__hook__timer_html_a27144173d29f9be2ef3642b7c2c29191"><div class="ttname"><a href="../../dd/df3/structast__bridge__hook__timer.html#a27144173d29f9be2ef3642b7c2c29191">ast_bridge_hook_timer::timer</a></div><div class="ttdeci">struct ast_bridge_hook_timer_parms timer</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00257">bridge_features.h:257</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a735823cab1fbe5881c54cd1493d27e80"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a735823cab1fbe5881c54cd1493d27e80">ast_bridge_features::interval_sequence</a></div><div class="ttdeci">unsigned int interval_sequence</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00273">bridge_features.h:273</a></div></div>
<div class="ttc" id="heap_8h_html_ae31f8aaa8d4c6caf049e3965ec8b576a"><div class="ttname"><a href="../../da/ddb/heap_8h.html#ae31f8aaa8d4c6caf049e3965ec8b576a">ast_heap_wrlock</a></div><div class="ttdeci">#define ast_heap_wrlock(h)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l00246">heap.h:246</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aad34a20efdcfd5b19f83b5add802d9f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad34a20efdcfd5b19f83b5add802d9f2">&#9670;&nbsp;</a></span>ast_bridge_interval_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_interval_register </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960d">ast_bridge_builtin_interval</a>&#160;</td>
          <td class="paramname"><em>interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#acf985c9cba5e118bd24fdf980b59f955">ast_bridge_builtin_set_limits_fn</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a handler for a built in interval feature. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interval</td><td>The interval feature that the handler will be responsible for </td></tr>
    <tr><td class="paramname">callback</td><td>the Callback function that will handle it</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#aad34a20efdcfd5b19f83b5add802d9f2">ast_bridge_interval_register</a>(<a class="code" href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960da38c5af32fcc0a209b338cf6d59650351">AST_BRIDGE_BUILTIN_INTERVAL_LIMITS</a>, <a class="code" href="../../d2/df4/bridge__builtin__interval__features_8c.html#a22430bb4c9c88648e95ce78bc51095c5">bridge_builtin_set_limits</a>);</div></div><!-- fragment --><p>This registers the function bridge_builtin_set_limits as the function responsible for the built in duration limit feature. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03168">3168</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l00150">builtin_interval_handlers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df4/bridge__builtin__interval__features_8c_source.html#l00209">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;{</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d0/d95/bridge_8c.html#a76ac53f956ad8bd4f1d95868dbc6b33e">builtin_interval_handlers</a>) &lt;= interval</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;      || <a class="code" href="../../d0/d95/bridge_8c.html#a76ac53f956ad8bd4f1d95868dbc6b33e">builtin_interval_handlers</a>[interval]) {</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;   }</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a76ac53f956ad8bd4f1d95868dbc6b33e">builtin_interval_handlers</a>[interval] = callback;</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="bridge_8c_html_a76ac53f956ad8bd4f1d95868dbc6b33e"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a76ac53f956ad8bd4f1d95868dbc6b33e">builtin_interval_handlers</a></div><div class="ttdeci">static ast_bridge_builtin_set_limits_fn builtin_interval_handlers[AST_BRIDGE_BUILTIN_INTERVAL_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00150">bridge.c:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ef8af740b139874195a394ba4abee3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ef8af740b139874195a394ba4abee3d">&#9670;&nbsp;</a></span>ast_bridge_join_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_join_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a>&#160;</td>
          <td class="paramname"><em>destructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a>&#160;</td>
          <td class="paramname"><em>remove_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregisters a handler for a built in interval feature. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interval</td><td>the interval feature to unregister</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line">   <a class="code" href="../../d0/d95/bridge_8c.html#aca0bafd961ecfd1784bbef8ce50b8b1b">ast_bridge_interval_unregister</a>(AST_BRIDGE_BULTIN_INTERVAL_LIMITS)</div><div class="line">   /endcode</div><div class="line">  </div><div class="line">   This unregisters the <span class="keyword">function</span> that is handling the built <a class="code" href="../../d6/d47/utils_2frame_8c.html#aca392a8d3941cd0740aef3ad92545d67">in</a> duration limit feature.</div><div class="line">  /</div><div class="line"><span class="keywordtype">int</span> <a class="code" href="../../d0/d95/bridge_8c.html#aca0bafd961ecfd1784bbef8ce50b8b1b">ast_bridge_interval_unregister</a>(<span class="keyword">enum</span> <a class="code" href="../../dc/d7a/bridge__features_8h.html#afcb20166cd7e9581af29556b411b960d">ast_bridge_builtin_interval</a> interval);</div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">/*!</span></div><div class="line"><span class="comment"> * \brief Attach a bridge channel join hook to a bridge features structure</span></div><div class="line"><span class="comment">  </span></div><div class="line"><span class="comment"> * \param features Bridge features structure</span></div><div class="line"><span class="comment"> * \param callback Function to execute upon activation</span></div><div class="line"><span class="comment"> * \param hook_pvt Unique data</span></div><div class="line"><span class="comment"> * \param destructor Optional destructor callback for hook_pvt data</span></div><div class="line"><span class="comment"> * \param remove_flags Dictates what situations the hook should be removed.</span></div><div class="line"><span class="comment">  </span></div><div class="line"><span class="comment"> * \retval 0 on success</span></div><div class="line"><span class="comment"> * \retval -1 on failure (The caller must cleanup any hook_pvt resources.)</span></div><div class="line"><span class="comment">  </span></div><div class="line"><span class="comment"> * Example usage:</span></div><div class="line"><span class="comment">  </span></div><div class="line"><span class="comment"> * \code</span></div><div class="line"><span class="comment"> * struct ast_bridge_features features;</span></div><div class="line"><span class="comment"> * ast_bridge_features_init(&amp;features);</span></div><div class="line"><span class="comment"> * ast_bridge_join_hook(&amp;features, join_callback, NULL, NULL, 0);</span></div><div class="line"><span class="comment"> * </span></div></div><!-- fragment --><p>This makes the bridging core call join_callback when a channel successfully joins the bridging system. A pointer to useful data may be provided to the hook_pvt parameter. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03338">3338</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00194">AST_BRIDGE_HOOK_TYPE_JOIN</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l03294">bridge_other_hook()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01889">agent_request_exec()</a>, and <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02544">confbridge_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;{</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d95/bridge_8c.html#a3a5abc6bcc708c0455a3f0d3ad134378">bridge_other_hook</a>(features, callback, hook_pvt, destructor, remove_flags,</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3a560e70ed0a87b3e30f0e332cfebec8ee">AST_BRIDGE_HOOK_TYPE_JOIN</a>);</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;}</div><div class="ttc" id="bridge_8c_html_a3a5abc6bcc708c0455a3f0d3ad134378"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a3a5abc6bcc708c0455a3f0d3ad134378">bridge_other_hook</a></div><div class="ttdeci">static int bridge_other_hook(struct ast_bridge_features *features, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags, enum ast_bridge_hook_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03294">bridge.c:3294</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3a560e70ed0a87b3e30f0e332cfebec8ee"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3a560e70ed0a87b3e30f0e332cfebec8ee">AST_BRIDGE_HOOK_TYPE_JOIN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00194">bridge_features.h:194</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaaf5765651d9a3697813f9752660da57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaf5765651d9a3697813f9752660da57">&#9670;&nbsp;</a></span>ast_bridge_leave_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_leave_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a>&#160;</td>
          <td class="paramname"><em>destructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a>&#160;</td>
          <td class="paramname"><em>remove_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach a bridge channel leave hook to a bridge features structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge features structure </td></tr>
    <tr><td class="paramname">callback</td><td>Function to execute upon activation </td></tr>
    <tr><td class="paramname">hook_pvt</td><td>Unique data </td></tr>
    <tr><td class="paramname">destructor</td><td>Optional destructor callback for hook_pvt data </td></tr>
    <tr><td class="paramname">remove_flags</td><td>Dictates what situations the hook should be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure (The caller must cleanup any hook_pvt resources.)</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> features;</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;features);</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#aaaf5765651d9a3697813f9752660da57">ast_bridge_leave_hook</a>(&amp;features, leave_callback, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div></div><!-- fragment --><p>This makes the bridging core call leave_callback when a channel successfully leaves the bridging system. A pointer to useful data may be provided to the hook_pvt parameter. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03348">3348</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00195">AST_BRIDGE_HOOK_TYPE_LEAVE</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l03294">bridge_other_hook()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02544">confbridge_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;{</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d95/bridge_8c.html#a3a5abc6bcc708c0455a3f0d3ad134378">bridge_other_hook</a>(features, callback, hook_pvt, destructor, remove_flags,</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ac47686eedfc6349818302b402b72461d">AST_BRIDGE_HOOK_TYPE_LEAVE</a>);</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;}</div><div class="ttc" id="bridge_8c_html_a3a5abc6bcc708c0455a3f0d3ad134378"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a3a5abc6bcc708c0455a3f0d3ad134378">bridge_other_hook</a></div><div class="ttdeci">static int bridge_other_hook(struct ast_bridge_features *features, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags, enum ast_bridge_hook_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03294">bridge.c:3294</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3ac47686eedfc6349818302b402b72461d"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ac47686eedfc6349818302b402b72461d">AST_BRIDGE_HOOK_TYPE_LEAVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00195">bridge_features.h:195</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a475f3511ac20e3f247e3ff3bb8060237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a475f3511ac20e3f247e3ff3bb8060237">&#9670;&nbsp;</a></span>ast_bridge_move_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_move_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#a0394614533c00a6ac5483fbb14bae4d5">ast_bridge_move_indicate_callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a>&#160;</td>
          <td class="paramname"><em>destructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a>&#160;</td>
          <td class="paramname"><em>remove_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach a bridge channel move detection hook to a bridge features structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge features structure </td></tr>
    <tr><td class="paramname">callback</td><td>Function to execute upon activation </td></tr>
    <tr><td class="paramname">hook_pvt</td><td>Unique data </td></tr>
    <tr><td class="paramname">destructor</td><td>Optional destructor callback for hook_pvt data </td></tr>
    <tr><td class="paramname">remove_flags</td><td>Dictates what situations the hook should be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure (The caller must cleanup any hook_pvt resources.)</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> features;</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;features);</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a475f3511ac20e3f247e3ff3bb8060237">ast_bridge_move_hook</a>(&amp;features, move_callback, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div></div><!-- fragment --><p>This makes the bridging core call callback when a channel is moved from one bridge to another. A pointer to useful data may be provided to the hook_pvt parameter. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03370">3370</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00197">AST_BRIDGE_HOOK_TYPE_MOVE</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03294">bridge_other_hook()</a>, and <a class="el" href="../../d8/d4f/test__config_8c_source.html#l00875">hook_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00284">bridge_stasis_pull()</a>.</p>
<div class="fragment"><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;{</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a> <a class="code" href="../../d8/d4f/test__config_8c.html#a8fe0bda13f4abb5bd412745f0f9891da">hook_cb</a> = (<a class="code" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a>) callback;</div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d95/bridge_8c.html#a3a5abc6bcc708c0455a3f0d3ad134378">bridge_other_hook</a>(features, hook_cb, hook_pvt, destructor, remove_flags,</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ab1e55b40373b3dda769e106081d9dbf1">AST_BRIDGE_HOOK_TYPE_MOVE</a>);</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;}</div><div class="ttc" id="bridge__features_8h_html_aeb8be7f6bc57379c2028c1420015abc1"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a></div><div class="ttdeci">int(* ast_bridge_hook_callback)(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">Hook callback type. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00136">bridge_features.h:136</a></div></div>
<div class="ttc" id="bridge_8c_html_a3a5abc6bcc708c0455a3f0d3ad134378"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a3a5abc6bcc708c0455a3f0d3ad134378">bridge_other_hook</a></div><div class="ttdeci">static int bridge_other_hook(struct ast_bridge_features *features, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags, enum ast_bridge_hook_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03294">bridge.c:3294</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3ab1e55b40373b3dda769e106081d9dbf1"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ab1e55b40373b3dda769e106081d9dbf1">AST_BRIDGE_HOOK_TYPE_MOVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00197">bridge_features.h:197</a></div></div>
<div class="ttc" id="test__config_8c_html_a8fe0bda13f4abb5bd412745f0f9891da"><div class="ttname"><a href="../../d8/d4f/test__config_8c.html#a8fe0bda13f4abb5bd412745f0f9891da">hook_cb</a></div><div class="ttdeci">static int hook_cb(struct ast_config *cfg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4f/test__config_8c_source.html#l00875">test_config.c:875</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a47aa4de3736ec9da5831351848e6522d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47aa4de3736ec9da5831351848e6522d">&#9670;&nbsp;</a></span>ast_bridge_talk_detector_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_talk_detector_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#ad5b20a96dee3042c8cb23d45f7a93f79">ast_bridge_talking_indicate_callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d7a/bridge__features_8h.html#af04bebd5565286e746a028e7705ca073">ast_bridge_hook_pvt_destructor</a>&#160;</td>
          <td class="paramname"><em>destructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a>&#160;</td>
          <td class="paramname"><em>remove_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach a bridge channel talk detection hook to a bridge features structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge features structure </td></tr>
    <tr><td class="paramname">callback</td><td>Function to execute upon activation </td></tr>
    <tr><td class="paramname">hook_pvt</td><td>Unique data </td></tr>
    <tr><td class="paramname">destructor</td><td>Optional destructor callback for hook_pvt data </td></tr>
    <tr><td class="paramname">remove_flags</td><td>Dictates what situations the hook should be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure (The caller must cleanup any hook_pvt resources.)</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> features;</div><div class="line"><a class="code" href="../../dc/d7a/bridge__features_8h.html#a3128b52009fb3dd764dce90ea377fce1">ast_bridge_features_init</a>(&amp;features);</div><div class="line">ast_bridge_talk_hook(&amp;features, talk_callback, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div></div><!-- fragment --><p>This makes the bridging technology call talk_callback when a channel is recognized as starting and stopping talking. A pointer to useful data may be provided to the hook_pvt parameter.</p>
<dl class="section note"><dt>Note</dt><dd>This hook is currently only supported by softmix. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03358">3358</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00196">AST_BRIDGE_HOOK_TYPE_TALK</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03294">bridge_other_hook()</a>, and <a class="el" href="../../d8/d4f/test__config_8c_source.html#l00875">hook_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02544">confbridge_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;{</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a> <a class="code" href="../../d8/d4f/test__config_8c.html#a8fe0bda13f4abb5bd412745f0f9891da">hook_cb</a> = (<a class="code" href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a>) callback;</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d95/bridge_8c.html#a3a5abc6bcc708c0455a3f0d3ad134378">bridge_other_hook</a>(features, hook_cb, hook_pvt, destructor, remove_flags,</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ad2f7e2bea8dd898409ef3166cb60543f">AST_BRIDGE_HOOK_TYPE_TALK</a>);</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;}</div><div class="ttc" id="bridge__features_8h_html_a122c52bc5dec74974f3d4cf3870e7da3ad2f7e2bea8dd898409ef3166cb60543f"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a122c52bc5dec74974f3d4cf3870e7da3ad2f7e2bea8dd898409ef3166cb60543f">AST_BRIDGE_HOOK_TYPE_TALK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00196">bridge_features.h:196</a></div></div>
<div class="ttc" id="bridge__features_8h_html_aeb8be7f6bc57379c2028c1420015abc1"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#aeb8be7f6bc57379c2028c1420015abc1">ast_bridge_hook_callback</a></div><div class="ttdeci">int(* ast_bridge_hook_callback)(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">Hook callback type. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00136">bridge_features.h:136</a></div></div>
<div class="ttc" id="bridge_8c_html_a3a5abc6bcc708c0455a3f0d3ad134378"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a3a5abc6bcc708c0455a3f0d3ad134378">bridge_other_hook</a></div><div class="ttdeci">static int bridge_other_hook(struct ast_bridge_features *features, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags, enum ast_bridge_hook_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03294">bridge.c:3294</a></div></div>
<div class="ttc" id="test__config_8c_html_a8fe0bda13f4abb5bd412745f0f9891da"><div class="ttname"><a href="../../d8/d4f/test__config_8c.html#a8fe0bda13f4abb5bd412745f0f9891da">hook_cb</a></div><div class="ttdeci">static int hook_cb(struct ast_config *cfg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4f/test__config_8c_source.html#l00875">test_config.c:875</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:53 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
