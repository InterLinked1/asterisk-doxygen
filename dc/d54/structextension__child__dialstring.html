<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: extension_child_dialstring Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">extension_child_dialstring Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Data regarding an extension monitor's child's dialstrings.  
 <a href="../../dc/d54/structextension__child__dialstring.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for extension_child_dialstring:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/de2/structextension__child__dialstring__coll__graph.png" border="0" usemap="#extension__child__dialstring_coll__map" alt="Collaboration graph"/></div>
<map name="extension__child__dialstring_coll__map" id="extension__child__dialstring_coll__map">
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a2ea75e3f4fd722a2b68bd2bac608a2d3"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d54/structextension__child__dialstring.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a> [<a class="el" href="../../d7/d5b/options_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>]</td></tr>
<tr class="memdesc:a2ea75e3f4fd722a2b68bd2bac608a2d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the device being dialed.  <a href="#a2ea75e3f4fd722a2b68bd2bac608a2d3">More...</a><br /></td></tr>
<tr class="separator:a2ea75e3f4fd722a2b68bd2bac608a2d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba613497814aa75f4d53254ddeaadf6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d54/structextension__child__dialstring.html#a3ba613497814aa75f4d53254ddeaadf6">is_valid</a></td></tr>
<tr class="memdesc:a3ba613497814aa75f4d53254ddeaadf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this structure valid for use in CC_INTERFACES?  <a href="#a3ba613497814aa75f4d53254ddeaadf6">More...</a><br /></td></tr>
<tr class="separator:a3ba613497814aa75f4d53254ddeaadf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac237380726e5468f4dfe1570ee71f177"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:a59b48dd3a95085c4aab7169d43114a8a"><td class="memItemLeft" >&#160;&#160;&#160;struct <a class="el" href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a> *&#160;&#160;&#160;<a class="el" href="../../dc/d54/structextension__child__dialstring.html#a59b48dd3a95085c4aab7169d43114a8a">next</a></td></tr>
<tr class="separator:a59b48dd3a95085c4aab7169d43114a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac237380726e5468f4dfe1570ee71f177"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d54/structextension__child__dialstring.html#ac237380726e5468f4dfe1570ee71f177">next</a></td></tr>
<tr class="separator:ac237380726e5468f4dfe1570ee71f177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d7d247d85e9972849591e1e3866a37"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d54/structextension__child__dialstring.html#a74d7d247d85e9972849591e1e3866a37">original_dialstring</a> [<a class="el" href="../../d7/d5b/options_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>]</td></tr>
<tr class="memdesc:a74d7d247d85e9972849591e1e3866a37"><td class="mdescLeft">&#160;</td><td class="mdescRight">the original dialstring used to call a particular device  <a href="#a74d7d247d85e9972849591e1e3866a37">More...</a><br /></td></tr>
<tr class="separator:a74d7d247d85e9972849591e1e3866a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Data regarding an extension monitor's child's dialstrings. </p>
<p>In developing CCSS, we had most aspects of its operation finished, but there was one looming problem that we had failed to get right. In our design document, we stated that when a CC recall occurs, all endpoints that had been dialed originally would be called back. Unfortunately, our implementation only allowed for devices which had active monitors to inhabit the CC_INTERFACES channel variable, thus making the automated recall only call monitored devices.</p>
<p>Devices that were not CC-capable, or devices which failed CC at some point during the process would not make it into the CC_INTERFACES channel variable. This struct is meant as a remedy for the problem. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01760">1760</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a2ea75e3f4fd722a2b68bd2bac608a2d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ea75e3f4fd722a2b68bd2bac608a2d3">&#9670;&nbsp;</a></span>device_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char device_name[<a class="el" href="../../d7/d5b/options_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The name of the device being dialed. </p>
<p>This serves mainly as a key when searching for a particular dialstring. For instance, let's say that we have called device SIP/400@somepeer. This device offers call completion, but then due to some unforeseen circumstance, this device backs out and makes CC unavailable. When that happens, we need to find the dialstring that corresponds to that device, and we use the stored device name as a way to find it.</p>
<dl class="section note"><dt>Note</dt><dd>There is one particular case where the device name stored here will be empty. This is the case where we fail to request a channel, but we still can make use of generic call completion. In such a case, since we never were able to request the channel, we can't find what its device name is. In this case, however, it is not important because the dialstring is guaranteed to be the same both here and in the device monitor. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01795">1795</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02005">ast_cc_extension_monitor_add_dialstring()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02050">cc_extension_monitor_change_is_valid()</a>.</p>

</div>
</div>
<a id="a3ba613497814aa75f4d53254ddeaadf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ba613497814aa75f4d53254ddeaadf6">&#9670;&nbsp;</a></span>is_valid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int is_valid</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is this structure valid for use in CC_INTERFACES? </p>
<p>When this structure is first created, all information stored here is planned to be used, so we set the is_valid flag. However, if a device offers call completion, it will potentially have its own dialstring to use for the recall, so we find this structure and clear the is_valid flag. By clearing the is_valid flag, we won't try to populate the CC_INTERFACES variable with the dialstring stored in this struct. Now, if later, the device which had offered CC should fail, perhaps due to a timer expiration, then we need to re-set the is_valid flag. This way, we still will end up placing a call to the device again, and the dialstring used will be the same as was originally used. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01810">1810</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02005">ast_cc_extension_monitor_add_dialstring()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03588">build_cc_interfaces_chanvar()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02050">cc_extension_monitor_change_is_valid()</a>.</p>

</div>
</div>
<a id="a59b48dd3a95085c4aab7169d43114a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59b48dd3a95085c4aab7169d43114a8a">&#9670;&nbsp;</a></span>next <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a>* next</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01811">1811</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02050">cc_extension_monitor_change_is_valid()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01821">cc_extension_monitor_destructor()</a>.</p>

</div>
</div>
<a id="ac237380726e5468f4dfe1570ee71f177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac237380726e5468f4dfe1570ee71f177">&#9670;&nbsp;</a></span>next <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   next</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a74d7d247d85e9972849591e1e3866a37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74d7d247d85e9972849591e1e3866a37">&#9670;&nbsp;</a></span>original_dialstring</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char original_dialstring[<a class="el" href="../../d7/d5b/options_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the original dialstring used to call a particular device </p>
<p>When someone dials a particular endpoint, the dialstring used in the dialplan is copied into this buffer. What's important here is that this is the ORIGINAL dialstring, not the dialstring saved on a device monitor. The dialstring on a device monitor is what should be used when recalling that device. The two dialstrings may not be the same.</p>
<p>By keeping a copy of the original dialstring used, we can fall back to using it if the device either does not ever offer CC or if the device at some point fails for some reason, such as a timer expiration. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01776">1776</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02005">ast_cc_extension_monitor_add_dialstring()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03588">build_cc_interfaces_chanvar()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:47:26 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
